(self.webpackChunkliteflow_editor_client=self.webpackChunkliteflow_editor_client||[]).push([[632],{92138:function(Ne,te,w){"use strict";w.d(te,{R_:function(){return Ae}});var B=w(86500),M=w(1350),j=2,R=.16,k=.05,F=.05,H=.15,I=5,ee=4,ae=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function ue(hr){var Mt=hr.r,yt=hr.g,Et=hr.b,$e=(0,B.py)(Mt,yt,Et);return{h:$e.h*360,s:$e.s,v:$e.v}}function re(hr){var Mt=hr.r,yt=hr.g,Et=hr.b;return"#".concat((0,B.vq)(Mt,yt,Et,!1))}function ge(hr,Mt,yt){var Et=yt/100,$e={r:(Mt.r-hr.r)*Et+hr.r,g:(Mt.g-hr.g)*Et+hr.g,b:(Mt.b-hr.b)*Et+hr.b};return $e}function Ze(hr,Mt,yt){var Et;return Math.round(hr.h)>=60&&Math.round(hr.h)<=240?Et=yt?Math.round(hr.h)-j*Mt:Math.round(hr.h)+j*Mt:Et=yt?Math.round(hr.h)+j*Mt:Math.round(hr.h)-j*Mt,Et<0?Et+=360:Et>=360&&(Et-=360),Et}function fe(hr,Mt,yt){if(hr.h===0&&hr.s===0)return hr.s;var Et;return yt?Et=hr.s-R*Mt:Mt===ee?Et=hr.s+R:Et=hr.s+k*Mt,Et>1&&(Et=1),yt&&Mt===I&&Et>.1&&(Et=.1),Et<.06&&(Et=.06),Number(Et.toFixed(2))}function Ce(hr,Mt,yt){var Et;return yt?Et=hr.v+F*Mt:Et=hr.v-H*Mt,Et>1&&(Et=1),Number(Et.toFixed(2))}function Ae(hr){for(var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},yt=[],Et=(0,M.uA)(hr),$e=I;$e>0;$e-=1){var $t=ue(Et),Jt=re((0,M.uA)({h:Ze($t,$e,!0),s:fe($t,$e,!0),v:Ce($t,$e,!0)}));yt.push(Jt)}yt.push(re(Et));for(var tn=1;tn<=ee;tn+=1){var ir=ue(Et),Or=re((0,M.uA)({h:Ze(ir,tn),s:fe(ir,tn),v:Ce(ir,tn)}));yt.push(Or)}return Mt.theme==="dark"?ae.map(function(Fr){var lr=Fr.index,Yr=Fr.opacity,jn=re(ge((0,M.uA)(Mt.backgroundColor||"#141414"),(0,M.uA)(yt[lr]),Yr*100));return jn}):yt}var Pe={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},ie={},at={};Object.keys(Pe).forEach(function(hr){ie[hr]=Ae(Pe[hr]),ie[hr].primary=ie[hr][5],at[hr]=Ae(Pe[hr],{theme:"dark",backgroundColor:"#141414"}),at[hr].primary=at[hr][5]});var mt=ie.red,vt=ie.volcano,Vt=ie.gold,U=ie.orange,tt=ie.yellow,ut=ie.lime,vn=ie.green,ft=ie.cyan,Ye=ie.blue,Cn=ie.geekblue,cn=ie.purple,mr=ie.magenta,pr=ie.grey},42135:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return hr}});var B=w(1413),M=w(97685),j=w(4942),R=w(45987),k=w(67294),F=w(93967),H=w.n(F),I=w(63017),ee=w(71002),ae=w(92138),ue=w(80334),re=w(44958),ge=w(68929),Ze=w.n(ge);function fe(Mt,yt){(0,ue.ZP)(Mt,"[@ant-design/icons] ".concat(yt))}function Ce(Mt){return(0,ee.Z)(Mt)==="object"&&typeof Mt.name=="string"&&typeof Mt.theme=="string"&&((0,ee.Z)(Mt.icon)==="object"||typeof Mt.icon=="function")}function Ae(){var Mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(Mt).reduce(function(yt,Et){var $e=Mt[Et];switch(Et){case"class":yt.className=$e,delete yt.class;break;default:delete yt[Et],yt[Ze()(Et)]=$e}return yt},{})}function Pe(Mt,yt,Et){return Et?k.createElement(Mt.tag,(0,B.Z)((0,B.Z)({key:yt},Ae(Mt.attrs)),Et),(Mt.children||[]).map(function($e,$t){return Pe($e,"".concat(yt,"-").concat(Mt.tag,"-").concat($t))})):k.createElement(Mt.tag,(0,B.Z)({key:yt},Ae(Mt.attrs)),(Mt.children||[]).map(function($e,$t){return Pe($e,"".concat(yt,"-").concat(Mt.tag,"-").concat($t))}))}function ie(Mt){return(0,ae.R_)(Mt)[0]}function at(Mt){return Mt?Array.isArray(Mt)?Mt:[Mt]:[]}var mt={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},vt=`
.anticon {
  display: inline-flex;
  alignItems: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Vt=function(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vt,Et=(0,k.useContext)(I.Z),$e=Et.csp;(0,k.useEffect)(function(){(0,re.hq)(yt,"@ant-design-icons",{prepend:!0,csp:$e})},[])},U=["icon","className","onClick","style","primaryColor","secondaryColor"],tt={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function ut(Mt){var yt=Mt.primaryColor,Et=Mt.secondaryColor;tt.primaryColor=yt,tt.secondaryColor=Et||ie(yt),tt.calculated=!!Et}function vn(){return(0,B.Z)({},tt)}var ft=function(yt){var Et=yt.icon,$e=yt.className,$t=yt.onClick,Jt=yt.style,tn=yt.primaryColor,ir=yt.secondaryColor,Or=(0,R.Z)(yt,U),Fr=tt;if(tn&&(Fr={primaryColor:tn,secondaryColor:ir||ie(tn)}),Vt(),fe(Ce(Et),"icon should be icon definiton, but got ".concat(Et)),!Ce(Et))return null;var lr=Et;return lr&&typeof lr.icon=="function"&&(lr=(0,B.Z)((0,B.Z)({},lr),{},{icon:lr.icon(Fr.primaryColor,Fr.secondaryColor)})),Pe(lr.icon,"svg-".concat(lr.name),(0,B.Z)({className:$e,onClick:$t,style:Jt,"data-icon":lr.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},Or))};ft.displayName="IconReact",ft.getTwoToneColors=vn,ft.setTwoToneColors=ut;var Ye=ft;function Cn(Mt){var yt=at(Mt),Et=(0,M.Z)(yt,2),$e=Et[0],$t=Et[1];return Ye.setTwoToneColors({primaryColor:$e,secondaryColor:$t})}function cn(){var Mt=Ye.getTwoToneColors();return Mt.calculated?[Mt.primaryColor,Mt.secondaryColor]:Mt.primaryColor}var mr=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Cn("#1890ff");var pr=k.forwardRef(function(Mt,yt){var Et=Mt.className,$e=Mt.icon,$t=Mt.spin,Jt=Mt.rotate,tn=Mt.tabIndex,ir=Mt.onClick,Or=Mt.twoToneColor,Fr=(0,R.Z)(Mt,mr),lr=k.useContext(I.Z),Yr=lr.prefixCls,jn=Yr===void 0?"anticon":Yr,dr=lr.rootClassName,br=H()(dr,jn,(0,j.Z)((0,j.Z)({},"".concat(jn,"-").concat($e.name),!!$e.name),"".concat(jn,"-spin"),!!$t||$e.name==="loading"),Et),nr=tn;nr===void 0&&ir&&(nr=-1);var Lr=Jt?{msTransform:"rotate(".concat(Jt,"deg)"),transform:"rotate(".concat(Jt,"deg)")}:void 0,Ji=at(Or),Ci=(0,M.Z)(Ji,2),$i=Ci[0],It=Ci[1];return k.createElement("span",(0,B.Z)((0,B.Z)({role:"img","aria-label":$e.name},Fr),{},{ref:yt,tabIndex:nr,onClick:ir,className:br}),k.createElement(Ye,{icon:$e,primaryColor:$i,secondaryColor:It,style:Lr}))});pr.displayName="AntdIcon",pr.getTwoToneColor=cn,pr.setTwoToneColor=Cn;var hr=pr},63017:function(Ne,te,w){"use strict";var B=w(67294),M=(0,B.createContext)({});te.Z=M},89739:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},8751:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},4340:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},18429:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},97937:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},57132:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},48689:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},80882:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},86548:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},89705:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},21640:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},11475:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},99611:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},11713:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},27732:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},29188:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 392c8.8 0 16-7.2 16-16V192c0-8.8-7.2-16-16-16H744c-8.8 0-16 7.2-16 16v56H296v-56c0-8.8-7.2-16-16-16H96c-8.8 0-16 7.2-16 16v184c0 8.8 7.2 16 16 16h56v240H96c-8.8 0-16 7.2-16 16v184c0 8.8 7.2 16 16 16h184c8.8 0 16-7.2 16-16v-56h432v56c0 8.8 7.2 16 16 16h184c8.8 0 16-7.2 16-16V648c0-8.8-7.2-16-16-16h-56V392h56zM792 240h88v88h-88v-88zm-648 88v-88h88v88h-88zm88 456h-88v-88h88v88zm648-88v88h-88v-88h88zm-80-64h-56c-8.8 0-16 7.2-16 16v56H296v-56c0-8.8-7.2-16-16-16h-56V392h56c8.8 0 16-7.2 16-16v-56h432v56c0 8.8 7.2 16 16 16h56v240z"}}]},name:"gateway",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},73403:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},45605:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},48474:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-696 72h136v656H184V184zm656 656H384V384h456v456zM384 320V184h456v136H384z"}}]},name:"layout",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},50888:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},87740:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},90814:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},60219:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},68795:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},56334:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 112H724V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H500V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H320c-17.7 0-32 14.3-32 32v120h-96c-17.7 0-32 14.3-32 32v632c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32v-96h96c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM664 888H232V336h218v174c0 22.1 17.9 40 40 40h174v338zm0-402H514V336h.2L664 485.8v.2zm128 274h-56V456L544 264H360v-80h68v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h152v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h68v576z"}}]},name:"snippets",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},10149:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},35598:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},15668:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return I}});var B=w(1413),M=w(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},R=j,k=w(42135),F=function(ae,ue){return M.createElement(k.Z,(0,B.Z)((0,B.Z)({},ae),{},{ref:ue,icon:R}))},H=M.forwardRef(F),I=H},20499:function(){},64851:function(){},59518:function(){},26199:function(){},14156:function(){},71468:function(){},48871:function(){},9871:function(){},25612:function(){},92777:function(){},20159:function(){},61622:function(){},15989:function(Ne,te,w){"use strict";w.d(te,{Vq:function(){return Sh}});const B=o=>typeof o=="string",M=o=>{const l=Object.create(null);return f=>l[f]||(l[f]=o(f))},j=/-(\w)/g,R=M(o=>o.replace(j,(l,f)=>f?f.toUpperCase():"")),k=Array.isArray,F=o=>typeof o=="number",H=o=>Number.isNaN(Number(o)),I=o=>{const l=parseFloat(o);return H(l)?o:l},ee=o=>o!==null&&typeof o=="object",ae=o=>{if(o===null)return o;if(o instanceof Date)return new Date(o.getTime());if(o instanceof Array){const l=[];return o.forEach(f=>{l.push(f)}),l.map(f=>ae(f))}if(typeof o=="object"&&o!=={}){const l=Object.assign({},o);return Object.keys(l).forEach(f=>{l[f]=ae(l[f])}),l}return o},ue=(o,l)=>{const f=o[l];return ee(f)?f.cell:f},re=(o,l,f)=>{const p=[];for(let v=0;v<o;v++)p[v]=0;return f&&f.forEach(v=>{const x=ue(v,"source"),T=ue(v,"target");x&&(p[l[x]]+=1),T&&(p[l[T]]+=1)}),p},ge=o=>{const l=[],f=o.length;for(let p=0;p<f;p+=1){l[p]=[];for(let v=0;v<f;v+=1)p===v?l[p][v]=0:o[p][v]===0||!o[p][v]?l[p][v]=1/0:l[p][v]=o[p][v]}for(let p=0;p<f;p+=1)for(let v=0;v<f;v+=1)for(let x=0;x<f;x+=1)l[v][x]>l[v][p]+l[p][x]&&(l[v][x]=l[v][p]+l[p][x]);return l},Ze=(o,l)=>{const{nodes:f,edges:p}=o,v=[],x={};if(!f)throw new Error("invalid nodes data!");return f&&f.forEach((T,N)=>{x[T.id]=N;const z=[];v.push(z)}),p&&p.forEach(T=>{const N=ue(T,"source"),z=ue(T,"target"),Z=x[N],X=x[z];v[Z][X]=1,l||(v[X][Z]=1)}),v},fe=(o,l)=>{const f=[];return o.forEach(p=>{const v=[];p.forEach(x=>{v.push(x*l)}),f.push(v)}),f},Ce=(o,l)=>{if(o&&o.children){for(let f=o.children.length-1;f>=0;f--)if(!Ce(o.children[f],l))return}return!!l(o)},Ae=(o,l)=>{typeof l=="function"&&Ce(o,l)},Pe=o=>typeof o=="function",ie=new Map,at=(o,l)=>{if(ie.get(o)&&console.warn(`The layout with the name ${o} exists already, it will be overridden`),isObject(l)){class f extends Base{constructor(v){super();const x=this,T={},N=x.getDefaultCfg();Object.assign(T,N,l,v),Object.keys(T).forEach(z=>{const Z=T[z];x[z]=Z})}}ie.set(o,f)}else ie.set(o,l);return ie.get(o)},mt=o=>{ie.has(o)&&ie.delete(o)},vt=o=>ie.has(o)?ie.get(o):null;class Vt{constructor(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=()=>{}}layout(l){return this.init(l),this.execute(!0)}init(l){this.nodes=l.nodes||[],this.edges=l.edges||[],this.combos=l.combos||[]}execute(l){}executeWithWorker(){}getDefaultCfg(){return{}}updateCfg(l){l&&Object.assign(this,l)}getType(){return"base"}destroy(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}class U extends Vt{constructor(l){super(),this.begin=[0,0],this.preventOverlap=!0,this.preventOverlapPadding=10,this.condense=!1,this.sortBy="degree",this.nodeSize=30,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.row=0,this.col=0,this.cellWidth=0,this.cellHeight=0,this.cellUsed={},this.id2manPos={},this.onLayoutEnd=()=>{},this.updateCfg(l)}getDefaultCfg(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}execute(){const l=this,f=l.nodes,p=l.edges,v=f.length,x=l.begin;if(v===0)return l.onLayoutEnd&&l.onLayoutEnd(),{nodes:f,edges:p};if(v===1)return f[0].x=x[0],f[0].y=x[1],l.onLayoutEnd&&l.onLayoutEnd(),{nodes:f,edges:p};const T=[];f.forEach(X=>{T.push(X)});const N={};if(T.forEach((X,se)=>{N[X.id]=se}),(l.sortBy==="degree"||!B(l.sortBy)||T[0][l.sortBy]===void 0)&&(l.sortBy="degree",H(f[0].degree))){const X=re(T.length,N,p);T.forEach((se,xe)=>{se.degree=X[xe]})}T.sort((X,se)=>se[l.sortBy]-X[l.sortBy]),!l.width&&typeof window!="undefined"&&(l.width=window.innerWidth),!l.height&&typeof window!="undefined"&&(l.height=window.innerHeight);const z=l.rows,Z=l.cols!=null?l.cols:l.columns;if(l.cells=v,z!=null&&Z!=null?(l.rows=z,l.cols=Z):z!=null&&Z==null?(l.rows=z,l.cols=Math.ceil(l.cells/l.rows)):z==null&&Z!=null?(l.cols=Z,l.rows=Math.ceil(l.cells/l.cols)):(l.splits=Math.sqrt(l.cells*l.height/l.width),l.rows=Math.round(l.splits),l.cols=Math.round(l.width/l.height*l.splits)),l.cols*l.rows>l.cells){const X=l.small(),se=l.large();(X-1)*se>=l.cells?l.small(X-1):(se-1)*X>=l.cells&&l.large(se-1)}else for(;l.cols*l.rows<l.cells;){const X=l.small(),se=l.large();(se+1)*X>=l.cells?l.large(se+1):l.small(X+1)}l.cellWidth=l.width/l.cols,l.cellHeight=l.height/l.rows,l.condense&&(l.cellWidth=0,l.cellHeight=0),l.preventOverlap&&T.forEach(X=>{(!X.x||!X.y)&&(X.x=0,X.y=0);let se,xe;k(X.size)?(se=X.size[0],xe=X.size[1]):F(X.size)?(se=X.size,xe=X.size):ee(X.size)&&(se=X.size.width,xe=X.size.height),(se===void 0||xe===void 0)&&(k(l.nodeSize)?(se=l.nodeSize[0],xe=l.nodeSize[1]):F(l.nodeSize)?(se=l.nodeSize,xe=l.nodeSize):(se=30,xe=30));const be=l.preventOverlapPadding,Ie=se+be,De=xe+be;l.cellWidth=Math.max(l.cellWidth,Ie),l.cellHeight=Math.max(l.cellHeight,De)}),l.cellUsed={},l.row=0,l.col=0,l.id2manPos={};for(let X=0;X<T.length;X++){const se=T[X];let xe;if(l.position&&(xe=l.position(se)),xe&&(xe.row!==void 0||xe.col!==void 0)){const be={row:xe.row,col:xe.col};if(be.col===void 0)for(be.col=0;l.used(be.row,be.col);)be.col++;else if(be.row===void 0)for(be.row=0;l.used(be.row,be.col);)be.row++;l.id2manPos[se.id]=be,l.use(be.row,be.col)}l.getPos(se)}return l.onLayoutEnd&&l.onLayoutEnd(),{edges:p,nodes:T}}small(l){const f=this;let p;const v=f.rows||5,x=f.cols||5;return l==null?p=Math.min(v,x):Math.min(v,x)===f.rows?f.rows=l:f.cols=l,p}large(l){const f=this;let p;const v=f.rows||5,x=f.cols||5;return l==null?p=Math.max(v,x):Math.max(v,x)===f.rows?f.rows=l:f.cols=l,p}used(l,f){return this.cellUsed[`c-${l}-${f}`]||!1}use(l,f){const p=this;p.cellUsed[`c-${l}-${f}`]=!0}moveToNextCell(){const l=this,f=l.cols||5;l.col++,l.col>=f&&(l.col=0,l.row++)}getPos(l){const f=this,p=f.begin,v=f.cellWidth,x=f.cellHeight;let T,N;const z=f.id2manPos[l.id];if(z)T=z.col*v+v/2+p[0],N=z.row*x+x/2+p[1];else{for(;f.used(f.row,f.col);)f.moveToNextCell();T=f.col*v+v/2+p[0],N=f.row*x+x/2+p[1],f.use(f.row,f.col),f.moveToNextCell()}l.x=T,l.y=N}getType(){return"grid"}}const tt=(o,l)=>{let f;return o?F(o)?f=p=>o:f=o:f=p=>l||1,f};class ut extends Vt{constructor(l){super(),this.maxIteration=1e3,this.workerEnabled=!1,this.edgeStrength=200,this.nodeStrength=1e3,this.coulombDisScale=.005,this.damping=.9,this.maxSpeed=1e3,this.minMovement=.5,this.interval=.02,this.factor=1,this.linkDistance=1,this.gravity=10,this.preventOverlap=!0,this.tick=()=>{},this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(l)}getDefaultCfg(){return{maxIteration:500,gravity:10,enableTick:!0}}execute(){var l,f;const p=this,v=p.nodes;if(p.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(p.timeInterval),!v||v.length===0){(l=p.onLayoutEnd)===null||l===void 0||l.call(p);return}!p.width&&typeof window!="undefined"&&(p.width=window.innerWidth),!p.height&&typeof window!="undefined"&&(p.height=window.innerHeight),p.center||(p.center=[p.width/2,p.height/2]);const x=p.center;if(v.length===1){v[0].x=x[0],v[0].y=x[1],(f=p.onLayoutEnd)===null||f===void 0||f.call(p);return}const T={},N={};v.forEach((se,xe)=>{F(se.x)||(se.x=Math.random()*p.width),F(se.y)||(se.y=Math.random()*p.height),T[se.id]=se,N[se.id]=xe}),p.nodeMap=T,p.nodeIdxMap=N,p.linkDistance=tt(p.linkDistance,1),p.nodeStrength=tt(p.nodeStrength,1),p.edgeStrength=tt(p.edgeStrength,1);const z=p.nodeSize;let Z;if(p.preventOverlap){const se=p.nodeSpacing;let xe;F(se)?xe=()=>se:Pe(se)?xe=se:xe=()=>0,z?k(z)?Z=be=>(z[0]>z[1]?z[0]:z[1])+xe(be):Z=be=>z+xe(be):Z=be=>be.size?k(be.size)?(be.size[0]>be.size[1]?be.size[0]:be.size[1])+xe(be):ee(be.size)?(be.size.width>be.size.height?be.size.width:be.size.height)+xe(be):be.size+xe(be):10+xe(be)}p.nodeSize=Z;const X=p.edges;p.degrees=re(v.length,p.nodeIdxMap,X),p.getMass||(p.getMass=se=>p.degrees[p.nodeIdxMap[se.id]]||1),p.run()}run(){var l;const f=this,{maxIteration:p,nodes:v,workerEnabled:x,minMovement:T}=f;if(v)if(x){for(let N=0;N<p;N++){const z=f.runOneStep(N);if(f.reachMoveThreshold(v,z,T))break}(l=f.onLayoutEnd)===null||l===void 0||l.call(f)}else{if(typeof window=="undefined")return;let N=0;this.timeInterval=window.setInterval(()=>{var z,Z;if(!v)return;const X=f.runOneStep(N)||[];f.reachMoveThreshold(v,X,T)&&((z=f.onLayoutEnd)===null||z===void 0||z.call(f),window.clearInterval(f.timeInterval)),N++,N>=p&&((Z=f.onLayoutEnd)===null||Z===void 0||Z.call(f),window.clearInterval(f.timeInterval))},0)}}reachMoveThreshold(l,f,p){let v=0;return l.forEach((x,T)=>{const N=x.x-f[T].x,z=x.y-f[T].y;v+=Math.sqrt(N*N+z*z)}),v/=l.length,v<p}runOneStep(l){var f;const p=this,{nodes:v,edges:x}=p,T=[],N=[];if(!v)return;v.forEach((X,se)=>{T[2*se]=0,T[2*se+1]=0,N[2*se]=0,N[2*se+1]=0}),p.calRepulsive(T,v),x&&p.calAttractive(T,x),p.calGravity(T,v);const z=Math.max(.02,p.interval-l*.002);p.updateVelocity(T,N,z,v);const Z=[];return v.forEach(X=>{Z.push({x:X.x,y:X.y})}),p.updatePosition(N,z,v),(f=p.tick)===null||f===void 0||f.call(p),Z}calRepulsive(l,f){const p=this,v=p.getMass,x=p.nodeStrength,T=p.factor,N=p.coulombDisScale,z=p.preventOverlap,Z=p.nodeSize;f.forEach((X,se)=>{const xe=v?v(X):1;f.forEach((be,Ie)=>{if(se>=Ie)return;const De=X.x-be.x,Te=X.y-be.y,st=Math.sqrt(De*De+Te*Te)+.01,St=(st+.1)*N,an=De/st,Nn=Te/st,Ln=(x(X)+x(be))/2*T/(St*St),Dr=v?v(be):1;if(l[2*se]+=an*Ln,l[2*se+1]+=Nn*Ln,l[2*Ie]-=an*Ln,l[2*Ie+1]-=Nn*Ln,z&&st<(Z(X)+Z(be))/2){const Ni=(x(X)+x(be))/2/(st*st);l[2*se]+=an*Ni/xe,l[2*se+1]+=Nn*Ni/xe,l[2*Ie]-=an*Ni/Dr,l[2*Ie+1]-=Nn*Ni/Dr}})})}calAttractive(l,f){const p=this,v=p.nodeMap,x=p.nodeIdxMap,T=p.linkDistance,N=p.edgeStrength,z=p.getMass;f.forEach((Z,X)=>{const se=ue(Z,"source"),xe=ue(Z,"target"),be=v[se],Ie=v[xe],De=Ie.x-be.x,Te=Ie.y-be.y,st=Math.sqrt(De*De+Te*Te)+.01,St=De/st,an=Te/st,Dr=((T(Z)||1)-st)*N(Z),Ni=x[se],Ai=x[xe],ko=z?z(be):1,Oi=z?z(Ie):1;l[2*Ni]-=St*Dr/ko,l[2*Ni+1]-=an*Dr/ko,l[2*Ai]+=St*Dr/Oi,l[2*Ai+1]+=an*Dr/Oi})}calGravity(l,f){const p=this,v=p.center,x=p.gravity,T=p.degrees,N=f.length;for(let z=0;z<N;z++){const Z=f[z];let X=Z.x-v[0],se=Z.y-v[1],xe=x;if(p.getCenter){const be=p.getCenter(Z,T[z]);be&&F(be[0])&&F(be[1])&&F(be[2])&&(X=Z.x-be[0],se=Z.y-be[1],xe=be[2])}xe&&(l[2*z]-=xe*X,l[2*z+1]-=xe*se)}}updateVelocity(l,f,p,v){const x=this,T=p*x.damping;v.forEach((N,z)=>{let Z=l[2*z]*T||.01,X=l[2*z+1]*T||.01;const se=Math.sqrt(Z*Z+X*X);if(se>x.maxSpeed){const xe=x.maxSpeed/se;Z=xe*Z,X=xe*X}f[2*z]=Z,f[2*z+1]=X})}updatePosition(l,f,p){p.forEach((v,x)=>{if(F(v.fx)&&F(v.fy)){v.x=v.fx,v.y=v.fy;return}const T=l[2*x]*f,N=l[2*x+1]*f;v.x+=T,v.y+=N})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}destroy(){const l=this;l.stop(),l.tick=null,l.nodes=null,l.edges=null,l.destroyed=!0}getType(){return"gForce"}}function vn(o){const l=+this._x.call(null,o),f=+this._y.call(null,o);return ft(this.cover(l,f),l,f,o)}function ft(o,l,f,p){if(isNaN(l)||isNaN(f))return o;var v,x=o._root,T={data:p},N=o._x0,z=o._y0,Z=o._x1,X=o._y1,se,xe,be,Ie,De,Te,st,St;if(!x)return o._root=T,o;for(;x.length;)if((De=l>=(se=(N+Z)/2))?N=se:Z=se,(Te=f>=(xe=(z+X)/2))?z=xe:X=xe,v=x,!(x=x[st=Te<<1|De]))return v[st]=T,o;if(be=+o._x.call(null,x.data),Ie=+o._y.call(null,x.data),l===be&&f===Ie)return T.next=x,v?v[st]=T:o._root=T,o;do v=v?v[st]=new Array(4):o._root=new Array(4),(De=l>=(se=(N+Z)/2))?N=se:Z=se,(Te=f>=(xe=(z+X)/2))?z=xe:X=xe;while((st=Te<<1|De)===(St=(Ie>=xe)<<1|be>=se));return v[St]=x,v[st]=T,o}function Ye(o){var l,f,p=o.length,v,x,T=new Array(p),N=new Array(p),z=1/0,Z=1/0,X=-1/0,se=-1/0;for(f=0;f<p;++f)isNaN(v=+this._x.call(null,l=o[f]))||isNaN(x=+this._y.call(null,l))||(T[f]=v,N[f]=x,v<z&&(z=v),v>X&&(X=v),x<Z&&(Z=x),x>se&&(se=x));if(z>X||Z>se)return this;for(this.cover(z,Z).cover(X,se),f=0;f<p;++f)ft(this,T[f],N[f],o[f]);return this}function Cn(o,l){if(isNaN(o=+o)||isNaN(l=+l))return this;var f=this._x0,p=this._y0,v=this._x1,x=this._y1;if(isNaN(f))v=(f=Math.floor(o))+1,x=(p=Math.floor(l))+1;else{for(var T=v-f||1,N=this._root,z,Z;f>o||o>=v||p>l||l>=x;)switch(Z=(l<p)<<1|o<f,z=new Array(4),z[Z]=N,N=z,T*=2,Z){case 0:v=f+T,x=p+T;break;case 1:f=v-T,x=p+T;break;case 2:v=f+T,p=x-T;break;case 3:f=v-T,p=x-T;break}this._root&&this._root.length&&(this._root=N)}return this._x0=f,this._y0=p,this._x1=v,this._y1=x,this}function cn(){var o=[];return this.visit(function(l){if(!l.length)do o.push(l.data);while(l=l.next)}),o}function mr(o){return arguments.length?this.cover(+o[0][0],+o[0][1]).cover(+o[1][0],+o[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function pr(o,l,f,p,v){this.node=o,this.x0=l,this.y0=f,this.x1=p,this.y1=v}function hr(o,l,f){var p,v=this._x0,x=this._y0,T,N,z,Z,X=this._x1,se=this._y1,xe=[],be=this._root,Ie,De;for(be&&xe.push(new pr(be,v,x,X,se)),f==null?f=1/0:(v=o-f,x=l-f,X=o+f,se=l+f,f*=f);Ie=xe.pop();)if(!(!(be=Ie.node)||(T=Ie.x0)>X||(N=Ie.y0)>se||(z=Ie.x1)<v||(Z=Ie.y1)<x))if(be.length){var Te=(T+z)/2,st=(N+Z)/2;xe.push(new pr(be[3],Te,st,z,Z),new pr(be[2],T,st,Te,Z),new pr(be[1],Te,N,z,st),new pr(be[0],T,N,Te,st)),(De=(l>=st)<<1|o>=Te)&&(Ie=xe[xe.length-1],xe[xe.length-1]=xe[xe.length-1-De],xe[xe.length-1-De]=Ie)}else{var St=o-+this._x.call(null,be.data),an=l-+this._y.call(null,be.data),Nn=St*St+an*an;if(Nn<f){var Ln=Math.sqrt(f=Nn);v=o-Ln,x=l-Ln,X=o+Ln,se=l+Ln,p=be.data}}return p}function Mt(o){if(isNaN(X=+this._x.call(null,o))||isNaN(se=+this._y.call(null,o)))return this;var l,f=this._root,p,v,x,T=this._x0,N=this._y0,z=this._x1,Z=this._y1,X,se,xe,be,Ie,De,Te,st;if(!f)return this;if(f.length)for(;;){if((Ie=X>=(xe=(T+z)/2))?T=xe:z=xe,(De=se>=(be=(N+Z)/2))?N=be:Z=be,l=f,!(f=f[Te=De<<1|Ie]))return this;if(!f.length)break;(l[Te+1&3]||l[Te+2&3]||l[Te+3&3])&&(p=l,st=Te)}for(;f.data!==o;)if(v=f,!(f=f.next))return this;return(x=f.next)&&delete f.next,v?(x?v.next=x:delete v.next,this):l?(x?l[Te]=x:delete l[Te],(f=l[0]||l[1]||l[2]||l[3])&&f===(l[3]||l[2]||l[1]||l[0])&&!f.length&&(p?p[st]=f:this._root=f),this):(this._root=x,this)}function yt(o){for(var l=0,f=o.length;l<f;++l)this.remove(o[l]);return this}function Et(){return this._root}function $e(){var o=0;return this.visit(function(l){if(!l.length)do++o;while(l=l.next)}),o}function $t(o){var l=[],f,p=this._root,v,x,T,N,z;for(p&&l.push(new pr(p,this._x0,this._y0,this._x1,this._y1));f=l.pop();)if(!o(p=f.node,x=f.x0,T=f.y0,N=f.x1,z=f.y1)&&p.length){var Z=(x+N)/2,X=(T+z)/2;(v=p[3])&&l.push(new pr(v,Z,X,N,z)),(v=p[2])&&l.push(new pr(v,x,X,Z,z)),(v=p[1])&&l.push(new pr(v,Z,T,N,X)),(v=p[0])&&l.push(new pr(v,x,T,Z,X))}return this}function Jt(o){var l=[],f=[],p;for(this._root&&l.push(new pr(this._root,this._x0,this._y0,this._x1,this._y1));p=l.pop();){var v=p.node;if(v.length){var x,T=p.x0,N=p.y0,z=p.x1,Z=p.y1,X=(T+z)/2,se=(N+Z)/2;(x=v[0])&&l.push(new pr(x,T,N,X,se)),(x=v[1])&&l.push(new pr(x,X,N,z,se)),(x=v[2])&&l.push(new pr(x,T,se,X,Z)),(x=v[3])&&l.push(new pr(x,X,se,z,Z))}f.push(p)}for(;p=f.pop();)o(p.node,p.x0,p.y0,p.x1,p.y1);return this}function tn(o){return o[0]}function ir(o){return arguments.length?(this._x=o,this):this._x}function Or(o){return o[1]}function Fr(o){return arguments.length?(this._y=o,this):this._y}function lr(o,l,f){var p=new Yr(l==null?tn:l,f==null?Or:f,NaN,NaN,NaN,NaN);return o==null?p:p.addAll(o)}function Yr(o,l,f,p,v,x){this._x=o,this._y=l,this._x0=f,this._y0=p,this._x1=v,this._y1=x,this._root=void 0}function jn(o){for(var l={data:o.data},f=l;o=o.next;)f=f.next={data:o.data};return l}var dr=lr.prototype=Yr.prototype;dr.copy=function(){var o=new Yr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),l=this._root,f,p;if(!l)return o;if(!l.length)return o._root=jn(l),o;for(f=[{source:l,target:o._root=new Array(4)}];l=f.pop();)for(var v=0;v<4;++v)(p=l.source[v])&&(p.length?f.push({source:p,target:l.target[v]=new Array(4)}):l.target[v]=jn(p));return o},dr.add=vn,dr.addAll=Ye,dr.cover=Cn,dr.data=cn,dr.extent=mr,dr.find=hr,dr.remove=Mt,dr.removeAll=yt,dr.root=Et,dr.size=$e,dr.visit=$t,dr.visitAfter=Jt,dr.x=ir,dr.y=Fr;function br(o){return function(){return o}}function nr(o){return(o()-.5)*1e-6}var Lr={value:function(){}};function Ji(){for(var o=0,l=arguments.length,f={},p;o<l;++o){if(!(p=arguments[o]+"")||p in f||/[\s.]/.test(p))throw new Error("illegal type: "+p);f[p]=[]}return new Ci(f)}function Ci(o){this._=o}function $i(o,l){return o.trim().split(/^|\s+/).map(function(f){var p="",v=f.indexOf(".");if(v>=0&&(p=f.slice(v+1),f=f.slice(0,v)),f&&!l.hasOwnProperty(f))throw new Error("unknown type: "+f);return{type:f,name:p}})}Ci.prototype=Ji.prototype={constructor:Ci,on:function(l,f){var p=this._,v=$i(l+"",p),x,T=-1,N=v.length;if(arguments.length<2){for(;++T<N;)if((x=(l=v[T]).type)&&(x=It(p[x],l.name)))return x;return}if(f!=null&&typeof f!="function")throw new Error("invalid callback: "+f);for(;++T<N;)if(x=(l=v[T]).type)p[x]=Q(p[x],l.name,f);else if(f==null)for(x in p)p[x]=Q(p[x],l.name,null);return this},copy:function(){var l={},f=this._;for(var p in f)l[p]=f[p].slice();return new Ci(l)},call:function(l,f){if((x=arguments.length-2)>0)for(var p=new Array(x),v=0,x,T;v<x;++v)p[v]=arguments[v+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(T=this._[l],v=0,x=T.length;v<x;++v)T[v].value.apply(f,p)},apply:function(l,f,p){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var v=this._[l],x=0,T=v.length;x<T;++x)v[x].value.apply(f,p)}};function It(o,l){for(var f=0,p=o.length,v;f<p;++f)if((v=o[f]).name===l)return v.value}function Q(o,l,f){for(var p=0,v=o.length;p<v;++p)if(o[p].name===l){o[p]=Lr,o=o.slice(0,p).concat(o.slice(p+1));break}return f!=null&&o.push({name:l,value:f}),o}var we=Ji,Nt=0,jt=0,gt=0,Je=1e3,pt,rt,qt=0,Dn=0,_n=0,Wr=typeof performance=="object"&&performance.now?performance:Date,Qn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(o){setTimeout(o,17)};function it(){return Dn||(Qn(mn),Dn=Wr.now()+_n)}function mn(){Dn=0}function kn(){this._call=this._time=this._next=null}kn.prototype=gr.prototype={constructor:kn,restart:function(o,l,f){if(typeof o!="function")throw new TypeError("callback is not a function");f=(f==null?it():+f)+(l==null?0:+l),!this._next&&rt!==this&&(rt?rt._next=this:pt=this,rt=this),this._call=o,this._time=f,sn()},stop:function(){this._call&&(this._call=null,this._time=1/0,sn())}};function gr(o,l,f){var p=new kn;return p.restart(o,l,f),p}function kr(){it(),++Nt;for(var o=pt,l;o;)(l=Dn-o._time)>=0&&o._call.call(null,l),o=o._next;--Nt}function Ei(){Dn=(qt=Wr.now())+_n,Nt=jt=0;try{kr()}finally{Nt=0,Tt(),Dn=0}}function er(){var o=Wr.now(),l=o-qt;l>Je&&(_n-=l,qt=o)}function Tt(){for(var o,l=pt,f,p=1/0;l;)l._call?(p>l._time&&(p=l._time),o=l,l=l._next):(f=l._next,l._next=null,l=o?o._next=f:pt=f);rt=o,sn(p)}function sn(o){if(!Nt){jt&&(jt=clearTimeout(jt));var l=o-Dn;l>24?(o<1/0&&(jt=setTimeout(Ei,o-Wr.now()-_n)),gt&&(gt=clearInterval(gt))):(gt||(qt=Wr.now(),gt=setInterval(er,Je)),Nt=1,Qn(Ei))}}var _t=1664525,Ut=1013904223,Rn=4294967296;function Cr(){var o=1;return function(){return(o=(_t*o+Ut)%Rn)/Rn}}function si(o){return o.x}function tr(o){return o.y}var xn=10,Hn=Math.PI*(3-Math.sqrt(5));function Kn(o){var l,f=1,p=.001,v=1-Math.pow(p,1/300),x=0,T=.6,N=new Map,z=gr(se),Z=we("tick","end"),X=Cr();o==null&&(o=[]);function se(){xe(),Z.call("tick",l),f<p&&(z.stop(),Z.call("end",l))}function xe(De){var Te,st=o.length,St;De===void 0&&(De=1);for(var an=0;an<De;++an)for(f+=(x-f)*v,N.forEach(function(Nn){Nn(f)}),Te=0;Te<st;++Te)St=o[Te],St.fx==null?St.x+=St.vx*=T:(St.x=St.fx,St.vx=0),St.fy==null?St.y+=St.vy*=T:(St.y=St.fy,St.vy=0);return l}function be(){for(var De=0,Te=o.length,st;De<Te;++De){if(st=o[De],st.index=De,st.fx!=null&&(st.x=st.fx),st.fy!=null&&(st.y=st.fy),isNaN(st.x)||isNaN(st.y)){var St=xn*Math.sqrt(.5+De),an=De*Hn;st.x=St*Math.cos(an),st.y=St*Math.sin(an)}(isNaN(st.vx)||isNaN(st.vy))&&(st.vx=st.vy=0)}}function Ie(De){return De.initialize&&De.initialize(o,X),De}return be(),l={tick:xe,restart:function(){return z.restart(se),l},stop:function(){return z.stop(),l},nodes:function(Te){return arguments.length?(o=Te,be(),N.forEach(Ie),l):o},alpha:function(Te){return arguments.length?(f=+Te,l):f},alphaMin:function(Te){return arguments.length?(p=+Te,l):p},alphaDecay:function(Te){return arguments.length?(v=+Te,l):+v},alphaTarget:function(Te){return arguments.length?(x=+Te,l):x},velocityDecay:function(Te){return arguments.length?(T=1-Te,l):1-T},randomSource:function(Te){return arguments.length?(X=Te,N.forEach(Ie),l):X},force:function(Te,st){return arguments.length>1?(st==null?N.delete(Te):N.set(Te,Ie(st)),l):N.get(Te)},find:function(Te,st,St){var an=0,Nn=o.length,Ln,Dr,Ni,Ai,ko;for(St==null?St=1/0:St*=St,an=0;an<Nn;++an)Ai=o[an],Ln=Te-Ai.x,Dr=st-Ai.y,Ni=Ln*Ln+Dr*Dr,Ni<St&&(ko=Ai,St=Ni);return ko},on:function(Te,st){return arguments.length>1?(Z.on(Te,st),l):Z.on(Te)}}}function yn(){var o,l,f,p,v=br(-30),x,T=1,N=1/0,z=.81;function Z(be){var Ie,De=o.length,Te=lr(o,si,tr).visitAfter(se);for(p=be,Ie=0;Ie<De;++Ie)l=o[Ie],Te.visit(xe)}function X(){if(o){var be,Ie=o.length,De;for(x=new Array(Ie),be=0;be<Ie;++be)De=o[be],x[De.index]=+v(De,be,o)}}function se(be){var Ie=0,De,Te,st=0,St,an,Nn;if(be.length){for(St=an=Nn=0;Nn<4;++Nn)(De=be[Nn])&&(Te=Math.abs(De.value))&&(Ie+=De.value,st+=Te,St+=Te*De.x,an+=Te*De.y);be.x=St/st,be.y=an/st}else{De=be,De.x=De.data.x,De.y=De.data.y;do Ie+=x[De.data.index];while(De=De.next)}be.value=Ie}function xe(be,Ie,De,Te){if(!be.value)return!0;var st=be.x-l.x,St=be.y-l.y,an=Te-Ie,Nn=st*st+St*St;if(an*an/z<Nn)return Nn<N&&(st===0&&(st=nr(f),Nn+=st*st),St===0&&(St=nr(f),Nn+=St*St),Nn<T&&(Nn=Math.sqrt(T*Nn)),l.vx+=st*be.value*p/Nn,l.vy+=St*be.value*p/Nn),!0;if(be.length||Nn>=N)return;(be.data!==l||be.next)&&(st===0&&(st=nr(f),Nn+=st*st),St===0&&(St=nr(f),Nn+=St*St),Nn<T&&(Nn=Math.sqrt(T*Nn)));do be.data!==l&&(an=x[be.data.index]*p/Nn,l.vx+=st*an,l.vy+=St*an);while(be=be.next)}return Z.initialize=function(be,Ie){o=be,f=Ie,X()},Z.strength=function(be){return arguments.length?(v=typeof be=="function"?be:br(+be),X(),Z):v},Z.distanceMin=function(be){return arguments.length?(T=be*be,Z):Math.sqrt(T)},Z.distanceMax=function(be){return arguments.length?(N=be*be,Z):Math.sqrt(N)},Z.theta=function(be){return arguments.length?(z=be*be,Z):Math.sqrt(z)},Z}function Sr(o,l){var f,p=1;o==null&&(o=0),l==null&&(l=0);function v(){var x,T=f.length,N,z=0,Z=0;for(x=0;x<T;++x)N=f[x],z+=N.x,Z+=N.y;for(z=(z/T-o)*p,Z=(Z/T-l)*p,x=0;x<T;++x)N=f[x],N.x-=z,N.y-=Z}return v.initialize=function(x){f=x},v.x=function(x){return arguments.length?(o=+x,v):o},v.y=function(x){return arguments.length?(l=+x,v):l},v.strength=function(x){return arguments.length?(p=+x,v):p},v}var yr=w(52677),Tr=w.n(yr);function rn(o){return o.index}function hn(o,l){var f=o.get(l);if(!f)throw new Error("node not found: "+l);return f}function or(o){var l=rn,f=se,p,v=br(30),x,T,N,z,Z,X=1;o==null&&(o=[]);function se(Te){return 1/Math.min(N[Te.source.index],N[Te.target.index])}function xe(Te){for(var st=0,St=o.length;st<X;++st)for(var an=0,Nn,Ln,Dr,Ni,Ai,ko,Oi;an<St;++an)Nn=o[an],Ln=Nn.source,Dr=Nn.target,Ni=Dr.x+Dr.vx-Ln.x-Ln.vx||nr(Z),Ai=Dr.y+Dr.vy-Ln.y-Ln.vy||nr(Z),ko=Math.sqrt(Ni*Ni+Ai*Ai),ko=(ko-x[an])/ko*Te*p[an],Ni*=ko,Ai*=ko,Dr.vx-=Ni*(Oi=z[an]),Dr.vy-=Ai*Oi,Ln.vx+=Ni*(Oi=1-Oi),Ln.vy+=Ai*Oi}function be(){if(T){var Te,st=T.length,St=o.length,an=new Map(T.map(function(Ln,Dr){return[l(Ln,Dr,T),Ln]})),Nn;for(Te=0,N=new Array(st);Te<St;++Te)Nn=o[Te],Nn.index=Te,Tr()(Nn.source)!=="object"&&(Nn.source=hn(an,Nn.source)),Tr()(Nn.target)!=="object"&&(Nn.target=hn(an,Nn.target)),N[Nn.source.index]=(N[Nn.source.index]||0)+1,N[Nn.target.index]=(N[Nn.target.index]||0)+1;for(Te=0,z=new Array(St);Te<St;++Te)Nn=o[Te],z[Te]=N[Nn.source.index]/(N[Nn.source.index]+N[Nn.target.index]);p=new Array(St),Ie(),x=new Array(St),De()}}function Ie(){if(T)for(var Te=0,st=o.length;Te<st;++Te)p[Te]=+f(o[Te],Te,o)}function De(){if(T)for(var Te=0,st=o.length;Te<st;++Te)x[Te]=+v(o[Te],Te,o)}return xe.initialize=function(Te,st){T=Te,Z=st,be()},xe.links=function(Te){return arguments.length?(o=Te,be(),xe):o},xe.id=function(Te){return arguments.length?(l=Te,xe):l},xe.iterations=function(Te){return arguments.length?(X=+Te,xe):X},xe.strength=function(Te){return arguments.length?(f=typeof Te=="function"?Te:br(+Te),Ie(),xe):f},xe.distance=function(Te){return arguments.length?(v=typeof Te=="function"?Te:br(+Te),De(),xe):v},xe}function Ke(o){return o.x+o.vx}function Xe(o){return o.y+o.vy}function je(o){var l,f,p,v=1,x=1;typeof o!="function"&&(o=br(o==null?1:+o));function T(){for(var Z,X=l.length,se,xe,be,Ie,De,Te,st=0;st<x;++st)for(se=lr(l,Ke,Xe).visitAfter(N),Z=0;Z<X;++Z)xe=l[Z],De=f[xe.index],Te=De*De,be=xe.x+xe.vx,Ie=xe.y+xe.vy,se.visit(St);function St(an,Nn,Ln,Dr,Ni){var Ai=an.data,ko=an.r,Oi=De+ko;if(Ai){if(Ai.index>xe.index){var go=be-Ai.x-Ai.vx,Wi=Ie-Ai.y-Ai.vy,is=go*go+Wi*Wi;is<Oi*Oi&&(go===0&&(go=nr(p),is+=go*go),Wi===0&&(Wi=nr(p),is+=Wi*Wi),is=(Oi-(is=Math.sqrt(is)))/is*v,xe.vx+=(go*=is)*(Oi=(ko*=ko)/(Te+ko)),xe.vy+=(Wi*=is)*Oi,Ai.vx-=go*(Oi=1-Oi),Ai.vy-=Wi*Oi)}return}return Nn>be+Oi||Dr<be-Oi||Ln>Ie+Oi||Ni<Ie-Oi}}function N(Z){if(Z.data)return Z.r=f[Z.data.index];for(var X=Z.r=0;X<4;++X)Z[X]&&Z[X].r>Z.r&&(Z.r=Z[X].r)}function z(){if(l){var Z,X=l.length,se;for(f=new Array(X),Z=0;Z<X;++Z)se=l[Z],f[se.index]=+o(se,Z,l)}}return T.initialize=function(Z,X){l=Z,p=X,z()},T.iterations=function(Z){return arguments.length?(x=+Z,T):x},T.strength=function(Z){return arguments.length?(v=+Z,T):v},T.radius=function(Z){return arguments.length?(o=typeof Z=="function"?Z:br(+Z),z(),T):o},T}function me(o){var l=br(.1),f,p,v;typeof o!="function"&&(o=br(o==null?0:+o));function x(N){for(var z=0,Z=f.length,X;z<Z;++z)X=f[z],X.vx+=(v[z]-X.x)*p[z]*N}function T(){if(f){var N,z=f.length;for(p=new Array(z),v=new Array(z),N=0;N<z;++N)p[N]=isNaN(v[N]=+o(f[N],N,f))?0:+l(f[N],N,f)}}return x.initialize=function(N){f=N,T()},x.strength=function(N){return arguments.length?(l=typeof N=="function"?N:br(+N),T(),x):l},x.x=function(N){return arguments.length?(o=typeof N=="function"?N:br(+N),T(),x):o},x}function ze(o){var l=br(.1),f,p,v;typeof o!="function"&&(o=br(o==null?0:+o));function x(N){for(var z=0,Z=f.length,X;z<Z;++z)X=f[z],X.vy+=(v[z]-X.y)*p[z]*N}function T(){if(f){var N,z=f.length;for(p=new Array(z),v=new Array(z),N=0;N<z;++N)p[N]=isNaN(v[N]=+o(f[N],N,f))?0:+l(f[N],N,f)}}return x.initialize=function(N){f=N,T()},x.strength=function(N){return arguments.length?(l=typeof N=="function"?N:br(+N),T(),x):l},x.y=function(N){return arguments.length?(o=typeof N=="function"?N:br(+N),T(),x):o},x}function Oe(){function o(xs){return()=>xs}let l=xs=>xs.cluster,f=o(1),p=o(-1),v=o(100),x=o(.1),T=[0,0],N=[],z={},Z=[],X=100,se=100,xe={none:{x:0,y:0}},be=[],Ie,De="force",Te=!0,st=.1;function St(xs){if(!Te)return St;Ie.tick(),Ai();for(let Al=0,xc=N.length,sc,ac=xs*st;Al<xc;++Al)sc=N[Al],sc.vx+=(xe[l(sc)].x-sc.x)*ac,sc.vy+=(xe[l(sc)].y-sc.y)*ac}function an(){N&&Nn()}function Nn(){if(!N||!N.length)return;if(l(N[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");const xs=Ln();Ie=Kn(xs.nodes).force("x",me(X).strength(.1)).force("y",ze(se).strength(.1)).force("collide",je(Al=>Al.r).iterations(4)).force("charge",yn().strength(p)).force("links",or(xs.nodes.length?xs.links:[]).distance(v).strength(x)),be=Ie.nodes(),Ai()}function Ln(){const xs=[],Al=[],xc={};let sc=[],ac={},Uf=[];return ac=Dr(N),Uf=Ni(Z),sc=Object.keys(ac),sc.forEach((bf,Sb)=>{const zx=ac[bf];xs.push({id:bf,size:zx.count,r:Math.sqrt(zx.sumforceNodeSize/Math.PI)}),xc[bf]=Sb}),Uf.forEach(bf=>{const Sb=ue(bf,"source"),zx=ue(bf,"target"),Jw=xc[Sb],H1=xc[zx];Jw!==void 0&&H1!==void 0&&Al.push({source:Jw,target:H1,count:bf.count})}),{nodes:xs,links:Al}}function Dr(xs){const Al={};return xs.forEach(xc=>{const sc=l(xc);Al[sc]||(Al[sc]={count:0,sumforceNodeSize:0})}),xs.forEach(xc=>{const sc=l(xc),ac=f(xc),Uf=Al[sc];Uf.count=Uf.count+1,Uf.sumforceNodeSize=Uf.sumforceNodeSize+Math.PI*(ac*ac)*1.3,Al[sc]=Uf}),Al}function Ni(xs){const Al={},xc=[];return xs.forEach(ac=>{const Uf=ko(ac);let bf=0;Al[Uf]!==void 0&&(bf=Al[Uf]),bf+=1,Al[Uf]=bf}),Object.entries(Al).forEach(([ac,Uf])=>{const bf=ac.split("~")[0],Sb=ac.split("~")[1];bf!==void 0&&Sb!==void 0&&xc.push({source:bf,target:Sb,count:Uf})}),xc}function Ai(){return xe={none:{x:0,y:0}},be.forEach(xs=>{xe[xs.id]={x:xs.x-T[0],y:xs.y-T[1]}}),xe}function ko(xs){const Al=ue(xs,"source"),xc=ue(xs,"target"),sc=l(z[Al]),ac=l(z[xc]);return sc<=ac?`${sc}~${ac}`:`${ac}~${sc}`}function Oi(xs){z={},xs.forEach(Al=>{z[Al.id]=Al})}function go(xs){return arguments.length?(De=xs,an(),St):De}function Wi(xs){return arguments.length?typeof xs=="string"?(l=Al=>Al[xs],St):(l=xs,St):l}function is(xs){return arguments.length?(Te=xs,St):Te}function Bo(xs){return arguments.length?(st=xs,St):st}function ks(xs){return arguments.length?(X=xs,St):X}function Sl(xs){return arguments.length?(se=xs,St):se}function ru(xs){return arguments.length?(Oi(xs||[]),N=xs||[],St):N}function va(xs){return arguments.length?(Z=xs||[],an(),St):Z}function rd(xs){return arguments.length?(typeof xs=="function"?f=xs:f=o(+xs),an(),St):f}function Nd(xs){return arguments.length?(typeof xs=="function"?p=xs:p=o(+xs),an(),St):p}function Zg(xs){return arguments.length?(typeof xs=="function"?v=xs:v=o(+xs),an(),St):v}function jg(xs){return arguments.length?(typeof xs=="function"?x=xs:x=o(+xs),an(),St):x}function u0(xs){return arguments.length?(T=xs,St):T}return St.initialize=xs=>{N=xs,an()},St.template=go,St.groupBy=Wi,St.enableGrouping=is,St.strength=Bo,St.centerX=ks,St.centerY=Sl,St.nodes=ru,St.links=va,St.forceNodeSize=rd,St.nodeSize=St.forceNodeSize,St.forceCharge=Nd,St.forceLinkDistance=Zg,St.forceLinkStrength=jg,St.offset=u0,St.getFocis=Ai,St}const Y={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};class ne extends Vt{constructor(l){super(),this.center=[0,0],this.nodeStrength=null,this.edgeStrength=null,this.preventOverlap=!1,this.clusterNodeStrength=null,this.clusterEdgeStrength=null,this.clusterEdgeDistance=null,this.clusterNodeSize=null,this.clusterFociStrength=null,this.linkDistance=50,this.alphaDecay=.028,this.alphaMin=.001,this.alpha=.3,this.collideStrength=1,this.workerEnabled=!1,this.tick=()=>{},this.onLayoutEnd=()=>{},this.ticking=void 0,l&&this.updateCfg(l)}getDefaultCfg(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick(){},onLayoutEnd(){},workerEnabled:!1}}init(l){const f=this;f.nodes=l.nodes||[];const p=l.edges||[];f.edges=p.map(v=>{const x={},T=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(v).forEach(N=>{T.indexOf(N)>-1||(x[N]=v[N])}),x}),f.ticking=!1}execute(l){const f=this,p=f.nodes,v=f.edges;if(f.ticking)return;let x=f.forceSimulation;const T=f.alphaMin,N=f.alphaDecay,z=f.alpha;if(x){if(l){if(f.clustering&&f.clusterForce&&(f.clusterForce.nodes(p),f.clusterForce.links(v)),x.nodes(p),v&&f.edgeForce)f.edgeForce.links(v);else if(v&&!f.edgeForce){const Z=or().id(X=>X.id).links(v);f.edgeStrength&&Z.strength(f.edgeStrength),f.linkDistance&&Z.distance(f.linkDistance),f.edgeForce=Z,x.force("link",Z)}}f.preventOverlap&&f.overlapProcess(x),x.alpha(z).restart(),this.ticking=!0}else try{const Z=yn();if(f.nodeStrength&&Z.strength(f.nodeStrength),x=Kn().nodes(p),f.clustering){const X=Oe();X.centerX(f.center[0]).centerY(f.center[1]).template("force").strength(f.clusterFociStrength),v&&X.links(v),p&&X.nodes(p),X.forceLinkDistance(f.clusterEdgeDistance).forceLinkStrength(f.clusterEdgeStrength).forceCharge(f.clusterNodeStrength).forceNodeSize(f.clusterNodeSize),f.clusterForce=X,x.force("group",X)}if(x.force("center",Sr(f.center[0],f.center[1])).force("charge",Z).alpha(z).alphaDecay(N).alphaMin(T),f.preventOverlap&&f.overlapProcess(x),v){const X=or().id(se=>se.id).links(v);f.edgeStrength&&X.strength(f.edgeStrength),f.linkDistance&&X.distance(f.linkDistance),f.edgeForce=X,x.force("link",X)}if(f.workerEnabled&&!S()&&(f.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!f.workerEnabled)x.on("tick",()=>{f.tick()}).on("end",()=>{f.ticking=!1,f.onLayoutEnd&&f.onLayoutEnd()}),f.ticking=!0;else{x.stop();const X=W(x);for(let se=1;se<=X;se++)x.tick(),postMessage({nodes:p,currentTick:se,totalTicks:X,type:Y.TICK},void 0);f.ticking=!1}f.forceSimulation=x,f.ticking=!0}catch(Z){f.ticking=!1,console.warn(Z)}}overlapProcess(l){const f=this,p=f.nodeSize,v=f.nodeSpacing;let x,T;const N=f.collideStrength;if(F(v)?T=()=>v:Pe(v)?T=v:T=()=>0,!p)x=z=>z.size?k(z.size)?(z.size[0]>z.size[1]?z.size[0]:z.size[1])/2+T(z):ee(z.size)?(z.size.width>z.size.height?z.size.width:z.size.height)/2+T(z):z.size/2+T(z):10+T(z);else if(Pe(p))x=z=>p(z)+T(z);else if(k(p)){const Z=(p[0]>p[1]?p[0]:p[1])/2;x=X=>Z+T(X)}else if(F(p)){const z=p/2;x=Z=>z+T(Z)}else x=()=>10;l.force("collisionForce",je(x).strength(N))}updateCfg(l){const f=this;f.ticking&&(f.forceSimulation.stop(),f.ticking=!1),f.forceSimulation=null,Object.assign(f,l)}destroy(){const l=this;l.ticking&&(l.forceSimulation.stop(),l.ticking=!1),l.nodes=null,l.edges=null,l.destroyed=!0}}function W(o){const l=o.alphaMin(),f=o.alphaTarget(),p=o.alpha(),v=Math.log((l-f)/(p-f))/Math.log(1-o.alphaDecay());return Math.ceil(v)}function S(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}function A(o,l,f,p){o.forEach((v,x)=>{o[x].children=[],o[x].parent=[]}),p?l.forEach(v=>{const x=ue(v,"source"),T=ue(v,"target");let N=0;x&&(N=f[x]);let z=0;T&&(z=f[T]);const Z=o[N].children,X=o[z].parent;Z.push(o[z].id),X.push(o[N].id)}):l.forEach(v=>{const x=ue(v,"source"),T=ue(v,"target");let N=0;x&&(N=f[x]);let z=0;T&&(z=f[T]);const Z=o[N].children,X=o[z].children;Z.push(o[z].id),X.push(o[N].id)})}function L(o,l,f){const p=f.length;for(let v=0;v<p;v++){const x=ue(f[v],"source"),T=ue(f[v],"target");if(o.id===x&&l.id===T||l.id===x&&o.id===T)return!0}return!1}function ce(o,l){const f=o.degree,p=l.degree;return f<p?-1:f>p?1:0}class ve extends Vt{constructor(l){super(),this.radius=null,this.startRadius=null,this.endRadius=null,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.divisions=1,this.ordering=null,this.angleRatio=1,this.nodes=[],this.edges=[],this.nodeMap={},this.degrees=[],this.width=300,this.height=300,this.updateCfg(l)}getDefaultCfg(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}}execute(){const l=this,f=l.nodes,p=l.edges,v=f.length;if(v===0){l.onLayoutEnd&&l.onLayoutEnd();return}!l.width&&typeof window!="undefined"&&(l.width=window.innerWidth),!l.height&&typeof window!="undefined"&&(l.height=window.innerHeight),l.center||(l.center=[l.width/2,l.height/2]);const x=l.center;if(v===1){f[0].x=x[0],f[0].y=x[1],l.onLayoutEnd&&l.onLayoutEnd();return}let T=l.radius,N=l.startRadius,z=l.endRadius;const Z=l.divisions,X=l.startAngle,se=l.endAngle,xe=(se-X)/v,be={};f.forEach((Ln,Dr)=>{be[Ln.id]=Dr}),l.nodeMap=be;const Ie=re(f.length,be,p);l.degrees=Ie,!T&&!N&&!z?T=l.height>l.width?l.width/2:l.height/2:!N&&z?N=z:N&&!z&&(z=N);const De=l.angleRatio,Te=xe*De,st=l.ordering;let St=[];st==="topology"?St=l.topologyOrdering():st==="topology-directed"?St=l.topologyOrdering(!0):st==="degree"?St=l.degreeOrdering():St=f;const an=l.clockwise,Nn=Math.ceil(v/Z);for(let Ln=0;Ln<v;++Ln){let Dr=T;!Dr&&N!==null&&z!==null&&(Dr=N+Ln*(z-N)/(v-1)),Dr||(Dr=10+Ln*100/(v-1));let Ni=X+Ln%Nn*Te+2*Math.PI/Z*Math.floor(Ln/Nn);an||(Ni=se-Ln%Nn*Te-2*Math.PI/Z*Math.floor(Ln/Nn)),St[Ln].x=x[0]+Math.cos(Ni)*Dr,St[Ln].y=x[1]+Math.sin(Ni)*Dr,St[Ln].weight=Ie[Ln]}return l.onLayoutEnd&&l.onLayoutEnd(),{nodes:St,edges:this.edges}}topologyOrdering(l=!1){const f=this,p=f.degrees,v=f.edges,x=f.nodes,T=ae(x),N=f.nodeMap,z=[T[0]],Z=[x[0]],X=[],se=x.length;X[0]=!0,A(T,v,N,l);let xe=0;return T.forEach((be,Ie)=>{if(Ie!==0)if((Ie===se-1||p[Ie]!==p[Ie+1]||L(z[xe],be,v))&&!X[Ie])z.push(be),Z.push(x[N[be.id]]),X[Ie]=!0,xe++;else{const De=z[xe].children;let Te=!1;for(let St=0;St<De.length;St++){const an=N[De[St]];if(p[an]===p[Ie]&&!X[an]){z.push(T[an]),Z.push(x[N[T[an].id]]),X[an]=!0,Te=!0;break}}let st=0;for(;!Te&&(X[st]||(z.push(T[st]),Z.push(x[N[T[st].id]]),X[st]=!0,Te=!0),st++,st!==se););}}),Z}degreeOrdering(){const l=this,f=l.nodes,p=[],v=l.degrees;return f.forEach((x,T)=>{x.degree=v[T],p.push(x)}),p.sort(ce),p}getType(){return"circular"}}var pe=w(85788),Ee=w.n(pe);let ht=Ee();!ht&&typeof window!="undefined"&&(ht=window.graphlib),Array.prototype.flat||(Array.prototype.flat=function(o){let l=o||1;if(!isFinite(l))return;const f=this.length;let p=[];if(this.length===0)return this;for(;l--;){const v=[];let x=!1;if(p.length===0){x=!0;for(let T=0;T<f;T++)this[T]instanceof Array?p.push(...this[T]):p.push(this[T])}else{for(let T=0;T<p.length;T++)p[T]instanceof Array?(x=!0,v.push(...p[T])):v.push(p[T]);p=v}if(!x&&l===1/0)break}return p});var ct=ht;const nt=o=>{o._prev._next=o._next,o._next._prev=o._prev,delete o._next,delete o._prev},Rt=(o,l)=>{if(o!=="_next"&&o!=="_prev")return l};class kt{constructor(){const l={};l._next=l._prev=l,this.isentinel=l}dequeue(){const l=this.isentinel,f=l._prev;if(f!==l)return nt(f),f}enqueue(){const l=this.isentinel,f=l._prev;if(f!==l)return nt(f),f}toString(){const l=[],f=this.isentinel;let p=f._prev;for(;p!==f;)l.push(JSON.stringify(p,Rt)),p=p._prev;return`[${l.join(", ")}]`}}var bn=kt;const pn=ct.Graph,Lt=()=>1,Bt=(o,l)=>{var f;if(o.nodeCount()<=1)return[];const p=sr(o,l||Lt);return(f=In(p.graph,p.buckets,p.zeroIdx).map(x=>o.outEdges(x.v,x.w)))===null||f===void 0?void 0:f.flat()},In=(o,l,f)=>{let p=[];const v=l[l.length-1],x=l[0];let T;for(;o.nodeCount();){for(;T=x.dequeue();)Zn(o,l,f,T);for(;T=v.dequeue();)Zn(o,l,f,T);if(o.nodeCount()){for(let N=l.length-2;N>0;--N)if(T=l[N].dequeue(),T){p=p.concat(Zn(o,l,f,T,!0));break}}}return p},Zn=(o,l,f,p,v)=>{var x,T;const N=v?[]:void 0;return(x=o.inEdges(p.v))===null||x===void 0||x.forEach(z=>{const Z=o.edge(z),X=o.node(z.v);v&&N.push({v:z.v,w:z.w}),X.out===void 0&&(X.out=0),X.out-=Z,ni(l,f,X)}),(T=o.outEdges(p.v))===null||T===void 0||T.forEach(z=>{const Z=o.edge(z),X=z.w,se=o.node(X);se.in===void 0&&(se.in=0),se.in-=Z,ni(l,f,se)}),o.removeNode(p.v),N},sr=(o,l)=>{const f=new pn;let p=0,v=0;o.nodes().forEach(z=>{f.setNode(z,{v:z,in:0,out:0})}),o.edges().forEach(z=>{const Z=f.edge(z.v,z.w)||0,X=l==null?void 0:l(z),se=Z+X;f.setEdge(z.v,z.w,se),v=Math.max(v,f.node(z.v).out+=X),p=Math.max(p,f.node(z.w).in+=X)});const x=[],T=v+p+3;for(let z=0;z<T;z++)x.push(new bn);const N=p+1;return f.nodes().forEach(z=>{ni(x,N,f.node(z))}),{buckets:x,zeroIdx:N,graph:f}},ni=(o,l,f)=>{f.out?f.in?o[f.out-f.in+l].enqueue(f):o[o.length-1].enqueue(f):o[0].enqueue(f)};var mi=Bt;const Rr=o=>{const l=p=>v=>p.edge(v).weight,f=o.graph().acyclicer==="greedy"?mi(o,l(o)):ai(o);f==null||f.forEach(p=>{const v=o.edge(p);o.removeEdge(p),v.forwardName=p.name,v.reversed=!0,o.setEdge(p.w,p.v,v,`rev-${Math.random()}`)})},ai=o=>{const l=[],f={},p={},v=x=>{var T;p.hasOwnProperty(x)||(p[x]=!0,f[x]=!0,(T=o.outEdges(x))===null||T===void 0||T.forEach(N=>{f.hasOwnProperty(N.w)?l.push(N):v(N.w)}),delete f[x])};return o.nodes().forEach(v),l};var wi={run:Rr,undo:o=>{o.edges().forEach(l=>{const f=o.edge(l);if(f.reversed){o.removeEdge(l);const p=f.forwardName;delete f.reversed,delete f.forwardName,o.setEdge(l.w,l.v,f,p)}})}};const Ct=ct.Graph,Zt=(o,l,f,p)=>{let v;do v=`${p}${Math.random()}`;while(o.hasNode(v));return f.dummy=l,o.setNode(v,f),v},Pr=o=>{const l=new Ct().setGraph(o.graph());return o.nodes().forEach(f=>{l.setNode(f,o.node(f))}),o.edges().forEach(f=>{const p=l.edge(f.v,f.w)||{weight:0,minlen:1},v=o.edge(f);l.setEdge(f.v,f.w,{weight:p.weight+v.weight,minlen:Math.max(p.minlen,v.minlen)})}),l},Gn=o=>{const l=new Ct({multigraph:o.isMultigraph()}).setGraph(o.graph());return o.nodes().forEach(f=>{var p;!((p=o.children(f))===null||p===void 0)&&p.length||l.setNode(f,o.node(f))}),o.edges().forEach(f=>l.setEdge(f,o.edge(f))),l},vr=(o,l)=>{const f={};return o==null||o.forEach((p,v)=>{f[p]=l[v]}),f},$r=o=>{const l=o.nodes().map(f=>{var p;const v={};return(p=o.outEdges(f))===null||p===void 0||p.forEach(x=>{v[x.w]=(v[x.w]||0)+o.edge(x).weight}),v});return vr(o.nodes(),l)},At=o=>{const l=o.nodes().map(f=>{var p;const v={};return(p=o.inEdges(f))===null||p===void 0||p.forEach(x=>{v[x.v]=(v[x.v]||0)+o.edge(x).weight}),v});return vr(o.nodes(),l)},Be=(o,l)=>{const f=o.x,p=o.y,v=l.x-f,x=l.y-p;let T=o.width/2,N=o.height/2;if(!v&&!x)return{x:0,y:0};let z,Z;return Math.abs(x)*T>Math.abs(v)*N?(x<0&&(N=-N),z=N*v/x,Z=N):(v<0&&(T=-T),z=T,Z=T*x/v),{x:f+z,y:p+Z}},Re=o=>{const l=[],f=[],p=Gt(o)+1;for(let v=0;v<p;v++)l.push([]),f.push([]);return o.nodes().forEach(v=>{const T=o.node(v).rank;T!==void 0&&l[T]&&f[T].push(v)}),f==null||f.forEach((v,x)=>{v==null||v.sort((T,N)=>{var z,Z;return((z=o.node(T))===null||z===void 0?void 0:z.order)-((Z=o.node(N))===null||Z===void 0?void 0:Z.order)}),v.forEach(T=>{l[x].push(T)})}),l},Fe=o=>{const l=o.nodes().filter(p=>o.node(p).rank!==void 0).map(p=>o.node(p).rank),f=Math.min(...l);o.nodes().forEach(p=>{const v=o.node(p);v.hasOwnProperty("rank")&&(v.rank||(v.rank=0),v.rank-=f)})},Se=o=>{const l=o.nodes().filter(T=>o.node(T).rank!==void 0).map(T=>o.node(T).rank),f=Math.min(...l),p=[];o.nodes().forEach(T=>{var N;const z=(((N=o.node(T))===null||N===void 0?void 0:N.rank)||0)-f;p[z]||(p[z]=[]),p[z].push(T)});let v=0;const x=o.graph().nodeRankFactor||0;for(let T=0;T<p.length;T++){const N=p[T];N===void 0&&T%x!==0?--v:v&&(N==null||N.forEach(z=>{o.node(z).rank||(o.node(z).rank=0),o.node(z).rank+=v}))}},wt=(o,l,f,p)=>{const v={width:0,height:0};return F(f)&&F(p)&&(v.rank=f,v.order=p),Zt(o,"border",v,l)},Gt=o=>{const l=o.nodes().map(f=>{const p=o.node(f).rank;return p!==void 0?p:-1/0});return Math.max(...l)},Sn=(o,l)=>{const f={lhs:[],rhs:[]};return o==null||o.forEach(p=>{l(p)?f.lhs.push(p):f.rhs.push(p)}),f},Un=(o,l)=>{const f=Date.now();try{return l()}finally{console.log(`${o} time: ${Date.now()-f}ms`)}},_e=(o,l)=>l(),We=(o,l)=>{let f=1/0,p;return o==null||o.forEach(v=>{const x=l(v);f>x&&(f=x,p=v)}),p};var Ve={addDummyNode:Zt,simplify:Pr,asNonCompoundGraph:Gn,successorWeights:$r,predecessorWeights:At,intersectRect:Be,buildLayerMatrix:Re,normalizeRanks:Fe,removeEmptyRanks:Se,addBorderNode:wt,maxRank:Gt,partition:Sn,time:Un,notime:_e,zipObject:vr,minBy:We};const Dt=o=>{o.graph().dummyChains=[],o.edges().forEach(l=>An(o,l))},An=(o,l)=>{var f,p;let v=l.v,x=o.node(v).rank;const T=l.w,N=o.node(T).rank,z=l.name,Z=o.edge(l),X=Z.labelRank;if(N===x+1)return;o.removeEdge(l);let se,xe,be;for(be=0,++x;x<N;++be,++x)Z.points=[],xe={edgeLabel:Z,width:0,height:0,edgeObj:l,rank:x},se=Ve.addDummyNode(o,"edge",xe,"_d"),x===X&&(xe.width=Z.width,xe.height=Z.height,xe.dummy="edge-label",xe.labelpos=Z.labelpos),o.setEdge(v,se,{weight:Z.weight},z),be===0&&(o.graph().dummyChains||(o.graph().dummyChains=[]),(p=(f=o.graph())===null||f===void 0?void 0:f.dummyChains)===null||p===void 0||p.push(se)),v=se;o.setEdge(v,T,{weight:Z.weight},z)};var et={run:Dt,undo:o=>{var l;(l=o.graph().dummyChains)===null||l===void 0||l.forEach(f=>{var p;let v=o.node(f);const x=v.edgeLabel;let T;v.edgeObj&&o.setEdge(v.edgeObj,x);let N=f;for(;v.dummy;)T=(p=o.successors(N))===null||p===void 0?void 0:p[0],o.removeNode(N),x.points.push({x:v.x,y:v.y}),v.dummy==="edge-label"&&(x.x=v.x,x.y=v.y,x.width=v.width,x.height=v.height),N=T,v=o.node(N)})}};const Tn=o=>{var l;const f={},p=v=>{var x;const T=o.node(v);if(f.hasOwnProperty(v))return T.rank;f[v]=!0;const N=(x=o.outEdges(v))===null||x===void 0?void 0:x.map(Z=>p(Z.w)-o.edge(Z).minlen||1/0);let z=Math.min(...N);return(z===Number.POSITIVE_INFINITY||z===void 0||z===null)&&(z=0),T.rank=z,z};(l=o.sources())===null||l===void 0||l.forEach(v=>p(v))},zt=o=>{var l;const f={};let p=0;const v=T=>{var N;const z=o.node(T);if(f.hasOwnProperty(T))return z.rank;f[T]=!0;const Z=(N=o.outEdges(T))===null||N===void 0?void 0:N.map(se=>v(se.w)-o.edge(se).minlen||1/0);let X=Math.min(...Z);return(X===Number.POSITIVE_INFINITY||X===void 0||X===null)&&(X=0),z.rank=X,p=Math.min(z.rank,p),z.rank};(l=o.sources())===null||l===void 0||l.forEach(T=>v(T)),p+=1;const x=(T,N)=>{var z;const Z=o.node(T),X=isNaN(Z.layer)?N:Z.layer;(Z.rank===void 0||Z.rank<X)&&(Z.rank=X),(z=o.outEdges(T))===null||z===void 0||z.map(se=>{x(se.w,X+o.edge(se).minlen)})};o.nodes().forEach(T=>{const N=o.node(T);isNaN(N.layer)?N.rank-=p:x(T,N.layer)})},Xn=(o,l)=>o.node(l.w).rank-o.node(l.v).rank-o.edge(l).minlen;var cr={longestPath:Tn,longestPathWithLayer:zt,slack:Xn};const ii=ct.Graph,ui=o=>{const l=new ii({directed:!1}),f=o.nodes()[0],p=o.nodeCount();l.setNode(f,{});let v,x;for(;Mr(l,o)<p;)v=yi(l,o),x=l.hasNode(v.v)?Xn(o,v):-Xn(o,v),ci(l,o,x);return l},Mr=(o,l)=>{const f=p=>{l.nodeEdges(p).forEach(v=>{const x=v.v,T=p===x?v.w:x;!o.hasNode(T)&&!Xn(l,v)&&(o.setNode(T,{}),o.setEdge(p,T,{}),f(T))})};return o.nodes().forEach(f),o.nodeCount()},jr=o=>{const l=new ii({directed:!1}),f=o.nodes()[0],p=o.nodeCount();l.setNode(f,{});let v,x;for(;eo(l,o)<p;)v=yi(l,o),x=l.hasNode(v.v)?Xn(o,v):-Xn(o,v),ci(l,o,x);return l},eo=(o,l)=>{const f=p=>{var v;(v=l.nodeEdges(p))===null||v===void 0||v.forEach(x=>{const T=x.v,N=p===T?x.w:T;!o.hasNode(N)&&(l.node(N).layer!==void 0||!Xn(l,x))&&(o.setNode(N,{}),o.setEdge(p,N,{}),f(N))})};return o.nodes().forEach(f),o.nodeCount()},yi=(o,l)=>We(l.edges(),f=>o.hasNode(f.v)!==o.hasNode(f.w)?Xn(l,f):1/0),ci=(o,l,f)=>{o.nodes().forEach(p=>{l.node(p).rank||(l.node(p).rank=0),l.node(p).rank+=f})};var Si={feasibleTree:ui,feasibleTreeWithLayer:jr};const Li=ct.alg,{preorder:to,postorder:Kr}=Li,gs=o=>{o=Pr(o),Tn(o);const l=ui(o);To(l),Cs(l,o);let f,p;for(;f=Ko(l);)p=os(l,o,f),_(l,o,f,p)},Cs=(o,l)=>{let f=Kr(o,o.nodes());f=f==null?void 0:f.slice(0,(f==null?void 0:f.length)-1),f==null||f.forEach(p=>{es(o,l,p)})},es=(o,l,f)=>{const v=o.node(f).parent;o.edge(f,v).cutvalue=cs(o,l,f)},cs=(o,l,f)=>{var p;const x=o.node(f).parent;let T=!0,N=l.edge(f,x),z=0;return N||(T=!1,N=l.edge(x,f)),z=N.weight,(p=l.nodeEdges(f))===null||p===void 0||p.forEach(Z=>{const X=Z.v===f,se=X?Z.w:Z.v;if(se!==x){const xe=X===T,be=l.edge(Z).weight;if(z+=xe?be:-be,he(o,f,se)){const Ie=o.edge(f,se).cutvalue;z+=xe?-Ie:Ie}}}),z},To=(o,l)=>{l!==void 0&&(l=o.nodes()[0]),Do(o,{},1,l)},Do=(o,l,f,p,v)=>{var x;const T=f;let N=f;const z=o.node(p);return l[p]=!0,(x=o.neighbors(p))===null||x===void 0||x.forEach(Z=>{l.hasOwnProperty(Z)||(N=Do(o,l,N,Z,p))}),z.low=T,z.lim=N++,v?z.parent=v:delete z.parent,N},Ko=o=>o.edges().find(l=>o.edge(l).cutvalue<0),os=(o,l,f)=>{let p=f.v,v=f.w;l.hasEdge(p,v)||(p=f.w,v=f.v);const x=o.node(p),T=o.node(v);let N=x,z=!1;x.lim>T.lim&&(N=T,z=!0);const Z=l.edges().filter(X=>z===ye(o,o.node(X.v),N)&&z!==ye(o,o.node(X.w),N));return We(Z,X=>Xn(l,X))},_=(o,l,f,p)=>{const v=f.v,x=f.w;o.removeEdge(v,x),o.setEdge(p.v,p.w,{}),To(o),Cs(o,l),K(o,l)},K=(o,l)=>{const f=o.nodes().find(v=>!l.node(v).parent);let p=to(o,f);p=p==null?void 0:p.slice(1),p==null||p.forEach(v=>{const x=o.node(v).parent;let T=l.edge(v,x),N=!1;T||(T=l.edge(x,v),N=!0),l.node(v).rank=l.node(x).rank+(N?T.minlen:-T.minlen)})},he=(o,l,f)=>o.hasEdge(l,f),ye=(o,l,f)=>f.low<=l.lim&&l.lim<=f.lim;gs.initLowLimValues=To,gs.initCutValues=Cs,gs.calcCutValue=cs,gs.leaveEdge=Ko,gs.enterEdge=os,gs.exchangeEdges=_;var Ue=gs;const He=o=>{switch(o.graph().ranker){case"network-simplex":gn(o);break;case"tight-tree":wn(o);break;case"longest-path":dt(o);break;default:wn(o)}},dt=Tn,wn=o=>{zt(o),jr(o)},gn=o=>{Ue(o)};var Pn=He;const zr=o=>{var l;const f=Hr(o);(l=o.graph().dummyChains)===null||l===void 0||l.forEach(p=>{var v,x;let T=o.node(p);const N=T.edgeObj;if(!N)return;const z=Gr(o,f,N.v,N.w),Z=z.path,X=z.lca;let se=0,xe=Z[se],be=!0;for(;p!==N.w;){if(T=o.node(p),be){for(;(xe=Z[se])!==X&&o.node(xe).maxRank<T.rank;)se++;xe===X&&(be=!1)}if(!be){for(;se<Z.length-1&&((v=o.node(xe=Z[se+1]))===null||v===void 0?void 0:v.minRank)<=T.rank;)se++;xe=Z[se]}o.setParent(p,xe),p=(x=o.successors(p))===null||x===void 0?void 0:x[0]}})},Gr=(o,l,f,p)=>{const v=[],x=[],T=Math.min(l[f].low,l[p].low),N=Math.max(l[f].lim,l[p].lim);let z,Z;z=f;do z=o.parent(z),v.push(z);while(z&&(l[z].low>T||N>l[z].lim));for(Z=z,z=p;(z=o.parent(z))!==Z;)x.push(z);return{lca:Z,path:v.concat(x.reverse())}},Hr=o=>{var l;const f={};let p=0;const v=x=>{var T;const N=p;(T=o.children(x))===null||T===void 0||T.forEach(v),f[x]={low:N,lim:p++}};return(l=o.children())===null||l===void 0||l.forEach(v),f};var bi=zr;const Vo=o=>{var l;const f=Ve.addDummyNode(o,"root",{},"_root"),p=Zo(o),v=Math.max(...Object.values(p))-1,x=2*v+1;o.graph().nestingRoot=f,o.edges().forEach(N=>{o.edge(N).minlen*=x});const T=Ns(o)+1;(l=o.children())===null||l===void 0||l.forEach(N=>{Uo(o,f,x,T,v,p,N)}),o.graph().nodeRankFactor=x},Uo=(o,l,f,p,v,x,T)=>{const N=o.children(T);if(!(N!=null&&N.length)){T!==l&&o.setEdge(l,T,{weight:0,minlen:f});return}const z=Ve.addBorderNode(o,"_bt"),Z=Ve.addBorderNode(o,"_bb"),X=o.node(T);o.setParent(z,T),X.borderTop=z,o.setParent(Z,T),X.borderBottom=Z,N==null||N.forEach(se=>{Uo(o,l,f,p,v,x,se);const xe=o.node(se),be=xe.borderTop?xe.borderTop:se,Ie=xe.borderBottom?xe.borderBottom:se,De=xe.borderTop?p:2*p,Te=be!==Ie?1:v-x[T]+1;o.setEdge(z,be,{minlen:Te,weight:De,nestingEdge:!0}),o.setEdge(Ie,Z,{minlen:Te,weight:De,nestingEdge:!0})}),o.parent(T)||o.setEdge(l,z,{weight:0,minlen:v+x[T]})},Zo=o=>{var l;const f={},p=(v,x)=>{const T=o.children(v);T==null||T.forEach(N=>p(N,x+1)),f[v]=x};return(l=o.children())===null||l===void 0||l.forEach(v=>p(v,1)),f},Ns=o=>{let l=0;return o.edges().forEach(f=>{l+=o.edge(f).weight}),l};var No={run:Vo,cleanup:o=>{const l=o.graph();l.nestingRoot&&o.removeNode(l.nestingRoot),delete l.nestingRoot,o.edges().forEach(f=>{o.edge(f).nestingEdge&&o.removeEdge(f)})}};const ws=o=>{var l;const f=p=>{const v=o.children(p),x=o.node(p);if(v!=null&&v.length&&v.forEach(T=>f(T)),x.hasOwnProperty("minRank")){x.borderLeft=[],x.borderRight=[];for(let T=x.minRank,N=x.maxRank+1;T<N;++T)Hi(o,"borderLeft","_bl",p,x,T),Hi(o,"borderRight","_br",p,x,T)}};(l=o.children())===null||l===void 0||l.forEach(p=>f(p))},Hi=(o,l,f,p,v,x)=>{const T={rank:x,width:0,height:0,borderType:l},N=v[l][x-1],z=Ve.addDummyNode(o,"border",T,f);v[l][x]=z,o.setParent(z,p),N&&o.setEdge(N,z,{weight:1})};var ms=ws;const Pt=o=>{var l;const f=(l=o.graph().rankdir)===null||l===void 0?void 0:l.toLowerCase();(f==="lr"||f==="rl")&&Ft(o)},ot=o=>{var l;const f=(l=o.graph().rankdir)===null||l===void 0?void 0:l.toLowerCase();(f==="bt"||f==="rl")&&Ht(o),(f==="lr"||f==="rl")&&(Vn(o),Ft(o))},Ft=o=>{o.nodes().forEach(l=>{Qt(o.node(l))}),o.edges().forEach(l=>{Qt(o.edge(l))})},Qt=o=>{const l=o.width;o.width=o.height,o.height=l},Ht=o=>{o.nodes().forEach(l=>{$n(o.node(l))}),o.edges().forEach(l=>{var f;const p=o.edge(l);(f=p.points)===null||f===void 0||f.forEach(v=>$n(v)),p.hasOwnProperty("y")&&$n(p)})},$n=o=>{o.y=-o.y},Vn=o=>{o.nodes().forEach(l=>{Er(o.node(l))}),o.edges().forEach(l=>{var f;const p=o.edge(l);(f=p.points)===null||f===void 0||f.forEach(v=>Er(v)),p.hasOwnProperty("x")&&Er(p)})},Er=o=>{const l=o.x;o.x=o.y,o.y=l};var io={adjust:Pt,undo:ot},Ki=o=>{const l={},f=o.nodes().filter(X=>{var se;return!(!((se=o.children(X))===null||se===void 0)&&se.length)}),p=f.map(X=>o.node(X).rank),v=Math.max(...p),x=[];for(let X=0;X<v+1;X++)x.push([]);const T=X=>{var se;if(l.hasOwnProperty(X))return;l[X]=!0;const xe=o.node(X);isNaN(xe.rank)||x[xe.rank].push(X),(se=o.successors(X))===null||se===void 0||se.forEach(be=>T(be))},N=f.sort((X,se)=>o.node(X).rank-o.node(se).rank),Z=N.filter(X=>o.node(X).fixorder!==void 0).sort((X,se)=>o.node(X).fixorder-o.node(se).fixorder);return Z==null||Z.forEach(X=>{isNaN(o.node(X).rank)||x[o.node(X).rank].push(X),l[X]=!0}),N==null||N.forEach(T),x};const qi=(o,l,f)=>{const p=vr(f,f.map((X,se)=>se)),x=l.map(X=>{var se;const xe=(se=o.outEdges(X))===null||se===void 0?void 0:se.map(be=>({pos:p[be.w]||0,weight:o.edge(be).weight}));return xe==null?void 0:xe.sort((be,Ie)=>be.pos-Ie.pos)}).flat().filter(X=>X!==void 0);let T=1;for(;T<f.length;)T<<=1;const N=2*T-1;T-=1;const z=Array(N).fill(0,0,N);let Z=0;return x==null||x.forEach(X=>{let se=X.pos+T;z[se]+=X.weight;let xe=0;for(;se>0;)se%2&&(xe+=z[se+1]),se=se-1>>1,z[se]+=X.weight;Z+=X.weight*xe}),Z};var Ts=(o,l)=>{let f=0;for(let p=1;p<(l==null?void 0:l.length);++p)f+=qi(o,l[p-1],l[p]);return f};const rs=ct.Graph,po=(o,l,f)=>{const p=xi(o),v=new rs({compound:!0}).setGraph({root:p}).setDefaultNodeLabel(x=>o.node(x));return o.nodes().forEach(x=>{const T=o.node(x),N=o.parent(x);(T.rank===l||T.minRank<=l&&l<=T.maxRank)&&(v.setNode(x),v.setParent(x,N||p),o[f](x).forEach(z=>{const Z=z.v===x?z.w:z.v,X=v.edge(Z,x),se=X!==void 0?X.weight:0;v.setEdge(Z,x,{weight:o.edge(z).weight+se})}),T.hasOwnProperty("minRank")&&v.setNode(x,{borderLeft:T.borderLeft[l],borderRight:T.borderRight[l]}))}),v},xi=o=>{let l;for(;o.hasNode(l=`_root${Math.random()}`););return l};var Ho=po,Yo=(o,l,f)=>{const p={};let v;f==null||f.forEach(x=>{let T=o.parent(x),N,z;for(;T;){if(N=o.parent(T),N?(z=p[N],p[N]=T):(z=v,v=T),z&&z!==T){l.setEdge(z,T);return}T=N}})},Ol=(o,l)=>l.map(f=>{const p=o.inEdges(f);if(!(p!=null&&p.length))return{v:f};{const v={sum:0,weight:0};return p==null||p.forEach(x=>{const T=o.edge(x),N=o.node(x.v);v.sum+=T.weight*N.order,v.weight+=T.weight}),{v:f,barycenter:v.sum/v.weight,weight:v.weight}}});const xa=(o,l)=>{var f,p,v;const x={};o==null||o.forEach((N,z)=>{const Z=x[N.v]={i:z,indegree:0,in:[],out:[],vs:[N.v]};N.barycenter!==void 0&&(Z.barycenter=N.barycenter,Z.weight=N.weight)}),(f=l.edges())===null||f===void 0||f.forEach(N=>{const z=x[N.v],Z=x[N.w];z!==void 0&&Z!==void 0&&(Z.indegree++,z.out.push(x[N.w]))});const T=(v=(p=Object.values(x)).filter)===null||v===void 0?void 0:v.call(p,N=>!N.indegree);return Ca(T)},Ca=o=>{var l,f;const p=[],v=z=>Z=>{Z.merged||(Z.barycenter===void 0||z.barycenter===void 0||Z.barycenter>=z.barycenter)&&ra(z,Z)},x=z=>Z=>{Z.in.push(z),--Z.indegree===0&&o.push(Z)};for(;o!=null&&o.length;){const z=o.pop();p.push(z),(l=z.in.reverse())===null||l===void 0||l.forEach(Z=>v(z)(Z)),(f=z.out)===null||f===void 0||f.forEach(Z=>x(z)(Z))}const T=p.filter(z=>!z.merged),N=["vs","i","barycenter","weight"];return T.map(z=>{const Z={};return N==null||N.forEach(X=>{z[X]!==void 0&&(Z[X]=z[X])}),Z})},ra=(o,l)=>{var f;let p=0,v=0;o.weight&&(p+=o.barycenter*o.weight,v+=o.weight),l.weight&&(p+=l.barycenter*l.weight,v+=l.weight),o.vs=(f=l.vs)===null||f===void 0?void 0:f.concat(o.vs),o.barycenter=p/v,o.weight=v,o.i=Math.min(l.i,o.i),l.merged=!0};var Aa=xa;const Il=(o,l,f)=>{const p=Ve.partition(o,se=>se.hasOwnProperty("fixorder")&&!isNaN(se.fixorder)||se.hasOwnProperty("barycenter")),v=p.lhs,x=p.rhs.sort((se,xe)=>-se.i- -xe.i),T=[];let N=0,z=0,Z=0;v==null||v.sort(Rl(!!l,!!f)),Z=Ra(T,x,Z),v==null||v.forEach(se=>{var xe;Z+=(xe=se.vs)===null||xe===void 0?void 0:xe.length,T.push(se.vs),N+=se.barycenter*se.weight,z+=se.weight,Z=Ra(T,x,Z)});const X={vs:T.flat()};return z&&(X.barycenter=N/z,X.weight=z),X},Ra=(o,l,f)=>{let p=f,v;for(;l.length&&(v=l[l.length-1]).i<=p;)l.pop(),o==null||o.push(v.vs),p++;return p},Rl=(o,l)=>(f,p)=>{if(f.fixorder!==void 0&&p.fixorder!==void 0)return f.fixorder-p.fixorder;if(f.barycenter<p.barycenter)return-1;if(f.barycenter>p.barycenter)return 1;if(l&&f.order!==void 0&&p.order!==void 0){if(f.order<p.order)return-1;if(f.order>p.order)return 1}return o?p.i-f.i:f.i-p.i};var Ka=Il;const ol=(o,l,f,p,v)=>{var x,T,N,z;let Z=o.children(l);const X=o.node(l),se=X?X.borderLeft:void 0,xe=X?X.borderRight:void 0,be={};se&&(Z=Z==null?void 0:Z.filter(st=>st!==se&&st!==xe));const Ie=Ol(o,Z||[]);Ie==null||Ie.forEach(st=>{var St;if(!((St=o.children(st.v))===null||St===void 0)&&St.length){const an=ol(o,st.v,f,p);be[st.v]=an,an.hasOwnProperty("barycenter")&&sl(st,an)}});const De=Aa(Ie,f);Wl(De,be),(x=De.filter(st=>{var St;return!!st.vs||((St=st.vs)===null||St===void 0?void 0:St.length)>0}))===null||x===void 0||x.forEach(st=>{const St=o.node(st.vs[0]);st.fixorder=St.fixorder,st.order=St.order});const Te=Ka(De,p,v);if(se&&(Te.vs=[se,Te.vs,xe].flat(),!((T=o.predecessors(se))===null||T===void 0)&&T.length)){const st=o.node(((N=o.predecessors(se))===null||N===void 0?void 0:N[0])||{}),St=o.node(((z=o.predecessors(xe))===null||z===void 0?void 0:z[0])||{});Te.hasOwnProperty("barycenter")||(Te.barycenter=0,Te.weight=0),Te.barycenter=(Te.barycenter*Te.weight+st.order+St.order)/(Te.weight+2),Te.weight+=2}return Te},Wl=(o,l)=>{o==null||o.forEach(f=>{var p;const v=(p=f.vs)===null||p===void 0?void 0:p.map(x=>l[x]?l[x].vs:x);f.vs=v.flat()})},sl=(o,l)=>{o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight):(o.barycenter=l.barycenter,o.weight=l.weight)};var Ia=ol;const pc=ct.Graph,al=o=>{const l=Ve.maxRank(o),f=[],p=[];for(let Z=1;Z<l+1;Z++)f.push(Z);for(let Z=l-1;Z>-1;Z--)p.push(Z);const v=kl(o,f,"inEdges"),x=kl(o,p,"outEdges");let T=Ki(o);En(o,T);let N=Number.POSITIVE_INFINITY,z;for(let Z=0,X=0;X<4;++Z,++X){Bc(Z%2?v:x,Z%4>=2),T=Ve.buildLayerMatrix(o);const se=Ts(o,T);se<N&&(X=0,z=ae(T),N=se)}T=Ki(o),En(o,T);for(let Z=0,X=0;X<4;++Z,++X){Bc(Z%2?v:x,Z%4>=2,!0),T=Ve.buildLayerMatrix(o);const se=Ts(o,T);se<N&&(X=0,z=ae(T),N=se)}En(o,z)},kl=(o,l,f)=>l.map(p=>Ho(o,p,f)),Bc=(o,l,f)=>{const p=new pc;o==null||o.forEach(v=>{var x;const T=v.graph().root,N=Ia(v,T,p,l,f);for(let z=0;z<((x=N.vs)===null||x===void 0?void 0:x.length);z++)v.node(N.vs[z]).order=z;Yo(v,p,N.vs)})},En=(o,l)=>{l==null||l.forEach(f=>{f==null||f.forEach((p,v)=>{o.node(p).order=v})})};var fr=al;const Nr=ct.Graph,Ot=(o,l)=>{const f={},p=(v,x)=>{let T=0,N=0;const z=v.length,Z=x==null?void 0:x[(x==null?void 0:x.length)-1];return x==null||x.forEach((X,se)=>{var xe;const be=Yn(o,X),Ie=be?o.node(be).order:z;(be||X===Z)&&((xe=x.slice(N,se+1))===null||xe===void 0||xe.forEach(De=>{var Te;(Te=o.predecessors(De))===null||Te===void 0||Te.forEach(st=>{const St=o.node(st),an=St.order;(an<T||Ie<an)&&!(St.dummy&&o.node(De).dummy)&&di(f,st,De)})}),N=se+1,T=Ie)}),x};return l!=null&&l.length&&l.reduce(p),f},On=(o,l)=>{const f={},p=(x,T,N,z,Z)=>{let X;const se=[];for(let xe=T;xe<N;xe++)se.push(xe);se.forEach(xe=>{var be;X=x[xe],o.node(X).dummy&&((be=o.predecessors(X))===null||be===void 0||be.forEach(Ie=>{const De=o.node(Ie);De.dummy&&(De.order<z||De.order>Z)&&di(f,Ie,X)}))})},v=(x,T)=>{let N=-1,z,Z=0;return T==null||T.forEach((X,se)=>{if(o.node(X).dummy==="border"){const xe=o.predecessors(X)||[];xe.length&&(z=o.node(xe[0]).order,p(T,Z,se,N,z),Z=se,N=z)}p(T,Z,T.length,z,x.length)}),T};return l!=null&&l.length&&l.reduce(v),f},Yn=(o,l)=>{var f;if(o.node(l).dummy)return(f=o.predecessors(l))===null||f===void 0?void 0:f.find(p=>o.node(p).dummy)},di=(o,l,f)=>{let p=l,v=f;if(p>v){const T=p;p=v,v=T}let x=o[p];x||(o[p]=x={}),x[v]=!0},Qi=(o,l,f)=>{let p=l,v=f;if(p>v){const x=l;p=v,v=x}return o[p]&&o[p].hasOwnProperty(v)},ao=(o,l,f,p)=>{const v={},x={},T={};return l==null||l.forEach(N=>{N==null||N.forEach((z,Z)=>{v[z]=z,x[z]=z,T[z]=Z})}),l==null||l.forEach(N=>{let z=-1;N==null||N.forEach(Z=>{let X=p(Z);if(X.length){X=X.sort((xe,be)=>T[xe]-T[be]);const se=(X.length-1)/2;for(let xe=Math.floor(se),be=Math.ceil(se);xe<=be;++xe){const Ie=X[xe];x[Z]===Z&&z<T[Ie]&&!Qi(f,Z,Ie)&&(x[Ie]=Z,x[Z]=v[Z]=v[Ie],z=T[Ie])}}})}),{root:v,align:x}},Ps=(o,l,f,p,v)=>{var x;const T={},N=ts(o,l,f,v),z=v?"borderLeft":"borderRight",Z=(xe,be)=>{let Ie=N.nodes(),De=Ie.pop();const Te={};for(;De;)Te[De]?xe(De):(Te[De]=!0,Ie.push(De),Ie=Ie.concat(be(De))),De=Ie.pop()},X=xe=>{T[xe]=(N.inEdges(xe)||[]).reduce((be,Ie)=>Math.max(be,(T[Ie.v]||0)+N.edge(Ie)),0)},se=xe=>{const be=(N.outEdges(xe)||[]).reduce((De,Te)=>Math.min(De,(T[Te.w]||0)-N.edge(Te)),Number.POSITIVE_INFINITY),Ie=o.node(xe);be!==Number.POSITIVE_INFINITY&&Ie.borderType!==z&&(T[xe]=Math.max(T[xe],be))};return Z(X,N.predecessors.bind(N)),Z(se,N.successors.bind(N)),(x=Object.values(p))===null||x===void 0||x.forEach(xe=>{T[xe]=T[f[xe]]}),T},ts=(o,l,f,p)=>{const v=new Nr,x=o.graph(),T=ya(x.nodesep,x.edgesep,p);return l==null||l.forEach(N=>{let z;N==null||N.forEach(Z=>{const X=f[Z];if(v.setNode(X),z){const se=f[z],xe=v.edge(se,X);v.setEdge(se,X,Math.max(T(o,Z,z),xe||0))}z=Z})}),v},Lo=(o,l)=>Ve.minBy(Object.values(l),f=>{var p;let v=Number.NEGATIVE_INFINITY,x=Number.POSITIVE_INFINITY;return(p=Object.keys(f))===null||p===void 0||p.forEach(T=>{const N=f[T],z=ha(o,T)/2;v=Math.max(N+z,v),x=Math.min(N-z,x)}),v-x});function jo(o,l){const f=Object.values(l),p=Math.min(...f),v=Math.max(...f);["u","d"].forEach(x=>{["l","r"].forEach(T=>{const N=x+T,z=o[N];let Z;if(z===l)return;const X=Object.values(z);Z=T==="l"?p-Math.min(...X):v-Math.max(...X),Z&&(o[N]={},Object.keys(z).forEach(se=>{o[N][se]=z[se]+Z}))})})}const Ro=(o,l)=>{const f={};return Object.keys(o.ul).forEach(p=>{if(l)f[p]=o[l.toLowerCase()][p];else{const x=Object.values(o).map(T=>T[p]).sort((T,N)=>T-N);f[p]=(x[1]+x[2])/2}}),f},$s=o=>{const l=Ve.buildLayerMatrix(o),f=Object.assign(Ot(o,l),On(o,l)),p={};let v;["u","d"].forEach(T=>{v=T==="u"?l:Object.values(l).reverse(),["l","r"].forEach(N=>{N==="r"&&(v=v.map(se=>Object.values(se).reverse()));const z=(T==="u"?o.predecessors:o.successors).bind(o),Z=ao(o,v,f,z);let X=Ps(o,v,Z.root,Z.align,N==="r");N==="r"&&(X=Object.values(X).map(se=>-se)),p[T+N]=X})});const x=Lo(o,p);return jo(p,x),Ro(p,o.graph().align)},ya=(o,l,f)=>(p,v,x)=>{const T=p.node(v),N=p.node(x);let z=0,Z;if(z+=T.width/2,T.hasOwnProperty("labelpos"))switch((T.labelpos||"").toLowerCase()){case"l":Z=-T.width/2;break;case"r":Z=T.width/2;break}if(Z&&(z+=f?Z:-Z),Z=0,z+=(T.dummy?l:o)/2,z+=(N.dummy?l:o)/2,z+=N.width/2,N.hasOwnProperty("labelpos"))switch((N.labelpos||"").toLowerCase()){case"l":Z=N.width/2;break;case"r":Z=-N.width/2;break}return Z&&(z+=f?Z:-Z),Z=0,z},ha=(o,l)=>{var f;return((f=o.node(l))===null||f===void 0?void 0:f.width)||0};var Wa={positionX:$s,findType1Conflicts:Ot,findType2Conflicts:On,addConflict:di,hasConflict:Qi,verticalAlignment:ao,horizontalCompaction:Ps,alignCoordinates:jo,findSmallestWidthAlignment:Lo,balance:Ro};const bl=o=>{const l=Ve.buildLayerMatrix(o),f=o.graph().ranksep;let p=0;l==null||l.forEach(v=>{const x=v.map(N=>o.node(N).height),T=Math.max(...x);v==null||v.forEach(N=>{o.node(N).y=p+T/2}),p+=T+f})},Ls=o=>{const l=Ve.buildLayerMatrix(o),f=Object.assign(Ot(o,l),On(o,l)),p={};let v;["u","d"].forEach(T=>{v=T==="u"?l:Object.values(l).reverse(),["l","r"].forEach(N=>{N==="r"&&(v=v.map(se=>Object.values(se).reverse()));const z=(T==="u"?o.predecessors:o.successors).bind(o),Z=ao(o,v,f,z),X=Ps(o,v,Z.root,Z.align,N==="r");N==="r"&&Object.keys(X).forEach(se=>X[se]=-X[se]),p[T+N]=X})});const x=Lo(o,p);return x&&jo(p,x),Ro(p,o.graph().align)};var ou=o=>{var l;o=Ve.asNonCompoundGraph(o),bl(o);const f=Ls(o);(l=Object.keys(f))===null||l===void 0||l.forEach(p=>{o.node(p).x=f[p]})},Xg=(o,l)=>{const p=o.nodes().filter(T=>{var N;return!(!((N=o.children(T))===null||N===void 0)&&N.length)}).map(T=>o.node(T).rank),v=Math.max(...p),x=[];for(let T=0;T<v+1;T++)x.push([]);l==null||l.forEach(T=>{const N=o.node(T);!N||N.dummy||isNaN(N.rank)||(N.fixorder=x[N.rank].length,x[N.rank].push(T))})};const Yg=ct.Graph,Jg=(o,l)=>{const f=l&&l.debugTiming?Ve.time:Ve.notime;f("layout",()=>{l&&!l.keepNodeOrder&&l.prevGraph&&f("  inheritOrder",()=>{Cc(o,l.prevGraph)});const p=f("  buildLayoutGraph",()=>kd(o));l&&l.edgeLabelSpace===!1||f("  makeSpaceForEdgeLabels",()=>{qg(p)});try{f("  runLayout",()=>{Iu(p,f,l)})}catch(v){if(v.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,v);return}throw v}f("  updateInputGraph",()=>{Ru(o,p)})})},Iu=(o,l,f)=>{l("    removeSelfEdges",()=>{Af(o)}),l("    acyclic",()=>{wi.run(o)}),l("    nestingGraph.run",()=>{No.run(o)}),l("    rank",()=>{Pn(Ve.asNonCompoundGraph(o))}),l("    injectEdgeLabelProxies",()=>{zp(o)}),l("    removeEmptyRanks",()=>{Se(o)}),l("    nestingGraph.cleanup",()=>{No.cleanup(o)}),l("    normalizeRanks",()=>{Fe(o)}),l("    assignRankMinMax",()=>{Qg(o)}),l("    removeEdgeLabelProxies",()=>{Kf(o)}),l("    normalize.run",()=>{et.run(o)}),l("    parentDummyChains",()=>{bi(o)}),l("    addBorderSegments",()=>{ms(o)}),f&&f.keepNodeOrder&&l("    initDataOrder",()=>{Xg(o,f.nodeOrder)}),l("    order",()=>{fr(o)}),l("    insertSelfEdges",()=>{wl(o)}),l("    adjustCoordinateSystem",()=>{io.adjust(o)}),l("    position",()=>{ou(o)}),l("    positionSelfEdges",()=>{$l(o)}),l("    removeBorderNodes",()=>{em(o)}),l("    normalize.undo",()=>{et.undo(o)}),l("    fixupEdgeLabelCoords",()=>{m0(o)}),l("    undoCoordinateSystem",()=>{io.undo(o)}),l("    translateGraph",()=>{Xf(o)}),l("    assignNodeIntersects",()=>{Sf(o)}),l("    reversePoints",()=>{od(o)}),l("    acyclic.undo",()=>{wi.undo(o)})},Cc=(o,l)=>{const f=l._nodes||{};o.nodes().forEach(p=>{const v=o.node(p);f[p]!==void 0?(v.fixorder=f[p]._order,delete f[p]._order):delete v.fixorder})},Ru=(o,l)=>{o.nodes().forEach(f=>{var p;const v=o.node(f),x=l.node(f);v&&(v.x=x.x,v.y=x.y,v._order=x.order,v._rank=x.rank,!((p=l.children(f))===null||p===void 0)&&p.length&&(v.width=x.width,v.height=x.height))}),o.edges().forEach(f=>{const p=o.edge(f),v=l.edge(f);p.points=v.points,v.hasOwnProperty("x")&&(p.x=v.x,p.y=v.y)}),o.graph().width=l.graph().width,o.graph().height=l.graph().height},zl=["nodesep","edgesep","ranksep","marginx","marginy"],Hf={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Eh=["acyclicer","ranker","rankdir","align"],qu=["width","height","layer","fixorder"],wf={width:0,height:0},Bp=["minlen","weight","width","height","labeloffset"],Ef={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},yu=["labelpos"],kd=o=>{const l=new Yg({multigraph:!0,compound:!0}),f=sd(o.graph()),p={};return Eh==null||Eh.forEach(v=>{f[v]!==void 0&&(p[v]=f[v])}),l.setGraph(Object.assign({},Hf,Ld(f,zl),p)),o.nodes().forEach(v=>{const x=sd(o.node(v)),T=Ld(x,qu);Object.keys(wf).forEach(N=>{T[N]===void 0&&(T[N]=wf[N])}),l.setNode(v,T),l.setParent(v,o.parent(v))}),o.edges().forEach(v=>{const x=sd(o.edge(v)),T={};yu==null||yu.forEach(N=>{x[N]!==void 0&&(T[N]=x[N])}),l.setEdge(v,Object.assign({},Ef,Ld(x,Bp),T))}),l},qg=o=>{const l=o.graph();l.ranksep||(l.ranksep=0),l.ranksep/=2,o.nodes().forEach(f=>{const p=o.node(f);isNaN(p.layer)||(p.layer?p.layer*=2:p.layer=0)}),o.edges().forEach(f=>{var p;const v=o.edge(f);v.minlen*=2,((p=v.labelpos)===null||p===void 0?void 0:p.toLowerCase())!=="c"&&(l.rankdir==="TB"||l.rankdir==="BT"?v.width+=v.labeloffset:v.height+=v.labeloffset)})},zp=o=>{o.edges().forEach(l=>{const f=o.edge(l);if(f.width&&f.height){const p=o.node(l.v),v=o.node(l.w),x={e:l,rank:(v.rank-p.rank)/2+p.rank};Ve.addDummyNode(o,"edge-proxy",x,"_ep")}})},Qg=o=>{let l=0;o.nodes().forEach(f=>{const p=o.node(f);p.borderTop&&(p.minRank=o.node(p.borderTop).rank,p.maxRank=o.node(p.borderBottom).rank,l=Math.max(l,p.maxRank||-1/0))}),o.graph().maxRank=l},Kf=o=>{o.nodes().forEach(l=>{const f=o.node(l);f.dummy==="edge-proxy"&&(o.edge(f.e).labelRank=f.rank,o.removeNode(l))})},Xf=o=>{let l=Number.POSITIVE_INFINITY,f=0,p=Number.POSITIVE_INFINITY,v=0;const x=o.graph(),T=x.marginx||0,N=x.marginy||0,z=Z=>{if(!Z)return;const X=Z.x,se=Z.y,xe=Z.width,be=Z.height;!isNaN(X)&&!isNaN(xe)&&(l=Math.min(l,X-xe/2),f=Math.max(f,X+xe/2)),!isNaN(se)&&!isNaN(be)&&(p=Math.min(p,se-be/2),v=Math.max(v,se+be/2))};o.nodes().forEach(Z=>{z(o.node(Z))}),o.edges().forEach(Z=>{const X=o.edge(Z);X.hasOwnProperty("x")&&z(X)}),l-=T,p-=N,o.nodes().forEach(Z=>{const X=o.node(Z);X.x-=l,X.y-=p}),o.edges().forEach(Z=>{var X;const se=o.edge(Z);(X=se.points)===null||X===void 0||X.forEach(xe=>{xe.x-=l,xe.y-=p}),se.hasOwnProperty("x")&&(se.x-=l),se.hasOwnProperty("y")&&(se.y-=p)}),x.width=f-l+T,x.height=v-p+N},Sf=o=>{o.edges().forEach(l=>{const f=o.edge(l),p=o.node(l.v),v=o.node(l.w);let x,T;f.points?(x=f.points[0],T=f.points[f.points.length-1]):(f.points=[],x=v,T=p),f.points.unshift(Ve.intersectRect(p,x)),f.points.push(Ve.intersectRect(v,T))})},m0=o=>{o.edges().forEach(l=>{const f=o.edge(l);if(f.hasOwnProperty("x"))switch((f.labelpos==="l"||f.labelpos==="r")&&(f.width-=f.labeloffset),f.labelpos){case"l":f.x-=f.width/2+f.labeloffset;break;case"r":f.x+=f.width/2+f.labeloffset;break}})},od=o=>{o.edges().forEach(l=>{const f=o.edge(l);f.reversed&&f.points.reverse()})},em=o=>{o.nodes().forEach(l=>{var f,p,v;if(!((f=o.children(l))===null||f===void 0)&&f.length){const x=o.node(l),T=o.node(x.borderTop),N=o.node(x.borderBottom),z=o.node(x.borderLeft[((p=x.borderLeft)===null||p===void 0?void 0:p.length)-1]),Z=o.node(x.borderRight[((v=x.borderRight)===null||v===void 0?void 0:v.length)-1]);x.width=Math.abs((Z==null?void 0:Z.x)-(z==null?void 0:z.x))||10,x.height=Math.abs((N==null?void 0:N.y)-(T==null?void 0:T.y))||10,x.x=((z==null?void 0:z.x)||0)+x.width/2,x.y=((T==null?void 0:T.y)||0)+x.height/2}}),o.nodes().forEach(l=>{o.node(l).dummy==="border"&&o.removeNode(l)})},Af=o=>{o.edges().forEach(l=>{if(l.v===l.w){const f=o.node(l.v);f.selfEdges||(f.selfEdges=[]),f.selfEdges.push({e:l,label:o.edge(l)}),o.removeEdge(l)}})},wl=o=>{const l=Ve.buildLayerMatrix(o);l==null||l.forEach(f=>{let p=0;f==null||f.forEach((v,x)=>{var T;const N=o.node(v);N.order=x+p,(T=N.selfEdges)===null||T===void 0||T.forEach(z=>{Ve.addDummyNode(o,"selfedge",{width:z.label.width,height:z.label.height,rank:N.rank,order:x+ ++p,e:z.e,label:z.label},"_se")}),delete N.selfEdges})})},$l=o=>{o.nodes().forEach(l=>{const f=o.node(l);if(f.dummy==="selfedge"){const p=o.node(f.e.v),v=p.x+p.width/2,x=p.y,T=f.x-v,N=p.height/2;o.setEdge(f.e,f.label),o.removeNode(l),f.label.points=[{x:v+2*T/3,y:x-N},{x:v+5*T/6,y:x-N},{y:x,x:v+T},{x:v+5*T/6,y:x+N},{x:v+2*T/3,y:x+N}],f.label.x=f.x,f.label.y=f.y}})},Ld=(o,l)=>{const f={};return l==null||l.forEach(p=>{o[p]!==void 0&&(f[p]=+o[p])}),f},sd=o=>{const l={};return Object.keys(o).forEach(f=>{const p=o[f];l[f.toLowerCase()]=p}),l};var ad=Jg,Fd={graphlib:ct,layout:ad,util:{time:Un,notime:_e}};class Sh extends Vt{constructor(l){super(),this.rankdir="TB",this.nodesep=50,this.ranksep=50,this.controlPoints=!1,this.sortByCombo=!1,this.edgeLabelSpace=!0,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.layoutNode=f=>{const p=this,{nodes:v}=p,x=v.find(T=>T.id===f);return x?x.layout!==!1:!0},this.updateCfg(l)}getDefaultCfg(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}execute(){const l=this,{nodes:f,nodeSize:p,rankdir:v,combos:x,begin:T}=l;if(!f)return;const N=l.edges||[],z=new Fd.graphlib.Graph({multigraph:!0,compound:!0});let Z;p?k(p)?Z=()=>p:Z=()=>[p,p]:Z=De=>De.size?k(De.size)?De.size:ee(De.size)?[De.size.width||40,De.size.height||40]:[De.size,De.size]:[40,40];let X=Du(l.nodesepFunc,l.nodesep,50),se=Du(l.ranksepFunc,l.ranksep,50);(v==="LR"||v==="RL")&&(X=Du(l.ranksepFunc,l.ranksep,50),se=Du(l.nodesepFunc,l.nodesep,50)),z.setDefaultEdgeLabel(()=>({})),z.setGraph(l);const xe={};f.filter(De=>De.layout!==!1).forEach(De=>{const Te=Z(De),st=se(De),St=X(De),an=Te[0]+2*St,Nn=Te[1]+2*st,Ln=De.layer;F(Ln)?z.setNode(De.id,{width:an,height:Nn,layer:Ln}):z.setNode(De.id,{width:an,height:Nn}),this.sortByCombo&&De.comboId&&(xe[De.comboId]||(xe[De.comboId]=!0,z.setNode(De.comboId,{})),z.setParent(De.id,De.comboId))}),this.sortByCombo&&x&&x.forEach(De=>{De.parentId&&(xe[De.parentId]||(xe[De.parentId]=!0,z.setNode(De.parentId,{})),z.setParent(De.id,De.parentId))}),N.forEach(De=>{const Te=ue(De,"source"),st=ue(De,"target");this.layoutNode(Te)&&this.layoutNode(st)&&z.setEdge(Te,st,{weight:De.weight||1})});let be;l.preset&&(be=new Fd.graphlib.Graph({multigraph:!0,compound:!0}),l.preset.nodes.forEach(De=>{be==null||be.setNode(De.id,De)})),Fd.layout(z,{prevGraph:be,edgeLabelSpace:l.edgeLabelSpace,keepNodeOrder:!!l.nodeOrder,nodeOrder:l.nodeOrder});const Ie=[0,0];if(T){let De=1/0,Te=1/0;z.nodes().forEach(st=>{const St=z.node(st);De>St.x&&(De=St.x),Te>St.y&&(Te=St.y)}),z.edges().forEach(st=>{z.edge(st).points.forEach(an=>{De>an.x&&(De=an.x),Te>an.y&&(Te=an.y)})}),Ie[0]=T[0]-De,Ie[1]=T[1]-Te}return z.nodes().forEach(De=>{const Te=z.node(De),st=f.findIndex(St=>St.id===De);f[st]&&(f[st].x=Te.x+Ie[0],f[st].y=Te.y+Ie[1],f[st]._order=Te._order)}),z.edges().forEach(De=>{const Te=z.edge(De),st=N.findIndex(St=>{const an=ue(St,"source"),Nn=ue(St,"target");return an===De.v&&Nn===De.w});l.edgeLabelSpace&&l.controlPoints&&N[st].type!=="loop"&&(N[st].controlPoints=Te.points.slice(1,Te.points.length-1),N[st].controlPoints.forEach(St=>{St.x+=Ie[0],St.y+=Ie[1]}))}),l.onLayoutEnd&&l.onLayoutEnd(),{nodes:f,edges:N}}getType(){return"dagre"}}function Du(o,l,f){let p;return o?p=o:F(l)?p=()=>l:p=()=>f,p}var ca=w(49612),Yf=ca.XA,Oc=ca.a_,Ah=ca.yQ,Jf=ca.Hs,gc=ca.Ec,tm=ca.dx,qf=ca.LU,Gp=ca.Rm,bu=ca.y3,v0=ca.qK,Bd=ca.pb,wc=ca.j,zc=ca.sO,en=ca.BZ,Mh=ca.EK,zd=ca.Db,Gc=ca.Fx,Ma=ca.tU,Zv=ca.Ym,Th=ca.rs,y0=ca.QR,Mf=ca.TB,b0=ca.oH,Ph=ca.Sc,Vp=ca.BN,Zp=ca.it,jv=ca.$r,Qu=ca.QM,Uv=ca.AV,Wv=(ca.y3,ca.y3),nm=ca.GH,rm=ca.SO,x0=ca.uZ,ef=ca.yU,C0=ca.F1,$v=ca.re;class im{constructor(l){this.distances=l.distances,this.dimension=l.dimension||2,this.linkDistance=l.linkDistance}layout(){const l=this,{dimension:f,distances:p,linkDistance:v}=l;try{const x=bu.mul(bu.pow(p,2),-.5),T=x.mean("row"),N=x.mean("column"),z=x.mean();x.add(z).subRowVector(T).subColumnVector(N);const Z=new Ph(x),X=bu.sqrt(Z.diagonalMatrix).diagonal();return Z.leftSingularVectors.toJSON().map(se=>bu.mul([se],[X]).toJSON()[0].splice(0,f))}catch(x){const T=[];for(let N=0;N<p.length;N++){const z=Math.random()*v,Z=Math.random()*v;T.push([z,Z])}return T}}}const su=800;class jp{constructor(l){this.disp=[],this.positions=l.positions,this.adjMatrix=l.adjMatrix,this.focusID=l.focusID,this.radii=l.radii,this.iterations=l.iterations||10,this.height=l.height||10,this.width=l.width||10,this.speed=l.speed||100,this.gravity=l.gravity||10,this.nodeSizeFunc=l.nodeSizeFunc,this.k=l.k||5,this.strictRadial=l.strictRadial,this.nodes=l.nodes}layout(){const l=this,f=l.positions,p=[],v=l.iterations,x=l.width/10;l.maxDisplace=x,l.disp=p;for(let T=0;T<v;T++)f.forEach((N,z)=>{p[z]={x:0,y:0}}),l.getRepulsion(),l.updatePositions();return f}getRepulsion(){const l=this,f=l.positions,p=l.nodes,v=l.disp,x=l.k,T=l.radii||[];f.forEach((N,z)=>{v[z]={x:0,y:0},f.forEach((Z,X)=>{if(z===X||T[z]!==T[X])return;let se=N[0]-Z[0],xe=N[1]-Z[1],be=Math.sqrt(se*se+xe*xe);if(be===0){be=1;const Ie=z>X?1:-1;se=.01*Ie,xe=.01*Ie}if(be<l.nodeSizeFunc(p[z])/2+l.nodeSizeFunc(p[X])/2){const Ie=x*x/be;v[z].x+=se/be*Ie,v[z].y+=xe/be*Ie}})})}updatePositions(){const l=this,f=l.positions,p=l.disp,v=l.speed,x=l.strictRadial,T=l.focusID,N=l.maxDisplace||l.width/10;x&&p.forEach((Z,X)=>{const se=f[X][0]-f[T][0],xe=f[X][1]-f[T][1],be=Math.sqrt(se*se+xe*xe);let Ie=xe/be,De=-se/be;const Te=Math.sqrt(Z.x*Z.x+Z.y*Z.y);let st=Math.acos((Ie*Z.x+De*Z.y)/Te);st>Math.PI/2&&(st-=Math.PI/2,Ie*=-1,De*=-1);const St=Math.cos(st)*Te;Z.x=Ie*St,Z.y=De*St});const z=l.radii;f.forEach((Z,X)=>{if(X===T)return;const se=Math.sqrt(p[X].x*p[X].x+p[X].y*p[X].y);if(se>0&&X!==T){const xe=Math.min(N*(v/su),se);if(Z[0]+=p[X].x/se*xe,Z[1]+=p[X].y/se*xe,x){let be=Z[0]-f[T][0],Ie=Z[1]-f[T][1];const De=Math.sqrt(be*be+Ie*Ie);be=be/De*z[X],Ie=Ie/De*z[X],Z[0]=f[T][0]+be,Z[1]=f[T][1]+Ie}}})}}function Tf(o){const l=o.length,f=o[0].length,p=[];for(let v=0;v<l;v++){const x=[];for(let T=0;T<f;T++)o[v][T]!==0?x.push(1/(o[v][T]*o[v][T])):x.push(0);p.push(x)}return p}function Up(o,l){let f=-1;return o.forEach((p,v)=>{p.id===l&&(f=v)}),f}function Vc(o,l){return Math.sqrt((o[0]-l[0])*(o[0]-l[0])+(o[1]-l[1])*(o[1]-l[1]))}class Ta extends Vt{constructor(l){super(),this.maxIteration=1e3,this.focusNode=null,this.unitRadius=null,this.linkDistance=50,this.preventOverlap=!1,this.strictRadial=!0,this.maxPreventOverlapIteration=200,this.sortStrength=10,this.nodes=[],this.edges=[],this.updateCfg(l)}getDefaultCfg(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}}execute(){const l=this,f=l.nodes,p=l.edges||[];if(!f||f.length===0){l.onLayoutEnd&&l.onLayoutEnd();return}!l.width&&typeof window!="undefined"&&(l.width=window.innerWidth),!l.height&&typeof window!="undefined"&&(l.height=window.innerHeight),l.center||(l.center=[l.width/2,l.height/2]);const v=l.center;if(f.length===1){f[0].x=v[0],f[0].y=v[1],l.onLayoutEnd&&l.onLayoutEnd();return}const x=l.linkDistance;let T=null;if(B(l.focusNode)){let go=!1;for(let Wi=0;Wi<f.length;Wi++)f[Wi].id===l.focusNode&&(T=f[Wi],l.focusNode=T,go=!0,Wi=f.length);go||(T=null)}else T=l.focusNode;T||(T=f[0],l.focusNode=T);const N=Up(f,T.id);l.focusIndex=N;const z=Ze({nodes:f,edges:p},!1),Z=ge(z),X=l.maxToFocus(Z,N);l.handleInfinity(Z,N,X+1),l.distances=Z;const se=Z[N],xe=l.width||500,be=l.height||500;let Ie=xe-v[0]>v[0]?v[0]:xe-v[0],De=be-v[1]>v[1]?v[1]:be-v[1];Ie===0&&(Ie=xe/2),De===0&&(De=be/2);const Te=De>Ie?Ie:De,st=Math.max(...se),St=[];se.forEach((go,Wi)=>{l.unitRadius||(l.unitRadius=Te/st),St[Wi]=go*l.unitRadius}),l.radii=St;const an=l.eIdealDisMatrix();l.eIdealDistances=an;const Nn=Tf(an);l.weights=Nn;let Dr=new im({linkDistance:x,distances:an}).layout();Dr.forEach(go=>{H(go[0])&&(go[0]=Math.random()*x),H(go[1])&&(go[1]=Math.random()*x)}),l.positions=Dr,Dr.forEach((go,Wi)=>{f[Wi].x=go[0]+v[0],f[Wi].y=go[1]+v[1]}),Dr.forEach(go=>{go[0]-=Dr[N][0],go[1]-=Dr[N][1]}),l.run();const Ni=l.preventOverlap,Ai=l.nodeSize;let ko;const Oi=l.strictRadial;if(Ni){const go=l.nodeSpacing;let Wi;F(go)?Wi=()=>go:Pe(go)?Wi=go:Wi=()=>0,Ai?k(Ai)?ko=ks=>(Ai[0]>Ai[1]?Ai[0]:Ai[1])+Wi(ks):ko=ks=>Ai+Wi(ks):ko=ks=>ks.size?k(ks.size)?(ks.size[0]>ks.size[1]?ks.size[0]:ks.size[1])+Wi(ks):ee(ks.size)?(ks.size.width>ks.size.height?ks.size.width:ks.size.height)+Wi(ks):ks.size+Wi(ks):10+Wi(ks);const is={nodes:f,nodeSizeFunc:ko,adjMatrix:z,positions:Dr,radii:St,height:be,width:xe,strictRadial:Oi,focusID:N,iterations:l.maxPreventOverlapIteration||200,k:Dr.length/4.5};Dr=new jp(is).layout()}return Dr.forEach((go,Wi)=>{f[Wi].x=go[0]+v[0],f[Wi].y=go[1]+v[1]}),l.onLayoutEnd&&l.onLayoutEnd(),{nodes:f,edges:p}}run(){const l=this,f=l.maxIteration,p=l.positions||[],v=l.weights||[],x=l.eIdealDistances||[],T=l.radii||[];for(let N=0;N<=f;N++){const z=N/f;l.oneIteration(z,p,T,x,v)}}oneIteration(l,f,p,v,x){const T=this,N=1-l,z=T.focusIndex;f.forEach((Z,X)=>{const se=Vc(Z,[0,0]),xe=se===0?0:1/se;if(X===z)return;let be=0,Ie=0,De=0;f.forEach((st,St)=>{if(X===St)return;const an=Vc(Z,st),Nn=an===0?0:1/an,Ln=v[St][X];De+=x[X][St],be+=x[X][St]*(st[0]+Ln*(Z[0]-st[0])*Nn),Ie+=x[X][St]*(st[1]+Ln*(Z[1]-st[1])*Nn)});const Te=p[X]===0?0:1/p[X];De*=N,De+=l*Te*Te,be*=N,be+=l*Te*Z[0]*xe,Z[0]=be/De,Ie*=N,Ie+=l*Te*Z[1]*xe,Z[1]=Ie/De})}eIdealDisMatrix(){const l=this,f=l.nodes;if(!f)return[];const p=l.distances,v=l.linkDistance,x=l.radii||[],T=l.unitRadius||50,N=[];return p&&p.forEach((z,Z)=>{const X=[];z.forEach((se,xe)=>{if(Z===xe)X.push(0);else if(x[Z]===x[xe])if(l.sortBy==="data")X.push(se*(Math.abs(Z-xe)*l.sortStrength)/(x[Z]/T));else if(l.sortBy){let be=f[Z][l.sortBy]||0,Ie=f[xe][l.sortBy]||0;B(be)&&(be=be.charCodeAt(0)),B(Ie)&&(Ie=Ie.charCodeAt(0)),X.push(se*(Math.abs(be-Ie)*l.sortStrength)/(x[Z]/T))}else X.push(se*v/(x[Z]/T));else{const be=(v+T)/2;X.push(se*be)}}),N.push(X)}),N}handleInfinity(l,f,p){const v=l.length;for(let x=0;x<v;x++)if(l[f][x]===1/0){l[f][x]=p,l[x][f]=p;for(let T=0;T<v;T++)l[x][T]!==1/0&&l[f][T]===1/0&&(l[f][T]=p+l[x][T],l[T][f]=p+l[x][T])}for(let x=0;x<v;x++)if(x!==f){for(let T=0;T<v;T++)if(l[x][T]===1/0){let N=Math.abs(l[f][x]-l[f][T]);N=N===0?1:N,l[x][T]=N}}}maxToFocus(l,f){let p=0;for(let v=0;v<l[f].length;v++)l[f][v]!==1/0&&(p=l[f][v]>p?l[f][v]:p);return p}getType(){return"radial"}}class ld extends Vt{constructor(l){super(),this.nodeSize=30,this.minNodeSpacing=10,this.preventOverlap=!1,this.equidistant=!1,this.startAngle=3/2*Math.PI,this.clockwise=!0,this.sortBy="degree",this.nodes=[],this.edges=[],this.width=300,this.height=300,this.onLayoutEnd=()=>{},this.updateCfg(l)}getDefaultCfg(){return{nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}}execute(){const l=this,f=l.nodes,p=l.edges,v=f.length;if(v===0){l.onLayoutEnd&&l.onLayoutEnd();return}!l.width&&typeof window!="undefined"&&(l.width=window.innerWidth),!l.height&&typeof window!="undefined"&&(l.height=window.innerHeight),l.center||(l.center=[l.width/2,l.height/2]);const x=l.center;if(v===1){f[0].x=x[0],f[0].y=x[1],l.onLayoutEnd&&l.onLayoutEnd();return}const T=[];let N;k(l.nodeSize)?N=Math.max(l.nodeSize[0],l.nodeSize[1]):N=l.nodeSize,f.forEach(Ie=>{T.push(Ie);let De=N;k(Ie.size)?De=Math.max(Ie.size[0],Ie.size[1]):F(Ie.size)?De=Ie.size:ee(Ie.size)&&(De=Math.max(Ie.size.width,Ie.size.height)),N=Math.max(N,De)}),l.clockwise=l.counterclockwise!==void 0?!l.counterclockwise:l.clockwise;const z={},Z={};if(T.forEach((Ie,De)=>{z[Ie.id]=Ie,Z[Ie.id]=De}),(l.sortBy==="degree"||!B(l.sortBy)||T[0][l.sortBy]===void 0)&&(l.sortBy="degree",!F(f[0].degree))){const Ie=re(f.length,Z,p);T.forEach((De,Te)=>{De.degree=Ie[Te]})}T.sort((Ie,De)=>De[l.sortBy]-Ie[l.sortBy]),l.maxValueNode=T[0],l.maxLevelDiff=l.maxLevelDiff||l.maxValueNode[l.sortBy]/4;const X=[[]];let se=X[0];T.forEach(Ie=>{if(se.length>0){const De=Math.abs(se[0][l.sortBy]-Ie[l.sortBy]);l.maxLevelDiff&&De>=l.maxLevelDiff&&(se=[],X.push(se))}se.push(Ie)});let xe=N+l.minNodeSpacing;if(!l.preventOverlap){const Ie=X.length>0&&X[0].length>1,Te=(Math.min(l.width,l.height)/2-xe)/(X.length+(Ie?1:0));xe=Math.min(xe,Te)}let be=0;if(X.forEach(Ie=>{let De=l.sweep;De===void 0&&(De=2*Math.PI-2*Math.PI/Ie.length);const Te=Ie.dTheta=De/Math.max(1,Ie.length-1);if(Ie.length>1&&l.preventOverlap){const st=Math.cos(Te)-Math.cos(0),St=Math.sin(Te)-Math.sin(0),an=Math.sqrt(xe*xe/(st*st+St*St));be=Math.max(an,be)}Ie.r=be,be+=xe}),l.equidistant){let Ie=0,De=0;for(let Te=0;Te<X.length;Te++){const St=X[Te].r-De;Ie=Math.max(Ie,St)}De=0,X.forEach((Te,st)=>{st===0&&(De=Te.r),Te.r=De,De+=Ie})}return X.forEach(Ie=>{const De=Ie.dTheta,Te=Ie.r;Ie.forEach((st,St)=>{const an=l.startAngle+(l.clockwise?1:-1)*De*St;st.x=x[0]+Te*Math.cos(an),st.y=x[1]+Te*Math.sin(an)})}),l.onLayoutEnd&&l.onLayoutEnd(),{nodes:f,edges:p}}getType(){return"concentric"}}class mc extends Vt{constructor(l){super(),this.center=[0,0],this.linkDistance=50,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.updateCfg(l)}getDefaultCfg(){return{center:[0,0],linkDistance:50}}execute(){const l=this,{nodes:f,edges:p=[]}=l,v=l.center;if(!f||f.length===0){l.onLayoutEnd&&l.onLayoutEnd();return}if(f.length===1){f[0].x=v[0],f[0].y=v[1],l.onLayoutEnd&&l.onLayoutEnd();return}const x=l.linkDistance,T=Ze({nodes:f,edges:p},!1),N=ge(T);l.handleInfinity(N);const z=fe(N,x);l.scaledDistances=z;const Z=l.runMDS();return l.positions=Z,Z.forEach((X,se)=>{f[se].x=X[0]+v[0],f[se].y=X[1]+v[1]}),l.onLayoutEnd&&l.onLayoutEnd(),{nodes:f,edges:p}}runMDS(){const l=this,f=2,p=l.scaledDistances,v=bu.mul(bu.pow(p,2),-.5),x=v.mean("row"),T=v.mean("column"),N=v.mean();v.add(N).subRowVector(x).subColumnVector(T);const z=new Ph(v),Z=bu.sqrt(z.diagonalMatrix).diagonal();return z.leftSingularVectors.toJSON().map(X=>bu.mul([X],[Z]).toJSON()[0].splice(0,f))}handleInfinity(l){let f=-999999;l.forEach(p=>{p.forEach(v=>{v!==1/0&&f<v&&(f=v)})}),l.forEach((p,v)=>{p.forEach((x,T)=>{x===1/0&&(l[v][T]=f)})})}getType(){return"mds"}}const Gd=800;class om extends Vt{constructor(l){super(),this.maxIteration=1e3,this.workerEnabled=!1,this.gravity=10,this.speed=5,this.clustering=!1,this.clusterGravity=10,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.onLayoutEnd=()=>{},this.tick=()=>{},this.updateCfg(l)}getDefaultCfg(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}execute(){var l,f;const p=this,v=p.nodes;if(p.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(p.timeInterval),!v||v.length===0){(l=p.onLayoutEnd)===null||l===void 0||l.call(p);return}!p.width&&typeof window!="undefined"&&(p.width=window.innerWidth),!p.height&&typeof window!="undefined"&&(p.height=window.innerHeight),p.center||(p.center=[p.width/2,p.height/2]);const x=p.center;if(v.length===1){v[0].x=x[0],v[0].y=x[1],(f=p.onLayoutEnd)===null||f===void 0||f.call(p);return}const T={},N={};return v.forEach((z,Z)=>{F(z.x)||(z.x=Math.random()*this.width),F(z.y)||(z.y=Math.random()*this.height),T[z.id]=z,N[z.id]=Z}),p.nodeMap=T,p.nodeIdxMap=N,p.run()}run(){var l;const f=this,p=f.nodes;if(!p)return;const{edges:v,maxIteration:x,workerEnabled:T,clustering:N}=f,z={};if(N&&p.forEach(Z=>{z[Z.cluster]===void 0&&(z[Z.cluster]={name:Z.cluster,cx:0,cy:0,count:0})}),T){for(let Z=0;Z<x;Z++)f.runOneStep(z);(l=f.onLayoutEnd)===null||l===void 0||l.call(f)}else{if(typeof window=="undefined")return;let Z=0;this.timeInterval=window.setInterval(()=>{var X;f.runOneStep(z),Z++,Z>=x&&((X=f.onLayoutEnd)===null||X===void 0||X.call(f),window.clearInterval(f.timeInterval))},0)}return{nodes:p,edges:v}}runOneStep(l){var f;const p=this,v=p.nodes;if(!v)return;const{edges:x,center:T,gravity:N,speed:z,clustering:Z}=p,X=p.height*p.width,se=Math.sqrt(X)/10,xe=X/(v.length+1),be=Math.sqrt(xe),Ie=[];if(v.forEach((De,Te)=>{Ie[Te]={x:0,y:0}}),p.applyCalculate(v,x,Ie,be,xe),Z){for(const Te in l)l[Te].cx=0,l[Te].cy=0,l[Te].count=0;v.forEach(Te=>{const st=l[Te.cluster];F(Te.x)&&(st.cx+=Te.x),F(Te.y)&&(st.cy+=Te.y),st.count++});for(const Te in l)l[Te].cx/=l[Te].count,l[Te].cy/=l[Te].count;const De=p.clusterGravity||N;v.forEach((Te,st)=>{if(!F(Te.x)||!F(Te.y))return;const St=l[Te.cluster],an=Math.sqrt((Te.x-St.cx)*(Te.x-St.cx)+(Te.y-St.cy)*(Te.y-St.cy)),Nn=be*De;Ie[st].x-=Nn*(Te.x-St.cx)/an,Ie[st].y-=Nn*(Te.y-St.cy)/an})}v.forEach((De,Te)=>{if(!F(De.x)||!F(De.y))return;const st=.01*be*N;Ie[Te].x-=st*(De.x-T[0]),Ie[Te].y-=st*(De.y-T[1])}),v.forEach((De,Te)=>{if(F(De.fx)&&F(De.fy)){De.x=De.fx,De.y=De.fy;return}if(!F(De.x)||!F(De.y))return;const st=Math.sqrt(Ie[Te].x*Ie[Te].x+Ie[Te].y*Ie[Te].y);if(st>0){const St=Math.min(se*(z/Gd),st);De.x+=Ie[Te].x/st*St,De.y+=Ie[Te].y/st*St}}),(f=p.tick)===null||f===void 0||f.call(p)}applyCalculate(l,f,p,v,x){const T=this;T.calRepulsive(l,p,x),f&&T.calAttractive(f,p,v)}calRepulsive(l,f,p){l.forEach((v,x)=>{f[x]={x:0,y:0},l.forEach((T,N)=>{if(x===N||!F(v.x)||!F(T.x)||!F(v.y)||!F(T.y))return;let z=v.x-T.x,Z=v.y-T.y,X=z*z+Z*Z;if(X===0){X=1;const xe=x>N?1:-1;z=.01*xe,Z=.01*xe}const se=p/X;f[x].x+=z*se,f[x].y+=Z*se})})}calAttractive(l,f,p){l.forEach(v=>{const x=ue(v,"source"),T=ue(v,"target");if(!x||!T)return;const N=this.nodeIdxMap[x],z=this.nodeIdxMap[T];if(N===z)return;const Z=this.nodeMap[x],X=this.nodeMap[T];if(!F(X.x)||!F(Z.x)||!F(X.y)||!F(Z.y))return;const se=X.x-Z.x,xe=X.y-Z.y,be=Math.sqrt(se*se+xe*xe),Ie=be*be/p;f[z].x-=se/be*Ie,f[z].y-=xe/be*Ie,f[N].x+=se/be*Ie,f[N].y+=xe/be*Ie})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}destroy(){const l=this;l.stop(),l.tick=null,l.nodes=null,l.edges=null,l.destroyed=!0}getType(){return"fruchterman"}}function ds(o,l,f,p){f&&Object.defineProperty(o,l,{enumerable:f.enumerable,configurable:f.configurable,writable:f.writable,value:f.initializer?f.initializer.call(p):void 0})}var mo=w(15671),Rs=w(43144);function Ds(o,l,f,p,v){var x={};return Object.keys(p).forEach(function(T){x[T]=p[T]}),x.enumerable=!!x.enumerable,x.configurable=!!x.configurable,("value"in x||x.initializer)&&(x.writable=!0),x=f.slice().reverse().reduce(function(T,N){return N(o,l,T)||T},x),v&&x.initializer!==void 0&&(x.value=x.initializer?x.initializer.call(v):void 0,x.initializer=void 0),x.initializer===void 0?(Object.defineProperty(o,l,x),null):x}var Wp=w(28660),Nu=w(64687),qo=w.n(Nu),Ks=w(15861),w0=-1,tf=1;function Zc(){return tf++}var el=function o(l){(0,mo.Z)(this,o)},jc=function(){function o(l){(0,mo.Z)(this,o),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=l}return(0,Rs.Z)(o,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(f){return this.lookup[f]>-1}},{key:"create",value:function(f,p){this.lookup[f]=this.components.length;var v=new this.clazz(p||{});return this.components.push(v),this.entities.push(f),v}},{key:"remove",value:function(f){var p=this.lookup[f];p>-1&&p<this.components.length-1&&(this.components[p]=this.components[this.components.length-1],this.entities[p]=this.entities[this.entities.length-1],this.lookup[this.entities[p]]=p),this.components.pop(),this.entities.pop(),delete this.lookup[f]}},{key:"removeKeepSorted",value:function(f){var p=this.lookup[f];if(p>-1){var v=this.entities[p];if(p<this.components.length-1){for(var x=p+1;x<this.components.length;++x)this.components[x-1]=this.components[x];for(var T=p+1;T<this.entities.length;++T)this.entities[T-1]=this.entities[T],this.lookup[this.entities[T-1]]=T-1}this.components.pop(),this.entities.pop(),delete this.lookup[v]}}},{key:"moveItem",value:function(f,p){if(f!==p){for(var v=this.components[f],x=this.entities[f],T=f<p?1:-1,N=f;N!==p;N+=T){var z=N+T;this.components[N]=this.components[z],this.entities[N]=this.entities[z],this.lookup[this.entities[N]]=N}this.components[p]=v,this.entities[p]=x,this.lookup[x]=p}}},{key:"getEntity",value:function(f){return this.entities[f]}},{key:"getComponent",value:function(f){return this.components[f]}},{key:"getComponentByEntity",value:function(f){var p=this.lookup[f];return p>-1?this.components[p]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(f){for(var p=0,v=Object.keys(this.lookup);p<v.length;p++){var x=v[p],T=Number(x);if(this.lookup[T]===f)return T}return w0}},{key:"find",value:function(f){for(var p=0;p<this.getCount();p++){var v=this.getComponent(p);if(f(v,p))return v}return null}},{key:"findIndex",value:function(f){for(var p=0;p<this.getCount();p++){var v=this.getComponent(p);if(f(v,p))return p}return-1}},{key:"forEach",value:function(f){for(var p=0,v=Object.keys(this.lookup);p<v.length;p++){var x=v[p],T=Number(x),N=this.lookup[T];f(T,this.getComponent(N))}}},{key:"forEachAsync",value:function(){var l=(0,Ks.Z)(qo().mark(function p(v){var x,T,N,z,Z;return qo().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:x=0,T=Object.keys(this.lookup);case 1:if(!(x<T.length)){se.next=10;break}return N=T[x],z=Number(N),Z=this.lookup[z],se.next=7,v(z,this.getComponent(Z));case 7:x++,se.next=1;break;case 10:case"end":return se.stop()}},p,this)}));function f(p){return l.apply(this,arguments)}return f}()},{key:"map",value:function(f){for(var p=[],v=0,x=Object.keys(this.lookup);v<x.length;v++){var T=x[v],N=Number(T),z=this.lookup[N];p.push(f(N,this.getComponent(z)))}return p}}]),o}(),Ec=w(97685),Xi=w(86700),zi={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},Qf=function o(){(0,mo.Z)(this,o),this.index=void 0},cd=function o(){(0,mo.Z)(this,o),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},Pf=function(){function o(){(0,mo.Z)(this,o),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return(0,Rs.Z)(o,[{key:"read",value:function(f){return this.reads.find(function(p){return p.index===f.index})||this.reads.push(f),f}},{key:"sample",value:function(f){return this.read(f),f}},{key:"write",value:function(f,p){var v=this.writes.find(function(z){return z.index===p.index});if(v)return p;var x=f.getResourceNode(p);x.resource.version++,x.resource.imported&&(this.hasSideEffect=!0);var T=f.createResourceNode(x.resource),N=f.getResourceNode(T);return N.writer=this,this.writes.push(T),T}}]),o}(),ll=w(32531),Dl=w(82963),ba=w(61120),eh=function o(){(0,mo.Z)(this,o),this.first=void 0,this.last=void 0};function Oh(o){var l=ud();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function ud(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var Gl=function(o){(0,ll.Z)(f,o);var l=Oh(f);function f(){var p;(0,mo.Z)(this,f);for(var v=arguments.length,x=new Array(v),T=0;T<v;T++)x[T]=arguments[T];return p=l.call.apply(l,[this].concat(x)),p.version=0,p.refs=0,p.name=void 0,p.imported=void 0,p.priority=void 0,p.discardStart=!0,p.discardEnd=!1,p.descriptor=void 0,p.resource=void 0,p}return(0,Rs.Z)(f,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),f}(eh),fd=function o(){(0,mo.Z)(this,o),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0},Ih,au,th,nf,Ic,Rh;function Va(o,l){var f;if(typeof Symbol=="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(f=Vd(o))||l&&o&&typeof o.length=="number"){f&&(o=f);var p=0,v=function(){};return{s:v,n:function(){return p>=o.length?{done:!0}:{done:!1,value:o[p++]}},e:function(Z){throw Z},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,T=!1,N;return{s:function(){f=o[Symbol.iterator]()},n:function(){var Z=f.next();return x=Z.done,Z},e:function(Z){T=!0,N=Z},f:function(){try{!x&&f.return!=null&&f.return()}finally{if(T)throw N}}}}function Vd(o,l){if(o){if(typeof o=="string")return Zd(o,l);var f=Object.prototype.toString.call(o).slice(8,-1);if(f==="Object"&&o.constructor&&(f=o.constructor.name),f==="Map"||f==="Set")return Array.from(o);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return Zd(o,l)}}function Zd(o,l){(l==null||l>o.length)&&(l=o.length);for(var f=0,p=new Array(l);f<l;f++)p[f]=o[f];return p}var ss=(Ih=(0,Xi.b2)(),au=(0,Xi.f3)(zi.RenderEngine),Ih(th=(nf=(Rh=function(){function o(){(0,mo.Z)(this,o),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],ds(this,"engine",Ic,this)}return(0,Rs.Z)(o,[{key:"execute",value:function(){var l=(0,Ks.Z)(qo().mark(function p(v){return qo().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return this.compile(),T.next=3,this.executePassNodes(v);case 3:case"end":return T.stop()}},p,this)}));function f(p){return l.apply(this,arguments)}return f}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(f){f.tearDown&&f.tearDown()}),this.reset()}},{key:"addPass",value:function(f,p,v,x){var T=new cd;T.execute=v,x&&(T.tearDown=x),T.name=f;var N=new Pf;return N.name=f,this.passNodes.push(N),this.frameGraphPasses.push(T),p(this,N,T),T}},{key:"getPass",value:function(f){return this.frameGraphPasses.find(function(p){return p.name===f})}},{key:"compile",value:function(){var f=this,p=Va(this.passNodes),v;try{for(p.s();!(v=p.n()).done;){var x=v.value;x.refCount=x.writes.length+(x.hasSideEffect?1:0),x.reads.forEach(function(va){f.resourceNodes[va.index].readerCount++})}}catch(va){p.e(va)}finally{p.f()}var T=[],N=Va(this.resourceNodes),z;try{for(N.s();!(z=N.n()).done;){var Z=z.value;Z.readerCount===0&&T.push(Z)}}catch(va){N.e(va)}finally{N.f()}for(;T.length;){var X=T.pop(),se=X&&X.writer;if(se&&--se.refCount===0){var xe=Va(se.reads),be;try{for(xe.s();!(be=xe.n()).done;){var Ie=be.value,De=this.resourceNodes[Ie.index];--De.readerCount===0&&T.push(De)}}catch(va){xe.e(va)}finally{xe.f()}}}this.resourceNodes.forEach(function(va){va.resource.refs+=va.readerCount});var Te=Va(this.passNodes),st;try{for(Te.s();!(st=Te.n()).done;){var St=st.value;if(St.refCount){var an=Va(St.reads),Nn;try{for(an.s();!(Nn=an.n()).done;){var Ln=Nn.value,Dr=this.resourceNodes[Ln.index].resource;Dr.first=Dr.first?Dr.first:St,Dr.last=St}}catch(va){an.e(va)}finally{an.f()}var Ni=Va(St.writes),Ai;try{for(Ni.s();!(Ai=Ni.n()).done;){var ko=Ai.value,Oi=this.resourceNodes[ko.index].resource;Oi.first=Oi.first?Oi.first:St,Oi.last=St}}catch(va){Ni.e(va)}finally{Ni.f()}}}}catch(va){Te.e(va)}finally{Te.f()}for(var go=0;go<2;go++){var Wi=Va(this.resourceNodes),is;try{for(Wi.s();!(is=Wi.n()).done;){var Bo=is.value,ks=Bo.resource;if(ks.priority===go&&ks.refs){var Sl=ks.first,ru=ks.last;Sl&&ru&&(Sl.devirtualize.push(ks),ru.destroy.push(ks))}}}catch(va){Wi.e(va)}finally{Wi.f()}}}},{key:"executePassNodes",value:function(){var l=(0,Ks.Z)(qo().mark(function p(v){var x,T,N,z,Z,X,se,xe,be,Ie,De,Te,st,St,an,Nn,Ln;return qo().wrap(function(Ni){for(;;)switch(Ni.prev=Ni.next){case 0:x=Va(this.passNodes.entries()),Ni.prev=1,x.s();case 3:if((T=x.n()).done){Ni.next=18;break}if(N=(0,Ec.Z)(T.value,2),z=N[0],Z=N[1],!Z.refCount){Ni.next=16;break}X=Va(Z.devirtualize);try{for(X.s();!(se=X.n()).done;)xe=se.value,xe.preExecuteDevirtualize(this.engine)}catch(Ai){X.e(Ai)}finally{X.f()}be=Va(Z.destroy);try{for(be.s();!(Ie=be.n()).done;)De=Ie.value,De.preExecuteDestroy(this.engine)}catch(Ai){be.e(Ai)}finally{be.f()}return Ni.next=12,this.frameGraphPasses[z].execute(this,this.frameGraphPasses[z],v);case 12:Te=Va(Z.devirtualize);try{for(Te.s();!(st=Te.n()).done;)St=st.value,St.postExecuteDevirtualize(this.engine)}catch(Ai){Te.e(Ai)}finally{Te.f()}an=Va(Z.destroy);try{for(an.s();!(Nn=an.n()).done;)Ln=Nn.value,Ln.postExecuteDestroy(this.engine)}catch(Ai){an.e(Ai)}finally{an.f()}case 16:Ni.next=3;break;case 18:Ni.next=23;break;case 20:Ni.prev=20,Ni.t0=Ni.catch(1),x.e(Ni.t0);case 23:return Ni.prev=23,x.f(),Ni.finish(23);case 26:this.reset();case 27:case"end":return Ni.stop()}},p,this,[[1,20,23,26]])}));function f(p){return l.apply(this,arguments)}return f}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(f){return this.resourceNodes[f.index]}},{key:"createResourceNode",value:function(f){var p=new fd;p.resource=f,p.version=f.version,this.resourceNodes.push(p);var v=new Qf;return v.index=this.resourceNodes.length-1,v}},{key:"createTexture",value:function(f,p,v){var x=new Gl;return x.name=p,x.descriptor=v,this.createResourceNode(x)}},{key:"createRenderTarget",value:function(f,p,v){var x=new Gl;return x.name=p,x.descriptor=v,this.createResourceNode(x)}},{key:"present",value:function(f){this.addPass("Present",function(p,v){v.read(f),v.hasSideEffect=!0},(0,Ks.Z)(qo().mark(function p(){return qo().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:case"end":return x.stop()}},p)})))}}]),o}(),Rh),Ic=Ds(nf.prototype,"engine",[au],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nf))||th),Pi=w(4942),tl=w(97326),Uc=1e-6,fl=typeof Float32Array!="undefined"?Float32Array:Array,$p=Math.random;function jd(o){fl=o}var Of=Math.PI/180;function nh(o){return o*Of}function If(o,l){return Math.abs(o-l)<=Uc*Math.max(1,Math.abs(o),Math.abs(l))}Math.hypot||(Math.hypot=function(){for(var o=0,l=arguments.length;l--;)o+=arguments[l]*arguments[l];return Math.sqrt(o)});function Rc(){var o=new fl(4);return fl!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0,o[3]=0),o}function rf(o){var l=new fl(4);return l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],l}function _u(o,l,f,p){var v=new fl(4);return v[0]=o,v[1]=l,v[2]=f,v[3]=p,v}function Wc(o,l){return o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[3],o}function Dh(o,l,f,p,v){return o[0]=l,o[1]=f,o[2]=p,o[3]=v,o}function rh(o,l,f){return o[0]=l[0]+f[0],o[1]=l[1]+f[1],o[2]=l[2]+f[2],o[3]=l[3]+f[3],o}function of(o,l,f){return o[0]=l[0]-f[0],o[1]=l[1]-f[1],o[2]=l[2]-f[2],o[3]=l[3]-f[3],o}function sf(o,l,f){return o[0]=l[0]*f[0],o[1]=l[1]*f[1],o[2]=l[2]*f[2],o[3]=l[3]*f[3],o}function ih(o,l,f){return o[0]=l[0]/f[0],o[1]=l[1]/f[1],o[2]=l[2]/f[2],o[3]=l[3]/f[3],o}function Nh(o,l){return o[0]=Math.ceil(l[0]),o[1]=Math.ceil(l[1]),o[2]=Math.ceil(l[2]),o[3]=Math.ceil(l[3]),o}function lu(o,l){return o[0]=Math.floor(l[0]),o[1]=Math.floor(l[1]),o[2]=Math.floor(l[2]),o[3]=Math.floor(l[3]),o}function Rf(o,l,f){return o[0]=Math.min(l[0],f[0]),o[1]=Math.min(l[1],f[1]),o[2]=Math.min(l[2],f[2]),o[3]=Math.min(l[3],f[3]),o}function Hp(o,l,f){return o[0]=Math.max(l[0],f[0]),o[1]=Math.max(l[1],f[1]),o[2]=Math.max(l[2],f[2]),o[3]=Math.max(l[3],f[3]),o}function af(o,l){return o[0]=Math.round(l[0]),o[1]=Math.round(l[1]),o[2]=Math.round(l[2]),o[3]=Math.round(l[3]),o}function ku(o,l,f){return o[0]=l[0]*f,o[1]=l[1]*f,o[2]=l[2]*f,o[3]=l[3]*f,o}function hd(o,l,f,p){return o[0]=l[0]+f[0]*p,o[1]=l[1]+f[1]*p,o[2]=l[2]+f[2]*p,o[3]=l[3]+f[3]*p,o}function sm(o,l){var f=l[0]-o[0],p=l[1]-o[1],v=l[2]-o[2],x=l[3]-o[3];return Math.hypot(f,p,v,x)}function oh(o,l){var f=l[0]-o[0],p=l[1]-o[1],v=l[2]-o[2],x=l[3]-o[3];return f*f+p*p+v*v+x*x}function Kp(o){var l=o[0],f=o[1],p=o[2],v=o[3];return Math.hypot(l,f,p,v)}function E0(o){var l=o[0],f=o[1],p=o[2],v=o[3];return l*l+f*f+p*p+v*v}function Ud(o,l){return o[0]=-l[0],o[1]=-l[1],o[2]=-l[2],o[3]=-l[3],o}function Df(o,l){return o[0]=1/l[0],o[1]=1/l[1],o[2]=1/l[2],o[3]=1/l[3],o}function Wd(o,l){var f=l[0],p=l[1],v=l[2],x=l[3],T=f*f+p*p+v*v+x*x;return T>0&&(T=1/Math.sqrt(T)),o[0]=f*T,o[1]=p*T,o[2]=v*T,o[3]=x*T,o}function S0(o,l){return o[0]*l[0]+o[1]*l[1]+o[2]*l[2]+o[3]*l[3]}function $d(o,l,f,p){var v=f[0]*p[1]-f[1]*p[0],x=f[0]*p[2]-f[2]*p[0],T=f[0]*p[3]-f[3]*p[0],N=f[1]*p[2]-f[2]*p[1],z=f[1]*p[3]-f[3]*p[1],Z=f[2]*p[3]-f[3]*p[2],X=l[0],se=l[1],xe=l[2],be=l[3];return o[0]=se*Z-xe*z+be*N,o[1]=-(X*Z)+xe*T-be*x,o[2]=X*z-se*T+be*v,o[3]=-(X*N)+se*x-xe*v,o}function ga(o,l,f,p){var v=l[0],x=l[1],T=l[2],N=l[3];return o[0]=v+p*(f[0]-v),o[1]=x+p*(f[1]-x),o[2]=T+p*(f[2]-T),o[3]=N+p*(f[3]-N),o}function A0(o,l){l=l||1;var f,p,v,x,T,N;do f=glMatrix.RANDOM()*2-1,p=glMatrix.RANDOM()*2-1,T=f*f+p*p;while(T>=1);do v=glMatrix.RANDOM()*2-1,x=glMatrix.RANDOM()*2-1,N=v*v+x*x;while(N>=1);var z=Math.sqrt((1-T)/N);return o[0]=l*f,o[1]=l*p,o[2]=l*v*z,o[3]=l*x*z,o}function Lu(o,l,f){var p=l[0],v=l[1],x=l[2],T=l[3];return o[0]=f[0]*p+f[4]*v+f[8]*x+f[12]*T,o[1]=f[1]*p+f[5]*v+f[9]*x+f[13]*T,o[2]=f[2]*p+f[6]*v+f[10]*x+f[14]*T,o[3]=f[3]*p+f[7]*v+f[11]*x+f[15]*T,o}function Hd(o,l,f){var p=l[0],v=l[1],x=l[2],T=f[0],N=f[1],z=f[2],Z=f[3],X=Z*p+N*x-z*v,se=Z*v+z*p-T*x,xe=Z*x+T*v-N*p,be=-T*p-N*v-z*x;return o[0]=X*Z+be*-T+se*-z-xe*-N,o[1]=se*Z+be*-N+xe*-T-X*-z,o[2]=xe*Z+be*-z+X*-N-se*-T,o[3]=l[3],o}function M0(o){return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o}function T0(o){return"vec4("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+")"}function am(o,l){return o[0]===l[0]&&o[1]===l[1]&&o[2]===l[2]&&o[3]===l[3]}function Dc(o,l){var f=o[0],p=o[1],v=o[2],x=o[3],T=l[0],N=l[1],z=l[2],Z=l[3];return Math.abs(f-T)<=Uc*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(p-N)<=Uc*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(v-z)<=Uc*Math.max(1,Math.abs(v),Math.abs(z))&&Math.abs(x-Z)<=Uc*Math.max(1,Math.abs(x),Math.abs(Z))}var lm=null,Xp=null,cm=null,dd=null,_h=null,Ql=null,cu=null,pd=function(){var o=Rc();return function(l,f,p,v,x,T){var N,z;for(f||(f=4),p||(p=0),v?z=Math.min(v*f+p,l.length):z=l.length,N=p;N<z;N+=f)o[0]=l[N],o[1]=l[N+1],o[2]=l[N+2],o[3]=l[N+3],x(o,o,T),l[N]=o[0],l[N+1]=o[1],l[N+2]=o[2],l[N+3]=o[3];return l}}();function lf(){var o=new fl(9);return fl!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[5]=0,o[6]=0,o[7]=0),o[0]=1,o[4]=1,o[8]=1,o}function sh(o,l){return o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[4],o[4]=l[5],o[5]=l[6],o[6]=l[8],o[7]=l[9],o[8]=l[10],o}function Kd(o){var l=new glMatrix.ARRAY_TYPE(9);return l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],l[4]=o[4],l[5]=o[5],l[6]=o[6],l[7]=o[7],l[8]=o[8],l}function Xd(o,l){return o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[3],o[4]=l[4],o[5]=l[5],o[6]=l[6],o[7]=l[7],o[8]=l[8],o}function Yd(o,l,f,p,v,x,T,N,z){var Z=new glMatrix.ARRAY_TYPE(9);return Z[0]=o,Z[1]=l,Z[2]=f,Z[3]=p,Z[4]=v,Z[5]=x,Z[6]=T,Z[7]=N,Z[8]=z,Z}function kh(o,l,f,p,v,x,T,N,z,Z){return o[0]=l,o[1]=f,o[2]=p,o[3]=v,o[4]=x,o[5]=T,o[6]=N,o[7]=z,o[8]=Z,o}function Jd(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=0,o[7]=0,o[8]=1,o}function xu(o,l){if(o===l){var f=l[1],p=l[2],v=l[5];o[1]=l[3],o[2]=l[6],o[3]=f,o[5]=l[7],o[6]=p,o[7]=v}else o[0]=l[0],o[1]=l[3],o[2]=l[6],o[3]=l[1],o[4]=l[4],o[5]=l[7],o[6]=l[2],o[7]=l[5],o[8]=l[8];return o}function cf(o,l){var f=l[0],p=l[1],v=l[2],x=l[3],T=l[4],N=l[5],z=l[6],Z=l[7],X=l[8],se=X*T-N*Z,xe=-X*x+N*z,be=Z*x-T*z,Ie=f*se+p*xe+v*be;return Ie?(Ie=1/Ie,o[0]=se*Ie,o[1]=(-X*p+v*Z)*Ie,o[2]=(N*p-v*T)*Ie,o[3]=xe*Ie,o[4]=(X*f-v*z)*Ie,o[5]=(-N*f+v*x)*Ie,o[6]=be*Ie,o[7]=(-Z*f+p*z)*Ie,o[8]=(T*f-p*x)*Ie,o):null}function Cu(o,l){var f=l[0],p=l[1],v=l[2],x=l[3],T=l[4],N=l[5],z=l[6],Z=l[7],X=l[8];return o[0]=T*X-N*Z,o[1]=v*Z-p*X,o[2]=p*N-v*T,o[3]=N*z-x*X,o[4]=f*X-v*z,o[5]=v*x-f*N,o[6]=x*Z-T*z,o[7]=p*z-f*Z,o[8]=f*T-p*x,o}function Lh(o){var l=o[0],f=o[1],p=o[2],v=o[3],x=o[4],T=o[5],N=o[6],z=o[7],Z=o[8];return l*(Z*x-T*z)+f*(-Z*v+T*N)+p*(z*v-x*N)}function Fh(o,l,f){var p=l[0],v=l[1],x=l[2],T=l[3],N=l[4],z=l[5],Z=l[6],X=l[7],se=l[8],xe=f[0],be=f[1],Ie=f[2],De=f[3],Te=f[4],st=f[5],St=f[6],an=f[7],Nn=f[8];return o[0]=xe*p+be*T+Ie*Z,o[1]=xe*v+be*N+Ie*X,o[2]=xe*x+be*z+Ie*se,o[3]=De*p+Te*T+st*Z,o[4]=De*v+Te*N+st*X,o[5]=De*x+Te*z+st*se,o[6]=St*p+an*T+Nn*Z,o[7]=St*v+an*N+Nn*X,o[8]=St*x+an*z+Nn*se,o}function Bh(o,l,f){var p=l[0],v=l[1],x=l[2],T=l[3],N=l[4],z=l[5],Z=l[6],X=l[7],se=l[8],xe=f[0],be=f[1];return o[0]=p,o[1]=v,o[2]=x,o[3]=T,o[4]=N,o[5]=z,o[6]=xe*p+be*T+Z,o[7]=xe*v+be*N+X,o[8]=xe*x+be*z+se,o}function Fu(o,l,f){var p=l[0],v=l[1],x=l[2],T=l[3],N=l[4],z=l[5],Z=l[6],X=l[7],se=l[8],xe=Math.sin(f),be=Math.cos(f);return o[0]=be*p+xe*T,o[1]=be*v+xe*N,o[2]=be*x+xe*z,o[3]=be*T-xe*p,o[4]=be*N-xe*v,o[5]=be*z-xe*x,o[6]=Z,o[7]=X,o[8]=se,o}function zh(o,l,f){var p=f[0],v=f[1];return o[0]=p*l[0],o[1]=p*l[1],o[2]=p*l[2],o[3]=v*l[3],o[4]=v*l[4],o[5]=v*l[5],o[6]=l[6],o[7]=l[7],o[8]=l[8],o}function Ll(o,l){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=l[0],o[7]=l[1],o[8]=1,o}function Yp(o,l){var f=Math.sin(l),p=Math.cos(l);return o[0]=p,o[1]=f,o[2]=0,o[3]=-f,o[4]=p,o[5]=0,o[6]=0,o[7]=0,o[8]=1,o}function qd(o,l){return o[0]=l[0],o[1]=0,o[2]=0,o[3]=0,o[4]=l[1],o[5]=0,o[6]=0,o[7]=0,o[8]=1,o}function Hv(o,l){return o[0]=l[0],o[1]=l[1],o[2]=0,o[3]=l[2],o[4]=l[3],o[5]=0,o[6]=l[4],o[7]=l[5],o[8]=1,o}function P0(o,l){var f=l[0],p=l[1],v=l[2],x=l[3],T=f+f,N=p+p,z=v+v,Z=f*T,X=p*T,se=p*N,xe=v*T,be=v*N,Ie=v*z,De=x*T,Te=x*N,st=x*z;return o[0]=1-se-Ie,o[3]=X-st,o[6]=xe+Te,o[1]=X+st,o[4]=1-Z-Ie,o[7]=be-De,o[2]=xe-Te,o[5]=be+De,o[8]=1-Z-se,o}function $c(o,l){var f=l[0],p=l[1],v=l[2],x=l[3],T=l[4],N=l[5],z=l[6],Z=l[7],X=l[8],se=l[9],xe=l[10],be=l[11],Ie=l[12],De=l[13],Te=l[14],st=l[15],St=f*N-p*T,an=f*z-v*T,Nn=f*Z-x*T,Ln=p*z-v*N,Dr=p*Z-x*N,Ni=v*Z-x*z,Ai=X*De-se*Ie,ko=X*Te-xe*Ie,Oi=X*st-be*Ie,go=se*Te-xe*De,Wi=se*st-be*De,is=xe*st-be*Te,Bo=St*is-an*Wi+Nn*go+Ln*Oi-Dr*ko+Ni*Ai;return Bo?(Bo=1/Bo,o[0]=(N*is-z*Wi+Z*go)*Bo,o[1]=(z*Oi-T*is-Z*ko)*Bo,o[2]=(T*Wi-N*Oi+Z*Ai)*Bo,o[3]=(v*Wi-p*is-x*go)*Bo,o[4]=(f*is-v*Oi+x*ko)*Bo,o[5]=(p*Oi-f*Wi-x*Ai)*Bo,o[6]=(De*Ni-Te*Dr+st*Ln)*Bo,o[7]=(Te*Nn-Ie*Ni-st*an)*Bo,o[8]=(Ie*Dr-De*Nn+st*St)*Bo,o):null}function ec(o,l,f){return o[0]=2/l,o[1]=0,o[2]=0,o[3]=0,o[4]=-2/f,o[5]=0,o[6]=-1,o[7]=1,o[8]=1,o}function Nc(o){return"mat3("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+", "+o[4]+", "+o[5]+", "+o[6]+", "+o[7]+", "+o[8]+")"}function Kv(o){return Math.hypot(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8])}function Xv(o,l,f){return o[0]=l[0]+f[0],o[1]=l[1]+f[1],o[2]=l[2]+f[2],o[3]=l[3]+f[3],o[4]=l[4]+f[4],o[5]=l[5]+f[5],o[6]=l[6]+f[6],o[7]=l[7]+f[7],o[8]=l[8]+f[8],o}function ah(o,l,f){return o[0]=l[0]-f[0],o[1]=l[1]-f[1],o[2]=l[2]-f[2],o[3]=l[3]-f[3],o[4]=l[4]-f[4],o[5]=l[5]-f[5],o[6]=l[6]-f[6],o[7]=l[7]-f[7],o[8]=l[8]-f[8],o}function Gh(o,l,f){return o[0]=l[0]*f,o[1]=l[1]*f,o[2]=l[2]*f,o[3]=l[3]*f,o[4]=l[4]*f,o[5]=l[5]*f,o[6]=l[6]*f,o[7]=l[7]*f,o[8]=l[8]*f,o}function Hc(o,l,f,p){return o[0]=l[0]+f[0]*p,o[1]=l[1]+f[1]*p,o[2]=l[2]+f[2]*p,o[3]=l[3]+f[3]*p,o[4]=l[4]+f[4]*p,o[5]=l[5]+f[5]*p,o[6]=l[6]+f[6]*p,o[7]=l[7]+f[7]*p,o[8]=l[8]+f[8]*p,o}function Jp(o,l){return o[0]===l[0]&&o[1]===l[1]&&o[2]===l[2]&&o[3]===l[3]&&o[4]===l[4]&&o[5]===l[5]&&o[6]===l[6]&&o[7]===l[7]&&o[8]===l[8]}function gd(o,l){var f=o[0],p=o[1],v=o[2],x=o[3],T=o[4],N=o[5],z=o[6],Z=o[7],X=o[8],se=l[0],xe=l[1],be=l[2],Ie=l[3],De=l[4],Te=l[5],st=l[6],St=l[7],an=l[8];return Math.abs(f-se)<=glMatrix.EPSILON*Math.max(1,Math.abs(f),Math.abs(se))&&Math.abs(p-xe)<=glMatrix.EPSILON*Math.max(1,Math.abs(p),Math.abs(xe))&&Math.abs(v-be)<=glMatrix.EPSILON*Math.max(1,Math.abs(v),Math.abs(be))&&Math.abs(x-Ie)<=glMatrix.EPSILON*Math.max(1,Math.abs(x),Math.abs(Ie))&&Math.abs(T-De)<=glMatrix.EPSILON*Math.max(1,Math.abs(T),Math.abs(De))&&Math.abs(N-Te)<=glMatrix.EPSILON*Math.max(1,Math.abs(N),Math.abs(Te))&&Math.abs(z-st)<=glMatrix.EPSILON*Math.max(1,Math.abs(z),Math.abs(st))&&Math.abs(Z-St)<=glMatrix.EPSILON*Math.max(1,Math.abs(Z),Math.abs(St))&&Math.abs(X-an)<=glMatrix.EPSILON*Math.max(1,Math.abs(X),Math.abs(an))}var uu=null,Bu=null;function da(){var o=new fl(3);return fl!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0),o}function fu(o){var l=new fl(3);return l[0]=o[0],l[1]=o[1],l[2]=o[2],l}function Vh(o){var l=o[0],f=o[1],p=o[2];return Math.hypot(l,f,p)}function Os(o,l,f){var p=new fl(3);return p[0]=o,p[1]=l,p[2]=f,p}function Ya(o,l){return o[0]=l[0],o[1]=l[1],o[2]=l[2],o}function Ja(o,l,f,p){return o[0]=l,o[1]=f,o[2]=p,o}function hl(o,l,f){return o[0]=l[0]+f[0],o[1]=l[1]+f[1],o[2]=l[2]+f[2],o}function lh(o,l,f){return o[0]=l[0]-f[0],o[1]=l[1]-f[1],o[2]=l[2]-f[2],o}function qp(o,l,f){return o[0]=l[0]*f[0],o[1]=l[1]*f[1],o[2]=l[2]*f[2],o}function Yv(o,l,f){return o[0]=l[0]/f[0],o[1]=l[1]/f[1],o[2]=l[2]/f[2],o}function um(o,l){return o[0]=Math.ceil(l[0]),o[1]=Math.ceil(l[1]),o[2]=Math.ceil(l[2]),o}function fm(o,l){return o[0]=Math.floor(l[0]),o[1]=Math.floor(l[1]),o[2]=Math.floor(l[2]),o}function Qd(o,l,f){return o[0]=Math.min(l[0],f[0]),o[1]=Math.min(l[1],f[1]),o[2]=Math.min(l[2],f[2]),o}function O0(o,l,f){return o[0]=Math.max(l[0],f[0]),o[1]=Math.max(l[1],f[1]),o[2]=Math.max(l[2],f[2]),o}function ep(o,l){return o[0]=Math.round(l[0]),o[1]=Math.round(l[1]),o[2]=Math.round(l[2]),o}function ch(o,l,f){return o[0]=l[0]*f,o[1]=l[1]*f,o[2]=l[2]*f,o}function Kc(o,l,f,p){return o[0]=l[0]+f[0]*p,o[1]=l[1]+f[1]*p,o[2]=l[2]+f[2]*p,o}function Qp(o,l){var f=l[0]-o[0],p=l[1]-o[1],v=l[2]-o[2];return Math.hypot(f,p,v)}function Zh(o,l){var f=l[0]-o[0],p=l[1]-o[1],v=l[2]-o[2];return f*f+p*p+v*v}function zu(o){var l=o[0],f=o[1],p=o[2];return l*l+f*f+p*p}function md(o,l){return o[0]=-l[0],o[1]=-l[1],o[2]=-l[2],o}function Jv(o,l){return o[0]=1/l[0],o[1]=1/l[1],o[2]=1/l[2],o}function jh(o,l){var f=l[0],p=l[1],v=l[2],x=f*f+p*p+v*v;return x>0&&(x=1/Math.sqrt(x)),o[0]=l[0]*x,o[1]=l[1]*x,o[2]=l[2]*x,o}function tc(o,l){return o[0]*l[0]+o[1]*l[1]+o[2]*l[2]}function Uh(o,l,f){var p=l[0],v=l[1],x=l[2],T=f[0],N=f[1],z=f[2];return o[0]=v*z-x*N,o[1]=x*T-p*z,o[2]=p*N-v*T,o}function Le(o,l,f,p){var v=l[0],x=l[1],T=l[2];return o[0]=v+p*(f[0]-v),o[1]=x+p*(f[1]-x),o[2]=T+p*(f[2]-T),o}function nn(o,l,f,p,v,x){var T=x*x,N=T*(2*x-3)+1,z=T*(x-2)+x,Z=T*(x-1),X=T*(3-2*x);return o[0]=l[0]*N+f[0]*z+p[0]*Z+v[0]*X,o[1]=l[1]*N+f[1]*z+p[1]*Z+v[1]*X,o[2]=l[2]*N+f[2]*z+p[2]*Z+v[2]*X,o}function Bn(o,l,f,p,v,x){var T=1-x,N=T*T,z=x*x,Z=N*T,X=3*x*N,se=3*z*T,xe=z*x;return o[0]=l[0]*Z+f[0]*X+p[0]*se+v[0]*xe,o[1]=l[1]*Z+f[1]*X+p[1]*se+v[1]*xe,o[2]=l[2]*Z+f[2]*X+p[2]*se+v[2]*xe,o}function ri(o,l){l=l||1;var f=glMatrix.RANDOM()*2*Math.PI,p=glMatrix.RANDOM()*2-1,v=Math.sqrt(1-p*p)*l;return o[0]=Math.cos(f)*v,o[1]=Math.sin(f)*v,o[2]=p*l,o}function Ur(o,l,f){var p=l[0],v=l[1],x=l[2],T=f[3]*p+f[7]*v+f[11]*x+f[15];return T=T||1,o[0]=(f[0]*p+f[4]*v+f[8]*x+f[12])/T,o[1]=(f[1]*p+f[5]*v+f[9]*x+f[13])/T,o[2]=(f[2]*p+f[6]*v+f[10]*x+f[14])/T,o}function qr(o,l,f){var p=l[0],v=l[1],x=l[2];return o[0]=p*f[0]+v*f[3]+x*f[6],o[1]=p*f[1]+v*f[4]+x*f[7],o[2]=p*f[2]+v*f[5]+x*f[8],o}function hi(o,l,f){var p=f[0],v=f[1],x=f[2],T=f[3],N=l[0],z=l[1],Z=l[2],X=v*Z-x*z,se=x*N-p*Z,xe=p*z-v*N,be=v*xe-x*se,Ie=x*X-p*xe,De=p*se-v*X,Te=T*2;return X*=Te,se*=Te,xe*=Te,be*=2,Ie*=2,De*=2,o[0]=N+X+be,o[1]=z+se+Ie,o[2]=Z+xe+De,o}function ji(o,l,f,p){var v=[],x=[];return v[0]=l[0]-f[0],v[1]=l[1]-f[1],v[2]=l[2]-f[2],x[0]=v[0],x[1]=v[1]*Math.cos(p)-v[2]*Math.sin(p),x[2]=v[1]*Math.sin(p)+v[2]*Math.cos(p),o[0]=x[0]+f[0],o[1]=x[1]+f[1],o[2]=x[2]+f[2],o}function lo(o,l,f,p){var v=[],x=[];return v[0]=l[0]-f[0],v[1]=l[1]-f[1],v[2]=l[2]-f[2],x[0]=v[2]*Math.sin(p)+v[0]*Math.cos(p),x[1]=v[1],x[2]=v[2]*Math.cos(p)-v[0]*Math.sin(p),o[0]=x[0]+f[0],o[1]=x[1]+f[1],o[2]=x[2]+f[2],o}function no(o,l,f,p){var v=[],x=[];return v[0]=l[0]-f[0],v[1]=l[1]-f[1],v[2]=l[2]-f[2],x[0]=v[0]*Math.cos(p)-v[1]*Math.sin(p),x[1]=v[0]*Math.sin(p)+v[1]*Math.cos(p),x[2]=v[2],o[0]=x[0]+f[0],o[1]=x[1]+f[1],o[2]=x[2]+f[2],o}function oo(o,l){var f=o[0],p=o[1],v=o[2],x=l[0],T=l[1],N=l[2],z=Math.sqrt(f*f+p*p+v*v),Z=Math.sqrt(x*x+T*T+N*N),X=z*Z,se=X&&tc(o,l)/X;return Math.acos(Math.min(Math.max(se,-1),1))}function Zi(o){return o[0]=0,o[1]=0,o[2]=0,o}function Mo(o){return"vec3("+o[0]+", "+o[1]+", "+o[2]+")"}function Yi(o,l){return o[0]===l[0]&&o[1]===l[1]&&o[2]===l[2]}function yo(o,l){var f=o[0],p=o[1],v=o[2],x=l[0],T=l[1],N=l[2];return Math.abs(f-x)<=glMatrix.EPSILON*Math.max(1,Math.abs(f),Math.abs(x))&&Math.abs(p-T)<=glMatrix.EPSILON*Math.max(1,Math.abs(p),Math.abs(T))&&Math.abs(v-N)<=glMatrix.EPSILON*Math.max(1,Math.abs(v),Math.abs(N))}var Vr=lh,pi=null,fo=null,_o=Qp,Vi=null,Oo=Vh,Di=null,bo=function(){var o=da();return function(l,f,p,v,x,T){var N,z;for(f||(f=3),p||(p=0),v?z=Math.min(v*f+p,l.length):z=l.length,N=p;N<z;N+=f)o[0]=l[N],o[1]=l[N+1],o[2]=l[N+2],x(o,o,T),l[N]=o[0],l[N+1]=o[1],l[N+2]=o[2];return l}}(),Fi=w(71002),xo=9007199254740991,Es="[object Arguments]",Bs="[object Array]",So="[object Boolean]",ho="[object Date]",Bi="[object Error]",vs="[object Function]",Wo="[object Map]",Jo="[object Number]",Ys="[object Object]",ys="[object RegExp]",js="[object Set]",ua="[object String]",dl="[object WeakMap]",ia="[object ArrayBuffer]",As="[object DataView]",pl="[object Float32Array]",Pa="[object Float64Array]",$a="[object Int8Array]",qa="[object Int16Array]",El="[object Int32Array]",oa="[object Uint8Array]",nl="[object Uint8ClampedArray]",gl="[object Uint16Array]",Gs="[object Uint32Array]",Vs={};Vs[pl]=Vs[Pa]=Vs[$a]=Vs[qa]=Vs[El]=Vs[oa]=Vs[nl]=Vs[gl]=Vs[Gs]=!0,Vs[Es]=Vs[Bs]=Vs[ia]=Vs[So]=Vs[As]=Vs[ho]=Vs[Bi]=Vs[vs]=Vs[Wo]=Vs[Jo]=Vs[Ys]=Vs[ys]=Vs[js]=Vs[ua]=Vs[dl]=!1;function Oa(o){return function(l){return o(l)}}var Is=Object.prototype,Qs=Is.toString;function sa(o){return Gu(o)&&ml(o.length)&&!!Vs[Qs.call(o)]}function ml(o){return typeof o=="number"&&o>-1&&o%1===0&&o<=xo}function Gu(o){return!!o&&(0,Fi.Z)(o)==="object"}var uf=sa;function Mn(o,l){var f=Object.keys(o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);l&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable})),f.push.apply(f,p)}return f}function oi(o){for(var l=1;l<arguments.length;l++){var f=arguments[l]!=null?arguments[l]:{};l%2?Mn(Object(f),!0).forEach(function(p){(0,Pi.Z)(o,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(f)):Mn(Object(f)).forEach(function(p){Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(f,p))})}return o}function Qr(o){var l=Fo();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function Fo(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var Xs=function(o){(0,ll.Z)(f,o);var l=Qr(f);function f(p){var v;return(0,mo.Z)(this,f),v=l.call(this,p),v.dirty=!0,v.attributes=[],v.indices=void 0,v.indicesBuffer=void 0,v.vertexCount=0,v.maxInstancedCount=void 0,v.aabb=void 0,v.entity=void 0,Object.assign((0,tl.Z)(v),p),v}return(0,Rs.Z)(f,[{key:"setAttribute",value:function(v,x,T,N){var z=this.attributes.find(function(Z){return Z.name===v});return z?(z.data=x,z.dirty=!0):this.attributes.push(oi(oi({dirty:!0,name:v,data:x},T),{},{bufferGetter:N})),this.dirty=!0,this}},{key:"setIndex",value:function(v){return this.indices=new Uint32Array(v.buffer?v.buffer:v),this.dirty=!0,this}},{key:"applyMatrix",value:function(v){var x=this.attributes.find(function(xe){var be=xe.name;return be==="position"}),T=this.attributes.find(function(xe){var be=xe.name;return be==="normal"});if(x&&(x.dirty=!0,x.data&&x.data.length))for(var N=0;N<x.data.length;N+=3){var z=_u(x.data[N],x.data[N+1],x.data[N+2],1);Lu(z,z,v),uf(x.data)?x.data.set([z[0],z[1],z[2]],N):(x.data[N]=z[0],x.data[N+1]=z[1],x.data[N+2]=z[2])}if(T){var Z=$c(lf(),v);if(T.data&&T.data.length)for(var X=0;X<T.data.length;X+=3){var se=Os(T.data[X],T.data[X+1],T.data[X+2]);qr(se,se,Z),jh(se,se),uf(T.data)?T.data.set([se[0],se[1],se[2]],X):(T.data[X]=se[0],T.data[X+1]=se[1],T.data[X+2]=se[2])}}}}]),f}(el),qe;(function(o){o[o.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",o[o.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",o[o.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",o[o.POINTS=0]="POINTS",o[o.LINES=1]="LINES",o[o.LINE_LOOP=2]="LINE_LOOP",o[o.LINE_STRIP=3]="LINE_STRIP",o[o.TRIANGLES=4]="TRIANGLES",o[o.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",o[o.TRIANGLE_FAN=6]="TRIANGLE_FAN",o[o.ZERO=0]="ZERO",o[o.ONE=1]="ONE",o[o.SRC_COLOR=768]="SRC_COLOR",o[o.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",o[o.SRC_ALPHA=770]="SRC_ALPHA",o[o.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",o[o.DST_ALPHA=772]="DST_ALPHA",o[o.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",o[o.DST_COLOR=774]="DST_COLOR",o[o.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",o[o.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",o[o.FUNC_ADD=32774]="FUNC_ADD",o[o.BLEND_EQUATION=32777]="BLEND_EQUATION",o[o.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",o[o.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",o[o.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",o[o.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",o[o.MAX_EXT=32776]="MAX_EXT",o[o.MIN_EXT=32775]="MIN_EXT",o[o.BLEND_DST_RGB=32968]="BLEND_DST_RGB",o[o.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",o[o.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",o[o.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",o[o.CONSTANT_COLOR=32769]="CONSTANT_COLOR",o[o.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",o[o.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",o[o.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",o[o.BLEND_COLOR=32773]="BLEND_COLOR",o[o.ARRAY_BUFFER=34962]="ARRAY_BUFFER",o[o.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",o[o.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",o[o.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",o[o.STREAM_DRAW=35040]="STREAM_DRAW",o[o.STATIC_DRAW=35044]="STATIC_DRAW",o[o.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",o[o.BUFFER_SIZE=34660]="BUFFER_SIZE",o[o.BUFFER_USAGE=34661]="BUFFER_USAGE",o[o.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",o[o.FRONT=1028]="FRONT",o[o.BACK=1029]="BACK",o[o.FRONT_AND_BACK=1032]="FRONT_AND_BACK",o[o.CULL_FACE=2884]="CULL_FACE",o[o.BLEND=3042]="BLEND",o[o.DITHER=3024]="DITHER",o[o.STENCIL_TEST=2960]="STENCIL_TEST",o[o.DEPTH_TEST=2929]="DEPTH_TEST",o[o.SCISSOR_TEST=3089]="SCISSOR_TEST",o[o.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",o[o.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",o[o.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",o[o.NO_ERROR=0]="NO_ERROR",o[o.INVALID_ENUM=1280]="INVALID_ENUM",o[o.INVALID_VALUE=1281]="INVALID_VALUE",o[o.INVALID_OPERATION=1282]="INVALID_OPERATION",o[o.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",o[o.CW=2304]="CW",o[o.CCW=2305]="CCW",o[o.LINE_WIDTH=2849]="LINE_WIDTH",o[o.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",o[o.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",o[o.CULL_FACE_MODE=2885]="CULL_FACE_MODE",o[o.FRONT_FACE=2886]="FRONT_FACE",o[o.DEPTH_RANGE=2928]="DEPTH_RANGE",o[o.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",o[o.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",o[o.DEPTH_FUNC=2932]="DEPTH_FUNC",o[o.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",o[o.STENCIL_FUNC=2962]="STENCIL_FUNC",o[o.STENCIL_FAIL=2964]="STENCIL_FAIL",o[o.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",o[o.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",o[o.STENCIL_REF=2967]="STENCIL_REF",o[o.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",o[o.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",o[o.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",o[o.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",o[o.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",o[o.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",o[o.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",o[o.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",o[o.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",o[o.VIEWPORT=2978]="VIEWPORT",o[o.SCISSOR_BOX=3088]="SCISSOR_BOX",o[o.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",o[o.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",o[o.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",o[o.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",o[o.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",o[o.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",o[o.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",o[o.RED_BITS=3410]="RED_BITS",o[o.GREEN_BITS=3411]="GREEN_BITS",o[o.BLUE_BITS=3412]="BLUE_BITS",o[o.ALPHA_BITS=3413]="ALPHA_BITS",o[o.DEPTH_BITS=3414]="DEPTH_BITS",o[o.STENCIL_BITS=3415]="STENCIL_BITS",o[o.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",o[o.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",o[o.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",o[o.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",o[o.SAMPLES=32937]="SAMPLES",o[o.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",o[o.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",o[o.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",o[o.DONT_CARE=4352]="DONT_CARE",o[o.FASTEST=4353]="FASTEST",o[o.NICEST=4354]="NICEST",o[o.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",o[o.BYTE=5120]="BYTE",o[o.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",o[o.SHORT=5122]="SHORT",o[o.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",o[o.INT=5124]="INT",o[o.UNSIGNED_INT=5125]="UNSIGNED_INT",o[o.FLOAT=5126]="FLOAT",o[o.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",o[o.ALPHA=6406]="ALPHA",o[o.RGB=6407]="RGB",o[o.RGBA=6408]="RGBA",o[o.LUMINANCE=6409]="LUMINANCE",o[o.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",o[o.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",o[o.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",o[o.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",o[o.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",o[o.VERTEX_SHADER=35633]="VERTEX_SHADER",o[o.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",o[o.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",o[o.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",o[o.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",o[o.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",o[o.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",o[o.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",o[o.SHADER_TYPE=35663]="SHADER_TYPE",o[o.DELETE_STATUS=35712]="DELETE_STATUS",o[o.LINK_STATUS=35714]="LINK_STATUS",o[o.VALIDATE_STATUS=35715]="VALIDATE_STATUS",o[o.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",o[o.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",o[o.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",o[o.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",o[o.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",o[o.NEVER=512]="NEVER",o[o.LESS=513]="LESS",o[o.EQUAL=514]="EQUAL",o[o.LEQUAL=515]="LEQUAL",o[o.GREATER=516]="GREATER",o[o.NOTEQUAL=517]="NOTEQUAL",o[o.GEQUAL=518]="GEQUAL",o[o.ALWAYS=519]="ALWAYS",o[o.KEEP=7680]="KEEP",o[o.REPLACE=7681]="REPLACE",o[o.INCR=7682]="INCR",o[o.DECR=7683]="DECR",o[o.INVERT=5386]="INVERT",o[o.INCR_WRAP=34055]="INCR_WRAP",o[o.DECR_WRAP=34056]="DECR_WRAP",o[o.VENDOR=7936]="VENDOR",o[o.RENDERER=7937]="RENDERER",o[o.VERSION=7938]="VERSION",o[o.NEAREST=9728]="NEAREST",o[o.LINEAR=9729]="LINEAR",o[o.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",o[o.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",o[o.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",o[o.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",o[o.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",o[o.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",o[o.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",o[o.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",o[o.TEXTURE_2D=3553]="TEXTURE_2D",o[o.TEXTURE=5890]="TEXTURE",o[o.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",o[o.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",o[o.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",o[o.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",o[o.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",o[o.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",o[o.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",o[o.TEXTURE0=33984]="TEXTURE0",o[o.TEXTURE1=33985]="TEXTURE1",o[o.TEXTURE2=33986]="TEXTURE2",o[o.TEXTURE3=33987]="TEXTURE3",o[o.TEXTURE4=33988]="TEXTURE4",o[o.TEXTURE5=33989]="TEXTURE5",o[o.TEXTURE6=33990]="TEXTURE6",o[o.TEXTURE7=33991]="TEXTURE7",o[o.TEXTURE8=33992]="TEXTURE8",o[o.TEXTURE9=33993]="TEXTURE9",o[o.TEXTURE10=33994]="TEXTURE10",o[o.TEXTURE11=33995]="TEXTURE11",o[o.TEXTURE12=33996]="TEXTURE12",o[o.TEXTURE13=33997]="TEXTURE13",o[o.TEXTURE14=33998]="TEXTURE14",o[o.TEXTURE15=33999]="TEXTURE15",o[o.TEXTURE16=34e3]="TEXTURE16",o[o.TEXTURE17=34001]="TEXTURE17",o[o.TEXTURE18=34002]="TEXTURE18",o[o.TEXTURE19=34003]="TEXTURE19",o[o.TEXTURE20=34004]="TEXTURE20",o[o.TEXTURE21=34005]="TEXTURE21",o[o.TEXTURE22=34006]="TEXTURE22",o[o.TEXTURE23=34007]="TEXTURE23",o[o.TEXTURE24=34008]="TEXTURE24",o[o.TEXTURE25=34009]="TEXTURE25",o[o.TEXTURE26=34010]="TEXTURE26",o[o.TEXTURE27=34011]="TEXTURE27",o[o.TEXTURE28=34012]="TEXTURE28",o[o.TEXTURE29=34013]="TEXTURE29",o[o.TEXTURE30=34014]="TEXTURE30",o[o.TEXTURE31=34015]="TEXTURE31",o[o.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",o[o.REPEAT=10497]="REPEAT",o[o.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",o[o.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",o[o.FLOAT_VEC2=35664]="FLOAT_VEC2",o[o.FLOAT_VEC3=35665]="FLOAT_VEC3",o[o.FLOAT_VEC4=35666]="FLOAT_VEC4",o[o.INT_VEC2=35667]="INT_VEC2",o[o.INT_VEC3=35668]="INT_VEC3",o[o.INT_VEC4=35669]="INT_VEC4",o[o.BOOL=35670]="BOOL",o[o.BOOL_VEC2=35671]="BOOL_VEC2",o[o.BOOL_VEC3=35672]="BOOL_VEC3",o[o.BOOL_VEC4=35673]="BOOL_VEC4",o[o.FLOAT_MAT2=35674]="FLOAT_MAT2",o[o.FLOAT_MAT3=35675]="FLOAT_MAT3",o[o.FLOAT_MAT4=35676]="FLOAT_MAT4",o[o.SAMPLER_2D=35678]="SAMPLER_2D",o[o.SAMPLER_CUBE=35680]="SAMPLER_CUBE",o[o.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",o[o.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",o[o.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",o[o.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",o[o.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",o[o.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",o[o.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",o[o.COMPILE_STATUS=35713]="COMPILE_STATUS",o[o.LOW_FLOAT=36336]="LOW_FLOAT",o[o.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",o[o.HIGH_FLOAT=36338]="HIGH_FLOAT",o[o.LOW_INT=36339]="LOW_INT",o[o.MEDIUM_INT=36340]="MEDIUM_INT",o[o.HIGH_INT=36341]="HIGH_INT",o[o.FRAMEBUFFER=36160]="FRAMEBUFFER",o[o.RENDERBUFFER=36161]="RENDERBUFFER",o[o.RGBA4=32854]="RGBA4",o[o.RGB5_A1=32855]="RGB5_A1",o[o.RGB565=36194]="RGB565",o[o.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",o[o.STENCIL_INDEX=6401]="STENCIL_INDEX",o[o.STENCIL_INDEX8=36168]="STENCIL_INDEX8",o[o.DEPTH_STENCIL=34041]="DEPTH_STENCIL",o[o.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",o[o.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",o[o.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",o[o.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",o[o.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",o[o.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",o[o.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",o[o.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",o[o.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",o[o.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",o[o.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",o[o.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",o[o.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",o[o.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",o[o.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",o[o.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",o[o.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",o[o.NONE=0]="NONE",o[o.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",o[o.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",o[o.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",o[o.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",o[o.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",o[o.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",o[o.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",o[o.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",o[o.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",o[o.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",o[o.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",o[o.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",o[o.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",o[o.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",o[o.COPY_SRC=1]="COPY_SRC",o[o.COPY_DST=2]="COPY_DST",o[o.SAMPLED=4]="SAMPLED",o[o.STORAGE=8]="STORAGE",o[o.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(qe||(qe={}));var Wt,rr,_r,Zr,ur,Jn,Ar,dn,qn=(Wt=(0,Xi.b2)(),rr=(0,Xi.f3)(zi.GeometryComponentManager),_r=(0,Xi.f3)(zi.RenderEngine),Wt(Zr=(ur=(dn=function(){function o(){(0,mo.Z)(this,o),ds(this,"geometry",Jn,this),ds(this,"engine",Ar,this)}return(0,Rs.Z)(o,[{key:"execute",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){var v=this;return qo().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:this.geometry.forEach(function(N,z){z.dirty&&(z.attributes.forEach(function(Z){if(Z.dirty&&Z.data){if(!Z.buffer)Z.buffer=v.engine.createBuffer({data:Z.data,type:qe.FLOAT});else{var X;(X=Z.buffer)===null||X===void 0||X.subData({data:Z.data,offset:0})}Z.dirty=!1}}),z.indices&&(z.indicesBuffer?z.indicesBuffer.subData({data:z.indices,offset:0}):z.indicesBuffer=v.engine.createElements({data:z.indices,count:z.indices.length,type:qe.UNSIGNED_INT,usage:qe.STATIC_DRAW})),z.dirty=!1)});case 1:case"end":return T.stop()}},p,this)}));function f(){return l.apply(this,arguments)}return f}()},{key:"tearDown",value:function(){this.geometry.forEach(function(f,p){p.indicesBuffer&&p.indicesBuffer.destroy(),p.attributes.forEach(function(v){v.buffer&&v.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{vertexCount:3},p=f.vertexCount,v=Zc();return this.geometry.create(v,{vertexCount:p})}},{key:"createInstancedBufferGeometry",value:function(f){var p=f.maxInstancedCount,v=f.vertexCount,x=Zc();return this.geometry.create(x,{maxInstancedCount:p,vertexCount:v})}}]),o}(),dn),Jn=Ds(ur.prototype,"geometry",[rr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ar=Ds(ur.prototype,"engine",[_r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ur))||Zr);function ln(o,l){var f=Object.keys(o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);l&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable})),f.push.apply(f,p)}return f}function wr(o){for(var l=1;l<arguments.length;l++){var f=arguments[l]!=null?arguments[l]:{};l%2?ln(Object(f),!0).forEach(function(p){(0,Pi.Z)(o,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(f)):ln(Object(f)).forEach(function(p){Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(f,p))})}return o}function Xr(o){var l=Ti();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function Ti(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var Ii=function(o){(0,ll.Z)(f,o);var l=Xr(f);function f(p){var v;return(0,mo.Z)(this,f),v=l.call(this,p),v.vertexShaderGLSL=void 0,v.fragmentShaderGLSL=void 0,v.defines={},v.dirty=!0,v.uniforms=[],v.cull={enable:!0,face:qe.BACK},v.depth={enable:!0},v.blend=void 0,v.entity=void 0,v.type=void 0,Object.assign((0,tl.Z)(v),p),v}return(0,Rs.Z)(f,[{key:"setDefines",value:function(v){return this.defines=wr(wr({},this.defines),v),this}},{key:"setCull",value:function(v){return this.cull=v,this}},{key:"setDepth",value:function(v){return this.depth=v,this}},{key:"setBlend",value:function(v){return this.blend=v,this}},{key:"setUniform",value:function(v,x){var T=this;if(typeof v!="string")return Object.keys(v).forEach(function(z){return T.setUniform(z,v[z])}),this;var N=this.uniforms.find(function(z){return z.name===v});return N?(N.dirty=!0,N.data=x):this.uniforms.push({name:v,dirty:!0,data:x}),this.dirty=!0,this}}]),f}(el),vi,Ui,ps,zs,Qo,bs,Fs,ma,Ha,nc;function tp(o,l){var f=Object.keys(o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);l&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable})),f.push.apply(f,p)}return f}function _c(o){for(var l=1;l<arguments.length;l++){var f=arguments[l]!=null?arguments[l]:{};l%2?tp(Object(f),!0).forEach(function(p){(0,Pi.Z)(o,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(f)):tp(Object(f)).forEach(function(p){Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(f,p))})}return o}var I0=(vi=(0,Xi.b2)(),Ui=(0,Xi.f3)(zi.MaterialComponentManager),ps=(0,Xi.f3)(zi.RenderEngine),zs=(0,Xi.f3)(zi.ShaderModuleService),vi(Qo=(bs=(nc=function(){function o(){(0,mo.Z)(this,o),ds(this,"material",Fs,this),ds(this,"engine",ma,this),ds(this,"shaderModule",Ha,this)}return(0,Rs.Z)(o,[{key:"execute",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){return qo().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:case"end":return x.stop()}},p)}));function f(){return l.apply(this,arguments)}return f}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(f){var p=Zc(),v=f.vertexShader,x=f.fragmentShader,T=[];if(!this.engine.supportWebGPU){var N="material-".concat(p);this.shaderModule.registerModule(N,{vs:f.vertexShader,fs:f.fragmentShader});var z=this.shaderModule.getModule(N);v=z.vs,x=z.fs,z.uniforms&&(T=Object.keys(z.uniforms).map(function(Z){return{dirty:!0,name:Z,data:z.uniforms[Z]}}))}return this.material.create(p,_c(_c({vertexShaderGLSL:v,fragmentShaderGLSL:x},f),{},{uniforms:T}))}}]),o}(),nc),Fs=Ds(bs.prototype,"material",[Ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ma=Ds(bs.prototype,"engine",[ps],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ha=Ds(bs.prototype,"shaderModule",[zs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bs))||Qo);function Xc(o){var l=hm();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function hm(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var as;(function(o){o[o.Standard=0]="Standard"})(as||(as={}));var dm=function(o){(0,ll.Z)(f,o);var l=Xc(f);function f(p){var v;return(0,mo.Z)(this,f),v=l.call(this,p),v.strategy=as.Standard,v.visibilityPlaneMask=0,v.visible=!1,Object.assign((0,tl.Z)(v),p),v}return f}(el),Nf=function(){function o(l,f){(0,mo.Z)(this,o),this.center=void 0,this.halfExtents=void 0,this.min=da(),this.max=da(),this.update(l,f)}return(0,Rs.Z)(o,[{key:"update",value:function(f,p){this.center=f||da(),this.halfExtents=p||Os(.5,.5,.5),this.min=Vr(this.min,this.center,this.halfExtents),this.max=hl(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(f,p){hl(this.center,p,f),ch(this.center,this.center,.5),Vr(this.halfExtents,p,f),ch(this.halfExtents,this.halfExtents,.5),Ya(this.min,f),Ya(this.max,p)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(f){var p=this.center,v=p[0],x=p[1],T=p[2],N=this.halfExtents,z=N[0],Z=N[1],X=N[2],se=v-z,xe=v+z,be=x-Z,Ie=x+Z,De=T-X,Te=T+X,st=f.center,St=st[0],an=st[1],Nn=st[2],Ln=f.halfExtents,Dr=Ln[0],Ni=Ln[1],Ai=Ln[2],ko=St-Dr,Oi=St+Dr,go=an-Ni,Wi=an+Ni,is=Nn-Ai,Bo=Nn+Ai;ko<se&&(se=ko),Oi>xe&&(xe=Oi),go<be&&(be=go),Wi>Ie&&(Ie=Wi),is<De&&(De=is),Bo>Te&&(Te=Bo),p[0]=(se+xe)*.5,p[1]=(be+Ie)*.5,p[2]=(De+Te)*.5,N[0]=(xe-se)*.5,N[1]=(Ie-be)*.5,N[2]=(Te-De)*.5,this.min[0]=se,this.min[1]=be,this.min[2]=De,this.max[0]=xe,this.max[1]=Ie,this.max[2]=Te}},{key:"intersects",value:function(f){var p=this.getMax(),v=this.getMin(),x=f.getMax(),T=f.getMin();return v[0]<=x[0]&&p[0]>=T[0]&&v[1]<=x[1]&&p[1]>=T[1]&&v[2]<=x[2]&&p[2]>=T[2]}},{key:"containsPoint",value:function(f){var p=this.getMin(),v=this.getMax();return!(f[0]<p[0]||f[0]>v[0]||f[1]<p[1]||f[1]>v[1]||f[2]<p[2]||f[2]>v[2])}},{key:"getNegativeFarPoint",value:function(f){return f.pnVertexFlag===273?Ya(da(),this.min):f.pnVertexFlag===272?Os(this.min[0],this.min[1],this.max[2]):f.pnVertexFlag===257?Os(this.min[0],this.max[1],this.min[2]):f.pnVertexFlag===256?Os(this.min[0],this.max[1],this.max[2]):f.pnVertexFlag===17?Os(this.max[0],this.min[1],this.min[2]):f.pnVertexFlag===16?Os(this.max[0],this.min[1],this.max[2]):f.pnVertexFlag===1?Os(this.max[0],this.max[1],this.min[2]):Os(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(f){return f.pnVertexFlag===273?Ya(da(),this.max):f.pnVertexFlag===272?Os(this.max[0],this.max[1],this.min[2]):f.pnVertexFlag===257?Os(this.max[0],this.min[1],this.max[2]):f.pnVertexFlag===256?Os(this.max[0],this.min[1],this.min[2]):f.pnVertexFlag===17?Os(this.min[0],this.max[1],this.max[2]):f.pnVertexFlag===16?Os(this.min[0],this.max[1],this.min[2]):f.pnVertexFlag===1?Os(this.min[0],this.min[1],this.max[2]):Os(this.min[0],this.min[1],this.min[2])}}]),o}();function qv(o){var l=R0();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function R0(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var Wh=function(o){(0,ll.Z)(f,o);var l=qv(f);function f(p){var v;return(0,mo.Z)(this,f),v=l.call(this,p),v.material=void 0,v.geometry=void 0,v.aabb=new Nf,v.aabbDirty=!0,v.model=void 0,v.visible=!0,v.children=[],Object.assign((0,tl.Z)(v),p),v}return f}(el),pm=function(){function o(l,f){(0,mo.Z)(this,o),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=l||0,this.normal=f||Os(0,1,0),this.updatePNVertexFlag()}return(0,Rs.Z)(o,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(f){return tc(f,this.normal)-this.distance}},{key:"normalize",value:function(){var f=1/Oo(this.normal);ch(this.normal,this.normal,f),this.distance*=f}},{key:"intersectsLine",value:function(f,p,v){var x=this.distanceToPoint(f),T=this.distanceToPoint(p),N=x/(x-T),z=N>=0&&N<=1;return z&&v&&Le(v,f,p,N),z}}]),o}(),_f;(function(o){o[o.OUTSIDE=4294967295]="OUTSIDE",o[o.INSIDE=0]="INSIDE",o[o.INDETERMINATE=2147483647]="INDETERMINATE"})(_f||(_f={}));var Fl=function(){function o(l){if((0,mo.Z)(this,o),this.planes=[],l)this.planes=l;else for(var f=0;f<6;f++)this.planes.push(new pm)}return(0,Rs.Z)(o,[{key:"extractFromVPMatrix",value:function(f){var p=(0,Ec.Z)(f,16),v=p[0],x=p[1],T=p[2],N=p[3],z=p[4],Z=p[5],X=p[6],se=p[7],xe=p[8],be=p[9],Ie=p[10],De=p[11],Te=p[12],st=p[13],St=p[14],an=p[15];Ja(this.planes[0].normal,N-v,se-z,De-xe),this.planes[0].distance=-(an-Te),Ja(this.planes[1].normal,N+v,se+z,De+xe),this.planes[1].distance=-(an+Te),Ja(this.planes[2].normal,N+x,se+Z,De+be),this.planes[2].distance=-(an+st),Ja(this.planes[3].normal,N-x,se-Z,De-be),this.planes[3].distance=-(an-st),Ja(this.planes[4].normal,N-T,se-X,De-Ie),this.planes[4].distance=-(an-St),Ja(this.planes[5].normal,N+T,se+X,De+Ie),this.planes[5].distance=-(an+St),this.planes.forEach(function(Nn){Nn.normalize(),Nn.updatePNVertexFlag()})}}]),o}();function np(o){return typeof o=="number"}function ff(o){return o===void 0?0:o>360||o<-360?o%360:o}function hf(o,l,f){return isNumber(o)?vec3.fromValues(o,l,f):o.length===3?vec3.clone(o):vec3.fromValues(o[0],o[1],o[2])}function kf(o,l){return l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[4],l[4]=o[5],l[5]=o[6],l[6]=o[8],l[7]=o[9],l[8]=o[10],l}function eg(o){var l=(0,Ec.Z)(o,3),f=l[0],p=l[1],v=l[2],x=f+p*256+v*65536-1;return x}function D0(o){return[o+1&255,o+1>>8&255,o+1>>8>>8&255]}var ro,_b,tg,Lf,N0,ng,hu,La,vd,Hl,Qv,df,kb,Lb;function ey(o,l){var f;if(typeof Symbol=="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(f=rg(o))||l&&o&&typeof o.length=="number"){f&&(o=f);var p=0,v=function(){};return{s:v,n:function(){return p>=o.length?{done:!0}:{done:!1,value:o[p++]}},e:function(Z){throw Z},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,T=!1,N;return{s:function(){f=o[Symbol.iterator]()},n:function(){var Z=f.next();return x=Z.done,Z},e:function(Z){T=!0,N=Z},f:function(){try{!x&&f.return!=null&&f.return()}finally{if(T)throw N}}}}function rg(o,l){if(o){if(typeof o=="string")return yd(o,l);var f=Object.prototype.toString.call(o).slice(8,-1);if(f==="Object"&&o.constructor&&(f=o.constructor.name),f==="Map"||f==="Set")return Array.from(o);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return yd(o,l)}}function yd(o,l){(l==null||l>o.length)&&(l=o.length);for(var f=0,p=new Array(l);f<l;f++)p[f]=o[f];return p}var gm=(ro=(0,Xi.b2)(),_b=(0,Xi.f3)(zi.MeshComponentManager),tg=(0,Xi.f3)(zi.CullableComponentManager),Lf=(0,Xi.f3)(zi.GeometryComponentManager),N0=(0,Xi.f3)(zi.HierarchyComponentManager),ng=(0,Xi.f3)(zi.TransformComponentManager),ro(hu=(La=(Lb=function(){function o(){(0,mo.Z)(this,o),ds(this,"mesh",vd,this),ds(this,"cullable",Hl,this),ds(this,"geometry",Qv,this),ds(this,"hierarchy",df,this),ds(this,"transform",kb,this),this.planes=void 0}return(0,Rs.Z)(o,[{key:"setFrustumPlanes",value:function(f){this.planes=f}},{key:"execute",value:function(){var l=(0,Ks.Z)(qo().mark(function p(v){var x,T,N,z,Z,X,se,xe,be,Ie,De,Te,st,St,an,Nn,Ln,Dr,Ni,Ai,ko;return qo().wrap(function(go){for(;;)switch(go.prev=go.next){case 0:x=ey(v);try{for(x.s();!(T=x.n()).done;){N=T.value,z=N.getScene(),Z=N.getCamera(),X=ey(z.getEntities());try{for(X.s();!(se=X.n()).done;)xe=se.value,be=this.mesh.getComponentByEntity(xe),be&&(Ie=this.hierarchy.getComponentByEntity(xe),De=this.cullable.getComponentByEntity(xe),Te=be.geometry,st=this.transform.getComponentByEntity(xe),Te&&Te.aabb&&st&&be.aabbDirty&&(St=st.worldTransform,an=Te.aabb,Nn=an.center,Ln=an.halfExtents,Dr=Ur(da(),Nn,St),Ni=kf(St,lf()),Ai=qr(da(),Ln,Ni),be.aabb.update(Dr,Ai),be.aabbDirty=!1),De&&Te&&(ko=this.cullable.getComponentByEntity((Ie==null?void 0:Ie.parentID)||-1),De.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(be.aabb,(ko==null?void 0:ko.visibilityPlaneMask)||_f.INDETERMINATE,this.planes||Z.getFrustum().planes),De.visible=De.visibilityPlaneMask!==_f.OUTSIDE))}catch(Wi){X.e(Wi)}finally{X.f()}}}catch(Wi){x.e(Wi)}finally{x.f()}case 2:case"end":return go.stop()}},p,this)}));function f(p){return l.apply(this,arguments)}return f}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(f,p,v){if(p===_f.OUTSIDE||p===_f.INSIDE)return p;for(var x=_f.INSIDE,T=0,N=v.length;T<N;++T){var z=T<31?1<<T:0;if(!(T<31&&!(p&z))){var Z=v[T],X=Z.normal,se=Z.distance;if(tc(X,f.getNegativeFarPoint(v[T]))+se>0)return _f.OUTSIDE;tc(X,f.getPositiveFarPoint(v[T]))+se>0&&(x|=z)}}return x}}]),o}(),Lb),vd=Ds(La.prototype,"mesh",[_b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hl=Ds(La.prototype,"cullable",[tg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qv=Ds(La.prototype,"geometry",[Lf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),df=Ds(La.prototype,"hierarchy",[N0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kb=Ds(La.prototype,"transform",[ng],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),La))||hu);function cc(){var o=new fl(16);return fl!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o}function ty(o){var l=new fl(16);return l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],l[4]=o[4],l[5]=o[5],l[6]=o[6],l[7]=o[7],l[8]=o[8],l[9]=o[9],l[10]=o[10],l[11]=o[11],l[12]=o[12],l[13]=o[13],l[14]=o[14],l[15]=o[15],l}function ig(o,l){return o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[3],o[4]=l[4],o[5]=l[5],o[6]=l[6],o[7]=l[7],o[8]=l[8],o[9]=l[9],o[10]=l[10],o[11]=l[11],o[12]=l[12],o[13]=l[13],o[14]=l[14],o[15]=l[15],o}function Fb(o,l,f,p,v,x,T,N,z,Z,X,se,xe,be,Ie,De){var Te=new glMatrix.ARRAY_TYPE(16);return Te[0]=o,Te[1]=l,Te[2]=f,Te[3]=p,Te[4]=v,Te[5]=x,Te[6]=T,Te[7]=N,Te[8]=z,Te[9]=Z,Te[10]=X,Te[11]=se,Te[12]=xe,Te[13]=be,Te[14]=Ie,Te[15]=De,Te}function bd(o,l,f,p,v,x,T,N,z,Z,X,se,xe,be,Ie,De,Te){return o[0]=l,o[1]=f,o[2]=p,o[3]=v,o[4]=x,o[5]=T,o[6]=N,o[7]=z,o[8]=Z,o[9]=X,o[10]=se,o[11]=xe,o[12]=be,o[13]=Ie,o[14]=De,o[15]=Te,o}function Bb(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function zb(o,l){if(o===l){var f=l[1],p=l[2],v=l[3],x=l[6],T=l[7],N=l[11];o[1]=l[4],o[2]=l[8],o[3]=l[12],o[4]=f,o[6]=l[9],o[7]=l[13],o[8]=p,o[9]=x,o[11]=l[14],o[12]=v,o[13]=T,o[14]=N}else o[0]=l[0],o[1]=l[4],o[2]=l[8],o[3]=l[12],o[4]=l[1],o[5]=l[5],o[6]=l[9],o[7]=l[13],o[8]=l[2],o[9]=l[6],o[10]=l[10],o[11]=l[14],o[12]=l[3],o[13]=l[7],o[14]=l[11],o[15]=l[15];return o}function rp(o,l){var f=l[0],p=l[1],v=l[2],x=l[3],T=l[4],N=l[5],z=l[6],Z=l[7],X=l[8],se=l[9],xe=l[10],be=l[11],Ie=l[12],De=l[13],Te=l[14],st=l[15],St=f*N-p*T,an=f*z-v*T,Nn=f*Z-x*T,Ln=p*z-v*N,Dr=p*Z-x*N,Ni=v*Z-x*z,Ai=X*De-se*Ie,ko=X*Te-xe*Ie,Oi=X*st-be*Ie,go=se*Te-xe*De,Wi=se*st-be*De,is=xe*st-be*Te,Bo=St*is-an*Wi+Nn*go+Ln*Oi-Dr*ko+Ni*Ai;return Bo?(Bo=1/Bo,o[0]=(N*is-z*Wi+Z*go)*Bo,o[1]=(v*Wi-p*is-x*go)*Bo,o[2]=(De*Ni-Te*Dr+st*Ln)*Bo,o[3]=(xe*Dr-se*Ni-be*Ln)*Bo,o[4]=(z*Oi-T*is-Z*ko)*Bo,o[5]=(f*is-v*Oi+x*ko)*Bo,o[6]=(Te*Nn-Ie*Ni-st*an)*Bo,o[7]=(X*Ni-xe*Nn+be*an)*Bo,o[8]=(T*Wi-N*Oi+Z*Ai)*Bo,o[9]=(p*Oi-f*Wi-x*Ai)*Bo,o[10]=(Ie*Dr-De*Nn+st*St)*Bo,o[11]=(se*Nn-X*Dr-be*St)*Bo,o[12]=(N*ko-T*go-z*Ai)*Bo,o[13]=(f*go-p*ko+v*Ai)*Bo,o[14]=(De*an-Ie*Ln-Te*St)*Bo,o[15]=(X*Ln-se*an+xe*St)*Bo,o):null}function mm(o,l){var f=l[0],p=l[1],v=l[2],x=l[3],T=l[4],N=l[5],z=l[6],Z=l[7],X=l[8],se=l[9],xe=l[10],be=l[11],Ie=l[12],De=l[13],Te=l[14],st=l[15];return o[0]=N*(xe*st-be*Te)-se*(z*st-Z*Te)+De*(z*be-Z*xe),o[1]=-(p*(xe*st-be*Te)-se*(v*st-x*Te)+De*(v*be-x*xe)),o[2]=p*(z*st-Z*Te)-N*(v*st-x*Te)+De*(v*Z-x*z),o[3]=-(p*(z*be-Z*xe)-N*(v*be-x*xe)+se*(v*Z-x*z)),o[4]=-(T*(xe*st-be*Te)-X*(z*st-Z*Te)+Ie*(z*be-Z*xe)),o[5]=f*(xe*st-be*Te)-X*(v*st-x*Te)+Ie*(v*be-x*xe),o[6]=-(f*(z*st-Z*Te)-T*(v*st-x*Te)+Ie*(v*Z-x*z)),o[7]=f*(z*be-Z*xe)-T*(v*be-x*xe)+X*(v*Z-x*z),o[8]=T*(se*st-be*De)-X*(N*st-Z*De)+Ie*(N*be-Z*se),o[9]=-(f*(se*st-be*De)-X*(p*st-x*De)+Ie*(p*be-x*se)),o[10]=f*(N*st-Z*De)-T*(p*st-x*De)+Ie*(p*Z-x*N),o[11]=-(f*(N*be-Z*se)-T*(p*be-x*se)+X*(p*Z-x*N)),o[12]=-(T*(se*Te-xe*De)-X*(N*Te-z*De)+Ie*(N*xe-z*se)),o[13]=f*(se*Te-xe*De)-X*(p*Te-v*De)+Ie*(p*xe-v*se),o[14]=-(f*(N*Te-z*De)-T*(p*Te-v*De)+Ie*(p*z-v*N)),o[15]=f*(N*xe-z*se)-T*(p*xe-v*se)+X*(p*z-v*N),o}function ip(o){var l=o[0],f=o[1],p=o[2],v=o[3],x=o[4],T=o[5],N=o[6],z=o[7],Z=o[8],X=o[9],se=o[10],xe=o[11],be=o[12],Ie=o[13],De=o[14],Te=o[15],st=l*T-f*x,St=l*N-p*x,an=l*z-v*x,Nn=f*N-p*T,Ln=f*z-v*T,Dr=p*z-v*N,Ni=Z*Ie-X*be,Ai=Z*De-se*be,ko=Z*Te-xe*be,Oi=X*De-se*Ie,go=X*Te-xe*Ie,Wi=se*Te-xe*De;return st*Wi-St*go+an*Oi+Nn*ko-Ln*Ai+Dr*Ni}function wu(o,l,f){var p=l[0],v=l[1],x=l[2],T=l[3],N=l[4],z=l[5],Z=l[6],X=l[7],se=l[8],xe=l[9],be=l[10],Ie=l[11],De=l[12],Te=l[13],st=l[14],St=l[15],an=f[0],Nn=f[1],Ln=f[2],Dr=f[3];return o[0]=an*p+Nn*N+Ln*se+Dr*De,o[1]=an*v+Nn*z+Ln*xe+Dr*Te,o[2]=an*x+Nn*Z+Ln*be+Dr*st,o[3]=an*T+Nn*X+Ln*Ie+Dr*St,an=f[4],Nn=f[5],Ln=f[6],Dr=f[7],o[4]=an*p+Nn*N+Ln*se+Dr*De,o[5]=an*v+Nn*z+Ln*xe+Dr*Te,o[6]=an*x+Nn*Z+Ln*be+Dr*st,o[7]=an*T+Nn*X+Ln*Ie+Dr*St,an=f[8],Nn=f[9],Ln=f[10],Dr=f[11],o[8]=an*p+Nn*N+Ln*se+Dr*De,o[9]=an*v+Nn*z+Ln*xe+Dr*Te,o[10]=an*x+Nn*Z+Ln*be+Dr*st,o[11]=an*T+Nn*X+Ln*Ie+Dr*St,an=f[12],Nn=f[13],Ln=f[14],Dr=f[15],o[12]=an*p+Nn*N+Ln*se+Dr*De,o[13]=an*v+Nn*z+Ln*xe+Dr*Te,o[14]=an*x+Nn*Z+Ln*be+Dr*st,o[15]=an*T+Nn*X+Ln*Ie+Dr*St,o}function $h(o,l,f){var p=f[0],v=f[1],x=f[2],T,N,z,Z,X,se,xe,be,Ie,De,Te,st;return l===o?(o[12]=l[0]*p+l[4]*v+l[8]*x+l[12],o[13]=l[1]*p+l[5]*v+l[9]*x+l[13],o[14]=l[2]*p+l[6]*v+l[10]*x+l[14],o[15]=l[3]*p+l[7]*v+l[11]*x+l[15]):(T=l[0],N=l[1],z=l[2],Z=l[3],X=l[4],se=l[5],xe=l[6],be=l[7],Ie=l[8],De=l[9],Te=l[10],st=l[11],o[0]=T,o[1]=N,o[2]=z,o[3]=Z,o[4]=X,o[5]=se,o[6]=xe,o[7]=be,o[8]=Ie,o[9]=De,o[10]=Te,o[11]=st,o[12]=T*p+X*v+Ie*x+l[12],o[13]=N*p+se*v+De*x+l[13],o[14]=z*p+xe*v+Te*x+l[14],o[15]=Z*p+be*v+st*x+l[15]),o}function Kx(o,l,f){var p=f[0],v=f[1],x=f[2];return o[0]=l[0]*p,o[1]=l[1]*p,o[2]=l[2]*p,o[3]=l[3]*p,o[4]=l[4]*v,o[5]=l[5]*v,o[6]=l[6]*v,o[7]=l[7]*v,o[8]=l[8]*x,o[9]=l[9]*x,o[10]=l[10]*x,o[11]=l[11]*x,o[12]=l[12],o[13]=l[13],o[14]=l[14],o[15]=l[15],o}function xd(o,l,f,p){var v=p[0],x=p[1],T=p[2],N=Math.hypot(v,x,T),z,Z,X,se,xe,be,Ie,De,Te,st,St,an,Nn,Ln,Dr,Ni,Ai,ko,Oi,go,Wi,is,Bo,ks;return N<glMatrix.EPSILON?null:(N=1/N,v*=N,x*=N,T*=N,z=Math.sin(f),Z=Math.cos(f),X=1-Z,se=l[0],xe=l[1],be=l[2],Ie=l[3],De=l[4],Te=l[5],st=l[6],St=l[7],an=l[8],Nn=l[9],Ln=l[10],Dr=l[11],Ni=v*v*X+Z,Ai=x*v*X+T*z,ko=T*v*X-x*z,Oi=v*x*X-T*z,go=x*x*X+Z,Wi=T*x*X+v*z,is=v*T*X+x*z,Bo=x*T*X-v*z,ks=T*T*X+Z,o[0]=se*Ni+De*Ai+an*ko,o[1]=xe*Ni+Te*Ai+Nn*ko,o[2]=be*Ni+st*Ai+Ln*ko,o[3]=Ie*Ni+St*Ai+Dr*ko,o[4]=se*Oi+De*go+an*Wi,o[5]=xe*Oi+Te*go+Nn*Wi,o[6]=be*Oi+st*go+Ln*Wi,o[7]=Ie*Oi+St*go+Dr*Wi,o[8]=se*is+De*Bo+an*ks,o[9]=xe*is+Te*Bo+Nn*ks,o[10]=be*is+st*Bo+Ln*ks,o[11]=Ie*is+St*Bo+Dr*ks,l!==o&&(o[12]=l[12],o[13]=l[13],o[14]=l[14],o[15]=l[15]),o)}function Gb(o,l,f){var p=Math.sin(f),v=Math.cos(f),x=l[4],T=l[5],N=l[6],z=l[7],Z=l[8],X=l[9],se=l[10],xe=l[11];return l!==o&&(o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[3],o[12]=l[12],o[13]=l[13],o[14]=l[14],o[15]=l[15]),o[4]=x*v+Z*p,o[5]=T*v+X*p,o[6]=N*v+se*p,o[7]=z*v+xe*p,o[8]=Z*v-x*p,o[9]=X*v-T*p,o[10]=se*v-N*p,o[11]=xe*v-z*p,o}function Vb(o,l,f){var p=Math.sin(f),v=Math.cos(f),x=l[0],T=l[1],N=l[2],z=l[3],Z=l[8],X=l[9],se=l[10],xe=l[11];return l!==o&&(o[4]=l[4],o[5]=l[5],o[6]=l[6],o[7]=l[7],o[12]=l[12],o[13]=l[13],o[14]=l[14],o[15]=l[15]),o[0]=x*v-Z*p,o[1]=T*v-X*p,o[2]=N*v-se*p,o[3]=z*v-xe*p,o[8]=x*p+Z*v,o[9]=T*p+X*v,o[10]=N*p+se*v,o[11]=z*p+xe*v,o}function Zb(o,l,f){var p=Math.sin(f),v=Math.cos(f),x=l[0],T=l[1],N=l[2],z=l[3],Z=l[4],X=l[5],se=l[6],xe=l[7];return l!==o&&(o[8]=l[8],o[9]=l[9],o[10]=l[10],o[11]=l[11],o[12]=l[12],o[13]=l[13],o[14]=l[14],o[15]=l[15]),o[0]=x*v+Z*p,o[1]=T*v+X*p,o[2]=N*v+se*p,o[3]=z*v+xe*p,o[4]=Z*v-x*p,o[5]=X*v-T*p,o[6]=se*v-N*p,o[7]=xe*v-z*p,o}function c2(o,l){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=l[0],o[13]=l[1],o[14]=l[2],o[15]=1,o}function u2(o,l){return o[0]=l[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=l[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=l[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function f2(o,l,f){var p=f[0],v=f[1],x=f[2],T=Math.hypot(p,v,x),N,z,Z;return T<glMatrix.EPSILON?null:(T=1/T,p*=T,v*=T,x*=T,N=Math.sin(l),z=Math.cos(l),Z=1-z,o[0]=p*p*Z+z,o[1]=v*p*Z+x*N,o[2]=x*p*Z-v*N,o[3]=0,o[4]=p*v*Z-x*N,o[5]=v*v*Z+z,o[6]=x*v*Z+p*N,o[7]=0,o[8]=p*x*Z+v*N,o[9]=v*x*Z-p*N,o[10]=x*x*Z+z,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o)}function ny(o,l){var f=Math.sin(l),p=Math.cos(l);return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=p,o[6]=f,o[7]=0,o[8]=0,o[9]=-f,o[10]=p,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function h2(o,l){var f=Math.sin(l),p=Math.cos(l);return o[0]=p,o[1]=0,o[2]=-f,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=f,o[9]=0,o[10]=p,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function d2(o,l){var f=Math.sin(l),p=Math.cos(l);return o[0]=p,o[1]=f,o[2]=0,o[3]=0,o[4]=-f,o[5]=p,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function p2(o,l,f){var p=l[0],v=l[1],x=l[2],T=l[3],N=p+p,z=v+v,Z=x+x,X=p*N,se=p*z,xe=p*Z,be=v*z,Ie=v*Z,De=x*Z,Te=T*N,st=T*z,St=T*Z;return o[0]=1-(be+De),o[1]=se+St,o[2]=xe-st,o[3]=0,o[4]=se-St,o[5]=1-(X+De),o[6]=Ie+Te,o[7]=0,o[8]=xe+st,o[9]=Ie-Te,o[10]=1-(X+be),o[11]=0,o[12]=f[0],o[13]=f[1],o[14]=f[2],o[15]=1,o}function ry(o,l){var f=new glMatrix.ARRAY_TYPE(3),p=-l[0],v=-l[1],x=-l[2],T=l[3],N=l[4],z=l[5],Z=l[6],X=l[7],se=p*p+v*v+x*x+T*T;return se>0?(f[0]=(N*T+X*p+z*x-Z*v)*2/se,f[1]=(z*T+X*v+Z*p-N*x)*2/se,f[2]=(Z*T+X*x+N*v-z*p)*2/se):(f[0]=(N*T+X*p+z*x-Z*v)*2,f[1]=(z*T+X*v+Z*p-N*x)*2,f[2]=(Z*T+X*x+N*v-z*p)*2),p2(o,l,f),o}function Hh(o,l){return o[0]=l[12],o[1]=l[13],o[2]=l[14],o}function og(o,l){var f=l[0],p=l[1],v=l[2],x=l[4],T=l[5],N=l[6],z=l[8],Z=l[9],X=l[10];return o[0]=Math.hypot(f,p,v),o[1]=Math.hypot(x,T,N),o[2]=Math.hypot(z,Z,X),o}function op(o,l){var f=new fl(3);og(f,l);var p=1/f[0],v=1/f[1],x=1/f[2],T=l[0]*p,N=l[1]*v,z=l[2]*x,Z=l[4]*p,X=l[5]*v,se=l[6]*x,xe=l[8]*p,be=l[9]*v,Ie=l[10]*x,De=T+X+Ie,Te=0;return De>0?(Te=Math.sqrt(De+1)*2,o[3]=.25*Te,o[0]=(se-be)/Te,o[1]=(xe-z)/Te,o[2]=(N-Z)/Te):T>X&&T>Ie?(Te=Math.sqrt(1+T-X-Ie)*2,o[3]=(se-be)/Te,o[0]=.25*Te,o[1]=(N+Z)/Te,o[2]=(xe+z)/Te):X>Ie?(Te=Math.sqrt(1+X-T-Ie)*2,o[3]=(xe-z)/Te,o[0]=(N+Z)/Te,o[1]=.25*Te,o[2]=(se+be)/Te):(Te=Math.sqrt(1+Ie-T-X)*2,o[3]=(N-Z)/Te,o[0]=(xe+z)/Te,o[1]=(se+be)/Te,o[2]=.25*Te),o}function iy(o,l,f,p){var v=l[0],x=l[1],T=l[2],N=l[3],z=v+v,Z=x+x,X=T+T,se=v*z,xe=v*Z,be=v*X,Ie=x*Z,De=x*X,Te=T*X,st=N*z,St=N*Z,an=N*X,Nn=p[0],Ln=p[1],Dr=p[2];return o[0]=(1-(Ie+Te))*Nn,o[1]=(xe+an)*Nn,o[2]=(be-St)*Nn,o[3]=0,o[4]=(xe-an)*Ln,o[5]=(1-(se+Te))*Ln,o[6]=(De+st)*Ln,o[7]=0,o[8]=(be+St)*Dr,o[9]=(De-st)*Dr,o[10]=(1-(se+Ie))*Dr,o[11]=0,o[12]=f[0],o[13]=f[1],o[14]=f[2],o[15]=1,o}function oy(o,l,f,p,v){var x=l[0],T=l[1],N=l[2],z=l[3],Z=x+x,X=T+T,se=N+N,xe=x*Z,be=x*X,Ie=x*se,De=T*X,Te=T*se,st=N*se,St=z*Z,an=z*X,Nn=z*se,Ln=p[0],Dr=p[1],Ni=p[2],Ai=v[0],ko=v[1],Oi=v[2],go=(1-(De+st))*Ln,Wi=(be+Nn)*Ln,is=(Ie-an)*Ln,Bo=(be-Nn)*Dr,ks=(1-(xe+st))*Dr,Sl=(Te+St)*Dr,ru=(Ie+an)*Ni,va=(Te-St)*Ni,rd=(1-(xe+De))*Ni;return o[0]=go,o[1]=Wi,o[2]=is,o[3]=0,o[4]=Bo,o[5]=ks,o[6]=Sl,o[7]=0,o[8]=ru,o[9]=va,o[10]=rd,o[11]=0,o[12]=f[0]+Ai-(go*Ai+Bo*ko+ru*Oi),o[13]=f[1]+ko-(Wi*Ai+ks*ko+va*Oi),o[14]=f[2]+Oi-(is*Ai+Sl*ko+rd*Oi),o[15]=1,o}function _0(o,l){var f=l[0],p=l[1],v=l[2],x=l[3],T=f+f,N=p+p,z=v+v,Z=f*T,X=p*T,se=p*N,xe=v*T,be=v*N,Ie=v*z,De=x*T,Te=x*N,st=x*z;return o[0]=1-se-Ie,o[1]=X+st,o[2]=xe-Te,o[3]=0,o[4]=X-st,o[5]=1-Z-Ie,o[6]=be+De,o[7]=0,o[8]=xe+Te,o[9]=be-De,o[10]=1-Z-se,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function g2(o,l,f,p,v,x,T){var N=1/(f-l),z=1/(v-p),Z=1/(x-T);return o[0]=x*2*N,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=x*2*z,o[6]=0,o[7]=0,o[8]=(f+l)*N,o[9]=(v+p)*z,o[10]=(T+x)*Z,o[11]=-1,o[12]=0,o[13]=0,o[14]=T*x*2*Z,o[15]=0,o}function sy(o,l,f,p,v){var x=1/Math.tan(l/2),T;return o[0]=x/f,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=x,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,v!=null&&v!==1/0?(T=1/(p-v),o[10]=(v+p)*T,o[14]=2*v*p*T):(o[10]=-1,o[14]=-2*p),o}var ay=sy;function vm(o,l,f,p,v){var x=1/Math.tan(l/2),T;return o[0]=x/f,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=x,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,v!=null&&v!==1/0?(T=1/(p-v),o[10]=v*T,o[14]=v*p*T):(o[10]=-1,o[14]=-p),o}function jb(o,l,f,p){var v=Math.tan(l.upDegrees*Math.PI/180),x=Math.tan(l.downDegrees*Math.PI/180),T=Math.tan(l.leftDegrees*Math.PI/180),N=Math.tan(l.rightDegrees*Math.PI/180),z=2/(T+N),Z=2/(v+x);return o[0]=z,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=Z,o[6]=0,o[7]=0,o[8]=-((T-N)*z*.5),o[9]=(v-x)*Z*.5,o[10]=p/(f-p),o[11]=-1,o[12]=0,o[13]=0,o[14]=p*f/(f-p),o[15]=0,o}function sg(o,l,f,p,v,x,T){var N=1/(l-f),z=1/(p-v),Z=1/(x-T);return o[0]=-2*N,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*z,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*Z,o[11]=0,o[12]=(l+f)*N,o[13]=(v+p)*z,o[14]=(T+x)*Z,o[15]=1,o}var uh=sg;function ag(o,l,f,p,v,x,T){var N=1/(l-f),z=1/(p-v),Z=1/(x-T);return o[0]=-2*N,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*z,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=Z,o[11]=0,o[12]=(l+f)*N,o[13]=(v+p)*z,o[14]=x*Z,o[15]=1,o}function Kh(o,l,f,p){var v,x,T,N,z,Z,X,se,xe,be,Ie=l[0],De=l[1],Te=l[2],st=p[0],St=p[1],an=p[2],Nn=f[0],Ln=f[1],Dr=f[2];return Math.abs(Ie-Nn)<Uc&&Math.abs(De-Ln)<Uc&&Math.abs(Te-Dr)<Uc?Bb(o):(X=Ie-Nn,se=De-Ln,xe=Te-Dr,be=1/Math.hypot(X,se,xe),X*=be,se*=be,xe*=be,v=St*xe-an*se,x=an*X-st*xe,T=st*se-St*X,be=Math.hypot(v,x,T),be?(be=1/be,v*=be,x*=be,T*=be):(v=0,x=0,T=0),N=se*T-xe*x,z=xe*v-X*T,Z=X*x-se*v,be=Math.hypot(N,z,Z),be?(be=1/be,N*=be,z*=be,Z*=be):(N=0,z=0,Z=0),o[0]=v,o[1]=N,o[2]=X,o[3]=0,o[4]=x,o[5]=z,o[6]=se,o[7]=0,o[8]=T,o[9]=Z,o[10]=xe,o[11]=0,o[12]=-(v*Ie+x*De+T*Te),o[13]=-(N*Ie+z*De+Z*Te),o[14]=-(X*Ie+se*De+xe*Te),o[15]=1,o)}function Xx(o,l,f,p){var v=l[0],x=l[1],T=l[2],N=p[0],z=p[1],Z=p[2],X=v-f[0],se=x-f[1],xe=T-f[2],be=X*X+se*se+xe*xe;be>0&&(be=1/Math.sqrt(be),X*=be,se*=be,xe*=be);var Ie=z*xe-Z*se,De=Z*X-N*xe,Te=N*se-z*X;return be=Ie*Ie+De*De+Te*Te,be>0&&(be=1/Math.sqrt(be),Ie*=be,De*=be,Te*=be),o[0]=Ie,o[1]=De,o[2]=Te,o[3]=0,o[4]=se*Te-xe*De,o[5]=xe*Ie-X*Te,o[6]=X*De-se*Ie,o[7]=0,o[8]=X,o[9]=se,o[10]=xe,o[11]=0,o[12]=v,o[13]=x,o[14]=T,o[15]=1,o}function sp(o){return"mat4("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+", "+o[4]+", "+o[5]+", "+o[6]+", "+o[7]+", "+o[8]+", "+o[9]+", "+o[10]+", "+o[11]+", "+o[12]+", "+o[13]+", "+o[14]+", "+o[15]+")"}function Ub(o){return Math.hypot(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15])}function ly(o,l,f){return o[0]=l[0]+f[0],o[1]=l[1]+f[1],o[2]=l[2]+f[2],o[3]=l[3]+f[3],o[4]=l[4]+f[4],o[5]=l[5]+f[5],o[6]=l[6]+f[6],o[7]=l[7]+f[7],o[8]=l[8]+f[8],o[9]=l[9]+f[9],o[10]=l[10]+f[10],o[11]=l[11]+f[11],o[12]=l[12]+f[12],o[13]=l[13]+f[13],o[14]=l[14]+f[14],o[15]=l[15]+f[15],o}function m2(o,l,f){return o[0]=l[0]-f[0],o[1]=l[1]-f[1],o[2]=l[2]-f[2],o[3]=l[3]-f[3],o[4]=l[4]-f[4],o[5]=l[5]-f[5],o[6]=l[6]-f[6],o[7]=l[7]-f[7],o[8]=l[8]-f[8],o[9]=l[9]-f[9],o[10]=l[10]-f[10],o[11]=l[11]-f[11],o[12]=l[12]-f[12],o[13]=l[13]-f[13],o[14]=l[14]-f[14],o[15]=l[15]-f[15],o}function v2(o,l,f){return o[0]=l[0]*f,o[1]=l[1]*f,o[2]=l[2]*f,o[3]=l[3]*f,o[4]=l[4]*f,o[5]=l[5]*f,o[6]=l[6]*f,o[7]=l[7]*f,o[8]=l[8]*f,o[9]=l[9]*f,o[10]=l[10]*f,o[11]=l[11]*f,o[12]=l[12]*f,o[13]=l[13]*f,o[14]=l[14]*f,o[15]=l[15]*f,o}function k0(o,l,f,p){return o[0]=l[0]+f[0]*p,o[1]=l[1]+f[1]*p,o[2]=l[2]+f[2]*p,o[3]=l[3]+f[3]*p,o[4]=l[4]+f[4]*p,o[5]=l[5]+f[5]*p,o[6]=l[6]+f[6]*p,o[7]=l[7]+f[7]*p,o[8]=l[8]+f[8]*p,o[9]=l[9]+f[9]*p,o[10]=l[10]+f[10]*p,o[11]=l[11]+f[11]*p,o[12]=l[12]+f[12]*p,o[13]=l[13]+f[13]*p,o[14]=l[14]+f[14]*p,o[15]=l[15]+f[15]*p,o}function y2(o,l){return o[0]===l[0]&&o[1]===l[1]&&o[2]===l[2]&&o[3]===l[3]&&o[4]===l[4]&&o[5]===l[5]&&o[6]===l[6]&&o[7]===l[7]&&o[8]===l[8]&&o[9]===l[9]&&o[10]===l[10]&&o[11]===l[11]&&o[12]===l[12]&&o[13]===l[13]&&o[14]===l[14]&&o[15]===l[15]}function b2(o,l){var f=o[0],p=o[1],v=o[2],x=o[3],T=o[4],N=o[5],z=o[6],Z=o[7],X=o[8],se=o[9],xe=o[10],be=o[11],Ie=o[12],De=o[13],Te=o[14],st=o[15],St=l[0],an=l[1],Nn=l[2],Ln=l[3],Dr=l[4],Ni=l[5],Ai=l[6],ko=l[7],Oi=l[8],go=l[9],Wi=l[10],is=l[11],Bo=l[12],ks=l[13],Sl=l[14],ru=l[15];return Math.abs(f-St)<=glMatrix.EPSILON*Math.max(1,Math.abs(f),Math.abs(St))&&Math.abs(p-an)<=glMatrix.EPSILON*Math.max(1,Math.abs(p),Math.abs(an))&&Math.abs(v-Nn)<=glMatrix.EPSILON*Math.max(1,Math.abs(v),Math.abs(Nn))&&Math.abs(x-Ln)<=glMatrix.EPSILON*Math.max(1,Math.abs(x),Math.abs(Ln))&&Math.abs(T-Dr)<=glMatrix.EPSILON*Math.max(1,Math.abs(T),Math.abs(Dr))&&Math.abs(N-Ni)<=glMatrix.EPSILON*Math.max(1,Math.abs(N),Math.abs(Ni))&&Math.abs(z-Ai)<=glMatrix.EPSILON*Math.max(1,Math.abs(z),Math.abs(Ai))&&Math.abs(Z-ko)<=glMatrix.EPSILON*Math.max(1,Math.abs(Z),Math.abs(ko))&&Math.abs(X-Oi)<=glMatrix.EPSILON*Math.max(1,Math.abs(X),Math.abs(Oi))&&Math.abs(se-go)<=glMatrix.EPSILON*Math.max(1,Math.abs(se),Math.abs(go))&&Math.abs(xe-Wi)<=glMatrix.EPSILON*Math.max(1,Math.abs(xe),Math.abs(Wi))&&Math.abs(be-is)<=glMatrix.EPSILON*Math.max(1,Math.abs(be),Math.abs(is))&&Math.abs(Ie-Bo)<=glMatrix.EPSILON*Math.max(1,Math.abs(Ie),Math.abs(Bo))&&Math.abs(De-ks)<=glMatrix.EPSILON*Math.max(1,Math.abs(De),Math.abs(ks))&&Math.abs(Te-Sl)<=glMatrix.EPSILON*Math.max(1,Math.abs(Te),Math.abs(Sl))&&Math.abs(st-ru)<=glMatrix.EPSILON*Math.max(1,Math.abs(st),Math.abs(ru))}var x2=null,Yx=null,cy,L0,ym,F0,Eu,B0,uy,fh,ta,fy,Yc,xl,Su,pf,lg,z0,Wb,hy,G0,bm,dy,gf,cg,ap;function Cl(o,l){var f;if(typeof Symbol=="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(f=Vl(o))||l&&o&&typeof o.length=="number"){f&&(o=f);var p=0,v=function(){};return{s:v,n:function(){return p>=o.length?{done:!0}:{done:!1,value:o[p++]}},e:function(Z){throw Z},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,T=!1,N;return{s:function(){f=o[Symbol.iterator]()},n:function(){var Z=f.next();return x=Z.done,Z},e:function(Z){T=!0,N=Z},f:function(){try{!x&&f.return!=null&&f.return()}finally{if(T)throw N}}}}function Vl(o,l){if(o){if(typeof o=="string")return V0(o,l);var f=Object.prototype.toString.call(o).slice(8,-1);if(f==="Object"&&o.constructor&&(f=o.constructor.name),f==="Map"||f==="Set")return Array.from(o);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return V0(o,l)}}function V0(o,l){(l==null||l>o.length)&&(l=o.length);for(var f=0,p=new Array(l);f<l;f++)p[f]=o[f];return p}var ug=(cy=(0,Xi.b2)(),L0=(0,Xi.f3)(zi.MeshComponentManager),ym=(0,Xi.f3)(zi.GeometryComponentManager),F0=(0,Xi.f3)(zi.MaterialComponentManager),Eu=(0,Xi.f3)(zi.CullableComponentManager),B0=(0,Xi.f3)(zi.TransformComponentManager),uy=(0,Xi.f3)(zi.HierarchyComponentManager),fh=(0,Xi.f3)(zi.Systems),ta=(0,Xi.t6)(zi.FrameGraphSystem),fy=(0,Xi.f3)(zi.RenderEngine),Yc=(0,Xi.f3)(zi.ResourcePool),cy(xl=(Su=(ap=cg=function(){function o(){var l=this;(0,mo.Z)(this,o),ds(this,"mesh",pf,this),ds(this,"geometry",lg,this),ds(this,"material",z0,this),ds(this,"cullable",Wb,this),ds(this,"transform",hy,this),ds(this,"hierarchy",G0,this),ds(this,"frameGraphSystem",bm,this),ds(this,"engine",dy,this),ds(this,"resourcePool",gf,this),this.modelCache={},this.setup=function(f,p,v){var x=f.createRenderTarget(p,"color buffer",{width:1,height:1,usage:qe.RENDER_ATTACHMENT|qe.SAMPLED|qe.COPY_SRC});v.data={output:p.write(f,x)}},this.execute=function(){var f=(0,Ks.Z)(qo().mark(function p(v,x,T){var N,z,Z,X,se,xe;return qo().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:N=v.getResourceNode(x.data.output),z=l.resourcePool.getOrCreateResource(N.resource),Z=Cl(T),Ie.prev=3,Z.s();case 5:if((X=Z.n()).done){Ie.next=11;break}return se=X.value,Ie.next=9,l.initView(se);case 9:Ie.next=5;break;case 11:Ie.next=16;break;case 13:Ie.prev=13,Ie.t0=Ie.catch(3),Z.e(Ie.t0);case 16:return Ie.prev=16,Z.f(),Ie.finish(16);case 19:xe=l.engine.getCanvas(),z.resize({width:xe.width,height:xe.height}),l.engine.setScissor({enable:!1}),l.engine.clear({framebuffer:z,color:T[0].getClearColor(),depth:1}),l.engine.useFramebuffer(z,function(){var De=Cl(T),Te;try{for(De.s();!(Te=De.n()).done;){var st=Te.value;l.renderView(st)}}catch(St){De.e(St)}finally{De.f()}});case 24:case"end":return Ie.stop()}},p,null,[[3,13,16,19]])}));return function(p,v,x){return f.apply(this,arguments)}}()}return(0,Rs.Z)(o,[{key:"renderView",value:function(f){var p=f.getScene(),v=f.getCamera(),x=v.getViewTransform(),T=wu(cc(),v.getPerspective(),x);v.getFrustum().extractFromVPMatrix(T);var N=f.getViewport(),z=N.x,Z=N.y,X=N.width,se=N.height;this.engine.viewport({x:z,y:Z,width:X,height:se});var xe=Cl(p.getEntities()),be;try{for(xe.s();!(be=xe.n()).done;){var Ie=be.value;this.renderMesh(Ie,{camera:v,view:f,viewMatrix:x})}}catch(De){xe.e(De)}finally{xe.f()}}},{key:"renderMesh",value:function(f,p){var v=p.camera,x=p.view,T=p.viewMatrix,N=this.mesh.getComponentByEntity(f);if(!(!N||!N.visible)){var z=N.material,Z=N.geometry;if(!(!Z||Z.dirty||!z)){var X=this.transform.getComponentByEntity(f),se=wu(cc(),T,X.worldTransform),xe=x.getViewport(),be=xe.width,Ie=xe.height;z.setUniform({projectionMatrix:v.getPerspective(),modelViewMatrix:se,modelMatrix:X.worldTransform,viewMatrix:T,cameraPosition:v.getPosition(),u_viewport:[be,Ie]}),N.model&&(N.model.draw({uniforms:z.uniforms.reduce(function(De,Te){return De[Te.name]=Te.data,De},{})}),z.uniforms.forEach(function(De){De.dirty=!1}),z.dirty=!1)}}}},{key:"initMesh",value:function(){var l=(0,Ks.Z)(qo().mark(function p(v,x){var T,N,z,Z,X,se,xe,be;return qo().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(T=this.mesh.getComponentByEntity(v),T){De.next=3;break}return De.abrupt("return");case 3:if(N=T.material,z=T.geometry,!(!z||z.dirty||!N)){De.next=7;break}return De.abrupt("return");case 7:if(T.model){De.next=24;break}if(Z="m-".concat(N.entity,"-g-").concat(z.entity),!this.modelCache[Z]){De.next=12;break}return T.model=this.modelCache[Z],De.abrupt("return");case 12:return N.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),X=this.engine,se=X.createModel,xe=X.createAttribute,be={vs:N.vertexShaderGLSL,fs:N.fragmentShaderGLSL,defines:N.defines,attributes:z.attributes.reduce(function(Te,st){return st.data&&st.buffer&&(Te[st.name]=xe({buffer:st.buffer,attributes:st.attributes,arrayStride:st.arrayStride,stepMode:st.stepMode,divisor:st.stepMode==="vertex"?0:1})),Te},{}),uniforms:N.uniforms.reduce(function(Te,st){return Te[st.name]=st.data,Te},{}),scissor:{enable:!0,box:function(){return x.getViewport()}}},N.cull&&(be.cull=N.cull),N.depth&&(be.depth=N.depth),N.blend&&(be.blend=N.blend),z.indicesBuffer&&(be.elements=z.indicesBuffer),z.maxInstancedCount&&(be.instances=z.maxInstancedCount,be.count=z.vertexCount||3),De.next=22,se(be);case 22:T.model=De.sent,this.modelCache[Z]=T.model;case 24:case"end":return De.stop()}},p,this)}));function f(p,v){return l.apply(this,arguments)}return f}()},{key:"initView",value:function(){var l=(0,Ks.Z)(qo().mark(function p(v){var x,T,N,z;return qo().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:x=v.getScene(),T=Cl(x.getEntities()),X.prev=2,T.s();case 4:if((N=T.n()).done){X.next=10;break}return z=N.value,X.next=8,this.initMesh(z,v);case 8:X.next=4;break;case 10:X.next=15;break;case 12:X.prev=12,X.t0=X.catch(2),T.e(X.t0);case 15:return X.prev=15,T.f(),X.finish(15);case 18:case"end":return X.stop()}},p,this,[[2,12,15,18]])}));function f(p){return l.apply(this,arguments)}return f}()}]),o}(),cg.IDENTIFIER="Render Pass",ap),pf=Ds(Su.prototype,"mesh",[L0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lg=Ds(Su.prototype,"geometry",[ym],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z0=Ds(Su.prototype,"material",[F0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wb=Ds(Su.prototype,"cullable",[Eu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hy=Ds(Su.prototype,"transform",[B0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G0=Ds(Su.prototype,"hierarchy",[uy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bm=Ds(Su.prototype,"frameGraphSystem",[fh,ta],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dy=Ds(Su.prototype,"engine",[fy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gf=Ds(Su.prototype,"resourcePool",[Yc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Su))||xl),py,gy,my,xm,Cm,Vu,Ff,wm,Z0,Em,fg,Ea,mf;function hg(o,l){var f;if(typeof Symbol=="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(f=j0(o))||l&&o&&typeof o.length=="number"){f&&(o=f);var p=0,v=function(){};return{s:v,n:function(){return p>=o.length?{done:!0}:{done:!1,value:o[p++]}},e:function(Z){throw Z},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,T=!1,N;return{s:function(){f=o[Symbol.iterator]()},n:function(){var Z=f.next();return x=Z.done,Z},e:function(Z){T=!0,N=Z},f:function(){try{!x&&f.return!=null&&f.return()}finally{if(T)throw N}}}}function j0(o,l){if(o){if(typeof o=="string")return U0(o,l);var f=Object.prototype.toString.call(o).slice(8,-1);if(f==="Object"&&o.constructor&&(f=o.constructor.name),f==="Map"||f==="Set")return Array.from(o);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return U0(o,l)}}function U0(o,l){(l==null||l>o.length)&&(l=o.length);for(var f=0,p=new Array(l);f<l;f++)p[f]=o[f];return p}var Xh={NONE:0,ENCODE:1,HIGHLIGHT:2},W0=(py=(0,Xi.b2)(),gy=(0,Xi.f3)(zi.RenderEngine),my=(0,Xi.f3)(zi.ResourcePool),xm=(0,Xi.f3)(zi.RenderPassFactory),Cm=(0,Xi.f3)(zi.MeshComponentManager),py(Vu=(Ff=(mf=Ea=function(){function o(){var l=this;(0,mo.Z)(this,o),ds(this,"engine",wm,this),ds(this,"resourcePool",Z0,this),ds(this,"renderPassFactory",Em,this),ds(this,"mesh",fg,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(f,p,v){var x=f.createRenderTarget(p,"picking fbo",{width:1,height:1});v.data={output:p.write(f,x)},p.hasSideEffect=!0},this.execute=function(){var f=(0,Ks.Z)(qo().mark(function p(v,x,T){var N,z,Z;return qo().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(l.views=T,!l.alreadyInRendering){se.next=3;break}return se.abrupt("return");case 3:N=hg(T);try{for(Z=function(){var be=z.value,Ie=be.getViewport(),De=Ie.width,Te=Ie.height;l.alreadyInRendering=!0;var st=v.getResourceNode(x.data.output);l.pickingFBO=l.resourcePool.getOrCreateResource(st.resource),l.pickingFBO.resize({width:De,height:Te}),l.engine.useFramebuffer(l.pickingFBO,function(){l.engine.clear({framebuffer:l.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var St=l.renderPassFactory(ug.IDENTIFIER),an=[],Nn=be.getScene(),Ln=hg(Nn.getEntities()),Dr;try{for(Ln.s();!(Dr=Ln.n()).done;){var Ni=Dr.value,Ai=l.mesh.getComponentByEntity(Ni),ko=Ai.material;ko.setUniform("u_PickingStage",Xh.ENCODE),an.push(Ai)}}catch(Oi){Ln.e(Oi)}finally{Ln.f()}St.renderView(be),an.forEach(function(Oi){var go=Oi.material;go.setUniform("u_PickingStage",Xh.HIGHLIGHT)}),l.alreadyInRendering=!1})},N.s();!(z=N.n()).done;)Z()}catch(xe){N.e(xe)}finally{N.f()}case 5:case"end":return se.stop()}},p)}));return function(p,v,x){return f.apply(this,arguments)}}(),this.pick=function(f,p){var v=f.x,x=f.y,T=l.engine,N=T.readPixels,z=T.useFramebuffer,Z=p.getViewport(),X=Z.width,se=Z.height,xe=v*window.devicePixelRatio,be=x*window.devicePixelRatio;if(!(xe>X||xe<0||be>se||be<0)){var Ie,De;return z(l.pickingFBO,function(){Ie=N({x:Math.round(xe),y:Math.round(se-(x+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:l.pickingFBO}),(Ie[0]!==0||Ie[1]!==0||Ie[2]!==0)&&(De=eg(Ie),l.highlightEnabled&&l.highlightPickedFeature(Ie,p))}),De}}}return(0,Rs.Z)(o,[{key:"enableHighlight",value:function(f){this.highlightEnabled=f}},{key:"setHighlightColor",value:function(f){this.highlightColor=f}},{key:"highlightPickedFeature",value:function(f,p){if(f){var v=hg(p.getScene().getEntities()),x;try{for(v.s();!(x=v.n()).done;){var T=x.value,N=this.mesh.getComponentByEntity(T),z=N.material;z.setUniform("u_PickingStage",Xh.HIGHLIGHT),z.setUniform("u_PickingColor",[f[0],f[1],f[2]]),z.setUniform("u_HighlightColor",this.highlightColor)}}catch(Z){v.e(Z)}finally{v.f()}}}}]),o}(),Ea.IDENTIFIER="PixelPicking Pass",mf),wm=Ds(Ff.prototype,"engine",[gy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z0=Ds(Ff.prototype,"resourcePool",[my],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Em=Ds(Ff.prototype,"renderPassFactory",[xm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fg=Ds(Ff.prototype,"mesh",[Cm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ff))||Vu),Sm,Zu,Ss,Am,kc,Mm,Tm,Za,vy,Pm=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,dg=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,$b=`layout(set = 0, binding = 0) uniform sampler u_TextureSampler;
layout(set = 0, binding = 1) uniform texture2D u_Texture;

layout(location = 0) in vec2 v_UV;
layout(location = 0) out vec4 outColor;

void main() {
  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);
}`,Om=`layout(location = 0) in vec2 a_Position;
layout(location = 0) out vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Cd=(Sm=(0,Xi.b2)(),Zu=(0,Xi.f3)(zi.RenderEngine),Ss=(0,Xi.f3)(zi.ResourcePool),Sm(Am=(kc=(vy=Za=function o(){var l=this;(0,mo.Z)(this,o),ds(this,"engine",Mm,this),ds(this,"resourcePool",Tm,this),this.model=void 0,this.setup=function(f,p,v){var x=f.getPass(ug.IDENTIFIER);if(x){var T=f.createRenderTarget(p,"render to screen",{width:1,height:1});v.data={input:p.read(x.data.output),output:p.write(f,T)}}},this.execute=function(){var f=(0,Ks.Z)(qo().mark(function p(v,x){var T,N,z,Z,X,se,xe;return qo().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(T=l.engine,N=T.createModel,z=T.createAttribute,Z=T.createBuffer,l.model){Ie.next=6;break}return Ie.next=4,N({vs:l.engine.supportWebGPU?Om:dg,fs:l.engine.supportWebGPU?$b:Pm,attributes:{a_Position:z({buffer:Z({data:[-4,-4,4,-4,0,4],type:qe.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:X=Ie.sent,l.model=X;case 6:se=v.getResourceNode(x.data.input),xe=l.resourcePool.getOrCreateResource(se.resource),l.engine.useFramebuffer(null,function(){l.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),l.model.draw({uniforms:{u_Texture:xe}})});case 9:case"end":return Ie.stop()}},p)}));return function(p,v){return f.apply(this,arguments)}}(),this.tearDown=function(){l.model=void 0}},Za.IDENTIFIER="Copy Pass",vy),Mm=Ds(kc.prototype,"engine",[Zu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tm=Ds(kc.prototype,"resourcePool",[Ss],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kc))||Am),yy,pg,Hb,by,lp,$0,xy,cp,Im,Rm,up,wd,fp,Kb=(yy=(0,Xi.b2)(),pg=(0,Xi.f3)(zi.Systems),Hb=(0,Xi.t6)(zi.FrameGraphSystem),by=(0,Xi.f3)(zi.RenderPassFactory),lp=(0,Xi.f3)(zi.ConfigService),$0=(0,Xi.f3)(zi.ResourcePool),yy(xy=(cp=(fp=function(){function o(){(0,mo.Z)(this,o),ds(this,"frameGraphSystem",Im,this),ds(this,"renderPassFactory",Rm,this),ds(this,"configService",up,this),ds(this,"resourcePool",wd,this)}return(0,Rs.Z)(o,[{key:"execute",value:function(){var l=(0,Ks.Z)(qo().mark(function p(v){var x,T,N,z,Z,X,se,xe,be;return qo().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:x=this.renderPassFactory(ug.IDENTIFIER),T=x.setup,N=x.execute,z=this.frameGraphSystem.addPass(ug.IDENTIFIER,T,N),Z=this.renderPassFactory(Cd.IDENTIFIER),X=Z.setup,se=Z.execute,xe=Z.tearDown,be=this.frameGraphSystem.addPass(Cd.IDENTIFIER,X,se,xe),this.frameGraphSystem.present(be.data.output);case 5:case"end":return De.stop()}},p,this)}));function f(p){return l.apply(this,arguments)}return f}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(f,p){var v=this.renderPassFactory(W0.IDENTIFIER);return v.pick(f,p)}}]),o}(),fp),Im=Ds(cp.prototype,"frameGraphSystem",[pg,Hb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rm=Ds(cp.prototype,"renderPassFactory",[by],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),up=Ds(cp.prototype,"configService",[lp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wd=Ds(cp.prototype,"resourcePool",[$0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cp))||xy);function C2(o){var l=Xb();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function Xb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var rc=function(o){(0,ll.Z)(f,o);var l=C2(f);function f(p){var v;return(0,mo.Z)(this,f),v=l.call(this,p),v.parentID=void 0,Object.assign((0,tl.Z)(v),p),v}return f}(el),uc,Dm,Cy,H0,K0,Yh,wy,Ey,gg,Nm,Yb=(uc=(0,Xi.b2)(),Dm=(0,Xi.f3)(zi.HierarchyComponentManager),Cy=(0,Xi.f3)(zi.TransformComponentManager),H0=(0,Xi.f3)(zi.MeshComponentManager),uc(K0=(Yh=(Nm=function(){function o(){(0,mo.Z)(this,o),ds(this,"hierarchy",wy,this),ds(this,"transform",Ey,this),ds(this,"mesh",gg,this)}return(0,Rs.Z)(o,[{key:"execute",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){return qo().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return x.stop()}},p,this)}));function f(){return l.apply(this,arguments)}return f}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var f=this;this.transform.forEach(function(p,v){(v.isDirty()||v.isLocalDirty())&&(f.setMeshAABBDirty(f.mesh.getComponentByEntity(p)),v.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var f=this;this.hierarchy.forEach(function(p,v){var x=f.transform.getComponentByEntity(p),T=f.transform.getComponentByEntity(v.parentID);x!==null&&T!==null&&x.updateTransformWithParent(T)})}},{key:"attach",value:function(f,p,v){this.hierarchy.contains(f)&&this.detach(f),this.hierarchy.create(f,{parentID:p});var x=this.mesh.getComponentByEntity(p);if(this.setMeshAABBDirty(x),x&&x.children.indexOf(f)===-1&&x.children.push(f),this.hierarchy.getCount()>1)for(var T=this.hierarchy.getCount()-1;T>0;--T)for(var N=this.hierarchy.getEntity(T),z=0;z<T;++z){var Z=this.hierarchy.getComponent(z);if(Z.parentID===N){this.hierarchy.moveItem(T,z),++T;break}}var X=this.hierarchy.getComponentByEntity(f),se=this.transform.getComponentByEntity(p);se===null&&(se=this.transform.create(p));var xe=this.transform.getComponentByEntity(f);xe===null&&(xe=this.transform.create(f),se=this.transform.getComponentByEntity(p)),xe.parent=se,!v&&se&&(xe.matrixTransform(rp(cc(),se.worldTransform)),xe.updateTransform()),se&&xe.updateTransformWithParent(se)}},{key:"detach",value:function(f){var p=this.hierarchy.getComponentByEntity(f);if(p!==null){var v=this.transform.getComponentByEntity(f);v!==null&&(v.parent=null,v.applyTransform()),this.hierarchy.removeKeepSorted(f);var x=this.mesh.getComponentByEntity(p.parentID);if(x){var T=x.children.indexOf(f);x.children.splice(T,1)}this.setMeshAABBDirty(x)}}},{key:"detachChildren",value:function(f){var p=this.mesh.getComponentByEntity(f);p&&(p.children=[]);for(var v=0;v<this.hierarchy.getCount();){var x;if(((x=this.hierarchy.getComponent(v))===null||x===void 0?void 0:x.parentID)===f){var T=this.hierarchy.getEntity(v);this.detach(T)}else++v}}},{key:"setMeshAABBDirty",value:function(f){f&&(f.aabbDirty=!0)}}]),o}(),Nm),wy=Ds(Yh.prototype,"hierarchy",[Dm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ey=Ds(Yh.prototype,"transform",[Cy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gg=Ds(Yh.prototype,"mesh",[H0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh))||K0);function vc(){var o=new fl(4);return fl!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0),o[3]=1,o}function mg(o){return o[0]=0,o[1]=0,o[2]=0,o[3]=1,o}function hh(o,l,f){f=f*.5;var p=Math.sin(f);return o[0]=p*l[0],o[1]=p*l[1],o[2]=p*l[2],o[3]=Math.cos(f),o}function Sy(o,l){var f=Math.acos(l[3])*2,p=Math.sin(f/2);return p>glMatrix.EPSILON?(o[0]=l[0]/p,o[1]=l[1]/p,o[2]=l[2]/p):(o[0]=1,o[1]=0,o[2]=0),f}function w2(o,l){var f=Lm(o,l);return Math.acos(2*f*f-1)}function ju(o,l,f){var p=l[0],v=l[1],x=l[2],T=l[3],N=f[0],z=f[1],Z=f[2],X=f[3];return o[0]=p*X+T*N+v*Z-x*z,o[1]=v*X+T*z+x*N-p*Z,o[2]=x*X+T*Z+p*z-v*N,o[3]=T*X-p*N-v*z-x*Z,o}function Ay(o,l,f){f*=.5;var p=l[0],v=l[1],x=l[2],T=l[3],N=Math.sin(f),z=Math.cos(f);return o[0]=p*z+T*N,o[1]=v*z+x*N,o[2]=x*z-v*N,o[3]=T*z-p*N,o}function _m(o,l,f){f*=.5;var p=l[0],v=l[1],x=l[2],T=l[3],N=Math.sin(f),z=Math.cos(f);return o[0]=p*z-x*N,o[1]=v*z+T*N,o[2]=x*z+p*N,o[3]=T*z-v*N,o}function Jx(o,l,f){f*=.5;var p=l[0],v=l[1],x=l[2],T=l[3],N=Math.sin(f),z=Math.cos(f);return o[0]=p*z+v*N,o[1]=v*z-p*N,o[2]=x*z+T*N,o[3]=T*z-x*N,o}function Au(o,l){var f=l[0],p=l[1],v=l[2];return o[0]=f,o[1]=p,o[2]=v,o[3]=Math.sqrt(Math.abs(1-f*f-p*p-v*v)),o}function km(o,l){var f=l[0],p=l[1],v=l[2],x=l[3],T=Math.sqrt(f*f+p*p+v*v),N=Math.exp(x),z=T>0?N*Math.sin(T)/T:0;return o[0]=f*z,o[1]=p*z,o[2]=v*z,o[3]=N*Math.cos(T),o}function Jb(o,l){var f=l[0],p=l[1],v=l[2],x=l[3],T=Math.sqrt(f*f+p*p+v*v),N=T>0?Math.atan2(T,x)/T:0;return o[0]=f*N,o[1]=p*N,o[2]=v*N,o[3]=.5*Math.log(f*f+p*p+v*v+x*x),o}function E2(o,l,f){return Jb(o,l),bg(o,o,f),km(o,o),o}function Ed(o,l,f,p){var v=l[0],x=l[1],T=l[2],N=l[3],z=f[0],Z=f[1],X=f[2],se=f[3],xe,be,Ie,De,Te;return be=v*z+x*Z+T*X+N*se,be<0&&(be=-be,z=-z,Z=-Z,X=-X,se=-se),1-be>Uc?(xe=Math.acos(be),Ie=Math.sin(xe),De=Math.sin((1-p)*xe)/Ie,Te=Math.sin(p*xe)/Ie):(De=1-p,Te=p),o[0]=De*v+Te*z,o[1]=De*x+Te*Z,o[2]=De*T+Te*X,o[3]=De*N+Te*se,o}function Uu(o){var l=glMatrix.RANDOM(),f=glMatrix.RANDOM(),p=glMatrix.RANDOM(),v=Math.sqrt(1-l),x=Math.sqrt(l);return o[0]=v*Math.sin(2*Math.PI*f),o[1]=v*Math.cos(2*Math.PI*f),o[2]=x*Math.sin(2*Math.PI*p),o[3]=x*Math.cos(2*Math.PI*p),o}function My(o,l){var f=l[0],p=l[1],v=l[2],x=l[3],T=f*f+p*p+v*v+x*x,N=T?1/T:0;return o[0]=-f*N,o[1]=-p*N,o[2]=-v*N,o[3]=x*N,o}function qb(o,l){return o[0]=-l[0],o[1]=-l[1],o[2]=-l[2],o[3]=l[3],o}function Qb(o,l){var f=l[0]+l[4]+l[8],p;if(f>0)p=Math.sqrt(f+1),o[3]=.5*p,p=.5/p,o[0]=(l[5]-l[7])*p,o[1]=(l[6]-l[2])*p,o[2]=(l[1]-l[3])*p;else{var v=0;l[4]>l[0]&&(v=1),l[8]>l[v*3+v]&&(v=2);var x=(v+1)%3,T=(v+2)%3;p=Math.sqrt(l[v*3+v]-l[x*3+x]-l[T*3+T]+1),o[v]=.5*p,p=.5/p,o[3]=(l[x*3+T]-l[T*3+x])*p,o[x]=(l[x*3+v]+l[v*3+x])*p,o[T]=(l[T*3+v]+l[v*3+T])*p}return o}function vg(o,l,f,p){var v=.5*Math.PI/180;l*=v,f*=v,p*=v;var x=Math.sin(l),T=Math.cos(l),N=Math.sin(f),z=Math.cos(f),Z=Math.sin(p),X=Math.cos(p);return o[0]=x*z*X-T*N*Z,o[1]=T*N*X+x*z*Z,o[2]=T*z*Z-x*N*X,o[3]=T*z*X+x*N*Z,o}function hp(o){return"quat("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+")"}var e1=rf,Wu=_u,yg=Wc,Sd=Dh,dh=rh,Kl=ju,bg=ku,Lm=S0,Jc=ga,t1=Kp,n1=null,qx=E0,Qx=null,$u=Wd,S2=am,A2=Dc,eC=function(){var o=da(),l=Os(1,0,0),f=Os(0,1,0);return function(p,v,x){var T=tc(v,x);return T<-.999999?(Uh(o,l,v),Oo(o)<1e-6&&Uh(o,f,v),jh(o,o),hh(p,o,Math.PI),p):T>.999999?(p[0]=0,p[1]=0,p[2]=0,p[3]=1,p):(Uh(o,v,x),p[0]=o[0],p[1]=o[1],p[2]=o[2],p[3]=1+T,$u(p,p))}}(),tC=function(){var o=vc(),l=vc();return function(f,p,v,x,T,N){return Ed(o,p,T,N),Ed(l,v,x,N),Ed(f,o,l,2*N*(1-N)),f}}(),r1=function(){var o=lf();return function(l,f,p,v){return o[0]=p[0],o[3]=p[1],o[6]=p[2],o[1]=v[0],o[4]=v[1],o[7]=v[2],o[2]=-f[0],o[5]=-f[1],o[8]=-f[2],$u(l,Qb(l,o))}}();function Ty(o){var l=Fm();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function Fm(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var Py=function(o){(0,ll.Z)(f,o);var l=Ty(f);function f(p){var v;return(0,mo.Z)(this,f),v=l.call(this,p),v.dirtyFlag=void 0,v.localDirtyFlag=void 0,v.parent=null,v.localPosition=Os(0,0,0),v.localRotation=Wu(0,0,0,1),v.localScale=Os(1,1,1),v.localTransform=cc(),v.position=Os(0,0,0),v.rotation=Wu(0,0,0,1),v.scaling=Os(1,1,1),v.worldTransform=cc(),v.matrixTransform=function(){var x=cc();return function(T){wu(x,v.getLocalTransform(),T),og(v.localScale,x),Hh(v.localPosition,x),op(v.localRotation,x)}}(),v.rotateRollPitchYaw=function(){var x=vc(),T=vc(),N=vc();return function(z,Z,X){v.setDirty(),vg(x,z,0,0),vg(T,0,Z,0),vg(N,0,0,X),ju(v.localRotation,x,v.localRotation),ju(v.localRotation,v.localRotation,T),ju(v.localRotation,N,v.localRotation),$u(v.localRotation,v.localRotation)}}(),v.lerp=function(){var x=da(),T=vc(),N=da(),z=da(),Z=vc(),X=da();return function(se,xe,be){v.setDirty(),og(x,se.worldTransform),Hh(N,se.worldTransform),op(T,se.worldTransform),og(z,xe.worldTransform),Hh(X,xe.worldTransform),op(Z,xe.worldTransform),Le(v.localScale,x,z,be),Ed(v.localRotation,T,Z,be),Le(v.localPosition,N,X,be)}}(),v.translate=function(){var x=da();return function(T){return hl(x,v.getPosition(),T),v.setPosition(x),v.setDirty(!0),(0,tl.Z)(v)}}(),v.translateLocal=function(){return function(x){return hi(x,x,v.localRotation),hl(v.localPosition,v.localPosition,x),v.setLocalDirty(!0),(0,tl.Z)(v)}}(),v.setPosition=function(){var x=cc();return function(T){return v.position=T,v.setLocalDirty(!0),v.parent===null?Ya(v.localPosition,T):(ig(x,v.parent.worldTransform),rp(x,x),Ur(v.localPosition,T,x)),(0,tl.Z)(v)}}(),v.rotate=function(){var x=vc();return function(T){if(v.parent===null)ju(v.localRotation,v.localRotation,T),$u(v.localRotation,v.localRotation);else{var N=v.getRotation(),z=v.parent.getRotation();yg(x,z),My(x,x),ju(x,x,T),ju(v.localRotation,T,N),$u(v.localRotation,v.localRotation)}return v.setLocalDirty(),(0,tl.Z)(v)}}(),v.rotateLocal=function(){return function(x){return ju(v.localRotation,v.localRotation,x),$u(v.localRotation,v.localRotation),v.setLocalDirty(!0),(0,tl.Z)(v)}}(),v.setRotation=function(){var x=vc();return function(T){return v.parent===null?yg(v.localRotation,T):(yg(x,v.parent.getRotation()),My(x,x),yg(v.localRotation,x),Kl(v.localRotation,v.localRotation,T)),v.setLocalDirty(!0),(0,tl.Z)(v)}}(),v}return(0,Rs.Z)(f,[{key:"setLocalPosition",value:function(v){Ya(this.localPosition,v),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(v){Ya(this.localScale,v),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(v){return yg(this.localRotation,v),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;v?this.dirtyFlag|=f.DIRTY:this.dirtyFlag&=~f.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;v?(this.localDirtyFlag|=f.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~f.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&this.parent===null&&(ig(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(v){wu(this.worldTransform,v.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),og(this.localScale,this.worldTransform),Hh(this.localPosition,this.worldTransform),op(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=Os(0,0,0),this.localRotation=Wu(0,0,0,1),this.localScale=Os(1,1,1)}},{key:"scaleLocal",value:function(v){return this.setLocalDirty(),qp(this.localScale,this.localScale,v),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(iy(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return!this.isLocalDirty()&&!this.isDirty()?this.worldTransform:(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform)}},{key:"getPosition",value:function(){return Hh(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return op(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return og(this.scaling,this.worldTransform),this.scaling}}]),f}(el);Py.DIRTY=1;var i1=w(84879),Ad,xg,Oy,Cg,Bm,X0,Y0=(Ad=(0,Xi.b2)(),xg=(0,Xi.f3)(zi.RenderEngine),Ad(Oy=(Cg=(X0=function(){function o(){(0,mo.Z)(this,o),ds(this,"engine",Bm,this),this.resourcePool={}}return(0,Rs.Z)(o,[{key:"getOrCreateResource",value:function(f){if(!this.resourcePool[f.name]){var p=f.descriptor,v=p.width,x=p.height,T=p.usage;this.resourcePool[f.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:v,height:x,wrapS:qe.CLAMP_TO_EDGE,wrapT:qe.CLAMP_TO_EDGE,usage:T})})}return this.resourcePool[f.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),o}(),X0),Bm=Ds(Cg.prototype,"engine",[xg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cg))||Oy);function qc(o){var l=zm();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function zm(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var J0=function(o){(0,ll.Z)(f,o);var l=qc(f);function f(p){var v;return(0,mo.Z)(this,f),v=l.call(this,p),v.name=void 0,v.name=p.name||"",v}return f}(el),Gm,ph,Iy,q0=(Gm=(0,Xi.b2)(),Gm(ph=(Iy=function(){function o(){(0,mo.Z)(this,o),this.config=void 0}return(0,Rs.Z)(o,[{key:"get",value:function(){return this.config}},{key:"set",value:function(f){this.config=f}}]),o}(),Iy))||ph),Ry,Vm,Zm;(function(o){o.PANSTART="PANSTART",o.PANEND="PANEND",o.PANMOVE="PANMOVE",o.PINCH="PINCH",o.KEYDOWN="KEYDOWN",o.KEYUP="KEYUP",o.HOVER="HOVER"})(Zm||(Zm={}));var Q0=(Ry=(0,Xi.b2)(),Ry(Vm=function(){function o(){(0,mo.Z)(this,o)}return(0,Rs.Z)(o,[{key:"listen",value:function(f){}},{key:"on",value:function(f,p){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),o}())||Vm);function Dy(o){var l=0;switch(o){case"vec2":case"ivec2":l=2;break;case"vec3":case"ivec3":l=3;break;case"vec4":case"ivec4":case"mat2":l=4;break;case"mat3":l=9;break;case"mat4":l=16;break;default:}return l}var Ny=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function ev(o){var l={};return o=o.replace(Ny,function(f,p,v){var x=v.split(":"),T=x[0].trim(),N="";switch(x.length>1&&(N=x[1].trim()),p){case"bool":N=N==="true";break;case"float":case"int":N=Number(N);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":N?N=N.replace("[","").replace("]","").split(",").reduce(function(z,Z){return z.push(Number(Z.trim())),z},[]):N=new Array(Dy(p)).fill(0);break;default:}return l[T]=N,"uniform ".concat(p," ").concat(T,`;
`)}),{content:o,uniforms:l}}function du(o){return o.filter(function(l,f,p){return p.indexOf(l)===f})}var wg,jm,dp;function tv(o,l){var f=Object.keys(o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);l&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable})),f.push.apply(f,p)}return f}function Um(o){for(var l=1;l<arguments.length;l++){var f=arguments[l]!=null?arguments[l]:{};l%2?tv(Object(f),!0).forEach(function(p){(0,Pi.Z)(o,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(f)):tv(Object(f)).forEach(function(p){Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(f,p))})}return o}var Wm=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,o1=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}`,s1=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}`,M2=/precision\s+(high|low|medium)p\s+float/,T2=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,Eg=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,P2=(wg=(0,Xi.b2)(),wg(jm=(dp=function(){function o(){(0,mo.Z)(this,o),this.moduleCache={},this.rawContentCache={}}return(0,Rs.Z)(o,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:o1,fs:Wm}),this.registerModule("sdf2d",{vs:"",fs:s1})}},{key:"registerModule",value:function(f,p){if(!this.rawContentCache[f]){var v=p.vs,x=v===void 0?"":v,T=p.fs,N=T===void 0?"":T,z=p.uniforms,Z=ev(x),X=Z.content,se=Z.uniforms,xe=ev(N),be=xe.content,Ie=xe.uniforms;this.rawContentCache[f]={fs:be,uniforms:Um(Um(Um({},se),Ie),z),vs:X}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(f){var p=this;if(this.moduleCache[f])return this.moduleCache[f];var v=this.rawContentCache[f].vs||"",x=this.rawContentCache[f].fs||"",T=this.processModule(v,[],"vs"),N=T.content,z=T.includeList,Z=this.processModule(x,[],"fs"),X=Z.content,se=Z.includeList,xe=X,be=du(z.concat(se).concat(f)).reduce(function(Ie,De){return Um(Um({},Ie),p.rawContentCache[De].uniforms)},{});return M2.test(X)||(xe=T2+X),this.moduleCache[f]={fs:xe.trim(),uniforms:be,vs:N.trim()},this.moduleCache[f]}},{key:"processModule",value:function(f,p,v){var x=this,T=f.replace(Eg,function(N,z){var Z=z.split(" "),X=Z[0].replace(/"/g,"");if(p.indexOf(X)>-1)return"";var se=x.rawContentCache[X][v];p.push(X);var xe=x.processModule(se||"",p,v),be=xe.content;return be});return{content:T,includeList:p}}}]),o}(),dp))||jm),gh=new Xi.W2,_y=(0,i1.Z)(gh,!1),O2=function(l){var f=_y.lazyInject(l);return function(p,v,x){f.call(this,p,v),x&&(x.initializer=function(){return p[v]})}},a1=function(l){var f=_y.lazyMultiInject(l);return function(p,v,x){f.call(this,p,v),x&&(x.initializer=function(){return p[v]})}};gh.bind(zi.ShaderModuleService).to(P2).inSingletonScope(),gh.bind(zi.NameComponentManager).toConstantValue(new jc(J0)),gh.bind(zi.HierarchyComponentManager).toConstantValue(new jc(rc)),gh.bind(zi.TransformComponentManager).toConstantValue(new jc(Py)),gh.bind(zi.MeshComponentManager).toConstantValue(new jc(Wh)),gh.bind(zi.CullableComponentManager).toConstantValue(new jc(dm)),gh.bind(zi.GeometryComponentManager).toConstantValue(new jc(Xs)),gh.bind(zi.MaterialComponentManager).toConstantValue(new jc(Ii));function ky(){var o=new Xi.W2;return o.parent=gh,o.bind(zi.Systems).to(Yb).inSingletonScope().whenTargetNamed(zi.SceneGraphSystem),o.bind(zi.Systems).to(ss).inSingletonScope().whenTargetNamed(zi.FrameGraphSystem),o.bind(zi.Systems).to(gm).inSingletonScope().whenTargetNamed(zi.MeshSystem),o.bind(zi.Systems).to(qn).inSingletonScope().whenTargetNamed(zi.GeometrySystem),o.bind(zi.Systems).to(I0).inSingletonScope().whenTargetNamed(zi.MaterialSystem),o.bind(zi.Systems).to(Kb).inSingletonScope().whenTargetNamed(zi.RendererSystem),o.bind(zi.ResourcePool).to(Y0).inSingletonScope(),o.bind(zi.ConfigService).to(q0).inSingletonScope(),o.bind(zi.InteractorService).to(Q0).inSingletonScope(),o.bind(zi.RenderPass).to(ug).inSingletonScope().whenTargetNamed(ug.IDENTIFIER),o.bind(zi.RenderPass).to(Cd).inSingletonScope().whenTargetNamed(Cd.IDENTIFIER),o.bind(zi.RenderPass).to(W0).inSingletonScope().whenTargetNamed(W0.IDENTIFIER),o.bind(zi.RenderPassFactory).toFactory(function(l){return function(f){return l.container.getNamed(zi.RenderPass,f)}}),o}function pp(o){for(var l=new Nf,f=Os(o[0],o[1],o[2]),p=Os(o[0],o[1],o[2]),v=3;v<o.length;){var x=o[v++],T=o[v++],N=o[v++];x<f[0]&&(f[0]=x),T<f[1]&&(f[1]=T),N<f[2]&&(f[2]=N),x>p[0]&&(p[0]=x),T>p[1]&&(p[1]=T),N>p[2]&&(p[2]=N)}return l.setMinMax(f,p),l}var Qc=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),l1=da(),c1=null,I2=da(),u1=da(),R2=da(),D2=da(),b=da(),P=null,q=w(59518),Me=w(26199),bt=w(14156),un=w(71468),ar=w(48871),Ir=w(9871),ei;(function(o){o.Normal="normal",o.PostProcessing="post-processing"})(ei||(ei={}));var uo=w(25612),so=w(92777),Co=w(20159),us=w(61622),_s=w(20499),Js=w(64851),ea;(function(o){o.Void="Void",o.Boolean="Boolean",o.Float="Float",o.Uint32="Uint32",o.Int32="Int32",o.Vector="Vector",o.Vector2Float="vec2<f32>",o.Vector3Float="vec3<f32>",o.Vector4Float="vec4<f32>",o.Vector2Boolean="vec2<bool>",o.Vector3Boolean="vec3<bool>",o.Vector4Boolean="vec4<bool>",o.Vector2Uint="vec2<u32>",o.Vector3Uint="vec3<u32>",o.Vector4Uint="vec4<u32>",o.Vector2Int="vec2<i32>",o.Vector3Int="vec3<i32>",o.Vector4Int="vec4<i32>",o.Matrix="Matrix",o.Matrix3x3Float="mat3x3<f32>",o.Matrix4x4Float="mat4x4<i32>",o.Struct="Struct",o.FloatArray="Float[]",o.Vector4FloatArray="vec4<f32>[]"})(ea||(ea={}));var Zs;(function(o){o.Program="Program",o.Identifier="Identifier",o.VariableDeclaration="VariableDeclaration",o.BlockStatement="BlockStatement",o.ReturnStatement="ReturnStatement",o.FunctionDeclaration="FunctionDeclaration",o.VariableDeclarator="VariableDeclarator",o.AssignmentExpression="AssignmentExpression",o.LogicalExpression="LogicalExpression",o.BinaryExpression="BinaryExpression",o.ArrayExpression="ArrayExpression",o.UnaryExpression="UnaryExpression",o.UpdateExpression="UpdateExpression",o.FunctionExpression="FunctionExpression",o.MemberExpression="MemberExpression",o.ConditionalExpression="ConditionalExpression",o.ExpressionStatement="ExpressionStatement",o.CallExpression="CallExpression",o.NumThreadStatement="NumThreadStatement",o.StorageStatement="StorageStatement",o.DoWhileStatement="DoWhileStatement",o.WhileStatement="WhileStatement",o.ForStatement="ForStatement",o.BreakStatement="BreakStatement",o.ContinueStatement="ContinueStatement",o.IfStatement="IfStatement",o.ImportedFunctionStatement="ImportedFunctionStatement"})(Zs||(Zs={}));var aa;(function(o){o.Input="Input",o.Output="Output",o.Uniform="Uniform",o.Workgroup="Workgroup",o.UniformConstant="UniformConstant",o.Image="Image",o.StorageBuffer="StorageBuffer",o.Private="Private",o.Function="Function"})(aa||(aa={}));var Sa;(function(o){o.GLSL100="GLSL100",o.GLSL450="GLSL450",o.WGSL="WGSL"})(Sa||(Sa={}));var Mu="__DefineValuePlaceholder__";function ic(o){return typeof o=="number"}function Xl(o){return o===void 0?0:o>360||o<-360?o%360:o}function vl(o,l,f){return ic(o)?Os(o,l,f):o.length===3?fu(o):Os(o[0],o[1],o[2])}var pu=function(){function o(l,f){(0,mo.Z)(this,o),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=l,this.matrix=ty(f.matrix),this.right=fu(f.right),this.up=fu(f.up),this.forward=fu(f.forward),this.position=fu(f.position),this.focalPoint=fu(f.focalPoint),this.distanceVector=fu(f.distanceVector),this.azimuth=f.azimuth,this.elevation=f.elevation,this.roll=f.roll,this.relAzimuth=f.relAzimuth,this.relElevation=f.relElevation,this.relRoll=f.relRoll,this.dollyingStep=f.dollyingStep,this.distance=f.distance}return(0,Rs.Z)(o,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(f){f.matrix=ig(f.matrix,this.matrix),f.right=Ya(f.right,this.right),f.up=Ya(f.up,this.up),f.forward=Ya(f.forward,this.forward),f.position=Ya(f.position,this.position),f.focalPoint=Ya(f.focalPoint,this.focalPoint),f.distanceVector=Ya(f.distanceVector,this.distanceVector),f.azimuth=this.azimuth,f.elevation=this.elevation,f.roll=this.roll,f.relAzimuth=this.relAzimuth,f.relElevation=this.relElevation,f.relRoll=this.relRoll,f.dollyingStep=this.dollyingStep,f.distance=this.distance}}]),o}(),Bf,nv,rv,Ly,N2,_2,f1,cl;(function(o){o.ORBITING="ORBITING",o.EXPLORING="EXPLORING",o.TRACKING="TRACKING"})(cl||(cl={}));var Fy;(function(o){o.DEFAULT="DEFAULT",o.ROTATIONAL="ROTATIONAL",o.TRANSLATIONAL="TRANSLATIONAL",o.CINEMATIC="CINEMATIC"})(Fy||(Fy={}));var Sg;(function(o){o.ORTHOGRAPHIC="ORTHOGRAPHIC",o.PERSPECTIVE="PERSPECTIVE"})(Sg||(Sg={}));var gp=Math.PI/180,Ag=180/Math.PI,k2=(Bf=(0,Xi.b2)(),nv=(0,Xi.f3)(zi.InteractorService),Bf(rv=(Ly=(f1=_2=function(){function o(){(0,mo.Z)(this,o),this.matrix=cc(),this.right=Os(1,0,0),this.up=Os(0,1,0),this.forward=Os(0,0,1),this.position=Os(0,0,1),this.focalPoint=Os(0,0,0),this.distanceVector=Os(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,ds(this,"interactor",N2,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=cc(),this.view=void 0,this.following=void 0,this.type=cl.EXPLORING,this.trackingMode=Fy.DEFAULT,this.projectionMode=Sg.PERSPECTIVE,this.frustum=new Fl,this.landmarks=[],this.landmarkAnimationID=void 0}return(0,Rs.Z)(o,[{key:"clone",value:function(){var f=new o;return f.setType(this.type,void 0),f.interactor=this.interactor,f}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(f,p){return this.type=f,this.type===cl.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===cl.TRACKING&&p!==void 0&&this.setTrackingMode(p),this}},{key:"setProjectionMode",value:function(f){return this.projectionMode=f,this}},{key:"setTrackingMode",value:function(f){if(this.type!==cl.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=f,this}},{key:"setWorldRotation",value:function(f){this.rotateWorld=f,this._getAngles()}},{key:"getViewTransform",value:function(){return rp(cc(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(f){return this.matrix=f,this._update(),this}},{key:"setAspect",value:function(f){return this.setPerspective(this.near,this.far,this.fov,f),this}},{key:"setViewOffset",value:function(f,p,v,x,T,N){return this.aspect=f/p,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=f,this.view.fullHeight=p,this.view.offsetX=v,this.view.offsetY=x,this.view.width=T,this.view.height=N,this.projectionMode===Sg.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===Sg.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(f,p,v,x){return this.projectionMode=Sg.PERSPECTIVE,this.fov=v,this.near=f,this.far=p,this.aspect=x,ay(this.perspective,this.fov*gp,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(f,p,v,x,T,N){this.projectionMode=Sg.ORTHOGRAPHIC,this.rright=p,this.left=f,this.top=v,this.bottom=x,this.near=T,this.far=N;var z=(this.rright-this.left)/(2*this.zoom),Z=(this.top-this.bottom)/(2*this.zoom),X=(this.rright+this.left)/2,se=(this.top+this.bottom)/2,xe=X-z,be=X+z,Ie=se+Z,De=se-Z;if(this.view!==void 0&&this.view.enabled){var Te=(this.rright-this.left)/this.view.fullWidth/this.zoom,st=(this.top-this.bottom)/this.view.fullHeight/this.zoom;xe+=Te*this.view.offsetX,be=xe+Te*this.view.width,Ie-=st*this.view.offsetY,De=Ie-st*this.view.height}return uh(this.perspective,xe,be,Ie,De,T,N),this}},{key:"setPosition",value:function(f,p,v){return this._setPosition(f,p,v),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(f,p,v){var x=Os(0,1,0);if(this.focalPoint=vl(f,p,v),this.trackingMode===Fy.CINEMATIC){var T=lh(da(),this.focalPoint,this.position);f=T[0],p=T[1],v=T[2];var N=Vh(T),z=Math.asin(p/N)*Ag,Z=90+Math.atan2(v,f)*Ag,X=cc();Vb(X,X,Z*gp),Gb(X,X,z*gp),x=Ur(da(),[0,1,0],X)}return rp(this.matrix,Kh(cc(),this.position,this.focalPoint,x)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(f){if(!(this.distance===f||f<0)){this.distance=f,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var p=da();f=this.distance;var v=this.forward,x=this.focalPoint;return p[0]=f*v[0]+x[0],p[1]=f*v[1]+x[1],p[2]=f*v[2]+x[2],this._setPosition(p),this}}},{key:"setMaxDistance",value:function(f){return this.maxDistance=f,this}},{key:"setMinDistance",value:function(f){return this.minDistance=f,this}},{key:"changeAzimuth",value:function(f){return this.setAzimuth(this.azimuth+f),this}},{key:"changeElevation",value:function(f){return this.setElevation(this.elevation+f),this}},{key:"changeRoll",value:function(f){return this.setRoll(this.roll+f),this}},{key:"setAzimuth",value:function(f){return this.azimuth=Xl(f),this.computeMatrix(),this._getAxes(),this.type===cl.ORBITING||this.type===cl.EXPLORING?this._getPosition():this.type===cl.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(f){return this.elevation=Xl(f),this.computeMatrix(),this._getAxes(),this.type===cl.ORBITING||this.type===cl.EXPLORING?this._getPosition():this.type===cl.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(f){return this.roll=Xl(f),this.computeMatrix(),this._getAxes(),this.type===cl.ORBITING||this.type===cl.EXPLORING?this._getPosition():this.type===cl.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(f,p,v){if(this.type===cl.EXPLORING){f=Xl(f),p=Xl(p),v=Xl(v);var x=hh(vc(),[1,0,0],(this.rotateWorld?1:-1)*p*gp),T=hh(vc(),[0,1,0],(this.rotateWorld?1:-1)*f*gp),N=hh(vc(),[0,0,1],v*gp),z=ju(vc(),T,x);z=ju(vc(),z,N);var Z=_0(cc(),z);$h(this.matrix,this.matrix,[0,0,-this.distance]),wu(this.matrix,this.matrix,Z),$h(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+p)>90)return;this.relElevation=Xl(p),this.relAzimuth=Xl(f),this.relRoll=Xl(v),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===cl.ORBITING||this.type===cl.EXPLORING?this._getPosition():this.type===cl.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(f,p){var v=vl(f,p,0),x=fu(this.position);return hl(x,x,ch(da(),this.right,v[0])),hl(x,x,ch(da(),this.up,v[1])),this._setPosition(x),this}},{key:"dolly",value:function(f){var p=this.forward,v=fu(this.position),x=f*this.dollyingStep,T=this.distance+f*this.dollyingStep;return x=Math.max(Math.min(T,this.maxDistance),this.minDistance)-this.distance,v[0]+=x*p[0],v[1]+=x*p[1],v[2]+=x*p[2],this._setPosition(v),this.type===cl.ORBITING||this.type===cl.EXPLORING?this._getDistance():this.type===cl.TRACKING&&hl(this.focalPoint,v,this.distanceVector),this}},{key:"createLandmark",value:function(f,p){var v=this.clone();v.setPosition(p.position),v.setFocalPoint(p.focalPoint),p.roll!==void 0&&v.setRoll(p.roll);var x=new pu(f,v);return this.landmarks.push(x),x}},{key:"setLandmark",value:function(f){var p=new pu(f,this);return this.landmarks.push(p),this}},{key:"gotoLandmark",value:function(f){var p=this,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,x=this.landmarks.find(function(se){return se.name===f});if(x){if(v===0){x.retrieve(this);return}this.landmarkAnimationID!==void 0&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var T=x.getPosition(),N=x.getFocalPoint(),z=x.getRoll(),Z,X=function se(xe){Z===void 0&&(Z=xe);var be=xe-Z,Ie=(1-Math.cos(be/v*Math.PI))/2,De=da(),Te=da(),st=0;Le(De,p.focalPoint,N,Ie),Le(Te,p.position,T,Ie),st=p.roll*(1-Ie)+z*Ie,p.setFocalPoint(De),p.setPosition(Te),p.setRoll(st),p.computeMatrix();var St=_o(De,N)+_o(Te,T);if(!(St>.01)){p.setFocalPoint(De),p.setPosition(Te),p.setRoll(st),p.computeMatrix(),p.interactor.connect();return}be<v&&(p.landmarkAnimationID=window.requestAnimationFrame(se))};window.requestAnimationFrame(X)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var f,p,v=hh(vc(),[0,0,1],this.roll*gp);Bb(this.matrix),f=hh(vc(),[1,0,0],(this.rotateWorld&&this.type!==cl.TRACKING||this.type===cl.TRACKING?1:-1)*this.elevation*gp),p=hh(vc(),[0,1,0],(this.rotateWorld&&this.type!==cl.TRACKING||this.type===cl.TRACKING?1:-1)*this.azimuth*gp);var x=ju(vc(),p,f);x=ju(vc(),x,v);var T=_0(cc(),x);this.type===cl.ORBITING||this.type===cl.EXPLORING?($h(this.matrix,this.matrix,this.focalPoint),wu(this.matrix,this.matrix,T),$h(this.matrix,this.matrix,[0,0,this.distance])):this.type===cl.TRACKING&&($h(this.matrix,this.matrix,this.position),wu(this.matrix,this.matrix,T))}},{key:"_setPosition",value:function(f,p,v){this.position=vl(f,p,v);var x=this.matrix;x[12]=this.position[0],x[13]=this.position[1],x[14]=this.position[2],x[15]=1}},{key:"_getAxes",value:function(){Ya(this.right,vl(Lu(Rc(),[1,0,0,0],this.matrix))),Ya(this.up,vl(Lu(Rc(),[0,1,0,0],this.matrix))),Ya(this.forward,vl(Lu(Rc(),[0,0,1,0],this.matrix))),jh(this.right,this.right),jh(this.up,this.up),jh(this.forward,this.forward)}},{key:"_getAngles",value:function(){var f=this.distanceVector[0],p=this.distanceVector[1],v=this.distanceVector[2],x=Vh(this.distanceVector);if(x===0){this.elevation=0,this.azimuth=0;return}this.type===cl.TRACKING?(this.elevation=Math.asin(p/x)*Ag,this.azimuth=Math.atan2(-f,-v)*Ag):this.rotateWorld?(this.elevation=Math.asin(p/x)*Ag,this.azimuth=Math.atan2(-f,-v)*Ag):(this.elevation=-Math.asin(p/x)*Ag,this.azimuth=-Math.atan2(-f,-v)*Ag)}},{key:"_getPosition",value:function(){Ya(this.position,vl(Lu(Rc(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){qr(this.distanceVector,[0,0,-this.distance],sh(lf(),this.matrix)),hl(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=lh(da(),this.focalPoint,this.position),this.distance=Vh(this.distanceVector),this.dollyingStep=this.distance/100}}]),o}(),_2.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},f1),N2=Ds(Ly.prototype,"interactor",[nv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ly))||rv),L2,h1,d1,iv,F2,mp,p1,vp=(L2=(0,Xi.b2)(),h1=(0,Xi.f3)(zi.GeometryComponentManager),L2(d1=(iv=(p1=mp=function(){function o(){(0,mo.Z)(this,o),this.config=void 0,ds(this,"geometry",F2,this),this.entity=void 0,this.component=void 0}return(0,Rs.Z)(o,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(f){this.config=f}},{key:"setEntity",value:function(f){this.entity=f,this.component=this.geometry.create(f),this.component.entity=f,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),o}(),mp.BOX="box",mp.SPHERE="sphere",mp.PLANE="plane",mp.MERGED="merged",p1),F2=Ds(iv.prototype,"geometry",[h1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iv))||d1),Go=w(49469);function nC(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var B2={}.toString,rC=function(l,f){return B2.call(l)==="[object "+f+"]"},iC=rC,z2=function(o){return Array.isArray?Array.isArray(o):iC(o,"Array")},Nl=9007199254740991,G2="[object Arguments]",V2="[object Array]",$m="[object Boolean]",g1="[object Date]",m1="[object Error]",Z2="[object Function]",v1="[object Map]",Hm="[object Number]",j2="[object Object]",U2="[object RegExp]",By="[object Set]",y1="[object String]",zy="[object WeakMap]",W2="[object ArrayBuffer]",oC="[object DataView]",sC="[object Float32Array]",Gy="[object Float64Array]",$2="[object Int8Array]",aC="[object Int16Array]",H2="[object Int32Array]",lC="[object Uint8Array]",yp="[object Uint8ClampedArray]",cC="[object Uint16Array]",uC="[object Uint32Array]",_l={};_l[sC]=_l[Gy]=_l[$2]=_l[aC]=_l[H2]=_l[lC]=_l[yp]=_l[cC]=_l[uC]=!0,_l[G2]=_l[V2]=_l[W2]=_l[$m]=_l[oC]=_l[g1]=_l[m1]=_l[Z2]=_l[v1]=_l[Hm]=_l[j2]=_l[U2]=_l[By]=_l[y1]=_l[zy]=!1;function ww(o){return function(l){return o(l)}}var fC=Object.prototype,hC=fC.toString;function Mg(o){return K2(o)&&Ew(o.length)&&!!_l[hC.call(o)]}function Ew(o){return typeof o=="number"&&o>-1&&o%1===0&&o<=Nl}function K2(o){return!!o&&(0,Fi.Z)(o)==="object"}var b1=Mg,Tg,X2,Y2,Pg,Og,ov,J2,q2;function Km(o,l){var f=Object.keys(o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);l&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable})),f.push.apply(f,p)}return f}function Vy(o){for(var l=1;l<arguments.length;l++){var f=arguments[l]!=null?arguments[l]:{};l%2?Km(Object(f),!0).forEach(function(p){(0,Pi.Z)(o,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(f)):Km(Object(f)).forEach(function(p){Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(f,p))})}return o}var mh=(Tg=(0,Xi.b2)(),X2=(0,Xi.f3)(zi.RenderEngine),Y2=(0,Xi.f3)(zi.ConfigService),Tg(Pg=(Og=(q2=function(){function o(){(0,mo.Z)(this,o),ds(this,"engine",ov,this),ds(this,"configService",J2,this),this.entity=Zc(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return(0,Rs.Z)(o,[{key:"init",value:function(){var f=this.configService.get(),p=f.canvas,v=f.engineOptions;this.initPromise=this.engine.init(Vy({canvas:p||nC(),swapChainFormat:Go.EV.BGRA8Unorm,antialiasing:!1},v))}},{key:"setBundle",value:function(f){this.compiledBundle=JSON.parse(JSON.stringify(f))}},{key:"setDispatch",value:function(f){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=f),this}},{key:"setMaxIteration",value:function(f){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=f),this}},{key:"setBinding",value:function(f,p){var v=this;if(typeof f=="string"){var x=ic(p)||b1(p)||z2(p);if(this.compiledBundle&&this.compiledBundle.context){var T=this.compiledBundle.context.defines.find(function(z){return z.name===f});if(T)return T.value=p,this;var N=this.compiledBundle.context.uniforms.find(function(z){return z.name===f});N&&(x?(N.data=p,N.isReferer=!1,N.storageClass===aa.Uniform?this.model&&this.model.updateUniform(f,p):this.model&&this.model.updateBuffer(f,p)):(N.isReferer=!0,N.data=p))}}else Object.keys(f).forEach(function(z){v.setBinding(z,f[z])});return this}},{key:"execute",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){var v=this,x,T,N=arguments;return qo().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(x=N.length>0&&N[0]!==void 0?N[0]:1,!this.dirty){Z.next=6;break}return this.compiledBundle.context&&(x>1?this.compiledBundle.context.maxIteration=x:this.compiledBundle.context.maxIteration++),Z.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(X){var se=X.isReferer;return se}).forEach(function(X){var se=X.data,xe=X.name;v.model.confirmInput(se.model,xe)}),T=0;T<x;T++)this.model.run();return this.engine.endFrame(),Z.abrupt("return",this);case 12:case"end":return Z.stop()}},p,this)}));function f(){return l.apply(this,arguments)}return f}()},{key:"getOutput",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){return qo().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",this.model.readData());case 1:case"end":return x.stop()}},p,this)}));function f(){return l.apply(this,arguments)}return f}()},{key:"compile",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){var v,x,T;return qo().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,this.initPromise;case 2:return v=Vy({},this.compiledBundle.context),x=this.engine.supportWebGPU?this.engine.useWGSL?Sa.WGSL:Sa.GLSL450:Sa.GLSL100,T=this.compiledBundle.shaders[x],v.defines.filter(function(Z){return Z.runtime}).forEach(function(Z){var X="".concat(Mu).concat(Z.name);T=T.replace(X,"".concat(Z.value))}),v.shader=T,v.uniforms.forEach(function(Z){if(!Z.data&&Z.storageClass===aa.StorageBuffer){var X=1;Z.type===ea.FloatArray?X=1:Z.type===ea.Vector4FloatArray&&(X=4),Z.data=new Float32Array(v.output.length*X).fill(0)}}),this.compiledBundle.context=v,z.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=z.sent;case 12:case"end":return z.stop()}},p,this)}));function f(){return l.apply(this,arguments)}return f}()}]),o}(),q2),ov=Ds(Og.prototype,"engine",[X2],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J2=Ds(Og.prototype,"configService",[Y2],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Og))||Pg),dC,pC,Zy,jy,Q2,ex,Xm,sv=(dC=(0,Xi.b2)(),pC=(0,Xi.f3)(zi.MaterialComponentManager),dC(Zy=(jy=(Xm=ex=function(){function o(){(0,mo.Z)(this,o),this.config=void 0,ds(this,"material",Q2,this),this.entity=void 0,this.component=void 0}return(0,Rs.Z)(o,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(f){this.config=f}},{key:"setEntity",value:function(f,p){this.entity=f,this.component=this.material.create(f),this.component.entity=f,this.component.type=p,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),o}(),ex.BASIC="basic",Xm),Q2=Ds(jy.prototype,"material",[pC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jy))||Zy),Ym,x1,tx,C1,nx,Uy,Jm,Ig,Wy,$y,Hy,rx,av,Hu,zf=(Ym=(0,Xi.b2)(),x1=(0,Xi.f3)(zi.MeshComponentManager),tx=(0,Xi.f3)(zi.CullableComponentManager),C1=(0,Xi.f3)(zi.TransformComponentManager),nx=(0,Xi.f3)(zi.Systems),Uy=(0,Xi.t6)(zi.SceneGraphSystem),Ym(Jm=(Ig=(Hu=av=function(){function o(){(0,mo.Z)(this,o),this.attributes={},this.config=void 0,ds(this,"mesh",Wy,this),ds(this,"cullable",$y,this),ds(this,"transform",Hy,this),ds(this,"sceneGraphSystem",rx,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return(0,Rs.Z)(o,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(f){this.config=f}},{key:"setEntity",value:function(f){this.entity=f,this.cullable.create(f),this.meshComponent=this.mesh.create(f),this.transformComponent=this.transform.create(f),this.onEntityCreated()}},{key:"setMaterial",value:function(f){return this.meshComponent.material=f,this}},{key:"setGeometry",value:function(f){return this.meshComponent.geometry=f,this}},{key:"setAttributes",value:function(f){var p=this;Object.keys(f).forEach(function(v){f[v]!==void 0&&f[v]!==p.attributes[v]&&(p.onAttributeChanged({name:v,data:f[v]}),p.attributes[v]=f[v])})}},{key:"setVisible",value:function(f){var p=this;return this.meshComponent.visible=f,this.meshComponent.children.forEach(function(v){var x=p.mesh.getComponentByEntity(v);x&&(x.visible=f)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(f){return this.sceneGraphSystem.attach(this.entity,f.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(f){var p=f.name,v=f.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(p),v)}},{key:"convertAttributeName2UniformName",value:function(f){return f}}]),o}(),av.POINT="point",av.LINE="line",av.GRID="grid",Hu),Wy=Ds(Ig.prototype,"mesh",[x1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$y=Ds(Ig.prototype,"cullable",[tx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hy=Ds(Ig.prototype,"transform",[C1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rx=Ds(Ig.prototype,"sceneGraphSystem",[nx,Uy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ig))||Jm),lv=w(81550),w1=w.n(lv),gC=function(){function o(l,f){(0,mo.Z)(this,o),this.attribute=void 0,this.buffer=void 0;var p=f.buffer,v=f.offset,x=f.stride,T=f.normalized,N=f.size,z=f.divisor;this.buffer=p,this.attribute={buffer:p.get(),offset:v||0,stride:x||0,normalized:T||!1,divisor:z||0},N&&(this.attribute.size=N)}return(0,Rs.Z)(o,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(f){this.buffer.subData(f)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),o}(),vh,Rg,yh,eu,cv,bp,Ky,qm,Lc,Md,yc,Jh,bh,Xy,Yy=(vh={},(0,Pi.Z)(vh,qe.POINTS,"points"),(0,Pi.Z)(vh,qe.LINES,"lines"),(0,Pi.Z)(vh,qe.LINE_LOOP,"line loop"),(0,Pi.Z)(vh,qe.LINE_STRIP,"line strip"),(0,Pi.Z)(vh,qe.TRIANGLES,"triangles"),(0,Pi.Z)(vh,qe.TRIANGLE_FAN,"triangle fan"),(0,Pi.Z)(vh,qe.TRIANGLE_STRIP,"triangle strip"),vh),Qm=(Rg={},(0,Pi.Z)(Rg,qe.STATIC_DRAW,"static"),(0,Pi.Z)(Rg,qe.DYNAMIC_DRAW,"dynamic"),(0,Pi.Z)(Rg,qe.STREAM_DRAW,"stream"),Rg),E1=(yh={},(0,Pi.Z)(yh,qe.BYTE,"int8"),(0,Pi.Z)(yh,qe.UNSIGNED_INT,"int16"),(0,Pi.Z)(yh,qe.INT,"int32"),(0,Pi.Z)(yh,qe.UNSIGNED_BYTE,"uint8"),(0,Pi.Z)(yh,qe.UNSIGNED_SHORT,"uint16"),(0,Pi.Z)(yh,qe.UNSIGNED_INT,"uint32"),(0,Pi.Z)(yh,qe.FLOAT,"float"),yh),mC=(eu={},(0,Pi.Z)(eu,qe.ALPHA,"alpha"),(0,Pi.Z)(eu,qe.LUMINANCE,"luminance"),(0,Pi.Z)(eu,qe.LUMINANCE_ALPHA,"luminance alpha"),(0,Pi.Z)(eu,qe.RGB,"rgb"),(0,Pi.Z)(eu,qe.RGBA,"rgba"),(0,Pi.Z)(eu,qe.RGBA4,"rgba4"),(0,Pi.Z)(eu,qe.RGB5_A1,"rgb5 a1"),(0,Pi.Z)(eu,qe.RGB565,"rgb565"),(0,Pi.Z)(eu,qe.DEPTH_COMPONENT,"depth"),(0,Pi.Z)(eu,qe.DEPTH_STENCIL,"depth stencil"),eu),tu=(cv={},(0,Pi.Z)(cv,qe.DONT_CARE,"dont care"),(0,Pi.Z)(cv,qe.NICEST,"nice"),(0,Pi.Z)(cv,qe.FASTEST,"fast"),cv),S1=(bp={},(0,Pi.Z)(bp,qe.NEAREST,"nearest"),(0,Pi.Z)(bp,qe.LINEAR,"linear"),(0,Pi.Z)(bp,qe.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,Pi.Z)(bp,qe.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,Pi.Z)(bp,qe.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,Pi.Z)(bp,qe.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),bp),ix=(Ky={},(0,Pi.Z)(Ky,qe.REPEAT,"repeat"),(0,Pi.Z)(Ky,qe.CLAMP_TO_EDGE,"clamp"),(0,Pi.Z)(Ky,qe.MIRRORED_REPEAT,"mirror"),Ky),vC=(qm={},(0,Pi.Z)(qm,qe.NONE,"none"),(0,Pi.Z)(qm,qe.BROWSER_DEFAULT_WEBGL,"browser"),qm),A1=(Lc={},(0,Pi.Z)(Lc,qe.NEVER,"never"),(0,Pi.Z)(Lc,qe.ALWAYS,"always"),(0,Pi.Z)(Lc,qe.LESS,"less"),(0,Pi.Z)(Lc,qe.LEQUAL,"lequal"),(0,Pi.Z)(Lc,qe.GREATER,"greater"),(0,Pi.Z)(Lc,qe.GEQUAL,"gequal"),(0,Pi.Z)(Lc,qe.EQUAL,"equal"),(0,Pi.Z)(Lc,qe.NOTEQUAL,"notequal"),Lc),ox=(Md={},(0,Pi.Z)(Md,qe.FUNC_ADD,"add"),(0,Pi.Z)(Md,qe.MIN_EXT,"min"),(0,Pi.Z)(Md,qe.MAX_EXT,"max"),(0,Pi.Z)(Md,qe.FUNC_SUBTRACT,"subtract"),(0,Pi.Z)(Md,qe.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Md),Dg=(yc={},(0,Pi.Z)(yc,qe.ZERO,"zero"),(0,Pi.Z)(yc,qe.ONE,"one"),(0,Pi.Z)(yc,qe.SRC_COLOR,"src color"),(0,Pi.Z)(yc,qe.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,Pi.Z)(yc,qe.SRC_ALPHA,"src alpha"),(0,Pi.Z)(yc,qe.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,Pi.Z)(yc,qe.DST_COLOR,"dst color"),(0,Pi.Z)(yc,qe.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,Pi.Z)(yc,qe.DST_ALPHA,"dst alpha"),(0,Pi.Z)(yc,qe.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,Pi.Z)(yc,qe.CONSTANT_COLOR,"constant color"),(0,Pi.Z)(yc,qe.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,Pi.Z)(yc,qe.CONSTANT_ALPHA,"constant alpha"),(0,Pi.Z)(yc,qe.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,Pi.Z)(yc,qe.SRC_ALPHA_SATURATE,"src alpha saturate"),yc),yC=(Jh={},(0,Pi.Z)(Jh,qe.NEVER,"never"),(0,Pi.Z)(Jh,qe.ALWAYS,"always"),(0,Pi.Z)(Jh,qe.LESS,"less"),(0,Pi.Z)(Jh,qe.LEQUAL,"lequal"),(0,Pi.Z)(Jh,qe.GREATER,"greater"),(0,Pi.Z)(Jh,qe.GEQUAL,"gequal"),(0,Pi.Z)(Jh,qe.EQUAL,"equal"),(0,Pi.Z)(Jh,qe.NOTEQUAL,"notequal"),Jh),xp=(bh={},(0,Pi.Z)(bh,qe.ZERO,"zero"),(0,Pi.Z)(bh,qe.KEEP,"keep"),(0,Pi.Z)(bh,qe.REPLACE,"replace"),(0,Pi.Z)(bh,qe.INVERT,"invert"),(0,Pi.Z)(bh,qe.INCR,"increment"),(0,Pi.Z)(bh,qe.DECR,"decrement"),(0,Pi.Z)(bh,qe.INCR_WRAP,"increment wrap"),(0,Pi.Z)(bh,qe.DECR_WRAP,"decrement wrap"),bh),bC=(Xy={},(0,Pi.Z)(Xy,qe.FRONT,"front"),(0,Pi.Z)(Xy,qe.BACK,"back"),Xy),xh=function(){function o(l,f){(0,mo.Z)(this,o),this.buffer=void 0;var p=f.data,v=f.usage,x=f.type;this.buffer=l.buffer({data:p,usage:Qm[v||qe.STATIC_DRAW],type:E1[x||qe.UNSIGNED_BYTE]})}return(0,Rs.Z)(o,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(f){var p=f.data,v=f.offset;this.buffer.subdata(p,v)}}]),o}(),Zl=w(74902),sx=9007199254740991,xC="[object Arguments]",CC="[object Array]",ax="[object Boolean]",uv="[object Date]",lx="[object Error]",vf="[object Function]",e0="[object Map]",M1="[object Number]",cx="[object Object]",Jy="[object RegExp]",jl="[object Set]",fv="[object String]",qy="[object WeakMap]",Qy="[object ArrayBuffer]",wC="[object DataView]",EC="[object Float32Array]",SC="[object Float64Array]",AC="[object Int8Array]",eb="[object Int16Array]",tb="[object Int32Array]",T1="[object Uint8Array]",ux="[object Uint8ClampedArray]",MC="[object Uint16Array]",fx="[object Uint32Array]",Bl={};Bl[EC]=Bl[SC]=Bl[AC]=Bl[eb]=Bl[tb]=Bl[T1]=Bl[ux]=Bl[MC]=Bl[fx]=!0,Bl[xC]=Bl[CC]=Bl[Qy]=Bl[ax]=Bl[wC]=Bl[uv]=Bl[lx]=Bl[vf]=Bl[e0]=Bl[M1]=Bl[cx]=Bl[Jy]=Bl[jl]=Bl[fv]=Bl[qy]=!1;function nb(o){return function(l){return o(l)}}var P1=Object.prototype,Sw=P1.toString;function TC(o){return rb(o)&&t0(o.length)&&!!Bl[Sw.call(o)]}function t0(o){return typeof o=="number"&&o>-1&&o%1===0&&o<=sx}function rb(o){return!!o&&(0,Fi.Z)(o)==="object"}var O1=TC;function Cp(o,l){var f=Object.keys(o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);l&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable})),f.push.apply(f,p)}return f}function hv(o){for(var l=1;l<arguments.length;l++){var f=arguments[l]!=null?arguments[l]:{};l%2?Cp(Object(f),!0).forEach(function(p){(0,Pi.Z)(o,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(f)):Cp(Object(f)).forEach(function(p){Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(f,p))})}return o}var PC=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,hx=0,ib=!1,Tu=function(){function o(l,f){var p=this;(0,mo.Z)(this,o),this.reGl=l,this.context=f,this.entity=Zc(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var v={};this.context.uniforms.forEach(function(Z){var X=Z.name,se=Z.type,xe=Z.data,be=Z.isReferer,Ie=Z.storageClass;if(Ie===aa.StorageBuffer){if(be)p.textureCache[X]={data:void 0},v["".concat(X,"Size")]=function(){return xe.compiledBundle.context.output.textureSize};else{p.textureCache[X]=p.calcDataTexture(X,se,xe);var De=p.textureCache[X],Te=De.textureWidth,st=De.isOutput;v["".concat(X,"Size")]=[Te,Te],st&&(p.outputTextureName=X,p.context.needPingpong&&(p.outputTextureName="".concat(X,"Output"),p.textureCache[p.outputTextureName]=p.calcDataTexture(X,se,xe)))}v[X]=function(){return ib&&console.log("[".concat(p.entity,"]: ").concat(X," ").concat(p.textureCache[X].id)),p.textureCache[X].texture}}else if(Ie===aa.Uniform){if(xe&&(Array.isArray(xe)||O1(xe))&&xe.length>16)throw new Error("invalid data type ".concat(se));v[X]=function(){return Z.data}}});var x=this.getOuputDataTexture(),T=x.textureWidth,N=x.texelCount;v.u_OutputTextureSize=[T,T],v.u_OutputTexelCount=N,this.context.output.textureSize=[T,T];var z={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:v,vert:PC,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(z)}return(0,Rs.Z)(o,[{key:"run",value:function(){var f=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){f.computeCommand()}),ib&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){var v=this,x,T,N,z,Z,X,se,xe;return qo().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){x=v.reGl.read()}),!x){Ie.next=6;break}if(T=this.getOuputDataTexture(),N=T.originalDataLength,z=T.elementsPerTexel,Z=T.typedArrayConstructor,X=Z===void 0?Float32Array:Z,se=[],z!==4)for(xe=0;xe<x.length;xe+=4)z===1?se.push(x[xe]):z===2?se.push(x[xe],x[xe+1]):se.push(x[xe],x[xe+1],x[xe+2]);else se=x;return Ie.abrupt("return",new X(se.slice(0,N)));case 6:return Ie.abrupt("return",new Float32Array);case 7:case"end":return Ie.stop()}},p,this)}));function f(){return l.apply(this,arguments)}return f}()},{key:"confirmInput",value:function(f,p){var v;this.entity===f.entity?(this.dynamicPingpong=!0,v=this):v=f,this.textureCache[p].id=v.getOuputDataTexture().id,this.textureCache[p].texture=v.getOuputDataTexture().texture,ib&&console.log("[".concat(this.entity,"]: confirm input ").concat(p," from model ").concat(v.entity,", ").concat(v.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(f,p){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=this.context.uniforms.find(function(Z){var X=Z.name;return X===f});if(x){var T=this.calcDataTexture(f,x.type,p),N=T.texture,z=T.data;this.textureCache[f].data=z,this.textureCache[f].texture=N}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var f=this.context.output.name;this.textureCache[f].id=this.getOuputDataTexture().id,this.textureCache[f].texture=this.getOuputDataTexture().texture}var p=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=p,ib&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var f=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=f}},{key:"cloneDataTexture",value:function(f){var p=f.data,v=f.textureWidth;return hv(hv({},f),{},{id:hx++,texture:this.reGl.texture({width:v,height:v,data:p,type:"float"})})}},{key:"calcDataTexture",value:function(f,p,v){var x=1;p===ea.Vector4FloatArray&&(x=4);for(var T=[],N=0;N<v.length;N+=x)x===1?T.push(v[N],0,0,0):x===2?T.push(v[N],v[N+1],0,0):x===3?T.push(v[N],v[N+1],v[N+2],0):x===4&&T.push(v[N],v[N+1],v[N+2],v[N+3]);var z=v.length,Z=Math.ceil(z/x),X=Math.ceil(Math.sqrt(Z)),se=X*X;Z<se&&T.push.apply(T,(0,Zl.Z)(new Array((se-Z)*4).fill(0)));var xe=this.reGl.texture({width:X,height:X,data:T,type:"float"});return{id:hx++,data:T,originalDataLength:z,typedArrayConstructor:O1(v)?v.constructor:void 0,textureWidth:X,texture:xe,texelCount:Z,elementsPerTexel:x,isOutput:f===this.context.output.name}}}]),o}(),OC=function(){function o(l,f){(0,mo.Z)(this,o),this.elements=void 0;var p=f.data,v=f.usage,x=f.type,T=f.count;this.elements=l.elements({data:p,usage:Qm[v||qe.STATIC_DRAW],type:E1[x||qe.UNSIGNED_BYTE],count:T})}return(0,Rs.Z)(o,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(f){var p=f.data;this.elements.subdata(p)}},{key:"destroy",value:function(){this.elements.destroy()}}]),o}(),Aw=function(){function o(l,f){(0,mo.Z)(this,o),this.framebuffer=void 0;var p=f.width,v=f.height,x=f.color,T=f.colors,N=f.depth,z=f.stencil,Z={width:p,height:v};Array.isArray(T)&&(Z.colors=T.map(function(X){return X.get()})),x&&typeof x!="boolean"&&(Z.color=x.get()),this.framebuffer=l.framebuffer(Z)}return(0,Rs.Z)(o,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(f){var p=f.width,v=f.height;this.framebuffer.resize(p,v)}}]),o}();function Mw(o){var l=(0,Fi.Z)(o);return o!=null&&(l==="object"||l==="function")}function dv(o){var l={};return Object.keys(o).forEach(function(f){ob(f,o[f],l,"")}),l}function ob(o,l,f,p){if(l===null||typeof l=="number"||typeof l=="boolean"||Array.isArray(l)&&typeof l[0]=="number"||O1(l)||l===""||l.resize!==void 0){f["".concat(p&&p+".").concat(o)]=l;return}Mw(l)&&Object.keys(l).forEach(function(v){ob(v,l[v],f,"".concat(p&&p+".").concat(o))}),Array.isArray(l)&&l.forEach(function(v,x){Object.keys(v).forEach(function(T){ob(T,v[T],f,"".concat(p&&p+".").concat(o,"[").concat(x,"]"))})})}function IC(o,l){var f=Object.keys(o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);l&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable})),f.push.apply(f,p)}return f}function n0(o){for(var l=1;l<arguments.length;l++){var f=arguments[l]!=null?arguments[l]:{};l%2?IC(Object(f),!0).forEach(function(p){(0,Pi.Z)(o,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(f)):IC(Object(f)).forEach(function(p){Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(f,p))})}return o}var RC=function(){function o(l,f){(0,mo.Z)(this,o),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=l;var p=f.vs,v=f.fs,x=f.defines,T=f.attributes,N=f.uniforms,z=f.primitive,Z=f.count,X=f.elements,se=f.depth,xe=f.blend,be=f.stencil,Ie=f.cull,De=f.instances,Te=f.scissor,st=f.viewport,St={};N&&(this.uniforms=dv(N),Object.keys(N).forEach(function(Dr){St[Dr]=l.prop(Dr)}));var an={};Object.keys(T).forEach(function(Dr){an[Dr]=T[Dr].get()});var Nn=x&&this.generateDefines(x)||"",Ln={attributes:an,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(Nn,`
`).concat(v),uniforms:St,vert:`
`.concat(Nn,`
`).concat(p),primitive:Yy[z===void 0?qe.TRIANGLES:z]};De&&(Ln.instances=De),Z&&(Ln.count=Z),X&&(Ln.elements=X.get()),Te&&(Ln.scissor=Te),st&&(Ln.viewport=st),this.initDepthDrawParams({depth:se},Ln),this.initBlendDrawParams({blend:xe},Ln),this.initStencilDrawParams({stencil:be},Ln),this.initCullDrawParams({cull:Ie},Ln),this.drawCommand=l(Ln)}return(0,Rs.Z)(o,[{key:"addUniforms",value:function(f){this.uniforms=n0(n0({},this.uniforms),dv(f))}},{key:"draw",value:function(f){var p=n0(n0({},this.uniforms),dv(f.uniforms||{})),v={};Object.keys(p).forEach(function(x){var T=(0,Fi.Z)(p[x]);T==="boolean"||T==="number"||Array.isArray(p[x])||p[x].BYTES_PER_ELEMENT?v[x]=p[x]:T==="string"||(v[x]=p[x].get())}),this.drawCommand(v)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(f,p){var v=f.depth;v&&(p.depth={enable:v.enable===void 0?!0:!!v.enable,mask:v.mask===void 0?!0:!!v.mask,func:A1[v.func||qe.LESS],range:v.range||[0,1]})}},{key:"initBlendDrawParams",value:function(f,p){var v=f.blend;if(v){var x=v.enable,T=v.func,N=v.equation,z=v.color,Z=z===void 0?[0,0,0,0]:z;p.blend={enable:!!x,func:{srcRGB:Dg[T&&T.srcRGB||qe.SRC_ALPHA],srcAlpha:Dg[T&&T.srcAlpha||qe.SRC_ALPHA],dstRGB:Dg[T&&T.dstRGB||qe.ONE_MINUS_SRC_ALPHA],dstAlpha:Dg[T&&T.dstAlpha||qe.ONE_MINUS_SRC_ALPHA]},equation:{rgb:ox[N&&N.rgb||qe.FUNC_ADD],alpha:ox[N&&N.alpha||qe.FUNC_ADD]},color:Z}}}},{key:"initStencilDrawParams",value:function(f,p){var v=f.stencil;if(v){var x=v.enable,T=v.mask,N=T===void 0?-1:T,z=v.func,Z=z===void 0?{cmp:qe.ALWAYS,ref:0,mask:-1}:z,X=v.opFront,se=X===void 0?{fail:qe.KEEP,zfail:qe.KEEP,zpass:qe.KEEP}:X,xe=v.opBack,be=xe===void 0?{fail:qe.KEEP,zfail:qe.KEEP,zpass:qe.KEEP}:xe;p.stencil={enable:!!x,mask:N,func:n0(n0({},Z),{},{cmp:yC[Z.cmp]}),opFront:{fail:xp[se.fail],zfail:xp[se.zfail],zpass:xp[se.zpass]},opBack:{fail:xp[be.fail],zfail:xp[be.zfail],zpass:xp[be.zpass]}}}}},{key:"initCullDrawParams",value:function(f,p){var v=f.cull;if(v){var x=v.enable,T=v.face,N=T===void 0?qe.BACK:T;p.cull={enable:!!x,face:bC[N]}}}},{key:"generateDefines",value:function(f){return Object.keys(f).map(function(p){return"#define ".concat(p," ").concat(Number(f[p]))}).join(`
`)}}]),o}(),Tw=function(){function o(l,f){(0,mo.Z)(this,o),this.texture=void 0,this.width=void 0,this.height=void 0;var p=f.data,v=f.type,x=v===void 0?qe.UNSIGNED_BYTE:v,T=f.width,N=f.height,z=f.flipY,Z=z===void 0?!1:z,X=f.format,se=X===void 0?qe.RGBA:X,xe=f.mipmap,be=xe===void 0?!1:xe,Ie=f.wrapS,De=Ie===void 0?qe.CLAMP_TO_EDGE:Ie,Te=f.wrapT,st=Te===void 0?qe.CLAMP_TO_EDGE:Te,St=f.aniso,an=St===void 0?0:St,Nn=f.alignment,Ln=Nn===void 0?1:Nn,Dr=f.premultiplyAlpha,Ni=Dr===void 0?!1:Dr,Ai=f.mag,ko=Ai===void 0?qe.NEAREST:Ai,Oi=f.min,go=Oi===void 0?qe.NEAREST:Oi,Wi=f.colorSpace,is=Wi===void 0?qe.BROWSER_DEFAULT_WEBGL:Wi;this.width=T,this.height=N;var Bo={width:T,height:N,type:E1[x],format:mC[se],wrapS:ix[De],wrapT:ix[st],mag:S1[ko],min:S1[go],alignment:Ln,flipY:Z,colorSpace:vC[is],premultiplyAlpha:Ni,aniso:an};p&&(Bo.data=p),typeof be=="number"?Bo.mipmap=tu[be]:typeof be=="boolean"&&(Bo.mipmap=be),this.texture=l.texture(Bo)}return(0,Rs.Z)(o,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(f){var p=f.width,v=f.height;this.texture.resize(p,v),this.width=p,this.height=v}},{key:"destroy",value:function(){this.texture.destroy()}}]),o}(),I1,R1,dx,DC=(I1=(0,Xi.b2)(),I1(R1=(dx=function(){function o(){var l=this;(0,mo.Z)(this,o),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var f=(0,Ks.Z)(qo().mark(function p(v){return qo().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!v.uniforms){T.next=3;break}return T.next=3,Promise.all(Object.keys(v.uniforms).map(function(){var N=(0,Ks.Z)(qo().mark(function z(Z){var X;return qo().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(!(v.uniforms[Z]&&v.uniforms[Z].load!==void 0)){xe.next=5;break}return xe.next=3,v.uniforms[Z].load();case 3:X=xe.sent,v.uniforms[Z]=X;case 5:case"end":return xe.stop()}},z)}));return function(z){return N.apply(this,arguments)}}()));case 3:return T.abrupt("return",new RC(l.gl,v));case 4:case"end":return T.stop()}},p)}));return function(p){return f.apply(this,arguments)}}(),this.createAttribute=function(f){return new gC(l.gl,f)},this.createBuffer=function(f){return new xh(l.gl,f)},this.createElements=function(f){return new OC(l.gl,f)},this.createTexture2D=function(f){return new Tw(l.gl,f)},this.createFramebuffer=function(f){return new Aw(l.gl,f)},this.useFramebuffer=function(f,p){l.gl({framebuffer:f?f.get():null})(p)},this.createComputeModel=function(){var f=(0,Ks.Z)(qo().mark(function p(v){return qo().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",new Tu(l.gl,v));case 1:case"end":return T.stop()}},p)}));return function(p){return f.apply(this,arguments)}}(),this.clear=function(f){var p=f.color,v=f.depth,x=f.stencil,T=f.framebuffer,N=T===void 0?null:T,z={color:p,depth:v,stencil:x};z.framebuffer=N===null?N:N.get(),l.gl.clear(z)},this.setScissor=function(f){l.gl&&l.gl._gl&&(f.enable&&f.box?(l.gl._gl.enable(qe.SCISSOR_TEST),l.gl._gl.scissor(f.box.x,f.box.y,f.box.width,f.box.height)):l.gl._gl.disable(qe.SCISSOR_TEST),l.gl._refresh())},this.viewport=function(f){var p=f.x,v=f.y,x=f.width,T=f.height;l.gl&&l.gl._gl&&(l.gl._gl.viewport(p,v,x,T),l.gl._refresh())},this.readPixels=function(f){var p=f.framebuffer,v=f.x,x=f.y,T=f.width,N=f.height,z={x:v,y:x,width:T,height:N};return p&&(z.framebuffer=p.get()),l.gl.read(z)},this.getCanvas=function(){return l.$canvas},this.getGLContext=function(){return l.gl._gl},this.destroy=function(){l.gl&&(l.gl.destroy(),l.inited=!1)}}return(0,Rs.Z)(o,[{key:"init",value:function(){var l=(0,Ks.Z)(qo().mark(function p(v){return qo().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!this.inited){T.next=2;break}return T.abrupt("return");case 2:return this.$canvas=v.canvas,T.next=5,new Promise(function(N,z){w1()({canvas:v.canvas,attributes:{alpha:!0,antialias:v.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(X,se){(X||!se)&&z(X),N(se)}})});case 5:this.gl=T.sent,this.inited=!0;case 7:case"end":return T.stop()}},p,this)}));function f(p){return l.apply(this,arguments)}return f}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),o}(),dx))||R1);function NC(){return typeof window!="undefined"}function Pw(o,l,f,p){if(NC()){var v=document.getElementsByTagName("head")[0],x=document.createElement("script");x.setAttribute("type","text/javascript"),x.setAttribute("src",o),p&&(x.id=p),x.onload=function(){l&&l()},x.onerror=function(T){f&&f("Unable to load script '".concat(o,"'"),T)},v.appendChild(x)}}function sb(o,l){return new Promise(function(f,p){Pw(o,function(){f()},function(v,x){p(x)})})}var Td;function Gf(){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,Ks.Z)(qo().mark(function o(){return qo().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!Td){f.next=2;break}return f.abrupt("return",Td);case 2:return f.next=4,sb("https://preview.babylonjs.com/glslang/glslang.js");case 4:return Td=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),f.abrupt("return",Td);case 6:case"end":return f.stop()}},o)})),Ku.apply(this,arguments)}var _C=function(){function o(l,f){(0,mo.Z)(this,o),this.engine=l,this.options=f,this.attribute=void 0,this.buffer=void 0;var p=f,v=p.buffer,x=p.offset,T=p.stride,N=p.normalized,z=p.size,Z=p.divisor,X=p.arrayStride,se=p.attributes,xe=p.stepMode;this.buffer=v,this.attribute={buffer:v.get(),offset:x||0,stride:T||0,normalized:N||!1,divisor:Z||0,arrayStride:X||0,attributes:se,stepMode:xe||"vertex"},z&&(this.attribute.size=z)}return(0,Rs.Z)(o,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(f){this.buffer.subData(f)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),o}(),fc=function(){function o(l,f){(0,mo.Z)(this,o),this.engine=l,this.options=f,this.buffer=void 0;var p=f,v=p.data,x=p.usage,T=p.type;this.buffer=this.createBuffer(v instanceof Array?new Float32Array(v):v,x||Go.FB.Vertex|Go.FB.CopyDst)}return(0,Rs.Z)(o,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(f){var p=f.data,v=f.offset;this.setSubData(this.buffer,v,p instanceof Array?new Float32Array(p):p)}},{key:"createBuffer",value:function(f,p){var v=f.byteLength%4,x={size:f.byteLength+v,usage:p},T=this.engine.device.createBuffer(x);return this.setSubData(T,0,f),T}},{key:"setSubData",value:function(f,p,v){var x=Qc?this.engine.device.getQueue():this.engine.device.defaultQueue;x.writeBuffer(f,p,v)}}]),o}();function px(o){return typeof o=="number"}var gx=function(){function o(l,f){(0,mo.Z)(this,o),this.engine=l,this.context=f,this.entity=Zc(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return(0,Rs.Z)(o,[{key:"init",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){var v=this,x,T,N,z,Z,X,se;return qo().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return be.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:x=be.sent,T=x.computeStage,N=this.context.uniforms.filter(function(Ie){return Ie.storageClass===aa.StorageBuffer}),z=this.context.uniforms.filter(function(Ie){return Ie.storageClass===aa.Uniform}),Z=z.length?1:0,this.bindGroupEntries=[],Z&&(X=0,se=[],z.forEach(function(Ie){if(px(Ie.data))v.uniformGPUBufferLayout.push({name:Ie.name,offset:X}),X+=4,se.push(Ie.data);else{var De,Te=((De=Ie.data)===null||De===void 0?void 0:De.length)||1;Te===3&&(Te=4,Ie.data.push(0));var st=X/4%4;if(st>0){var St=4-st;if(Te>1&&Te<=St)Te===2&&(St===3&&(X+=4,se.push(0)),se.push.apply(se,(0,Zl.Z)(Ie.data)),v.uniformGPUBufferLayout.push({name:Ie.name,offset:X}));else{for(var an=0;an<St;an++)X+=4,se.push(0);se.push.apply(se,(0,Zl.Z)(Ie.data)),v.uniformGPUBufferLayout.push({name:Ie.name,offset:X})}}X+=4*Te}}),this.uniformBuffer=new fc(this.engine,{data:se instanceof Array?new Float32Array(se):se,usage:Go.FB.Uniform|Go.FB.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),N.forEach(function(Ie){if(Ie.data!==null&&(Ie.type===ea.Vector4FloatArray||Ie.type===ea.FloatArray)){var De;Ie.name===v.context.output.name?(De=new fc(v.engine,{data:isFinite(Number(Ie.data))?[Ie.data]:Ie.data,usage:Go.FB.Storage|Go.FB.CopyDst|Go.FB.CopySrc}),v.outputBuffer=De,v.context.output={name:Ie.name,length:isFinite(Number(Ie.data))?1:Ie.data.length,typedArrayConstructor:Float32Array,gpuBuffer:De.get()}):Ie.isReferer?Ie.data.model&&Ie.data.model.outputBuffer&&(De=Ie.data.model.outputBuffer):De=new fc(v.engine,{data:isFinite(Number(Ie.data))?[Ie.data]:Ie.data,usage:Go.FB.Storage|Go.FB.CopyDst|Go.FB.CopySrc}),v.vertexBuffers[Ie.name]=De,v.bindGroupEntries.push({binding:Z,resource:{name:Ie.name,refer:De?void 0:Ie.data,buffer:De?De.get():void 0}}),Z++}}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:T}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return be.stop()}},p,this)}));function f(){return l.apply(this,arguments)}return f}()},{key:"destroy",value:function(){var f=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(p){return f.vertexBuffers[p].destroy()})}},{key:"readData",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){var v,x,T,N,z,Z,X,se,xe,be;return qo().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(v=this.context.output,!v){De.next=16;break}if(x=v.length,T=v.typedArrayConstructor,N=v.gpuBuffer,!N){De.next=16;break}return z=x*T.BYTES_PER_ELEMENT,Z=this.engine.device.createBuffer({size:z,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),X=this.engine.device.createCommandEncoder(),X.copyBufferToBuffer(N,0,Z,0,z),se=Qc?this.engine.device.getQueue():this.engine.device.defaultQueue,se.submit([X.finish()]),De.next=12,Z.mapAsync(Go.gc.Read);case 12:return xe=Z.getMappedRange(),be=new T(xe.slice(0)),Z.unmap(),De.abrupt("return",be);case 16:return De.abrupt("return",new Float32Array);case 17:case"end":return De.stop()}},p,this)}));function f(){return l.apply(this,arguments)}return f}()},{key:"run",value:function(){if(this.engine.currentComputePass){var f;this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(f=this.engine.currentComputePass).dispatch.apply(f,(0,Zl.Z)(this.context.dispatch))}}},{key:"updateBuffer",value:function(f,p){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=this.vertexBuffers[f];x&&x.subData({data:p,offset:v})}},{key:"updateUniform",value:function(f,p){var v=this.uniformGPUBufferLayout.find(function(x){return x.name===f});v&&this.uniformBuffer.subData({data:Number.isFinite(p)?new Float32Array([p]):new Float32Array(p),offset:v.offset})}},{key:"confirmInput",value:function(f,p){var v=this.vertexBuffers[p],x=f.outputBuffer;if(v&&x&&v!==x){var T=this.engine.device.createCommandEncoder(),N=f.context.output,z=N.length,Z=N.typedArrayConstructor,X=z*Z.BYTES_PER_ELEMENT;T.copyBufferToBuffer(x.get(),0,v.get(),0,X);var se=Qc?this.engine.device.getQueue():this.engine.device.defaultQueue;se.submit([T.finish()])}}},{key:"compileShaderToSpirV",value:function(f,p,v){return this.compileRawShaderToSpirV(v+f,p)}},{key:"compileRawShaderToSpirV",value:function(f,p){return this.engine.glslang.compileGLSL(f,p)}},{key:"compileComputePipelineStageDescriptor",value:function(){var l=(0,Ks.Z)(qo().mark(function p(v){var x,T;return qo().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(x=v,T=`#version 450
`,this.engine.options.useWGSL){z.next=6;break}return z.next=5,this.compileShaderToSpirV(v,"compute",T);case 5:x=z.sent;case 6:return z.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:x,isWHLSL:Qc}),entryPoint:"main"}});case 7:case"end":return z.stop()}},p,this)}));function f(p){return l.apply(this,arguments)}return f}()}]),o}(),kC=function(){function o(l,f){(0,mo.Z)(this,o),this.engine=l,this.options=f,this.indexCount=void 0,this.buffer=void 0;var p=f,v=p.data,x=p.usage,T=p.type,N=p.count;this.indexCount=N||0,this.buffer=new fc(l,{data:v instanceof Array?new Uint16Array(v):v,usage:Go.FB.Index|Go.FB.CopyDst})}return(0,Rs.Z)(o,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(f){this.buffer.subData(f)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),o}(),LC=function(){function o(l,f){(0,mo.Z)(this,o),this.engine=l,this.options=f,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var p=f,v=p.width,x=p.height,T=p.color,N=p.colors,z=p.depth,Z=p.stencil;T&&(this.colorTexture=T),z&&(this.depthTexture=z)}return(0,Rs.Z)(o,[{key:"get",value:function(){var f,p;return{color:(f=this.colorTexture)===null||f===void 0?void 0:f.get(),depth:(p=this.depthTexture)===null||p===void 0?void 0:p.get()}}},{key:"destroy",value:function(){var f,p;(f=this.colorTexture)===null||f===void 0||f.destroy(),(p=this.depthTexture)===null||p===void 0||p.destroy()}},{key:"resize",value:function(f){var p=f.width,v=f.height;if(p!==this.width||v!==this.height){var x,T;(x=this.colorTexture)===null||x===void 0||x.resize({width:p,height:v}),(T=this.depthTexture)===null||T===void 0||T.resize({width:p,height:v})}this.width=p,this.height=v}}]),o}(),wp,qh,Pd,gu,Od,ab,pv,D1=(wp={},(0,Pi.Z)(wp,qe.POINTS,Go.YV.PointList),(0,Pi.Z)(wp,qe.LINES,Go.YV.LineList),(0,Pi.Z)(wp,qe.LINE_LOOP,Go.YV.LineList),(0,Pi.Z)(wp,qe.LINE_STRIP,Go.YV.LineStrip),(0,Pi.Z)(wp,qe.TRIANGLES,Go.YV.TriangleList),(0,Pi.Z)(wp,qe.TRIANGLE_FAN,Go.YV.TriangleList),(0,Pi.Z)(wp,qe.TRIANGLE_STRIP,Go.YV.TriangleStrip),wp),FC=(qh={},(0,Pi.Z)(qh,qe.NEVER,Go.wb.Never),(0,Pi.Z)(qh,qe.ALWAYS,Go.wb.Always),(0,Pi.Z)(qh,qe.LESS,Go.wb.Less),(0,Pi.Z)(qh,qe.LEQUAL,Go.wb.LessEqual),(0,Pi.Z)(qh,qe.GREATER,Go.wb.Greater),(0,Pi.Z)(qh,qe.GEQUAL,Go.wb.GreaterEqual),(0,Pi.Z)(qh,qe.EQUAL,Go.wb.Equal),(0,Pi.Z)(qh,qe.NOTEQUAL,Go.wb.NotEqual),qh),N1=(Pd={},(0,Pi.Z)(Pd,qe.FUNC_ADD,Go.db.Add),(0,Pi.Z)(Pd,qe.MIN_EXT,Go.db.Min),(0,Pi.Z)(Pd,qe.MAX_EXT,Go.db.Max),(0,Pi.Z)(Pd,qe.FUNC_SUBTRACT,Go.db.Subtract),(0,Pi.Z)(Pd,qe.FUNC_REVERSE_SUBTRACT,Go.db.ReverseSubtract),Pd),lb=(gu={},(0,Pi.Z)(gu,qe.ZERO,Go.zi.Zero),(0,Pi.Z)(gu,qe.ONE,Go.zi.One),(0,Pi.Z)(gu,qe.SRC_COLOR,Go.zi.SrcColor),(0,Pi.Z)(gu,qe.ONE_MINUS_SRC_COLOR,Go.zi.OneMinusSrcColor),(0,Pi.Z)(gu,qe.SRC_ALPHA,Go.zi.SrcAlpha),(0,Pi.Z)(gu,qe.ONE_MINUS_SRC_ALPHA,Go.zi.OneMinusSrcAlpha),(0,Pi.Z)(gu,qe.DST_COLOR,Go.zi.DstColor),(0,Pi.Z)(gu,qe.ONE_MINUS_DST_COLOR,Go.zi.OneMinusDstColor),(0,Pi.Z)(gu,qe.DST_ALPHA,Go.zi.DstAlpha),(0,Pi.Z)(gu,qe.ONE_MINUS_DST_ALPHA,Go.zi.OneMinusDstAlpha),(0,Pi.Z)(gu,qe.CONSTANT_COLOR,Go.zi.BlendColor),(0,Pi.Z)(gu,qe.ONE_MINUS_CONSTANT_COLOR,Go.zi.OneMinusBlendColor),(0,Pi.Z)(gu,qe.SRC_ALPHA_SATURATE,Go.zi.SrcAlphaSaturated),gu),mx=(Od={},(0,Pi.Z)(Od,qe.ALPHA,"r8unorm"),(0,Pi.Z)(Od,qe.RGBA,"rgba8unorm"),(0,Pi.Z)(Od,qe.DEPTH_COMPONENT,"depth32float"),(0,Pi.Z)(Od,qe.DEPTH_STENCIL,"depth24plus-stencil8"),Od),_1=(ab={},(0,Pi.Z)(ab,qe.NEAREST,"nearest"),(0,Pi.Z)(ab,qe.LINEAR,"linear"),ab),Ng=(pv={},(0,Pi.Z)(pv,qe.REPEAT,"repeat"),(0,Pi.Z)(pv,qe.CLAMP_TO_EDGE,"clamp-to-edge"),(0,Pi.Z)(pv,qe.MIRRORED_REPEAT,"mirror-repeat"),pv);function fs(o){var l=o.cull;if(!l||!l.enable)return Go.Wf.None;if(l.face)return l.face===qe.FRONT?Go.Wf.Front:Go.Wf.Back}function Ow(o){var l=o.depth,f=o.stencil,p={compare:Go.wb.Always,depthFailOp:Go.xS.Keep,failOp:Go.xS.Keep,passOp:Go.xS.Keep};return{depthWriteEnabled:l&&l.enable,depthCompare:FC[(l==null?void 0:l.func)||qe.ALWAYS],format:Go.EV.Depth24PlusStencil8,stencilFront:p,stencilBack:p,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function vx(o,l){var f=o.blend;return[{format:l,alphaBlend:{srcFactor:lb[f&&f.func&&f.func.srcAlpha||qe.ONE],dstFactor:lb[f&&f.func&&f.func.dstAlpha||qe.ZERO],operation:N1[f&&f.equation&&f.equation.alpha||qe.FUNC_ADD]},colorBlend:{srcFactor:lb[f&&f.func&&f.func.srcRGB||qe.ONE],dstFactor:lb[f&&f.func&&f.func.dstRGB||qe.ZERO],operation:N1[f&&f.equation&&f.equation.rgb||qe.FUNC_ADD]},writeMask:Go.Yw.All}]}function yx(o,l){var f=Object.keys(o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);l&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable})),f.push.apply(f,p)}return f}function Ep(o){for(var l=1;l<arguments.length;l++){var f=arguments[l]!=null?arguments[l]:{};l%2?yx(Object(f),!0).forEach(function(p){(0,Pi.Z)(o,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(f)):yx(Object(f)).forEach(function(p){Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(f,p))})}return o}function k1(o){for(var l=0,f=arguments.length,p=new Array(f>1?f-1:0),v=1;v<f;v++)p[v-1]=arguments[v];for(var x=0,T=p;x<T.length;x++){var N=T[x];l+=N.length}for(var z=new o(l),Z=0,X=0,se=p;X<se.length;X++){var xe=se[X];z.set(xe,Z),Z+=xe.length}return z}var BC=function(){function o(l,f){(0,mo.Z)(this,o),this.engine=l,this.options=f,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return(0,Rs.Z)(o,[{key:"init",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){var v=this,x,T,N,z,Z,X,se,xe,be,Ie,De,Te,st,St,an,Nn,Ln,Dr;return qo().wrap(function(Ai){for(;;)switch(Ai.prev=Ai.next){case 0:return x=this.options,T=x.vs,N=x.fs,z=x.attributes,Z=x.uniforms,X=x.primitive,se=x.count,xe=x.elements,be=x.depth,Ie=x.blend,De=x.stencil,Te=x.cull,st=x.instances,Ai.next=3,this.compilePipelineStageDescriptor(T,N,null);case 3:St=Ai.sent,an=St.vertexStage,Nn=St.fragmentStage,Z&&this.buildUniformBindGroup(Z),xe&&(this.indexBuffer=xe.get(),this.indexCount=xe.indexCount),Ln={vertexBuffers:Object.keys(z).map(function(ko,Oi){var go=z[ko],Wi=go.get(),is=Wi.arrayStride,Bo=Wi.stepMode,ks=Wi.attributes;return v.attributeCache[ko]=go,{arrayStride:is,stepMode:Bo,attributes:ks}})},Dr={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:D1[X||qe.TRIANGLES],rasterizationState:Ep(Ep({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:fs({cull:Te})}),depthStencilState:Ow({depth:be,stencil:De}),colorStates:vx({blend:Ie},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:an,fragmentStage:Nn,vertexState:Ln},this.renderPipeline=this.engine.device.createRenderPipeline(Dr);case 11:case"end":return Ai.stop()}},p,this)}));function f(){return l.apply(this,arguments)}return f}()},{key:"addUniforms",value:function(f){this.uniforms=Ep(Ep({},this.uniforms),dv(f))}},{key:"draw",value:function(f){var p=this,v=this.engine.getCurrentRenderPass(),x=Ep(Ep({},this.uniforms),dv(f.uniforms||{})),T=[];Object.keys(x).forEach(function(N){var z=(0,Fi.Z)(x[N]);if(z==="boolean"||z==="number"||Array.isArray(x[N])||x[N].BYTES_PER_ELEMENT){var Z,X=(Z=p.uniformGPUBufferLayout.find(function(st){var St=st.name;return St===N}))===null||Z===void 0?void 0:Z.offset;X!==null&&p.uniformBuffer.subData({data:x[N],offset:X})}else{var se,xe=(se=p.uniformGPUBufferLayout.find(function(st){var St=st.name;return St===N}))===null||se===void 0?void 0:se.offset;if(xe!==null){var be=x[N].get(),Ie=be.color||be,De=Ie.texture,Te=Ie.sampler;Te&&(T.push({binding:xe,resource:Te}),xe++),T.push({binding:xe,resource:De.createView()})}}}),this.uniformBuffer&&(T[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:T}),this.renderPipeline&&v.setPipeline(this.renderPipeline),v.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&v.setIndexBuffer(this.indexBuffer.get(),Go.iD.Uint32,0),Object.keys(this.attributeCache).forEach(function(N,z){v.setVertexBuffer(0+z,p.attributeCache[N].get().buffer,0)}),this.indexBuffer?v.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):v.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var l=(0,Ks.Z)(qo().mark(function p(v,x,T){var N,z,Z;return qo().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(N=`#version 450
`,z=v,Z=x,this.engine.options.useWGSL){se.next=10;break}return se.next=6,this.compileShaderToSpirV(v,"vertex",N);case 6:return z=se.sent,se.next=9,this.compileShaderToSpirV(x,"fragment",N);case 9:Z=se.sent;case 10:return se.abrupt("return",this.createPipelineStageDescriptor(z,Z));case 11:case"end":return se.stop()}},p,this)}));function f(p,v,x){return l.apply(this,arguments)}return f}()},{key:"compileShaderToSpirV",value:function(f,p,v){return this.compileRawShaderToSpirV(v+f,p)}},{key:"compileRawShaderToSpirV",value:function(f,p){return this.engine.glslang.compileGLSL(f,p)}},{key:"createPipelineStageDescriptor",value:function(f,p){return{vertexStage:{module:this.engine.device.createShaderModule({code:f,isWHLSL:Qc}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:p,isWHLSL:Qc}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:Go.zX.CCW,cullMode:Go.Wf.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(f){var p=this,v=0,x=k1.apply(void 0,[Float32Array].concat((0,Zl.Z)(Object.keys(f).map(function(z){return f[z]?(p.uniformGPUBufferLayout.push({name:z,offset:v}),v+=(f[z].length||1)*4,f[z]):[]})))),T=[],N=!1;x.length&&(N=!0,T.push({binding:0,visibility:Go.$X.Fragment|Go.$X.Vertex,type:Go.$l.UniformBuffer})),Object.keys(f).filter(function(z){return f[z]===null}).forEach(function(z,Z){p.uniformGPUBufferLayout.push({name:z,offset:Z*2+(N?1:0)}),T.push({binding:Z*2+(N?1:0),visibility:Go.$X.Fragment,type:Go.$l.Sampler},{binding:Z*2+(N?1:0)+1,visibility:Go.$X.Fragment,type:Go.$l.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:T}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),N&&(this.uniformBuffer=new fc(this.engine,{data:x instanceof Array?new Float32Array(x):x,usage:Go.FB.Uniform|Go.FB.CopyDst}))}}]),o}(),L1=function(){function o(l,f){(0,mo.Z)(this,o),this.engine=l,this.options=f,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return(0,Rs.Z)(o,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(f){var p=f.width,v=f.height;(p!==this.width||v!==this.height)&&(this.destroy(),this.createTexture()),this.width=p,this.height=v}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var f=this.options,p=f.data,v=f.type,x=v===void 0?qe.UNSIGNED_BYTE:v,T=f.width,N=f.height,z=f.flipY,Z=z===void 0?!1:z,X=f.format,se=X===void 0?qe.RGBA:X,xe=f.mipmap,be=xe===void 0?!1:xe,Ie=f.wrapS,De=Ie===void 0?qe.CLAMP_TO_EDGE:Ie,Te=f.wrapT,st=Te===void 0?qe.CLAMP_TO_EDGE:Te,St=f.aniso,an=St===void 0?0:St,Nn=f.alignment,Ln=Nn===void 0?1:Nn,Dr=f.premultiplyAlpha,Ni=Dr===void 0?!1:Dr,Ai=f.mag,ko=Ai===void 0?qe.NEAREST:Ai,Oi=f.min,go=Oi===void 0?qe.NEAREST:Oi,Wi=f.colorSpace,is=Wi===void 0?qe.BROWSER_DEFAULT_WEBGL:Wi,Bo=f.usage;this.width=T,this.height=N,this.texture=this.engine.device.createTexture({size:[T,N,1],mipLevelCount:1,sampleCount:1,dimension:Go.kd.E2d,format:mx[se],usage:Bo||Go.v2.Sampled|Go.v2.CopyDst}),(!Bo||Bo&Go.v2.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:Ng[De],addressModeV:Ng[st],addressModeW:Ng[De],magFilter:_1[ko],minFilter:_1[go],maxAnisotropy:an}))}}]),o}(),Qh,Vf,Id,_g=(Qh=(0,Xi.b2)(),Qh(Vf=(Id=function(){function o(){var l=this;(0,mo.Z)(this,o),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(f){var p=f.framebuffer,v=f.color,x=f.depth,T=f.stencil;l.options.supportCompute&&l.startComputePass(),l.currentRenderTarget?(l.currentRenderPass&&l.endRenderTargetRenderPass(),l.startRenderTargetRenderPass(l.currentRenderTarget,v||null,!!x,!!T)):(l.mainColorAttachments[0].loadValue=v||Go.Ws.Load,l.mainDepthAttachment.depthLoadValue=x||Go.Ws.Load,l.mainDepthAttachment.stencilLoadValue=T?l.clearStencilValue:Go.Ws.Load,l.mainRenderPass&&l.endMainRenderPass(),l.startMainRenderPass())},this.createModel=function(){var f=(0,Ks.Z)(qo().mark(function p(v){var x;return qo().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return x=new BC(l,v),N.next=3,x.init();case 3:return N.abrupt("return",x);case 4:case"end":return N.stop()}},p)}));return function(p){return f.apply(this,arguments)}}(),this.createAttribute=function(f){return new _C(l,f)},this.createBuffer=function(f){return new fc(l,f)},this.createElements=function(f){return new kC(l,f)},this.createTexture2D=function(f){return new L1(l,f)},this.createFramebuffer=function(f){return new LC(l,f)},this.useFramebuffer=function(f,p){l.currentRenderTarget&&l.unbindFramebuffer(l.currentRenderTarget),l.currentRenderTarget=f,l.currentRenderTargetViewDescriptor={dimension:Go.p_.E2d,arrayLayerCount:1,aspect:Go.H7.All},l.currentRenderPass=null,p()},this.createComputeModel=function(){var f=(0,Ks.Z)(qo().mark(function p(v){var x;return qo().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return x=new gx(l,v),N.next=3,x.init();case 3:return N.abrupt("return",x);case 4:case"end":return N.stop()}},p)}));return function(p){return f.apply(this,arguments)}}(),this.getCanvas=function(){return l.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(f){var p=f.x,v=f.y,x=f.width,T=f.height;if(!l.currentRenderPass)l.transientViewport={x:p,y:v,width:x,height:T};else if(l.transientViewport.x!==1/0){var N=l.getCurrentRenderPass();N.setViewport(l.transientViewport.x,l.transientViewport.y,l.transientViewport.width,l.transientViewport.height,0,1)}else if(p!==l.cachedViewport.x||v!==l.cachedViewport.y||x!==l.cachedViewport.width||T!==l.cachedViewport.height){l.cachedViewport={x:p,y:v,width:x,height:T};var z=l.getCurrentRenderPass();z.setViewport(p,v,x,T,0,1)}},this.readPixels=function(f){throw new Error("Method not implemented.")}}return(0,Rs.Z)(o,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var l=(0,Ks.Z)(qo().mark(function p(v){return qo().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return this.canvas=v.canvas,this.options=v,this.useWGSL=!!v.useWGSL,this.mainPassSampleCount=v.antialiasing?this.defaultSampleCount:1,T.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return T.stop()}},p,this)}));function f(p){return l.apply(this,arguments)}return f}()},{key:"setScissor",value:function(f){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(f){return f.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),Qc?this.device.getQueue().submit(this.commandBuffers.filter(function(f){return f})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(f){return f}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){var v,x;return qo().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,Gf();case 2:return this.glslang=N.sent,N.next=5,(v=navigator)===null||v===void 0||(x=v.gpu)===null||x===void 0?void 0:x.requestAdapter();case 5:return this.adapter=N.sent,N.next=8,this.adapter.requestDevice();case 8:this.device=N.sent;case 9:case"end":return N.stop()}},p,this)}));function f(){return l.apply(this,arguments)}return f}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(Qc?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:Go.v2.OutputAttachment|Go.v2.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var f={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:Go.kd.E2d,format:Go.EV.BGRA8Unorm,usage:Go.v2.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(f),this.mainColorAttachments=[{attachment:Qc?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:Go.EG.Store}]}else this.mainColorAttachments=[{attachment:Qc?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:Go.EG.Store}];var p={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:Go.kd.E2d,format:Qc?"depth32float-stencil8":Go.EV.Depth24PlusStencil8,usage:Go.v2.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(p),this.mainDepthAttachment={attachment:Qc?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:Go.EG.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:Go.EG.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=Qc?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=Qc?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(f,p,v){var x,T,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,z=(x=f.get().color)===null||x===void 0?void 0:x.texture,Z;z&&(Z=z.createView(this.currentRenderTargetViewDescriptor));var X=(T=f.get().depth)===null||T===void 0?void 0:T.texture,se;X&&(se=X.createView());var xe=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:Z,loadValue:p!==null?p:Go.Ws.Load,storeOp:Go.EG.Store}],depthStencilAttachment:X&&se?{attachment:se,depthLoadValue:v?this.clearDepthValue:Go.Ws.Load,depthStoreOp:Go.EG.Store,stencilLoadValue:N?this.clearStencilValue:Go.Ws.Load,stencilStoreOp:Go.EG.Store}:void 0});this.currentRenderPass=xe,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&this.currentRenderPass!==null&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(f){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),o}(),Id))||Vf),ja,nu;function gv(o){var l=F1();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function F1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var Sc=4/64,mv=1-Sc*2,Sp=(ja=(0,Xi.b2)(),ja(nu=function(o){(0,ll.Z)(f,o);var l=gv(f);function f(){return(0,mo.Z)(this,f),l.apply(this,arguments)}return(0,Rs.Z)(f,[{key:"onEntityCreated",value:function(){var v=this.config,x=v.widthSegments,T=x===void 0?1:x,N=v.heightSegments,z=N===void 0?1:N,Z=v.depthSegments,X=Z===void 0?1:Z,se=v.halfExtents,xe=se===void 0?Os(.5,.5,.5):se,be=T,Ie=z,De=X,Te=(0,Ec.Z)(xe,3),st=Te[0],St=Te[1],an=Te[2],Nn=[Os(-st,-St,an),Os(st,-St,an),Os(st,St,an),Os(-st,St,an),Os(st,-St,-an),Os(-st,-St,-an),Os(-st,St,-an),Os(st,St,-an)],Ln=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],Dr=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],Ni={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},Ai=[],ko=[],Oi=[],go=[],Wi=[],is=0,Bo=function(va,rd,Nd){var Zg,jg,u0,xs;for(u0=0;u0<=rd;u0++)for(xs=0;xs<=Nd;xs++){var Al=da(),xc=da(),sc=da(),ac=da();Le(Al,Nn[Ln[va][0]],Nn[Ln[va][1]],u0/rd),Le(xc,Nn[Ln[va][0]],Nn[Ln[va][2]],xs/Nd),Vr(sc,xc,Nn[Ln[va][0]]),hl(ac,Al,sc),Zg=u0/rd,jg=xs/Nd,Ai.push(ac[0],ac[1],ac[2]),ko.push(Dr[va][0],Dr[va][1],Dr[va][2]),Oi.push(Zg,jg),Zg/=3,jg/=3,Zg=Zg*mv+Sc,jg=jg*mv+Sc,Zg+=va%3/3,jg+=Math.floor(va/3)/3,go.push(Zg,jg),u0<rd&&xs<Nd&&(Wi.push(is+Nd+1,is+1,is),Wi.push(is+Nd+1,is+Nd+2,is+1)),is++}};Bo(Ni.FRONT,be,Ie),Bo(Ni.BACK,be,Ie),Bo(Ni.TOP,be,De),Bo(Ni.BOTTOM,be,De),Bo(Ni.RIGHT,De,Ie),Bo(Ni.LEFT,De,Ie);var ks=pp(Ai),Sl=this.getComponent();Sl.indices=Uint32Array.from(Wi),Sl.aabb=ks,Sl.vertexCount=is,Sl.attributes=[{dirty:!0,name:"position",data:Float32Array.from(Ai),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(ko),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(Oi),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),f}(vp))||nu);function hc(o,l){if(!o&&!l)throw new Error("Please specify valid arguments for parameters a and b.");if(!l||l.length===0)return o;if(!o||o.length===0)return l;if(Object.prototype.toString.call(o)!==Object.prototype.toString.call(l))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var f=new o.constructor(o.length+l.length);return f.set(o),f.set(l,o.length),f}var vv,cb;function yv(o){var l=Pu();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function Pu(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var ub=(vv=(0,Xi.b2)(),vv(cb=function(o){(0,ll.Z)(f,o);var l=yv(f);function f(){return(0,mo.Z)(this,f),l.apply(this,arguments)}return(0,Rs.Z)(f,[{key:"onEntityCreated",value:function(){var v=this.config.geometries,x=v===void 0?[]:v,T=this.getComponent();T.aabb=new Nf;var N=[],z=[],Z=0;x.forEach(function(X){var se=X.aabb,xe=X.indices,be=X.vertexCount,Ie=X.attributes;T.aabb.add(se),T.vertexCount+=be,xe&&z.push.apply(z,(0,Zl.Z)(xe.map(function(De){return De+Z}))),Z+=be,Ie.forEach(function(De,Te){N[Te]?De.data&&(ic(De.data)?N[Te].push(De.data):b1(De.data)?N[Te].data=hc(N[Te].data,De.data):N[Te].data=N[Te].data.concat(De.data)):(N[Te]=De,N[Te].dirty=!0)})}),T.attributes=N,T.indices=Uint32Array.from(z),T.dirty=!0}}]),f}(vp))||cb),fb,r0;function Rd(o){var l=zC();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function zC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var B1=(fb=(0,Xi.b2)(),fb(r0=function(o){(0,ll.Z)(f,o);var l=Rd(f);function f(){return(0,mo.Z)(this,f),l.apply(this,arguments)}return(0,Rs.Z)(f,[{key:"onEntityCreated",value:function(){for(var v=this.config,x=v.halfExtents,T=x===void 0?[.5,.5]:x,N=v.widthSegments,z=N===void 0?5:N,Z=v.lengthSegments,X=Z===void 0?5:Z,se=[],xe=[],be=[],Ie=[],De=0,Te=0;Te<=z;Te++)for(var st=0;st<=X;st++){var St=-T[0]+2*T[0]*Te/z,an=0,Nn=-(-T[1]+2*T[1]*st/X),Ln=Te/z,Dr=st/X;se.push(St,an,Nn),xe.push(0,1,0),be.push(Ln,Dr),Te<z&&st<X&&(Ie.push(De+X+1,De+1,De),Ie.push(De+X+1,De+X+2,De+1)),De++}var Ni=pp(se),Ai=this.getComponent();Ai.indices=Uint32Array.from(Ie),Ai.aabb=Ni,Ai.vertexCount=De,Ai.attributes=[{dirty:!0,name:"position",data:Float32Array.from(se),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(xe),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(be),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),f}(vp))||r0),bv,i0;function Ch(o){var l=xv();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function xv(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var ed=(bv=(0,Xi.b2)(),bv(i0=function(o){(0,ll.Z)(f,o);var l=Ch(f);function f(){return(0,mo.Z)(this,f),l.apply(this,arguments)}return(0,Rs.Z)(f,[{key:"onEntityCreated",value:function(){for(var v=this.config,x=v.radius,T=x===void 0?.5:x,N=v.latitudeBands,z=N===void 0?16:N,Z=v.longitudeBands,X=Z===void 0?16:Z,se=[],xe=[],be=[],Ie=[],De=0;De<=z;De++)for(var Te=De*Math.PI/z,st=Math.sin(Te),St=Math.cos(Te),an=0;an<=X;an++){var Nn=an*2*Math.PI/X-Math.PI/2,Ln=Math.sin(Nn),Dr=Math.cos(Nn),Ni=Dr*st,Ai=St,ko=Ln*st,Oi=1-an/X,go=1-De/z;se.push(Ni*T,Ai*T,ko*T),xe.push(Ni,Ai,ko),be.push(Oi,go)}for(var Wi=0;Wi<z;++Wi)for(var is=0;is<X;++is){var Bo=Wi*(X+1)+is,ks=Bo+X+1;Ie.push(Bo+1,ks,Bo),Ie.push(Bo+1,ks+1,ks)}var Sl=pp(se),ru=this.getComponent();ru.indices=Uint32Array.from(Ie),ru.aabb=Sl,ru.vertexCount=se.length/3,ru.attributes=[{dirty:!0,name:"position",data:Float32Array.from(se),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(xe),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(be),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),f}(vp))||i0),o0,Ap,z1,kg,Lg,hb,db,G1;function V1(o){var l=Cv();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function Cv(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var wv=`varying vec4 fragColor;

#pragma include "uv.frag.declaration"
#pragma include "map.frag.declaration"

void main() {
  vec4 diffuseColor = fragColor;

  #pragma include "map.frag.main"

  gl_FragColor = diffuseColor;
}`,Fa=`attribute vec3 position;
attribute vec3 normal;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform vec4 color;

varying vec4 fragColor;

#pragma include "uv.vert.declaration"

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  fragColor = color;

  #pragma include "uv.vert.main"
}`,Z1=`// layout(set = 0, binding = 1) uniform WireframeUniforms {
//   float lineWidth;
//   vec4 lineColor;
// } wireframe;

layout(location = 0) in vec4 fragColor;
// layout(location = 1) in vec3 v_Barycentric;

layout(location = 0) out vec4 outColor;

// wireframe
// float edgeFactor() {
//   vec3 d = fwidth(v_Barycentric);
//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);
//   return min(min(a3.x, a3.y), a3.z);
// }

void main() {
  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));
  outColor = fragColor;
}`,Fg=`layout(set = 0, binding = 0) uniform Uniforms {
  vec4 color;
  mat4 projectionMatrix;
  mat4 modelViewMatrix;
} uniforms;

layout(location = 0) in vec3 position;
// layout(location = 1) in vec3 barycentric;

layout(location = 0) out vec4 fragColor;
// layout(location = 1) out vec3 v_Barycentric;

void main() {
  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);
  fragColor = uniforms.color;
  // v_Barycentric = barycentric;
}`,Mp=(o0=(0,Xi.b2)(),Ap=(0,Xi.f3)(zi.RenderEngine),z1=(0,Xi.f3)(zi.ShaderModuleService),o0(kg=(Lg=(G1=function(o){(0,ll.Z)(f,o);var l=V1(f);function f(){var p;(0,mo.Z)(this,f);for(var v=arguments.length,x=new Array(v),T=0;T<v;T++)x[T]=arguments[T];return p=l.call.apply(l,[this].concat(x)),ds(p,"engine",hb,(0,tl.Z)(p)),ds(p,"shaderModuleService",db,(0,tl.Z)(p)),p}return(0,Rs.Z)(f,[{key:"onEntityCreated",value:function(){var v=this.getComponent(),x=this.engine.supportWebGPU?Fg:Fa,T=this.engine.supportWebGPU?Z1:wv;this.shaderModuleService.registerModule("material-basic",{vs:x,fs:T});var N=this.shaderModuleService.getModule("material-basic"),z=N.vs,Z=N.fs,X=N.uniforms;v.vertexShaderGLSL=z,v.fragmentShaderGLSL=Z,v.setUniform(X),this.config.map&&(v.setDefines({USE_UV:1,USE_MAP:1}),v.setUniform({map:this.config.map,uvTransform:lf()}))}}]),f}(sv),G1),hb=Ds(Lg.prototype,"engine",[Ap],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),db=Ds(Lg.prototype,"shaderModuleService",[z1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lg))||kg),pb,GC,bx,Iw,xx,gb,mb,Tp,Zf,Ev,Sv,s0;function a0(o){var l=Cx();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function Cx(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var wx=`// generate grid, borrow from clay.gl viewer
// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl
#extension GL_OES_standard_derivatives : enable

varying vec3 v_Position;
// varying vec3 v_Normal;

uniform float u_GridSize : 5;
uniform float u_GridSize2 : .5;
uniform vec4 u_GridColor : [0, 0, 0, 1];
uniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];
uniform bool u_GridEnabled : true;

// uniform vec3 u_LightDirection;
// uniform vec3 u_LightColor;
// uniform vec3 u_Camera;

void main() {
  // vec3 n = v_Normal;
  // vec3 l = normalize(u_LightDirection);
  // float NdotL = clamp(dot(n, l), 0.001, 1.0);

  gl_FragColor = vec4(1.);

  if (u_GridEnabled) {
    float wx = v_Position.x;
    float wz = v_Position.z;
    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;
    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;

    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;
    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;

    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);
    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);
    // if (v0 > 0.1) {
        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);
    // }
    // else {
        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);
    // }
  }

  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);
  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;

  // gl_FragColor.rgb *= diffuseColor;
}`,Av=`attribute vec3 a_Position;

varying vec3 v_Position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

void main() {
  v_Position = a_Position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);
}`,vb=(pb=(0,Xi.b2)(),GC=(0,Xi.f3)(zi.Systems),bx=(0,Xi.t6)(zi.MaterialSystem),Iw=(0,Xi.f3)(zi.Systems),xx=(0,Xi.t6)(zi.GeometrySystem),gb=(0,Xi.f3)(zi.ShaderModuleService),pb(mb=(Tp=(s0=function(o){(0,ll.Z)(f,o);var l=a0(f);function f(){var p;(0,mo.Z)(this,f);for(var v=arguments.length,x=new Array(v),T=0;T<v;T++)x[T]=arguments[T];return p=l.call.apply(l,[this].concat(x)),ds(p,"materialSystem",Zf,(0,tl.Z)(p)),ds(p,"geometrySystem",Ev,(0,tl.Z)(p)),ds(p,"shaderModuleService",Sv,(0,tl.Z)(p)),p}return(0,Rs.Z)(f,[{key:"onAttributeChanged",value:function(v){var x=v.name,T=v.data,N=this.getMeshComponent();N&&N.material&&(x==="gridColor"?(N.material.setUniform("u_GridColor",T),N.material.setUniform("u_GridColor2",T)):x==="gridSize"&&(N.material.setUniform("u_GridSize",T),N.material.setUniform("u_GridSize2",T)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:Av,fs:wx});var v=this.shaderModuleService.getModule("grid"),x=v.vs,T=v.fs,N=v.uniforms,z=this.materialSystem.createShaderMaterial({vertexShader:x,fragmentShader:T});this.setMaterial(z);var Z=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(Z),z.setCull({enable:!1,face:qe.BACK}).setDepth({enable:!0,func:qe.LESS}),z.setUniform(N),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),Z.setIndex([0,3,2,2,1,0]),Z.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),f}(zf),s0),Zf=Ds(Tp.prototype,"materialSystem",[GC,bx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ev=Ds(Tp.prototype,"geometrySystem",[Iw,xx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sv=Ds(Tp.prototype,"shaderModuleService",[gb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tp))||mb),Pp=w(32644),Op=w(40582);function Bg(o,l,f,p,v){yb(l,p,-v),yb(l,p,v),o.push(f),o.push(f)}function yb(o,l,f){o.push([[l[0],l[1]],f])}function bb(o,l,f){var p=[0,0],v=[0,0],x=[0,0],T=[0,0],N=-1,z=!1,Z=null,X=(0,Pp.create)(),se=f||0,xe=3,be=[],Ie=[],De=[],Te=[0,0];l&&(o=o.slice(),o.push(o[0]));for(var st=o.length,St=1;St<st;St++){var an=se,Nn=o[St-1],Ln=o[St],Dr=St<o.length-1?o[St+1]:null;if(Te.push(St/st,St/st),(0,Op.o7)(p,Ln,Nn),Z||(Z=[0,0],(0,Op.mJ)(Z,p)),z||(z=!0,Bg(Ie,be,Nn,Z,1)),De.push([an+0,an+1,an+2]),!Dr)(0,Op.mJ)(Z,p),Bg(Ie,be,Ln,Z,1),De.push(N===1?[an,an+2,an+3]:[an+2,an+1,an+3]),se+=2;else{(0,Op.o7)(v,Dr,Ln);var Ni=(0,Op.x7)(x,T,p,v,1),Ai=(0,Pp.dot)(x,Z)<0?-1:1,ko=Ni>xe;if(!isFinite(Ni)){(0,Op.mJ)(Z,p),Bg(Ie,be,Ln,Z,1),De.push(N===1?[an,an+2,an+3]:[an+2,an+1,an+3]),se+=2,N=Ai;continue}ko?(Ni=xe,Te.push(St/st),yb(be,Z,-Ai),Ie.push(Ln),yb(be,T,Ni*Ai),Ie.push(Ln),De.push(N!==-Ai?[an,an+2,an+3]:[an+2,an+1,an+3]),De.push([an+2,an+3,an+4]),(0,Op.mJ)(X,v),(0,Pp.copy)(Z,X),yb(be,Z,-Ai),Ie.push(Ln),se+=3):(Bg(Ie,be,Ln,T,Ni),De.push(N===1?[an,an+2,an+3]:[an+2,an+1,an+3]),Ai=-1,(0,Pp.copy)(Z,T),se+=2),N=Ai}}return{normals:be,attrIndex:De,attrPos:Ie,attrCounters:Te}}var Ex,Sx,wa,Ip,j1,Rp,xb,l0,U1,Dd,Fn,Ao;function u(o){var l=n();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function n(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var i=`uniform float u_dash_array : 0.02;
uniform float u_dash_offset : 0;
uniform float u_dash_ratio : 0;
uniform float u_thickness : 0.02;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
    float blur = 1. - smoothstep(0.98, 1., length(v_normal));

    gl_FragColor = v_color;
    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));
}`,c=`attribute vec2 a_pos;
attribute vec4 a_color;
attribute float a_line_miter;
attribute vec2 a_line_normal;
attribute float a_counters;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform float u_thickness : 0.02;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
  v_color = a_color;
  v_counters = a_counters;

  vec3 normal = normalize(vec3(a_line_normal, 0.0));

  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);

  v_normal = vec2(normal * sign(a_line_miter));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;
}
`,d=(Ex=(0,Xi.b2)(),Sx=(0,Xi.f3)(zi.Systems),wa=(0,Xi.t6)(zi.MaterialSystem),Ip=(0,Xi.f3)(zi.Systems),j1=(0,Xi.t6)(zi.GeometrySystem),Rp=(0,Xi.f3)(zi.ShaderModuleService),Ex(xb=(l0=(Ao=function(o){(0,ll.Z)(f,o);var l=u(f);function f(){var p;(0,mo.Z)(this,f);for(var v=arguments.length,x=new Array(v),T=0;T<v;T++)x[T]=arguments[T];return p=l.call.apply(l,[this].concat(x)),ds(p,"materialSystem",U1,(0,tl.Z)(p)),ds(p,"geometrySystem",Dd,(0,tl.Z)(p)),ds(p,"shaderModuleService",Fn,(0,tl.Z)(p)),p.vertexCount=void 0,p}return(0,Rs.Z)(f,[{key:"onAttributeChanged",value:function(v){var x=v.name,T=v.data,N=this.getMeshComponent();if(N&&N.material)switch(x){case"dashArray":N.material.setUniform("u_dash_array",T);break;case"dashOffset":N.material.setUniform("u_dash_offset",T);break;case"dashRatio":N.material.setUniform("u_dash_ratio",T);break;case"thickness":N.material.setUniform("u_thickness",T);break;case"color":var z=new Array(this.vertexCount).fill(void 0).map(function(){return T}).reduce(function(Z,X){return[].concat((0,Zl.Z)(Z),(0,Zl.Z)(X))},[]);N.geometry.setAttribute("a_color",Float32Array.from(z),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]});break}}},{key:"onEntityCreated",value:function(){var v=this;this.shaderModuleService.registerModule("line",{vs:c,fs:i});var x=this.shaderModuleService.getModule("line"),T=x.vs,N=x.fs,z=x.uniforms,Z=this.materialSystem.createShaderMaterial({vertexShader:T,fragmentShader:N}),X=bb(this.config.points,!1),se=X.normals,xe=X.attrIndex,be=X.attrPos,Ie=X.attrCounters,De=be.length;this.vertexCount=De;var Te=this.geometrySystem.createBufferGeometry({vertexCount:De});this.setMaterial(Z),this.setGeometry(Te),Z.setCull({enable:!1,face:qe.BACK}).setUniform(z),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var st=[],St=[];se.forEach(function(Nn){var Ln=Nn[0],Dr=Nn[1];st.push([Ln[0],Ln[1]]),St.push(Dr)}),Te.setIndex(xe.reduce(function(Nn,Ln){return[].concat((0,Zl.Z)(Nn),(0,Zl.Z)(Ln))},[])),Te.setAttribute("a_pos",Float32Array.from(be.reduce(function(Nn,Ln){return[].concat((0,Zl.Z)(Nn),(0,Zl.Z)(Ln))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var an=new Array(De).fill(void 0).map(function(){return(0,Zl.Z)(v.config.color)}).reduce(function(Nn,Ln){return[].concat((0,Zl.Z)(Nn),(0,Zl.Z)(Ln))},[]);Te.setAttribute("a_color",Float32Array.from(an),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),Te.setAttribute("a_line_miter",Float32Array.from(St),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),Te.setAttribute("a_line_normal",Float32Array.from(st.reduce(function(Nn,Ln){return[].concat((0,Zl.Z)(Nn),(0,Zl.Z)(Ln))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),Te.setAttribute("a_counters",Float32Array.from(Ie),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),f}(zf),Ao),U1=Ds(l0.prototype,"materialSystem",[Sx,wa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dd=Ds(l0.prototype,"geometrySystem",[Ip,j1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fn=Ds(l0.prototype,"shaderModuleService",[Rp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l0))||xb);function m(o){return[o+1&255,o+1>>8&255,o+1>>8>>8&255]}var C,O,G,oe,le,ke,lt,Kt,Wn,Br,ti,gi;function wo(o,l){var f=Object.keys(o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);l&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable})),f.push.apply(f,p)}return f}function ns(o){for(var l=1;l<arguments.length;l++){var f=arguments[l]!=null?arguments[l]:{};l%2?wo(Object(f),!0).forEach(function(p){(0,Pi.Z)(o,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(f)):wo(Object(f)).forEach(function(p){Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(f,p))})}return o}function Xo(o){var l=Po();return function(){var p=(0,ba.Z)(o),v;if(l){var x=(0,ba.Z)(this).constructor;v=Reflect.construct(p,arguments,x)}else v=p.apply(this,arguments);return(0,Dl.Z)(this,v)}}function Po(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}var hs=`uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}`,ki=`attribute vec2 position;
attribute vec4 color;
attribute float shape;
attribute vec2 offset;
attribute float size;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

uniform float u_stroke_width : 0.01;
uniform float u_device_pixel_ratio;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "picking"

void main() {
  v_color = color;
  v_radius = size;

  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);

  // construct point coords
  v_data = vec4(position, antialiasblur, shape);

  gl_Position = projectionMatrix * modelViewMatrix
    * vec4(position * size + offset, 0.0, 1.0);

  setPickingColor(a_PickingColor);
}`,co=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],Us=(C=(0,Xi.b2)(),O=(0,Xi.f3)(zi.Systems),G=(0,Xi.t6)(zi.MaterialSystem),oe=(0,Xi.f3)(zi.Systems),le=(0,Xi.t6)(zi.GeometrySystem),ke=(0,Xi.f3)(zi.ShaderModuleService),C(lt=(Kt=(gi=function(o){(0,ll.Z)(f,o);var l=Xo(f);function f(){var p;(0,mo.Z)(this,f);for(var v=arguments.length,x=new Array(v),T=0;T<v;T++)x[T]=arguments[T];return p=l.call.apply(l,[this].concat(x)),ds(p,"materialSystem",Wn,(0,tl.Z)(p)),ds(p,"geometrySystem",Br,(0,tl.Z)(p)),ds(p,"shaderModuleService",ti,(0,tl.Z)(p)),p}return(0,Rs.Z)(f,[{key:"onAttributeChanged",value:function(v){var x=v.name,T=v.data,N=this.getMeshComponent();N&&N.material&&(x==="strokeWidth"?N.material.setUniform("u_stroke_width",T):x==="strokeColor"?N.material.setUniform("u_stroke_color",T):x==="strokeOpacity"?N.material.setUniform("u_stroke_opacity",T):x==="opacity"?N.material.setUniform("u_opacity",T):x==="blur"&&N.material.setUniform("u_blur",T))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:ki,fs:hs});var v=this.shaderModuleService.getModule("grid"),x=v.vs,T=v.fs,N=v.uniforms,z=this.materialSystem.createShaderMaterial({vertexShader:x,fragmentShader:T,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:qe.SRC_ALPHA,dstRGB:qe.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});z.setUniform(ns({u_device_pixel_ratio:window.devicePixelRatio},N));var Z=this.buildAttributes(),X=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:Z.instancedOffsets.length/2,vertexCount:6});X.setIndex([0,2,1,0,3,2]),X.setAttribute("position",Float32Array.from(Z.positions),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),X.setAttribute("offset",Float32Array.from(Z.instancedOffsets),{arrayStride:4*2,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),X.setAttribute("color",Float32Array.from(Z.instancedColors),{arrayStride:4*4,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),X.setAttribute("size",Float32Array.from(Z.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),X.setAttribute("shape",Float32Array.from(Z.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),X.setAttribute("a_PickingColor",Float32Array.from(Z.instancedPickingColors),{arrayStride:4*3,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(z),this.setGeometry(X)}},{key:"buildAttribute",value:function(v,x,T){var N,z,Z,X;(N=x.instancedPickingColors).push.apply(N,(0,Zl.Z)(m(v.id||T))),x.instancedShapes.push(co.indexOf(v.shape||"circle")),(z=x.instancedColors).push.apply(z,(0,Zl.Z)(v.color||[1,0,0,1])),(Z=x.instancedOffsets).push.apply(Z,(0,Zl.Z)(v.position||[0,0])),(X=x.instancedSizes).push.apply(X,(0,Zl.Z)(v.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var v=this,x={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(T,N){v.buildAttribute(T,x,N)}):this.buildAttribute(this.config,x,0),x}}]),f}(zf),gi),Wn=Ds(Kt.prototype,"materialSystem",[O,G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Br=Ds(Kt.prototype,"geometrySystem",[oe,le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ti=Ds(Kt.prototype,"shaderModuleService",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kt))||lt),pa,fa,qs,Qa,Da,yl,Yl,ul,Ba,bc;function Jl(o,l){var f;if(typeof Symbol=="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(f=yf(o))||l&&o&&typeof o.length=="number"){f&&(o=f);var p=0,v=function(){};return{s:v,n:function(){return p>=o.length?{done:!0}:{done:!1,value:o[p++]}},e:function(Z){throw Z},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,T=!1,N;return{s:function(){f=o[Symbol.iterator]()},n:function(){var Z=f.next();return x=Z.done,Z},e:function(Z){T=!0,N=Z},f:function(){try{!x&&f.return!=null&&f.return()}finally{if(T)throw N}}}}function yf(o,l){if(o){if(typeof o=="string")return jf(o,l);var f=Object.prototype.toString.call(o).slice(8,-1);if(f==="Object"&&o.constructor&&(f=o.constructor.name),f==="Map"||f==="Set")return Array.from(o);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return jf(o,l)}}function jf(o,l){(l==null||l>o.length)&&(l=o.length);for(var f=0,p=new Array(l);f<l;f++)p[f]=o[f];return p}var Dp=`#ifdef USE_MAP
  uniform sampler2D map;
#endif`,td=`#ifdef USE_MAP
  vec4 texelColor = texture2D(map, vUv);
  // texelColor = mapTexelToLinear(texelColor);
  diffuseColor *= texelColor;
#endif`,Mv=`#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))
  varying vec2 vUv;
#endif`,W1=`#ifdef USE_UV
  attribute vec2 uv;
	#ifdef UVS_VERTEX_ONLY
    vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Rw=`#ifdef USE_UV
  vUv = (uvTransform * vec3(uv, 1)).xy;
#endif`,Ax=(pa=(0,Xi.b2)(),fa=(0,Xi.f3)(zi.RenderEngine),qs=(0,Xi.f3)(zi.ShaderModuleService),Qa=(0,Xi.f3)(zi.ConfigService),pa(Da=(yl=(bc=function(){function o(){(0,mo.Z)(this,o),this.container=void 0,ds(this,"engine",Yl,this),ds(this,"shaderModule",ul,this),ds(this,"configService",Ba,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return(0,Rs.Z)(o,[{key:"init",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){var v,x,T,N,z;return qo().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:W1}),this.shaderModule.registerModule("uv.vert.main",{vs:Rw}),this.shaderModule.registerModule("uv.frag.declaration",{fs:Mv}),this.shaderModule.registerModule("map.frag.declaration",{fs:Dp}),this.shaderModule.registerModule("map.frag.main",{fs:td}),v=this.container.getAll(zi.Systems),x=this.configService.get(),!x.canvas){X.next=30;break}return X.next=11,this.engine.init({canvas:x.canvas,swapChainFormat:Go.EV.BGRA8Unorm,antialiasing:!1});case 11:T=Jl(v),X.prev=12,T.s();case 14:if((N=T.n()).done){X.next=21;break}if(z=N.value,!z.initialize){X.next=19;break}return X.next=19,z.initialize();case 19:X.next=14;break;case 21:X.next=26;break;case 23:X.prev=23,X.t0=X.catch(12),T.e(X.t0);case 26:return X.prev=26,T.f(),X.finish(26);case 29:this.inited=!0;case 30:case"end":return X.stop()}},p,this,[[12,23,26,29]])}));function f(){return l.apply(this,arguments)}return f}()},{key:"render",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){var v,x,T,N,z,Z,X,se=arguments;return qo().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(!(!this.inited||this.rendering)){be.next=2;break}return be.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(Ie){Ie()}),this.rendering=!0,this.engine.beginFrame(),v=this.container.getAll(zi.Systems),x=se.length,T=new Array(x),N=0;N<x;N++)T[N]=se[N];z=Jl(v),be.prev=8,z.s();case 10:if((Z=z.n()).done){be.next=17;break}if(X=Z.value,!X.execute){be.next=15;break}return be.next=15,X.execute(T);case 15:be.next=10;break;case 17:be.next=22;break;case 19:be.prev=19,be.t0=be.catch(8),z.e(be.t0);case 22:return be.prev=22,z.f(),be.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return be.stop()}},p,this,[[8,19,22,25]])}));function f(){return l.apply(this,arguments)}return f}()},{key:"clear",value:function(f){var p=this;return this.inited?this.engine.clear(f):this.pendings.unshift(function(){p.engine.clear(f),p.pendings.shift()}),this}},{key:"setSize",value:function(f){var p=f.width,v=f.height,x=this.engine.getCanvas();return this.size={width:p,height:v},x.width=p,x.height=v,this}},{key:"getSize",value:function(){return this.size}}]),o}(),bc),Yl=Ds(yl.prototype,"engine",[fa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ul=Ds(yl.prototype,"shaderModule",[qs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ba=Ds(yl.prototype,"configService",[Qa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yl))||Da),Mx,Tx,VC,Cb=(Mx=(0,Xi.b2)(),Mx(Tx=(VC=function(){function o(){(0,mo.Z)(this,o),this.entities=[]}return(0,Rs.Z)(o,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(f){return this.addEntity(f.getEntity()),this}},{key:"removeRenderable",value:function(f){return this.removeEntity(f.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(f){return this.entities.indexOf(f)===-1&&this.entities.push(f),this}},{key:"removeEntity",value:function(f){var p=this.entities.indexOf(f);return this.entities.splice(p,1),this}}]),o}(),VC))||Tx),Dw,ZC,Nw,Px=(Dw=(0,Xi.b2)(),Dw(ZC=(Nw=function(){function o(){(0,mo.Z)(this,o),this.cache={}}return(0,Rs.Z)(o,[{key:"get",value:function(f){return this.cache[f]}},{key:"set",value:function(f,p){this.cache[f]=p}}]),o}(),Nw))||ZC),Ac,Tv,Pv,zg,c0,Ox,Ix,jC;function UC(o,l){var f=Object.keys(o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);l&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable})),f.push.apply(f,p)}return f}function WC(o){for(var l=1;l<arguments.length;l++){var f=arguments[l]!=null?arguments[l]:{};l%2?UC(Object(f),!0).forEach(function(p){(0,Pi.Z)(o,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(f)):UC(Object(f)).forEach(function(p){Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(f,p))})}return o}var nd=(Ac=(0,Xi.b2)(),Tv=(0,Xi.f3)(Px),Pv=(0,Xi.f3)(zi.RenderEngine),Ac(zg=(c0=(jC=function(){function o(){(0,mo.Z)(this,o),ds(this,"textureCache",Ox,this),ds(this,"engine",Ix,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return(0,Rs.Z)(o,[{key:"setConfig",value:function(f){this.config=f}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){var v=this;return qo().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!this.config.url){T.next=4;break}return T.abrupt("return",new Promise(function(N,z){var Z=v.textureCache.get(v.config.url);if(Z)N(Z);else{var X=new Image;X.crossOrigin="Anonymous",X.src=v.config.url,X.onload=function(){var se=v.engine.createTexture2D(WC(WC({},v.config),{},{data:X,width:X.width,height:X.height,flipY:!0}));v.textureCache.set(v.config.url,se),v.texture=se,v.loaded=!0,N(se)},X.onerror=function(){z()}}}));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),T.abrupt("return",this.texture);case 7:case"end":return T.stop()}},p,this)}));function f(){return l.apply(this,arguments)}return f}()}]),o}(),jC),Ox=Ds(c0.prototype,"textureCache",[Tv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ix=Ds(c0.prototype,"engine",[Pv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c0))||zg),$C,_w,Xu,kw,Rx,Mc,Lw,Fw=($C=(0,Xi.b2)(),_w=(0,Xi.f3)(zi.Systems),Xu=(0,Xi.t6)(zi.RendererSystem),$C(kw=(Rx=(Lw=function(){function o(){(0,mo.Z)(this,o),ds(this,"rendererSystem",Mc,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return(0,Rs.Z)(o,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(f){return this.camera=f,this}},{key:"setScene",value:function(f){return this.scene=f,this}},{key:"setViewport",value:function(f){return this.viewport=f,this}},{key:"setClearColor",value:function(f){return this.clearColor=f,this}},{key:"pick",value:function(f){return this.rendererSystem.pick(f,this)}}]),o}(),Lw),Mc=Ds(Rx.prototype,"rendererSystem",[_w,Xu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rx))||kw),Np,HC,Dx,KC,XC,YC;function JC(o,l){var f=Object.keys(o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);l&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable})),f.push.apply(f,p)}return f}function Bw(o){for(var l=1;l<arguments.length;l++){var f=arguments[l]!=null?arguments[l]:{};l%2?JC(Object(f),!0).forEach(function(p){(0,Pi.Z)(o,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(f)):JC(Object(f)).forEach(function(p){Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(f,p))})}return o}var $1=(Np=(0,Xi.b2)(),HC=(0,Xi.f3)(zi.ConfigService),Np(Dx=(KC=(YC=function(){function o(){(0,mo.Z)(this,o),ds(this,"configService",XC,this),this.container=void 0}return(0,Rs.Z)(o,[{key:"getEngine",value:function(){var l=(0,Ks.Z)(qo().mark(function p(){var v,x,T,N;return qo().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return v=this.container.get(zi.RenderEngine),x=this.configService.get(),T=x.canvas,N=x.engineOptions,Z.next=4,v.init(Bw({canvas:T||nC(),swapChainFormat:Go.EV.BGRA8Unorm,antialiasing:!1},N));case 4:return Z.abrupt("return",v);case 5:case"end":return Z.stop()}},p,this)}));function f(){return l.apply(this,arguments)}return f}()},{key:"getTransformComponent",value:function(f){var p=this.container.get(zi.TransformComponentManager);return p.getComponentByEntity(f)}},{key:"getMeshComponent",value:function(f){var p=this.container.get(zi.MeshComponentManager);return p.getComponentByEntity(f)}},{key:"setConfig",value:function(f){this.configService.set(f)}},{key:"setContainer",value:function(f){this.container=f}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Zc()}},{key:"createScene",value:function(){return this.container.get(Cb)}},{key:"createCamera",value:function(){return this.container.get(k2)}},{key:"createView",value:function(){return this.container.get(Fw)}},{key:"createRenderable",value:function(f,p){var v=f?this.container.getNamed(zi.Renderable,f):this.container.get(zf),x=Zc();return v.setConfig(p||{}),v.setEntity(x),v}},{key:"createGeometry",value:function(f,p){var v=this.container.getNamed(zi.Geometry,f),x=Zc();return v.setConfig(p||{}),v.setEntity(x),v.getComponent()}},{key:"createMaterial",value:function(f,p){var v=this.container.getNamed(zi.Material,f),x=Zc();return v.setConfig(p||{}),v.setEntity(x,f),v.getComponent()}},{key:"createTexture2D",value:function(f){var p=this.container.get(nd);return p.setConfig(f),p}},{key:"createBufferGeometry",value:function(f){var p=this.container.getNamed(zi.Systems,zi.GeometrySystem);return p.createBufferGeometry(f)}},{key:"createInstancedBufferGeometry",value:function(f){var p=this.container.getNamed(zi.Systems,zi.GeometrySystem);return p.createInstancedBufferGeometry(f)}},{key:"createShaderMaterial",value:function(f){var p=this.container.getNamed(zi.Systems,zi.MaterialSystem);return p.createShaderMaterial(f)}},{key:"createKernel",value:function(f){var p=this.container.get(mh);return typeof f=="string"?p.setBundle(JSON.parse(f)):p.setBundle(f),p.init(),p}},{key:"createRenderer",value:function(){var f=this.container.get(Ax);return f.container=this.container,f.init(),f}},{key:"destroy",value:function(){var f=this.container.getAll(zi.Systems);f.forEach(function(x){x.tearDown&&x.tearDown()});var p=this.container.get(zi.RenderEngine);p.destroy();var v=this.container.get(zi.InteractorService);v.destroy()}}],[{key:"create",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=ky(),v=navigator.gpu?_g:DC;p.isBound(zi.RenderEngine)||p.bind(zi.RenderEngine).to(v).inSingletonScope(),p.bind(Ax).toSelf(),p.bind(mh).toSelf(),p.bind(zf).toSelf(),p.bind(Fw).toSelf(),p.bind(k2).toSelf(),p.bind(Cb).toSelf(),p.bind(o).toSelf(),p.bind(Px).toSelf(),p.bind(nd).toSelf(),p.bind(zi.Geometry).to(Sp).whenTargetNamed(vp.BOX),p.bind(zi.Geometry).to(ed).whenTargetNamed(vp.SPHERE),p.bind(zi.Geometry).to(B1).whenTargetNamed(vp.PLANE),p.bind(zi.Geometry).to(ub).whenTargetNamed(vp.MERGED),p.bind(zi.Material).to(Mp).whenTargetNamed(sv.BASIC),p.bind(zi.Renderable).to(Us).whenTargetNamed(zf.POINT),p.bind(zi.Renderable).to(d).whenTargetNamed(zf.LINE),p.bind(zi.Renderable).to(vb).whenTargetNamed(zf.GRID);var x=p.get(o);return x.setContainer(p),x.setConfig(f),x}}]),o}(),YC),XC=Ds(KC.prototype,"configService",[HC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),KC))||Dx);const Ov=(o,l)=>{let f;return o?F(o)?f=()=>o:f=o:f=()=>l||1,f},Iv=(o,l)=>{const f=[],p=[],v={};let x=0;for(x=0;x<o.length;x++){const N=o[x];v[N.id]=x,f.push(N.x),f.push(N.y),f.push(0),f.push(0),p.push([])}for(x=0;x<l.length;x++){const N=l[x],z=ue(N,"source"),Z=ue(N,"target");p[v[z]].push(v[Z]),p[v[Z]].push(v[z])}let T=0;for(x=0;x<o.length;x++){const N=f.length,z=p[x],Z=z.length;f[x*4+2]=N,f[x*4+3]=z.length,T=Math.max(T,z.length);for(let X=0;X<Z;++X){const se=z[X];f.push(+se)}}for(;f.length%4!==0;)f.push(0);return{maxEdgePerVetex:T,array:new Float32Array(f)}},qC=(o,l,f,p)=>{const v=[],x=[],T={};let N=0;for(N=0;N<o.length;N++){const Z=o[N];T[Z.id]=N,v.push(Z.x),v.push(Z.y),v.push(0),v.push(0),x.push([])}for(N=0;N<l.length;N++){const Z=l[N],X=ue(Z,"source"),se=ue(Z,"target");x[T[X]].push(T[se]),x[T[X]].push(f(Z)),x[T[X]].push(p(Z)),x[T[X]].push(0),x[T[se]].push(T[X]),x[T[se]].push(f(Z)),x[T[se]].push(p(Z)),x[T[se]].push(0)}let z=0;for(N=0;N<o.length;N++){const Z=v.length,X=x[N],se=X.length;v[N*4+2]=Z+1048576*se/4,v[N*4+3]=0,z=Math.max(z,se/4);for(let xe=0;xe<se;++xe){const be=X[xe];v.push(+be)}}for(;v.length%4!==0;)v.push(0);return{maxEdgePerVetex:z,array:new Float32Array(v)}},Nx=(o,l)=>{const f=[],p=o.length,v={};return l.forEach(x=>{o.forEach((T,N)=>{if(v[x[T]]===void 0&&(v[x[T]]=Object.keys(v).length),f.push(v[x[T]]),N===p-1)for(;f.length%4!==0;)f.push(0)})}),{array:new Float32Array(f),count:Object.keys(v).length}},_p=o=>{const l=[],f=o.length,p=o[0].length;for(let v=0;v<p;v++)o.forEach((x,T)=>{if(l.push(x[v]),T===f-1)for(;l.length%4!==0;)l.push(0)});return new Float32Array(l)},QC=null,ew='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',QE=null,EE='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}';var _x=function(o,l,f,p){function v(x){return x instanceof f?x:new f(function(T){T(x)})}return new(f||(f=Promise))(function(x,T){function N(X){try{Z(p.next(X))}catch(se){T(se)}}function z(X){try{Z(p.throw(X))}catch(se){T(se)}}function Z(X){X.done?x(X.value):v(X.value).then(N,z)}Z((p=p.apply(o,l||[])).next())})};class zw extends Vt{constructor(l){super(),this.maxIteration=1e3,this.gravity=10,this.speed=1,this.clustering=!1,this.clusterField="cluster",this.clusterGravity=10,this.workerEnabled=!1,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(l)}getDefaultCfg(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}execute(){return _x(this,void 0,void 0,function*(){const l=this,f=l.nodes;if(!f||f.length===0){l.onLayoutEnd&&l.onLayoutEnd();return}!l.width&&typeof window!="undefined"&&(l.width=window.innerWidth),!l.height&&typeof window!="undefined"&&(l.height=window.innerHeight),l.center||(l.center=[l.width/2,l.height/2]);const p=l.center;if(f.length===1){f[0].x=p[0],f[0].y=p[1],l.onLayoutEnd&&l.onLayoutEnd();return}const v={},x={};f.forEach((T,N)=>{F(T.x)||(T.x=Math.random()*this.width),F(T.y)||(T.y=Math.random()*this.height),v[T.id]=T,x[T.id]=N}),l.nodeMap=v,l.nodeIdxMap=x,yield l.run()})}executeWithWorker(l,f){return _x(this,void 0,void 0,function*(){const p=this,v=p.nodes,x=p.center;if(!v||v.length===0)return;if(v.length===1){v[0].x=x[0],v[0].y=x[1];return}const T={},N={};v.forEach((z,Z)=>{F(z.x)||(z.x=Math.random()*this.width),F(z.y)||(z.y=Math.random()*this.height),T[z.id]=z,N[z.id]=Z}),p.nodeMap=T,p.nodeIdxMap=N,yield p.run(l,f)})}run(l,f){return _x(this,void 0,void 0,function*(){const p=this,v=p.nodes,x=p.edges,T=p.maxIteration,N=p.center,z=p.height*p.width;let Z=Math.sqrt(z)/10;const X=z/(v.length+1),se=Math.sqrt(X),xe=p.speed,be=p.clustering,{array:Ie,count:De}=Nx([p.clusterField],v);v.forEach((Oi,go)=>{let Wi=0,is=0;F(Oi.fx)&&F(Oi.fy)&&(Wi=Oi.fx||.001,is=Oi.fy||.001),Ie[4*go+1]=Wi,Ie[4*go+2]=is});const Te=v.length,{maxEdgePerVetex:st,array:St}=Iv(v,x),an=p.workerEnabled;let Nn;an?Nn=$1.create({canvas:l,engineOptions:{supportCompute:!0}}):Nn=$1.create({engineOptions:{supportCompute:!0}});const Ln=p.onLayoutEnd,Dr=[];for(let Oi=0;Oi<De;Oi++)Dr.push(0,0,0,0);const Ni=Nn.createKernel(ew).setDispatch([Te,1,1]).setBinding({u_Data:St,u_K:se,u_K2:X,u_Gravity:p.gravity,u_ClusterGravity:p.clusterGravity||p.gravity||1,u_Speed:xe,u_MaxDisplace:Z,u_Clustering:be?1:0,u_Center:N,u_AttributeArray:Ie,u_ClusterCenters:Dr,MAX_EDGE_PER_VERTEX:st,VERTEX_COUNT:Te});let Ai;be&&(Ai=Nn.createKernel(EE).setDispatch([De,1,1]).setBinding({u_Data:St,u_NodeAttributes:Ie,u_ClusterCenters:Dr,VERTEX_COUNT:Te,CLUSTER_COUNT:De})),yield _x(this,void 0,void 0,function*(){for(let go=0;go<T;go++)yield Ni.execute(),be&&(Ai.setBinding({u_Data:Ni}),yield Ai.execute(),Ni.setBinding({u_ClusterCenters:Ai})),Ni.setBinding({u_MaxDisplace:Z*=.99});const Oi=yield Ni.getOutput();l?f.postMessage({type:Y.GPUEND,vertexEdgeData:Oi}):v.forEach((go,Wi)=>{const is=Oi[4*Wi],Bo=Oi[4*Wi+1];go.x=is,go.y=Bo}),Ln&&Ln()})})}getType(){return"fruchterman-gpu"}}const eS=null,SE='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',tS=null,kx='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}';var wb=function(o,l,f,p){function v(x){return x instanceof f?x:new f(function(T){T(x)})}return new(f||(f=Promise))(function(x,T){function N(X){try{Z(p.next(X))}catch(se){T(se)}}function z(X){try{Z(p.throw(X))}catch(se){T(se)}}function Z(X){X.done?x(X.value):v(X.value).then(N,z)}Z((p=p.apply(o,l||[])).next())})};class oc extends Vt{constructor(l){super(),this.maxIteration=1e3,this.edgeStrength=200,this.nodeStrength=1e3,this.coulombDisScale=.005,this.damping=.9,this.maxSpeed=1e3,this.minMovement=.5,this.interval=.02,this.factor=1,this.linkDistance=1,this.gravity=10,this.workerEnabled=!1,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(l)}getDefaultCfg(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}}execute(){return wb(this,void 0,void 0,function*(){const l=this,f=l.nodes;if(!f||f.length===0){l.onLayoutEnd&&l.onLayoutEnd();return}!l.width&&typeof window!="undefined"&&(l.width=window.innerWidth),!l.height&&typeof window!="undefined"&&(l.height=window.innerHeight),l.center||(l.center=[l.width/2,l.height/2]);const p=l.center;if(f.length===1){f[0].x=p[0],f[0].y=p[1],l.onLayoutEnd&&l.onLayoutEnd();return}const v={},x={};f.forEach((T,N)=>{F(T.x)||(T.x=Math.random()*l.width),F(T.y)||(T.y=Math.random()*l.height),v[T.id]=T,x[T.id]=N}),l.nodeMap=v,l.nodeIdxMap=x,l.nodeStrength=Ov(l.nodeStrength,1),l.edgeStrength=Ov(l.edgeStrength,1),yield l.run()})}executeWithWorker(l,f){const p=this,v=p.nodes,x=p.center;if(!v||v.length===0)return;if(v.length===1){v[0].x=x[0],v[0].y=x[1];return}const T={},N={};v.forEach((z,Z)=>{F(z.x)||(z.x=Math.random()*p.width),F(z.y)||(z.y=Math.random()*p.height),T[z.id]=z,N[z.id]=Z}),p.nodeMap=T,p.nodeIdxMap=N,p.nodeStrength=Ov(p.nodeStrength,1),p.edgeStrength=Ov(p.edgeStrength,1),p.run(l,f)}run(l,f){return wb(this,void 0,void 0,function*(){const p=this,v=p.nodes,x=p.edges,T=p.maxIteration;!p.width&&typeof window!="undefined"&&(p.width=window.innerWidth),!p.height&&typeof window!="undefined"&&(p.height=window.innerHeight);const N=v.length;p.linkDistance=Ov(p.linkDistance),p.edgeStrength=Ov(p.edgeStrength);const{maxEdgePerVetex:z,array:Z}=qC(v,x,p.linkDistance,p.edgeStrength);p.degrees=re(v.length,p.nodeIdxMap,x);const X=[],se=[],xe=[],be=[],Ie=[],De=[],Te=[];p.getMass||(p.getMass=Wi=>p.degrees[p.nodeIdxMap[Wi.id]]||1);const st=p.gravity,St=p.center;v.forEach((Wi,is)=>{X.push(p.getMass(Wi)),se.push(p.nodeStrength(Wi)),p.degrees[is]||(p.degrees[is]=0);let Bo=[St[0],St[1],st];if(p.getCenter){const ks=p.getCenter(Wi,p.degrees[is]);ks&&F(ks[0])&&F(ks[1])&&F(ks[2])&&(Bo=ks)}xe.push(Bo[0]),be.push(Bo[1]),Ie.push(Bo[2]),F(Wi.fx)&&F(Wi.fy)?(De.push(Wi.fx||.001),Te.push(Wi.fy||.001)):(De.push(0),Te.push(0))});const an=_p([X,p.degrees,se,De]),Nn=_p([xe,be,Ie,Te]),Ln=p.workerEnabled;let Dr;Ln?Dr=$1.create({canvas:l,engineOptions:{supportCompute:!0}}):Dr=$1.create({engineOptions:{supportCompute:!0}});const Ni=p.onLayoutEnd,Ai=[];Z.forEach(Wi=>{Ai.push(Wi)});for(let Wi=0;Wi<4;Wi++)Ai.push(0);const ko=Dr.createKernel(SE).setDispatch([N,1,1]).setBinding({u_Data:Z,u_damping:p.damping,u_maxSpeed:p.maxSpeed,u_minMovement:p.minMovement,u_coulombDisScale:p.coulombDisScale,u_factor:p.factor,u_NodeAttributeArray1:an,u_NodeAttributeArray2:Nn,MAX_EDGE_PER_VERTEX:z,VERTEX_COUNT:N,u_AveMovement:Ai,u_interval:p.interval}),Oi=Dr.createKernel(kx).setDispatch([1,1,1]).setBinding({u_Data:Z,VERTEX_COUNT:N,u_AveMovement:[0,0,0,0]});yield wb(this,void 0,void 0,function*(){for(let is=0;is<T;is++){yield ko.execute(),Oi.setBinding({u_Data:ko}),yield Oi.execute();const Bo=Math.max(.02,p.interval-is*.002);ko.setBinding({u_interval:Bo,u_AveMovement:Oi})}const Wi=yield ko.getOutput();l?f.postMessage({type:Y.GPUEND,vertexEdgeData:Wi}):v.forEach((is,Bo)=>{const ks=Wi[4*Bo],Sl=Wi[4*Bo+1];is.x=ks,is.y=Sl}),Ni&&Ni()})})}getType(){return"gForce-gpu"}}class AE extends Vt{constructor(l){super(),this.center=[0,0],this.maxIteration=100,this.gravity=10,this.comboGravity=10,this.linkDistance=10,this.alpha=1,this.alphaMin=.001,this.alphaDecay=1-Math.pow(this.alphaMin,1/300),this.alphaTarget=0,this.velocityDecay=.6,this.edgeStrength=.6,this.nodeStrength=30,this.preventOverlap=!1,this.preventNodeOverlap=!1,this.preventComboOverlap=!1,this.collideStrength=void 0,this.nodeCollideStrength=.5,this.comboCollideStrength=.5,this.comboSpacing=20,this.comboPadding=10,this.optimizeRangeFactor=1,this.onTick=()=>{},this.onLayoutEnd=()=>{},this.depthAttractiveForceScale=1,this.depthRepulsiveForceScale=2,this.nodes=[],this.edges=[],this.combos=[],this.comboTrees=[],this.width=300,this.height=300,this.bias=[],this.nodeMap={},this.oriComboMap={},this.indexMap={},this.comboMap={},this.previousLayouted=!1,this.updateCfg(l)}getDefaultCfg(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}}execute(){const l=this,f=l.nodes,p=l.center;if(l.comboTree={id:"comboTreeRoot",depth:-1,children:l.comboTrees},!f||f.length===0){l.onLayoutEnd&&l.onLayoutEnd();return}if(f.length===1){f[0].x=p[0],f[0].y=p[1],l.onLayoutEnd&&l.onLayoutEnd();return}l.initVals(),l.run(),l.onLayoutEnd&&l.onLayoutEnd()}run(){const l=this,f=l.nodes,p=l.previousLayouted?l.maxIteration/5:l.maxIteration;!l.width&&typeof window!="undefined"&&(l.width=window.innerWidth),!l.height&&typeof window!="undefined"&&(l.height=window.innerHeight);const v=l.center,x=l.velocityDecay,T=l.comboMap;l.previousLayouted||l.initPos(T);for(let Z=0;Z<p;Z++){const X=[];f.forEach((se,xe)=>{X[xe]={x:0,y:0}}),l.applyCalculate(X),l.applyComboCenterForce(X),f.forEach((se,xe)=>{!F(se.x)||!F(se.y)||(se.x+=X[xe].x*x,se.y+=X[xe].y*x)}),l.alpha+=(l.alphaTarget-l.alpha)*l.alphaDecay,l.onTick()}const N=[0,0];f.forEach(Z=>{!F(Z.x)||!F(Z.y)||(N[0]+=Z.x,N[1]+=Z.y)}),N[0]/=f.length,N[1]/=f.length;const z=[v[0]-N[0],v[1]-N[1]];f.forEach((Z,X)=>{!F(Z.x)||!F(Z.y)||(Z.x+=z[0],Z.y+=z[1])}),l.combos.forEach(Z=>{const X=T[Z.id];X&&X.empty&&(Z.x=X.cx||Z.x,Z.y=X.cy||Z.y)}),l.previousLayouted=!0}initVals(){const l=this,f=l.edges,p=l.nodes,v=l.combos,x={},T={},N={};p.forEach((Oi,go)=>{T[Oi.id]=Oi,N[Oi.id]=go}),l.nodeMap=T,l.indexMap=N;const z={};v.forEach(Oi=>{z[Oi.id]=Oi}),l.oriComboMap=z,l.comboMap=l.getComboMap();const Z=l.preventOverlap;l.preventComboOverlap=l.preventComboOverlap||Z,l.preventNodeOverlap=l.preventNodeOverlap||Z;const X=l.collideStrength;X&&(l.comboCollideStrength=X,l.nodeCollideStrength=X),l.comboCollideStrength=l.comboCollideStrength?l.comboCollideStrength:0,l.nodeCollideStrength=l.nodeCollideStrength?l.nodeCollideStrength:0;for(let Oi=0;Oi<f.length;++Oi){const go=ue(f[Oi],"source"),Wi=ue(f[Oi],"target");x[go]?x[go]++:x[go]=1,x[Wi]?x[Wi]++:x[Wi]=1}const se=[];for(let Oi=0;Oi<f.length;++Oi){const go=ue(f[Oi],"source"),Wi=ue(f[Oi],"target");se[Oi]=x[go]/(x[go]+x[Wi])}this.bias=se;const xe=l.nodeSize,be=l.nodeSpacing;let Ie,De;if(F(be)?De=()=>be:Pe(be)?De=be:De=()=>0,this.nodeSpacing=De,!xe)Ie=Oi=>Oi.size?k(Oi.size)?(Oi.size[0]>Oi.size[1]?Oi.size[0]:Oi.size[1])/2:ee(Oi.size)?(Oi.size.width>Oi.size.height?Oi.size.width:Oi.size.height)/2:Oi.size/2:10;else if(Pe(xe))Ie=Oi=>xe(Oi);else if(k(xe)){const go=(xe[0]>xe[1]?xe[0]:xe[1])/2;Ie=Wi=>go}else{const Oi=xe/2;Ie=go=>Oi}this.nodeSize=Ie;const Te=l.comboSpacing;let st;F(Te)?st=()=>Te:Pe(Te)?st=Te:st=()=>0,this.comboSpacing=st;const St=l.comboPadding;let an;F(St)?an=()=>St:k(St)?an=()=>Math.max.apply(null,St):Pe(St)?an=St:an=()=>0,this.comboPadding=an;let Nn=this.linkDistance,Ln;Nn||(Nn=10),F(Nn)?Ln=Oi=>Nn:Ln=Nn,this.linkDistance=Ln;let Dr=this.edgeStrength,Ni;Dr||(Dr=1),F(Dr)?Ni=Oi=>Dr:Ni=Dr,this.edgeStrength=Ni;let Ai=this.nodeStrength,ko;Ai||(Ai=30),F(Ai)?ko=Oi=>Ai:ko=Ai,this.nodeStrength=ko}initPos(l){this.nodes.forEach((v,x)=>{const T=v.comboId,N=l[T];T&&N?(v.x=N.cx+100/(x+1),v.y=N.cy+100/(x+1)):(v.x=100/(x+1),v.y=100/(x+1))})}getComboMap(){const l=this,f=l.nodeMap,p=l.comboTrees,v=l.oriComboMap,x={};return(p||[]).forEach(T=>{const N=[];Ae(T,z=>{if(z.itemType==="node"||!v[z.id])return!0;if(x[z.id]===void 0){const se={id:z.id,name:z.id,cx:0,cy:0,count:0,depth:l.oriComboMap[z.id].depth||0,children:[]};x[z.id]=se}const Z=z.children;Z&&Z.forEach(se=>{if(!x[se.id]&&!f[se.id])return!0;N.push(se)});const X=x[z.id];if(X.cx=0,X.cy=0,N.length===0){X.empty=!0;const se=v[z.id];X.cx=se.x,X.cy=se.y}return N.forEach(se=>{if(X.count++,se.itemType!=="node"){const be=x[se.id];F(be.cx)&&(X.cx+=be.cx),F(be.cy)&&(X.cy+=be.cy);return}const xe=f[se.id];xe&&(F(xe.x)&&(X.cx+=xe.x),F(xe.y)&&(X.cy+=xe.y))}),X.cx/=X.count||1,X.cy/=X.count||1,X.children=N,!0})}),x}applyComboCenterForce(l){const f=this,p=f.gravity,v=f.comboGravity||p,x=this.alpha,T=f.comboTrees,N=f.indexMap,z=f.nodeMap,Z=f.comboMap;(T||[]).forEach(X=>{Ae(X,se=>{if(se.itemType==="node"||!Z[se.id])return!0;const be=Z[se.id],Ie=(be.depth+1)/10*.5,De=be.cx,Te=be.cy;return be.cx=0,be.cy=0,be.children.forEach(st=>{if(st.itemType!=="node"){const Ai=Z[st.id];Ai&&F(Ai.cx)&&(be.cx+=Ai.cx),Ai&&F(Ai.cy)&&(be.cy+=Ai.cy);return}const St=z[st.id],an=St.x-De||.005,Nn=St.y-Te||.005,Ln=Math.sqrt(an*an+Nn*Nn),Dr=N[St.id],Ni=v*x/Ln*Ie;l[Dr].x-=an*Ni,l[Dr].y-=Nn*Ni,F(St.x)&&(be.cx+=St.x),F(St.y)&&(be.cy+=St.y)}),be.cx/=be.count||1,be.cy/=be.count||1,!0})})}applyCalculate(l){const f=this,p=f.comboMap,v=f.nodes,x={};v.forEach((N,z)=>{v.forEach((Z,X)=>{if(z<X)return;const se=N.x-Z.x||.005,xe=N.y-Z.y||.005;let be=se*se+xe*xe;const Ie=Math.sqrt(be);be<1&&(be=Ie),x[`${N.id}-${Z.id}`]={vx:se,vy:xe,vl2:be,vl:Ie},x[`${Z.id}-${N.id}`]={vl2:be,vl:Ie,vx:-se,vy:-xe}})}),f.updateComboSizes(p),f.calRepulsive(l,x),f.calAttractive(l,x),f.preventComboOverlap&&f.comboNonOverlapping(l,p)}updateComboSizes(l){const f=this,p=f.comboTrees,v=f.nodeMap,x=f.nodeSize,T=f.comboSpacing,N=f.comboPadding;(p||[]).forEach(z=>{const Z=[];Ae(z,X=>{if(X.itemType==="node")return!0;const se=l[X.id];if(!se)return!1;const xe=X.children;xe&&xe.forEach(De=>{!l[De.id]&&!v[De.id]||Z.push(De)}),se.minX=1/0,se.minY=1/0,se.maxX=-1/0,se.maxY=-1/0,Z.forEach(De=>{if(De.itemType!=="node")return!0;const Te=v[De.id];if(!Te)return!0;const st=x(Te),St=Te.x-st,an=Te.y-st,Nn=Te.x+st,Ln=Te.y+st;se.minX>St&&(se.minX=St),se.minY>an&&(se.minY=an),se.maxX<Nn&&(se.maxX=Nn),se.maxY<Ln&&(se.maxY=Ln)});let be=f.oriComboMap[X.id].size||10;k(be)&&(be=be[0]);const Ie=Math.max(se.maxX-se.minX,se.maxY-se.minY,be);return se.r=Ie/2+T(se)/2+N(se),!0})})}comboNonOverlapping(l,f){const p=this,v=p.comboTree,x=p.comboCollideStrength,T=p.indexMap,N=p.nodeMap;Ae(v,z=>{if(!f[z.id]&&!N[z.id]&&z.id!=="comboTreeRoot")return!1;const Z=z.children;return Z&&Z.length>1&&Z.forEach((X,se)=>{if(X.itemType==="node")return!1;const xe=f[X.id];xe&&Z.forEach((be,Ie)=>{if(se<=Ie||be.itemType==="node")return!1;const De=f[be.id];if(!De)return!1;const Te=xe.cx-De.cx||.005,st=xe.cy-De.cy||.005,St=Te*Te+st*st,an=xe.r||1,Nn=De.r||1,Ln=an+Nn,Dr=Nn*Nn,Ni=an*an;if(St<Ln*Ln){const Ai=X.children;if(!Ai||Ai.length===0)return!1;const ko=be.children;if(!ko||ko.length===0)return!1;const Oi=Math.sqrt(St),go=(Ln-Oi)/Oi*x,Wi=Te*go,is=st*go,Bo=Dr/(Ni+Dr),ks=1-Bo;Ai.forEach(Sl=>{if(Sl.itemType!=="node")return!1;if(!N[Sl.id])return;const ru=T[Sl.id];ko.forEach(va=>{if(va.itemType!=="node"||!N[va.id])return!1;const rd=T[va.id];l[ru].x+=Wi*Bo,l[ru].y+=is*Bo,l[rd].x-=Wi*ks,l[rd].y-=is*ks})})}})}),!0})}calRepulsive(l,f){const p=this,v=p.nodes,x=p.width*p.optimizeRangeFactor,T=p.nodeStrength,N=p.alpha,z=p.nodeCollideStrength,Z=p.preventNodeOverlap,X=p.nodeSize,se=p.nodeSpacing,xe=p.depthRepulsiveForceScale,be=p.center;v.forEach((Ie,De)=>{if(!(!Ie.x||!Ie.y)){if(be){const Te=p.gravity,st=Ie.x-be[0]||.005,St=Ie.y-be[1]||.005,an=Math.sqrt(st*st+St*St);l[De].x-=st*Te*N/an,l[De].y-=St*Te*N/an}v.forEach((Te,st)=>{if(De===st||!Te.x||!Te.y)return;const{vl2:St,vl:an}=f[`${Ie.id}-${Te.id}`];if(an>x)return;const{vx:Nn,vy:Ln}=f[`${Ie.id}-${Te.id}`];let Dr=Math.log(Math.abs(Te.depth-Ie.depth)/10)+1||1;Dr=Dr<1?1:Dr,Te.comboId!==Ie.comboId&&(Dr+=1);const Ni=Dr?Math.pow(xe,Dr):1,Ai=T(Te)*N/St*Ni;if(l[De].x+=Nn*Ai,l[De].y+=Ln*Ai,De<st&&Z){const ko=X(Ie)+se(Ie)||1,Oi=X(Te)+se(Te)||1,go=ko+Oi;if(St<go*go){const Wi=(go-an)/an*z,is=Oi*Oi;let Bo=is/(ko*ko+is);const ks=Nn*Wi,Sl=Ln*Wi;l[De].x+=ks*Bo,l[De].y+=Sl*Bo,Bo=1-Bo,l[st].x-=ks*Bo,l[st].y-=Sl*Bo}}})}})}calAttractive(l,f){const p=this,v=p.edges,x=p.linkDistance,T=p.alpha,N=p.edgeStrength,z=p.bias,Z=p.depthAttractiveForceScale;v.forEach((X,se)=>{const xe=ue(X,"source"),be=ue(X,"target");if(!xe||!be||xe===be)return;const Ie=p.indexMap[xe],De=p.indexMap[be],Te=p.nodeMap[xe],st=p.nodeMap[be];if(!Te||!st)return;let St=Te.depth===st.depth?0:Math.log(Math.abs(Te.depth-st.depth)/10);Te.comboId===st.comboId&&(St=St/2);let an=St?Math.pow(Z,St):1;if(Te.comboId!==st.comboId&&an===1?an=Z/2:Te.comboId===st.comboId&&(an=2),!F(st.x)||!F(Te.x)||!F(st.y)||!F(Te.y))return;const{vl:Nn,vx:Ln,vy:Dr}=f[`${be}-${xe}`],Ni=(Nn-x(X))/Nn*T*N(X)*an,Ai=Ln*Ni,ko=Dr*Ni,Oi=z[se];l[De].x-=Ai*Oi,l[De].y-=ko*Oi,l[Ie].x+=Ai*(1-Oi),l[Ie].y+=ko*(1-Oi)})}getType(){return"comboForce"}}class tw{constructor(l){this.id=l.id||0,this.rx=l.rx,this.ry=l.ry,this.fx=0,this.fy=0,this.mass=l.mass,this.degree=l.degree,this.g=l.g||0}distanceTo(l){const f=this.rx-l.rx,p=this.ry-l.ry;return Math.hypot(f,p)}setPos(l,f){this.rx=l,this.ry=f}resetForce(){this.fx=0,this.fy=0}addForce(l){const f=l.rx-this.rx,p=l.ry-this.ry;let v=Math.hypot(f,p);v=v<1e-4?1e-4:v;const x=this.g*(this.degree+1)*(l.degree+1)/v;this.fx+=x*f/v,this.fy+=x*p/v}in(l){return l.contains(this.rx,this.ry)}add(l){const f=this.mass+l.mass,p=(this.rx*this.mass+l.rx*l.mass)/f,v=(this.ry*this.mass+l.ry*l.mass)/f,x=this.degree+l.degree,T={rx:p,ry:v,mass:f,degree:x};return new tw(T)}}class Rv{constructor(l){this.xmid=l.xmid,this.ymid=l.ymid,this.length=l.length,this.massCenter=l.massCenter||[0,0],this.mass=l.mass||1}getLength(){return this.length}contains(l,f){const p=this.length/2;return l<=this.xmid+p&&l>=this.xmid-p&&f<=this.ymid+p&&f>=this.ymid-p}NW(){const l=this.xmid-this.length/4,f=this.ymid+this.length/4,p=this.length/2,v={xmid:l,ymid:f,length:p};return new Rv(v)}NE(){const l=this.xmid+this.length/4,f=this.ymid+this.length/4,p=this.length/2,v={xmid:l,ymid:f,length:p};return new Rv(v)}SW(){const l=this.xmid-this.length/4,f=this.ymid-this.length/4,p=this.length/2,v={xmid:l,ymid:f,length:p};return new Rv(v)}SE(){const l=this.xmid+this.length/4,f=this.ymid-this.length/4,p=this.length/2,v={xmid:l,ymid:f,length:p};return new Rv(v)}}class Dv{constructor(l){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,l!=null&&(this.quad=l)}insert(l){if(this.body==null){this.body=l;return}this._isExternal()?(this.quad&&(this.NW=new Dv(this.quad.NW()),this.NE=new Dv(this.quad.NE()),this.SW=new Dv(this.quad.SW()),this.SE=new Dv(this.quad.SE())),this._putBody(this.body),this._putBody(l),this.body=this.body.add(l)):(this.body=this.body.add(l),this._putBody(l))}_putBody(l){this.quad&&(l.in(this.quad.NW())&&this.NW?this.NW.insert(l):l.in(this.quad.NE())&&this.NE?this.NE.insert(l):l.in(this.quad.SW())&&this.SW?this.SW.insert(l):l.in(this.quad.SE())&&this.SE&&this.SE.insert(l))}_isExternal(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}updateForce(l){if(!(this.body==null||l===this.body))if(this._isExternal())l.addForce(this.body);else{const f=this.quad?this.quad.getLength():0,p=this.body.distanceTo(l);f/p<this.theta?l.addForce(this.body):(this.NW&&this.NW.updateForce(l),this.NE&&this.NE.updateForce(l),this.SW&&this.SW.updateForce(l),this.SE&&this.SE.updateForce(l))}}}class ME extends Vt{constructor(l){super(),this.center=[0,0],this.width=300,this.height=300,this.nodes=[],this.edges=[],this.kr=5,this.kg=1,this.mode="normal",this.preventOverlap=!1,this.dissuadeHubs=!1,this.barnesHut=void 0,this.maxIteration=0,this.ks=.1,this.ksmax=10,this.tao=.1,this.onLayoutEnd=()=>{},this.prune=void 0,this.updateCfg(l)}getDefaultCfg(){return{}}execute(){const l=this,{nodes:f,onLayoutEnd:p,prune:v}=l;let x=l.maxIteration;!l.width&&typeof window!="undefined"&&(l.width=window.innerWidth),!l.height&&typeof window!="undefined"&&(l.height=window.innerHeight);const T=[],N=f.length;for(let z=0;z<N;z+=1){const Z=f[z];let X=10,se=10;F(Z.size)&&(X=Z.size,se=Z.size),k(Z.size)?(isNaN(Z.size[0])||(X=Z.size[0]),isNaN(Z.size[1])||(se=Z.size[1])):ee(Z.size)&&(X=Z.size.width,se=Z.size.height),l.getWidth&&!isNaN(l.getWidth(Z))&&(se=l.getWidth(Z)),l.getHeight&&!isNaN(l.getHeight(Z))&&(X=l.getHeight(Z));const xe=Math.max(X,se);T.push(xe)}l.barnesHut===void 0&&N>250&&(l.barnesHut=!0),l.prune===void 0&&N>100&&(l.prune=!0),this.maxIteration===0&&!l.prune?(x=250,N<=200&&N>100?x=1e3:N>200&&(x=1200),this.maxIteration=x):this.maxIteration===0&&v&&(x=100,N<=200&&N>100?x=500:N>200&&(x=950),this.maxIteration=x),l.kr||(l.kr=50,N>100&&N<=500?l.kr=20:N>500&&(l.kr=1)),l.kg||(l.kg=20,N>100&&N<=500?l.kg=10:N>500&&(l.kg=1)),this.nodes=l.updateNodesByForces(T),p()}updateNodesByForces(l){const f=this,{edges:p,maxIteration:v}=f;let x=f.nodes;const T=p.filter(Ie=>{const De=ue(Ie,"source"),Te=ue(Ie,"target");return De!==Te}),N=x.length,z=T.length,Z=[],X={},se={},xe=[];for(let Ie=0;Ie<N;Ie+=1)X[x[Ie].id]=Ie,Z[Ie]=0,(x[Ie].x===void 0||isNaN(x[Ie].x))&&(x[Ie].x=Math.random()*1e3),(x[Ie].y===void 0||isNaN(x[Ie].y))&&(x[Ie].y=Math.random()*1e3),xe.push({x:x[Ie].x,y:x[Ie].y});for(let Ie=0;Ie<z;Ie+=1){let De,Te,st=0,St=0;for(let an=0;an<N;an+=1){const Nn=ue(T[Ie],"source"),Ln=ue(T[Ie],"target");x[an].id===Nn?(De=x[an],st=an):x[an].id===Ln&&(Te=x[an],St=an),se[Ie]={sourceIdx:st,targetIdx:St}}De&&(Z[X[De.id]]+=1),Te&&(Z[X[Te.id]]+=1)}let be=v;if(x=this.iterate(be,X,se,z,Z,l),f.prune){for(let Ie=0;Ie<z;Ie+=1)Z[se[Ie].sourceIdx]<=1?(x[se[Ie].sourceIdx].x=x[se[Ie].targetIdx].x,x[se[Ie].sourceIdx].y=x[se[Ie].targetIdx].y):Z[se[Ie].targetIdx]<=1&&(x[se[Ie].targetIdx].x=x[se[Ie].sourceIdx].x,x[se[Ie].targetIdx].y=x[se[Ie].sourceIdx].y);f.prune=!1,f.barnesHut=!1,be=100,x=this.iterate(be,X,se,z,Z,l)}return x}iterate(l,f,p,v,x,T){const N=this;let{nodes:z}=N;const{kr:Z,preventOverlap:X}=N,{barnesHut:se}=N,xe=z.length;let be=0;const Ie=100;let De=l;const Te=50;let st=[];const St=[],an=[];for(let Nn=0;Nn<xe;Nn+=1)if(st[2*Nn]=0,st[2*Nn+1]=0,se){const Ln={id:Nn,rx:z[Nn].x,ry:z[Nn].y,mass:1,g:Z,degree:x[Nn]};an[Nn]=new tw(Ln)}for(;De>0;){for(let Ln=0;Ln<xe;Ln+=1)St[2*Ln]=st[2*Ln],St[2*Ln+1]=st[2*Ln+1],st[2*Ln]=0,st[2*Ln+1]=0;st=this.getAttrForces(De,Te,v,f,p,x,T,st),se&&(X&&De>Te||!X)?st=this.getOptRepGraForces(st,an,x):st=this.getRepGraForces(De,Te,st,Ie,T,x);const Nn=this.updatePos(st,St,be,x);z=Nn.nodes,be=Nn.sg,De--,N.tick&&N.tick()}return z}getAttrForces(l,f,p,v,x,T,N,z){const Z=this,{nodes:X,preventOverlap:se,dissuadeHubs:xe,mode:be,prune:Ie}=Z;for(let De=0;De<p;De+=1){const Te=X[x[De].sourceIdx],st=x[De].sourceIdx,St=X[x[De].targetIdx],an=x[De].targetIdx;if(Ie&&(T[st]<=1||T[an]<=1))continue;const Nn=[St.x-Te.x,St.y-Te.y];let Ln=Math.hypot(Nn[0],Nn[1]);Ln=Ln<1e-4?1e-4:Ln,Nn[0]=Nn[0]/Ln,Nn[1]=Nn[1]/Ln,se&&l<f&&(Ln=Ln-N[st]-N[an]);let Dr=Ln,Ni=Dr;be==="linlog"&&(Dr=Math.log(1+Ln),Ni=Dr),xe&&(Dr=Ln/T[st],Ni=Ln/T[an]),se&&l<f&&Ln<=0?(Dr=0,Ni=0):se&&l<f&&Ln>0&&(Dr=Ln,Ni=Ln),z[2*v[Te.id]]+=Dr*Nn[0],z[2*v[St.id]]-=Ni*Nn[0],z[2*v[Te.id]+1]+=Dr*Nn[1],z[2*v[St.id]+1]-=Ni*Nn[1]}return z}getRepGraForces(l,f,p,v,x,T){const N=this,{nodes:z,preventOverlap:Z,kr:X,kg:se,center:xe,prune:be}=N,Ie=z.length;for(let De=0;De<Ie;De+=1){for(let an=De+1;an<Ie;an+=1){if(be&&(T[De]<=1||T[an]<=1))continue;const Nn=[z[an].x-z[De].x,z[an].y-z[De].y];let Ln=Math.hypot(Nn[0],Nn[1]);Ln=Ln<1e-4?1e-4:Ln,Nn[0]=Nn[0]/Ln,Nn[1]=Nn[1]/Ln,Z&&l<f&&(Ln=Ln-x[De]-x[an]);let Dr=X*(T[De]+1)*(T[an]+1)/Ln;Z&&l<f&&Ln<0?Dr=v*(T[De]+1)*(T[an]+1):Z&&l<f&&Ln===0?Dr=0:Z&&l<f&&Ln>0&&(Dr=X*(T[De]+1)*(T[an]+1)/Ln),p[2*De]-=Dr*Nn[0],p[2*an]+=Dr*Nn[0],p[2*De+1]-=Dr*Nn[1],p[2*an+1]+=Dr*Nn[1]}const Te=[z[De].x-xe[0],z[De].y-xe[1]],st=Math.hypot(Te[0],Te[1]);Te[0]=Te[0]/st,Te[1]=Te[1]/st;const St=se*(T[De]+1);p[2*De]-=St*Te[0],p[2*De+1]-=St*Te[1]}return p}getOptRepGraForces(l,f,p){const v=this,{nodes:x,kg:T,center:N,prune:z}=v,Z=x.length;let X=9e10,se=-9e10,xe=9e10,be=-9e10;for(let St=0;St<Z;St+=1)z&&p[St]<=1||(f[St].setPos(x[St].x,x[St].y),x[St].x>=se&&(se=x[St].x),x[St].x<=X&&(X=x[St].x),x[St].y>=be&&(be=x[St].y),x[St].y<=xe&&(xe=x[St].y));const Ie=Math.max(se-X,be-xe),De={xmid:(se+X)/2,ymid:(be+xe)/2,length:Ie,massCenter:N,mass:Z},Te=new Rv(De),st=new Dv(Te);for(let St=0;St<Z;St+=1)z&&p[St]<=1||f[St].in(Te)&&st.insert(f[St]);for(let St=0;St<Z;St+=1){if(z&&p[St]<=1)continue;f[St].resetForce(),st.updateForce(f[St]),l[2*St]-=f[St].fx,l[2*St+1]-=f[St].fy;const an=[x[St].x-N[0],x[St].y-N[1]];let Nn=Math.hypot(an[0],an[1]);Nn=Nn<1e-4?1e-4:Nn,an[0]=an[0]/Nn,an[1]=an[1]/Nn;const Ln=T*(p[St]+1);l[2*St]-=Ln*an[0],l[2*St+1]-=Ln*an[1]}return l}updatePos(l,f,p,v){const x=this,{nodes:T,ks:N,tao:z,prune:Z,ksmax:X}=x,se=T.length,xe=[],be=[];let Ie=0,De=0;for(let st=0;st<se;st+=1){if(Z&&v[st]<=1)continue;const St=[l[2*st]-f[2*st],l[2*st+1]-f[2*st+1]],an=Math.hypot(St[0],St[1]),Nn=[l[2*st]+f[2*st],l[2*st+1]+f[2*st+1]],Ln=Math.hypot(Nn[0],Nn[1]);xe[st]=an,be[st]=Ln/2,Ie+=(v[st]+1)*xe[st],De+=(v[st]+1)*be[st]}const Te=p;p=z*De/Ie,Te!==0&&(p=p>1.5*Te?1.5*Te:p);for(let st=0;st<se;st+=1){if(Z&&v[st]<=1)continue;let St=N*p/(1+p*Math.sqrt(xe[st])),an=Math.hypot(l[2*st],l[2*st+1]);an=an<1e-4?1e-4:an;const Nn=X/an;St=St>Nn?Nn:St;const Ln=St*l[2*st],Dr=St*l[2*st+1];T[st].x+=Ln,T[st].y+=Dr}return{nodes:T,sg:p}}}class Gg{constructor(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}init(l,f,p){this.cells=[],this.CELL_W=p.CELL_W||Gg.DEFAULT_CELL_W,this.CELL_H=p.CELL_H||Gg.DEFAULT_CELL_H,this.columnNum=Math.ceil(l/this.CELL_W),this.rowNum=Math.ceil(f/this.CELL_H),Gg.MIN_DIST=Math.pow(l,2)+Math.pow(f,2);for(let v=0;v<this.columnNum;v++){const x=[];for(let T=0;T<this.rowNum;T++){const N={dx:v,dy:T,x:v*this.CELL_W,y:T*this.CELL_H,occupied:!1};x.push(N)}this.cells.push(x)}}findGridByNodeId(l){var f,p;for(let v=0;v<this.columnNum;v++)for(let x=0;x<this.rowNum;x++)if(this.cells[v][x].node&&((p=(f=this.cells[v][x])===null||f===void 0?void 0:f.node)===null||p===void 0?void 0:p.id)===l)return{column:v,row:x};return null}sqdist(l,f){return Math.pow(l.x-f.x,2)+Math.pow(l.y-f.y,2)}occupyNearest(l){let f=Gg.MIN_DIST,p,v=null;for(let x=0;x<this.columnNum;x++)for(let T=0;T<this.rowNum;T++)!this.cells[x][T].occupied&&(p=this.sqdist(l,this.cells[x][T]))<f&&(f=p,v=this.cells[x][T]);return v&&(v.occupied=!0),v}insertColumn(l,f){if(!(f<=0)){for(let p=0;p<f;p++){this.cells[p+this.columnNum]=[];for(let v=0;v<this.rowNum;v++)this.cells[p+this.columnNum][v]={dx:p,dy:v,x:p*this.CELL_W,y:v*this.CELL_H,occupied:!1,node:null}}for(let p=this.columnNum-1;p>l;p--)for(let v=0;v<this.rowNum;v++)this.cells[p+f][v]=Object.assign(Object.assign({},this.cells[p][v]),{x:(p+f)*this.CELL_W,y:v*this.CELL_H}),this.cells[p][v]={x:p*this.CELL_W,y:v*this.CELL_H,occupied:!0,node:null};for(let p=0;p<this.additionColumn.length;p++)this.additionColumn[p]>=l&&(this.additionColumn[p]+=f);for(let p=0;p<f;p++)this.additionColumn.push(l+p+1);this.columnNum+=f}}insertRow(l,f){if(!(f<=0)){for(let p=0;p<f;p++)for(let v=0;v<this.columnNum;v++)this.cells[v][p+this.rowNum]={dx:v,dy:p,x:v*this.CELL_W,y:p*this.CELL_H,occupied:!1,node:null};for(let p=0;p<this.columnNum;p++)for(let v=this.rowNum-1;v>l;v--)this.cells[p][v+f]=Object.assign(Object.assign({},this.cells[p][v]),{dx:p,dy:v+f,x:p*this.CELL_W,y:(v+f)*this.CELL_H}),this.cells[p][v]={dx:p,dy:v,x:p*this.CELL_W,y:v*this.CELL_H,occupied:!1,node:null};for(let p=0;p<this.additionRow.length;p++)this.additionRow[p]>=l&&(this.additionRow[p]+=f);for(let p=0;p<f;p++)this.additionRow.push(l+p+1);this.rowNum+=f}}getNodes(){const l=[];for(let f=0;f<this.columnNum;f++)for(let p=0;p<this.rowNum;p++)this.cells[f][p].node&&l.push(this.cells[f][p]);return l}}Gg.MIN_DIST=50,Gg.DEFAULT_CELL_W=80,Gg.DEFAULT_CELL_H=80;function Gw(o,l){if(!o.nodes||o.nodes.length===0)return o;const f=l.width,p=l.height,v=l.nodeMinGap;let x=1e4,T=1e4;o.nodes.forEach(z=>{const Z=z.size[0]||50,X=z.size[1]||50;x=Math.min(Z,x),T=Math.min(X,T)});const N=new Gg;N.init(f,p,{CELL_H:T,CELL_W:x}),o.nodes.forEach(z=>{const Z=N.occupyNearest(z);Z&&(Z.node={id:z.id,size:z.size},z.x=Z.x,z.y=Z.y,z.dx=Z.dx,z.dy=Z.dy)});for(let z=0;z<o.nodes.length;z++){const Z=o.nodes[z],X=N.findGridByNodeId(Z.id);if(!X)throw new Error("can not find node cell");const{column:se,row:xe}=X;if(Z.size[0]+v>x){const be=Math.ceil((Z.size[0]+v)/x)-1;let Ie=be;for(let De=0;De<be&&(N.additionColumn.indexOf(se+De+1)>-1&&!N.cells[se+De+1][xe].node);De++)Ie--;N.insertColumn(se,Ie)}if(Z.size[1]+v>T){const be=Math.ceil((Z.size[1]+v)/T)-1;let Ie=be;for(let De=0;De<be&&(N.additionRow.indexOf(xe+De+1)>-1&&!N.cells[se][xe+De+1].node);De++)Ie--;N.insertRow(xe,Ie)}}for(let z=0;z<N.columnNum;z++)for(let Z=0;Z<N.rowNum;Z++){const X=N.cells[z][Z];if(X.node){const se=o.nodes.find(xe=>{var be;return xe.id===((be=X==null?void 0:X.node)===null||be===void 0?void 0:be.id)});se&&(se.x=X.x+se.size[0]/2,se.y=X.y+se.size[1]/2)}}}const nw=1200,Vw=800,Lx=1e7,Eb=10,Zw=3.141592653589793,rw=1.5707963267948966,TE=Zw*.375,jw=Zw*.625,Fx=new Map,Uw=10,PE=10;let iw=.8;const Ww=.1,OE=.5;function IE(o,l,f){const p=o.x-o.size[0]/2,v=o.y-o.size[1]/2,x=o.x+o.size[0]/2,T=o.y+o.size[1]/2,N=l.x-l.size[0]/2,z=l.y-l.size[1]/2,Z=l.x+l.size[0]/2,X=l.y+l.size[1]/2,se=o.x,xe=o.y,be=l.x,Ie=l.y,De=be-se,Te=Math.atan2(De,Ie-xe);let st=0,St=0,an=0,Nn=0;Te>rw?(St=v-X,st=N-x,an=parseFloat(St?(St/Math.cos(Te)).toFixed(2):st.toFixed(2)),Nn=parseFloat(st?(st/Math.sin(Te)).toFixed(2):St.toFixed(2))):0<Te&&Te<=rw?(St=z-T,st=N-x,St>st?an=Nn=parseFloat(St?(St/Math.cos(Te)).toFixed(2):st.toFixed(2)):an=Nn=parseFloat(st?(st/Math.sin(Te)).toFixed(2):St.toFixed(2))):Te<-rw?(St=v-X,st=-(Z-p),St>st?an=Nn=parseFloat(St?(St/Math.cos(Te)).toFixed(2):st.toFixed(2)):an=Nn=parseFloat(st?(st/Math.sin(Te)).toFixed(2):St.toFixed(2))):(St=z-T,Math.abs(De)>(x-p)/2?st=p-Z:st=De,St>st?an=Nn=parseFloat(St?(St/Math.cos(Te)).toFixed(2):st.toFixed(2)):an=Nn=parseFloat(st&&Te!==0?(st/Math.sin(Te)).toFixed(2):St.toFixed(2)));const Ln=parseFloat(Te.toFixed(2));let Dr=f;return f&&(Dr=TE<Ln&&Ln<jw),{distance:Math.abs(an<Nn?an:Nn),isHoriz:Dr}}function $w(o,l){const p=(Fx.get(o.id)||[]).find(Ni=>Ni.source===l.id||Ni.target===l.id),v=o.size[0]*o.size[1],x=l.size[0]*l.size[1],T=v>x?l:o,N=v>x?o:l,z=T.x-T.size[0]/2,Z=T.y-T.size[1]/2,X=T.x+T.size[0]/2,se=T.y+T.size[1]/2,xe=N.x-N.size[0]/2,be=N.y-N.size[1]/2,Ie=N.x+N.size[0]/2,De=N.y+N.size[1]/2,Te=T.x,st=T.y,St=N.x,an=N.y,Nn=X>=xe&&Ie>=z&&se>=be&&De>=Z;let Ln=0,Dr=0;if(Nn){Dr=Math.sqrt(Math.pow(St-Te,2)+Math.pow(an-st,2));const Ni=z>xe?z:xe,Ai=Z>be?Z:be,ko=X<Ie?X:Ie,Oi=se<De?se:De,go=ko-Ni,Wi=Oi-Ai,is=go*Wi;Dr===0&&(Dr=1e-7),Ln=Eb*1/Dr*100+is,Ln*=Lx}else{let Ni=!1;const Ai=IE(T,N,Ni);Dr=Ai.distance,Ni=Ai.isHoriz,Dr<=Eb?Dr!==0?p?Ln+=Eb+Lx*1/Dr:Ln+=Eb+Lx*Eb/Dr:Ln+=Lx:(Ln+=Dr,p&&(Ln+=Dr*Dr))}return Ln}function Hw(o){let l=0;for(let f=0;f<o.length;f++){const p=o[f];(p.x<0||p.y<0||p.x>nw||p.y>Vw)&&(l+=1e12);for(let v=f+1;v<o.length;v++)l+=$w(p,o[v])}return l}function RE(o,l,f,p){const v=new Map;f.forEach((z,Z)=>{v.set(z.id,z)});const x=p.filter(z=>z.source===o.id||z.target===o.id)||[],T=[];x.forEach(z=>{const Z=z.source===o.id?z.target:z.source,X=v.get(Z);X&&T.push(X)});let N=!0;for(let z=0;z<T.length;z++){const Z=T[z],X=Math.atan((o.y-Z.y)/(Z.x-o.y))*180,se=Math.atan((l.y-Z.y)/(Z.x-l.y))*180,xe=X<30||X>150,be=se<30||se>150,Ie=X>70&&X<110,De=se>70&&se<110;if(xe&&!be||X*se<0){N=!1;break}else if(Ie&&!De||X*se<0){N=!1;break}else if((Z.x-o.x)*(Z.x-l.x)<0){N=!1;break}else if((Z.y-o.y)*(Z.y-l.y)<0){N=!1;break}}return N}function Bx(o,l){let f=!1;const p=1,v=Uw*p,x=PE*p,T=[v,-v,0,0],N=[0,0,x,-x];for(let z=0;z<o.length;++z){const Z=o[z];let X=Vg(Z,o);for(let se=0;se<T.length;se++)if(RE(Z,{x:Z.x+T[se],y:Z.y+N[se]},o,l)){Z.x+=T[se],Z.y+=N[se];const be=Vg(Z,o),Ie=Math.random();be<X||Ie<iw&&Ie>Ww?(X=be,f=!0):(Z.x-=T[se],Z.y-=N[se])}}return iw>Ww&&(iw*=OE),f?Hw(o):0}function Vg(o,l){let f=0;(o.x<0||o.y<0||o.x+o.size[0]+20>nw||o.y+o.size[1]+20>Vw)&&(f+=1e12);for(let p=0;p<l.length;++p)o.id!==l[p].id&&(f+=$w(o,l[p]));return f}function Kw(o,l){if(o.length===0)return{nodes:o,edges:l};o.forEach(z=>{const Z=l.filter(X=>X.source===z.id||X.target===z.id);Fx.set(z,Z)}),o.sort((z,Z)=>{var X,se;return((X=Fx.get(z.id))===null||X===void 0?void 0:X.length)-((se=Fx.get(Z.id))===null||se===void 0?void 0:se.length)});let f=Hw(o),p=20,v=1,x=0;const T=50;let N=0;for(;p>0&&(N++,!(N>=T));){const z=Bx(o,l);z!==0&&(x=z),v=x-f,f=x,v===0?--p:p=20}return o.forEach(z=>{z.x=z.x-z.size[0]/2,z.y=z.y-z.size[1]/2}),{nodes:o,edges:l}}var Xw=Kw;function Yw(o,l){const{nodes:f,edges:p}=o,v=l.width,x=l.height;if(!(f!=null&&f.length))return Promise.resolve();const T=[];f.forEach(Ie=>{if(p.filter(Te=>Te.source===Ie.id||Te.target===Ie.id).length>1){const Te=Object.assign({},Ie);delete Te.size,T.push(Te)}});const N=[];p.forEach(Ie=>{const De=T.find(st=>st.id===Ie.source),Te=T.find(st=>st.id===Ie.target);De&&Te&&N.push(Ie)});const z=new Sh({type:"dagre",ranksep:l.nodeMinGap,nodesep:l.nodeMinGap}),{nodes:Z}=z.layout({nodes:T,edges:N});f.forEach(Ie=>{const De=(Z||[]).find(Te=>Te.id===Ie.id);Ie.x=(De==null?void 0:De.x)||v/2,Ie.y=(De==null?void 0:De.y)||x/2});const X=JSON.parse(JSON.stringify(f)),se=JSON.parse(JSON.stringify(p)),xe=Kn().nodes(X).force("link",or(se).id(Ie=>Ie.id).distance(Ie=>N.find(Te=>Te.source===Ie.source&&Te.target===Ie.target)?30:20)).force("charge",yn()).force("center",Sr(v/2,x/2)).force("x",me(v/2)).force("y",ze(x/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise(Ie=>{xe.on("end",()=>{f.forEach(Ln=>{const Dr=X.find(Ni=>Ni.id===Ln.id);Dr&&(Ln.x=Dr.x,Ln.y=Dr.y)});const De=Math.min(...f.map(Ln=>Ln.x)),Te=Math.max(...f.map(Ln=>Ln.x)),st=Math.min(...f.map(Ln=>Ln.y)),St=Math.max(...f.map(Ln=>Ln.y)),an=v/(Te-De),Nn=x/(St-st);f.forEach(Ln=>{Ln.x!==void 0&&an<1&&(Ln.x=(Ln.x-De)*an),Ln.y!==void 0&&Nn<1&&(Ln.y=(Ln.y-st)*Nn)}),f.forEach(Ln=>{Ln.sizeTemp=Ln.size,Ln.size=[10,10]}),Xw(f,p),f.forEach(Ln=>{Ln.size=Ln.sizeTemp||[],delete Ln.sizeTemp}),Gw({nodes:f,edges:p},l),Ie()})})}class DE extends Vt{constructor(l){super(),this.width=300,this.height=300,this.nodeMinGap=50,this.onLayoutEnd=()=>{},l&&this.updateCfg(l)}getDefaultCfg(){return{width:300,height:300,nodeMinGap:50}}execute(){const l=this,f=l.nodes,p=l.edges;return f==null||f.forEach(v=>{v.size||(v.size=[50,50])}),Yw({nodes:f,edges:p},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(()=>{l.onLayoutEnd&&l.onLayoutEnd()})}getType(){return"er"}}class NE extends Vt{constructor(l){super(),this.center=[0,0],this.width=300,this.height=300,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.updateCfg(l)}getDefaultCfg(){return{center:[0,0],width:300,height:300}}execute(){const l=this,f=l.nodes,p=.9,v=l.center;return!l.width&&typeof window!="undefined"&&(l.width=window.innerWidth),!l.height&&typeof window!="undefined"&&(l.height=window.innerHeight),f&&f.forEach(x=>{x.x=(Math.random()-.5)*p*l.width+v[0],x.y=(Math.random()-.5)*p*l.height+v[1]}),l.onLayoutEnd&&l.onLayoutEnd(),{nodes:f,edges:this.edges}}getType(){return"random"}}class _E{constructor(l){const f=getLayoutByName(l.type);this.layoutInstance=new f(l)}layout(l){return this.layoutInstance.layout(l)}updateCfg(l){this.layoutInstance.updateCfg(l)}init(l){this.layoutInstance.init(l)}execute(){this.layoutInstance.execute()}getDefaultCfg(){return this.layoutInstance.getDefaultCfg()}destroy(){return this.layoutInstance.destroy()}}const nS={force:ne,fruchterman:om,forceAtlas2:ME,gForce:ut,dagre:Sh,circular:ve,radial:Ta,concentric:ld,grid:U,mds:mc,comboForce:AE,random:NE,"gForce-gpu":oc,"fruchterman-gpu":zw,er:DE}},15857:function(Ne,te,w){"use strict";w.d(te,{M:function(){return Ze}});var B=w(67294),M=w(5627),j=w.n(M),R=w(93967),k=w.n(R);class F extends B.PureComponent{render(){const{refIt:Ce,className:Ae,index:Pe,currentSize:ie,oppositeSize:at,vertical:mt}=this.props,vt=Object.assign(Object.assign({},this.props.style),{overflow:"hidden",position:"absolute",zIndex:1});return mt?(vt.bottom=0,vt.top=0):(vt.left=0,vt.right=0),ie!=null?mt?(vt.width=ie,Pe===1?vt.left=0:vt.right=0):(vt.height=ie,Pe===1?vt.top=0:vt.bottom=0):mt?Pe===1?(vt.left=0,vt.right=at):(vt.left=at,vt.right=0):Pe===1?(vt.top=0,vt.bottom=at):(vt.top=at,vt.bottom=0),B.createElement("div",{ref:Ce,style:vt,className:Ae},this.props.children)}}var H=w(27188);let I=0;const ee=window.requestAnimationFrame||window.webkitRequestAnimationFrame,ae=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout).bind(window),ue=ee?ee.bind(window):fe=>{const Ce=Date.now(),Ae=Math.max(0,16-(Ce-I));return I=Ce+Ae,window.setTimeout(()=>{fe(Date.now())},Ae)};class re{constructor(Ce){this.onMouseMove=Ae=>{const Pe=Ae.clientX,ie=Ae.clientY;this.deltaX+=Pe-this.clientX,this.deltaY+=ie-this.clientY,this.animationFrameID==null&&(this.animationFrameID=ue(this.triggerOnMouseMoveCallback)),this.clientX=Pe,this.clientY=ie,Ae.preventDefault()},this.onMouseUp=()=>{this.animationFrameID&&(ae(this.animationFrameID),this.triggerOnMouseMoveCallback()),this.triggerOnMouseMoveEndCallback(!1)},this.triggerOnMouseMoveCallback=()=>{this.animationFrameID=null,this.onMouseMoveCallback(this.deltaX,this.deltaY,{clientX:this.clientX,clientY:this.clientY}),this.deltaX=0,this.deltaY=0},this.triggerOnMouseMoveEndCallback=Ae=>{this.onMouseMoveEndCallback(Ae)},this.elem=Ce.elem||document.documentElement,this.onMouseMoveCallback=Ce.onMouseMove,this.onMouseMoveEndCallback=Ce.onMouseMoveEnd,this.animationFrameID=null}capture(Ce){this.captured||(this.removeMouseMoveEvent=(0,H.Z)(this.elem,"mousemove",this.onMouseMove).remove,this.removeMouseUpEvent=(0,H.Z)(this.elem,"mouseup",this.onMouseUp).remove),this.captured=!0,this.dragging||(this.clientX=Ce.clientX,this.clientY=Ce.clientY,this.deltaX=0,this.deltaY=0,this.dragging=!0),Ce.preventDefault()}release(){this.captured&&(this.removeMouseMoveEvent!=null&&(this.removeMouseMoveEvent(),this.removeMouseMoveEvent=null),this.removeMouseUpEvent!=null&&(this.removeMouseUpEvent(),this.removeMouseUpEvent=null)),this.captured=!1,this.dragging&&(this.dragging=!1,this.clientX=0,this.clientY=0,this.deltaX=0,this.deltaY=0)}isDragging(){return this.dragging}}class ge extends B.PureComponent{constructor(){super(...arguments),this.onMouseDown=Ce=>{this.mouseMoveTracker.capture(Ce),this.props.onMouseDown(Ce)},this.onMouseMove=(Ce,Ae,Pe)=>{this.props.onMouseMove!=null&&this.props.onMouseMove(Ce,Ae,Pe)},this.onMouseMoveEnd=()=>{this.mouseMoveTracker.release(),this.props.onMouseMoveEnd!=null&&this.props.onMouseMoveEnd()},this.onClick=Ce=>{this.props.onClick&&this.props.onClick(Ce)},this.onDoubleClick=Ce=>{this.props.onDoubleClick&&this.props.onDoubleClick(Ce)}}UNSAFE_componentWillMount(){this.mouseMoveTracker=new re({onMouseMove:this.onMouseMove,onMouseMoveEnd:this.onMouseMoveEnd})}componentWillUnmount(){this.mouseMoveTracker.release()}render(){const{className:Ce,style:Ae}=this.props;return B.createElement("div",{role:"button",style:Ae,className:Ce,onClick:this.onClick,ref:this.props.refIt,onMouseDown:this.onMouseDown,onDoubleClick:this.onDoubleClick})}}class Ze extends B.PureComponent{constructor(Ce){super(Ce),this.onMouseDown=()=>{const{maxSize:Ae,minSize:Pe}=this.getRange();this.minSize=Pe,this.maxSize=Ae,this.curSize=this.getPrimarySize(),this.rawSize=this.curSize,this.resizing=!0,this.createMask(),this.updateCursor(this.curSize,Pe,Ae)},this.onMouseMove=(Ae,Pe)=>{if(this.props.resizable&&this.resizing){const ie=this.getDelta(Ae,Pe);if(ie===0)return;if(this.rawSize<this.minSize||this.rawSize>this.maxSize){this.rawSize-=ie;return}this.rawSize-=ie,this.curSize=this.rawSize,this.curSize=j()(this.curSize,this.minSize,this.maxSize),this.setPrimarySize(this.curSize),this.updateCursor(this.curSize,this.minSize,this.maxSize),this.props.onResizing&&this.props.onResizing(this.curSize)}},this.onMouseMoveEnd=()=>{if(this.props.resizable&&this.resizing){if(this.props.onResizeEnd&&this.props.onResizeEnd(this.curSize),this.props.refresh){const Ae=this.isPrimaryFirst();this.setState({box1Size:Ae?this.curSize:void 0,box2Size:Ae?void 0:this.curSize})}this.resizing=!1,this.removeMask()}},this.refContainer=Ae=>{this.container=Ae},this.refResizer=Ae=>{this.resizerElem=Ae},this.state=this.getNextState(Ce)}UNSAFE_componentWillReceiveProps(Ce){const Ae=this.getNextState(Ce);this.setState(Ae)}getNextState(Ce){const{size:Ae,defaultSize:Pe,primary:ie}=Ce,at=Ae!=null?Ae:Pe!=null?Pe:"25%";return{box1Size:ie==="first"?at:void 0,box2Size:ie==="second"?at:void 0}}isVertical(){return this.props.split==="vertical"}isPrimaryFirst(){return this.props.primary==="first"}getDelta(Ce,Ae){const{step:Pe}=this.props,ie=this.isVertical(),at=this.isPrimaryFirst();let mt=ie?Ce:Ae;if(mt===0)return 0;Pe&&Math.abs(mt)>=Pe&&(mt=~~(mt/Pe)*Pe),mt=at?-mt:mt;const vt=at?this.box1Elem:this.box2Elem,Vt=at?this.box2Elem:this.box1Elem,U=parseInt(window.getComputedStyle(vt).order,10),tt=parseInt(window.getComputedStyle(Vt).order,10);return U>tt&&(mt=-mt),mt}getRange(){const{maxSize:Ce,minSize:Ae}=this.props,Pe=this.container.getBoundingClientRect(),ie=this.isVertical()?Pe.width:Pe.height;let at=Ae!==void 0?Ae:0,mt=Ce!==void 0?Ce:0;for(;at<0;)at=ie+at;for(;mt<=0;)mt=ie+mt;return{minSize:j()(at,0,ie),maxSize:j()(mt,0,ie)}}getPrimarySize(){const Ce=this.isPrimaryFirst()?this.box1Elem:this.box2Elem;return this.isVertical()?Ce.getBoundingClientRect().width:Ce.getBoundingClientRect().height}setPrimarySize(Ce){const Ae=this.isPrimaryFirst(),Pe=Ae?this.box1Elem:this.box2Elem,ie=Ae?this.box2Elem:this.box1Elem,at=this.resizerElem,mt=`${Ce}px`;this.isVertical()?(Pe.style.width=mt,Ae?(ie.style.left=mt,at.style.left=mt):(ie.style.right=mt,at.style.right=mt)):(Pe.style.height=mt,Ae?(ie.style.top=mt,at.style.top=mt):(ie.style.bottom=mt,at.style.bottom=mt))}updateCursor(Ce,Ae,Pe){let ie="";this.isVertical()?Ce===Ae?ie=this.isPrimaryFirst()?"e-resize":"w-resize":Ce===Pe?ie=this.isPrimaryFirst()?"w-resize":"e-resize":ie="col-resize":Ce===Ae?ie=this.isPrimaryFirst()?"s-resize":"n-resize":Ce===Pe?ie=this.isPrimaryFirst()?"n-resize":"s-resize":ie="row-resize",this.maskElem.style.cursor=ie}createMask(){const Ce=document.createElement("div");Ce.style.position="absolute",Ce.style.top="0",Ce.style.right="0",Ce.style.bottom="0",Ce.style.left="0",Ce.style.zIndex="9999",document.body.appendChild(Ce),this.maskElem=Ce}removeMask(){this.maskElem.parentNode&&this.maskElem.parentNode.removeChild(this.maskElem)}renderBox(Ce,Ae){const Pe=Ae===1?"first":"second",ie=this.props.primary===Pe,at=Ae===1?this.state.box1Size:this.state.box2Size,mt=Ae===1?this.state.box2Size:this.state.box1Size,vt=Object.assign(Object.assign({},this.props.boxStyle),ie?this.props.primaryBoxStyle:this.props.secondBoxStyle),Vt=k()(`${Ce}-item`,ie?`${Ce}-item-primary`:`${Ce}-item-second`),U=ut=>{Ae===1?this.box1Elem=ut:this.box2Elem=ut},tt=this.props.children;return B.createElement(F,{key:`box${Ae}`,refIt:U,style:vt,index:Ae,className:Vt,currentSize:at,oppositeSize:mt,vertical:this.isVertical(),isPrimary:ie},tt[Ae-1])}renderResizer(Ce){const Ae=Object.assign({},this.props.resizerStyle);return Ae.position="absolute",Ae.zIndex=2,this.isVertical()?(Ae.top=0,Ae.bottom=0,this.props.resizable===!0&&(Ae.cursor="col-resize"),this.isPrimaryFirst()?Ae.left=this.state.box1Size:Ae.right=this.state.box2Size):(Ae.left=0,Ae.right=0,this.props.resizable===!0&&(Ae.cursor="row-resize"),this.isPrimaryFirst()?Ae.top=this.state.box1Size:Ae.bottom=this.state.box2Size),B.createElement(ge,{key:"resizer",style:Ae,className:`${Ce}-resizer`,refIt:this.refResizer,onClick:this.props.onResizerClick,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseMoveEnd:this.onMouseMoveEnd,onDoubleClick:this.props.onResizerDoubleClick})}render(){const Ce=Object.assign(Object.assign({},this.props.style),{overflow:"hidden",position:"relative",width:"100%",height:"100%"}),Ae=`${this.props.prefixCls}-split-box`,Pe=k()(Ae,`${Ae}-${this.props.split}`,{[`${Ae}-disabled`]:!this.props.resizable});return B.createElement("div",{style:Ce,className:Pe,ref:this.refContainer},this.renderBox(Ae,1),this.renderResizer(Ae),this.renderBox(Ae,2))}}(function(fe){fe.defaultProps={resizable:!0,split:"vertical",primary:"first",prefixCls:"x6",defaultSize:"25%"}})(Ze||(Ze={}))},27188:function(Ne,te,w){"use strict";var B;B={value:!0},te.Z=k;var M=R(w(4953)),j=R(w(73935));function R(F){return F&&F.__esModule?F:{default:F}}function k(F,H,I,ee){var ae=j.default.unstable_batchedUpdates?function(re){j.default.unstable_batchedUpdates(I,re)}:I;return(0,M.default)(F,H,ae,ee)}},66005:function(Ne,te,w){"use strict";var B=w(94051);const M=B.Bz.create({type:"react componnet"});B.kJ.registerReactComponent=M.register,B.kJ.unregisterReactComponent=M.unregister,B.kJ.Hook.prototype.getReactComponent=function(ge){const Ze=this.options.getReactComponent;if(typeof Ze=="function"){const Ce=B.Iw.call(Ze,this.graph,ge);if(Ce!=null)return Ce}let fe=ge.getComponent();if(typeof fe=="string"){const Ce=M.get(fe);if(Ce==null)return M.onNotFound(fe);fe=Ce}return fe};class j extends B.NB{get component(){return this.getComponent()}set component(Ze){this.setComponent(Ze)}getComponent(){return this.store.get("component")}setComponent(Ze,fe={}){return Ze==null?this.removeComponent(fe):this.store.set("component",Ze,fe),this}removeComponent(Ze={}){return this.store.remove("component",Ze),this}}(function(ge){function Ze(fe,Ce,Ae="rect"){const Pe=[],ie=Ce?B.Lu.getForeignObjectMarkup():{tagName:"g",selector:"content"};return fe?Pe.push(ie):Pe.push({tagName:Ae,selector:"body"},ie,{tagName:"text",selector:"label"}),Pe}ge.config({view:"react-shape-view",markup:Ze(!1,!0),attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"},label:{fontSize:14,fill:"#333",refX:"50%",refY:"50%",textAnchor:"middle",textVerticalAnchor:"middle"}},propHooks(fe){if(fe.markup==null){const Ce=fe.primer,Ae=fe.useForeignObject!==!1;if(Ce&&Ce!=="rect"){fe.markup=Ze(!1,Ae,Ce);let Pe={};Ce==="circle"?Pe={refCx:"50%",refCy:"50%",refR:"50%"}:Ce==="ellipse"&&(Pe={refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}),fe.attrs=B.QK.merge({},{body:Object.assign({refWidth:null,refHeight:null},Pe)},fe.attrs||{})}else fe.simple&&(fe.markup=Ze(!0,Ae),fe.attrs=B.QK.merge({},{body:null,label:null},fe.attrs||{}))}return fe}}),B.NB.registry.register("react-shape",ge,!0)})(j||(j={}));var R=w(67294),k=w(73935),F;(function(ge){let Ze=!1,fe;const Ce=(mt,vt)=>{const Vt=vt.payload;switch(vt.type){case"add":{const U=mt.findIndex(tt=>tt.id===Vt.id);return U>=0?(mt[U]=Vt,[...mt]):[...mt,Vt]}case"remove":{const U=mt.findIndex(tt=>tt.id===Vt.id);if(U>=0){const tt=[...mt];return tt.splice(U,1),tt}break}default:break}return mt};function Ae(mt,vt){Ze&&fe({type:"add",payload:{id:mt,portal:vt}})}ge.connect=Ae;function Pe(mt){Ze&&fe({type:"remove",payload:{id:mt}})}ge.disconnect=Pe;function ie(){return Ze}ge.isActive=ie;function at(){return()=>{Ze=!0;const[mt,vt]=(0,R.useReducer)(Ce,[]);return fe=vt,R.createElement(R.Fragment,{children:mt.map(Vt=>Vt.portal)})}}ge.getProvider=at})(F||(F={}));class H extends R.PureComponent{constructor(Ze){super(Ze),this.scheduledAnimationFrame=!1,this.throttleUpdateFunc=()=>{this.scheduledAnimationFrame||(this.scheduledAnimationFrame=!0,window.requestAnimationFrame(()=>{this.setState(fe=>(this.scheduledAnimationFrame=!1,{tick:fe.tick+1}))}))},this.onChange=fe=>{if(H.throttleChangeTypes.includes(fe.key)){this.throttleUpdateFunc();return}this.setState({tick:this.state.tick+1})},this.state={tick:0}}componentDidMount(){this.props.node.on("change:*",this.onChange)}componentWillUnmount(){this.props.node.off("change:*",this.onChange)}clone(Ze){const{node:fe}=this.props;return typeof Ze.type=="string"?R.cloneElement(Ze):R.cloneElement(Ze,{node:fe})}render(){const{graph:Ze,node:fe,component:Ce}=this.props;if(R.isValidElement(Ce))return this.clone(Ce);if(typeof Ce=="function"){const Ae=B.Iw.call(Ce,Ze,fe);if(R.isValidElement(Ae))return this.clone(Ae)}return Ce}}H.throttleChangeTypes=["position","size"];class I extends B.DK{targetId(){return`${this.graph.view.cid}:${this.cell.id}`}init(){super.init(),this.cell.on("removed",()=>{F.disconnect(this.targetId())})}getComponentContainer(){return this.cell.prop("useForeignObject")===!1?this.selectors.content:this.selectors.foContent}confirmUpdate(Ze){const fe=super.confirmUpdate(Ze);return this.handleAction(fe,I.action,()=>{B.b2?B.b2.scheduleTask(()=>{this.renderReactComponent()}):this.renderReactComponent()})}renderReactComponent(){this.unmountReactComponent();const Ze=this.getComponentContainer(),fe=this.cell,Ce=this.graph;if(Ze){const Ae=this.graph.hook.getReactComponent(fe),Pe=R.createElement(H,{graph:Ce,node:fe,component:Ae});F.isActive()?F.connect(this.targetId(),k.createPortal(Pe,Ze)):k.render(Pe,Ze)}}unmountReactComponent(){const Ze=this.getComponentContainer();return Ze&&k.unmountComponentAtNode(Ze),Ze}unmount(){return F.disconnect(this.targetId()),this.unmountReactComponent(),super.unmount(),this}}(function(ge){ge.action="react",ge.config({bootstrap:[ge.action],actions:{component:ge.action}}),B.DK.registry.register("react-shape-view",ge,!0)})(I||(I={}));var ee=function(ge,Ze,fe,Ce){var Ae=arguments.length,Pe=Ae<3?Ze:Ce===null?Ce=Object.getOwnPropertyDescriptor(Ze,fe):Ce,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Pe=Reflect.decorate(ge,Ze,fe,Ce);else for(var at=ge.length-1;at>=0;at--)(ie=ge[at])&&(Pe=(Ae<3?ie(Pe):Ae>3?ie(Ze,fe,Pe):ie(Ze,fe))||Pe);return Ae>3&&Pe&&Object.defineProperty(Ze,fe,Pe),Pe};const ae="react";function ue(ge){const Ze={current:()=>{}},fe=vt=>{Ze.current(vt)};let Ce,Ae;function Pe(vt,Vt){Ce({id:vt,portal:Vt})}function ie(vt){Ae(vt)}const at=()=>{const[vt,Vt]=useState([]),[U,tt]=useState(),ut=useRef([]),vn=useRef([]);Ze.current=tt,Ce=useCallback(mr=>{const{id:pr}=mr;if(ut.current.includes(pr)){const hr=vn.current,Mt=hr.findIndex(yt=>yt.id===pr);Mt>-1?hr[Mt]=mr:hr.push(mr),vn.current=hr}else Vt(hr=>{const Mt=[...hr],yt=Mt.findIndex(Et=>Et.id===pr);return yt>-1?Mt[yt]=mr:Mt.push(mr),Mt})},[]),Ae=useCallback(mr=>{ut.current.includes(mr)&&(ut.current=ut.current.filter(pr=>pr!==mr)),vn.current.map(pr=>pr.id).includes(mr)&&(vn.current=vn.current.filter(pr=>pr.id!==mr)),Vt(pr=>pr.filter(hr=>hr.id!==mr))},[]);const Cn=useCallback(mr=>{const{name:pr,data:hr}=mr,{cells:Mt=[]}=hr||{};if(pr==="add"){const yt=Mt.filter(Et=>Et.isNode()).map(Et=>Et.id);ut.current=Array.from(new Set([...ut.current,...yt]))}},[]),cn=useCallback(({name:mr})=>{if(mr==="add"){const pr=vn.current;if(pr.length){const hr=pr.map(Mt=>Mt.id);ut.current=ut.current.filter(Mt=>!hr.includes(Mt)),vn.current=[],Vt(Mt=>{const yt=[...Mt];return pr.forEach(Et=>{const $e=yt.findIndex($t=>$t.id===Et.id);$e>-1?yt[$e]=Et:yt.push(Et)}),yt})}}},[]);return useLayoutEffect(()=>(U&&(U.on("batch:start",Cn),U.on("batch:stop",cn)),()=>{U&&(U.off("batch:start",Cn),U.off("batch:stop",cn),Vt([]),ut.current=[],vn.current=[])}),[U,Cn,cn]),React.createElement(React.Fragment,null,...vt.map(mr=>mr.portal))};class mt extends NodeView{init(){super.init(),this.cell.on("removed",()=>{ie(this.cell.id)})}getComponentContainer(){return this.cell.prop("useForeignObject")===!1?this.selectors.content:this.selectors.foContent}confirmUpdate(Vt){const U=super.confirmUpdate(Vt);return this.handleAction(U,ae,()=>this.renderReactComponent())}renderReactComponent(){this.unmountReactComponent();const Vt=this.getComponentContainer(),U=this.cell,tt=this.graph;if(Vt){const ut=this.graph.hook.getReactComponent(U),vn=React.createElement(Wrap,{graph:tt,node:U,component:ut});Pe(this.cell.id,ReactDOM.createPortal(vn,Vt))}}unmountReactComponent(){const Vt=this.getComponentContainer();return Vt&&ReactDOM.unmountComponentAtNode(Vt),Vt}onMouseDown(Vt,U,tt){const ut=Vt.target;if(ut.tagName.toLowerCase()==="input"){const ft=ut.getAttribute("type");if(ft==null||["text","password","number","email","search","tel","url"].includes(ft))return}super.onMouseDown(Vt,U,tt)}dispose(){ie(this.cell.id),this.unmountReactComponent()}}return ee([NodeView.dispose()],mt.prototype,"dispose",null),mt.config({bootstrap:[ae],actions:{component:ae}}),NodeView.registry.register(ge,mt,!0),{Portal:at,setGraph:fe}}function re(ge){const Ze=useRef(!1),[fe]=useState(()=>Ze.current?{}:(Ze.current=!0,ue(ge)));return[fe.Portal,fe.setGraph]}},94051:function(Ne,te,w){"use strict";w.d(te,{e9:function(){return at},is:function(){return R},kS:function(){return ql},Iw:function(){return j},kJ:function(){return il},Lu:function(){return Ua},NB:function(){return lc},DK:function(){return Wf},QK:function(){return B},E9:function(){return Fn},Ae:function(){return Ao},Bz:function(){return ie},b2:function(){return wb},kf:function(){return M}});var B={};w.r(B),w.d(B,{applyMixins:function(){return Cd},clone:function(){return Xh},cloneDeep:function(){return Ss},createClass:function(){return lp},defaults:function(){return Tm},defaultsDeep:function(){return Om},ensure:function(){return $0},extend:function(){return Hl},flatten:function(){return Kb},forIn:function(){return dn},getBoolean:function(){return Im},getByPath:function(){return up},getNumber:function(){return cp},getValue:function(){return xy},has:function(){return $a},inherit:function(){return pg},isEmpty:function(){return gm},isEqual:function(){return df},isMaliciousProp:function(){return Rm},isObject:function(){return _n},isPlainObject:function(){return Fl},merge:function(){return La},pick:function(){return oi},setByPath:function(){return wd},unsetByPath:function(){return fp}});var M={};w.r(M),w.d(M,{camelCase:function(){return uv},constantCase:function(){return Qy},dotCase:function(){return wC},endsWith:function(){return t1},escape:function(){return gg},eval:function(){return ww},getSpellingSuggestion:function(){return ux},hashcode:function(){return eb},isString:function(){return rc},kebabCase:function(){return fv},lowerFirst:function(){return Jy},pad:function(){return Ly},padEnd:function(){return _2},padStart:function(){return cl},pascalCase:function(){return qy},pathCase:function(){return EC},repeat:function(){return l1},sanitizeHTML:function(){return T1},sentenceCase:function(){return SC},split:function(){return _y},startsWith:function(){return Lm},template:function(){return yp},titleCase:function(){return AC},toString:function(){return Ll},truncate:function(){return k2},unescape:function(){return w2},uniqueId:function(){return _l},upperFirst:function(){return xh},uuid:function(){return tb}});var j={};w.r(j),w.d(j,{apply:function(){return Ng},cacher:function(){return vx},call:function(){return fs},debounce:function(){return D1},defer:function(){return _1},isAsync:function(){return Ep},isAsyncLike:function(){return yx},isFunction:function(){return gr},noop:function(){return wn},once:function(){return wp},toAsyncBoolean:function(){return k1},toDeferredBoolean:function(){return BC}});var R={};w.r(R),w.d(R,{CASE_SENSITIVE_ATTR:function(){return db},KAPPA:function(){return ul},MouseWheelHandle:function(){return ew},addClass:function(){return ja},animate:function(){return XC},animateAlongPath:function(){return $1},animateTransform:function(){return YC},append:function(){return ed},appendTo:function(){return z1},attr:function(){return Fa},bbox:function(){return Rx},before:function(){return Ap},breakText:function(){return Yl},cancelAnimationFrame:function(){return a0},circleToPathData:function(){return Mv},clearSelection:function(){return Sx},clickable:function(){return Lg},contains:function(){return i0},createElement:function(){return cb},createElementNS:function(){return yv},createSVGMatrix:function(){return Ac},createSVGPoint:function(){return Px},createSVGTransform:function(){return Tv},createSlicePathData:function(){return VC},createSvgDocument:function(){return ub},createSvgElement:function(){return Pu},createVector:function(){return EE},createVectors:function(){return _x},decomposeMatrix:function(){return Ix},ellipseToPathData:function(){return W1},empty:function(){return xv},ensureId:function(){return mv},find:function(){return zC},findOne:function(){return B1},findParentByClass:function(){return bv},getAttribute:function(){return G1},getBBox:function(){return Mc},getBBoxByElementAttr:function(){return Lw},getBoundingOffsetRect:function(){return Ov},getClass:function(){return Id},getComputedStyle:function(){return bb},getIntersection:function(){return KC},getMatrixByElementAttr:function(){return Fw},getPointsFromSvgElement:function(){return td},getTransformToElement:function(){return Np},getVendorPrefixedName:function(){return Bg},hasClass:function(){return _g},hasScrollbars:function(){return Ex},index:function(){return Rd},isHTMLElement:function(){return kg},isInputElement:function(){return hb},isSVGGraphicsElement:function(){return Sp},isVector:function(){return QE},kebablizeAttrs:function(){return Fg},lineToPathData:function(){return Jl},matrixToRotation:function(){return UC},matrixToScale:function(){return jC},matrixToTransformString:function(){return zg},matrixToTranslation:function(){return WC},mergeAttrs:function(){return pb},ns:function(){return hc},parseTransformString:function(){return c0},parseXML:function(){return fb},polygonToPathData:function(){return yf},polylineToPathData:function(){return jf},prepend:function(){return o0},qualifyAttr:function(){return Z1},rectToPathData:function(){return Ax},rectangleToPathData:function(){return Rw},remove:function(){return Ch},removeAttribute:function(){return V1},removeClass:function(){return nu},requestAnimationFrame:function(){return s0},rotate:function(){return Nx},sample:function(){return bc},scale:function(){return _p},setAttribute:function(){return Cv},setAttributes:function(){return wv},setPrefixedStyle:function(){return yb},styleToObject:function(){return Mp},svgVersion:function(){return vv},tagName:function(){return r0},text:function(){return Da},toGeometryShape:function(){return Dx},toLocalPoint:function(){return HC},toPath:function(){return Mx},toPathData:function(){return Tx},toggleClass:function(){return gv},transform:function(){return Iv},transformLine:function(){return $C},transformPoint:function(){return nd},transformPolyline:function(){return _w},transformRectangle:function(){return Xu},transformStringToMatrix:function(){return Pv},translate:function(){return qC},translateAndAutoOrient:function(){return QC},uniqueId:function(){return Sc}});var k={};w.r(k),w.d(k,{async:function(){return Wi},block:function(){return St},circle:function(){return Bo},circlePlus:function(){return ks},classic:function(){return an},cross:function(){return Oi},diamond:function(){return Dr},ellipse:function(){return ru},path:function(){return Ai}});var F={};w.r(F),w.d(F,{annotations:function(){return v},atConnectionLength:function(){return zx},atConnectionLengthIgnoreGradient:function(){return Uf},atConnectionLengthKeepGradient:function(){return ac},atConnectionRatio:function(){return Jw},atConnectionRatioIgnoreGradient:function(){return Sb},atConnectionRatioKeepGradient:function(){return bf},connection:function(){return sc},displayEmpty:function(){return T},eol:function(){return x},fill:function(){return DE},filter:function(){return Ie},html:function(){return be},lineHeight:function(){return l},port:function(){return De},ref:function(){return tw},refCx:function(){return rw},refCy:function(){return TE},refD:function(){return Ww},refDKeepOffset:function(){return Fx},refDResetOffset:function(){return jw},refDx:function(){return ME},refDy:function(){return Gg},refHeight:function(){return nw},refHeight2:function(){return RE},refPoints:function(){return OE},refPointsKeepOffset:function(){return PE},refPointsResetOffset:function(){return Uw},refR:function(){return iw},refRCircumscribed:function(){return Zw},refRInscribed:function(){return Eb},refRx:function(){return Vw},refRy:function(){return Lx},refWidth:function(){return Gw},refWidth2:function(){return Hw},refX:function(){return Rv},refX2:function(){return IE},refY:function(){return Dv},refY2:function(){return $w},resetOffset:function(){return X},sourceMarker:function(){return Zg},stroke:function(){return NE},style:function(){return xe},targetMarker:function(){return jg},text:function(){return _E},textPath:function(){return p},textVerticalAnchor:function(){return f},textWrap:function(){return nS},title:function(){return N},vertexMarker:function(){return u0},xAlign:function(){return z},yAlign:function(){return Z}});var H={};w.r(H),w.d(H,{dot:function(){return aA},doubleMesh:function(){return uA},fixedDot:function(){return lA},mesh:function(){return cA}});var I={};w.r(I),w.d(I,{blur:function(){return dA},brightness:function(){return xA},contrast:function(){return CA},dropShadow:function(){return pA},grayScale:function(){return gA},highlight:function(){return hA},hueRotate:function(){return yA},invert:function(){return bA},outline:function(){return fA},saturate:function(){return vA},sepia:function(){return mA}});var ee={};w.r(ee),w.d(ee,{flipX:function(){return rS},flipXY:function(){return oS},flipY:function(){return iS},watermark:function(){return wA}});var ae={};w.r(ae),w.d(ae,{className:function(){return EA},opacity:function(){return SA},stroke:function(){return MA}});var ue={};w.r(ue),w.d(ue,{absolute:function(){return TA},bottom:function(){return kA},ellipse:function(){return PA},ellipseSpread:function(){return OA},left:function(){return DA},line:function(){return RA},right:function(){return NA},top:function(){return _A}});var re={};w.r(re),w.d(re,{bottom:function(){return VA},inside:function(){return UA},insideOriented:function(){return WA},left:function(){return BA},manual:function(){return FA},outside:function(){return ZA},outsideOriented:function(){return jA},radial:function(){return $A},radialOriented:function(){return HA},right:function(){return zA},top:function(){return GA}});var ge={};w.r(ge),w.d(ge,{noop:function(){return YA},pinAbsolute:function(){return e3},pinRelative:function(){return QA}});var Ze={};w.r(Ze),w.d(Ze,{bottom:function(){return f3},bottomLeft:function(){return m3},bottomRight:function(){return v3},center:function(){return c3},left:function(){return h3},midSide:function(){return x3},nodeCenter:function(){return b3},orth:function(){return y3},right:function(){return d3},top:function(){return u3},topLeft:function(){return p3},topRight:function(){return g3}});var fe={};w.r(fe),w.d(fe,{closest:function(){return E3},length:function(){return w3},orth:function(){return S3},ratio:function(){return C3}});var Ce={};w.r(Ce),w.d(Ce,{anchor:function(){return O3},bbox:function(){return SS},boundary:function(){return T3},rect:function(){return M3}});var Ae={};w.r(Ae),w.d(Ae,{er:function(){return K3},loop:function(){return X3},manhattan:function(){return FS},metro:function(){return H3},normal:function(){return I3},oneSide:function(){return R3},orth:function(){return TS}});var Pe={};w.r(Pe),w.d(Pe,{jumpover:function(){return iM},loop:function(){return J3},normal:function(){return Y3},rounded:function(){return q3},smooth:function(){return Q3}});var ie={};w.r(ie),w.d(ie,{Attr:function(){return Ug},Background:function(){return Gx},ConnectionPoint:function(){return r2},ConnectionStrategy:function(){return q1},Connector:function(){return Ib},EdgeAnchor:function(){return n2},EdgeTool:function(){return e2},Filter:function(){return K1},Grid:function(){return Nv},Highlighter:function(){return f0},Marker:function(){return va},NodeAnchor:function(){return t2},NodeTool:function(){return Q1},PortLabelLayout:function(){return X1},PortLayout:function(){return Mb},Registry:function(){return oc},Router:function(){return Lv},create:function(){return oM}});var at={};w.r(at),w.d(at,{q6:function(){return zv}});var mt=w(19755),vt=w.n(mt),Vt=w(50450);let U=!1,tt=!1,ut=!1,vn=!1,ft=!1,Ye=!1,Cn=!1,cn=!1,mr=!1,pr=!1,hr=!1,Mt=!1,yt=!1,Et=!1,$e=!1,$t=!1;if(typeof navigator=="object"){const a=navigator.userAgent;U=a.indexOf("Macintosh")>=0,tt=!!a.match(/(iPad|iPhone|iPod)/g),ut=a.indexOf("Windows")>=0,vn=a.indexOf("MSIE")>=0,ft=!!a.match(/Trident\/7\./),Ye=!!a.match(/Edge\//),Cn=a.indexOf("Mozilla/")>=0&&a.indexOf("MSIE")<0&&a.indexOf("Edge/")<0,mr=a.indexOf("Chrome/")>=0&&a.indexOf("Edge/")<0,pr=a.indexOf("Opera/")>=0||a.indexOf("OPR/")>=0,hr=a.indexOf("Firefox/")>=0,Mt=a.indexOf("AppleWebKit/")>=0&&a.indexOf("Chrome/")<0&&a.indexOf("Edge/")<0,typeof document=="object"&&($t=!document.createElementNS||`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`!="[object SVGForeignObjectElement]"||a.indexOf("Opera/")>=0)}if(typeof window=="object"&&(cn=window.chrome!=null&&window.chrome.app!=null&&window.chrome.app.runtime!=null,Et=window.PointerEvent!=null&&!U),typeof document=="object"){yt="ontouchstart"in document.documentElement;try{const a=Object.defineProperty({},"passive",{get(){$e=!0}}),e=document.createElement("div");e.addEventListener&&e.addEventListener("click",()=>{},a)}catch(a){}}var Jt;if(function(a){a.IS_MAC=U,a.IS_IOS=tt,a.IS_WINDOWS=ut,a.IS_IE=vn,a.IS_IE11=ft,a.IS_EDGE=Ye,a.IS_NETSCAPE=Cn,a.IS_CHROME_APP=cn,a.IS_CHROME=mr,a.IS_OPERA=pr,a.IS_FIREFOX=hr,a.IS_SAFARI=Mt,a.SUPPORT_TOUCH=yt,a.SUPPORT_POINTER=Et,a.SUPPORT_PASSIVE=$e,a.NO_FOREIGNOBJECT=$t,a.SUPPORT_FOREIGNOBJECT=!a.NO_FOREIGNOBJECT}(Jt||(Jt={})),function(a){function e(){const h=window.module;return h!=null&&h.hot!=null&&h.hot.status!=null?h.hot.status():"unkonwn"}a.getHMRStatus=e;function t(){return e()==="apply"}a.isApplyingHMR=t;const r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function s(h){const g=document.createElement(r[h]||"div"),y=`on${h}`;let E=y in g;return E||(g.setAttribute(y,"return;"),E=typeof g[y]=="function"),E}a.isEventSupported=s}(Jt||(Jt={})),Jt.SUPPORT_PASSIVE){vt().event.special.touchstart={setup(e,t,r){if(!this.addEventListener)return!1;this.addEventListener("touchstart",r,{passive:!0})}};const a=vt().event.special.mousewheel;if(a){const e=a.setup;a.setup=function(){const t=this.addEventListener;if(!t)return!1;this.addEventListener=(r,s)=>{t.call(this,r,s,{passive:!0})},e.call(this),this.addEventListener=t}}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),function(a){a.forEach(e=>{Object.prototype.hasOwnProperty.call(e,"append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value(...t){const r=document.createDocumentFragment();t.forEach(s=>{const h=s instanceof Node;r.appendChild(h?s:document.createTextNode(String(s)))}),this.appendChild(r)}})})}([Element.prototype,Document.prototype,DocumentFragment.prototype]);var tn=Array.isArray,ir=tn,Or=typeof global=="object"&&global&&global.Object===Object&&global,Fr=Or,lr=typeof self=="object"&&self&&self.Object===Object&&self,Yr=Fr||lr||Function("return this")(),jn=Yr,dr=jn.Symbol,br=dr,nr=Object.prototype,Lr=nr.hasOwnProperty,Ji=nr.toString,Ci=br?br.toStringTag:void 0;function $i(a){var e=Lr.call(a,Ci),t=a[Ci];try{a[Ci]=void 0;var r=!0}catch(h){}var s=Ji.call(a);return r&&(e?a[Ci]=t:delete a[Ci]),s}var It=$i,Q=Object.prototype,we=Q.toString;function Nt(a){return we.call(a)}var jt=Nt,gt="[object Null]",Je="[object Undefined]",pt=br?br.toStringTag:void 0;function rt(a){return a==null?a===void 0?Je:gt:pt&&pt in Object(a)?It(a):jt(a)}var qt=rt;function Dn(a){var e=typeof a;return a!=null&&(e=="object"||e=="function")}var _n=Dn,Wr="[object AsyncFunction]",Qn="[object Function]",it="[object GeneratorFunction]",mn="[object Proxy]";function kn(a){if(!_n(a))return!1;var e=qt(a);return e==Qn||e==it||e==Wr||e==mn}var gr=kn,kr=9007199254740991;function Ei(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=kr}var er=Ei;function Tt(a){return a!=null&&er(a.length)&&!gr(a)}var sn=Tt,_t=jn["__core-js_shared__"],Ut=_t,Rn=function(){var a=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function Cr(a){return!!Rn&&Rn in a}var si=Cr,tr=Function.prototype,xn=tr.toString;function Hn(a){if(a!=null){try{return xn.call(a)}catch(e){}try{return a+""}catch(e){}}return""}var Kn=Hn,yn=/[\\^$.*+?()[\]{}|]/g,Sr=/^\[object .+?Constructor\]$/,yr=Function.prototype,Tr=Object.prototype,rn=yr.toString,hn=Tr.hasOwnProperty,or=RegExp("^"+rn.call(hn).replace(yn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ke(a){if(!_n(a)||si(a))return!1;var e=gr(a)?or:Sr;return e.test(Kn(a))}var Xe=Ke;function je(a,e){return a==null?void 0:a[e]}var me=je;function ze(a,e){var t=me(a,e);return Xe(t)?t:void 0}var Oe=ze,Y=Oe(Object,"create"),ne=Y;function W(){this.__data__=ne?ne(null):{},this.size=0}var S=W;function A(a){var e=this.has(a)&&delete this.__data__[a];return this.size-=e?1:0,e}var L=A,ce="__lodash_hash_undefined__",ve=Object.prototype,pe=ve.hasOwnProperty;function Ee(a){var e=this.__data__;if(ne){var t=e[a];return t===ce?void 0:t}return pe.call(e,a)?e[a]:void 0}var ht=Ee,ct=Object.prototype,nt=ct.hasOwnProperty;function Rt(a){var e=this.__data__;return ne?e[a]!==void 0:nt.call(e,a)}var kt=Rt,bn="__lodash_hash_undefined__";function pn(a,e){var t=this.__data__;return this.size+=this.has(a)?0:1,t[a]=ne&&e===void 0?bn:e,this}var Lt=pn;function Bt(a){var e=-1,t=a==null?0:a.length;for(this.clear();++e<t;){var r=a[e];this.set(r[0],r[1])}}Bt.prototype.clear=S,Bt.prototype.delete=L,Bt.prototype.get=ht,Bt.prototype.has=kt,Bt.prototype.set=Lt;var In=Bt;function Zn(){this.__data__=[],this.size=0}var sr=Zn;function ni(a,e){return a===e||a!==a&&e!==e}var mi=ni;function Rr(a,e){for(var t=a.length;t--;)if(mi(a[t][0],e))return t;return-1}var ai=Rr,li=Array.prototype,wi=li.splice;function Ct(a){var e=this.__data__,t=ai(e,a);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():wi.call(e,t,1),--this.size,!0}var Zt=Ct;function Pr(a){var e=this.__data__,t=ai(e,a);return t<0?void 0:e[t][1]}var Gn=Pr;function vr(a){return ai(this.__data__,a)>-1}var $r=vr;function At(a,e){var t=this.__data__,r=ai(t,a);return r<0?(++this.size,t.push([a,e])):t[r][1]=e,this}var Be=At;function Re(a){var e=-1,t=a==null?0:a.length;for(this.clear();++e<t;){var r=a[e];this.set(r[0],r[1])}}Re.prototype.clear=sr,Re.prototype.delete=Zt,Re.prototype.get=Gn,Re.prototype.has=$r,Re.prototype.set=Be;var Fe=Re,Se=Oe(jn,"Map"),wt=Se;function Gt(){this.size=0,this.__data__={hash:new In,map:new(wt||Fe),string:new In}}var Sn=Gt;function Un(a){var e=typeof a;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?a!=="__proto__":a===null}var _e=Un;function We(a,e){var t=a.__data__;return _e(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Ve=We;function Dt(a){var e=Ve(this,a).delete(a);return this.size-=e?1:0,e}var An=Dt;function on(a){return Ve(this,a).get(a)}var et=on;function Tn(a){return Ve(this,a).has(a)}var zt=Tn;function Xn(a,e){var t=Ve(this,a),r=t.size;return t.set(a,e),this.size+=t.size==r?0:1,this}var cr=Xn;function ii(a){var e=-1,t=a==null?0:a.length;for(this.clear();++e<t;){var r=a[e];this.set(r[0],r[1])}}ii.prototype.clear=Sn,ii.prototype.delete=An,ii.prototype.get=et,ii.prototype.has=zt,ii.prototype.set=cr;var ui=ii,Mr="__lodash_hash_undefined__";function jr(a){return this.__data__.set(a,Mr),this}var eo=jr;function yi(a){return this.__data__.has(a)}var ci=yi;function Si(a){var e=-1,t=a==null?0:a.length;for(this.__data__=new ui;++e<t;)this.add(a[e])}Si.prototype.add=Si.prototype.push=eo,Si.prototype.has=ci;var Li=Si;function to(a,e,t,r){for(var s=a.length,h=t+(r?1:-1);r?h--:++h<s;)if(e(a[h],h,a))return h;return-1}var Kr=to;function gs(a){return a!==a}var Cs=gs;function es(a,e,t){for(var r=t-1,s=a.length;++r<s;)if(a[r]===e)return r;return-1}var cs=es;function To(a,e,t){return e===e?cs(a,e,t):Kr(a,Cs,t)}var Do=To;function Ko(a,e){var t=a==null?0:a.length;return!!t&&Do(a,e,0)>-1}var os=Ko;function _(a,e,t){for(var r=-1,s=a==null?0:a.length;++r<s;)if(t(e,a[r]))return!0;return!1}var K=_;function he(a,e){return a.has(e)}var ye=he,Ue=Oe(jn,"Set"),He=Ue;function dt(){}var wn=dt;function gn(a){var e=-1,t=Array(a.size);return a.forEach(function(r){t[++e]=r}),t}var Pn=gn,zr=1/0,Gr=He&&1/Pn(new He([,-0]))[1]==zr?function(a){return new He(a)}:wn,Hr=Gr,bi=200;function Vo(a,e,t){var r=-1,s=os,h=a.length,g=!0,y=[],E=y;if(t)g=!1,s=K;else if(h>=bi){var D=e?null:Hr(a);if(D)return Pn(D);g=!1,s=ye,E=new Li}else E=e?[]:y;e:for(;++r<h;){var V=a[r],$=e?e(V):V;if(V=t||V!==0?V:0,g&&$===$){for(var J=E.length;J--;)if(E[J]===$)continue e;e&&E.push($),y.push(V)}else s(E,$,t)||(E!==y&&E.push($),y.push(V))}return y}var Uo=Vo;function Zo(a){return a&&a.length?Uo(a):[]}var Ns=Zo;function Ms(a,e){for(var t=-1,r=e.length,s=a.length;++t<r;)a[s+t]=e[t];return a}var No=Ms;function ws(a){return a!=null&&typeof a=="object"}var Hi=ws,ms="[object Arguments]";function Pt(a){return Hi(a)&&qt(a)==ms}var ot=Pt,Ft=Object.prototype,Qt=Ft.hasOwnProperty,Ht=Ft.propertyIsEnumerable,$n=ot(function(){return arguments}())?ot:function(a){return Hi(a)&&Qt.call(a,"callee")&&!Ht.call(a,"callee")},Vn=$n,Er=br?br.isConcatSpreadable:void 0;function io(a){return ir(a)||Vn(a)||!!(Er&&a&&a[Er])}var Mi=io;function Ki(a,e,t,r,s){var h=-1,g=a.length;for(t||(t=Mi),s||(s=[]);++h<g;){var y=a[h];e>0&&t(y)?e>1?Ki(y,e-1,t,r,s):No(s,y):r||(s[s.length]=y)}return s}var qi=Ki;function Ri(a){return a}var Ts=Ri;function rs(a,e,t){switch(t.length){case 0:return a.call(e);case 1:return a.call(e,t[0]);case 2:return a.call(e,t[0],t[1]);case 3:return a.call(e,t[0],t[1],t[2])}return a.apply(e,t)}var po=rs,xi=Math.max;function Ho(a,e,t){return e=xi(e===void 0?a.length-1:e,0),function(){for(var r=arguments,s=-1,h=xi(r.length-e,0),g=Array(h);++s<h;)g[s]=r[e+s];s=-1;for(var y=Array(e+1);++s<e;)y[s]=r[s];return y[e]=t(g),po(a,this,y)}}var ls=Ho;function Yo(a){return function(){return a}}var Hs=Yo,Ol=function(){try{var a=Oe(Object,"defineProperty");return a({},"",{}),a}catch(e){}}(),xa=Ol,Ca=xa?function(a,e){return xa(a,"toString",{configurable:!0,enumerable:!1,value:Hs(e),writable:!0})}:Ts,ra=Ca,Aa=800,Il=16,Ra=Date.now;function Rl(a){var e=0,t=0;return function(){var r=Ra(),s=Il-(r-t);if(t=r,s>0){if(++e>=Aa)return arguments[0]}else e=0;return a.apply(void 0,arguments)}}var Ka=Rl,ol=Ka(ra),Wl=ol;function sl(a,e){return Wl(ls(a,e,Ts),a+"")}var Ia=sl;function pc(a){return Hi(a)&&sn(a)}var al=pc,kl=Ia(function(a){return Uo(qi(a,1,al,!0))}),Bc=kl,En="[object Symbol]";function fr(a){return typeof a=="symbol"||Hi(a)&&qt(a)==En}var Nr=fr,Ot=4294967295,On=Ot-1,Yn=Math.floor,di=Math.min;function Qi(a,e,t,r){var s=0,h=a==null?0:a.length;if(h===0)return 0;e=t(e);for(var g=e!==e,y=e===null,E=Nr(e),D=e===void 0;s<h;){var V=Yn((s+h)/2),$=t(a[V]),J=$!==void 0,de=$===null,Ge=$===$,Qe=Nr($);if(g)var xt=r||Ge;else D?xt=Ge&&(r||J):y?xt=Ge&&J&&(r||!de):E?xt=Ge&&J&&!de&&(r||!Qe):de||Qe?xt=!1:xt=r?$<=e:$<e;xt?s=V+1:h=V}return di(h,On)}var ao=Qi,Ps=4294967295,ts=Ps>>>1;function Lo(a,e,t){var r=0,s=a==null?r:a.length;if(typeof e=="number"&&e===e&&s<=ts){for(;r<s;){var h=r+s>>>1,g=a[h];g!==null&&!Nr(g)&&(t?g<=e:g<e)?r=h+1:s=h}return s}return ao(a,e,Ts,t)}var jo=Lo;function Ro(a,e){return jo(a,e)}var $s=Ro;function ya(){this.__data__=new Fe,this.size=0}var ha=ya;function Wa(a){var e=this.__data__,t=e.delete(a);return this.size=e.size,t}var bl=Wa;function Ls(a){return this.__data__.get(a)}var Xa=Ls;function ou(a){return this.__data__.has(a)}var $f=ou,Xg=200;function Yg(a,e){var t=this.__data__;if(t instanceof Fe){var r=t.__data__;if(!wt||r.length<Xg-1)return r.push([a,e]),this.size=++t.size,this;t=this.__data__=new ui(r)}return t.set(a,e),this.size=t.size,this}var Jg=Yg;function Iu(a){var e=this.__data__=new Fe(a);this.size=e.size}Iu.prototype.clear=ha,Iu.prototype.delete=bl,Iu.prototype.get=Xa,Iu.prototype.has=$f,Iu.prototype.set=Jg;var Cc=Iu;function Ru(a,e){for(var t=-1,r=a==null?0:a.length;++t<r;)if(e(a[t],t,a))return!0;return!1}var zl=Ru,Hf=1,Eh=2;function qu(a,e,t,r,s,h){var g=t&Hf,y=a.length,E=e.length;if(y!=E&&!(g&&E>y))return!1;var D=h.get(a),V=h.get(e);if(D&&V)return D==e&&V==a;var $=-1,J=!0,de=t&Eh?new Li:void 0;for(h.set(a,e),h.set(e,a);++$<y;){var Ge=a[$],Qe=e[$];if(r)var xt=g?r(Qe,Ge,$,e,a,h):r(Ge,Qe,$,a,e,h);if(xt!==void 0){if(xt)continue;J=!1;break}if(de){if(!zl(e,function(Yt,fn){if(!ye(de,fn)&&(Ge===Yt||s(Ge,Yt,t,r,h)))return de.push(fn)})){J=!1;break}}else if(!(Ge===Qe||s(Ge,Qe,t,r,h))){J=!1;break}}return h.delete(a),h.delete(e),J}var wf=qu,Bp=jn.Uint8Array,Ef=Bp;function yu(a){var e=-1,t=Array(a.size);return a.forEach(function(r,s){t[++e]=[s,r]}),t}var kd=yu,qg=1,zp=2,Qg="[object Boolean]",Kf="[object Date]",Xf="[object Error]",Sf="[object Map]",m0="[object Number]",od="[object RegExp]",em="[object Set]",Af="[object String]",wl="[object Symbol]",$l="[object ArrayBuffer]",Ld="[object DataView]",sd=br?br.prototype:void 0,ad=sd?sd.valueOf:void 0;function Fd(a,e,t,r,s,h,g){switch(t){case Ld:if(a.byteLength!=e.byteLength||a.byteOffset!=e.byteOffset)return!1;a=a.buffer,e=e.buffer;case $l:return!(a.byteLength!=e.byteLength||!h(new Ef(a),new Ef(e)));case Qg:case Kf:case m0:return mi(+a,+e);case Xf:return a.name==e.name&&a.message==e.message;case od:case Af:return a==e+"";case Sf:var y=kd;case em:var E=r&qg;if(y||(y=Pn),a.size!=e.size&&!E)return!1;var D=g.get(a);if(D)return D==e;r|=zp,g.set(a,e);var V=wf(y(a),y(e),r,s,h,g);return g.delete(a),V;case wl:if(ad)return ad.call(a)==ad.call(e)}return!1}var Sh=Fd;function Du(a,e,t){var r=e(a);return ir(a)?r:No(r,t(a))}var ca=Du;function Yf(a,e){for(var t=-1,r=a==null?0:a.length,s=0,h=[];++t<r;){var g=a[t];e(g,t,a)&&(h[s++]=g)}return h}var Oc=Yf;function Ah(){return[]}var Jf=Ah,gc=Object.prototype,tm=gc.propertyIsEnumerable,qf=Object.getOwnPropertySymbols,Gp=qf?function(a){return a==null?[]:(a=Object(a),Oc(qf(a),function(e){return tm.call(a,e)}))}:Jf,bu=Gp;function v0(a,e){for(var t=-1,r=Array(a);++t<a;)r[t]=e(t);return r}var Bd=v0;function wc(){return!1}var zc=wc,en=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Mh=en&&typeof module=="object"&&module&&!module.nodeType&&module,zd=Mh&&Mh.exports===en,Gc=zd?jn.Buffer:void 0,Ma=Gc?Gc.isBuffer:void 0,Zv=Ma||zc,Th=Zv,y0=9007199254740991,Mf=/^(?:0|[1-9]\d*)$/;function b0(a,e){var t=typeof a;return e=e==null?y0:e,!!e&&(t=="number"||t!="symbol"&&Mf.test(a))&&a>-1&&a%1==0&&a<e}var Ph=b0,Vp="[object Arguments]",Zp="[object Array]",jv="[object Boolean]",Qu="[object Date]",Uv="[object Error]",Wv="[object Function]",nm="[object Map]",rm="[object Number]",x0="[object Object]",ef="[object RegExp]",C0="[object Set]",$v="[object String]",im="[object WeakMap]",su="[object ArrayBuffer]",jp="[object DataView]",Tf="[object Float32Array]",Up="[object Float64Array]",Vc="[object Int8Array]",Ta="[object Int16Array]",ld="[object Int32Array]",mc="[object Uint8Array]",Gd="[object Uint8ClampedArray]",om="[object Uint16Array]",ds="[object Uint32Array]",mo={};mo[Tf]=mo[Up]=mo[Vc]=mo[Ta]=mo[ld]=mo[mc]=mo[Gd]=mo[om]=mo[ds]=!0,mo[Vp]=mo[Zp]=mo[su]=mo[jv]=mo[jp]=mo[Qu]=mo[Uv]=mo[Wv]=mo[nm]=mo[rm]=mo[x0]=mo[ef]=mo[C0]=mo[$v]=mo[im]=!1;function Rs(a){return Hi(a)&&er(a.length)&&!!mo[qt(a)]}var Ds=Rs;function Wp(a){return function(e){return a(e)}}var Nu=Wp,qo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ks=qo&&typeof module=="object"&&module&&!module.nodeType&&module,w0=Ks&&Ks.exports===qo,tf=w0&&Fr.process,Zc=function(){try{var a=Ks&&Ks.require&&Ks.require("util").types;return a||tf&&tf.binding&&tf.binding("util")}catch(e){}}(),el=Zc,jc=el&&el.isTypedArray,Ec=jc?Nu(jc):Ds,Xi=Ec,zi=Object.prototype,Qf=zi.hasOwnProperty;function cd(a,e){var t=ir(a),r=!t&&Vn(a),s=!t&&!r&&Th(a),h=!t&&!r&&!s&&Xi(a),g=t||r||s||h,y=g?Bd(a.length,String):[],E=y.length;for(var D in a)(e||Qf.call(a,D))&&!(g&&(D=="length"||s&&(D=="offset"||D=="parent")||h&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||Ph(D,E)))&&y.push(D);return y}var Pf=cd,ll=Object.prototype;function Dl(a){var e=a&&a.constructor,t=typeof e=="function"&&e.prototype||ll;return a===t}var ba=Dl;function eh(a,e){return function(t){return a(e(t))}}var Oh=eh,ud=Oh(Object.keys,Object),Gl=ud,fd=Object.prototype,Ih=fd.hasOwnProperty;function au(a){if(!ba(a))return Gl(a);var e=[];for(var t in Object(a))Ih.call(a,t)&&t!="constructor"&&e.push(t);return e}var th=au;function nf(a){return sn(a)?Pf(a):th(a)}var Ic=nf;function Rh(a){return ca(a,Ic,bu)}var Va=Rh,Vd=1,Zd=Object.prototype,ss=Zd.hasOwnProperty;function Pi(a,e,t,r,s,h){var g=t&Vd,y=Va(a),E=y.length,D=Va(e),V=D.length;if(E!=V&&!g)return!1;for(var $=E;$--;){var J=y[$];if(!(g?J in e:ss.call(e,J)))return!1}var de=h.get(a),Ge=h.get(e);if(de&&Ge)return de==e&&Ge==a;var Qe=!0;h.set(a,e),h.set(e,a);for(var xt=g;++$<E;){J=y[$];var Yt=a[J],fn=e[J];if(r)var Xt=g?r(fn,Yt,J,e,a,h):r(Yt,fn,J,a,e,h);if(!(Xt===void 0?Yt===fn||s(Yt,fn,t,r,h):Xt)){Qe=!1;break}xt||(xt=J=="constructor")}if(Qe&&!xt){var zn=a.constructor,xr=e.constructor;zn!=xr&&"constructor"in a&&"constructor"in e&&!(typeof zn=="function"&&zn instanceof zn&&typeof xr=="function"&&xr instanceof xr)&&(Qe=!1)}return h.delete(a),h.delete(e),Qe}var tl=Pi,Uc=Oe(jn,"DataView"),fl=Uc,$p=Oe(jn,"Promise"),jd=$p,Of=Oe(jn,"WeakMap"),nh=Of,If="[object Map]",Rc="[object Object]",rf="[object Promise]",_u="[object Set]",Wc="[object WeakMap]",Dh="[object DataView]",rh=Kn(fl),of=Kn(wt),sf=Kn(jd),ih=Kn(He),Nh=Kn(nh),lu=qt;(fl&&lu(new fl(new ArrayBuffer(1)))!=Dh||wt&&lu(new wt)!=If||jd&&lu(jd.resolve())!=rf||He&&lu(new He)!=_u||nh&&lu(new nh)!=Wc)&&(lu=function(a){var e=qt(a),t=e==Rc?a.constructor:void 0,r=t?Kn(t):"";if(r)switch(r){case rh:return Dh;case of:return If;case sf:return rf;case ih:return _u;case Nh:return Wc}return e});var Rf=lu,Hp=1,af="[object Arguments]",ku="[object Array]",hd="[object Object]",sm=Object.prototype,oh=sm.hasOwnProperty;function Kp(a,e,t,r,s,h){var g=ir(a),y=ir(e),E=g?ku:Rf(a),D=y?ku:Rf(e);E=E==af?hd:E,D=D==af?hd:D;var V=E==hd,$=D==hd,J=E==D;if(J&&Th(a)){if(!Th(e))return!1;g=!0,V=!1}if(J&&!V)return h||(h=new Cc),g||Xi(a)?wf(a,e,t,r,s,h):Sh(a,e,E,t,r,s,h);if(!(t&Hp)){var de=V&&oh.call(a,"__wrapped__"),Ge=$&&oh.call(e,"__wrapped__");if(de||Ge){var Qe=de?a.value():a,xt=Ge?e.value():e;return h||(h=new Cc),s(Qe,xt,t,r,h)}}return J?(h||(h=new Cc),tl(a,e,t,r,s,h)):!1}var E0=Kp;function Ud(a,e,t,r,s){return a===e?!0:a==null||e==null||!Hi(a)&&!Hi(e)?a!==a&&e!==e:E0(a,e,t,r,Ud,s)}var Df=Ud,Wd=1,S0=2;function $d(a,e,t,r){var s=t.length,h=s,g=!r;if(a==null)return!h;for(a=Object(a);s--;){var y=t[s];if(g&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++s<h;){y=t[s];var E=y[0],D=a[E],V=y[1];if(g&&y[2]){if(D===void 0&&!(E in a))return!1}else{var $=new Cc;if(r)var J=r(D,V,E,a,e,$);if(!(J===void 0?Df(V,D,Wd|S0,r,$):J))return!1}}return!0}var ga=$d;function A0(a){return a===a&&!_n(a)}var Lu=A0;function Hd(a){for(var e=Ic(a),t=e.length;t--;){var r=e[t],s=a[r];e[t]=[r,s,Lu(s)]}return e}var M0=Hd;function T0(a,e){return function(t){return t==null?!1:t[a]===e&&(e!==void 0||a in Object(t))}}var am=T0;function Dc(a){var e=M0(a);return e.length==1&&e[0][2]?am(e[0][0],e[0][1]):function(t){return t===a||ga(t,a,e)}}var lm=Dc,Xp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cm=/^\w*$/;function dd(a,e){if(ir(a))return!1;var t=typeof a;return t=="number"||t=="symbol"||t=="boolean"||a==null||Nr(a)?!0:cm.test(a)||!Xp.test(a)||e!=null&&a in Object(e)}var _h=dd,Ql="Expected a function";function cu(a,e){if(typeof a!="function"||e!=null&&typeof e!="function")throw new TypeError(Ql);var t=function(){var r=arguments,s=e?e.apply(this,r):r[0],h=t.cache;if(h.has(s))return h.get(s);var g=a.apply(this,r);return t.cache=h.set(s,g)||h,g};return t.cache=new(cu.Cache||ui),t}cu.Cache=ui;var pd=cu,lf=500;function sh(a){var e=pd(a,function(r){return t.size===lf&&t.clear(),r}),t=e.cache;return e}var Kd=sh,Xd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yd=/\\(\\)?/g,kh=Kd(function(a){var e=[];return a.charCodeAt(0)===46&&e.push(""),a.replace(Xd,function(t,r,s,h){e.push(s?h.replace(Yd,"$1"):r||t)}),e}),Jd=kh;function xu(a,e){for(var t=-1,r=a==null?0:a.length,s=Array(r);++t<r;)s[t]=e(a[t],t,a);return s}var cf=xu,Cu=1/0,Lh=br?br.prototype:void 0,Fh=Lh?Lh.toString:void 0;function Bh(a){if(typeof a=="string")return a;if(ir(a))return cf(a,Bh)+"";if(Nr(a))return Fh?Fh.call(a):"";var e=a+"";return e=="0"&&1/a==-Cu?"-0":e}var Fu=Bh;function zh(a){return a==null?"":Fu(a)}var Ll=zh;function Yp(a,e){return ir(a)?a:_h(a,e)?[a]:Jd(Ll(a))}var qd=Yp,Hv=1/0;function P0(a){if(typeof a=="string"||Nr(a))return a;var e=a+"";return e=="0"&&1/a==-Hv?"-0":e}var $c=P0;function ec(a,e){e=qd(e,a);for(var t=0,r=e.length;a!=null&&t<r;)a=a[$c(e[t++])];return t&&t==r?a:void 0}var Nc=ec;function Kv(a,e,t){var r=a==null?void 0:Nc(a,e);return r===void 0?t:r}var Xv=Kv;function ah(a,e){return a!=null&&e in Object(a)}var Gh=ah;function Hc(a,e,t){e=qd(e,a);for(var r=-1,s=e.length,h=!1;++r<s;){var g=$c(e[r]);if(!(h=a!=null&&t(a,g)))break;a=a[g]}return h||++r!=s?h:(s=a==null?0:a.length,!!s&&er(s)&&Ph(g,s)&&(ir(a)||Vn(a)))}var Jp=Hc;function gd(a,e){return a!=null&&Jp(a,e,Gh)}var uu=gd,Bu=1,da=2;function fu(a,e){return _h(a)&&Lu(e)?am($c(a),e):function(t){var r=Xv(t,a);return r===void 0&&r===e?uu(t,a):Df(e,r,Bu|da)}}var Vh=fu;function Os(a){return function(e){return e==null?void 0:e[a]}}var Ya=Os;function Ja(a){return function(e){return Nc(e,a)}}var hl=Ja;function lh(a){return _h(a)?Ya($c(a)):hl(a)}var qp=lh;function Yv(a){return typeof a=="function"?a:a==null?Ts:typeof a=="object"?ir(a)?Vh(a[0],a[1]):lm(a):qp(a)}var um=Yv;function fm(a,e,t){return ao(a,e,um(t,2))}var Qd=fm;function O0(a){return function(e,t,r){for(var s=-1,h=Object(e),g=r(e),y=g.length;y--;){var E=g[a?y:++s];if(t(h[E],E,h)===!1)break}return e}}var ep=O0,ch=ep(),Kc=ch;function Qp(a,e){return a&&Kc(a,e,Ic)}var Zh=Qp;function zu(a,e){return function(t,r){if(t==null)return t;if(!sn(t))return a(t,r);for(var s=t.length,h=e?s:-1,g=Object(t);(e?h--:++h<s)&&r(g[h],h,g)!==!1;);return t}}var md=zu,Jv=md(Zh),jh=Jv;function tc(a,e){var t=-1,r=sn(a)?Array(a.length):[];return jh(a,function(s,h,g){r[++t]=e(s,h,g)}),r}var Uh=tc;function Le(a,e){var t=a.length;for(a.sort(e);t--;)a[t]=a[t].value;return a}var nn=Le;function Bn(a,e){if(a!==e){var t=a!==void 0,r=a===null,s=a===a,h=Nr(a),g=e!==void 0,y=e===null,E=e===e,D=Nr(e);if(!y&&!D&&!h&&a>e||h&&g&&E&&!y&&!D||r&&g&&E||!t&&E||!s)return 1;if(!r&&!h&&!D&&a<e||D&&t&&s&&!r&&!h||y&&t&&s||!g&&s||!E)return-1}return 0}var ri=Bn;function Ur(a,e,t){for(var r=-1,s=a.criteria,h=e.criteria,g=s.length,y=t.length;++r<g;){var E=ri(s[r],h[r]);if(E){if(r>=y)return E;var D=t[r];return E*(D=="desc"?-1:1)}}return a.index-e.index}var qr=Ur;function hi(a,e,t){e.length?e=cf(e,function(h){return ir(h)?function(g){return Nc(g,h.length===1?h[0]:h)}:h}):e=[Ts];var r=-1;e=cf(e,Nu(um));var s=Uh(a,function(h,g,y){var E=cf(e,function(D){return D(h)});return{criteria:E,index:++r,value:h}});return nn(s,function(h,g){return qr(h,g,t)})}var ji=hi;function lo(a,e,t){if(!_n(t))return!1;var r=typeof e;return(r=="number"?sn(t)&&Ph(e,t.length):r=="string"&&e in t)?mi(t[e],a):!1}var no=lo,oo=Ia(function(a,e){if(a==null)return[];var t=e.length;return t>1&&no(a,e[0],e[1])?e=[]:t>2&&no(e[0],e[1],e[2])&&(e=[e[0]]),ji(a,qi(e,1),[])}),Zi=oo;function Mo(a,e,t){e=="__proto__"&&xa?xa(a,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):a[e]=t}var Yi=Mo;function yo(a,e,t,r){for(var s=-1,h=a==null?0:a.length;++s<h;){var g=a[s];e(r,g,t(g),a)}return r}var Vr=yo;function pi(a,e,t,r){return jh(a,function(s,h,g){e(r,s,t(s),g)}),r}var fo=pi;function _o(a,e){return function(t,r){var s=ir(t)?Vr:fo,h=e?e():{};return s(t,a,um(r,2),h)}}var Vi=_o,Oo=Object.prototype,Di=Oo.hasOwnProperty,bo=Vi(function(a,e,t){Di.call(a,t)?a[t].push(e):Yi(a,t,[e])}),Fi=bo,xo=200;function Es(a,e,t,r){var s=-1,h=os,g=!0,y=a.length,E=[],D=e.length;if(!y)return E;t&&(e=cf(e,Nu(t))),r?(h=K,g=!1):e.length>=xo&&(h=ye,g=!1,e=new Li(e));e:for(;++s<y;){var V=a[s],$=t==null?V:t(V);if(V=r||V!==0?V:0,g&&$===$){for(var J=D;J--;)if(e[J]===$)continue e;E.push(V)}else h(e,$,r)||E.push(V)}return E}var Bs=Es,So=Ia(function(a,e){return al(a)?Bs(a,qi(e,1,al,!0)):[]}),ho=So;function Bi(a,e,t){for(var r=-1,s=a.length;++r<s;){var h=a[r],g=e(h);if(g!=null&&(y===void 0?g===g&&!Nr(g):t(g,y)))var y=g,E=h}return E}var vs=Bi;function Wo(a,e){return a>e}var Jo=Wo;function Ys(a){return a&&a.length?vs(a,Ts,Jo):void 0}var ys=Ys;function js(a,e,t){const r=ua(a,t),s=ua(e,t),h=s.free,g=r.keyIndex,y=s.keyIndex,E=[],D=[];let V=0,$,J,de=0;for(;V<a.length;){if($=a[V],J=$[t],J)if(!y.hasOwnProperty(J))D.push(null);else{const zn=y[J];D.push(e[zn])}else{de+=1;const zn=h[de];D.push(zn||null)}V+=1}const Ge=D.slice(0);for(V=0;V<Ge.length;)Ge[V]===null?(Yt(V),Xt(V)):V+=1;let Qe=V=0;for(;V<e.length;){$=e[V],J=$[t];const zn=Ge[Qe];if(zn){const xr=zn[t];if(J===xr)Qe+=1;else if(!g.hasOwnProperty(J))fn(V,$);else{const Jr=Ge[Qe+1];Jr&&(Jr[t]===J?(Yt(V),Xt(Qe),Qe+=1):fn(V,$))}}else fn(V,$);V+=1}let xt=Ge.length-Qe;for(;(Qe+=1)<Ge.length;)xt-=1,Yt(xt+V);function Yt(zn){const xr={index:zn,type:0,item:null};E.push(xr)}function fn(zn,xr){const Jr={index:zn,item:xr,type:1};E.push(Jr)}function Xt(zn){Ge.splice(zn,1)}return{moves:E}}function ua(a,e){const t={},r=[];for(let s=0,h=a.length;s<h;s+=1){const g=a[s],y=g[e];y?t[y]=s:r.push(g)}return{keyIndex:t,free:r}}var dl=Object.prototype,ia=dl.hasOwnProperty;function As(a,e){return a!=null&&ia.call(a,e)}var pl=As;function Pa(a,e){return a!=null&&Jp(a,e,pl)}var $a=Pa,qa=Object.prototype,El=qa.hasOwnProperty;function oa(a,e,t){var r=a[e];(!(El.call(a,e)&&mi(r,t))||t===void 0&&!(e in a))&&Yi(a,e,t)}var nl=oa;function gl(a,e,t,r){if(!_n(a))return a;e=qd(e,a);for(var s=-1,h=e.length,g=h-1,y=a;y!=null&&++s<h;){var E=$c(e[s]),D=t;if(E==="__proto__"||E==="constructor"||E==="prototype")return a;if(s!=g){var V=y[E];D=r?r(V,E,y):void 0,D===void 0&&(D=_n(V)?V:Ph(e[s+1])?[]:{})}nl(y,E,D),y=y[E]}return a}var Gs=gl;function Vs(a,e,t){for(var r=-1,s=e.length,h={};++r<s;){var g=e[r],y=Nc(a,g);t(y,g)&&Gs(h,qd(g,a),y)}return h}var Oa=Vs;function Is(a,e){return Oa(a,e,function(t,r){return uu(a,r)})}var Qs=Is;function sa(a){var e=a==null?0:a.length;return e?qi(a,1):[]}var ml=sa;function Gu(a){return Wl(ls(a,void 0,ml),a+"")}var uf=Gu,Mn=uf(function(a,e){return a==null?{}:Qs(a,e)}),oi=Mn;function Qr(a){return typeof a=="function"?a:Ts}var Fo=Qr;function Xs(a){var e=[];if(a!=null)for(var t in Object(a))e.push(t);return e}var qe=Xs,Wt=Object.prototype,rr=Wt.hasOwnProperty;function _r(a){if(!_n(a))return qe(a);var e=ba(a),t=[];for(var r in a)r=="constructor"&&(e||!rr.call(a,r))||t.push(r);return t}var Zr=_r;function ur(a){return sn(a)?Pf(a,!0):Zr(a)}var Jn=ur;function Ar(a,e){return a==null?a:Kc(a,Fo(e),Jn)}var dn=Ar;function qn(a,e,t){(t!==void 0&&!mi(a[e],t)||t===void 0&&!(e in a))&&Yi(a,e,t)}var ln=qn,wr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Xr=wr&&typeof module=="object"&&module&&!module.nodeType&&module,Ti=Xr&&Xr.exports===wr,Ii=Ti?jn.Buffer:void 0,vi=Ii?Ii.allocUnsafe:void 0;function Ui(a,e){if(e)return a.slice();var t=a.length,r=vi?vi(t):new a.constructor(t);return a.copy(r),r}var ps=Ui;function zs(a){var e=new a.constructor(a.byteLength);return new Ef(e).set(new Ef(a)),e}var Qo=zs;function bs(a,e){var t=e?Qo(a.buffer):a.buffer;return new a.constructor(t,a.byteOffset,a.length)}var Fs=bs;function ma(a,e){var t=-1,r=a.length;for(e||(e=Array(r));++t<r;)e[t]=a[t];return e}var Ha=ma,nc=Object.create,tp=function(){function a(){}return function(e){if(!_n(e))return{};if(nc)return nc(e);a.prototype=e;var t=new a;return a.prototype=void 0,t}}(),_c=tp,I0=Oh(Object.getPrototypeOf,Object),Xc=I0;function hm(a){return typeof a.constructor=="function"&&!ba(a)?_c(Xc(a)):{}}var as=hm,dm="[object Object]",Nf=Function.prototype,qv=Object.prototype,R0=Nf.toString,Wh=qv.hasOwnProperty,pm=R0.call(Object);function _f(a){if(!Hi(a)||qt(a)!=dm)return!1;var e=Xc(a);if(e===null)return!0;var t=Wh.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&R0.call(t)==pm}var Fl=_f;function np(a,e){if(!(e==="constructor"&&typeof a[e]=="function")&&e!="__proto__")return a[e]}var ff=np;function hf(a,e,t,r){var s=!t;t||(t={});for(var h=-1,g=e.length;++h<g;){var y=e[h],E=r?r(t[y],a[y],y,t,a):void 0;E===void 0&&(E=a[y]),s?Yi(t,y,E):nl(t,y,E)}return t}var kf=hf;function eg(a){return kf(a,Jn(a))}var D0=eg;function ro(a,e,t,r,s,h,g){var y=ff(a,t),E=ff(e,t),D=g.get(E);if(D){ln(a,t,D);return}var V=h?h(y,E,t+"",a,e,g):void 0,$=V===void 0;if($){var J=ir(E),de=!J&&Th(E),Ge=!J&&!de&&Xi(E);V=E,J||de||Ge?ir(y)?V=y:al(y)?V=Ha(y):de?($=!1,V=ps(E,!0)):Ge?($=!1,V=Fs(E,!0)):V=[]:Fl(E)||Vn(E)?(V=y,Vn(y)?V=D0(y):(!_n(y)||gr(y))&&(V=as(E))):$=!1}$&&(g.set(E,V),s(V,E,r,h,g),g.delete(E)),ln(a,t,V)}var _b=ro;function tg(a,e,t,r,s){a!==e&&Kc(e,function(h,g){if(s||(s=new Cc),_n(h))_b(a,e,g,t,tg,r,s);else{var y=r?r(ff(a,g),h,g+"",a,e,s):void 0;y===void 0&&(y=h),ln(a,g,y)}},Jn)}var Lf=tg;function N0(a){return Ia(function(e,t){var r=-1,s=t.length,h=s>1?t[s-1]:void 0,g=s>2?t[2]:void 0;for(h=a.length>3&&typeof h=="function"?(s--,h):void 0,g&&no(t[0],t[1],g)&&(h=s<3?void 0:h,s=1),e=Object(e);++r<s;){var y=t[r];y&&a(e,y,r,h)}return e})}var ng=N0,hu=ng(function(a,e,t){Lf(a,e,t)}),La=hu,vd=ng(function(a,e){kf(e,Jn(e),a)}),Hl=vd;function Qv(a,e){return Df(a,e)}var df=Qv,kb="[object Map]",Lb="[object Set]",ey=Object.prototype,rg=ey.hasOwnProperty;function yd(a){if(a==null)return!0;if(sn(a)&&(ir(a)||typeof a=="string"||typeof a.splice=="function"||Th(a)||Xi(a)||Vn(a)))return!a.length;var e=Rf(a);if(e==kb||e==Lb)return!a.size;if(ba(a))return!th(a).length;for(var t in a)if(rg.call(a,t))return!1;return!0}var gm=yd;function cc(a,e){for(var t=-1,r=a==null?0:a.length;++t<r&&e(a[t],t,a)!==!1;);return a}var ty=cc;function ig(a,e){return a&&kf(e,Ic(e),a)}var Fb=ig;function bd(a,e){return a&&kf(e,Jn(e),a)}var Bb=bd;function zb(a,e){return kf(a,bu(a),e)}var rp=zb,mm=Object.getOwnPropertySymbols,ip=mm?function(a){for(var e=[];a;)No(e,bu(a)),a=Xc(a);return e}:Jf,wu=ip;function $h(a,e){return kf(a,wu(a),e)}var Kx=$h;function xd(a){return ca(a,Jn,wu)}var Gb=xd,Vb=Object.prototype,Zb=Vb.hasOwnProperty;function c2(a){var e=a.length,t=new a.constructor(e);return e&&typeof a[0]=="string"&&Zb.call(a,"index")&&(t.index=a.index,t.input=a.input),t}var u2=c2;function f2(a,e){var t=e?Qo(a.buffer):a.buffer;return new a.constructor(t,a.byteOffset,a.byteLength)}var ny=f2,h2=/\w*$/;function d2(a){var e=new a.constructor(a.source,h2.exec(a));return e.lastIndex=a.lastIndex,e}var p2=d2,ry=br?br.prototype:void 0,Hh=ry?ry.valueOf:void 0;function og(a){return Hh?Object(Hh.call(a)):{}}var op=og,iy="[object Boolean]",oy="[object Date]",_0="[object Map]",g2="[object Number]",sy="[object RegExp]",ay="[object Set]",vm="[object String]",jb="[object Symbol]",sg="[object ArrayBuffer]",uh="[object DataView]",ag="[object Float32Array]",Kh="[object Float64Array]",Xx="[object Int8Array]",sp="[object Int16Array]",Ub="[object Int32Array]",ly="[object Uint8Array]",m2="[object Uint8ClampedArray]",v2="[object Uint16Array]",k0="[object Uint32Array]";function y2(a,e,t){var r=a.constructor;switch(e){case sg:return Qo(a);case iy:case oy:return new r(+a);case uh:return ny(a,t);case ag:case Kh:case Xx:case sp:case Ub:case ly:case m2:case v2:case k0:return Fs(a,t);case _0:return new r;case g2:case vm:return new r(a);case sy:return p2(a);case ay:return new r;case jb:return op(a)}}var b2=y2,x2="[object Map]";function Yx(a){return Hi(a)&&Rf(a)==x2}var cy=Yx,L0=el&&el.isMap,ym=L0?Nu(L0):cy,F0=ym,Eu="[object Set]";function B0(a){return Hi(a)&&Rf(a)==Eu}var uy=B0,fh=el&&el.isSet,ta=fh?Nu(fh):uy,fy=ta,Yc=1,xl=2,Su=4,pf="[object Arguments]",lg="[object Array]",z0="[object Boolean]",Wb="[object Date]",hy="[object Error]",G0="[object Function]",bm="[object GeneratorFunction]",dy="[object Map]",gf="[object Number]",cg="[object Object]",ap="[object RegExp]",Cl="[object Set]",Vl="[object String]",V0="[object Symbol]",ug="[object WeakMap]",py="[object ArrayBuffer]",gy="[object DataView]",my="[object Float32Array]",xm="[object Float64Array]",Cm="[object Int8Array]",Vu="[object Int16Array]",Ff="[object Int32Array]",wm="[object Uint8Array]",Z0="[object Uint8ClampedArray]",Em="[object Uint16Array]",fg="[object Uint32Array]",Ea={};Ea[pf]=Ea[lg]=Ea[py]=Ea[gy]=Ea[z0]=Ea[Wb]=Ea[my]=Ea[xm]=Ea[Cm]=Ea[Vu]=Ea[Ff]=Ea[dy]=Ea[gf]=Ea[cg]=Ea[ap]=Ea[Cl]=Ea[Vl]=Ea[V0]=Ea[wm]=Ea[Z0]=Ea[Em]=Ea[fg]=!0,Ea[hy]=Ea[G0]=Ea[ug]=!1;function mf(a,e,t,r,s,h){var g,y=e&Yc,E=e&xl,D=e&Su;if(t&&(g=s?t(a,r,s,h):t(a)),g!==void 0)return g;if(!_n(a))return a;var V=ir(a);if(V){if(g=u2(a),!y)return Ha(a,g)}else{var $=Rf(a),J=$==G0||$==bm;if(Th(a))return ps(a,y);if($==cg||$==pf||J&&!s){if(g=E||J?{}:as(a),!y)return E?Kx(a,Bb(g,a)):rp(a,Fb(g,a))}else{if(!Ea[$])return s?a:{};g=b2(a,$,y)}}h||(h=new Cc);var de=h.get(a);if(de)return de;h.set(a,g),fy(a)?a.forEach(function(xt){g.add(mf(xt,e,t,xt,a,h))}):F0(a)&&a.forEach(function(xt,Yt){g.set(Yt,mf(xt,e,t,Yt,a,h))});var Ge=D?E?Gb:Va:E?Jn:Ic,Qe=V?void 0:Ge(a);return ty(Qe||a,function(xt,Yt){Qe&&(Yt=xt,xt=a[Yt]),nl(g,Yt,mf(xt,e,t,Yt,a,h))}),g}var hg=mf,j0=4;function U0(a){return hg(a,j0)}var Xh=U0,W0=1,Sm=4;function Zu(a){return hg(a,W0|Sm)}var Ss=Zu,Am=Object.prototype,kc=Am.hasOwnProperty,Mm=Ia(function(a,e){a=Object(a);var t=-1,r=e.length,s=r>2?e[2]:void 0;for(s&&no(e[0],e[1],s)&&(r=1);++t<r;)for(var h=e[t],g=Jn(h),y=-1,E=g.length;++y<E;){var D=g[y],V=a[D];(V===void 0||mi(V,Am[D])&&!kc.call(a,D))&&(a[D]=h[D])}return a}),Tm=Mm;function Za(a,e,t,r,s,h){return _n(a)&&_n(e)&&(h.set(e,a),Lf(a,e,void 0,Za,h),h.delete(e)),a}var vy=Za,Pm=ng(function(a,e,t,r){Lf(a,e,t,r)}),dg=Pm,$b=Ia(function(a){return a.push(void 0,vy),po(dg,void 0,a)}),Om=$b;function Cd(a,...e){e.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(a.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r))})})}const yy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])};function pg(a,e){yy(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}class Hb{}const by=/^\s*class\s+/.test(`${Hb}`)||/^\s*class\s*\{/.test(`${class{}}`);function lp(a,e){let t;return by?t=class extends e{}:(t=function(){return e.apply(this,arguments)},pg(t,e)),Object.defineProperty(t,"name",{value:a}),t}function $0(a,e){return a!=null?a:e}function xy(a,e,t){const r=a!=null?a[e]:null;return t!==void 0?$0(r,t):r}function cp(a,e,t){let r=a!=null?a[e]:null;return r==null||(r=+r,Number.isNaN(r)||!Number.isFinite(r))?t:r}function Im(a,e,t){const r=a!=null?a[e]:null;return r==null?t:!!r}function Rm(a){return a==="__proto__"}function up(a,e,t="/"){let r;const s=Array.isArray(e)?e:e.split(t);if(s.length)for(r=a;s.length;){const h=s.shift();if(Object(r)===r&&h&&h in r)r=r[h];else return}return r}function wd(a,e,t,r="/"){const s=Array.isArray(e)?e:e.split(r),h=s.pop();if(h&&!Rm(h)){let g=a;s.forEach(y=>{Rm(y)||(g[y]==null&&(g[y]={}),g=g[y])}),g[h]=t}return a}function fp(a,e,t="/"){const r=Array.isArray(e)?e.slice():e.split(t),s=r.pop();if(s)if(r.length>0){const h=up(a,r);h&&delete h[s]}else delete a[s];return a}function Kb(a,e="/",t){const r={};Object.keys(a).forEach(s=>{const h=a[s];let g=typeof h=="object"||Array.isArray(h);if(g&&t&&t(h)&&(g=!1),g){const y=Kb(h,e,t);Object.keys(y).forEach(E=>{r[s+e+E]=y[E]})}else r[s]=h});for(const s in a)Object.prototype.hasOwnProperty.call(a,s);return r}var C2="[object String]";function Xb(a){return typeof a=="string"||!ir(a)&&Hi(a)&&qt(a)==C2}var rc=Xb;function uc(a){return function(e){return a==null?void 0:a[e]}}var Dm=uc,Cy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},H0=Dm(Cy),K0=H0,Yh=/[&<>"']/g,wy=RegExp(Yh.source);function Ey(a){return a=Ll(a),a&&wy.test(a)?a.replace(Yh,K0):a}var gg=Ey,Nm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Yb=Dm(Nm),vc=Yb,mg=/&(?:amp|lt|gt|quot|#39);/g,hh=RegExp(mg.source);function Sy(a){return a=Ll(a),a&&hh.test(a)?a.replace(mg,vc):a}var w2=Sy;function ju(a,e,t){return a===a&&(t!==void 0&&(a=a<=t?a:t),e!==void 0&&(a=a>=e?a:e)),a}var Ay=ju,_m=/\s/;function Jx(a){for(var e=a.length;e--&&_m.test(a.charAt(e)););return e}var Au=Jx,km=/^\s+/;function Jb(a){return a&&a.slice(0,Au(a)+1).replace(km,"")}var E2=Jb,Ed=NaN,Uu=/^[-+]0x[0-9a-f]+$/i,My=/^0b[01]+$/i,qb=/^0o[0-7]+$/i,Qb=parseInt;function vg(a){if(typeof a=="number")return a;if(Nr(a))return Ed;if(_n(a)){var e=typeof a.valueOf=="function"?a.valueOf():a;a=_n(e)?e+"":e}if(typeof a!="string")return a===0?a:+a;a=E2(a);var t=My.test(a);return t||qb.test(a)?Qb(a.slice(2),t?2:8):Uu.test(a)?Ed:+a}var hp=vg,e1=1/0,Wu=17976931348623157e292;function yg(a){if(!a)return a===0?a:0;if(a=hp(a),a===e1||a===-e1){var e=a<0?-1:1;return e*Wu}return a===a?a:0}var Sd=yg;function dh(a){var e=Sd(a),t=e%1;return e===e?t?e-t:e:0}var Kl=dh;function bg(a,e,t){return a=Ll(a),t=t==null?0:Ay(Kl(t),0,a.length),e=Fu(e),a.slice(t,t+e.length)==e}var Lm=bg;function Jc(a,e,t){a=Ll(a),e=Fu(e);var r=a.length;t=t===void 0?r:Ay(Kl(t),0,r);var s=t;return t-=e.length,t>=0&&a.slice(t,s)==e}var t1=Jc;function n1(a,e,t){var r=-1,s=a.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var h=Array(s);++r<s;)h[r]=a[r+e];return h}var qx=n1;function Qx(a,e,t){var r=a.length;return t=t===void 0?r:t,!e&&t>=r?a:qx(a,e,t)}var $u=Qx,S2="\\ud800-\\udfff",A2="\\u0300-\\u036f",eC="\\ufe20-\\ufe2f",tC="\\u20d0-\\u20ff",r1=A2+eC+tC,Ty="\\ufe0e\\ufe0f",Fm="\\u200d",Py=RegExp("["+Fm+S2+r1+Ty+"]");function i1(a){return Py.test(a)}var Ad=i1,xg="[object RegExp]";function Oy(a){return Hi(a)&&qt(a)==xg}var Cg=Oy,Bm=el&&el.isRegExp,X0=Bm?Nu(Bm):Cg,Y0=X0;function qc(a){return a.split("")}var zm=qc,J0="\\ud800-\\udfff",Gm="\\u0300-\\u036f",ph="\\ufe20-\\ufe2f",Iy="\\u20d0-\\u20ff",q0=Gm+ph+Iy,Ry="\\ufe0e\\ufe0f",Vm="["+J0+"]",Zm="["+q0+"]",Q0="\\ud83c[\\udffb-\\udfff]",Dy="(?:"+Zm+"|"+Q0+")",Ny="[^"+J0+"]",ev="(?:\\ud83c[\\udde6-\\uddff]){2}",du="[\\ud800-\\udbff][\\udc00-\\udfff]",wg="\\u200d",jm=Dy+"?",dp="["+Ry+"]?",tv="(?:"+wg+"(?:"+[Ny,ev,du].join("|")+")"+dp+jm+")*",Um=dp+jm+tv,Wm="(?:"+[Ny+Zm+"?",Zm,ev,du,Vm].join("|")+")",o1=RegExp(Q0+"(?="+Q0+")|"+Wm+Um,"g");function s1(a){return a.match(o1)||[]}var M2=s1;function T2(a){return Ad(a)?M2(a):zm(a)}var Eg=T2,P2=4294967295;function gh(a,e,t){return t&&typeof t!="number"&&no(a,e,t)&&(e=t=void 0),t=t===void 0?P2:t>>>0,t?(a=Ll(a),a&&(typeof e=="string"||e!=null&&!Y0(e))&&(e=Fu(e),!e&&Ad(a))?$u(Eg(a),0,t):a.split(e,t)):[]}var _y=gh,O2=9007199254740991,a1=Math.floor;function ky(a,e){var t="";if(!a||e<1||e>O2)return t;do e%2&&(t+=a),e=a1(e/2),e&&(a+=a);while(e);return t}var pp=ky;function Qc(a,e,t){return(t?no(a,e,t):e===void 0)?e=1:e=Kl(e),pp(Ll(a),e)}var l1=Qc,c1=Ya("length"),I2=c1,u1="\\ud800-\\udfff",R2="\\u0300-\\u036f",D2="\\ufe20-\\ufe2f",b="\\u20d0-\\u20ff",P=R2+D2+b,q="\\ufe0e\\ufe0f",Me="["+u1+"]",bt="["+P+"]",un="\\ud83c[\\udffb-\\udfff]",ar="(?:"+bt+"|"+un+")",Ir="[^"+u1+"]",ei="(?:\\ud83c[\\udde6-\\uddff]){2}",uo="[\\ud800-\\udbff][\\udc00-\\udfff]",so="\\u200d",Co=ar+"?",us="["+q+"]?",_s="(?:"+so+"(?:"+[Ir,ei,uo].join("|")+")"+us+Co+")*",Js=us+Co+_s,ea="(?:"+[Ir+bt+"?",bt,ei,uo,Me].join("|")+")",Zs=RegExp(un+"(?="+un+")|"+ea+Js,"g");function aa(a){for(var e=Zs.lastIndex=0;Zs.test(a);)++e;return e}var Sa=aa;function Mu(a){return Ad(a)?Sa(a):I2(a)}var ic=Mu,Xl=Math.ceil;function vl(a,e){e=e===void 0?" ":Fu(e);var t=e.length;if(t<2)return t?pp(e,a):e;var r=pp(e,Xl(a/ic(e)));return Ad(e)?$u(Eg(r),0,a).join(""):r.slice(0,a)}var pu=vl,Bf=Math.ceil,nv=Math.floor;function rv(a,e,t){a=Ll(a),e=Kl(e);var r=e?ic(a):0;if(!e||r>=e)return a;var s=(e-r)/2;return pu(nv(s),t)+a+pu(Bf(s),t)}var Ly=rv;function N2(a,e,t){a=Ll(a),e=Kl(e);var r=e?ic(a):0;return e&&r<e?a+pu(e-r,t):a}var _2=N2;function f1(a,e,t){a=Ll(a),e=Kl(e);var r=e?ic(a):0;return e&&r<e?pu(e-r,t)+a:a}var cl=f1,Fy=30,Sg="...",gp=/\w*$/;function Ag(a,e){var t=Fy,r=Sg;if(_n(e)){var s="separator"in e?e.separator:s;t="length"in e?Kl(e.length):t,r="omission"in e?Fu(e.omission):r}a=Ll(a);var h=a.length;if(Ad(a)){var g=Eg(a);h=g.length}if(t>=h)return a;var y=t-ic(r);if(y<1)return r;var E=g?$u(g,0,y).join(""):a.slice(0,y);if(s===void 0)return E+r;if(g&&(y+=E.length-y),Y0(s)){if(a.slice(y).search(s)){var D,V=E;for(s.global||(s=RegExp(s.source,Ll(gp.exec(s))+"g")),s.lastIndex=0;D=s.exec(V);)var $=D.index;E=E.slice(0,$===void 0?y:$)}}else if(a.indexOf(Fu(s),y)!=y){var J=E.lastIndexOf(s);J>-1&&(E=E.slice(0,J))}return E+r}var k2=Ag,L2=ng(function(a,e,t,r){kf(e,Jn(e),a,r)}),h1=L2,d1="[object DOMException]",iv="[object Error]";function F2(a){if(!Hi(a))return!1;var e=qt(a);return e==iv||e==d1||typeof a.message=="string"&&typeof a.name=="string"&&!Fl(a)}var mp=F2,p1=Ia(function(a,e){try{return po(a,void 0,e)}catch(t){return mp(t)?t:new Error(t)}}),vp=p1;function Go(a,e){return cf(e,function(t){return a[t]})}var nC=Go,B2=Object.prototype,rC=B2.hasOwnProperty;function iC(a,e,t,r){return a===void 0||mi(a,B2[t])&&!rC.call(r,t)?e:a}var z2=iC,Nl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function G2(a){return"\\"+Nl[a]}var V2=G2,$m=/<%=([\s\S]+?)%>/g,g1=$m,m1=/<%-([\s\S]+?)%>/g,Z2=m1,v1=/<%([\s\S]+?)%>/g,Hm=v1,j2={escape:Z2,evaluate:Hm,interpolate:g1,variable:"",imports:{_:{escape:gg}}},U2=j2,By="Invalid `variable` option passed into `_.template`",y1=/\b__p \+= '';/g,zy=/\b(__p \+=) '' \+/g,W2=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oC=/[()=,{}\[\]\/\s]/,sC=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gy=/($^)/,$2=/['\n\r\u2028\u2029\\]/g,aC=Object.prototype,H2=aC.hasOwnProperty;function lC(a,e,t){var r=U2.imports._.templateSettings||U2;t&&no(a,e,t)&&(e=void 0),a=Ll(a),e=h1({},e,r,z2);var s=h1({},e.imports,r.imports,z2),h=Ic(s),g=nC(s,h),y,E,D=0,V=e.interpolate||Gy,$="__p += '",J=RegExp((e.escape||Gy).source+"|"+V.source+"|"+(V===g1?sC:Gy).source+"|"+(e.evaluate||Gy).source+"|$","g"),de=H2.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";a.replace(J,function(xt,Yt,fn,Xt,zn,xr){return fn||(fn=Xt),$+=a.slice(D,xr).replace($2,V2),Yt&&(y=!0,$+=`' +
__e(`+Yt+`) +
'`),zn&&(E=!0,$+=`';
`+zn+`;
__p += '`),fn&&($+=`' +
((__t = (`+fn+`)) == null ? '' : __t) +
'`),D=xr+xt.length,xt}),$+=`';
`;var Ge=H2.call(e,"variable")&&e.variable;if(!Ge)$=`with (obj) {
`+$+`
}
`;else if(oC.test(Ge))throw new Error(By);$=(E?$.replace(y1,""):$).replace(zy,"$1").replace(W2,"$1;"),$="function("+(Ge||"obj")+`) {
`+(Ge?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(y?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$+`return __p
}`;var Qe=vp(function(){return Function(h,de+"return "+$).apply(void 0,g)});if(Qe.source=$,mp(Qe))throw Qe;return Qe}var yp=lC,cC=0;function uC(a){var e=++cC;return Ll(a)+e}var _l=uC;function ww(a){let e=null;try{e=window.eval(a)}catch(t){}return e}function fC(a,e,t,r){var s=-1,h=a==null?0:a.length;for(r&&h&&(t=a[++s]);++s<h;)t=e(t,a[s],s,a);return t}var hC=fC,Mg={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ew=Dm(Mg),K2=Ew,b1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tg="\\u0300-\\u036f",X2="\\ufe20-\\ufe2f",Y2="\\u20d0-\\u20ff",Pg=Tg+X2+Y2,Og="["+Pg+"]",ov=RegExp(Og,"g");function J2(a){return a=Ll(a),a&&a.replace(b1,K2).replace(ov,"")}var q2=J2,Km=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Vy(a){return a.match(Km)||[]}var mh=Vy,dC=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function pC(a){return dC.test(a)}var Zy=pC,jy="\\ud800-\\udfff",Q2="\\u0300-\\u036f",ex="\\ufe20-\\ufe2f",Xm="\\u20d0-\\u20ff",sv=Q2+ex+Xm,Ym="\\u2700-\\u27bf",x1="a-z\\xdf-\\xf6\\xf8-\\xff",tx="\\xac\\xb1\\xd7\\xf7",C1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",nx="\\u2000-\\u206f",Uy=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jm="A-Z\\xc0-\\xd6\\xd8-\\xde",Ig="\\ufe0e\\ufe0f",Wy=tx+C1+nx+Uy,$y="['\u2019]",Hy="["+Wy+"]",rx="["+sv+"]",av="\\d+",Hu="["+Ym+"]",zf="["+x1+"]",lv="[^"+jy+Wy+av+Ym+x1+Jm+"]",w1="\\ud83c[\\udffb-\\udfff]",gC="(?:"+rx+"|"+w1+")",vh="[^"+jy+"]",Rg="(?:\\ud83c[\\udde6-\\uddff]){2}",yh="[\\ud800-\\udbff][\\udc00-\\udfff]",eu="["+Jm+"]",cv="\\u200d",bp="(?:"+zf+"|"+lv+")",Ky="(?:"+eu+"|"+lv+")",qm="(?:"+$y+"(?:d|ll|m|re|s|t|ve))?",Lc="(?:"+$y+"(?:D|LL|M|RE|S|T|VE))?",Md=gC+"?",yc="["+Ig+"]?",Jh="(?:"+cv+"(?:"+[vh,Rg,yh].join("|")+")"+yc+Md+")*",bh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xy="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Yy=yc+Md+Jh,Qm="(?:"+[Hu,Rg,yh].join("|")+")"+Yy,E1=RegExp([eu+"?"+zf+"+"+qm+"(?="+[Hy,eu,"$"].join("|")+")",Ky+"+"+Lc+"(?="+[Hy,eu+bp,"$"].join("|")+")",eu+"?"+bp+"+"+qm,eu+"+"+Lc,Xy,bh,av,Qm].join("|"),"g");function mC(a){return a.match(E1)||[]}var tu=mC;function S1(a,e,t){return a=Ll(a),e=t?void 0:e,e===void 0?Zy(a)?tu(a):mh(a):a.match(e)||[]}var ix=S1,vC="['\u2019]",A1=RegExp(vC,"g");function ox(a){return function(e){return hC(ix(q2(e).replace(A1,"")),a,"")}}var Dg=ox;function yC(a){return function(e){e=Ll(e);var t=Ad(e)?Eg(e):void 0,r=t?t[0]:e.charAt(0),s=t?$u(t,1).join(""):e.slice(1);return r[a]()+s}}var xp=yC,bC=xp("toUpperCase"),xh=bC,Zl=Dg(function(a,e,t){return a+(t?" ":"")+xh(e)}),sx=Zl;function xC(a){return xh(Ll(a).toLowerCase())}var CC=xC,ax=Dg(function(a,e,t){return e=e.toLowerCase(),a+(t?CC(e):e)}),uv=ax,lx=Dg(function(a,e,t){return a+(t?" ":"")+e.toUpperCase()}),vf=lx,e0=Dg(function(a,e,t){return a+(t?" ":"")+e.toLowerCase()}),M1=e0,cx=xp("toLowerCase"),Jy=cx;const jl=a=>{const e=Object.create(null);return t=>e[t]||(e[t]=a(t))},fv=jl(a=>a.replace(/\B([A-Z])/g,"-$1").toLowerCase()),qy=jl(a=>sx(uv(a)).replace(/ /g,"")),Qy=jl(a=>vf(a).replace(/ /g,"_")),wC=jl(a=>M1(a).replace(/ /g,".")),EC=jl(a=>M1(a).replace(/ /g,"/")),SC=jl(a=>xh(M1(a))),AC=jl(a=>sx(uv(a)));function eb(a){let e=2166136261,t=!1,r=a;for(let s=0,h=r.length;s<h;s+=1){let g=r.charCodeAt(s);g>127&&!t&&(r=unescape(encodeURIComponent(r)),g=r.charCodeAt(s),t=!0),e^=g,e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24)}return e>>>0}function tb(){let a="";const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";for(let t=0,r=e.length;t<r;t+=1){const s=e[t],h=Math.random()*16|0,g=s==="x"?h:s==="y"?h&3|8:s;a+=g.toString(16)}return a}function T1(a,e={}){const t=vt().parseHTML(a,null,!1);return t.forEach(r=>{const s=r;if(s){const h=s.attributes;if(h)for(let g=0,y=h.length;g<y;g+=1){const E=h.item(g);if(E){const D=E.value.toLowerCase(),V=E.name.toLowerCase();(V.startsWith("on")||D.startsWith("javascript:")||D.startsWith("data:")||D.startsWith("vbscript:"))&&s.removeAttribute(V)}}}}),e.raw?t:vt()("<div/>").append(t).html()}function ux(a,e,t){const r=Math.min(2,Math.floor(a.length*.34));let s=Math.floor(a.length*.4)+1,h,g=!1;const y=a.toLowerCase();for(const E of e){const D=t(E);if(D!==void 0&&Math.abs(D.length-y.length)<=r){const V=D.toLowerCase();if(V===y){if(D===a)continue;return E}if(g||D.length<3)continue;const $=MC(y,V,s-1);if($===void 0)continue;$<3?(g=!0,h=E):(s=$,h=E)}}return h}function MC(a,e,t){let r=new Array(e.length+1),s=new Array(e.length+1);const h=t+1;for(let y=0;y<=e.length;y+=1)r[y]=y;for(let y=1;y<=a.length;y+=1){const E=a.charCodeAt(y-1),D=y>t?y-t:1,V=e.length>t+y?t+y:e.length;s[0]=y;let $=y;for(let de=1;de<D;de+=1)s[de]=h;for(let de=D;de<=V;de+=1){const Ge=E===e.charCodeAt(de-1)?r[de-1]:Math.min(r[de]+1,s[de-1]+1,r[de-1]+2);s[de]=Ge,$=Math.min($,Ge)}for(let de=V+1;de<=e.length;de+=1)s[de]=h;if($>t)return;const J=r;r=s,s=J}const g=r[e.length];return g>t?void 0:g}var fx="[object Number]";function Bl(a){return typeof a=="number"||Hi(a)&&qt(a)==fx}var nb=Bl;function P1(a){return nb(a)&&a!=+a}var Sw=P1,TC=jn.isFinite;function t0(a){return typeof a=="number"&&TC(a)}var rb=t0;function O1(a){return typeof a=="number"&&a==Kl(a)}var Cp=O1,hv=9007199254740991;function PC(a){return Cp(a)&&a>=-hv&&a<=hv}var hx=PC;function ib(a,e,t){return t===void 0&&(t=e,e=void 0),t!==void 0&&(t=hp(t),t=t===t?t:0),e!==void 0&&(e=hp(e),e=e===e?e:0),Ay(hp(a),e,t)}var Tu=ib,OC=Math.max,Aw=Math.min;function Mw(a,e,t){return a>=Aw(e,t)&&a<OC(e,t)}var dv=Mw;function ob(a,e,t){return e=Sd(e),t===void 0?(t=e,e=0):t=Sd(t),a=hp(a),dv(a,e,t)}var IC=ob,n0=9007199254740991;function RC(a){return a?Ay(Kl(a),-n0,n0):a===0?a:0}var Tw=RC,I1=/^\s+/,R1=jn.parseInt;function dx(a,e,t){return t||e==null?e=0:e&&(e=+e),R1(Ll(a).replace(I1,""),e||0)}var DC=dx;const NC=a=>a&&a===a.window,Pw=a=>!Array.isArray(a)&&a-parseFloat(a)+1>=0;function sb(a,e){return(a%e+e)%e}function Td(a,e){if(e==null)e=a==null?1:a,a=0;else if(e<a){const t=a;a=e,e=t}return Math.floor(Math.random()*(e-a+1)+a)}function Gf(a){return typeof a=="string"&&a.slice(-1)==="%"}function Ku(a,e){if(a==null)return 0;let t;if(typeof a=="string"){if(t=parseFloat(a),Gf(a)&&(t/=100,Number.isFinite(t)))return t*e}else t=a;return Number.isFinite(t)?t>0&&t<1?t*e:t:0}function _C(a,e){function t(g){const y=new RegExp(`(?:\\d+(?:\\.\\d+)*)(${g})$`).exec(a);return y?y[1]:null}const r=parseFloat(a);if(Number.isNaN(r))return null;let s;if(e==null)s="[A-Za-z]*";else if(Array.isArray(e)){if(e.length===0)return null;s=e.join("|")}else typeof e=="string"&&(s=e);const h=t(s);return h===null?null:{unit:h,value:r}}function fc(a){if(typeof a=="object"){let t=0,r=0,s=0,h=0;return a.vertical!=null&&Number.isFinite(a.vertical)&&(r=h=a.vertical),a.horizontal!=null&&Number.isFinite(a.horizontal)&&(s=t=a.horizontal),a.left!=null&&Number.isFinite(a.left)&&(t=a.left),a.top!=null&&Number.isFinite(a.top)&&(r=a.top),a.right!=null&&Number.isFinite(a.right)&&(s=a.right),a.bottom!=null&&Number.isFinite(a.bottom)&&(h=a.bottom),{top:r,right:s,bottom:h,left:t}}let e=0;return a!=null&&Number.isFinite(a)&&(e=a),{top:e,right:e,bottom:e,left:e}}var px="Expected a function";function gx(a,e){var t;if(typeof e!="function")throw new TypeError(px);return a=Kl(a),function(){return--a>0&&(t=e.apply(this,arguments)),a<=1&&(e=void 0),t}}var kC=gx;function LC(a){return kC(2,a)}var wp=LC,qh=function(){return jn.Date.now()},Pd=qh,gu="Expected a function",Od=Math.max,ab=Math.min;function pv(a,e,t){var r,s,h,g,y,E,D=0,V=!1,$=!1,J=!0;if(typeof a!="function")throw new TypeError(gu);e=hp(e)||0,_n(t)&&(V=!!t.leading,$="maxWait"in t,h=$?Od(hp(t.maxWait)||0,e):h,J="trailing"in t?!!t.trailing:J);function de(Jr){var fi=r,Gi=s;return r=s=void 0,D=Jr,g=a.apply(Gi,fi),g}function Ge(Jr){return D=Jr,y=setTimeout(Yt,e),V?de(Jr):g}function Qe(Jr){var fi=Jr-E,Gi=Jr-D,zo=e-fi;return $?ab(zo,h-Gi):zo}function xt(Jr){var fi=Jr-E,Gi=Jr-D;return E===void 0||fi>=e||fi<0||$&&Gi>=h}function Yt(){var Jr=Pd();if(xt(Jr))return fn(Jr);y=setTimeout(Yt,Qe(Jr))}function fn(Jr){return y=void 0,J&&r?de(Jr):(r=s=void 0,g)}function Xt(){y!==void 0&&clearTimeout(y),D=0,r=E=s=y=void 0}function zn(){return y===void 0?g:fn(Pd())}function xr(){var Jr=Pd(),fi=xt(Jr);if(r=arguments,s=this,E=Jr,fi){if(y===void 0)return Ge(E);if($)return clearTimeout(y),y=setTimeout(Yt,e),de(E)}return y===void 0&&(y=setTimeout(Yt,e)),g}return xr.cancel=Xt,xr.flush=zn,xr}var D1=pv,FC="Expected a function";function N1(a,e,t){if(typeof a!="function")throw new TypeError(FC);return setTimeout(function(){a.apply(void 0,t)},e)}var lb=N1,mx=Ia(function(a,e){return lb(a,1,e)}),_1=mx;function Ng(a,e,t){if(t)switch(t.length){case 0:return a.call(e);case 1:return a.call(e,t[0]);case 2:return a.call(e,t[0],t[1]);case 3:return a.call(e,t[0],t[1],t[2]);case 4:return a.call(e,t[0],t[1],t[2],t[3]);case 5:return a.call(e,t[0],t[1],t[2],t[3],t[4]);case 6:return a.call(e,t[0],t[1],t[2],t[3],t[4],t[5]);default:return a.apply(e,t)}return a.call(e)}function fs(a,e,...t){return Ng(a,e,t)}function Ow(a,e){for(let t=0,r=a.length;t<r;t+=1)if(a[t]===e)return a.push(a.splice(t,1)[0])}function vx(a,e,t){const r=[],s={};return(...g)=>{let y=!1;const E=g.join("\u2400");return E in s?(y=!0,Ow(r,E)):(r.length>=1e3&&delete s[r.shift()],r.push(E),s[E]=Ng(a,e||null,g)),t?t(s[E],y):s[E]}}function yx(a){return typeof a=="object"&&a.then&&typeof a.then=="function"}function Ep(a){return a!=null&&(a instanceof Promise||yx(a))}function k1(...a){const e=[];if(a.forEach(r=>{Array.isArray(r)?e.push(...r):e.push(r)}),e.some(r=>Ep(r))){const r=e.map(s=>Ep(s)?s:Promise.resolve(s!==!1));return Promise.all(r).then(s=>s.reduce((h,g)=>g!==!1&&h,!0))}return e.every(r=>r!==!1)}function BC(...a){const e=k1(a);return typeof e=="boolean"?Promise.resolve(e):e}const L1=/[\t\r\n\f]/g,Qh=/\S+/g,Vf=a=>` ${a} `;function Id(a){return a&&a.getAttribute&&a.getAttribute("class")||""}function _g(a,e){if(a==null||e==null)return!1;const t=Vf(Id(a)),r=Vf(e);return a.nodeType===1?t.replace(L1," ").includes(r):!1}function ja(a,e){if(!(a==null||e==null)){if(typeof e=="function")return ja(a,e(Id(a)));if(typeof e=="string"&&a.nodeType===1){const t=e.match(Qh)||[],r=Vf(Id(a)).replace(L1," ");let s=t.reduce((h,g)=>h.indexOf(Vf(g))<0?`${h}${g} `:h,r);s=s.trim(),r!==s&&a.setAttribute("class",s)}}}function nu(a,e){if(a!=null){if(typeof e=="function")return nu(a,e(Id(a)));if((!e||typeof e=="string")&&a.nodeType===1){const t=(e||"").match(Qh)||[],r=Vf(Id(a)).replace(L1," ");let s=t.reduce((h,g)=>{const y=Vf(g);return h.indexOf(y)>-1?h.replace(y," "):h},r);s=e?s.trim():"",r!==s&&a.setAttribute("class",s)}}}function gv(a,e,t){if(!(a==null||e==null)){if(t!=null&&typeof e=="string"){t?ja(a,e):nu(a,e);return}if(typeof e=="function")return gv(a,e(Id(a),t),t);typeof e=="string"&&(e.match(Qh)||[]).forEach(s=>{_g(a,s)?nu(a,s):ja(a,s)})}}let F1=0;function Sc(){return F1+=1,`v${F1}`}function mv(a){return(a.id==null||a.id==="")&&(a.id=Sc()),a.id}function Sp(a){return a==null?!1:typeof a.getScreenCTM=="function"&&a instanceof SVGElement}const hc={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},vv="1.1";function cb(a,e=document){return e.createElement(a)}function yv(a,e=hc.xhtml,t=document){return t.createElementNS(e,a)}function Pu(a,e=document){return yv(a,hc.svg,e)}function ub(a){if(a){const t=`<svg xmlns="${hc.svg}" xmlns:xlink="${hc.xlink}" version="${vv}">${a}</svg>`,{documentElement:r}=fb(t,{async:!1});return r}const e=document.createElementNS(hc.svg,"svg");return e.setAttributeNS(hc.xmlns,"xmlns:xlink",hc.xlink),e.setAttribute("version",vv),e}function fb(a,e={}){let t;try{const r=new DOMParser;if(e.async!=null){const s=r;s.async=e.async}t=r.parseFromString(a,e.mimeType||"text/xml")}catch(r){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${a}`);return t}function r0(a,e=!0){const t=a.nodeName;return e?t.toLowerCase():t.toUpperCase()}function Rd(a){let e=0,t=a.previousSibling;for(;t;)t.nodeType===1&&(e+=1),t=t.previousSibling;return e}function zC(a,e){return a.querySelectorAll(e)}function B1(a,e){return a.querySelector(e)}function bv(a,e,t){const r=a.ownerSVGElement;let s=a.parentNode;for(;s&&s!==t&&s!==r;){if(_g(s,e))return s;s=s.parentNode}return null}function i0(a,e){const t=e&&e.parentNode;return a===t||!!(t&&t.nodeType===1&&a.compareDocumentPosition(t)&16)}function Ch(a){a.parentNode&&a.parentNode.removeChild(a)}function xv(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function ed(a,e){(Array.isArray(e)?e:[e]).forEach(r=>{r!=null&&a.appendChild(r)})}function o0(a,e){const t=a.firstChild;return t?Ap(t,e):ed(a,e)}function Ap(a,e){const t=a.parentNode;t&&(Array.isArray(e)?e:[e]).forEach(s=>{s!=null&&t.insertBefore(s,a)})}function z1(a,e){e!=null&&e.appendChild(a)}function kg(a){try{return a instanceof HTMLElement}catch(e){return typeof a=="object"&&a.nodeType===1&&typeof a.style=="object"&&typeof a.ownerDocument=="object"}}function Lg(a){return!a||!kg(a)?!1:["a","button"].includes(r0(a))||a.getAttribute("role")==="button"||a.getAttribute("type")==="button"?!0:Lg(a.parentNode)}function hb(a){if(r0(a)==="input"){const t=a.getAttribute("type");if(t==null||["text","password","number","email","search","tel","url"].includes(t))return!0}return!1}const db=["viewBox","attributeName","attributeType","repeatCount"];function G1(a,e){return a.getAttribute(e)}function V1(a,e){const t=Z1(e);t.ns?a.hasAttributeNS(t.ns,t.local)&&a.removeAttributeNS(t.ns,t.local):a.hasAttribute(e)&&a.removeAttribute(e)}function Cv(a,e,t){if(t==null)return V1(a,e);const r=Z1(e);r.ns&&typeof t=="string"?a.setAttributeNS(r.ns,e,t):e==="id"?a.id=`${t}`:a.setAttribute(e,`${t}`)}function wv(a,e){Object.keys(e).forEach(t=>{Cv(a,t,e[t])})}function Fa(a,e,t){if(e==null){const r=a.attributes,s={};for(let h=0;h<r.length;h+=1)s[r[h].name]=r[h].value;return s}if(typeof e=="string"&&t===void 0)return a.getAttribute(e);typeof e=="object"?wv(a,e):Cv(a,e,t)}function Z1(a){if(a.indexOf(":")!==-1){const e=a.split(":");return{ns:hc[e[0]],local:e[1]}}return{ns:null,local:a}}function Fg(a){const e={};return Object.keys(a).forEach(t=>{const r=db.includes(t)?t:fv(t);e[r]=a[t]}),e}function Mp(a){const e={};return a.split(";").forEach(r=>{const s=r.trim();if(s){const h=s.split("=");h.length&&(e[h[0].trim()]=h[1]?h[1].trim():"")}}),e}function pb(a,e){return Object.keys(e).forEach(t=>{if(t==="class")a[t]=a[t]?`${a[t]} ${e[t]}`:e[t];else if(t==="style"){const r=typeof a[t]=="object",s=typeof e[t]=="object";let h,g;r&&s?(h=a[t],g=e[t]):r?(h=a[t],g=Mp(e[t])):s?(h=Mp(a[t]),g=e[t]):(h=Mp(a[t]),g=Mp(e[t])),a[t]=pb(h,g)}else a[t]=e[t]}),a}function GC(a,e,t={}){const r=t.offset||0,s=[],h=[];let g,y,E=null;for(let D=0;D<a.length;D+=1){g=h[D]=a[D];for(let V=0,$=e.length;V<$;V+=1){const J=e[V],de=J.start+r,Ge=J.end+r;D>=de&&D<Ge&&(typeof g=="string"?g=h[D]={t:a[D],attrs:J.attrs}:g.attrs=pb(pb({},g.attrs),J.attrs),t.includeAnnotationIndices&&(g.annotations==null&&(g.annotations=[]),g.annotations.push(V)))}y=h[D-1],y?_n(g)&&_n(y)?(E=E,JSON.stringify(g.attrs)===JSON.stringify(y.attrs)?E.t+=g.t:(s.push(E),E=g)):_n(g)||_n(y)?(E=E,s.push(E),E=g):E=(E||"")+g:E=g}return E!=null&&s.push(E),s}function bx(a,e){return a?a.filter(t=>t.start<e&&e<=t.end):[]}function Iw(a,e,t){return a?a.filter(r=>e>=r.start&&e<r.end||t>r.start&&t<=r.end||r.start>=e&&r.end<t):[]}function xx(a,e,t){return a&&a.forEach(r=>{r.start<e&&r.end>=e?r.end+=t:r.start>=e&&(r.start+=t,r.end+=t)}),a}function gb(a){return a.replace(/ /g,"\xA0")}var mb;(function(a){a.emptyObject=Object.freeze({}),a.emptyArray=Object.freeze([]);function e(V){return V==null||typeof V=="boolean"||typeof V=="number"||typeof V=="string"}a.isPrimitive=e;function t(V){return Array.isArray(V)}a.isArray=t;function r(V){return!e(V)&&!t(V)}a.isObject=r;function s(V,$){if(V===$)return!0;if(e(V)||e($))return!1;const J=t(V),de=t($);return J!==de?!1:J&&de?g(V,$):y(V,$)}a.deepEqual=s;function h(V){return e(V)?V:t(V)?E(V):D(V)}a.deepCopy=h;function g(V,$){if(V===$)return!0;if(V.length!==$.length)return!1;for(let J=0,de=V.length;J<de;J+=1)if(!s(V[J],$[J]))return!1;return!0}function y(V,$){if(V===$)return!0;for(const J in V)if(!(J in $))return!1;for(const J in $)if(!(J in V))return!1;for(const J in V)if(!s(V[J],$[J]))return!1;return!0}function E(V){const $=new Array(V.length);for(let J=0,de=V.length;J<de;J+=1)$[J]=h(V[J]);return $}function D(V){const $={};return Object.keys(V).forEach(J=>{$[J]=h(V[J])}),$}})(mb||(mb={}));var Tp;(function(a){function e(D){const V="data:";return D.substr(0,V.length)===V}a.isDataUrl=e;function t(D,V){if(!D||e(D)){setTimeout(()=>V(null,D));return}const $=()=>{V(new Error(`Failed to load image: ${D}`))},J=window.FileReader?Ge=>{if(Ge.status===200){const Qe=new FileReader;Qe.onload=xt=>{const Yt=xt.target.result;V(null,Yt)},Qe.onerror=$,Qe.readAsDataURL(Ge.response)}else $()}:Ge=>{const Qe=xt=>{const fn=[];for(let Xt=0;Xt<xt.length;Xt+=32768)fn.push(String.fromCharCode.apply(null,xt.subarray(Xt,Xt+32768)));return fn.join("")};if(Ge.status===200){let xt=D.split(".").pop()||"png";xt==="svg"&&(xt="svg+xml");const Yt=`data:image/${xt};base64,`,fn=new Uint8Array(Ge.response),Xt=Yt+btoa(Qe(fn));V(null,Xt)}else $()},de=new XMLHttpRequest;de.responseType=window.FileReader?"blob":"arraybuffer",de.open("GET",D,!0),de.addEventListener("error",$),de.addEventListener("load",()=>J(de)),de.send()}a.imageToDataUri=t;function r(D){let V=D.replace(/\s/g,"");V=decodeURIComponent(V);const $=V.indexOf(","),J=V.slice(0,$),de=J.split(":")[1].split(";")[0],Ge=V.slice($+1);let Qe;J.indexOf("base64")>=0?Qe=atob(Ge):Qe=unescape(encodeURIComponent(Ge));const xt=new Uint8Array(Qe.length);for(let Yt=0;Yt<Qe.length;Yt+=1)xt[Yt]=Qe.charCodeAt(Yt);return new Blob([xt],{type:de})}a.dataUriToBlob=r;function s(D,V){const $=window.navigator.msSaveBlob;if($)$(D,V);else{const J=window.URL.createObjectURL(D),de=document.createElement("a");de.href=J,de.download=V,document.body.appendChild(de),de.click(),document.body.removeChild(de),window.URL.revokeObjectURL(J)}}a.downloadBlob=s;function h(D,V){const $=r(D);s($,V)}a.downloadDataUri=h;function g(D){const V=D.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return V&&V[2]?V[2].replace(/\s+/," ").split(" "):null}function y(D){const V=parseFloat(D);return Number.isNaN(V)?null:V}function E(D,V={}){let $=null;const J=Xt=>($==null&&($=g(D)),$!=null?y($[Xt]):null),de=Xt=>{const zn=D.match(Xt);return zn&&zn[2]?y(zn[2]):null};let Ge=V.width;if(Ge==null&&(Ge=de(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),Ge==null&&(Ge=J(2)),Ge==null)throw new Error("Can not parse width from svg string");let Qe=V.height;if(Qe==null&&(Qe=de(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),Qe==null&&(Qe=J(3)),Qe==null)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(D).replace(/'/g,"%27").replace(/"/g,"%22")}`}a.svgToDataUrl=E})(Tp||(Tp={}));let Zf;const Ev={px(a){return a},mm(a){return Zf*a},cm(a){return Zf*a*10},in(a){return Zf*a*25.4},pt(a){return Zf*(25.4*a/72)},pc(a){return Zf*(25.4*a/6)}};var Sv;(function(a){function e(r,s,h){const g=vt()("<div/>").css({display:"inline-block",position:"absolute",left:-15e3,top:-15e3,width:r+(h||""),height:s+(h||"")}).appendTo(document.body),y={width:g.width()||0,height:g.height()||0};return g.remove(),y}a.measure=e;function t(r,s){Zf==null&&(Zf=e("1","1","mm").width);const h=s?Ev[s]:null;return h?h(r):r}a.toPx=t})(Sv||(Sv={}));const s0=function(){let a;const e=window;if(e!=null&&(a=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,a!=null&&(a=a.bind(e))),a==null){let t=0;a=r=>{const s=new Date().getTime(),h=Math.max(0,16-(s-t)),g=setTimeout(()=>{r(s+h)},h);return t=s+h,g}}return a}(),a0=function(){let a;const e=window;return e!=null&&(a=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.msCancelAnimationFrame||e.msCancelRequestAnimationFrame||e.oCancelAnimationFrame||e.oCancelRequestAnimationFrame||e.mozCancelAnimationFrame||e.mozCancelRequestAnimationFrame,a&&(a=a.bind(e))),a==null&&(a=clearTimeout),a}(),Cx=/-(.)/g;function wx(a){return a.replace(Cx,(e,t)=>t.toUpperCase())}const Av={},vb=["Webkit","ms","Moz","O"],Pp=document?document.createElement("div").style:{};function Op(a){for(let e=0;e<vb.length;e+=1){const t=vb[e]+a;if(t in Pp)return t}return null}function Bg(a){const e=wx(a);if(Av[e]==null){const t=e.charAt(0).toUpperCase()+e.slice(1);Av[e]=e in Pp?e:Op(t)}return Av[e]}function yb(a,e,t){const r=Bg(e);r!=null&&(a[r]=t),a[e]=t}function bb(a,e){const t=a.ownerDocument&&a.ownerDocument.defaultView&&a.ownerDocument.defaultView.opener?a.ownerDocument.defaultView.getComputedStyle(a,null):window.getComputedStyle(a,null);return t&&e?t.getPropertyValue(e)||t[e]:t}function Ex(a){const e=bb(a);return e!=null&&(e.overflow==="scroll"||e.overflow==="auto")}const Sx=function(){const a=document;return a.selection?function(){a.selection.empty()}:window.getSelection?function(){const e=window.getSelection();e&&(e.empty?e.empty():e.removeAllRanges&&e.removeAllRanges())}:function(){}}();var wa;(function(a){function e(r){return 180*r/Math.PI%360}a.toDeg=e,a.toRad=function(r,s=!1){return(s?r:r%360)*Math.PI/180};function t(r){return r%360+(r<0?360:0)}a.normalize=t})(wa||(wa={}));function Ip(a,e=0){return Number.isInteger(a)?a:+a.toFixed(e)}function j1(a,e){let t,r;if(e==null?(r=a==null?1:a,t=0):(r=e,t=a==null?0:a),r<t){const s=t;t=r,r=s}return Math.floor(Math.random()*(r-t+1)+t)}function Rp(a,e,t){return Number.isNaN(a)?NaN:Number.isNaN(e)||Number.isNaN(t)?0:e<t?a<e?e:a>t?t:a:a<t?t:a>e?e:a}function xb(a,e){return e*Math.round(a/e)}function l0(a,e){return e!=null&&a!=null&&e.x>=a.x&&e.x<=a.x+a.width&&e.y>=a.y&&e.y<=a.y+a.height}function U1(a,e){const t=a.x-e.x,r=a.y-e.y;return t*t+r*r}class Dd{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class Fn extends Dd{constructor(e,t){super(),this.x=e==null?0:e,this.y=t==null?0:t}get[Symbol.toStringTag](){return Fn.toStringTag}round(e=0){return this.x=Ip(this.x,e),this.y=Ip(this.y,e),this}add(e,t){const r=Fn.create(e,t);return this.x+=r.x,this.y+=r.y,this}update(e,t){const r=Fn.create(e,t);return this.x=r.x,this.y=r.y,this}translate(e,t){const r=Fn.create(e,t);return this.x+=r.x,this.y+=r.y,this}rotate(e,t){const r=Fn.rotate(this,e,t);return this.x=r.x,this.y=r.y,this}scale(e,t,r=new Fn){const s=Fn.create(r);return this.x=s.x+e*(this.x-s.x),this.y=s.y+t*(this.y-s.y),this}closest(e){if(e.length===1)return Fn.create(e[0]);let t=null,r=1/0;return e.forEach(s=>{const h=this.squaredDistance(s);h<r&&(t=s,r=h)}),t?Fn.create(t):null}distance(e){return Math.sqrt(this.squaredDistance(e))}squaredDistance(e){const t=Fn.create(e),r=this.x-t.x,s=this.y-t.y;return r*r+s*s}manhattanDistance(e){const t=Fn.create(e);return Math.abs(t.x-this.x)+Math.abs(t.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(e=new Fn){const t=Fn.create(e),r=-(t.y-this.y),s=t.x-this.x;let h=Math.atan2(r,s);return h<0&&(h=2*Math.PI+h),180*h/Math.PI}angleBetween(e,t){if(this.equals(e)||this.equals(t))return NaN;let r=this.theta(t)-this.theta(e);return r<0&&(r+=360),r}vectorAngle(e){return new Fn(0,0).angleBetween(this,e)}toPolar(e){return this.update(Fn.toPolar(this,e)),this}changeInAngle(e,t,r=new Fn){return this.clone().translate(-e,-t).theta(r)-this.theta(r)}adhereToRect(e){return l0(e,this)||(this.x=Math.min(Math.max(this.x,e.x),e.x+e.width),this.y=Math.min(Math.max(this.y,e.y),e.y+e.height)),this}bearing(e){const t=Fn.create(e),r=wa.toRad(this.y),s=wa.toRad(t.y),h=this.x,g=t.x,y=wa.toRad(g-h),E=Math.sin(y)*Math.cos(s),D=Math.cos(r)*Math.sin(s)-Math.sin(r)*Math.cos(s)*Math.cos(y),V=wa.toDeg(Math.atan2(E,D)),$=["NE","E","SE","S","SW","W","NW","N"];let J=V-22.5;return J<0&&(J+=360),J=parseInt(J/45,10),$[J]}cross(e,t){if(e!=null&&t!=null){const r=Fn.create(e),s=Fn.create(t);return(s.x-this.x)*(r.y-this.y)-(s.y-this.y)*(r.x-this.x)}return NaN}dot(e){const t=Fn.create(e);return this.x*t.x+this.y*t.y}diff(e,t){if(typeof e=="number")return new Fn(this.x-e,this.y-t);const r=Fn.create(e);return new Fn(this.x-r.x,this.y-r.y)}lerp(e,t){const r=Fn.create(e);return new Fn((1-t)*this.x+t*r.x,(1-t)*this.y+t*r.y)}normalize(e=1){const t=e/this.magnitude();return this.scale(t,t)}move(e,t){const r=Fn.create(e),s=wa.toRad(r.theta(this));return this.translate(Math.cos(s)*t,-Math.sin(s)*t)}reflection(e){return Fn.create(e).move(this,this.distance(e))}snapToGrid(e,t){return this.x=xb(this.x,e),this.y=xb(this.y,t==null?e:t),this}equals(e){const t=Fn.create(e);return t!=null&&t.x===this.x&&t.y===this.y}clone(){return Fn.clone(this)}toJSON(){return Fn.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(function(a){a.toStringTag=`X6.Geometry.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;return(r==null||r===a.toStringTag)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.toPolar=="function"}a.isPoint=e})(Fn||(Fn={})),function(a){function e(r){return r!=null&&typeof r=="object"&&typeof r.x=="number"&&typeof r.y=="number"}a.isPointLike=e;function t(r){return r!=null&&Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}a.isPointData=t}(Fn||(Fn={})),function(a){function e($,J){return $==null||typeof $=="number"?new a($,J):t($)}a.create=e;function t($){return a.isPoint($)?new a($.x,$.y):Array.isArray($)?new a($[0],$[1]):new a($.x,$.y)}a.clone=t;function r($){return a.isPoint($)?{x:$.x,y:$.y}:Array.isArray($)?{x:$[0],y:$[1]}:{x:$.x,y:$.y}}a.toJSON=r;function s($,J,de=new a){let Ge=Math.abs($*Math.cos(J)),Qe=Math.abs($*Math.sin(J));const xt=t(de),Yt=wa.normalize(wa.toDeg(J));return Yt<90?Qe=-Qe:Yt<180?(Ge=-Ge,Qe=-Qe):Yt<270&&(Ge=-Ge),new a(xt.x+Ge,xt.y+Qe)}a.fromPolar=s;function h($,J=new a){const de=t($),Ge=t(J),Qe=de.x-Ge.x,xt=de.y-Ge.y;return new a(Math.sqrt(Qe*Qe+xt*xt),wa.toRad(Ge.theta(de)))}a.toPolar=h;function g($,J){return $===J?!0:$!=null&&J!=null?$.x===J.x&&$.y===J.y:!1}a.equals=g;function y($,J){if($==null&&J!=null||$!=null&&J==null||$!=null&&J!=null&&$.length!==J.length)return!1;if($!=null&&J!=null){for(let de=0,Ge=$.length;de<Ge;de+=1)if(!g($[de],J[de]))return!1}return!0}a.equalPoints=y;function E($,J,de,Ge){return new a(j1($,J),j1(de,Ge))}a.random=E;function D($,J,de){const Ge=wa.toRad(wa.normalize(-J)),Qe=Math.sin(Ge),xt=Math.cos(Ge);return V($,xt,Qe,de)}a.rotate=D;function V($,J,de,Ge=new a){const Qe=t($),xt=t(Ge),Yt=Qe.x-xt.x,fn=Qe.y-xt.y,Xt=Yt*J-fn*de,zn=fn*J+Yt*de;return new a(Xt+xt.x,zn+xt.y)}a.rotateEx=V}(Fn||(Fn={}));class Ao extends Dd{constructor(e,t,r,s){super(),this.x=e==null?0:e,this.y=t==null?0:t,this.width=r==null?0:r,this.height=s==null?0:s}get[Symbol.toStringTag](){return Ao.toStringTag}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new Fn(this.x,this.y)}get topLeft(){return new Fn(this.x,this.y)}get topCenter(){return new Fn(this.x+this.width/2,this.y)}get topRight(){return new Fn(this.x+this.width,this.y)}get center(){return new Fn(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new Fn(this.x,this.y+this.height)}get bottomCenter(){return new Fn(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new Fn(this.x+this.width,this.y+this.height)}get corner(){return new Fn(this.x+this.width,this.y+this.height)}get rightMiddle(){return new Fn(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new Fn(this.x,this.y+this.height/2)}get topLine(){return new u(this.topLeft,this.topRight)}get rightLine(){return new u(this.topRight,this.bottomRight)}get bottomLine(){return new u(this.bottomLeft,this.bottomRight)}get leftLine(){return new u(this.topLeft,this.bottomLeft)}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(e){if(!e)return this.clone();const t=wa.toRad(e),r=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t)),h=this.width*s+this.height*r,g=this.width*r+this.height*s;return new Ao(this.x+(this.width-h)/2,this.y+(this.height-g)/2,h,g)}round(e=0){return this.x=Ip(this.x,e),this.y=Ip(this.y,e),this.width=Ip(this.width,e),this.height=Ip(this.height,e),this}add(e,t,r,s){const h=Ao.create(e,t,r,s),g=Math.min(this.x,h.x),y=Math.min(this.y,h.y),E=Math.max(this.x+this.width,h.x+h.width),D=Math.max(this.y+this.height,h.y+h.height);return this.x=g,this.y=y,this.width=E-g,this.height=D-y,this}update(e,t,r,s){const h=Ao.create(e,t,r,s);return this.x=h.x,this.y=h.y,this.width=h.width,this.height=h.height,this}inflate(e,t){const r=e,s=t!=null?t:e;return this.x-=r,this.y-=s,this.width+=2*r,this.height+=2*s,this}snapToGrid(e,t){const r=this.origin.snapToGrid(e,t),s=this.corner.snapToGrid(e,t);return this.x=r.x,this.y=r.y,this.width=s.x-r.x,this.height=s.y-r.y,this}translate(e,t){const r=Fn.create(e,t);return this.x+=r.x,this.y+=r.y,this}scale(e,t,r=new Fn){const s=this.origin.scale(e,t,r);return this.x=s.x,this.y=s.y,this.width*=e,this.height*=t,this}rotate(e,t=this.getCenter()){if(e!==0){const r=wa.toRad(e),s=Math.cos(r),h=Math.sin(r);let g=this.getOrigin(),y=this.getTopRight(),E=this.getBottomRight(),D=this.getBottomLeft();g=Fn.rotateEx(g,s,h,t),y=Fn.rotateEx(y,s,h,t),E=Fn.rotateEx(E,s,h,t),D=Fn.rotateEx(D,s,h,t);const V=new Ao(g.x,g.y,0,0);V.add(y.x,y.y,0,0),V.add(E.x,E.y,0,0),V.add(D.x,D.y,0,0),this.update(V)}return this}rotate90(){const e=(this.width-this.height)/2;this.x+=e,this.y-=e;const t=this.width;return this.width=this.height,this.height=t,this}moveAndExpand(e){const t=Ao.clone(e);return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this}getMaxScaleToFit(e,t=this.center){const r=Ao.clone(e),s=t.x,h=t.y;let g=1/0,y=1/0,E=1/0,D=1/0,V=1/0,$=1/0,J=1/0,de=1/0;const Ge=r.topLeft;Ge.x<s&&(g=(this.x-s)/(Ge.x-s)),Ge.y<h&&(V=(this.y-h)/(Ge.y-h));const Qe=r.bottomRight;Qe.x>s&&(y=(this.x+this.width-s)/(Qe.x-s)),Qe.y>h&&($=(this.y+this.height-h)/(Qe.y-h));const xt=r.topRight;xt.x>s&&(E=(this.x+this.width-s)/(xt.x-s)),xt.y<h&&(J=(this.y-h)/(xt.y-h));const Yt=r.bottomLeft;return Yt.x<s&&(D=(this.x-s)/(Yt.x-s)),Yt.y>h&&(de=(this.y+this.height-h)/(Yt.y-h)),{sx:Math.min(g,y,E,D),sy:Math.min(V,$,J,de)}}getMaxUniformScaleToFit(e,t=this.center){const r=this.getMaxScaleToFit(e,t);return Math.min(r.sx,r.sy)}containsPoint(e,t){return l0(this,Fn.create(e,t))}containsRect(e,t,r,s){const h=Ao.create(e,t,r,s),g=this.x,y=this.y,E=this.width,D=this.height,V=h.x,$=h.y,J=h.width,de=h.height;return E===0||D===0||J===0||de===0?!1:V>=g&&$>=y&&V+J<=g+E&&$+de<=y+D}intersectsWithLine(e){const t=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],r=[],s=[];return t.forEach(h=>{const g=e.intersectsWithLine(h);g!==null&&s.indexOf(g.toString())<0&&(r.push(g),s.push(g.toString()))}),r.length>0?r:null}intersectsWithLineFromCenterToPoint(e,t){const r=Fn.clone(e),s=this.center;let h=null;t!=null&&t!==0&&r.rotate(t,s);const g=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],y=new u(s,r);for(let E=g.length-1;E>=0;E-=1){const D=g[E].intersectsWithLine(y);if(D!==null){h=D;break}}return h&&t!=null&&t!==0&&h.rotate(-t,s),h}intersectsWithRect(e,t,r,s){const h=Ao.create(e,t,r,s);if(!this.isIntersectWithRect(h))return null;const g=this.origin,y=this.corner,E=h.origin,D=h.corner,V=Math.max(g.x,E.x),$=Math.max(g.y,E.y);return new Ao(V,$,Math.min(y.x,D.x)-V,Math.min(y.y,D.y)-$)}isIntersectWithRect(e,t,r,s){const h=Ao.create(e,t,r,s),g=this.origin,y=this.corner,E=h.origin,D=h.corner;return!(D.x<=g.x||D.y<=g.y||E.x>=y.x||E.y>=y.y)}normalize(){let e=this.x,t=this.y,r=this.width,s=this.height;return this.width<0&&(e=this.x+this.width,r=-this.width),this.height<0&&(t=this.y+this.height,s=-this.height),this.x=e,this.y=t,this.width=r,this.height=s,this}union(e){const t=Ao.clone(e),r=this.origin,s=this.corner,h=t.origin,g=t.corner,y=Math.min(r.x,h.x),E=Math.min(r.y,h.y),D=Math.max(s.x,g.x),V=Math.max(s.y,g.y);return new Ao(y,E,D-y,V-E)}getNearestSideToPoint(e){const t=Fn.clone(e),r=t.x-this.x,s=this.x+this.width-t.x,h=t.y-this.y,g=this.y+this.height-t.y;let y=r,E="left";return s<y&&(y=s,E="right"),h<y&&(y=h,E="top"),g<y&&(E="bottom"),E}getNearestPointToPoint(e){const t=Fn.clone(e);if(this.containsPoint(t))switch(this.getNearestSideToPoint(t)){case"right":return new Fn(this.x+this.width,t.y);case"left":return new Fn(this.x,t.y);case"bottom":return new Fn(t.x,this.y+this.height);case"top":return new Fn(t.x,this.y);default:break}return t.adhereToRect(this)}equals(e){return e!=null&&e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}clone(){return new Ao(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(a){a.toStringTag=`X6.Geometry.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;return(r==null||r===a.toStringTag)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.width=="number"&&typeof s.height=="number"&&typeof s.inflate=="function"&&typeof s.moveAndExpand=="function"}a.isRectangle=e})(Ao||(Ao={})),function(a){function e(t){return t!=null&&typeof t=="object"&&typeof t.x=="number"&&typeof t.y=="number"&&typeof t.width=="number"&&typeof t.height=="number"}a.isRectangleLike=e}(Ao||(Ao={})),function(a){function e(g,y,E,D){return g==null||typeof g=="number"?new a(g,y,E,D):t(g)}a.create=e;function t(g){return a.isRectangle(g)?g.clone():Array.isArray(g)?new a(g[0],g[1],g[2],g[3]):new a(g.x,g.y,g.width,g.height)}a.clone=t;function r(g){return new a(0,0,g.width,g.height)}a.fromSize=r;function s(g,y){return new a(g.x,g.y,y.width,y.height)}a.fromPositionAndSize=s;function h(g){return new a(g.x-g.a,g.y-g.b,2*g.a,2*g.b)}a.fromEllipse=h}(Ao||(Ao={}));class u extends Dd{constructor(e,t,r,s){super(),typeof e=="number"&&typeof t=="number"?(this.start=new Fn(e,t),this.end=new Fn(r,s)):(this.start=Fn.create(e),this.end=Fn.create(t))}get[Symbol.toStringTag](){return u.toStringTag}get center(){return new Fn((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}getCenter(){return this.center}round(e=0){return this.start.round(e),this.end.round(e),this}translate(e,t){return typeof e=="number"?(this.start.translate(e,t),this.end.translate(e,t)):(this.start.translate(e),this.end.translate(e)),this}rotate(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this}scale(e,t,r){return this.start.scale(e,t,r),this.end.scale(e,t,r),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const e=this.start.x-this.end.x,t=this.start.y-this.end.y;return e*e+t*t}setLength(e){const t=this.length();if(!t)return this;const r=e/t;return this.scale(r,r,this.start)}parallel(e){const t=this.clone();if(!t.isDifferentiable())return t;const{start:r,end:s}=t,h=r.clone().rotate(270,s),g=s.clone().rotate(90,r);return r.move(g,e),s.move(h,e),t}vector(){return new Fn(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const e=new Fn(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)}bbox(){const e=Math.min(this.start.x,this.end.x),t=Math.min(this.start.y,this.end.y),r=Math.max(this.start.x,this.end.x),s=Math.max(this.start.y,this.end.y);return new Ao(e,t,r-e,s-t)}bearing(){return this.start.bearing(this.end)}closestPoint(e){return this.pointAt(this.closestPointNormalizedLength(e))}closestPointLength(e){return this.closestPointNormalizedLength(e)*this.length()}closestPointTangent(e){return this.tangentAt(this.closestPointNormalizedLength(e))}closestPointNormalizedLength(e){const t=this.vector().dot(new u(this.start,e).vector()),r=Math.min(1,Math.max(0,t/this.squaredLength()));return Number.isNaN(r)?0:r}pointAt(e){const t=this.start,r=this.end;return e<=0?t.clone():e>=1?r.clone():t.lerp(r,e)}pointAtLength(e){const t=this.start,r=this.end;let s=!0;e<0&&(s=!1,e=-e);const h=this.length();if(e>=h)return s?r.clone():t.clone();const g=(s?e:h-e)/h;return this.pointAt(g)}divideAt(e){const t=this.pointAt(e);return[new u(this.start,t),new u(t,this.end)]}divideAtLength(e){const t=this.pointAtLength(e);return[new u(this.start,t),new u(t,this.end)]}containsPoint(e){const t=this.start,r=this.end;if(t.cross(e,r)!==0)return!1;const s=this.length();return!(new u(t,e).length()>s||new u(e,r).length()>s)}intersect(e,t){const r=e.intersectsWithLine(this,t);return r?Array.isArray(r)?r:[r]:null}intersectsWithLine(e){const t=new Fn(this.end.x-this.start.x,this.end.y-this.start.y),r=new Fn(e.end.x-e.start.x,e.end.y-e.start.y),s=t.x*r.y-t.y*r.x,h=new Fn(e.start.x-this.start.x,e.start.y-this.start.y),g=h.x*r.y-h.y*r.x,y=h.x*t.y-h.y*t.x;if(s===0||g*s<0||y*s<0)return null;if(s>0){if(g>s||y>s)return null}else if(g<s||y<s)return null;return new Fn(this.start.x+g*t.x/s,this.start.y+g*t.y/s)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(e){const t=Fn.clone(e),r=this.start,s=this.end;return((s.x-r.x)*(t.y-r.y)-(s.y-r.y)*(t.x-r.x))/this.length()}pointSquaredDistance(e,t){const r=Fn.create(e,t);return this.closestPoint(r).squaredDistance(r)}pointDistance(e,t){const r=Fn.create(e,t);return this.closestPoint(r).distance(r)}tangentAt(e){if(!this.isDifferentiable())return null;const t=this.start,r=this.end,s=this.pointAt(e),h=new u(t,r);return h.translate(s.x-t.x,s.y-t.y),h}tangentAtLength(e){if(!this.isDifferentiable())return null;const t=this.start,r=this.end,s=this.pointAtLength(e),h=new u(t,r);return h.translate(s.x-t.x,s.y-t.y),h}relativeCcw(e,t){const r=Fn.create(e,t);let s=r.x-this.start.x,h=r.y-this.start.y;const g=this.end.x-this.start.x,y=this.end.y-this.start.y;let E=s*y-h*g;return E===0&&(E=s*g+h*y,E>0&&(s-=g,h-=y,E=s*g+h*y,E<0&&(E=0))),E<0?-1:E>0?1:0}equals(e){return e!=null&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y}clone(){return new u(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}(function(a){a.toStringTag=`X6.Geometry.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;try{if((r==null||r===a.toStringTag)&&Fn.isPoint(s.start)&&Fn.isPoint(s.end)&&typeof s.vector=="function"&&typeof s.bearing=="function"&&typeof s.parallel=="function"&&typeof s.intersect=="function")return!0}catch(h){return!1}return!1}a.isLine=e})(u||(u={}));class n extends Dd{constructor(e,t,r,s){super(),this.x=e==null?0:e,this.y=t==null?0:t,this.a=r==null?0:r,this.b=s==null?0:s}get[Symbol.toStringTag](){return n.toStringTag}get center(){return new Fn(this.x,this.y)}bbox(){return Ao.fromEllipse(this)}getCenter(){return this.center}inflate(e,t){const r=e,s=t!=null?t:e;return this.a+=2*r,this.b+=2*s,this}normalizedDistance(e,t){const r=Fn.create(e,t),s=r.x-this.x,h=r.y-this.y,g=this.a,y=this.b;return s*s/(g*g)+h*h/(y*y)}containsPoint(e,t){return this.normalizedDistance(e,t)<=1}intersectsWithLine(e){const t=[],r=this.a,s=this.b,h=e.start,g=e.end,y=e.vector(),E=h.diff(new Fn(this.x,this.y)),D=new Fn(y.x/(r*r),y.y/(s*s)),V=new Fn(E.x/(r*r),E.y/(s*s)),$=y.dot(D),J=y.dot(V),de=E.dot(V)-1,Ge=J*J-$*de;if(Ge<0)return null;if(Ge>0){const Qe=Math.sqrt(Ge),xt=(-J-Qe)/$,Yt=(-J+Qe)/$;if((xt<0||xt>1)&&(Yt<0||Yt>1))return null;xt>=0&&xt<=1&&t.push(h.lerp(g,xt)),Yt>=0&&Yt<=1&&t.push(h.lerp(g,Yt))}else{const Qe=-J/$;if(Qe>=0&&Qe<=1)t.push(h.lerp(g,Qe));else return null}return t}intersectsWithLineFromCenterToPoint(e,t=0){const r=Fn.clone(e);t&&r.rotate(t,this.getCenter());const s=r.x-this.x,h=r.y-this.y;let g;if(s===0)return g=this.bbox().getNearestPointToPoint(r),t?g.rotate(-t,this.getCenter()):g;const y=h/s,E=y*y,D=this.a*this.a,V=this.b*this.b;let $=Math.sqrt(1/(1/D+E/V));$=s<0?-$:$;const J=y*$;return g=new Fn(this.x+$,this.y+J),t?g.rotate(-t,this.getCenter()):g}tangentTheta(e){const t=Fn.clone(e),r=t.x,s=t.y,h=this.a,g=this.b,y=this.bbox().center,E=y.x,D=y.y,V=30,$=r>y.x+h/2,J=r<y.x-h/2;let de,Ge;return $||J?(Ge=r>y.x?s-V:s+V,de=h*h/(r-E)-h*h*(s-D)*(Ge-D)/(g*g*(r-E))+E):(de=s>y.y?r+V:r-V,Ge=g*g/(s-D)-g*g*(r-E)*(de-E)/(h*h*(s-D))+D),new Fn(de,Ge).theta(t)}scale(e,t){return this.a*=e,this.b*=t,this}rotate(e,t){const r=Ao.fromEllipse(this);r.rotate(e,t);const s=n.fromRect(r);return this.a=s.a,this.b=s.b,this.x=s.x,this.y=s.y,this}translate(e,t){const r=Fn.create(e,t);return this.x+=r.x,this.y+=r.y,this}equals(e){return e!=null&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b}clone(){return new n(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(function(a){a.toStringTag=`X6.Geometry.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;return(r==null||r===a.toStringTag)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.a=="number"&&typeof s.b=="number"&&typeof s.inflate=="function"&&typeof s.normalizedDistance=="function"}a.isEllipse=e})(n||(n={})),function(a){function e(s,h,g,y){return s==null||typeof s=="number"?new a(s,h,g,y):t(s)}a.create=e;function t(s){return a.isEllipse(s)?s.clone():Array.isArray(s)?new a(s[0],s[1],s[2],s[3]):new a(s.x,s.y,s.a,s.b)}a.parse=t;function r(s){const h=s.center;return new a(h.x,h.y,s.width/2,s.height/2)}a.fromRect=r}(n||(n={}));class i extends Dd{constructor(e){if(super(),e!=null){if(typeof e=="string")return i.parse(e);this.points=e.map(t=>Fn.create(t))}else this.points=[]}get[Symbol.toStringTag](){return i.toStringTag}get start(){return this.points.length===0?null:this.points[0]}get end(){return this.points.length===0?null:this.points[this.points.length-1]}scale(e,t,r=new Fn){return this.points.forEach(s=>s.scale(e,t,r)),this}rotate(e,t){return this.points.forEach(r=>r.rotate(e,t)),this}translate(e,t){const r=Fn.create(e,t);return this.points.forEach(s=>s.translate(r.x,r.y)),this}bbox(){if(this.points.length===0)return new Ao;let e=1/0,t=-1/0,r=1/0,s=-1/0;const h=this.points;for(let g=0,y=h.length;g<y;g+=1){const E=h[g],D=E.x,V=E.y;D<e&&(e=D),D>t&&(t=D),V<r&&(r=V),V>s&&(s=V)}return new Ao(e,r,t-e,s-r)}closestPoint(e){const t=this.closestPointLength(e);return this.pointAtLength(t)}closestPointLength(e){const t=this.points,r=t.length;if(r===0||r===1)return 0;let s=0,h=0,g=1/0;for(let y=0,E=r-1;y<E;y+=1){const D=new u(t[y],t[y+1]),V=D.length(),$=D.closestPointNormalizedLength(e),de=D.pointAt($).squaredDistance(e);de<g&&(g=de,h=s+$*V),s+=V}return h}closestPointNormalizedLength(e){const t=this.closestPointLength(e);if(t===0)return 0;const r=this.length();return r===0?0:t/r}closestPointTangent(e){const t=this.closestPointLength(e);return this.tangentAtLength(t)}containsPoint(e){if(this.points.length===0)return!1;const t=Fn.clone(e),r=t.x,s=t.y,h=this.points,g=h.length;let y=g-1,E=0;for(let D=0;D<g;D+=1){const V=h[y],$=h[D];if(t.equals(V))return!0;const J=new u(V,$);if(J.containsPoint(e))return!0;if(s<=V.y&&s>$.y||s>V.y&&s<=$.y){const de=V.x-r>$.x-r?V.x-r:$.x-r;if(de>=0){const Ge=new Fn(r+de,s),Qe=new u(e,Ge);J.intersectsWithLine(Qe)&&(E+=1)}}y=D}return E%2===1}intersectsWithLine(e){const t=[];for(let r=0,s=this.points.length-1;r<s;r+=1){const h=this.points[r],g=this.points[r+1],y=e.intersectsWithLine(new u(h,g));y&&t.push(y)}return t.length>0?t:null}isDifferentiable(){for(let e=0,t=this.points.length-1;e<t;e+=1){const r=this.points[e],s=this.points[e+1];if(new u(r,s).isDifferentiable())return!0}return!1}length(){let e=0;for(let t=0,r=this.points.length-1;t<r;t+=1){const s=this.points[t],h=this.points[t+1];e+=s.distance(h)}return e}pointAt(e){const t=this.points,r=t.length;if(r===0)return null;if(r===1||e<=0)return t[0].clone();if(e>=1)return t[r-1].clone();const h=this.length()*e;return this.pointAtLength(h)}pointAtLength(e){const t=this.points,r=t.length;if(r===0)return null;if(r===1)return t[0].clone();let s=!0;e<0&&(s=!1,e=-e);let h=0;for(let y=0,E=r-1;y<E;y+=1){const D=s?y:E-1-y,V=t[D],$=t[D+1],J=new u(V,$),de=V.distance($);if(e<=h+de)return J.pointAtLength((s?1:-1)*(e-h));h+=de}return(s?t[r-1]:t[0]).clone()}tangentAt(e){const r=this.points.length;if(r===0||r===1)return null;e<0&&(e=0),e>1&&(e=1);const h=this.length()*e;return this.tangentAtLength(h)}tangentAtLength(e){const t=this.points,r=t.length;if(r===0||r===1)return null;let s=!0;e<0&&(s=!1,e=-e);let h,g=0;for(let y=0,E=r-1;y<E;y+=1){const D=s?y:E-1-y,V=t[D],$=t[D+1],J=new u(V,$),de=V.distance($);if(J.isDifferentiable()){if(e<=g+de)return J.tangentAtLength((s?1:-1)*(e-g));h=J}g+=de}if(h){const y=s?1:0;return h.tangentAt(y)}return null}simplify(e={}){const t=this.points;if(t.length<3)return this;const r=e.threshold||0;let s=0;for(;t[s+2];){const h=s,g=s+1,y=s+2,E=t[h],D=t[g],V=t[y];new u(E,V).closestPoint(D).distance(D)<=r?t.splice(g,1):s+=1}return this}toHull(){const e=this.points,t=e.length;if(t===0)return new i;let r=e[0];for(let J=1;J<t;J+=1)(e[J].y<r.y||e[J].y===r.y&&e[J].x>r.x)&&(r=e[J]);const s=[];for(let J=0;J<t;J+=1){let de=r.theta(e[J]);de===0&&(de=360),s.push([e[J],J,de])}if(s.sort((J,de)=>{let Ge=J[2]-de[2];return Ge===0&&(Ge=de[1]-J[1]),Ge}),s.length>2){const J=s[s.length-1];s.unshift(J)}const h={},g=[],y=J=>`${J[0].toString()}@${J[1]}`;for(;s.length!==0;){const J=s.pop(),de=J[0];if(h[y(J)])continue;let Ge=!1;for(;!Ge;)if(g.length<2)g.push(J),Ge=!0;else{const Qe=g.pop(),xt=Qe[0],Yt=g.pop(),fn=Yt[0],Xt=fn.cross(xt,de);if(Xt<0)g.push(Yt),g.push(Qe),g.push(J),Ge=!0;else if(Xt===0){const xr=xt.angleBetween(fn,de);Math.abs(xr-180)<1e-10||xt.equals(de)||fn.equals(xt)?(h[y(Qe)]=xt,g.push(Yt)):Math.abs((xr+1)%360-1)<1e-10&&(g.push(Yt),s.push(Qe))}else h[y(Qe)]=xt,g.push(Yt)}}g.length>2&&g.pop();let E,D=-1;for(let J=0,de=g.length;J<de;J+=1){const Ge=g[J][1];(E===void 0||Ge<E)&&(E=Ge,D=J)}let V=[];if(D>0){const J=g.slice(D),de=g.slice(0,D);V=J.concat(de)}else V=g;const $=[];for(let J=0,de=V.length;J<de;J+=1)$.push(V[J][0]);return new i($)}equals(e){return e==null||e.points.length!==this.points.length?!1:e.points.every((t,r)=>t.equals(this.points[r]))}clone(){return new i(this.points.map(e=>e.clone()))}toJSON(){return this.points.map(e=>e.toJSON())}serialize(){return this.points.map(e=>`${e.x}, ${e.y}`).join(" ")}}(function(a){a.toStringTag=`X6.Geometry.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;return(r==null||r===a.toStringTag)&&typeof s.toHull=="function"&&typeof s.simplify=="function"}a.isPolyline=e})(i||(i={})),function(a){function e(t){const r=t.trim();if(r==="")return new a;const s=[],h=r.split(/\s*,\s*|\s+/);for(let g=0,y=h.length;g<y;g+=2)s.push({x:+h[g],y:+h[g+1]});return new a(s)}a.parse=e}(i||(i={}));class c extends Dd{constructor(e,t,r,s){super(),this.PRECISION=3,this.start=Fn.create(e),this.controlPoint1=Fn.create(t),this.controlPoint2=Fn.create(r),this.end=Fn.create(s)}get[Symbol.toStringTag](){return c.toStringTag}bbox(){const e=this.start,t=this.controlPoint1,r=this.controlPoint2,s=this.end,h=e.x,g=e.y,y=t.x,E=t.y,D=r.x,V=r.y,$=s.x,J=s.y,de=[],Ge=[],Qe=[[],[]];let xt,Yt,fn,Xt,zn,xr,Jr,fi;for(let Ws=0;Ws<2;Ws+=1){if(Ws===0?(Yt=6*h-12*y+6*D,xt=-3*h+9*y-9*D+3*$,fn=3*y-3*h):(Yt=6*g-12*E+6*V,xt=-3*g+9*E-9*V+3*J,fn=3*E-3*g),Math.abs(xt)<1e-12){if(Math.abs(Yt)<1e-12)continue;Xt=-fn/Yt,Xt>0&&Xt<1&&Ge.push(Xt);continue}Jr=Yt*Yt-4*fn*xt,fi=Math.sqrt(Jr),!(Jr<0)&&(zn=(-Yt+fi)/(2*xt),zn>0&&zn<1&&Ge.push(zn),xr=(-Yt-fi)/(2*xt),xr>0&&xr<1&&Ge.push(xr))}let Gi,zo,vo,Eo=Ge.length;const $o=Eo;for(;Eo;)Eo-=1,Xt=Ge[Eo],vo=1-Xt,Gi=vo*vo*vo*h+3*vo*vo*Xt*y+3*vo*Xt*Xt*D+Xt*Xt*Xt*$,Qe[0][Eo]=Gi,zo=vo*vo*vo*g+3*vo*vo*Xt*E+3*vo*Xt*Xt*V+Xt*Xt*Xt*J,Qe[1][Eo]=zo,de[Eo]={X:Gi,Y:zo};Ge[$o]=0,Ge[$o+1]=1,de[$o]={X:h,Y:g},de[$o+1]={X:$,Y:J},Qe[0][$o]=h,Qe[1][$o]=g,Qe[0][$o+1]=$,Qe[1][$o+1]=J,Ge.length=$o+2,Qe[0].length=$o+2,Qe[1].length=$o+2,de.length=$o+2;const na=Math.min.apply(null,Qe[0]),la=Math.min.apply(null,Qe[1]),_i=Math.max.apply(null,Qe[0]),Io=Math.max.apply(null,Qe[1]);return new Ao(na,la,_i-na,Io-la)}closestPoint(e,t={}){return this.pointAtT(this.closestPointT(e,t))}closestPointLength(e,t={}){const r=this.getOptions(t);return this.lengthAtT(this.closestPointT(e,r),r)}closestPointNormalizedLength(e,t={}){const r=this.getOptions(t),s=this.closestPointLength(e,r);if(!s)return 0;const h=this.length(r);return h===0?0:s/h}closestPointT(e,t={}){const r=this.getPrecision(t),s=this.getDivisions(t),h=Math.pow(10,-r);let g=null,y=0,E=0,D=0,V=0,$=0,J=null;const de=s.length;let Ge=de>0?1/de:0;for(s.forEach((Qe,xt)=>{const Yt=Qe.start.distance(e),fn=Qe.end.distance(e),Xt=Yt+fn;(J==null||Xt<J)&&(g=Qe,y=xt*Ge,E=(xt+1)*Ge,D=Yt,V=fn,J=Xt,$=Qe.endpointDistance())});;){const Qe=D?Math.abs(D-V)/D:0,xt=V!=null?Math.abs(D-V)/V:0,Yt=Qe<h||xt<h,fn=D?D<$*h:!0,Xt=V?V<$*h:!0;if(Yt||(fn||Xt))return D<=V?y:E;const xr=g.divide(.5);Ge/=2;const Jr=xr[0].start.distance(e),fi=xr[0].end.distance(e),Gi=Jr+fi,zo=xr[1].start.distance(e),vo=xr[1].end.distance(e),Eo=zo+vo;Gi<=Eo?(g=xr[0],E-=Ge,D=Jr,V=fi):(g=xr[1],y+=Ge,D=zo,V=vo)}}closestPointTangent(e,t={}){return this.tangentAtT(this.closestPointT(e,t))}containsPoint(e,t={}){return this.toPolyline(t).containsPoint(e)}divideAt(e,t={}){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);const r=this.tAt(e,t);return this.divideAtT(r)}divideAtLength(e,t={}){const r=this.tAtLength(e,t);return this.divideAtT(r)}divide(e){return this.divideAtT(e)}divideAtT(e){const t=this.start,r=this.controlPoint1,s=this.controlPoint2,h=this.end;if(e<=0)return[new c(t,t,t,t),new c(t,r,s,h)];if(e>=1)return[new c(t,r,s,h),new c(h,h,h,h)];const g=this.getSkeletonPoints(e),y=g.startControlPoint1,E=g.startControlPoint2,D=g.divider,V=g.dividerControlPoint1,$=g.dividerControlPoint2;return[new c(t,y,E,D),new c(D,V,$,h)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(e){const t=this.start,r=this.controlPoint1,s=this.controlPoint2,h=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:s.clone()};if(e>=1)return{startControlPoint1:r.clone(),startControlPoint2:s.clone(),divider:h.clone(),dividerControlPoint1:h.clone(),dividerControlPoint2:h.clone()};const g=new u(t,r).pointAt(e),y=new u(r,s).pointAt(e),E=new u(s,h).pointAt(e),D=new u(g,y).pointAt(e),V=new u(y,E).pointAt(e),$=new u(D,V).pointAt(e);return{startControlPoint1:g,startControlPoint2:D,divider:$,dividerControlPoint1:V,dividerControlPoint2:E}}getSubdivisions(e={}){const t=this.getPrecision(e);let r=[new c(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(t===0)return r;let s=this.endpointDistance();const h=Math.pow(10,-t);let g=0;for(;;){g+=1;const y=[];r.forEach(V=>{const $=V.divide(.5);y.push($[0],$[1])});const E=y.reduce((V,$)=>V+$.endpointDistance(),0),D=E!==0?(E-s)/E:0;if(g>1&&D<h)return y;r=y,s=E}}length(e={}){return this.getDivisions(e).reduce((r,s)=>r+s.endpointDistance(),0)}lengthAtT(e,t={}){if(e<=0)return 0;const r=t.precision===void 0?this.PRECISION:t.precision;return this.divide(e)[0].length({precision:r})}pointAt(e,t={}){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const r=this.tAt(e,t);return this.pointAtT(r)}pointAtLength(e,t={}){const r=this.tAtLength(e,t);return this.pointAtT(r)}pointAtT(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider}isDifferentiable(){const e=this.start,t=this.controlPoint1,r=this.controlPoint2,s=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(s))}tangentAt(e,t={}){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);const r=this.tAt(e,t);return this.tangentAtT(r)}tangentAtLength(e,t={}){if(!this.isDifferentiable())return null;const r=this.tAtLength(e,t);return this.tangentAtT(r)}tangentAtT(e){if(!this.isDifferentiable())return null;e<0&&(e=0),e>1&&(e=1);const t=this.getSkeletonPoints(e),r=t.startControlPoint2,s=t.dividerControlPoint1,h=t.divider,g=new u(r,s);return g.translate(h.x-r.x,h.y-r.y),g}getPrecision(e={}){return e.precision==null?this.PRECISION:e.precision}getDivisions(e={}){if(e.subdivisions!=null)return e.subdivisions;const t=this.getPrecision(e);return this.getSubdivisions({precision:t})}getOptions(e={}){const t=this.getPrecision(e),r=this.getDivisions(e);return{precision:t,subdivisions:r}}tAt(e,t={}){if(e<=0)return 0;if(e>=1)return 1;const r=this.getOptions(t),h=this.length(r)*e;return this.tAtLength(h,r)}tAtLength(e,t={}){let r=!0;e<0&&(r=!1,e=-e);const s=this.getPrecision(t),h=this.getDivisions(t),g={precision:s,subdivisions:h};let y=null,E,D,V=0,$=0,J=0;const de=h.length;let Ge=de>0?1/de:0;for(let Yt=0;Yt<de;Yt+=1){const fn=r?Yt:de-1-Yt,Xt=h[Yt],zn=Xt.endpointDistance();if(e<=J+zn){y=Xt,E=fn*Ge,D=(fn+1)*Ge,V=r?e-J:zn+J-e,$=r?zn+J-e:e-J;break}J+=zn}if(y==null)return r?1:0;const Qe=this.length(g),xt=Math.pow(10,-s);for(;;){let Yt;if(Yt=Qe!==0?V/Qe:0,Yt<xt)return E;if(Yt=Qe!==0?$/Qe:0,Yt<xt)return D;let fn,Xt;const zn=y.divide(.5);Ge/=2;const xr=zn[0].endpointDistance(),Jr=zn[1].endpointDistance();V<=xr?(y=zn[0],D-=Ge,fn=V,Xt=xr-fn):(y=zn[1],E+=Ge,fn=V-xr,Xt=Jr-fn),V=fn,$=Xt}}toPoints(e={}){const t=this.getDivisions(e),r=[t[0].start.clone()];return t.forEach(s=>r.push(s.end.clone())),r}toPolyline(e={}){return new i(this.toPoints(e))}scale(e,t,r){return this.start.scale(e,t,r),this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this}rotate(e,t){return this.start.rotate(e,t),this.controlPoint1.rotate(e,t),this.controlPoint2.rotate(e,t),this.end.rotate(e,t),this}translate(e,t){return typeof e=="number"?(this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t)):(this.start.translate(e),this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return e!=null&&this.start.equals(e.start)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)&&this.end.equals(e.end)}clone(){return new c(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(a){a.toStringTag=`X6.Geometry.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;try{if((r==null||r===a.toStringTag)&&Fn.isPoint(s.start)&&Fn.isPoint(s.controlPoint1)&&Fn.isPoint(s.controlPoint2)&&Fn.isPoint(s.end)&&typeof s.toPoints=="function"&&typeof s.toPolyline=="function")return!0}catch(h){return!1}return!1}a.isCurve=e})(c||(c={})),function(a){function e(s){const h=s.length,g=[],y=[];let E=2;g[0]=s[0]/E;for(let D=1;D<h;D+=1)y[D]=1/E,E=(D<h-1?4:3.5)-y[D],g[D]=(s[D]-g[D-1])/E;for(let D=1;D<h;D+=1)g[h-D-1]-=y[h-D]*g[h-D];return g}function t(s){const h=s.map(J=>Fn.clone(J)),g=[],y=[],E=h.length-1;if(E===1)return g[0]=new Fn((2*h[0].x+h[1].x)/3,(2*h[0].y+h[1].y)/3),y[0]=new Fn(2*g[0].x-h[0].x,2*g[0].y-h[0].y),[g,y];const D=[];for(let J=1;J<E-1;J+=1)D[J]=4*h[J].x+2*h[J+1].x;D[0]=h[0].x+2*h[1].x,D[E-1]=(8*h[E-1].x+h[E].x)/2;const V=e(D);for(let J=1;J<E-1;J+=1)D[J]=4*h[J].y+2*h[J+1].y;D[0]=h[0].y+2*h[1].y,D[E-1]=(8*h[E-1].y+h[E].y)/2;const $=e(D);for(let J=0;J<E;J+=1)g.push(new Fn(V[J],$[J])),J<E-1?y.push(new Fn(2*h[J+1].x-V[J+1],2*h[J+1].y-$[J+1])):y.push(new Fn((h[E].x+V[E-1])/2,(h[E].y+$[E-1])/2));return[g,y]}function r(s){if(s==null||Array.isArray(s)&&s.length<2)throw new Error("At least 2 points are required");const h=t(s),g=[];for(let y=0,E=h[0].length;y<E;y+=1){const D=new Fn(h[0][y].x,h[0][y].y),V=new Fn(h[1][y].x,h[1][y].y);g.push(new a(s[y],D,V,s[y+1]))}return g}a.throughPoints=r}(c||(c={}));class d extends Dd{constructor(){super(...arguments),this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(this.previousSegment==null)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(e,t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(e,t){if(e<=0)return 0;const r=this.length();return e>=1?r:r*e}divideAtT(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class m extends d{constructor(e,t){super(),u.isLine(e)?this.endPoint=e.end.clone().round(2):this.endPoint=Fn.create(e,t).round(2)}get type(){return"L"}get line(){return new u(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const t=this.line.divideAt(e);return[new m(t[0]),new m(t[1])]}divideAtLength(e){const t=this.line.divideAtLength(e);return[new m(t[0]),new m(t[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return this.previousSegment==null?!1:!this.start.equals(this.end)}clone(){return new m(this.end)}scale(e,t,r){return this.end.scale(e,t,r),this}rotate(e,t){return this.end.rotate(e,t),this}translate(e,t){return typeof e=="number"?this.end.translate(e,t):this.end.translate(e),this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}(function(a){function e(...t){const r=t.length,s=t[0];if(u.isLine(s))return new a(s);if(Fn.isPointLike(s))return r===1?new a(s):t.map(g=>new a(g));if(r===2)return new a(+t[0],+t[1]);const h=[];for(let g=0;g<r;g+=2){const y=+t[g],E=+t[g+1];h.push(new a(y,E))}return h}a.create=e})(m||(m={}));class C extends d{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new u(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const t=this.line.divideAt(e);return[t[1].isDifferentiable()?new m(t[0]):this.clone(),new m(t[1])]}divideAtLength(e){const t=this.line.divideAtLength(e);return[t[1].isDifferentiable()?new m(t[0]):this.clone(),new m(t[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)}scale(){return this}rotate(){return this}translate(){return this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}clone(){return new C}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}(function(a){function e(){return new a}a.create=e})(C||(C={}));class O extends d{constructor(e,t){super(),this.isVisible=!1,this.isSubpathStart=!0,u.isLine(e)||c.isCurve(e)?this.endPoint=e.end.clone().round(2):this.endPoint=Fn.create(e,t).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(e,t,r){return this.end.scale(e,t,r),this}rotate(e,t){return this.end.rotate(e,t),this}translate(e,t){return typeof e=="number"?this.end.translate(e,t):this.end.translate(e),this}clone(){return new O(this.end)}equals(e){return this.type===e.type&&this.end.equals(e.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}(function(a){function e(...t){const r=t.length,s=t[0];if(u.isLine(s))return new a(s);if(c.isCurve(s))return new a(s);if(Fn.isPointLike(s)){if(r===1)return new a(s);const g=[];for(let y=0;y<r;y+=1)y===0?g.push(new a(t[y])):g.push(new m(t[y]));return g}if(r===2)return new a(+t[0],+t[1]);const h=[];for(let g=0;g<r;g+=2){const y=+t[g],E=+t[g+1];g===0?h.push(new a(y,E)):h.push(new m(y,E))}return h}a.create=e})(O||(O={}));class G extends d{constructor(e,t,r,s,h,g){super(),c.isCurve(e)?(this.controlPoint1=e.controlPoint1.clone().round(2),this.controlPoint2=e.controlPoint2.clone().round(2),this.endPoint=e.end.clone().round(2)):typeof e=="number"?(this.controlPoint1=new Fn(e,t).round(2),this.controlPoint2=new Fn(r,s).round(2),this.endPoint=new Fn(h,g).round(2)):(this.controlPoint1=Fn.create(e).round(2),this.controlPoint2=Fn.create(t).round(2),this.endPoint=Fn.create(r).round(2))}get type(){return"C"}get curve(){return new c(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(e){return this.curve.closestPoint(e)}closestPointLength(e){return this.curve.closestPointLength(e)}closestPointNormalizedLength(e){return this.curve.closestPointNormalizedLength(e)}closestPointTangent(e){return this.curve.closestPointTangent(e)}length(){return this.curve.length()}divideAt(e,t={}){const r=this.curve.divideAt(e,t);return[new G(r[0]),new G(r[1])]}divideAtLength(e,t={}){const r=this.curve.divideAtLength(e,t);return[new G(r[0]),new G(r[1])]}divideAtT(e){const t=this.curve.divideAtT(e);return[new G(t[0]),new G(t[1])]}getSubdivisions(){return[]}pointAt(e){return this.curve.pointAt(e)}pointAtLength(e){return this.curve.pointAtLength(e)}tangentAt(e){return this.curve.tangentAt(e)}tangentAtLength(e){return this.curve.tangentAtLength(e)}isDifferentiable(){if(!this.previousSegment)return!1;const e=this.start,t=this.controlPoint1,r=this.controlPoint2,s=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(s))}scale(e,t,r){return this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this}rotate(e,t){return this.controlPoint1.rotate(e,t),this.controlPoint2.rotate(e,t),this.end.rotate(e,t),this}translate(e,t){return typeof e=="number"?(this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t)):(this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return this.start.equals(e.start)&&this.end.equals(e.end)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)}clone(){return new G(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.controlPoint1,t=this.controlPoint2,r=this.end;return[this.type,e.x,e.y,t.x,t.y,r.x,r.y].join(" ")}}(function(a){function e(...t){const r=t.length,s=t[0];if(c.isCurve(s))return new a(s);if(Fn.isPointLike(s)){if(r===3)return new a(t[0],t[1],t[2]);const g=[];for(let y=0;y<r;y+=3)g.push(new a(t[y],t[y+1],t[y+2]));return g}if(r===6)return new a(t[0],t[1],t[2],t[3],t[4],t[5]);const h=[];for(let g=0;g<r;g+=6)h.push(new a(t[g],t[g+1],t[g+2],t[g+3],t[g+4],t[g+5]));return h}a.create=e})(G||(G={}));function oe(a,e,t){return{x:a*Math.cos(t)-e*Math.sin(t),y:a*Math.sin(t)+e*Math.cos(t)}}function le(a,e,t,r,s,h){const g=.3333333333333333,y=2/3;return[g*a+y*t,g*e+y*r,g*s+y*t,g*h+y*r,s,h]}function ke(a,e,t,r,s,h,g,y,E,D){const V=Math.PI*120/180,$=Math.PI/180*(+s||0);let J=[],de,Ge,Qe,xt,Yt;if(D)Ge=D[0],Qe=D[1],xt=D[2],Yt=D[3];else{de=oe(a,e,-$),a=de.x,e=de.y,de=oe(y,E,-$),y=de.x,E=de.y;const la=(a-y)/2,_i=(e-E)/2;let Io=la*la/(t*t)+_i*_i/(r*r);Io>1&&(Io=Math.sqrt(Io),t=Io*t,r=Io*r);const Ws=t*t,Pl=r*r,Ul=(h===g?-1:1)*Math.sqrt(Math.abs((Ws*Pl-Ws*_i*_i-Pl*la*la)/(Ws*_i*_i+Pl*la*la)));xt=Ul*t*_i/r+(a+y)/2,Yt=Ul*-r*la/t+(e+E)/2,Ge=Math.asin((e-Yt)/r),Qe=Math.asin((E-Yt)/r),Ge=a<xt?Math.PI-Ge:Ge,Qe=y<xt?Math.PI-Qe:Qe,Ge<0&&(Ge=Math.PI*2+Ge),Qe<0&&(Qe=Math.PI*2+Qe),g&&Ge>Qe&&(Ge-=Math.PI*2),!g&&Qe>Ge&&(Qe-=Math.PI*2)}let fn=Qe-Ge;if(Math.abs(fn)>V){const la=Qe,_i=y,Io=E;Qe=Ge+V*(g&&Qe>Ge?1:-1),y=xt+t*Math.cos(Qe),E=Yt+r*Math.sin(Qe),J=ke(y,E,t,r,s,0,g,_i,Io,[Qe,la,xt,Yt])}fn=Qe-Ge;const Xt=Math.cos(Ge),zn=Math.sin(Ge),xr=Math.cos(Qe),Jr=Math.sin(Qe),fi=Math.tan(fn/4),Gi=4/3*(t*fi),zo=4/3*(r*fi),vo=[a,e],Eo=[a+Gi*zn,e-zo*Xt],$o=[y+Gi*Jr,E-zo*xr],na=[y,E];if(Eo[0]=2*vo[0]-Eo[0],Eo[1]=2*vo[1]-Eo[1],D)return[Eo,$o,na].concat(J);{J=[Eo,$o,na].concat(J).join().split(",");const la=[],_i=J.length;for(let Io=0;Io<_i;Io+=1)la[Io]=Io%2?oe(+J[Io-1],+J[Io],$).y:oe(+J[Io],+J[Io+1],$).x;return la}}function lt(a){if(!a)return null;const e=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,t=new RegExp(`([a-z])[${e},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${e}]*,?[${e}]*)+)`,"ig"),r=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${e}]*,?[${e}]*`,"ig"),s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},h=[];return a.replace(t,(g,y,E)=>{const D=[];let V=y.toLowerCase();E.replace(r,(J,de)=>(de&&D.push(+de),J)),V==="m"&&D.length>2&&(h.push([y,...D.splice(0,2)]),V="l",y=y==="m"?"l":"L");const $=s[V];for(;D.length>=$&&(h.push([y,...D.splice(0,$)]),!!$););return g}),h}function Kt(a){const e=lt(a);if(!e||!e.length)return[["M",0,0]];let t=0,r=0,s=0,h=0;const g=[];for(let y=0,E=e.length;y<E;y+=1){const D=[];g.push(D);const V=e[y],$=V[0];if($!==$.toUpperCase())switch(D[0]=$.toUpperCase(),D[0]){case"A":D[1]=V[1],D[2]=V[2],D[3]=V[3],D[4]=V[4],D[5]=V[5],D[6]=+V[6]+t,D[7]=+V[7]+r;break;case"V":D[1]=+V[1]+r;break;case"H":D[1]=+V[1]+t;break;case"M":s=+V[1]+t,h=+V[2]+r;for(let J=1,de=V.length;J<de;J+=1)D[J]=+V[J]+(J%2?t:r);break;default:for(let J=1,de=V.length;J<de;J+=1)D[J]=+V[J]+(J%2?t:r);break}else for(let J=0,de=V.length;J<de;J+=1)D[J]=V[J];switch(D[0]){case"Z":t=+s,r=+h;break;case"H":t=D[1];break;case"V":r=D[1];break;case"M":s=D[D.length-2],h=D[D.length-1],t=D[D.length-2],r=D[D.length-1];break;default:t=D[D.length-2],r=D[D.length-1];break}}return g}function Wn(a){const e=Kt(a),t={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function r(E,D,V){let $,J;if(!E)return["C",D.x,D.y,D.x,D.y,D.x,D.y];switch(E[0]in{T:1,Q:1}||(D.qx=null,D.qy=null),E[0]){case"M":D.X=E[1],D.Y=E[2];break;case"A":return parseFloat(E[1])===0||parseFloat(E[2])===0?["L",E[6],E[7]]:["C"].concat(ke.apply(0,[D.x,D.y].concat(E.slice(1))));case"S":return V==="C"||V==="S"?($=D.x*2-D.bx,J=D.y*2-D.by):($=D.x,J=D.y),["C",$,J].concat(E.slice(1));case"T":return V==="Q"||V==="T"?(D.qx=D.x*2-D.qx,D.qy=D.y*2-D.qy):(D.qx=D.x,D.qy=D.y),["C"].concat(le(D.x,D.y,D.qx,D.qy,E[1],E[2]));case"Q":return D.qx=E[1],D.qy=E[2],["C"].concat(le(D.x,D.y,E[1],E[2],E[3],E[4]));case"H":return["L"].concat(E[1],D.y);case"V":return["L"].concat(D.x,E[1]);case"L":break;case"Z":break;default:break}return E}function s(E,D){if(E[D].length>7){E[D].shift();const V=E[D];for(;V.length;)h[D]="A",D+=1,E.splice(D,0,["C"].concat(V.splice(0,6)));E.splice(D,1),y=e.length}}const h=[];let g="",y=e.length;for(let E=0;E<y;E+=1){let D="";e[E]&&(D=e[E][0]),D!=="C"&&(h[E]=D,E>0&&(g=h[E-1])),e[E]=r(e[E],t,g),h[E]!=="A"&&D==="C"&&(h[E]="C"),s(e,E);const V=e[E],$=V.length;t.x=V[$-2],t.y=V[$-1],t.bx=parseFloat(V[$-4])||t.x,t.by=parseFloat(V[$-3])||t.y}return(!e[0][0]||e[0][0]!=="M")&&e.unshift(["M",0,0]),e}function Br(a){return Wn(a).map(e=>e.map(t=>typeof t=="string"?t:Ip(t,2))).join(",").split(",").join(" ")}const ti=new RegExp("^[\\s\\dLMCZz,.]*$");function gi(a){return typeof a!="string"?!1:ti.test(a)}function wo(a,e){return(a%e+e)%e}function ns(a,e,t,r,s){const h=[],g=a[a.length-1],y=e!=null&&e>0,E=e||0;if(r&&y){a=a.slice();const $=a[0],J=new Fn(g.x+($.x-g.x)/2,g.y+($.y-g.y)/2);a.splice(0,0,J)}let D=a[0],V=1;for(t?h.push("M",D.x,D.y):h.push("L",D.x,D.y);V<(r?a.length:a.length-1);){let $=a[wo(V,a.length)],J=D.x-$.x,de=D.y-$.y;if(y&&(J!==0||de!==0)&&(s==null||s.indexOf(V-1)<0)){let Ge=Math.sqrt(J*J+de*de);const Qe=J*Math.min(E,Ge/2)/Ge,xt=de*Math.min(E,Ge/2)/Ge,Yt=$.x+Qe,fn=$.y+xt;h.push("L",Yt,fn);let Xt=a[wo(V+1,a.length)];for(;V<a.length-2&&Math.round(Xt.x-$.x)===0&&Math.round(Xt.y-$.y)===0;)Xt=a[wo(V+2,a.length)],V+=1;J=Xt.x-$.x,de=Xt.y-$.y,Ge=Math.max(1,Math.sqrt(J*J+de*de));const zn=J*Math.min(E,Ge/2)/Ge,xr=de*Math.min(E,Ge/2)/Ge,Jr=$.x+zn,fi=$.y+xr;h.push("Q",$.x,$.y,Jr,fi),$=new Fn(Jr,fi)}else h.push("L",$.x,$.y);D=$,V+=1}return r?h.push("Z"):h.push("L",g.x,g.y),h.map($=>typeof $=="string"?$:+$.toFixed(3)).join(" ")}function Xo(a,e={}){const t=[];return a&&a.length&&a.forEach(r=>{Array.isArray(r)?t.push({x:r[0],y:r[1]}):t.push({x:r.x,y:r.y})}),ns(t,e.round,e.initialMove==null||e.initialMove,e.close,e.exclude)}function Po(a,e,t,r,s=0,h=0,g=0,y,E){if(t===0||r===0)return[];y-=a,E-=e,t=Math.abs(t),r=Math.abs(r);const D=-y/2,V=-E/2,$=Math.cos(s*Math.PI/180),J=Math.sin(s*Math.PI/180),de=$*D+J*V,Ge=-1*J*D+$*V,Qe=de*de,xt=Ge*Ge,Yt=t*t,fn=r*r,Xt=Qe/Yt+xt/fn;let zn;if(Xt>1)t=Math.sqrt(Xt)*t,r=Math.sqrt(Xt)*r,zn=0;else{let Vv=1;h===g&&(Vv=-1),zn=Vv*Math.sqrt((Yt*fn-Yt*xt-fn*Qe)/(Yt*xt+fn*Qe))}const xr=zn*t*Ge/r,Jr=-1*zn*r*de/t,fi=$*xr-J*Jr+y/2,Gi=J*xr+$*Jr+E/2;let zo=Math.atan2((Ge-Jr)/r,(de-xr)/t)-Math.atan2(0,1),vo=zo>=0?zo:2*Math.PI+zo;zo=Math.atan2((-Ge-Jr)/r,(-de-xr)/t)-Math.atan2((Ge-Jr)/r,(de-xr)/t);let Eo=zo>=0?zo:2*Math.PI+zo;g===0&&Eo>0?Eo-=2*Math.PI:g!==0&&Eo<0&&(Eo+=2*Math.PI);const $o=Eo*2/Math.PI,na=Math.ceil($o<0?-1*$o:$o),la=Eo/na,_i=8/3*Math.sin(la/4)*Math.sin(la/4)/Math.sin(la/2),Io=$*t,Ws=$*r,Pl=J*t,Ul=J*r;let iu=Math.cos(vo),Pc=Math.sin(vo),CE=-_i*(Io*Pc+Ul*iu),wE=-_i*(Pl*Pc-Ws*iu),Nb=0,Cw=0;const Gv=[];for(let Vv=0;Vv<na;Vv+=1){vo+=la,iu=Math.cos(vo),Pc=Math.sin(vo),Nb=Io*iu-Ul*Pc+fi,Cw=Pl*iu+Ws*Pc+Gi;const oA=-_i*(Io*Pc+Ul*iu),sA=-_i*(Pl*Pc-Ws*iu),Hx=Vv*6;Gv[Hx]=Number(CE+a),Gv[Hx+1]=Number(wE+e),Gv[Hx+2]=Number(Nb-oA+a),Gv[Hx+3]=Number(Cw-sA+e),Gv[Hx+4]=Number(Nb+a),Gv[Hx+5]=Number(Cw+e),CE=Nb+oA,wE=Cw+sA}return Gv.map(Vv=>+Vv.toFixed(2))}function hs(a,e,t,r,s=0,h=0,g=0,y,E){const D=[],V=Po(a,e,t,r,s,h,g,y,E);if(V!=null)for(let $=0,J=V.length;$<J;$+=6)D.push("C",V[$],V[$+1],V[$+2],V[$+3],V[$+4],V[$+5]);return D.join(" ")}class ki extends Dd{constructor(e){if(super(),this.PRECISION=3,this.segments=[],Array.isArray(e))if(u.isLine(e[0])||c.isCurve(e[0])){let t=null;e.forEach((s,h)=>{h===0&&this.appendSegment(ki.createSegment("M",s.start)),t!=null&&!t.end.equals(s.start)&&this.appendSegment(ki.createSegment("M",s.start)),u.isLine(s)?this.appendSegment(ki.createSegment("L",s.end)):c.isCurve(s)&&this.appendSegment(ki.createSegment("C",s.controlPoint1,s.controlPoint2,s.end)),t=s})}else e.forEach(r=>{r.isSegment&&this.appendSegment(r)});else e!=null&&(u.isLine(e)?(this.appendSegment(ki.createSegment("M",e.start)),this.appendSegment(ki.createSegment("L",e.end))):c.isCurve(e)?(this.appendSegment(ki.createSegment("M",e.start)),this.appendSegment(ki.createSegment("C",e.controlPoint1,e.controlPoint2,e.end))):i.isPolyline(e)?e.points&&e.points.length&&e.points.forEach((t,r)=>{const s=r===0?ki.createSegment("M",t):ki.createSegment("L",t);this.appendSegment(s)}):e.isSegment&&this.appendSegment(e))}get[Symbol.toStringTag](){return ki.toStringTag}get start(){const e=this.segments,t=e.length;if(t===0)return null;for(let r=0;r<t;r+=1){const s=e[r];if(s.isVisible)return s.start}return e[t-1].end}get end(){const e=this.segments,t=e.length;if(t===0)return null;for(let r=t-1;r>=0;r-=1){const s=e[r];if(s.isVisible)return s.end}return e[t-1].end}moveTo(...e){return this.appendSegment(O.create.call(null,...e))}lineTo(...e){return this.appendSegment(m.create.call(null,...e))}curveTo(...e){return this.appendSegment(G.create.call(null,...e))}arcTo(e,t,r,s,h,g,y){const E=this.end||new Fn,D=typeof g=="number"?Po(E.x,E.y,e,t,r,s,h,g,y):Po(E.x,E.y,e,t,r,s,h,g.x,g.y);if(D!=null)for(let V=0,$=D.length;V<$;V+=6)this.curveTo(D[V],D[V+1],D[V+2],D[V+3],D[V+4],D[V+5]);return this}quadTo(e,t,r,s){const h=this.end||new Fn,g=["M",h.x,h.y];if(typeof e=="number")g.push("Q",e,t,r,s);else{const E=t;g.push("Q",e.x,e.y,E.x,E.y)}const y=ki.parse(g.join(" "));return this.appendSegment(y.segments.slice(1)),this}close(){return this.appendSegment(C.create())}drawPoints(e,t={}){const r=Xo(e,t),s=ki.parse(r);s&&s.segments&&this.appendSegment(s.segments)}bbox(){const e=this.segments,t=e.length;if(t===0)return null;let r;for(let h=0;h<t;h+=1){const g=e[h];if(g.isVisible){const y=g.bbox();y!=null&&(r=r?r.union(y):y)}}if(r!=null)return r;const s=e[t-1];return new Ao(s.end.x,s.end.y,0,0)}appendSegment(e){const t=this.segments.length;let r=t!==0?this.segments[t-1]:null,s;const h=null;if(Array.isArray(e))for(let g=0,y=e.length;g<y;g+=1){const E=e[g];s=this.prepareSegment(E,r,h),this.segments.push(s),r=s}else e!=null&&e.isSegment&&(s=this.prepareSegment(e,r,h),this.segments.push(s));return this}insertSegment(e,t){const r=this.segments.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");let s,h=null,g=null;if(r!==0&&(e>=1?(h=this.segments[e-1],g=h.nextSegment):(h=null,g=this.segments[0])),!Array.isArray(t))s=this.prepareSegment(t,h,g),this.segments.splice(e,0,s);else for(let y=0,E=t.length;y<E;y+=1){const D=t[y];s=this.prepareSegment(D,h,g),this.segments.splice(e+y,0,s),h=s}return this}removeSegment(e){const t=this.fixIndex(e),r=this.segments.splice(t,1)[0],s=r.previousSegment,h=r.nextSegment;return s&&(s.nextSegment=h),h&&(h.previousSegment=s),r.isSubpathStart&&h&&this.updateSubpathStartSegment(h),r}replaceSegment(e,t){const r=this.fixIndex(e);let s;const h=this.segments[r];let g=h.previousSegment;const y=h.nextSegment;let E=h.isSubpathStart;if(!Array.isArray(t))s=this.prepareSegment(t,g,y),this.segments.splice(r,1,s),E&&s.isSubpathStart&&(E=!1);else{this.segments.splice(e,1);for(let D=0,V=t.length;D<V;D+=1){const $=t[D];s=this.prepareSegment($,g,y),this.segments.splice(e+D,0,s),g=s,E&&s.isSubpathStart&&(E=!1)}}E&&y&&this.updateSubpathStartSegment(y)}getSegment(e){const t=this.fixIndex(e);return this.segments[t]}fixIndex(e){const t=this.segments.length;if(t===0)throw new Error("Path has no segments.");let r=e;for(;r<0;)r=t+r;if(r>=t||r<0)throw new Error("Index out of range.");return r}segmentAt(e,t={}){const r=this.segmentIndexAt(e,t);return r?this.getSegment(r):null}segmentAtLength(e,t={}){const r=this.segmentIndexAtLength(e,t);return r?this.getSegment(r):null}segmentIndexAt(e,t={}){if(this.segments.length===0)return null;const r=Rp(e,0,1),s=this.getOptions(t),g=this.length(s)*r;return this.segmentIndexAtLength(g,s)}segmentIndexAtLength(e,t={}){const r=this.segments.length;if(r===0)return null;let s=!0;e<0&&(s=!1,e=-e);const h=this.getPrecision(t),g=this.getSubdivisions(t);let y=0,E=null;for(let D=0;D<r;D+=1){const V=s?D:r-1-D,$=this.segments[V],J=g[V],de=$.length({precision:h,subdivisions:J});if($.isVisible){if(e<=y+de)return V;E=V}y+=de}return E}getSegmentSubdivisions(e={}){const t=this.getPrecision(e),r=[];for(let s=0,h=this.segments.length;s<h;s+=1){const y=this.segments[s].getSubdivisions({precision:t});r.push(y)}return r}updateSubpathStartSegment(e){let t=e.previousSegment,r=e;for(;r&&!r.isSubpathStart;)t!=null?r.subpathStartSegment=t.subpathStartSegment:r.subpathStartSegment=null,t=r,r=r.nextSegment}prepareSegment(e,t,r){e.previousSegment=t,e.nextSegment=r,t!=null&&(t.nextSegment=e),r!=null&&(r.previousSegment=e);let s=e;return e.isSubpathStart&&(e.subpathStartSegment=e,s=r),s!=null&&this.updateSubpathStartSegment(s),e}closestPoint(e,t={}){const r=this.closestPointT(e,t);return r?this.pointAtT(r):null}closestPointLength(e,t={}){const r=this.getOptions(t),s=this.closestPointT(e,r);return s?this.lengthAtT(s,r):0}closestPointNormalizedLength(e,t={}){const r=this.getOptions(t),s=this.closestPointLength(e,r);if(s===0)return 0;const h=this.length(r);return h===0?0:s/h}closestPointT(e,t={}){if(this.segments.length===0)return null;const r=this.getPrecision(t),s=this.getSubdivisions(t);let h,g=1/0;for(let y=0,E=this.segments.length;y<E;y+=1){const D=this.segments[y],V=s[y];if(D.isVisible){const $=D.closestPointT(e,{precision:r,subdivisions:V}),J=D.pointAtT($),de=U1(J,e);de<g&&(h={segmentIndex:y,value:$},g=de)}}return h||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(e,t={}){if(this.segments.length===0)return null;const r=this.getPrecision(t),s=this.getSubdivisions(t);let h,g=1/0;for(let y=0,E=this.segments.length;y<E;y+=1){const D=this.segments[y],V=s[y];if(D.isDifferentiable()){const $=D.closestPointT(e,{precision:r,subdivisions:V}),J=D.pointAtT($),de=U1(J,e);de<g&&(h=D.tangentAtT($),g=de)}}return h||null}containsPoint(e,t={}){const r=this.toPolylines(t);if(!r)return!1;let s=0;for(let h=0,g=r.length;h<g;h+=1)r[h].containsPoint(e)&&(s+=1);return s%2===1}pointAt(e,t={}){if(this.segments.length===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const r=this.getOptions(t),h=this.length(r)*e;return this.pointAtLength(h,r)}pointAtLength(e,t={}){if(this.segments.length===0)return null;if(e===0)return this.start.clone();let r=!0;e<0&&(r=!1,e=-e);const s=this.getPrecision(t),h=this.getSubdivisions(t);let g,y=0;for(let D=0,V=this.segments.length;D<V;D+=1){const $=r?D:V-1-D,J=this.segments[$],de=h[$],Ge=J.length({precision:s,subdivisions:de});if(J.isVisible){if(e<=y+Ge)return J.pointAtLength((r?1:-1)*(e-y),{precision:s,subdivisions:de});g=J}y+=Ge}return g?r?g.end:g.start:this.segments[this.segments.length-1].end.clone()}pointAtT(e){const t=this.segments,r=t.length;if(r===0)return null;const s=e.segmentIndex;if(s<0)return t[0].pointAtT(0);if(s>=r)return t[r-1].pointAtT(1);const h=Rp(e.value,0,1);return t[s].pointAtT(h)}divideAt(e,t={}){if(this.segments.length===0)return null;const r=Rp(e,0,1),s=this.getOptions(t),g=this.length(s)*r;return this.divideAtLength(g,s)}divideAtLength(e,t={}){if(this.segments.length===0)return null;let r=!0;e<0&&(r=!1,e=-e);const s=this.getPrecision(t),h=this.getSubdivisions(t);let g=0,y,E,D,V,$;for(let xr=0,Jr=this.segments.length;xr<Jr;xr+=1){const fi=r?xr:Jr-1-xr,Gi=this.getSegment(fi),zo=h[fi],vo={precision:s,subdivisions:zo},Eo=Gi.length(vo);if(Gi.isDifferentiable()&&(D=Gi,V=fi,e<=g+Eo)){E=fi,y=Gi.divideAtLength((r?1:-1)*(e-g),vo);break}g+=Eo}if(!D)return null;y||(E=V,$=r?1:0,y=D.divideAtT($));const J=this.clone(),de=E;J.replaceSegment(de,y);const Ge=de;let Qe=de+1,xt=de+2;y[0].isDifferentiable()||(J.removeSegment(Ge),Qe-=1,xt-=1);const Yt=J.getSegment(Qe).start;J.insertSegment(Qe,ki.createSegment("M",Yt)),xt+=1,y[1].isDifferentiable()||(J.removeSegment(xt-1),xt-=1);const fn=xt-Ge-1;for(let xr=xt,Jr=J.segments.length;xr<Jr;xr+=1){const fi=this.getSegment(xr-fn),Gi=J.getSegment(xr);if(Gi.type==="Z"&&!fi.subpathStartSegment.end.equals(Gi.subpathStartSegment.end)){const zo=ki.createSegment("L",fi.end);J.replaceSegment(xr,zo)}}const Xt=new ki(J.segments.slice(0,Qe)),zn=new ki(J.segments.slice(Qe));return[Xt,zn]}intersectsWithLine(e,t={}){const r=this.toPolylines(t);if(r==null)return null;let s=null;for(let h=0,g=r.length;h<g;h+=1){const y=r[h],E=e.intersect(y);E&&(s==null&&(s=[]),Array.isArray(E)?s.push(...E):s.push(E))}return s}isDifferentiable(){for(let e=0,t=this.segments.length;e<t;e+=1)if(this.segments[e].isDifferentiable())return!0;return!1}isValid(){const e=this.segments;return e.length===0||e[0].type==="M"}length(e={}){if(this.segments.length===0)return 0;const t=this.getSubdivisions(e);let r=0;for(let s=0,h=this.segments.length;s<h;s+=1){const g=this.segments[s],y=t[s];r+=g.length({subdivisions:y})}return r}lengthAtT(e,t={}){const r=this.segments.length;if(r===0)return 0;let s=e.segmentIndex;if(s<0)return 0;let h=Rp(e.value,0,1);s>=r&&(s=r-1,h=1);const g=this.getPrecision(t),y=this.getSubdivisions(t);let E=0;for(let $=0;$<s;$+=1){const J=this.segments[$],de=y[$];E+=J.length({precision:g,subdivisions:de})}const D=this.segments[s],V=y[s];return E+=D.lengthAtT(h,{precision:g,subdivisions:V}),E}tangentAt(e,t={}){if(this.segments.length===0)return null;const r=Rp(e,0,1),s=this.getOptions(t),g=this.length(s)*r;return this.tangentAtLength(g,s)}tangentAtLength(e,t={}){if(this.segments.length===0)return null;let r=!0;e<0&&(r=!1,e=-e);const s=this.getPrecision(t),h=this.getSubdivisions(t);let g,y=0;for(let E=0,D=this.segments.length;E<D;E+=1){const V=r?E:D-1-E,$=this.segments[V],J=h[V],de=$.length({precision:s,subdivisions:J});if($.isDifferentiable()){if(e<=y+de)return $.tangentAtLength((r?1:-1)*(e-y),{precision:s,subdivisions:J});g=$}y+=de}if(g){const E=r?1:0;return g.tangentAtT(E)}return null}tangentAtT(e){const t=this.segments.length;if(t===0)return null;const r=e.segmentIndex;if(r<0)return this.segments[0].tangentAtT(0);if(r>=t)return this.segments[t-1].tangentAtT(1);const s=Rp(e.value,0,1);return this.segments[r].tangentAtT(s)}getPrecision(e={}){return e.precision==null?this.PRECISION:e.precision}getSubdivisions(e={}){if(e.segmentSubdivisions==null){const t=this.getPrecision(e);return this.getSegmentSubdivisions({precision:t})}return e.segmentSubdivisions}getOptions(e={}){const t=this.getPrecision(e),r=this.getSubdivisions(e);return{precision:t,segmentSubdivisions:r}}toPoints(e={}){const t=this.segments,r=t.length;if(r===0)return null;const s=this.getSubdivisions(e),h=[];let g=[];for(let y=0;y<r;y+=1){const E=t[y];if(E.isVisible){const D=s[y];D.length>0?D.forEach(V=>g.push(V.start)):g.push(E.start)}else g.length>0&&(g.push(t[y-1].end),h.push(g),g=[])}return g.length>0&&(g.push(this.end),h.push(g)),h}toPolylines(e={}){const t=this.toPoints(e);return t?t.map(r=>new i(r)):null}scale(e,t,r){return this.segments.forEach(s=>s.scale(e,t,r)),this}rotate(e,t){return this.segments.forEach(r=>r.rotate(e,t)),this}translate(e,t){return typeof e=="number"?this.segments.forEach(r=>r.translate(e,t)):this.segments.forEach(r=>r.translate(e)),this}clone(){const e=new ki;return this.segments.forEach(t=>e.appendSegment(t.clone())),e}equals(e){if(e==null)return!1;const t=this.segments,r=e.segments,s=t.length;if(r.length!==s)return!1;for(let h=0;h<s;h+=1){const g=t[h],y=r[h];if(g.type!==y.type||!g.equals(y))return!1}return!0}toJSON(){return this.segments.map(e=>e.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(e=>e.serialize()).join(" ")}toString(){return this.serialize()}}(function(a){a.toStringTag=`X6.Geometry.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;return!!((r==null||r===a.toStringTag)&&Array.isArray(s.segments)&&typeof s.moveTo=="function"&&typeof s.lineTo=="function"&&typeof s.curveTo=="function")}a.isPath=e})(ki||(ki={})),function(a){function e(r){if(!r)return new a;const s=new a,h=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,g=a.normalize(r).match(h);if(g!=null)for(let y=0,E=g.length;y<E;y+=1){const D=g[y],V=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,$=D.match(V);if($!=null){const J=$[0],de=$.slice(1).map(Qe=>+Qe),Ge=t.call(null,J,...de);s.appendSegment(Ge)}}return s}a.parse=e;function t(r,...s){if(r==="M")return O.create.call(null,...s);if(r==="L")return m.create.call(null,...s);if(r==="C")return G.create.call(null,...s);if(r==="z"||r==="Z")return C.create();throw new Error(`Invalid path segment type "${r}"`)}a.createSegment=t}(ki||(ki={})),function(a){a.normalize=Br,a.isValid=gi,a.drawArc=hs,a.drawPoints=Xo,a.arcToCurves=Po}(ki||(ki={}));class co{constructor(e,t,r){if(!e)throw new TypeError("Invalid element to create vector");let s;if(co.isVector(e))s=e.node;else if(typeof e=="string")if(e.toLowerCase()==="svg")s=ub();else if(e[0]==="<"){const h=ub(e);s=document.importNode(h.firstChild,!0)}else s=document.createElementNS(hc.svg,e);else s=e;this.node=s,t&&this.setAttributes(t),r&&this.append(r)}get[Symbol.toStringTag](){return co.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(e){this.node.id=e}transform(e,t){return e==null?Iv(this.node):(Iv(this.node,e,t),this)}translate(e,t=0,r={}){return e==null?qC(this.node):(qC(this.node,e,t,r),this)}rotate(e,t,r,s={}){return e==null?Nx(this.node):(Nx(this.node,e,t,r,s),this)}scale(e,t){return e==null?_p(this.node):(_p(this.node,e,t),this)}getTransformToElement(e){const t=co.toNode(e);return Np(this.node,t)}removeAttribute(e){return V1(this.node,e),this}getAttribute(e){return G1(this.node,e)}setAttribute(e,t){return Cv(this.node,e,t),this}setAttributes(e){return wv(this.node,e),this}attr(e,t){return e==null?Fa(this.node):typeof e=="string"&&t===void 0?Fa(this.node,e):(typeof e=="object"?Fa(this.node,e):Fa(this.node,e,t),this)}svg(){return this.node instanceof SVGSVGElement?this:co.create(this.node.ownerSVGElement)}defs(){const e=this.svg()||this,t=e.node.getElementsByTagName("defs")[0];return t?co.create(t):co.create("defs").appendTo(e)}text(e,t={}){return Da(this.node,e,t),this}tagName(){return r0(this.node)}clone(){return co.create(this.node.cloneNode(!0))}remove(){return Ch(this.node),this}empty(){return xv(this.node),this}append(e){return ed(this.node,co.toNodes(e)),this}appendTo(e){return z1(this.node,co.isVector(e)?e.node:e),this}prepend(e){return o0(this.node,co.toNodes(e)),this}before(e){return Ap(this.node,co.toNodes(e)),this}replace(e){return this.node.parentNode&&this.node.parentNode.replaceChild(co.toNode(e),this.node),co.create(e)}first(){return this.node.firstChild?co.create(this.node.firstChild):null}last(){return this.node.lastChild?co.create(this.node.lastChild):null}get(e){const t=this.node.childNodes[e];return t?co.create(t):null}indexOf(e){return Array.prototype.slice.call(this.node.childNodes).indexOf(co.toNode(e))}find(e){const t=[],r=zC(this.node,e);if(r)for(let s=0,h=r.length;s<h;s+=1)t.push(co.create(r[s]));return t}findOne(e){const t=B1(this.node,e);return t?co.create(t):null}findParentByClass(e,t){const r=bv(this.node,e,t);return r?co.create(r):null}matches(e){const t=this.node,r=this.node.matches,s=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return s&&s.call(t,e)}contains(e){return i0(this.node,co.isVector(e)?e.node:e)}wrap(e){const t=co.create(e),r=this.node.parentNode;return r!=null&&r.insertBefore(t.node,this.node),t.append(this)}parent(e){let t=this;if(t.node.parentNode==null)return null;if(t=co.create(t.node.parentNode),e==null)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=co.create(t.node.parentNode));return t}children(){const e=this.node.childNodes,t=[];for(let r=0;r<e.length;r+=1)e[r].nodeType===1&&t.push(co.create(e[r]));return t}eachChild(e,t){const r=this.children();for(let s=0,h=r.length;s<h;s+=1)e.call(r[s],r[s],s,r),t&&r[s].eachChild(e,t);return this}index(){return Rd(this.node)}hasClass(e){return _g(this.node,e)}addClass(e){return ja(this.node,e),this}removeClass(e){return nu(this.node,e),this}toggleClass(e,t){return gv(this.node,e,t),this}toLocalPoint(e,t){return HC(this.node,e,t)}toGeometryShape(){return Dx(this.node)}translateCenterToPoint(e){const r=this.getBBox({target:this.svg()}).getCenter();return this.translate(e.x-r.x,e.y-r.y),this}translateAndAutoOrient(e,t,r){return QC(this.node,e,t,r),this}animate(e){return XC(this.node,e)}animateTransform(e){return YC(this.node,e)}animateAlongPath(e,t){return $1(this.node,e,t)}normalizePath(){return this.tagName()==="path"&&this.attr("d",ki.normalize(this.attr("d"))),this}bbox(e,t){return Rx(this.node,e,t)}getBBox(e={}){return Mc(this.node,{recursive:e.recursive,target:e.target?co.toNode(e.target):null})}sample(e=1){return this.node instanceof SVGPathElement?bc(this.node,e):[]}toPath(){return co.create(Mx(this.node))}toPathData(){return Tx(this.node)}}(function(a){a.toStringTag=`X6.${a.name}`;function e(g){if(g==null)return!1;if(g instanceof a)return!0;const y=g[Symbol.toStringTag],E=g;return(y==null||y===a.toStringTag)&&E.node instanceof SVGElement&&typeof E.animate=="function"&&typeof E.sample=="function"&&typeof E.normalizePath=="function"&&typeof E.toPath=="function"}a.isVector=e;function t(g,y,E){return new a(g,y,E)}a.create=t;function r(g){if(g[0]==="<"){const y=ub(g),E=[];for(let D=0,V=y.childNodes.length;D<V;D+=1){const $=y.childNodes[D];E.push(t(document.importNode($,!0)))}return E}return[t(g)]}a.createVectors=r;function s(g){return e(g)?g.node:g}a.toNode=s;function h(g){return Array.isArray(g)?g.map(y=>s(y)):[s(g)]}a.toNodes=h})(co||(co={}));function Us(a,e){const t=co.create(e),r=co.create("textPath"),s=a.d;if(s&&a["xlink:href"]===void 0){const h=co.create("path").attr("d",s).appendTo(t.defs());r.attr("xlink:href",`#${h.id}`)}return typeof a=="object"&&r.attr(a),r.node}function pa(a,e,t){const r=t.eol,s=t.baseSize,h=t.lineHeight;let g=0,y;const E={},D=e.length-1;for(let V=0;V<=D;V+=1){let $=e[V],J=null;if(typeof $=="object"){const de=$.attrs,Ge=co.create("tspan",de);y=Ge.node;let Qe=$.t;r&&V===D&&(Qe+=r),y.textContent=Qe;const xt=de.class;xt&&Ge.addClass(xt),t.includeAnnotationIndices&&Ge.attr("annotations",$.annotations.join(",")),J=parseFloat(de["font-size"]),J===void 0&&(J=s),J&&J>g&&(g=J)}else r&&V===D&&($+=r),y=document.createTextNode($||" "),s&&s>g&&(g=s);a.appendChild(y)}return g&&(E.maxFontSize=g),h?E.lineHeight=h:g&&(E.lineHeight=g*1.2),E}const fa=/em$/;function qs(a,e){const t=parseFloat(a);return fa.test(a)?t*e:t}function Qa(a,e,t,r){if(!Array.isArray(e))return 0;const s=e.length;if(!s)return 0;let h=e[0];const g=qs(h.maxFontSize,t)||t;let y=0;const E=qs(r,t);for(let $=1;$<s;$+=1){h=e[$];const J=qs(h.lineHeight,t)||E;y+=J}const D=qs(h.maxFontSize,t)||t;let V;switch(a){case"middle":V=g/2-.15*D-y/2;break;case"bottom":V=-(.25*D)-y;break;default:case"top":V=.8*g;break}return V}function Da(a,e,t={}){e=gb(e);const r=t.eol;let s=t.textPath;const h=t.textVerticalAnchor,g=h==="middle"||h==="bottom"||h==="top";let y=t.x;y===void 0&&(y=a.getAttribute("x")||0);const E=t.includeAnnotationIndices;let D=t.annotations;D&&!Array.isArray(D)&&(D=[D]);const V=t.lineHeight,$=V==="auto",J=$?"1.5em":V||"1em";xv(a),Fa(a,{"xml:space":"preserve",display:e||t.displayEmpty?null:"none"});const de=Fa(a,"font-size");let Ge=parseFloat(de);Ge||(Ge=16,(g||D)&&!de&&Fa(a,"font-size",`${Ge}`));let Qe;s?(typeof s=="string"&&(s={d:s}),Qe=Us(s,a)):Qe=document.createDocumentFragment();let xt,Yt=0,fn;const Xt=e.split(`
`),zn=[],xr=Xt.length-1;for(let fi=0;fi<=xr;fi+=1){xt=J;let Gi="v-line";const zo=Pu("tspan");let vo,Eo=Xt[fi];if(Eo)if(D){const $o=GC(Eo,D,{offset:-Yt,includeAnnotationIndices:E});vo=pa(zo,$o,{eol:fi!==xr&&r,baseSize:Ge,lineHeight:$?null:J,includeAnnotationIndices:E});const na=vo.lineHeight;na&&$&&fi!==0&&(xt=na),fi===0&&(fn=vo.maxFontSize*.8)}else r&&fi!==xr&&(Eo+=r),zo.textContent=Eo;else{zo.textContent="-",Gi+=" v-empty-line";const $o=zo.style;$o.fillOpacity=0,$o.strokeOpacity=0,D&&(vo={})}vo&&zn.push(vo),fi>0&&zo.setAttribute("dy",xt),(fi>0||s)&&zo.setAttribute("x",y),zo.className.baseVal=Gi,Qe.appendChild(zo),Yt+=Eo.length+1}if(g)if(D)xt=Qa(h,zn,Ge,J);else if(h==="top")xt="0.8em";else{let fi;switch(xr>0?(fi=parseFloat(J)||1,fi*=xr,fa.test(J)||(fi/=Ge)):fi=0,h){case"middle":xt=`${.3-fi/2}em`;break;case"bottom":xt=`${-fi-.3}em`;break;default:break}}else h===0?xt="0em":h?xt=h:(xt=0,a.getAttribute("y")==null&&a.setAttribute("y",`${fn||"0.8em"}`));Qe.firstChild.setAttribute("dy",xt),a.appendChild(Qe)}function yl(a,e,t,r){const s=[],h=[];if(e!=null){const g=a.split(e);if(s.push(...g),typeof e=="string")for(let y=0,E=g.length-1;y<E;y+=1)h.push(e);else{const y=a.match(new RegExp(e,"g"));for(let E=0,D=g.length-1;E<D;E+=1)h.push(y?y[E]:"")}}else{let g="";for(let y=0,E=a.length;y<E;y+=1){const D=a[y];D===" "?(s.push(g),h.push(" "),g=""):D.match(/[^\x00-\xff]/)?(g.length&&(s.push(g),h.push("")),s.push(D),h.push(""),g=""):g+=D}g.length&&s.push(g)}for(let g=0;g<s.length;g+=1){const y=s[g];if(y.indexOf(t)>=0&&y.length>1){const E=y.split(t);for(let $=0,J=E.length-1;$<J;$+=1)E.splice(2*$+1,0,t);const D=E.filter($=>$!=="");s.splice(g,1,...D);const V=D.map(()=>"");V.pop(),h.splice(g,0,...V)}}for(let g=0;g<s.length;g+=1){const y=s[g],E=y.search(r);E>0&&E<y.length-1&&(s.splice(g,1,y.substring(0,E+1),y.substring(E+1)),h.splice(g,0,""))}return{words:s,separators:h}}function Yl(a,e,t={},r={}){const s=e.width,h=e.height,g=r.svgDocument||Pu("svg"),y=Pu("text"),E=Pu("tspan"),D=document.createTextNode("");Fa(y,t),y.appendChild(E),y.style.opacity="0",y.style.display="block",E.style.display="block",E.appendChild(D),g.appendChild(y);const V=g.parentNode==null;V&&document.body.appendChild(g);const $=r.eol||`
`,J=r.separator||" ",de=r.hyphen?new RegExp(r.hyphen):/[^\w\d]/,Ge=r.breakWord!==!1,Qe=[],xt={};let Yt=[],fn,Xt,zn;const{words:xr,separators:Jr}=yl(a,r.separator,$,de);for(let fi=0,Gi=0,zo=xr.length;fi<zo;fi+=1){const vo=xr[fi];if(vo){if(vo===$){Qe[Gi]=!0,Gi+=1,Yt[Gi]="";continue}if(Yt[Gi]!=null?(zn=Jr[fi-1]||"",D.data=`${Yt[Gi]}${zn}${vo}`):D.data=vo,E.getComputedTextLength()<=s)Yt[Gi]=D.data,xt[Gi]=Jr[fi],fn&&(Qe[Gi]=!0,Gi+=1,fn=0);else{if(Ge){if(!Yt[Gi]||fn){const Eo=!!fn,$o=vo.length===1;if(fn=vo.length-1,Eo||$o){if($o){if(!Yt[Gi]){Yt=[];break}xr.splice(fi,2,vo+xr[fi+1]),Jr.splice(fi+1,1),Qe[Gi]=!0,Gi+=1,zo-=1,fi-=1;continue}xr[fi]=vo.substring(0,fn),xr[fi+1]=vo.substring(fn)+xr[fi+1]}else xr.splice(fi,1,vo.substring(0,fn),vo.substring(fn)),Jr.splice(fi,0,""),zo+=1,Gi&&!Qe[Gi-1]&&(Gi-=1);fi-=1;continue}}else if(!Yt[Gi]){Yt[Gi]=vo,Qe[Gi]=!0,Gi+=1;continue}Gi+=1,fi-=1}if(h!=null){if(Xt==null){let Eo;t.lineHeight==="auto"?Eo={value:1.5,unit:"em"}:Eo=_C(t.lineHeight,["em"])||{value:1,unit:"em"},Xt=Eo.value,Eo.unit==="em"&&(Jt.IS_FIREFOX?Xt*=E.getBBox().height:Xt*=y.getBBox().height)}if(Xt*Yt.length>h){const Eo=Math.floor(h/Xt)-1,$o=Yt[Eo],na=Yt[Eo+1];if(Yt.splice(Eo+1),$o==null)break;let la=r.ellipsis;if(!la)break;typeof la!="string"&&(la="\u2026");let _i=$o;na&&Ge&&(_i+=zn+na);let Io=_i.length,Ws,Pl;do{if(Pl=_i[Io],Ws=_i.substring(0,Io),Pl?Pl.match(J)&&(Ws+=Pl):Ws+=xt[Eo],Ws+=la,D.data=Ws,E.getComputedTextLength()<=s){Yt[Eo]=Ws;break}Io-=1}while(Io>=0);break}}}}return Ch(V?g:y),Yt.join($)}const ul=.551784;function Ba(a,e,t=NaN){const r=a.getAttribute(e);if(r==null)return t;const s=parseFloat(r);return Number.isNaN(s)?t:s}function bc(a,e=1){const t=a.getTotalLength(),r=[];let s=0,h;for(;s<t;)h=a.getPointAtLength(s),r.push({distance:s,x:h.x,y:h.y}),s+=e;return r}function Jl(a){return["M",Ba(a,"x1"),Ba(a,"y1"),"L",Ba(a,"x2"),Ba(a,"y2")].join(" ")}function yf(a){const e=td(a);return e.length===0?null:`${Dp(e)} Z`}function jf(a){const e=td(a);return e.length===0?null:Dp(e)}function Dp(a){return`M ${a.map(t=>`${t.x} ${t.y}`).join(" L")}`}function td(a){const e=[],t=a.points;if(t)for(let r=0,s=t.numberOfItems;r<s;r+=1)e.push(t.getItem(r));return e}function Mv(a){const e=Ba(a,"cx",0),t=Ba(a,"cy",0),r=Ba(a,"r"),s=r*ul;return["M",e,t-r,"C",e+s,t-r,e+r,t-s,e+r,t,"C",e+r,t+s,e+s,t+r,e,t+r,"C",e-s,t+r,e-r,t+s,e-r,t,"C",e-r,t-s,e-s,t-r,e,t-r,"Z"].join(" ")}function W1(a){const e=Ba(a,"cx",0),t=Ba(a,"cy",0),r=Ba(a,"rx"),s=Ba(a,"ry")||r,h=r*ul,g=s*ul;return["M",e,t-s,"C",e+h,t-s,e+r,t-g,e+r,t,"C",e+r,t+g,e+h,t+s,e,t+s,"C",e-h,t+s,e-r,t+g,e-r,t,"C",e-r,t-g,e-h,t-s,e,t-s,"Z"].join(" ")}function Rw(a){return Ax({x:Ba(a,"x",0),y:Ba(a,"y",0),width:Ba(a,"width",0),height:Ba(a,"height",0),rx:Ba(a,"rx",0),ry:Ba(a,"ry",0)})}function Ax(a){let e;const t=a.x,r=a.y,s=a.width,h=a.height,g=Math.min(a.rx||a["top-rx"]||0,s/2),y=Math.min(a.rx||a["bottom-rx"]||0,s/2),E=Math.min(a.ry||a["top-ry"]||0,h/2),D=Math.min(a.ry||a["bottom-ry"]||0,h/2);return g||y||E||D?e=["M",t,r+E,"v",h-E-D,"a",y,D,0,0,0,y,D,"h",s-2*y,"a",y,D,0,0,0,y,-D,"v",-(h-D-E),"a",g,E,0,0,0,-g,-E,"h",-(s-2*g),"a",g,E,0,0,0,-g,E,"Z"]:e=["M",t,r,"H",t+s,"V",r+h,"H",t,"V",r,"Z"],e.join(" ")}function Mx(a){const e=Pu("path");Fa(e,Fa(a));const t=Tx(a);return t&&e.setAttribute("d",t),e}function Tx(a){const e=a.tagName.toLowerCase();switch(e){case"path":return a.getAttribute("d");case"line":return Jl(a);case"polygon":return yf(a);case"polyline":return jf(a);case"ellipse":return W1(a);case"circle":return Mv(a);case"rect":return Rw(a);default:break}throw new Error(`"${e}" cannot be converted to svg path element.`)}function VC(a,e,t,r){const s=2*Math.PI-1e-6,h=a,g=e;let y=t,E=r;if(E<y){const Qe=y;y=E,E=Qe}const D=E-y,V=D<Math.PI?"0":"1",$=Math.cos(y),J=Math.sin(y),de=Math.cos(E),Ge=Math.sin(E);return D>=s?h?`M0,${g}A${g},${g} 0 1,1 0,${-g}A${g},${g} 0 1,1 0,${g}M0,${h}A${h},${h} 0 1,0 0,${-h}A${h},${h} 0 1,0 0,${h}Z`:`M0,${g}A${g},${g} 0 1,1 0,${-g}A${g},${g} 0 1,1 0,${g}Z`:h?`M${g*$},${g*J}A${g},${g} 0 ${V},1 ${g*de},${g*Ge}L${h*de},${h*Ge}A${h},${h} 0 ${V},0 ${h*$},${h*J}Z`:`M${g*$},${g*J}A${g},${g} 0 ${V},1 ${g*de},${g*Ge}L0,0Z`}const Cb=Pu("svg"),Dw=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,ZC=/[ ,]+/,Nw=/^(\w+)\((.*)\)/;function Px(a,e){const t=Cb.createSVGPoint();return t.x=a,t.y=e,t}function Ac(a){const e=Cb.createSVGMatrix();if(a!=null){const t=a,r=e;for(const s in t)r[s]=t[s]}return e}function Tv(a){return a!=null?(a instanceof DOMMatrix||(a=Ac(a)),Cb.createSVGTransformFromMatrix(a)):Cb.createSVGTransform()}function Pv(a){let e=Ac();const t=a!=null&&a.match(Dw);if(!t)return e;for(let r=0,s=t.length;r<s;r+=1){const g=t[r].match(Nw);if(g){let y,E,D,V,$,J=Ac();const de=g[2].split(ZC);switch(g[1].toLowerCase()){case"scale":y=parseFloat(de[0]),E=de[1]===void 0?y:parseFloat(de[1]),J=J.scaleNonUniform(y,E);break;case"translate":D=parseFloat(de[0]),V=parseFloat(de[1]),J=J.translate(D,V);break;case"rotate":$=parseFloat(de[0]),D=parseFloat(de[1])||0,V=parseFloat(de[2])||0,D!==0||V!==0?J=J.translate(D,V).rotate($).translate(-D,-V):J=J.rotate($);break;case"skewx":$=parseFloat(de[0]),J=J.skewX($);break;case"skewy":$=parseFloat(de[0]),J=J.skewY($);break;case"matrix":J.a=parseFloat(de[0]),J.b=parseFloat(de[1]),J.c=parseFloat(de[2]),J.d=parseFloat(de[3]),J.e=parseFloat(de[4]),J.f=parseFloat(de[5]);break;default:continue}e=e.multiply(J)}}return e}function zg(a){const e=a||{},t=e.a!=null?e.a:1,r=e.b!=null?e.b:0,s=e.c!=null?e.c:0,h=e.d!=null?e.d:1,g=e.e!=null?e.e:0,y=e.f!=null?e.f:0;return`matrix(${t},${r},${s},${h},${g},${y})`}function c0(a){let e,t,r;if(a){const h=ZC;if(a.trim().indexOf("matrix")>=0){const g=Pv(a),y=Ix(g);e=[y.translateX,y.translateY],t=[y.rotation],r=[y.scaleX,y.scaleY];const E=[];(e[0]!==0||e[1]!==0)&&E.push(`translate(${e.join(",")})`),(r[0]!==1||r[1]!==1)&&E.push(`scale(${r.join(",")})`),t[0]!==0&&E.push(`rotate(${t[0]})`),a=E.join(" ")}else{const g=a.match(/translate\((.*?)\)/);g&&(e=g[1].split(h));const y=a.match(/rotate\((.*?)\)/);y&&(t=y[1].split(h));const E=a.match(/scale\((.*?)\)/);E&&(r=E[1].split(h))}}const s=r&&r[0]?parseFloat(r[0]):1;return{raw:a||"",translation:{tx:e&&e[0]?parseInt(e[0],10):0,ty:e&&e[1]?parseInt(e[1],10):0},rotation:{angle:t&&t[0]?parseInt(t[0],10):0,cx:t&&t[1]?parseInt(t[1],10):void 0,cy:t&&t[2]?parseInt(t[2],10):void 0},scale:{sx:s,sy:r&&r[1]?parseFloat(r[1]):s}}}function Ox(a,e){const t=e.x*a.a+e.y*a.c+0,r=e.x*a.b+e.y*a.d+0;return{x:t,y:r}}function Ix(a){const e=Ox(a,{x:0,y:1}),t=Ox(a,{x:1,y:0}),r=180/Math.PI*Math.atan2(e.y,e.x)-90,s=180/Math.PI*Math.atan2(t.y,t.x);return{skewX:r,skewY:s,translateX:a.e,translateY:a.f,scaleX:Math.sqrt(a.a*a.a+a.b*a.b),scaleY:Math.sqrt(a.c*a.c+a.d*a.d),rotation:r}}function jC(a){let e,t,r,s;return a?(e=a.a==null?1:a.a,s=a.d==null?1:a.d,t=a.b,r=a.c):e=s=1,{sx:t?Math.sqrt(e*e+t*t):e,sy:r?Math.sqrt(r*r+s*s):s}}function UC(a){let e={x:0,y:1};return a&&(e=Ox(a,e)),{angle:wa.normalize(wa.toDeg(Math.atan2(e.y,e.x))-90)}}function WC(a){return{tx:a&&a.e||0,ty:a&&a.f||0}}function nd(a,e){const t=Px(a.x,a.y).matrixTransform(e);return new Fn(t.x,t.y)}function $C(a,e){return new u(nd(a.start,e),nd(a.end,e))}function _w(a,e){let t=a instanceof i?a.points:a;return Array.isArray(t)||(t=[]),new i(t.map(r=>nd(r,e)))}function Xu(a,e){const t=Cb.createSVGPoint();t.x=a.x,t.y=a.y;const r=t.matrixTransform(e);t.x=a.x+a.width,t.y=a.y;const s=t.matrixTransform(e);t.x=a.x+a.width,t.y=a.y+a.height;const h=t.matrixTransform(e);t.x=a.x,t.y=a.y+a.height;const g=t.matrixTransform(e),y=Math.min(r.x,s.x,h.x,g.x),E=Math.max(r.x,s.x,h.x,g.x),D=Math.min(r.y,s.y,h.y,g.y),V=Math.max(r.y,s.y,h.y,g.y);return new Ao(y,D,E-y,V-D)}var kw=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};function Rx(a,e,t){let r;const s=a.ownerSVGElement;if(!s)return new Ao(0,0,0,0);try{r=a.getBBox()}catch(g){r={x:a.clientLeft,y:a.clientTop,width:a.clientWidth,height:a.clientHeight}}if(e)return Ao.create(r);const h=Np(a,t||s);return Xu(r,h)}function Mc(a,e={}){let t;if(!a.ownerSVGElement||!Sp(a)){if(kg(a)){const{left:g,top:y,width:E,height:D}=Ov(a);return new Ao(g,y,E,D)}return new Ao(0,0,0,0)}let s=e.target;if(!e.recursive){try{t=a.getBBox()}catch(y){t={x:a.clientLeft,y:a.clientTop,width:a.clientWidth,height:a.clientHeight}}if(!s)return Ao.create(t);const g=Np(a,s);return Xu(t,g)}{const g=a.childNodes,y=g.length;if(y===0)return Mc(a,{target:s});s||(s=a);for(let E=0;E<y;E+=1){const D=g[E];let V;D.childNodes.length===0?V=Mc(D,{target:s}):V=Mc(D,{target:s,recursive:!0}),t?t=t.union(V):t=V}return t}}function Lw(a){let e=a,t=e?e.tagName.toLowerCase():"";for(;t==="g";)e=e.firstElementChild,t=e?e.tagName.toLowerCase():"";const r=g=>{const y=e.getAttribute(g),E=y?parseFloat(y):0;return Number.isNaN(E)?0:E};let s,h;switch(t){case"rect":h=new Ao(r("x"),r("y"),r("width"),r("height"));break;case"circle":s=r("r"),h=new Ao(r("cx")-s,r("cy")-s,2*s,2*s);break;default:break}return h}function Fw(a,e){let t=Ac();if(Sp(e)&&Sp(a)){let r=a;const s=[];for(;r&&r!==e;){const h=r.getAttribute("transform")||null,g=Pv(h);s.push(g),r=r.parentNode}s.reverse().forEach(h=>{t=t.multiply(h)})}return t}function Np(a,e){if(Sp(e)&&Sp(a)){const t=e.getScreenCTM(),r=a.getScreenCTM();if(t&&r)return t.inverse().multiply(r)}return Ac()}function HC(a,e,t){const r=a instanceof SVGSVGElement?a:a.ownerSVGElement,s=r.createSVGPoint();s.x=e,s.y=t;try{const h=r.getScreenCTM(),g=s.matrixTransform(h.inverse()),y=Np(a,r).inverse();return g.matrixTransform(y)}catch(h){return s}}function Dx(a){const e=t=>{const r=a.getAttribute(t),s=r?parseFloat(r):0;return Number.isNaN(s)?0:s};switch(a instanceof SVGElement&&a.nodeName.toLowerCase()){case"rect":return new Ao(e("x"),e("y"),e("width"),e("height"));case"circle":return new n(e("cx"),e("cy"),e("r"),e("r"));case"ellipse":return new n(e("cx"),e("cy"),e("rx"),e("ry"));case"polyline":{const t=td(a);return new i(t)}case"polygon":{const t=td(a);return t.length>1&&t.push(t[0]),new i(t)}case"path":{let t=a.getAttribute("d");return ki.isValid(t)||(t=ki.normalize(t)),ki.parse(t)}case"line":return new u(e("x1"),e("y1"),e("x2"),e("y2"));default:break}return Mc(a)}function KC(a,e,t){const r=a instanceof SVGSVGElement?a:a.ownerSVGElement;t=t||r;const s=Mc(t),h=s.getCenter();if(!s.intersectsWithLineFromCenterToPoint(e))return null;let g=null;const y=a.tagName.toLowerCase();if(y==="rect"){const E=new Ao(parseFloat(a.getAttribute("x")||"0"),parseFloat(a.getAttribute("y")||"0"),parseFloat(a.getAttribute("width")||"0"),parseFloat(a.getAttribute("height")||"0")),D=Np(a,t),V=Ix(D),$=r.createSVGTransform();$.setRotate(-V.rotation,h.x,h.y);const J=Xu(E,$.matrix.multiply(D));g=Ao.create(J).intersectsWithLineFromCenterToPoint(e,V.rotation)}else if(y==="path"||y==="polygon"||y==="polyline"||y==="circle"||y==="ellipse"){const E=y==="path"?a:Mx(a),D=bc(E);let V=1/0,$=[];for(let J=0,de=D.length;J<de;J+=1){const Ge=D[J];let Qe=Px(Ge.x,Ge.y);Qe=Qe.matrixTransform(Np(a,t));const xt=Fn.create(Qe),Yt=xt.distance(h),fn=xt.distance(e)*1.1,Xt=Yt+fn;Xt<V?(V=Xt,$=[{sample:Ge,refDistance:fn}]):Xt<V+1&&$.push({sample:Ge,refDistance:fn})}$.sort((J,de)=>J.refDistance-de.refDistance),$[0]&&(g=Fn.create($[0].sample))}return g}function XC(a,e){return JC(a,e,"animate")}function YC(a,e){return JC(a,e,"animateTransform")}function JC(a,e,t){const r=Pu(t);a.appendChild(r);try{return Bw(r,e)}catch(s){}return()=>{}}function Bw(a,e){const{start:t,complete:r,repeat:s}=e,h=kw(e,["start","complete","repeat"]);Fa(a,h),t&&a.addEventListener("beginEvent",t),r&&a.addEventListener("endEvent",r),s&&a.addEventListener("repeatEvent",s);const g=a;return setTimeout(()=>{g.beginElement()}),()=>g.endElement()}function $1(a,e,t){const r=mv(t),s=Pu("animateMotion"),h=Pu("mpath");Fa(h,{"xlink:href":`#${r}`}),s.appendChild(h),a.appendChild(s);try{return Bw(s,e)}catch(g){if(document.documentElement.getAttribute("smiling")==="fake"){const y=s;y.animators=[];const E=window,D=y.getAttribute("id");D&&(E.id2anim[D]=y);const V=E.getTargets(y);for(let $=0,J=V.length;$<J;$+=1){const de=V[$],Ge=new E.Animator(y,de,$);E.animators.push(Ge),y.animators[$]=Ge,Ge.register()}}}return()=>{}}function Ov(a){let e=0,t=0,r=0,s=0;if(a){let h=a;for(;h;)e+=h.offsetLeft,t+=h.offsetTop,h=h.offsetParent,h&&(e+=parseInt(bb(h,"borderLeft"),10),t+=parseInt(bb(h,"borderTop"),10));r=a.offsetWidth,s=a.offsetHeight}return{left:e,top:t,width:r,height:s}}function Iv(a,e,t={}){if(e==null)return Pv(Fa(a,"transform"));if(t.absolute){a.setAttribute("transform",zg(e));return}const r=a.transform,s=Tv(e);r.baseVal.appendItem(s)}function qC(a,e,t=0,r={}){let s=Fa(a,"transform");const h=c0(s);if(e==null)return h.translation;s=h.raw,s=s.replace(/translate\([^)]*\)/g,"").trim();const g=r.absolute?e:h.translation.tx+e,y=r.absolute?t:h.translation.ty+t,E=`translate(${g},${y})`;a.setAttribute("transform",`${E} ${s}`.trim())}function Nx(a,e,t,r,s={}){let h=Fa(a,"transform");const g=c0(h);if(e==null)return g.rotation;h=g.raw,h=h.replace(/rotate\([^)]*\)/g,"").trim(),e%=360;const y=s.absolute?e:g.rotation.angle+e,E=t!=null&&r!=null?`,${t},${r}`:"",D=`rotate(${y}${E})`;a.setAttribute("transform",`${h} ${D}`.trim())}function _p(a,e,t){let r=Fa(a,"transform");const s=c0(r);if(e==null)return s.scale;t=t==null?e:t,r=s.raw,r=r.replace(/scale\([^)]*\)/g,"").trim();const h=`scale(${e},${t})`;a.setAttribute("transform",`${r} ${h}`.trim())}function QC(a,e,t,r){const s=Fn.create(e),h=Fn.create(t);r||(r=a instanceof SVGSVGElement?a:a.ownerSVGElement);const g=_p(a);a.setAttribute("transform","");const y=Mc(a,{target:r}).scale(g.sx,g.sy),E=Tv();E.setTranslate(-y.x-y.width/2,-y.y-y.height/2);const D=Tv(),V=s.angleBetween(h,s.clone().translate(1,0));V&&D.setRotate(V,0,0);const $=Tv(),J=s.clone().move(h,y.width/2);$.setTranslate(2*s.x-J.x,2*s.y-J.y);const de=Np(a,r),Ge=Tv();Ge.setMatrix($.matrix.multiply(D.matrix.multiply(E.matrix.multiply(de.scale(g.sx,g.sy))))),a.setAttribute("transform",zg(Ge.matrix))}class ew{constructor(e,t,r){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=Jt.isEventSupported("wheel")?"wheel":"mousewheel",this.target=e,this.onWheelCallback=t,this.onWheelGuard=r,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){Jt.SUPPORT_PASSIVE?this.target.addEventListener(this.eventName,this.onWheel,{passive:!1}):vt()(this.target).on("mousewheel",this.onWheel)}disable(){Jt.SUPPORT_PASSIVE?this.target.removeEventListener(this.eventName,this.onWheel):vt()(this.target).off("mousewheel")}onWheel(e){if(this.onWheelGuard!=null&&!this.onWheelGuard(e))return;this.deltaX+=e.deltaX,this.deltaY+=e.deltaY,e.preventDefault();let t;(this.deltaX!==0||this.deltaY!==0)&&(e.stopPropagation(),t=!0),t===!0&&this.animationFrameId===0&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(e)}))}didWheel(e){this.animationFrameId=0,this.onWheelCallback(e,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}const QE=co.isVector,EE=co.create,_x=co.createVectors;function zw(a,e=60){let t=null;return(...r)=>{t&&clearTimeout(t),t=window.setTimeout(()=>{a.apply(this,r)},e)}}function eS(a){let e=null,t=[];const r=()=>{if(getComputedStyle(a).position==="static"){const D=a.style;D.position="relative"}const E=document.createElement("object");return E.onload=()=>{E.contentDocument.defaultView.addEventListener("resize",s),s()},E.style.display="block",E.style.position="absolute",E.style.top="0",E.style.left="0",E.style.height="100%",E.style.width="100%",E.style.overflow="hidden",E.style.pointerEvents="none",E.style.zIndex="-1",E.style.opacity="0",E.setAttribute("tabindex","-1"),E.type="text/html",a.appendChild(E),E.data="about:blank",E},s=zw(()=>{t.forEach(E=>E(a))}),h=E=>{e||(e=r()),t.indexOf(E)===-1&&t.push(E)},g=()=>{e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",s),e.parentNode.removeChild(e),e=null,t=[])};return{element:a,bind:h,destroy:g,unbind:E=>{const D=t.indexOf(E);D!==-1&&t.splice(D,1),t.length===0&&e&&g()}}}function SE(a){let e=null,t=[];const r=zw(()=>{t.forEach(E=>{E(a)})}),s=()=>{const E=new ResizeObserver(r);return E.observe(a),r(),E},h=E=>{e||(e=s()),t.indexOf(E)===-1&&t.push(E)},g=()=>{e&&(e.disconnect(),t=[],e=null)};return{element:a,bind:h,destroy:g,unbind:E=>{const D=t.indexOf(E);D!==-1&&t.splice(D,1),t.length===0&&e&&g()}}}const tS=typeof ResizeObserver!="undefined"?SE:eS;var kx;(function(a){const e=new WeakMap;function t(s){let h=e.get(s);return h||(h=tS(s),e.set(s,h),h)}function r(s){s.destroy(),e.delete(s.element)}a.bind=(s,h)=>{const g=t(s);return g.bind(h),()=>g.unbind(h)},a.clear=s=>{const h=t(s);r(h)}})(kx||(kx={}));var wb;(function(a){const e=[],t=16.666666666666668,r=[];let s=0;const h=()=>performance.now(),g=V=>V[0],y=V=>r.push(V)===1&&E(),E=(()=>{const V=()=>{var $,J;return(J=($=r.splice(0,r.length))[0])===null||J===void 0?void 0:J.call($)};if(typeof MessageChannel!="undefined"){const{port1:$,port2:J}=new MessageChannel;return $.onmessage=V,()=>J.postMessage(null)}return()=>setTimeout(V)})(),D=()=>{s=h()+t;let V=g(e);for(;V&&!a.shouldYield();){const{callback:$,data:J}=V;V.callback=null;const de=$&&$(J);de?V.callback=de:e.shift(),V=g(e)}V&&y(D)};a.scheduleTask=(V,$)=>{const J={callback:V,data:$};e.push(J),y(D)},a.shouldYield=()=>{var V,$;return(($=(V=navigator)===null||V===void 0?void 0:V.scheduling)===null||$===void 0?void 0:$.isInputPending())||h()>=s}})(wb||(wb={}));class oc{constructor(e){this.options=Object.assign({},e),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(e,t,r=!1){if(typeof e=="object"){Object.keys(e).forEach(g=>{this.register(g,e[g],t)});return}this.exist(e)&&!r&&!Jt.isApplyingHMR()&&this.onDuplicated(e);const s=this.options.process,h=s?fs(s,this,e,t):t;return this.data[e]=h,h}unregister(e){const t=e?this.data[e]:null;return delete this.data[e],t}get(e){return e?this.data[e]:null}exist(e){return e?this.data[e]!=null:!1}onDuplicated(e){try{throw this.options.onConflict&&fs(this.options.onConflict,this,e),new Error(`${xh(this.options.type)} with name '${e}' already registered.`)}catch(t){throw t}}onNotFound(e,t){throw new Error(this.getSpellingSuggestion(e,t))}getSpellingSuggestion(e,t){const r=this.getSpellingSuggestionForName(e),s=t?`${t} ${Jy(this.options.type)}`:this.options.type;return`${xh(s)} with name '${e}' does not exist.${r?` Did you mean '${r}'?`:""}`}getSpellingSuggestionForName(e){return ux(e,Object.keys(this.data),t=>t)}}(function(a){function e(t){return new a(t)}a.create=e})(oc||(oc={}));const AE={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},tw={},Rv={position:Bx("x","width","origin")},Dv={position:Bx("y","height","origin")},ME={position:Bx("x","width","corner")},Gg={position:Bx("y","height","corner")},Gw={set:Vg("width","width")},nw={set:Vg("height","height")},Vw={set:Vg("rx","width")},Lx={set:Vg("ry","height")},Eb={set:(a=>{const e=Vg(a,"width"),t=Vg(a,"height");return function(r,s){const h=s.refBBox,g=h.height>h.width?e:t;return fs(g,this,r,s)}})("r")},Zw={set(a,{refBBox:e}){let t=parseFloat(a);const r=Gf(a);r&&(t/=100);const s=Math.sqrt(e.height*e.height+e.width*e.width);let h;return Number.isFinite(t)&&(r||t>=0&&t<=1?h=t*s:h=Math.max(t+s,0)),{r:h}}},rw={set:Vg("cx","width")},TE={set:Vg("cy","height")},jw={set:Xw({resetOffset:!0})},Fx={set:Xw({resetOffset:!1})},Uw={set:Yw({resetOffset:!0})},PE={set:Yw({resetOffset:!1})},iw=Eb,Ww=jw,OE=Uw,IE=Rv,$w=Dv,Hw=Gw,RE=nw;function Bx(a,e,t){return(r,{refBBox:s})=>{if(r==null)return null;let h=parseFloat(r);const g=Gf(r);g&&(h/=100);let y;if(Number.isFinite(h)){const D=s[t];g||h>0&&h<1?y=D[a]+s[e]*h:y=D[a]+h}const E=new Fn;return E[a]=y||0,E}}function Vg(a,e){return function(t,{refBBox:r}){let s=parseFloat(t);const h=Gf(t);h&&(s/=100);const g={};if(Number.isFinite(s)){const y=h||s>=0&&s<=1?s*r[e]:Math.max(s+r[e],0);g[a]=y}return g}}function Kw(a,e){const t="x6-shape",r=e&&e.resetOffset;return function(s,{view:h,elem:g,refBBox:y}){const E=h.$(g);let D=E.data(t);if(!D||D.value!==s){const Yt=a(s);D={value:s,shape:Yt,shapeBBox:Yt.bbox()},E.data(t,D)}const V=D.shape.clone(),$=D.shapeBBox.clone(),J=$.getOrigin(),de=y.getOrigin();$.x=de.x,$.y=de.y;const Ge=y.getMaxScaleToFit($,de),Qe=$.width===0||y.width===0?1:Ge.sx,xt=$.height===0||y.height===0?1:Ge.sy;return V.scale(Qe,xt,J),r&&V.translate(-J.x,-J.y),V}}function Xw(a){function e(r){return ki.parse(r)}const t=Kw(e,a);return(r,s)=>({d:t(r,s).serialize()})}function Yw(a){const e=Kw(t=>new i(t),a);return(t,r)=>({points:e(t,r).serialize()})}const DE={qualify:Fl,set(a,{view:e}){return`url(#${e.graph.defineGradient(a)})`}},NE={qualify:Fl,set(a,{view:e}){const t=e.cell,r=Object.assign({},a);if(t.isEdge()&&r.type==="linearGradient"){const s=e,h=s.sourcePoint,g=s.targetPoint;r.id=`gradient-${r.type}-${t.id}`,r.attrs=Object.assign(Object.assign({},r.attrs),{x1:h.x,y1:h.y,x2:g.x,y2:g.y,gradientUnits:"userSpaceOnUse"}),e.graph.defs.remove(r.id)}return`url(#${e.graph.defineGradient(r)})`}},_E={qualify(a,{attrs:e}){return e.textWrap==null||!Fl(e.textWrap)},set(a,{view:e,elem:t,attrs:r}){const s="x6-text",h=e.$(t),g=h.data(s),y=$=>{try{return JSON.parse($)}catch(J){return $}},E={x:r.x,eol:r.eol,annotations:y(r.annotations),textPath:y(r["text-path"]||r.textPath),textVerticalAnchor:r["text-vertical-anchor"]||r.textVerticalAnchor,displayEmpty:(r["display-empty"]||r.displayEmpty)==="true",lineHeight:r["line-height"]||r.lineHeight},D=r["font-size"]||r.fontSize,V=JSON.stringify([a,E]);if(D&&t.setAttribute("font-size",D),g==null||g!==V){const $=E.textPath;if($!=null&&typeof $=="object"){const J=$.selector;if(typeof J=="string"){const de=e.find(J)[0];de instanceof SVGPathElement&&(mv(de),E.textPath=Object.assign({"xlink:href":`#${de.id}`},$))}}Da(t,`${a}`,E),h.data(s,V)}}},nS={qualify:Fl,set(a,{view:e,elem:t,attrs:r,refBBox:s}){const h=a,g=h.width||0;Gf(g)?s.width*=parseFloat(g)/100:g<=0?s.width+=g:s.width=g;const y=h.height||0;Gf(y)?s.height*=parseFloat(y)/100:y<=0?s.height+=y:s.height=y;let E,D=h.text;D==null&&(D=r.text),D!=null?E=Yl(`${D}`,s,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":r["font-size"]||r.fontSize,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight},{svgDocument:e.graph.view.svg,ellipsis:h.ellipsis,hyphen:h.hyphen,breakWord:h.breakWord}):E="",fs(_E.set,this,E,{view:e,elem:t,attrs:r,refBBox:s,cell:e.cell})}},o=(a,{attrs:e})=>e.text!==void 0,l={qualify:o},f={qualify:o},p={qualify:o},v={qualify:o},x={qualify:o},T={qualify:o},N={qualify(a,{elem:e}){return e instanceof SVGElement},set(a,{view:e,elem:t}){const r="x6-title",s=`${a}`,h=e.$(t),g=h.data(r);if(g==null||g!==s){h.data(r,s);const y=t.firstChild;if(y&&y.tagName.toUpperCase()==="TITLE"){const E=y;E.textContent=s}else{const E=document.createElementNS(t.namespaceURI,"title");E.textContent=s,t.insertBefore(E,y)}}}},z={offset:se("x","width","right")},Z={offset:se("y","height","bottom")},X={offset(a,{refBBox:e}){return a?{x:-e.x,y:-e.y}:{x:0,y:0}}};function se(a,e,t){return(r,{refBBox:s})=>{const h=new Fn;let g;return r==="middle"?g=s[e]/2:r===t?g=s[e]:typeof r=="number"&&Number.isFinite(r)?g=r>-1&&r<1?-s[e]*r:-r:Gf(r)?g=s[e]*parseFloat(r)/100:g=0,h[a]=-(s[a]+g),h}}const xe={qualify:Fl,set(a,{view:e,elem:t}){e.$(t).css(a)}},be={set(a,{view:e,elem:t}){e.$(t).html(`${a}`)}},Ie={qualify:Fl,set(a,{view:e}){return`url(#${e.graph.defineFilter(a)})`}},De={set(a){return a!=null&&typeof a=="object"&&a.id?a.id:a}};function Te(a,e,t){let r,s;typeof e=="object"?(r=e.x,s=e.y):(r=e,s=t);const h=ki.parse(a),g=h.bbox();if(g){let y=-g.height/2-g.y,E=-g.width/2-g.x;typeof r=="number"&&(E-=r),typeof s=="number"&&(y-=s),h.translate(E,y)}return h.serialize()}var st=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};const St=a=>{var{size:e,width:t,height:r,offset:s,open:h}=a,g=st(a,["size","width","height","offset","open"]);return Nn({size:e,width:t,height:r,offset:s},h===!0,!0,void 0,g)},an=a=>{var{size:e,width:t,height:r,offset:s,factor:h}=a,g=st(a,["size","width","height","offset","factor"]);return Nn({size:e,width:t,height:r,offset:s},!1,!1,h,g)};function Nn(a,e,t,r=3/4,s={}){const h=a.size||10,g=a.width||h,y=a.height||h,E=new ki,D={};if(e)E.moveTo(g,0).lineTo(0,y/2).lineTo(g,y),D.fill="none";else{if(E.moveTo(0,y/2),E.lineTo(g,0),!t){const V=Tu(r,0,1);E.lineTo(g*V,y/2)}E.lineTo(g,y),E.close()}return Object.assign(Object.assign(Object.assign({},D),s),{tagName:"path",d:Te(E.serialize(),{x:a.offset!=null?a.offset:-g/2})})}var Ln=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};const Dr=a=>{var{size:e,width:t,height:r,offset:s}=a,h=Ln(a,["size","width","height","offset"]);const g=e||10,y=t||g,E=r||g,D=new ki;return D.moveTo(0,E/2).lineTo(y/2,0).lineTo(y,E/2).lineTo(y/2,E).close(),Object.assign(Object.assign({},h),{tagName:"path",d:Te(D.serialize(),s==null?-y/2:s)})};var Ni=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};const Ai=a=>{var{d:e,offsetX:t,offsetY:r}=a,s=Ni(a,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},s),{tagName:"path",d:Te(e,t,r)})};var ko=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};const Oi=a=>{var{size:e,width:t,height:r,offset:s}=a,h=ko(a,["size","width","height","offset"]);const g=e||10,y=t||g,E=r||g,D=new ki;return D.moveTo(0,0).lineTo(y,E).moveTo(0,E).lineTo(y,0),Object.assign(Object.assign({},h),{tagName:"path",fill:"none",d:Te(D.serialize(),s||-y/2)})};var go=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};const Wi=a=>{var{width:e,height:t,offset:r,open:s,flip:h}=a,g=go(a,["width","height","offset","open","flip"]);let y=t||6;const E=e||10,D=s===!0,V=h===!0,$=Object.assign(Object.assign({},g),{tagName:"path"});V&&(y=-y);const J=new ki;return J.moveTo(0,y).lineTo(E,0),D?$.fill="none":(J.lineTo(E,y),J.close()),$.d=Te(J.serialize(),{x:r||-E/2,y:y/2}),$};var is=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};const Bo=a=>{var{r:e}=a,t=is(a,["r"]);const r=e||5;return Object.assign(Object.assign({cx:r},t),{tagName:"circle",r})},ks=a=>{var{r:e}=a,t=is(a,["r"]);const r=e||5,s=new ki;return s.moveTo(r,0).lineTo(r,r*2),s.moveTo(0,r).lineTo(r*2,r),{children:[Object.assign(Object.assign({},Bo({r})),{fill:"none"}),Object.assign(Object.assign({},t),{tagName:"path",d:Te(s.serialize(),-r)})]}};var Sl=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};const ru=a=>{var{rx:e,ry:t}=a,r=Sl(a,["rx","ry"]);const s=e||5,h=t||5;return Object.assign(Object.assign({cx:s},r),{tagName:"ellipse",rx:s,ry:h})};var va;(function(a){a.presets=k,a.registry=oc.create({type:"marker"}),a.registry.register(a.presets,!0)})(va||(va={})),function(a){a.normalize=Te}(va||(va={}));var rd=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};function Nd(a){return typeof a=="string"||Fl(a)}const Zg={qualify:Nd,set(a,{view:e,attrs:t}){return xs("marker-start",a,e,t)}},jg={qualify:Nd,set(a,{view:e,attrs:t}){return xs("marker-end",a,e,t,{transform:"rotate(180)"})}},u0={qualify:Nd,set(a,{view:e,attrs:t}){return xs("marker-mid",a,e,t)}};function xs(a,e,t,r,s={}){const h=typeof e=="string"?{name:e}:e,{name:g,args:y}=h,E=rd(h,["name","args"]);let D=E;if(g&&typeof g=="string"){const $=va.registry.get(g);if($)D=$(Object.assign(Object.assign({},E),y));else return va.registry.onNotFound(g)}const V=Object.assign(Object.assign(Object.assign({},Al(r,a)),s),D);return{[a]:`url(#${t.graph.defineMarker(V)})`}}function Al(a,e){const t={},r=a.stroke;typeof r=="string"&&(t.stroke=r,t.fill=r);let s=a.strokeOpacity;if(s==null&&(s=a["stroke-opacity"]),s==null&&(s=a.opacity),s!=null&&(t["stroke-opacity"]=s,t["fill-opacity"]=s),e!=="marker-mid"){const h=parseFloat(a.strokeWidth||a["stroke-width"]);if(Number.isFinite(h)&&h>1){const g=Math.ceil(h/2);t.refX=e==="marker-start"?g:-g}}return t}const xc=(a,{view:e})=>e.cell.isEdge(),sc={qualify:xc,set(a,e){var t,r,s,h;const g=e.view,y=a.reverse||!1,E=a.stubs||0;let D;if(Number.isFinite(E)&&E!==0)if(y){let V,$;const J=g.getConnectionLength()||0;E<0?(V=(J+E)/2,$=-E):(V=E,$=J-E*2);const de=g.getConnection();D=(h=(s=(r=(t=de==null?void 0:de.divideAtLength(V))===null||t===void 0?void 0:t[1])===null||r===void 0?void 0:r.divideAtLength($))===null||s===void 0?void 0:s[0])===null||h===void 0?void 0:h.serialize()}else{let V;E<0?V=((g.getConnectionLength()||0)+E)/2:V=E;const $=g.getConnection();if($){const J=$.divideAtLength(V),de=$.divideAtLength(-V);J&&de&&(D=`${J[0].serialize()} ${de[1].serialize()}`)}}return{d:D||g.getConnectionPathData()}}},ac={qualify:xc,set:H1("getTangentAtLength",{rotate:!0})},Uf={qualify:xc,set:H1("getTangentAtLength",{rotate:!1})},bf={qualify:xc,set:H1("getTangentAtRatio",{rotate:!0})},Sb={qualify:xc,set:H1("getTangentAtRatio",{rotate:!1})},zx=ac,Jw=bf;function H1(a,e){const t={x:1,y:0};return(r,s)=>{let h,g;const y=s.view,E=y[a](Number(r));return E?(g=e.rotate?E.vector().vectorAngle(t):0,h=E.start):(h=y.path.start,g=0),g===0?{transform:`translate(${h.x},${h.y}')`}:{transform:`translate(${h.x},${h.y}') rotate(${g})`}}}var Ug;(function(a){function e(t,r,s){return!!(t!=null&&(typeof t=="string"||typeof t.qualify!="function"||fs(t.qualify,this,r,s)))}a.isValidDefinition=e})(Ug||(Ug={})),function(a){a.presets=Object.assign(Object.assign({},AE),F),a.registry=oc.create({type:"attribute definition"}),a.registry.register(a.presets,!0)}(Ug||(Ug={}));const aA={color:"#aaaaaa",thickness:1,markup:"rect",update(a,e){const t=e.thickness*e.sx,r=e.thickness*e.sy;Fa(a,{width:t,height:r,rx:t,ry:r,fill:e.color})}},lA={color:"#aaaaaa",thickness:1,markup:"rect",update(a,e){const t=e.sx<=1?e.thickness*e.sx:e.thickness;Fa(a,{width:t,height:t,rx:t,ry:t,fill:e.color})}},cA={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(a,e){let t;const r=e.width,s=e.height,h=e.thickness;r-h>=0&&s-h>=0?t=["M",r,0,"H0 M0 0 V0",s].join(" "):t="M 0 0 0 0",Fa(a,{d:t,stroke:e.color,"stroke-width":e.thickness})}},uA=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(a,e){let t;const r=e.width,s=e.height,h=e.thickness;r-h>=0&&s-h>=0?t=["M",r,0,"H0 M0 0 V0",s].join(" "):t="M 0 0 0 0",Fa(a,{d:t,stroke:e.color,"stroke-width":e.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(a,e){let t;const r=e.factor||1,s=e.width*r,h=e.height*r,g=e.thickness;s-g>=0&&h-g>=0?t=["M",s,0,"H0 M0 0 V0",h].join(" "):t="M 0 0 0 0",e.width=s,e.height=h,Fa(a,{d:t,stroke:e.color,"stroke-width":e.thickness})}}];class Nv{constructor(){this.patterns={},this.root=co.create(ub(),{width:"100%",height:"100%"},[Pu("defs")]).node}add(e,t){const r=this.root.childNodes[0];r&&r.appendChild(t),this.patterns[e]=t,co.create("rect",{width:"100%",height:"100%",fill:`url(#${e})`}).appendTo(this.root)}get(e){return this.patterns[e]}has(e){return this.patterns[e]!=null}}(function(a){a.presets=H,a.registry=oc.create({type:"grid"}),a.registry.register(a.presets,!0)})(Nv||(Nv={}));function kE(a,e){return a!=null?a:e}function Yu(a,e){return a!=null&&Number.isFinite(a)?a:e}function fA(a={}){const e=kE(a.color,"blue"),t=Yu(a.width,1),r=Yu(a.margin,2),s=Yu(a.opacity,1),h=r,g=r+t;return`
    <filter>
      <feFlood flood-color="${e}" flood-opacity="${s}" result="colored"/>
      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${g}" />
      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${h}" />
      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>
      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>
      <feMerge>
        <feMergeNode in="outline"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  `.trim()}function hA(a={}){const e=kE(a.color,"red"),t=Yu(a.blur,0),r=Yu(a.width,1),s=Yu(a.opacity,1);return`
      <filter>
        <feFlood flood-color="${e}" flood-opacity="${s}" result="colored"/>
        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${r}"/>
        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>
        <feGaussianBlur result="blured" in="composed" stdDeviation="${t}"/>
        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>
      </filter>
    `.trim()}function dA(a={}){const e=Yu(a.x,2);return`
    <filter>
      <feGaussianBlur stdDeviation="${a.y!=null&&Number.isFinite(a.y)?[e,a.y]:e}"/>
    </filter>
  `.trim()}function pA(a={}){const e=Yu(a.dx,0),t=Yu(a.dy,0),r=kE(a.color,"black"),s=Yu(a.blur,4),h=Yu(a.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>
         <feDropShadow stdDeviation="${s}" dx="${e}" dy="${t}" flood-color="${r}" flood-opacity="${h}" />
       </filter>`.trim():`<filter>
         <feGaussianBlur in="SourceAlpha" stdDeviation="${s}" />
         <feOffset dx="${e}" dy="${t}" result="offsetblur" />
         <feFlood flood-color="${r}" />
         <feComposite in2="offsetblur" operator="in" />
         <feComponentTransfer>
           <feFuncA type="linear" slope="${h}" />
         </feComponentTransfer>
         <feMerge>
           <feMergeNode/>
           <feMergeNode in="SourceGraphic"/>
         </feMerge>
       </filter>`.trim()}function gA(a={}){const e=Yu(a.amount,1),t=.2126+.7874*(1-e),r=.7152-.7152*(1-e),s=.0722-.0722*(1-e),h=.2126-.2126*(1-e),g=.7152+.2848*(1-e),y=.0722-.0722*(1-e),E=.2126-.2126*(1-e),D=.0722+.9278*(1-e);return`
    <filter>
      <feColorMatrix type="matrix" values="${t} ${r} ${s} 0 0 ${h} ${g} ${y} 0 0 ${E} ${r} ${D} 0 0 0 0 0 1 0"/>
    </filter>
  `.trim()}function mA(a={}){const e=Yu(a.amount,1),t=.393+.607*(1-e),r=.769-.769*(1-e),s=.189-.189*(1-e),h=.349-.349*(1-e),g=.686+.314*(1-e),y=.168-.168*(1-e),E=.272-.272*(1-e),D=.534-.534*(1-e),V=.131+.869*(1-e);return`
      <filter>
        <feColorMatrix type="matrix" values="${t} ${r} ${s} 0 0 ${h} ${g} ${y} 0 0 ${E} ${D} ${V} 0 0 0 0 0 1 0"/>
      </filter>
    `.trim()}function vA(a={}){return`
      <filter>
        <feColorMatrix type="saturate" values="${1-Yu(a.amount,1)}"/>
      </filter>
    `.trim()}function yA(a={}){return`
      <filter>
        <feColorMatrix type="hueRotate" values="${Yu(a.angle,0)}"/>
      </filter>
    `.trim()}function bA(a={}){const e=Yu(a.amount,1),t=1-e;return`
      <filter>
        <feComponentTransfer>
          <feFuncR type="table" tableValues="${e} ${t}"/>
          <feFuncG type="table" tableValues="${e} ${t}"/>
          <feFuncB type="table" tableValues="${e} ${t}"/>
        </feComponentTransfer>
      </filter>
    `.trim()}function xA(a={}){const e=Yu(a.amount,1);return`
    <filter>
      <feComponentTransfer>
        <feFuncR type="linear" slope="${e}"/>
        <feFuncG type="linear" slope="${e}"/>
        <feFuncB type="linear" slope="${e}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}function CA(a={}){const e=Yu(a.amount,1),t=.5-e/2;return`
    <filter>
     <feComponentTransfer>
        <feFuncR type="linear" slope="${e}" intercept="${t}"/>
        <feFuncG type="linear" slope="${e}" intercept="${t}"/>
        <feFuncB type="linear" slope="${e}" intercept="${t}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}var K1;(function(a){a.presets=I,a.registry=oc.create({type:"filter"}),a.registry.register(a.presets,!0)})(K1||(K1={}));const rS=function(a){const e=document.createElement("canvas"),t=a.width,r=a.height;e.width=t*2,e.height=r;const s=e.getContext("2d");return s.drawImage(a,0,0,t,r),s.translate(2*t,0),s.scale(-1,1),s.drawImage(a,0,0,t,r),e},iS=function(a){const e=document.createElement("canvas"),t=a.width,r=a.height;e.width=t,e.height=r*2;const s=e.getContext("2d");return s.drawImage(a,0,0,t,r),s.translate(0,2*r),s.scale(1,-1),s.drawImage(a,0,0,t,r),e},oS=function(a){const e=document.createElement("canvas"),t=a.width,r=a.height;e.width=2*t,e.height=2*r;const s=e.getContext("2d");return s.drawImage(a,0,0,t,r),s.setTransform(-1,0,0,-1,e.width,e.height),s.drawImage(a,0,0,t,r),s.setTransform(-1,0,0,1,e.width,0),s.drawImage(a,0,0,t,r),s.setTransform(1,0,0,-1,0,e.height),s.drawImage(a,0,0,t,r),e},wA=function(a,e){const t=a.width,r=a.height,s=document.createElement("canvas");s.width=t*3,s.height=r*3;const h=s.getContext("2d"),g=e.angle!=null?-e.angle:-20,y=wa.toRad(g),E=s.width/4,D=s.height/4;for(let V=0;V<4;V+=1)for(let $=0;$<4;$+=1)(V+$)%2>0&&(h.setTransform(1,0,0,1,(2*V-1)*E,(2*$-1)*D),h.rotate(y),h.drawImage(a,-t/2,-r/2,t,r));return s};var Gx;(function(a){a.presets=Object.assign({},ee),a.presets["flip-x"]=rS,a.presets["flip-y"]=iS,a.presets["flip-xy"]=oS,a.registry=oc.create({type:"background pattern"}),a.registry.register(a.presets,!0)})(Gx||(Gx={}));const _d={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,trackable:!1,trackInfo:{},track(a){_d.trackable=a}};var Fc;(function(a){a.snapToGrid=xb,a.normalizeMarker=Te;function e(t){return`${_d.prefixCls}-${t}`}a.prefix=e})(Fc||(Fc={})),function(a){function e(t,r,s,h=[]){const g=typeof r.children=="function"?r.children(t):t[r.children||"children"];return s||(s=r.createNode(t),h.push(s)),Array.isArray(g)&&g.forEach(y=>{const E=r.createNode(y),D=r.createEdge(s,E);h.push(E,D),this.makeTree(y,r,E,h)}),h}a.makeTree=e}(Fc||(Fc={}));const sS=Fc.prefix("highlighted"),EA={highlight(a,e,t){const r=t&&t.className||sS;ja(e,r)},unhighlight(a,e,t){const r=t&&t.className||sS;nu(e,r)}},aS=Fc.prefix("highlight-opacity"),SA={highlight(a,e){ja(e,aS)},unhighlight(a,e){nu(e,aS)}},AA={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},MA={highlight(a,e,t){const r=Ab.getHighlighterId(e,t);if(Ab.hasCache(r))return;t=Om({},t,AA);const s=co.create(e);let h,g;try{h=s.toPathData()}catch(V){g=s.bbox(!0),h=Ax(Object.assign(Object.assign({},t),g))}const y=Pu("path");if(Fa(y,Object.assign({d:h,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},t.attrs?Fg(t.attrs):null)),a.isEdgeElement(e))Fa(y,"d",a.getConnectionPathData());else{let V=s.getTransformToElement(a.container);const $=t.padding;if($){g==null&&(g=s.bbox(!0));const J=g.x+g.width/2,de=g.y+g.height/2;g=Xu(g,V);const Ge=Math.max(g.width,1),Qe=Math.max(g.height,1),xt=(Ge+$)/Ge,Yt=(Qe+$)/Qe,fn=Ac({a:xt,b:0,c:0,d:Yt,e:J-xt*J,f:de-Yt*de});V=V.multiply(fn)}Iv(y,V)}ja(y,Fc.prefix("highlight-stroke"));const E=a.cell,D=()=>Ab.removeHighlighter(r);E.on("removed",D),E.model&&E.model.on("reseted",D),a.container.appendChild(y),Ab.setCache(r,y)},unhighlight(a,e,t){Ab.removeHighlighter(Ab.getHighlighterId(e,t))}};var Ab;(function(a){function e(g,y){return mv(g),g.id+JSON.stringify(y)}a.getHighlighterId=e;const t={};function r(g,y){t[g]=y}a.setCache=r;function s(g){return t[g]!=null}a.hasCache=s;function h(g){const y=t[g];y&&(Ch(y),delete t[g])}a.removeHighlighter=h})(Ab||(Ab={}));var f0;(function(a){function e(t,r){if(typeof r.highlight!="function")throw new Error(`Highlighter '${t}' is missing required \`highlight()\` method`);if(typeof r.unhighlight!="function")throw new Error(`Highlighter '${t}' is missing required \`unhighlight()\` method`)}a.check=e})(f0||(f0={})),function(a){a.presets=ae,a.registry=oc.create({type:"highlighter"}),a.registry.register(a.presets,!0)}(f0||(f0={}));function LE(a,e={}){return new Fn(Ku(e.x,a.width),Ku(e.y,a.height))}function FE(a,e,t){return Object.assign({angle:e,position:a.toJSON()},t)}const TA=(a,e)=>a.map(({x:t,y:r,angle:s})=>FE(LE(e,{x:t,y:r}),s||0)),PA=(a,e,t)=>{const r=t.start||0,s=t.step||20;return lS(a,e,r,(h,g)=>(h+.5-g/2)*s)},OA=(a,e,t)=>{const r=t.start||0,s=t.step||360/a.length;return lS(a,e,r,h=>h*s)};function lS(a,e,t,r){const s=e.getCenter(),h=e.getTopCenter(),g=e.width/e.height,y=n.fromRect(e),E=a.length;return a.map((D,V)=>{const $=t+r(V,E),J=h.clone().rotate(-$,s).scale(g,1,s),de=D.compensateRotate?-y.tangentTheta(J):0;return(D.dx||D.dy)&&J.translate(D.dx||0,D.dy||0),D.dr&&J.move(s,D.dr),FE(J.round(),de,D)})}var IA=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};const RA=(a,e,t)=>{const r=LE(e,t.start||e.getOrigin()),s=LE(e,t.end||e.getCorner());return ow(a,r,s,t)},DA=(a,e,t)=>ow(a,e.getTopLeft(),e.getBottomLeft(),t),NA=(a,e,t)=>ow(a,e.getTopRight(),e.getBottomRight(),t),_A=(a,e,t)=>ow(a,e.getTopLeft(),e.getTopRight(),t),kA=(a,e,t)=>ow(a,e.getBottomLeft(),e.getBottomRight(),t);function ow(a,e,t,r){const s=new u(e,t),h=a.length;return a.map((g,y)=>{var{strict:E}=g,D=IA(g,["strict"]);const V=E||r.strict?(y+1)/(h+1):(y+.5)/h,$=s.pointAt(V);return(D.dx||D.dy)&&$.translate(D.dx||0,D.dy||0),FE($.round(),0,D)})}var Mb;(function(a){a.presets=ue,a.registry=oc.create({type:"port layout"}),a.registry.register(a.presets,!0)})(Mb||(Mb={}));const LA={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function Tb(a,e){const{x:t,y:r,angle:s,attrs:h}=e||{};return Om({},{angle:s,attrs:h,position:{x:t,y:r}},a,LA)}const FA=(a,e,t)=>Tb({position:e.getTopLeft()},t),BA=(a,e,t)=>Tb({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},t),zA=(a,e,t)=>Tb({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},t),GA=(a,e,t)=>Tb({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},t),VA=(a,e,t)=>Tb({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},t),ZA=(a,e,t)=>cS(a,e,!1,t),jA=(a,e,t)=>cS(a,e,!0,t),UA=(a,e,t)=>uS(a,e,!1,t),WA=(a,e,t)=>uS(a,e,!0,t);function cS(a,e,t,r){const s=r.offset!=null?r.offset:15,h=e.getCenter().theta(a),g=fS(e);let y,E,D,V,$=0;return h<g[1]||h>g[2]?(y=".3em",E=s,D=0,V="start"):h<g[0]?(y="0",E=0,D=-s,t?($=-90,V="start"):V="middle"):h<g[3]?(y=".3em",E=-s,D=0,V="end"):(y=".6em",E=0,D=s,t?($=90,V="start"):V="middle"),Tb({position:{x:Math.round(E),y:Math.round(D)},angle:$,attrs:{".":{y,"text-anchor":V}}},r)}function uS(a,e,t,r){const s=r.offset!=null?r.offset:15,h=e.getCenter().theta(a),g=fS(e);let y,E,D,V,$=0;return h<g[1]||h>g[2]?(y=".3em",E=-s,D=0,V="end"):h<g[0]?(y=".6em",E=0,D=s,t?($=90,V="start"):V="middle"):h<g[3]?(y=".3em",E=s,D=0,V="start"):(y="0em",E=0,D=-s,t?($=-90,V="start"):V="middle"),Tb({position:{x:Math.round(E),y:Math.round(D)},angle:$,attrs:{".":{y,"text-anchor":V}}},r)}function fS(a){const e=a.getCenter(),t=e.theta(a.getTopLeft()),r=e.theta(a.getBottomLeft()),s=e.theta(a.getBottomRight()),h=e.theta(a.getTopRight());return[t,h,s,r]}const $A=(a,e,t)=>hS(a.diff(e.getCenter()),!1,t),HA=(a,e,t)=>hS(a.diff(e.getCenter()),!0,t);function hS(a,e,t){const r=t.offset!=null?t.offset:20,s=new Fn(0,0),h=-a.theta(s),g=a.clone().move(s,r).diff(a).round();let y=".3em",E,D=h;return(h+90)%180===0?(E=e?"end":"middle",!e&&h===-270&&(y="0em")):h>-270&&h<-90?(E="start",D=h-180):E="end",Tb({position:g.round().toJSON(),angle:e?D:0,attrs:{".":{y,"text-anchor":E}}},t)}var X1;(function(a){a.presets=re,a.registry=oc.create({type:"port label layout"}),a.registry.register(a.presets,!0)})(X1||(X1={}));class _v{constructor(e,t,r,s){if(e==null)return this.set(255,255,255,1);if(typeof e=="number")return this.set(e,t,r,s);if(typeof e=="string")return _v.fromString(e)||this;if(Array.isArray(e))return this.set(e);this.set(e.r,e.g,e.b,e.a==null?1:e.a)}blend(e,t,r){this.set(e.r+(t.r-e.r)*r,e.g+(t.g-e.g)*r,e.b+(t.b-e.b)*r,e.a+(t.a-e.a)*r)}lighten(e){const t=_v.lighten(this.toArray(),e);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}darken(e){this.lighten(-e)}set(e,t,r,s){const h=Array.isArray(e)?e[0]:e,g=Array.isArray(e)?e[1]:t,y=Array.isArray(e)?e[2]:r,E=Array.isArray(e)?e[3]:s;return this.r=Math.round(Tu(h,0,255)),this.g=Math.round(Tu(g,0,255)),this.b=Math.round(Tu(y,0,255)),this.a=E==null?1:Tu(E,0,1),this}toHex(){return`#${["r","g","b"].map(t=>{const r=this[t].toString(16);return r.length<2?`0${r}`:r}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return _v.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(e){const t=`${this.r},${this.g},${this.b},`;return e?`rgb(${t})`:`rgba(${t},${this.a})`}toGrey(){return _v.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(a){function e(Xt){return new a(Xt)}a.fromArray=e;function t(Xt){return new a([...Ge(Xt),1])}a.fromHex=t;function r(Xt){const zn=Xt.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(zn){const xr=zn[1].split(/\s*,\s*/).map(Jr=>parseInt(Jr,10));return new a(xr)}return null}a.fromRGBA=r;function s(Xt,zn,xr){xr<0&&++xr,xr>1&&--xr;const Jr=6*xr;return Jr<1?Xt+(zn-Xt)*Jr:2*xr<1?zn:3*xr<2?Xt+(zn-Xt)*(2/3-xr)*6:Xt}function h(Xt){const zn=Xt.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(zn){const xr=zn[2].split(/\s*,\s*/),Jr=(parseFloat(xr[0])%360+360)%360/360,fi=parseFloat(xr[1])/100,Gi=parseFloat(xr[2])/100,zo=xr[3]==null?1:parseInt(xr[3],10);return new a(D(Jr,fi,Gi,zo))}return null}a.fromHSLA=h;function g(Xt){if(Xt.startsWith("#"))return t(Xt);if(Xt.startsWith("rgb"))return r(Xt);const zn=a.named[Xt];return zn?t(zn):h(Xt)}a.fromString=g;function y(Xt,zn){return a.fromArray([Xt,Xt,Xt,zn])}a.makeGrey=y;function E(Xt,zn,xr,Jr){const fi=Array.isArray(Xt)?Xt[0]:Xt,Gi=Array.isArray(Xt)?Xt[1]:zn,zo=Array.isArray(Xt)?Xt[2]:xr,vo=Array.isArray(Xt)?Xt[3]:Jr,Eo=Math.max(fi,Gi,zo),$o=Math.min(fi,Gi,zo),na=(Eo+$o)/2;let la=0,_i=0;if($o!==Eo){const Io=Eo-$o;switch(_i=na>.5?Io/(2-Eo-$o):Io/(Eo+$o),Eo){case fi:la=(Gi-zo)/Io+(Gi<zo?6:0);break;case Gi:la=(zo-fi)/Io+2;break;case zo:la=(fi-Gi)/Io+4;break;default:break}la/=6}return[la,_i,na,vo==null?1:vo]}a.rgba2hsla=E;function D(Xt,zn,xr,Jr){const fi=Array.isArray(Xt)?Xt[0]:Xt,Gi=Array.isArray(Xt)?Xt[1]:zn,zo=Array.isArray(Xt)?Xt[2]:xr,vo=Array.isArray(Xt)?Xt[3]:Jr,Eo=zo<=.5?zo*(Gi+1):zo+Gi-zo*Gi,$o=2*zo-Eo;return[s($o,Eo,fi+1/3)*256,s($o,Eo,fi)*256,s($o,Eo,fi-1/3)*256,vo==null?1:vo]}a.hsla2rgba=D;function V(Xt){return new a(Math.round(Math.random()*256),Math.round(Math.random()*256),Math.round(Math.random()*256),Xt?void 0:parseFloat(Math.random().toFixed(2)))}a.random=V;function $(){const Xt="0123456789ABCDEF";let zn="#";for(let xr=0;xr<6;xr+=1)zn+=Xt[Math.floor(Math.random()*16)];return zn}a.randomHex=$;function J(Xt){return V(Xt).toString()}a.randomRGBA=J;function de(Xt,zn){if(typeof Xt=="string"){const zo=Xt[0]==="#",[vo,Eo,$o]=Ge(Xt);return zn?vo*.299+Eo*.587+$o*.114>186?"#000000":"#ffffff":`${zo?"#":""}${Qe(255-vo,255-Eo,255-$o)}`}const xr=Xt[0],Jr=Xt[1],fi=Xt[2],Gi=Xt[3];return zn?xr*.299+Jr*.587+fi*.114>186?[0,0,0,Gi]:[255,255,255,Gi]:[255-xr,255-Jr,255-fi,Gi]}a.invert=de;function Ge(Xt){const zn=Xt.indexOf("#")===0?Xt:`#${Xt}`;let xr=+`0x${zn.substr(1)}`;if(!(zn.length===4||zn.length===7)||Number.isNaN(xr))throw new Error("Invalid hex color.");const Jr=zn.length===4?4:8,fi=(1<<Jr)-1,Gi=["b","g","r"].map(()=>{const zo=xr&fi;return xr>>=Jr,Jr===4?17*zo:zo});return[Gi[2],Gi[1],Gi[0]]}function Qe(Xt,zn,xr){const Jr=fi=>fi.length<2?`0${fi}`:fi;return`${Jr(Xt.toString(16))}${Jr(zn.toString(16))}${Jr(xr.toString(16))}`}function xt(Xt,zn){return fn(Xt,zn)}a.lighten=xt;function Yt(Xt,zn){return fn(Xt,-zn)}a.darken=Yt;function fn(Xt,zn){if(typeof Xt=="string"){const fi=Xt[0]==="#",Gi=parseInt(fi?Xt.substr(1):Xt,16),zo=Tu((Gi>>16)+zn,0,255),vo=Tu((Gi>>8&255)+zn,0,255),Eo=Tu((Gi&255)+zn,0,255);return`${fi?"#":""}${(Eo|vo<<8|zo<<16).toString(16)}`}const xr=Qe(Xt[0],Xt[1],Xt[2]),Jr=Ge(fn(xr,zn));return[Jr[0],Jr[1],Jr[2],Xt[3]]}})(_v||(_v={})),function(a){a.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}(_v||(_v={}));class KA{constructor(){this.listeners={}}on(e,t,r){return t==null?this:(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t,r),this)}once(e,t,r){const s=(...h)=>(this.off(e,s),sw.call([t,r],h));return this.on(e,s,this)}off(e,t,r){if(!(e||t||r))return this.listeners={},this;const s=this.listeners;return(e?[e]:Object.keys(s)).forEach(g=>{const y=s[g];if(y){if(!(t||r)){delete s[g];return}for(let E=y.length-2;E>=0;E-=2)t&&y[E]!==t||r&&y[E+1]!==r||y.splice(E,2)}}),this}trigger(e,...t){let r=!0;if(e!=="*"){const h=this.listeners[e];h!=null&&(r=sw.call([...h],t))}const s=this.listeners["*"];return s!=null?k1([r,sw.call([...s],[e,...t])]):r}emit(e,...t){return this.trigger(e,...t)}}var sw;(function(a){function e(t,r){const s=[];for(let h=0;h<t.length;h+=2){const g=t[h],y=t[h+1],E=Array.isArray(r)?r:[r],D=Ng(g,y,E);s.push(D)}return k1(s)}a.call=e})(sw||(sw={}));class Wg{get disposed(){return this._disposed===!0}dispose(){this._disposed=!0}}(function(a){function e(){return(t,r,s)=>{const h=s.value,g=t.__proto__;s.value=function(){this.disposed||(h.call(this),g.dispose.call(this))}}}a.dispose=e})(Wg||(Wg={}));class oT{constructor(e){this.callback=e}get disposed(){return!this.callback}dispose(){if(!this.callback)return;const e=this.callback;this.callback=null,e()}}class dS{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(e=>{e.dispose()}),this.items.clear())}contains(e){return this.items.has(e)}add(e){this.items.add(e)}remove(e){this.items.delete(e)}clear(){this.items.clear()}}(function(a){function e(t){const r=new a;return t.forEach(s=>{r.add(s)}),r}a.from=e})(dS||(dS={}));class xf extends KA{}(function(a){a.dispose=Wg.dispose})(xf||(xf={})),Cd(xf,Wg);class pS extends xf{get disabled(){return this._disabled===!0}enable(){delete this._disabled}disable(){this._disabled=!0}}var XA=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class qw extends Wg{constructor(){super(),this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(e){return this.map.has(e)}get(e){return this.map.get(e)}set(e,t){this.map.set(e,t),this.arr.push(e)}delete(e){const t=this.arr.indexOf(e);t>=0&&this.arr.splice(t,1);const r=this.map.get(e);return this.map.delete(e),r}each(e){this.arr.forEach(t=>{const r=this.map.get(t);e(r,t)})}dispose(){this.clear()}}XA([Wg.dispose()],qw.prototype,"dispose",null);class aw{constructor(e={}){this.comparator=e.comparator||aw.defaultComparator,this.index={},this.data=e.data||[],this.heapify()}isEmpty(){return this.data.length===0}insert(e,t,r){const s={priority:e,value:t},h=this.data.length;return r&&(s.id=r,this.index[r]=h),this.data.push(s),this.bubbleUp(h),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(e,t){const r=this.index[e];if(typeof r=="undefined")throw new Error(`Node with id '${e}' was not found in the heap.`);const s=this.data,h=s[r].priority,g=this.comparator(t,h);g<0?(s[r].priority=t,this.bubbleUp(r)):g>0&&(s[r].priority=t,this.bubbleDown(r))}remove(){const e=this.data,t=e[0],r=e.pop();return t.id&&delete this.index[t.id],e.length>0&&(e[0]=r,r.id&&(this.index[r.id]=0),this.bubbleDown(0)),t?t.value:null}heapify(){for(let e=0;e<this.data.length;e+=1)this.bubbleUp(e)}bubbleUp(e){const t=this.data;let r,s,h=e;for(;h>0&&(s=h-1>>>1,this.comparator(t[h].priority,t[s].priority)<0);){r=t[s],t[s]=t[h];let g=t[h].id;g!=null&&(this.index[g]=s),t[h]=r,g=t[h].id,g!=null&&(this.index[g]=h),h=s}}bubbleDown(e){const t=this.data,r=t.length-1;let s=e;for(;;){const h=(s<<1)+1,g=h+1;let y=s;if(h<=r&&this.comparator(t[h].priority,t[y].priority)<0&&(y=h),g<=r&&this.comparator(t[g].priority,t[y].priority)<0&&(y=g),y!==s){const E=t[y];t[y]=t[s];let D=t[s].id;D!=null&&(this.index[D]=y),t[s]=E,D=t[s].id,D!=null&&(this.index[D]=s),s=y}else break}}}(function(a){a.defaultComparator=(e,t)=>e-t})(aw||(aw={}));var BE;(function(a){function e(t,r,s=(h,g)=>1){const h={},g={},y={},E=new aw;for(h[r]=0,Object.keys(t).forEach(D=>{D!==r&&(h[D]=1/0),E.insert(h[D],D,D)});!E.isEmpty();){const D=E.remove();y[D]=!0;const V=t[D]||[];for(let $=0;$<V.length;$+=1){const J=V[$];if(!y[J]){const de=h[D]+s(D,J);de<h[J]&&(h[J]=de,g[J]=D,E.updatePriority(J,de))}}}return g}a.run=e})(BE||(BE={}));var Y1;(function(a){a.linear=e=>e,a.quad=e=>e*e,a.cubic=e=>e*e*e,a.inout=e=>{if(e<=0)return 0;if(e>=1)return 1;const t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)},a.exponential=e=>Math.pow(2,10*(e-1)),a.bounce=e=>{for(let t=0,r=1;;t+=r,r/=2)if(e>=(7-4*t)/11){const s=(11-6*t-11*e)/4;return-s*s+r*r}}})(Y1||(Y1={})),function(a){a.decorators={reverse(e){return t=>1-e(1-t)},reflect(e){return t=>.5*(t<.5?e(2*t):2-e(2-2*t))},clamp(e,t=0,r=1){return s=>{const h=e(s);return h<t?t:h>r?r:h}},back(e=1.70158){return t=>t*t*((e+1)*t-e)},elastic(e=1.5){return t=>Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}}(Y1||(Y1={})),function(a){function e(_i){return-1*Math.cos(_i*(Math.PI/2))+1}a.easeInSine=e;function t(_i){return Math.sin(_i*(Math.PI/2))}a.easeOutSine=t;function r(_i){return-.5*(Math.cos(Math.PI*_i)-1)}a.easeInOutSine=r;function s(_i){return _i*_i}a.easeInQuad=s;function h(_i){return _i*(2-_i)}a.easeOutQuad=h;function g(_i){return _i<.5?2*_i*_i:-1+(4-2*_i)*_i}a.easeInOutQuad=g;function y(_i){return _i*_i*_i}a.easeInCubic=y;function E(_i){const Io=_i-1;return Io*Io*Io+1}a.easeOutCubic=E;function D(_i){return _i<.5?4*_i*_i*_i:(_i-1)*(2*_i-2)*(2*_i-2)+1}a.easeInOutCubic=D;function V(_i){return _i*_i*_i*_i}a.easeInQuart=V;function $(_i){const Io=_i-1;return 1-Io*Io*Io*Io}a.easeOutQuart=$;function J(_i){const Io=_i-1;return _i<.5?8*_i*_i*_i*_i:1-8*Io*Io*Io*Io}a.easeInOutQuart=J;function de(_i){return _i*_i*_i*_i*_i}a.easeInQuint=de;function Ge(_i){const Io=_i-1;return 1+Io*Io*Io*Io*Io}a.easeOutQuint=Ge;function Qe(_i){const Io=_i-1;return _i<.5?16*_i*_i*_i*_i*_i:1+16*Io*Io*Io*Io*Io}a.easeInOutQuint=Qe;function xt(_i){return _i===0?0:Math.pow(2,10*(_i-1))}a.easeInExpo=xt;function Yt(_i){return _i===1?1:-Math.pow(2,-10*_i)+1}a.easeOutExpo=Yt;function fn(_i){if(_i===0||_i===1)return _i;const Io=_i*2,Ws=Io-1;return Io<1?.5*Math.pow(2,10*Ws):.5*(-Math.pow(2,-10*Ws)+2)}a.easeInOutExpo=fn;function Xt(_i){const Io=_i/1;return-1*(Math.sqrt(1-Io*_i)-1)}a.easeInCirc=Xt;function zn(_i){const Io=_i-1;return Math.sqrt(1-Io*Io)}a.easeOutCirc=zn;function xr(_i){const Io=_i*2,Ws=Io-2;return Io<1?-.5*(Math.sqrt(1-Io*Io)-1):.5*(Math.sqrt(1-Ws*Ws)+1)}a.easeInOutCirc=xr;function Jr(_i,Io=1.70158){return _i*_i*((Io+1)*_i-Io)}a.easeInBack=Jr;function fi(_i,Io=1.70158){const Ws=_i/1-1;return Ws*Ws*((Io+1)*Ws+Io)+1}a.easeOutBack=fi;function Gi(_i,Io=1.70158){const Ws=_i*2,Pl=Ws-2,Ul=Io*1.525;return Ws<1?.5*Ws*Ws*((Ul+1)*Ws-Ul):.5*(Pl*Pl*((Ul+1)*Pl+Ul)+2)}a.easeInOutBack=Gi;function zo(_i,Io=.7){if(_i===0||_i===1)return _i;const Pl=_i/1-1,Ul=1-Io,iu=Ul/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*Pl)*Math.sin((Pl-iu)*(2*Math.PI)/Ul))}a.easeInElastic=zo;function vo(_i,Io=.7){const Ws=1-Io,Pl=_i*2;if(_i===0||_i===1)return _i;const Ul=Ws/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*Pl)*Math.sin((Pl-Ul)*(2*Math.PI)/Ws)+1}a.easeOutElastic=vo;function Eo(_i,Io=.65){const Ws=1-Io;if(_i===0||_i===1)return _i;const Pl=_i*2,Ul=Pl-1,iu=Ws/(2*Math.PI)*Math.asin(1);return Pl<1?-.5*(Math.pow(2,10*Ul)*Math.sin((Ul-iu)*(2*Math.PI)/Ws)):Math.pow(2,-10*Ul)*Math.sin((Ul-iu)*(2*Math.PI)/Ws)*.5+1}a.easeInOutElastic=Eo;function $o(_i){const Io=_i/1;if(Io<1/2.75)return 7.5625*Io*Io;if(Io<2/2.75){const Ws=Io-.5454545454545454;return 7.5625*Ws*Ws+.75}if(Io<2.5/2.75){const Ws=Io-.8181818181818182;return 7.5625*Ws*Ws+.9375}{const Ws=Io-.9545454545454546;return 7.5625*Ws*Ws+.984375}}a.easeOutBounce=$o;function na(_i){return 1-$o(1-_i)}a.easeInBounce=na;function la(_i){return _i<.5?na(_i*2)*.5:$o(_i*2-1)*.5+.5}a.easeInOutBounce=la}(Y1||(Y1={}));var J1;(function(a){a.number=(e,t)=>{const r=t-e;return s=>e+r*s},a.object=(e,t)=>{const r=Object.keys(e);return s=>{const h={};for(let g=r.length-1;g!==-1;g-=1){const y=r[g];h[y]=e[y]+(t[y]-e[y])*s}return h}},a.unit=(e,t)=>{const r=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,s=r.exec(e),h=r.exec(t),g=h?h[1]:"",y=s?+s[1]:0,E=h?+h[1]:0,D=g.indexOf("."),V=D>0?g[1].length-D-1:0,$=E-y,J=s?s[2]:"";return de=>(y+$*de).toFixed(V)+J},a.color=(e,t)=>{const r=parseInt(e.slice(1),16),s=parseInt(t.slice(1),16),h=r&255,g=(s&255)-h,y=r&65280,E=(s&65280)-y,D=r&16711680,V=(s&16711680)-D;return $=>{const J=h+g*$&255,de=y+E*$&65280,Ge=D+V*$&16711680;return`#${(1<<24|J|de|Ge).toString(16).slice(1)}`}}})(J1||(J1={}));var gS;(function(a){const e=`${_d.prefixCls}.storage`;function t($,J,de){const Ge=J.id||_l("doc-"),Qe=E($);Qe.keys.push(Ge),g(D($,Ge),J),g(V($),Qe),h(de,null,Object.assign(Object.assign({},J),{id:Ge}))}a.insert=t;function r($,J,de){const Ge=E($),Qe=[];if(J==null)Ge.keys.forEach(xt=>{const Yt=y(D($,xt));Yt?Qe.push(Yt):h(de,new Error(`No document found for an ID '${xt}' from index.`))}),h(de,null,Qe);else if(J.id){const xt=y(D($,J.id));h(de,null,xt?[xt]:[])}else h(de,null,[])}a.find=r;function s($,J,de){const Ge=E($);if(J==null)Ge.keys.forEach(Qe=>{localStorage.removeItem(D($,Qe))}),localStorage.removeItem(V($)),h(de,null);else if(J.id){const Qe=Ge.keys.indexOf(J.id);Qe>=0&&Ge.keys.splice(Qe,1),localStorage.removeItem(D($,J.id)),g(V($),Ge),h(de,null)}}a.remove=s;function h($,J,de){$&&_1(()=>{$(J,de)})}function g($,J){localStorage.setItem($,JSON.stringify(J))}function y($){const J=localStorage.getItem($);return J?JSON.parse(J):null}function E($){const J=y(V($));return J?(J.keys==null&&(J.keys=[]),J):{keys:[]}}function D($,J){return`${e}.${$}.docs.${J}`}function V($){return`${e}.${$}.index`}})(gS||(gS={}));class za extends xf{constructor(){super(),this.cid=zE.uniqueId(),za.views[this.cid]=this}get priority(){return 2}confirmUpdate(e,t){return 0}$(e){return za.$(e)}empty(e=this.container){return this.$(e).empty(),this}unmount(e=this.container){return this.$(e).remove(),this}remove(e=this.container){return e===this.container&&(this.removeEventListeners(document),this.onRemove(),delete za.views[this.cid]),this.unmount(e),this}onRemove(){}setClass(e,t=this.container){t.classList.value=Array.isArray(e)?e.join(" "):e}addClass(e,t=this.container){return this.$(t).addClass(Array.isArray(e)?e.join(" "):e),this}removeClass(e,t=this.container){return this.$(t).removeClass(Array.isArray(e)?e.join(" "):e),this}setStyle(e,t=this.container){return this.$(t).css(e),this}setAttrs(e,t=this.container){return e!=null&&t!=null&&(t instanceof SVGElement?Fa(t,e):this.$(t).attr(e)),this}findAttr(e,t=this.container){let r=t;for(;r&&r.nodeType===1;){const s=r.getAttribute(e);if(s!=null)return s;if(r===this.container)return null;r=r.parentNode}return null}find(e,t=this.container,r=this.selectors){return za.find(e,t,r).elems}findOne(e,t=this.container,r=this.selectors){const s=this.find(e,t,r);return s.length>0?s[0]:null}findByAttr(e,t=this.container){let r=t;for(;r&&r.getAttribute;){const s=r.getAttribute(e);if((s!=null||r===this.container)&&s!=="false")return r;r=r.parentNode}return null}getSelector(e,t){let r;if(e===this.container)return typeof t=="string"&&(r=`> ${t}`),r;if(e){const s=Rd(e)+1;r=`${e.tagName.toLowerCase()}:nth-child(${s})`,t&&(r+=` > ${t}`),r=this.getSelector(e.parentNode,r)}return r}prefixClassName(e){return Fc.prefix(e)}delegateEvents(e,t){if(e==null)return this;t||this.undelegateEvents();const r=/^(\S+)\s*(.*)$/;return Object.keys(e).forEach(s=>{const h=s.match(r);if(h==null)return;const g=this.getEventHandler(e[s]);typeof g=="function"&&this.delegateEvent(h[1],h[2],g)}),this}undelegateEvents(){return this.$(this.container).off(this.getEventNamespace()),this}delegateDocumentEvents(e,t){return this.addEventListeners(document,e,t),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(e,t,r){return this.$(this.container).on(e+this.getEventNamespace(),t,r),this}undelegateEvent(e,t,r){const s=e+this.getEventNamespace();return t==null?this.$(this.container).off(s):typeof t=="string"?this.$(this.container).off(s,t,r):this.$(this.container).off(s,t),this}addEventListeners(e,t,r){if(t==null)return this;const s=this.getEventNamespace(),h=this.$(e);return Object.keys(t).forEach(g=>{const y=this.getEventHandler(t[g]);typeof y=="function"&&h.on(g+s,r,y)}),this}removeEventListeners(e){return e!=null&&this.$(e).off(this.getEventNamespace()),this}getEventNamespace(){return`.${_d.prefixCls}-event-${this.cid}`}getEventHandler(e){let t;if(typeof e=="string"){const r=this[e];typeof r=="function"&&(t=(...s)=>r.call(this,...s))}else t=(...r)=>e.call(this,...r);return t}getEventTarget(e,t={}){const{target:r,type:s,clientX:h=0,clientY:g=0}=e;return t.fromPoint||s==="touchmove"||s==="touchend"?document.elementFromPoint(h,g):r}stopPropagation(e){return this.setEventData(e,{propagationStopped:!0}),this}isPropagationStopped(e){return this.getEventData(e).propagationStopped===!0}getEventData(e){return this.eventData(e)}setEventData(e,t){return this.eventData(e,t)}eventData(e,t){if(e==null)throw new TypeError("Event object required");let r=e.data;const s=`__${this.cid}__`;return t==null?r==null?{}:r[s]||{}:(r==null&&(r=e.data={}),r[s]==null?r[s]=Object.assign({},t):r[s]=Object.assign(Object.assign({},r[s]),t),r[s])}normalizeEvent(e){return za.normalizeEvent(e)}}(function(a){function e(h){return vt()(h)}a.$=e;function t(h,g){return g?Pu(h||"g"):yv(h||"div")}a.createElement=t;function r(h,g,y){if(!h||h===".")return{elems:[g]};if(y){const E=y[h];if(E)return{elems:Array.isArray(E)?E:[E]}}return _d.useCSSSelector?{isCSSSelector:!0,elems:e(g).find(h).toArray()}:{elems:[]}}a.find=r;function s(h){let g=h;const y=h.originalEvent,E=y&&y.changedTouches&&y.changedTouches[0];if(E){for(const V in h)E[V]===void 0&&(E[V]=h[V]);g=E}const D=g.target;if(D){const V=D.correspondingUseElement;V&&(g.target=V)}return g}a.normalizeEvent=s})(za||(za={})),function(a){a.views={};function e(t){return a.views[t]||null}a.getView=e}(za||(za={}));var zE;(function(a){let e=0;function t(){const r=`v${e}`;return e+=1,r}a.uniqueId=t})(zE||(zE={}));const YA=a=>a;function mS(a,e){return e===0?"0%":`${Math.round(a/e*100)}%`}function vS(a){return(t,r,s,h)=>r.isEdgeElement(s)?qA(a,t,r,s,h):JA(a,t,r,s,h)}function JA(a,e,t,r,s){const h=t.cell,g=h.getAngle(),y=t.getUnrotatedBBoxOfElement(r),E=h.getBBox().getCenter(),D=Fn.create(s).rotate(g,E);let V=D.x-y.x,$=D.y-y.y;return a&&(V=mS(V,y.width),$=mS($,y.height)),e.anchor={name:"topLeft",args:{dx:V,dy:$,rotate:!0}},e}function qA(a,e,t,r,s){const h=t.getConnection();if(!h)return e;const g=h.closestPointLength(s);if(a){const y=h.length();e.anchor={name:"ratio",args:{ratio:g/y}}}else e.anchor={name:"length",args:{length:g}};return e}const QA=vS(!0),e3=vS(!1);var q1;(function(a){a.presets=ge,a.registry=oc.create({type:"connection strategy"}),a.registry.register(a.presets,!0)})(q1||(q1={}));class t3{constructor(e){this.view=e,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new qw,this.pathCache={}}get(e){return this.elemCache.has(e)||this.elemCache.set(e,{}),this.elemCache.get(e)}getData(e){const t=this.get(e);return t.data||(t.data={}),t.data}getMatrix(e){const t=this.get(e);if(t.matrix==null){const r=this.view.rotatableNode||this.view.container;t.matrix=Np(e,r)}return Ac(t.matrix)}getShape(e){const t=this.get(e);return t.shape==null&&(t.shape=Dx(e)),t.shape.clone()}getBoundingRect(e){const t=this.get(e);return t.boundingRect==null&&(t.boundingRect=Mc(e)),t.boundingRect.clone()}}var Ua;(function(a){function e(V){return V!=null&&!t(V)}a.isJSONMarkup=e;function t(V){return V!=null&&typeof V=="string"}a.isStringMarkup=t;function r(V){return V==null||t(V)?V:Ss(V)}a.clone=r;function s(V){return`${V}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")}a.sanitize=s;function h(V){const $=document.createDocumentFragment(),J={},de={},Ge=s(V);return T1(Ge,{raw:!0}).forEach(xt=>{$.appendChild(xt)}),{fragment:$,selectors:de,groups:J}}a.parseStringMarkup=h;function g(V,$={ns:hc.svg}){const J=document.createDocumentFragment(),de={},Ge={},Qe=[{markup:Array.isArray(V)?V:[V],parent:J,ns:$.ns}];for(;Qe.length>0;){const xt=Qe.pop();let Yt=xt.ns||hc.svg;const fn=xt.markup,Xt=xt.parent;fn.forEach(zn=>{const xr=zn.tagName;if(!xr)throw new TypeError("Invalid tagName");zn.ns&&(Yt=zn.ns);const Jr=Yt===hc.svg,fi=Yt?yv(xr,Yt):cb(xr),Gi=zn.attrs;Gi&&(Jr?Fa(fi,Fg(Gi)):vt()(fi).attr(Gi));const zo=zn.style;zo&&vt()(fi).css(zo);const vo=zn.className;vo!=null&&fi.setAttribute("class",Array.isArray(vo)?vo.join(" "):vo),zn.textContent&&(fi.textContent=zn.textContent);const Eo=zn.selector;if(Eo!=null){if(Ge[Eo])throw new TypeError("Selector must be unique");Ge[Eo]=fi}if(zn.groupSelector){let na=zn.groupSelector;Array.isArray(na)||(na=[na]),na.forEach(la=>{de[la]||(de[la]=[]),de[la].push(fi)})}Xt.appendChild(fi);const $o=zn.children;Array.isArray($o)&&Qe.push({ns:Yt,markup:$o,parent:fi})})}return Object.keys(de).forEach(xt=>{if(Ge[xt])throw new Error("Ambiguous group selector");Ge[xt]=de[xt]}),{fragment:J,selectors:Ge,groups:de}}a.parseJSONMarkup=g;function y(V){return V instanceof SVGElement?Pu("g"):cb("div")}function E(V){if(t(V)){const Ge=co.createVectors(V),Qe=Ge.length;if(Qe===1)return{elem:Ge[0].node};if(Qe>1){const xt=y(Ge[0].node);return Ge.forEach(Yt=>{xt.appendChild(Yt.node)}),{elem:xt}}return{}}const $=g(V),J=$.fragment;let de=null;return J.childNodes.length>1?(de=y(J.firstChild),de.appendChild(J)):de=J.firstChild,{elem:de,selectors:$.selectors}}a.renderMarkup=E;function D(V){const $=co.createVectors(V),J=document.createDocumentFragment();for(let de=0,Ge=$.length;de<Ge;de+=1){const Qe=$[de].node;J.appendChild(Qe)}return{fragment:J,selectors:{}}}a.parseLabelStringMarkup=D})(Ua||(Ua={})),function(a){function e(s,h,g){if(s!=null){let y;const E=s.tagName.toLowerCase();if(s===h)return typeof g=="string"?y=`> ${E} > ${g}`:y=`> ${E}`,y;const D=s.parentNode;if(D&&D.childNodes.length>1){const V=Rd(s)+1;y=`${E}:nth-child(${V})`}else y=E;return g&&(y+=` > ${g}`),e(s.parentNode,h,y)}return g}a.getSelector=e;function t(s,h,g){if(s.nodeName==="#text")return null;let y=null,E=null,D=null,V=!1;const $={tagName:s.tagName};if(s.attributes){D={};for(let J=0,de=s.attributes.length;J<de;J+=1){const Ge=s.attributes[J],Qe=Ge.nodeName,xt=Ge.nodeValue;Qe==="selector"?y=xt:Qe==="groupSelector"?E=xt:Qe==="class"?$.attrs={class:xt}:D[Qe]=xt}}return y==null&&(V=!0,y=e(s,h)),s.namespaceURI&&($.ns=s.namespaceURI),$.ns==null&&(["body","div","section","main","nav","footer","span","p","h1","h2","h3","h4","h5","h6","ul","ol","dl","center","strong","pre","form","select","textarea","fieldset","marquee","bgsound","iframe","frameset"].includes(s.tagName)?$.ns=hc.xhtml:g&&($.ns=g)),y&&($.selector=y),E!=null&&($.groupSelector=E),{markup:$,attrs:D,isCSSSelector:V}}function r(s){const h=a.sanitize(s),g=fb(h,{mimeType:"image/svg+xml"}),y=Array.prototype.slice.call(g.childNodes),E={},D=new WeakMap,V=(J,de,Ge)=>{const Qe=t(J,de,Ge);if(Qe==null){const xt=D.get(J.parentNode);xt&&J.textContent&&(xt.textContent=J.textContent)}else{const{markup:xt,attrs:Yt,isCSSSelector:fn}=Qe;if(D.set(J,xt),xt.selector&&Yt!=null&&(Object.keys(Yt).length&&(E[xt.selector]=Yt),fn&&delete xt.selector),J.childNodes&&J.childNodes.length>0)for(let Xt=0,zn=J.childNodes.length;Xt<zn;Xt+=1){const xr=J.childNodes[Xt],Jr=V(xr,de,xt.ns);Jr&&(xt.children==null&&(xt.children=[]),xt.children.push(Jr))}return xt}};return{markup:y.map(J=>V(J,J)).filter(J=>J!=null),attrs:E}}a.xml2json=r}(Ua||(Ua={})),function(a){function e(){return"g"}a.getPortContainerMarkup=e;function t(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}}a.getPortMarkup=t;function r(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}a.getPortLabelMarkup=r}(Ua||(Ua={})),function(a){function e(){return a.sanitize(`
    <path class="connection" stroke="black" d="M 0 0 0 0"/>
    <path class="source-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="target-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="connection-wrap" d="M 0 0 0 0"/>
    <g class="labels"/>
    <g class="vertices"/>
    <g class="arrowheads"/>
    <g class="tools"/>
  `)}a.getEdgeMarkup=e;function t(){return a.sanitize(`
    <g class="edge-tool">
      <g class="tool-remove" event="edge:remove">
        <circle r="11" />
        <path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />
        <title>Remove edge.</title>
      </g>
      <g class="tool-options" event="edge:options">
        <circle r="11" transform="translate(25)"/>
        <path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>
        <title>Edge options.</title>
      </g>
    </g>
  `)}a.getEdgeToolMarkup=t;function r(){return a.sanitize(`
    <g class="vertex-group" transform="translate(<%= x %>, <%= y %>)">
      <circle class="vertex" data-index="<%= index %>" r="10" />
      <path class="vertex-remove-area" data-index="<%= index %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>
      <path class="vertex-remove" data-index="<%= index %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">
      <title>Remove vertex.</title>
      </path>
    </g>
  `)}a.getEdgeVertexMarkup=r;function s(){return a.sanitize(`
    <g class="arrowhead-group arrowhead-group-<%= end %>">
      <path class="arrowhead" data-terminal="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />
    </g>
  `)}a.getEdgeArrowheadMarkup=s}(Ua||(Ua={})),function(a){function e(t=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:hc.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:hc.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:t?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}a.getForeignObjectMarkup=e}(Ua||(Ua={}));class Vx{constructor(e){this.view=e}get cell(){return this.view.cell}getDefinition(e){return this.cell.getAttrDefinition(e)}processAttrs(e,t){let r,s,h,g,y;const E=[];return Object.keys(t).forEach(D=>{const V=t[D],$=this.getDefinition(D),J=fs(Ug.isValidDefinition,this.view,$,V,{elem:e,attrs:t,cell:this.cell,view:this.view});if($&&J)typeof $=="string"?(r==null&&(r={}),r[$]=V):V!==null&&E.push({name:D,definition:$});else{r==null&&(r={});const de=db.includes(D)?D:fv(D);r[de]=V}}),E.forEach(({name:D,definition:V})=>{const $=t[D];typeof V.set=="function"&&(!kg(e)&&Vx.DELAY_ATTRS.includes(D)?(y==null&&(y={}),y[D]=$):(s==null&&(s={}),s[D]=$)),typeof V.offset=="function"&&(h==null&&(h={}),h[D]=$),typeof V.position=="function"&&(g==null&&(g={}),g[D]=$)}),{raw:t,normal:r,set:s,offset:h,position:g,delay:y}}mergeProcessedAttrs(e,t){e.set=Object.assign(Object.assign({},e.set),t.set),e.position=Object.assign(Object.assign({},e.position),t.position),e.offset=Object.assign(Object.assign({},e.offset),t.offset);const r=e.normal&&e.normal.transform;r!=null&&t.normal&&(t.normal.transform=r),e.normal=t.normal}findAttrs(e,t,r,s){const h=[],g=new qw;return Object.keys(e).forEach(y=>{const E=e[y];if(!Fl(E))return;const{isCSSSelector:D,elems:V}=za.find(y,t,s);r[y]=V;for(let $=0,J=V.length;$<J;$+=1){const de=V[$],Ge=s&&s[y]===de,Qe=g.get(de);if(Qe){Qe.array||(h.push(de),Qe.array=!0,Qe.attrs=[Qe.attrs],Qe.priority=[Qe.priority]);const xt=Qe.attrs,Yt=Qe.priority;if(Ge)xt.unshift(E),Yt.unshift(-1);else{const fn=$s(Yt,D?-1:J);xt.splice(fn,0,E),Yt.splice(fn,0,J)}}else g.set(de,{elem:de,attrs:E,priority:Ge?-1:J,array:!1})}}),h.forEach(y=>{const E=g.get(y),D=E.attrs;E.attrs=D.reduceRight((V,$)=>La(V,$),{})}),g}updateRelativeAttrs(e,t,r,s){const h=t.raw||{};let g=t.normal||{};const y=t.set,E=t.position,D=t.offset,V=t.delay,$=()=>({elem:e,cell:this.cell,view:this.view,attrs:h,refBBox:r.clone()});if(y!=null&&Object.keys(y).forEach(xr=>{const Jr=y[xr],fi=this.getDefinition(xr);if(fi!=null){const Gi=fs(fi.set,this.view,Jr,$());typeof Gi=="object"?g=Object.assign(Object.assign({},g),Gi):Gi!=null&&(g[xr]=Gi)}}),kg(e)){this.view.setAttrs(g,e);return}const J=g.transform,de=J?`${J}`:null,Ge=Pv(de),Qe=new Fn(Ge.e,Ge.f);J&&(delete g.transform,Ge.e=0,Ge.f=0);let xt=1,Yt=1;if(E||D){const xr=this.view.getScaleOfElement(e,s.scalableNode);xt=xr.sx,Yt=xr.sy}let fn=!1;E!=null&&Object.keys(E).forEach(xr=>{const Jr=E[xr],fi=this.getDefinition(xr);if(fi!=null){const Gi=fs(fi.position,this.view,Jr,$());Gi!=null&&(fn=!0,Qe.translate(Fn.create(Gi).scale(xt,Yt)))}}),this.view.setAttrs(g,e);let Xt=!1;if(D!=null){const xr=this.view.getBoundingRectOfElement(e);if(xr.width>0&&xr.height>0){const Jr=Xu(xr,Ge).scale(1/xt,1/Yt);Object.keys(D).forEach(fi=>{const Gi=D[fi],zo=this.getDefinition(fi);if(zo!=null){const vo=fs(zo.offset,this.view,Gi,{elem:e,cell:this.cell,view:this.view,attrs:h,refBBox:Jr});vo!=null&&(Xt=!0,Qe.translate(Fn.create(vo).scale(xt,Yt)))}})}}(J!=null||fn||Xt)&&(Qe.round(1),Ge.e=Qe.x,Ge.f=Qe.y,e.setAttribute("transform",zg(Ge)));const zn=()=>{V!=null&&Object.keys(V).forEach(xr=>{const Jr=V[xr],fi=this.getDefinition(xr);if(fi!=null){const Gi=fs(fi.set,this.view,Jr,$());typeof Gi=="object"?this.view.setAttrs(Gi,e):Gi!=null&&this.view.setAttrs({[xr]:Gi},e)}})};s.forceSync?zn():wb.scheduleTask(zn)}update(e,t,r){const s={},h=this.findAttrs(r.attrs||t,e,s,r.selectors),g=r.attrs?this.findAttrs(t,e,s,r.selectors):h,y=[];h.each(V=>{const $=V.elem,J=V.attrs,de=this.processAttrs($,J);if(de.set==null&&de.position==null&&de.offset==null&&de.delay==null)this.view.setAttrs(de.normal,$);else{const Ge=g.get($),Qe=Ge?Ge.attrs:null,xt=Qe&&J.ref==null?Qe.ref:J.ref;let Yt;if(xt){if(Yt=(s[xt]||this.view.find(xt,e,r.selectors))[0],!Yt)throw new Error(`"${xt}" reference does not exist.`)}else Yt=null;const fn={node:$,refNode:Yt,attributes:Qe,processedAttributes:de},Xt=y.findIndex(zn=>zn.refNode===$);Xt>-1?y.splice(Xt,0,fn):y.push(fn)}});const E=new qw;let D;y.forEach(V=>{const $=V.node,J=V.refNode;let de;const Ge=J!=null&&r.rotatableNode!=null&&i0(r.rotatableNode,J);if(J&&(de=E.get(J)),!de){const fn=Ge?r.rotatableNode:e;de=J?Mc(J,{target:fn}):r.rootBBox,J&&E.set(J,de)}let Qe;r.attrs&&V.attributes?(Qe=this.processAttrs($,V.attributes),this.mergeProcessedAttrs(Qe,V.processedAttributes)):Qe=V.processedAttributes;let xt=de;Ge&&r.rotatableNode!=null&&!r.rotatableNode.contains($)&&(D||(D=Pv(Fa(r.rotatableNode,"transform"))),xt=Xu(de,D)),y.find(fn=>fn.refNode===$)&&(r.forceSync=!0),this.updateRelativeAttrs($,Qe,xt,r)})}}(function(a){a.DELAY_ATTRS=["text","textWrap","sourceMarker","targetMarker"]})(Vx||(Vx={}));class yS{constructor(e,t,r=[]){this.view=e;const s={},h={};let g=0;Object.keys(t).forEach(E=>{let D=t[E];Array.isArray(D)||(D=[D]),D.forEach(V=>{let $=s[V];$||(g+=1,$=s[V]=1<<g),h[E]|=$})});let y=r;if(Array.isArray(y)||(y=[y]),y.forEach(E=>{s[E]||(g+=1,s[E]=1<<g)}),g>25)throw new Error("Maximum number of flags exceeded.");this.flags=s,this.attrs=h,this.bootstrap=r}get cell(){return this.view.cell}getFlag(e){const t=this.flags;return t==null?0:Array.isArray(e)?e.reduce((r,s)=>r|t[s],0):t[e]|0}hasAction(e,t){return e&this.getFlag(t)}removeAction(e,t){return e^e&this.getFlag(t)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let e=0;return this.attrs&&Object.keys(this.attrs).forEach(t=>{this.cell.hasChanged(t)&&(e|=this.attrs[t])}),e}}var n3=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class dc extends za{constructor(e,t={}){super(),this.cell=e,this.options=this.ensureOptions(t),this.graph=this.options.graph,this.attr=new Vx(this),this.flag=new yS(this,this.options.actions,this.options.bootstrap),this.cache=new t3(this),this.setContainer(this.ensureContainer()),this.setup(),this.$(this.container).data("view",this),this.init()}static getDefaults(){return this.defaults}static config(e){this.defaults=this.getOptions(e)}static getOptions(e){const t=(D,V)=>V!=null?Ns([...Array.isArray(D)?D:[D],...Array.isArray(V)?V:[V]]):Array.isArray(D)?[...D]:[D],r=Ss(this.getDefaults()),{bootstrap:s,actions:h,events:g,documentEvents:y}=e,E=n3(e,["bootstrap","actions","events","documentEvents"]);return s&&(r.bootstrap=t(r.bootstrap,s)),h&&Object.keys(h).forEach(D=>{const V=h[D],$=r.actions[D];V&&$?r.actions[D]=t($,V):V&&(r.actions[D]=t(V))}),g&&(r.events=Object.assign(Object.assign({},r.events),g)),e.documentEvents&&(r.documentEvents=Object.assign(Object.assign({},r.documentEvents),y)),La(r,E)}get[Symbol.toStringTag](){return dc.toStringTag}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(e){return this.getConstructor().getOptions(e)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return za.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(e){if(this.container!==e){this.undelegateEvents(),this.container=e,this.options.events!=null&&this.delegateEvents(this.options.events);const t=this.getContainerAttrs();t!=null&&this.setAttrs(t,e);const r=this.getContainerStyle();r!=null&&this.setStyle(r,e);const s=this.getContainerClassName();s!=null&&this.addClass(s,e)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(e,t={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(e){return this.flag.getFlag(e)}hasAction(e,t){return this.flag.hasAction(e,t)}removeAction(e,t){return this.flag.removeAction(e,t)}handleAction(e,t,r,s){if(this.hasAction(e,t)){r();const h=[t];return s&&(typeof s=="string"?h.push(s):h.push(...s)),this.removeAction(e,h)}return e}setup(){this.cell.on("changed",({options:e})=>this.onAttrsChange(e))}onAttrsChange(e){let t=this.flag.getChangedFlag();e.updated||!t||(e.dirty&&this.hasAction(t,"update")&&(t|=this.getFlag("render")),e.toolId&&(e.async=!1),this.graph!=null&&this.graph.renderer.requestViewUpdate(this,t,this.priority,e))}parseJSONMarkup(e,t){const r=Ua.parseJSONMarkup(e),s=r.selectors,h=this.rootSelector;if(t&&h){if(s[h])throw new Error("Invalid root selector");s[h]=t}return r}can(e){let t=this.graph.options.interacting;if(typeof t=="function"&&(t=fs(t,this.graph,this)),typeof t=="object"){let r=t[e];return typeof r=="function"&&(r=fs(r,this.graph,this)),r!==!1}return typeof t=="boolean"?t:!1}cleanCache(){return this.cache.clean(),this}getCache(e){return this.cache.get(e)}getDataOfElement(e){return this.cache.getData(e)}getMatrixOfElement(e){return this.cache.getMatrix(e)}getShapeOfElement(e){return this.cache.getShape(e)}getScaleOfElement(e,t){let r,s;if(t&&t.contains(e)){const h=_p(t);r=1/h.sx,s=1/h.sy}else r=1,s=1;return{sx:r,sy:s}}getBoundingRectOfElement(e){return this.cache.getBoundingRect(e)}getBBoxOfElement(e){const t=this.getBoundingRectOfElement(e),r=this.getMatrixOfElement(e),s=this.getRootRotatedMatrix(),h=this.getRootTranslatedMatrix();return Xu(t,h.multiply(s).multiply(r))}getUnrotatedBBoxOfElement(e){const t=this.getBoundingRectOfElement(e),r=this.getMatrixOfElement(e),s=this.getRootTranslatedMatrix();return Xu(t,s.multiply(r))}getBBox(e={}){let t;if(e.useCellGeometry){const r=this.cell,s=r.isNode()?r.getAngle():0;t=r.getBBox().bbox(s)}else t=this.getBBoxOfElement(this.container);return this.graph.localToGraph(t)}getRootTranslatedMatrix(){const e=this.cell,t=e.isNode()?e.getPosition():{x:0,y:0};return Ac().translate(t.x,t.y)}getRootRotatedMatrix(){let e=Ac();const t=this.cell,r=t.isNode()?t.getAngle():0;if(r){const s=t.getBBox(),h=s.width/2,g=s.height/2;e=e.translate(h,g).rotate(r).translate(-h,-g)}return e}findMagnet(e=this.container){return this.findByAttr("magnet",e)}updateAttrs(e,t,r={}){r.rootBBox==null&&(r.rootBBox=new Ao),r.selectors==null&&(r.selectors=this.selectors),this.attr.update(e,t,r)}isEdgeElement(e){return this.cell.isEdge()&&(e==null||e===this.container)}prepareHighlight(e,t={}){const r=e&&this.$(e)[0]||this.container;return t.partial=r===this.container,r}highlight(e,t={}){const r=this.prepareHighlight(e,t);return this.notify("cell:highlight",{magnet:r,options:t,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:r,options:t,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:r,options:t,view:this,node:this.cell,cell:this.cell}),this}unhighlight(e,t={}){const r=this.prepareHighlight(e,t);return this.notify("cell:unhighlight",{magnet:r,options:t,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:r,options:t,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:r,options:t,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(e,t){}getEdgeTerminal(e,t,r,s,h){const g=this.cell,y=this.findAttr("port",e),E=e.getAttribute("data-selector"),D={cell:g.id};return E!=null&&(D.magnet=E),y!=null?(D.port=y,g.isNode()&&!g.hasPort(y)&&E==null&&(D.selector=this.getSelector(e))):E==null&&this.container!==e&&(D.selector=this.getSelector(e)),this.customizeEdgeTerminal(D,e,t,r,s,h)}customizeEdgeTerminal(e,t,r,s,h,g){const y=h.getStrategy()||this.graph.options.connecting.strategy;if(y){const E=typeof y=="string"?y:y.name,D=typeof y=="string"?{}:y.args||{},V=q1.registry;if(E){const $=V.get(E);if($==null)return V.onNotFound(E);const J=fs($,this.graph,e,this,t,new Fn(r,s),h,g,D);if(J)return J}}return e}getMagnetFromEdgeTerminal(e){const t=this.cell,r=this.container,s=e.port;let h=e.magnet,g;return s!=null&&t.isNode()&&t.hasPort(s)?g=this.findPortElem(s,h)||r:(h||(h=e.selector),!h&&s!=null&&(h=`[port="${s}"]`),g=this.findOne(h,r,this.selectors)),g}animate(e,t){const r=typeof e=="string"?this.findOne(e):e;if(r==null)throw new Error("Invalid animation element.");const s=r.parentNode,h=()=>{s||Ch(r)},g=co.create(r);s||g.appendTo(this.graph.view.stage);const y=t.complete;return t.complete=E=>{h(),y&&y(E)},g.animate(t)}animateTransform(e,t){const r=typeof e=="string"?this.findOne(e):e;if(r==null)throw new Error("Invalid animation element.");const s=r.parentNode,h=()=>{s||Ch(r)},g=co.create(r);s||g.appendTo(this.graph.view.stage);const y=t.complete;return t.complete=E=>{h(),y&&y(E)},g.animateTransform(t)}hasTools(e){const t=this.tools;return t==null?!1:e==null?!0:t.name===e}addTools(e){if(!this.can("toolsAddable"))return this;if(this.removeTools(),e){const t=mu.isToolsView(e)?e:new mu(e);this.tools=t,this.graph.on("tools:hide",this.hideTools,this),this.graph.on("tools:show",this.showTools,this),this.graph.on("tools:remove",this.removeTools,this),t.config({view:this}),t.mount()}return this}updateTools(e={}){return this.tools&&this.tools.update(e),this}removeTools(){return this.tools&&(this.tools.remove(),this.graph.off("tools:hide",this.hideTools,this),this.graph.off("tools:show",this.showTools,this),this.graph.off("tools:remove",this.removeTools,this),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const e=this.cell.getTools();return this.addTools(e),this}notify(e,t){return this.trigger(e,t),this.graph.trigger(e,t),this}getEventArgs(e,t,r){const s=this,h=s.cell;return t==null||r==null?{e,view:s,cell:h}:{e,x:t,y:r,view:s,cell:h}}onClick(e,t,r){this.notify("cell:click",this.getEventArgs(e,t,r))}onDblClick(e,t,r){this.notify("cell:dblclick",this.getEventArgs(e,t,r))}onContextMenu(e,t,r){this.notify("cell:contextmenu",this.getEventArgs(e,t,r))}onMouseDown(e,t,r){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(e,t,r))}onMouseUp(e,t,r){this.notify("cell:mouseup",this.getEventArgs(e,t,r)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(e,t,r){this.notify("cell:mousemove",this.getEventArgs(e,t,r))}onMouseOver(e){this.notify("cell:mouseover",this.getEventArgs(e))}onMouseOut(e){this.notify("cell:mouseout",this.getEventArgs(e))}onMouseEnter(e){this.notify("cell:mouseenter",this.getEventArgs(e))}onMouseLeave(e){this.notify("cell:mouseleave",this.getEventArgs(e))}onMouseWheel(e,t,r,s){this.notify("cell:mousewheel",Object.assign({delta:s},this.getEventArgs(e,t,r)))}onCustomEvent(e,t,r,s){this.notify("cell:customevent",Object.assign({name:t},this.getEventArgs(e,r,s))),this.notify(t,Object.assign({},this.getEventArgs(e,r,s)))}onMagnetMouseDown(e,t,r,s){}onMagnetDblClick(e,t,r,s){}onMagnetContextMenu(e,t,r,s){}onLabelMouseDown(e,t,r){}checkMouseleave(e){const t=this.graph;t.renderer.isAsync()&&t.renderer.dumpView(this);const r=this.getEventTarget(e,{fromPoint:!0}),s=t.renderer.findViewByElem(r);s!==this&&(this.onMouseLeave(e),s&&s.onMouseEnter(e))}}dc.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}},function(a){a.Flag=yS,a.Attr=Vx}(dc||(dc={})),function(a){a.toStringTag=`X6.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;return(r==null||r===a.toStringTag)&&typeof s.isNodeView=="function"&&typeof s.isEdgeView=="function"&&typeof s.confirmUpdate=="function"}a.isCellView=e}(dc||(dc={})),function(a){function e(r){return function(s){s.config({priority:r})}}a.priority=e;function t(r){return function(s){s.config({bootstrap:r})}}a.bootstrap=t}(dc||(dc={})),function(a){a.registry=oc.create({type:"view"})}(dc||(dc={}));class mu extends za{constructor(e={}){super(),this.svgContainer=this.createContainer(!0,e),this.htmlContainer=this.createContainer(!1,e),this.config(e)}get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return mu.toStringTag}createContainer(e,t){const r=e?za.createElement("g",!0):za.createElement("div",!1);return ja(r,this.prefixClassName("cell-tools")),t.className&&ja(r,t.className),r}config(e){if(this.options=Object.assign(Object.assign({},this.options),e),!dc.isCellView(e.view)||e.view===this.cellView)return this;this.cellView=e.view,this.cell.isEdge()?(ja(this.svgContainer,this.prefixClassName("edge-tools")),ja(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(ja(this.svgContainer,this.prefixClassName("node-tools")),ja(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const t=this.options.items;if(!Array.isArray(t))return this;this.tools=[];const r=[];t.forEach(s=>{mu.ToolItem.isToolItem(s)?s.name==="vertices"?r.unshift(s):r.push(s):(typeof s=="object"?s.name:s)==="vertices"?r.unshift(s):r.push(s)});for(let s=0;s<r.length;s+=1){const h=r[s];let g;if(mu.ToolItem.isToolItem(h))g=h;else{const y=typeof h=="object"?h.name:h,E=typeof h=="object"?h.args||{}:{};if(y){if(this.cell.isNode()){const D=Q1.registry.get(y);if(D)g=new D(E);else return Q1.registry.onNotFound(y)}else if(this.cell.isEdge()){const D=e2.registry.get(y);if(D)g=new D(E);else return e2.registry.onNotFound(y)}}}g&&(g.config(this.cellView,this),g.render(),(g.options.isSVGElement!==!1?this.svgContainer:this.htmlContainer).appendChild(g.container),this.tools.push(g))}return this}update(e={}){const t=this.tools;return t&&t.forEach(r=>{e.toolId!==r.cid&&r.isVisible()&&r.update()}),this}focus(e){const t=this.tools;return t&&t.forEach(r=>{e===r?r.show():r.hide()}),this}blur(e){const t=this.tools;return t&&t.forEach(r=>{r!==e&&!r.isVisible()&&(r.show(),r.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const e=this.tools;return e&&(e.forEach(t=>t.remove()),this.tools=null),Ch(this.svgContainer),Ch(this.htmlContainer),super.remove()}mount(){const e=this.tools,t=this.cellView;if(t&&e){const r=e.some(h=>h.options.isSVGElement!==!1),s=e.some(h=>h.options.isSVGElement===!1);r&&(this.options.local?t.container:t.graph.view.decorator).appendChild(this.svgContainer),s&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(a){a.toStringTag=`X6.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;return(r==null||r===a.toStringTag)&&s.graph!=null&&s.cell!=null&&typeof s.config=="function"&&typeof s.update=="function"&&typeof s.focus=="function"&&typeof s.blur=="function"&&typeof s.show=="function"&&typeof s.hide=="function"}a.isToolsView=e})(mu||(mu={})),function(a){class e extends za{constructor(r={}){super(),this.visible=!0,this.options=this.getOptions(r),this.container=za.createElement(this.options.tagName||"g",this.options.isSVGElement!==!1),ja(this.container,this.prefixClassName("cell-tool")),typeof this.options.className=="string"&&ja(this.container,this.options.className),this.init()}static getDefaults(){return this.defaults}static config(r){this.defaults=this.getOptions(r)}static getOptions(r){return La(Ss(this.getDefaults()),r)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return e.toStringTag}init(){}getOptions(r){return this.constructor.getOptions(r)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(r,s){return this.cellView=r,this.parent=s,this.stamp(this.container),this.cell.isEdge()?ja(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&ja(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const r=this.options.markup;if(r){const s=Ua.isStringMarkup(r)?Ua.parseStringMarkup(r):Ua.parseJSONMarkup(r);this.container.appendChild(s.fragment),this.childNodes=s.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(r){r&&r.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return!!this.visible}focus(){const r=this.options.focusOpacity;return r!=null&&Number.isFinite(r)&&(this.container.style.opacity=`${r}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(r){return this.graph==null||this.cellView==null?!0:this.graph.view.guard(r,this.cellView)}}e.defaults={isSVGElement:!0,tagName:"g"},a.ToolItem=e,function(t){let r=0;function s(g){return g?qy(g):(r+=1,`CustomTool${r}`)}function h(g){const y=lp(s(g.name),this);return y.config(g),y}t.define=h}(e=a.ToolItem||(a.ToolItem={})),function(t){t.toStringTag=`X6.${t.name}`;function r(s){if(s==null)return!1;if(s instanceof t)return!0;const h=s[Symbol.toStringTag],g=s;return(h==null||h===t.toStringTag)&&g.graph!=null&&g.cell!=null&&typeof g.config=="function"&&typeof g.update=="function"&&typeof g.focus=="function"&&typeof g.blur=="function"&&typeof g.show=="function"&&typeof g.hide=="function"&&typeof g.isVisible=="function"}t.isToolItem=r}(e=a.ToolItem||(a.ToolItem={}))}(mu||(mu={}));function bS(a,e,t,r){return fs(q1.presets.pinRelative,this.graph,{},e,t,a,this.cell,r,{}).anchor}function xS(a,e){return e?a.cell.getBBox():a.cell.isEdge()?a.getConnection().bbox():a.getUnrotatedBBoxOfElement(a.container)}class Pb extends mu.ToolItem{onRender(){ja(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const t=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();Iv(this.container,t,{absolute:!0})}getNodeMatrix(){const e=this.cellView,t=this.options;let{x:r=0,y:s=0}=t;const{offset:h,useCellGeometry:g,rotate:y}=t;let E=xS(e,g);const D=e.cell.getAngle();y||(E=E.bbox(D));let V=0,$=0;typeof h=="number"?(V=h,$=h):typeof h=="object"&&(V=h.x,$=h.y),r=Ku(r,E.width),s=Ku(s,E.height);let J=Ac().translate(E.x+E.width/2,E.y+E.height/2);return y&&(J=J.rotate(D)),J=J.translate(r+V-E.width/2,s+$-E.height/2),J}getEdgeMatrix(){const e=this.cellView,t=this.options,{offset:r=0,distance:s=0,rotate:h}=t;let g,y,E;const D=Ku(s,1);D>=0&&D<=1?g=e.getTangentAtRatio(D):g=e.getTangentAtLength(D),g?(y=g.start,E=g.vector().vectorAngle(new Fn(1,0))||0):(y=e.getConnection().start,E=0);let V=Ac().translate(y.x,y.y).rotate(E);return typeof r=="object"?V=V.translate(r.x||0,r.y||0):V=V.translate(0,r),h||(V=V.rotate(-E)),V}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const t=this.options.onClick;typeof t=="function"&&fs(t,this.cellView,{e,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(a){a.config({name:"button",events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(Pb||(Pb={})),function(a){a.Remove=a.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,onClick({view:e,btn:t}){t.parent.remove(),e.cell.remove({ui:!0,toolId:t.cid})}})}(Pb||(Pb={}));var r3=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class Qw extends mu.ToolItem{onRender(){if(ja(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const e=this.options.attrs,{class:t}=e,r=r3(e,["class"]);Fa(this.container,Fg(r)),t&&ja(this.container,t)}this.update()}update(){const e=this.cellView,t=this.options,{useCellGeometry:r,rotate:s}=t,h=fc(t.padding);let g=xS(e,r).moveAndExpand({x:-h.left,y:-h.top,width:h.left+h.right,height:h.top+h.bottom});const y=e.cell;if(y.isNode()){const E=y.getAngle();if(E)if(s){const D=y.getBBox().getCenter();Nx(this.container,E,D.x,D.y,{absolute:!0})}else g=g.bbox(E)}return Fa(this.container,g.toJSON()),this}}(function(a){a.config({name:"boundary",tagName:"rect",padding:10,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})})(Qw||(Qw={}));class lw extends mu.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(t=>{this.stopHandleListening(t),t.remove()})}renderHandles(){const e=this.vertices;for(let t=0,r=e.length;t<r;t+=1){const s=e[t],h=this.options.createHandle,g=this.options.processHandle,y=h({index:t,graph:this.graph,guard:E=>this.guard(E),attrs:this.options.attrs||{}});g&&g(y),this.graph.hook.onToolItemCreated({name:"vertices",cell:this.cell,view:this.cellView,tool:y}),y.updatePosition(s.x,s.y),this.stamp(y.container),this.container.appendChild(y.container),this.handles.push(y),this.startHandleListening(y)}}updateHandles(){const e=this.vertices;for(let t=0,r=e.length;t<r;t+=1){const s=e[t],h=this.handles[t];h&&h.updatePosition(s.x,s.y)}}updatePath(){const e=this.childNodes.connection;e&&e.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(e){const t=this.cellView;t.can("vertexMovable")&&(e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)),t.can("vertexDeletable")&&e.on("remove",this.onHandleRemove,this)}stopHandleListening(e){const t=this.cellView;t.can("vertexMovable")&&(e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)),t.can("vertexDeletable")&&e.off("remove",this.onHandleRemove,this)}getNeighborPoints(e){const t=this.cellView,r=this.vertices,s=e>0?r[e-1]:t.sourceAnchor,h=e<r.length-1?r[e+1]:t.targetAnchor;return{prev:Fn.create(s),next:Fn.create(h)}}getMouseEventArgs(e){const t=this.normalizeEvent(e),{x:r,y:s}=this.graph.snapToGrid(t.clientX,t.clientY);return{e:t,x:r,y:s}}onHandleChange({e}){this.focus();const t=this.cellView;if(t.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:r,x:s,y:h}=this.getMouseEventArgs(e);t.notifyMouseDown(r,s,h)}}onHandleChanging({handle:e,e:t}){const r=this.cellView,s=e.options.index,{e:h,x:g,y}=this.getMouseEventArgs(t),E={x:g,y};this.snapVertex(E,s),r.cell.setVertexAt(s,E,{ui:!0,toolId:this.cid}),e.updatePosition(E.x,E.y),this.options.stopPropagation||r.notifyMouseMove(h,g,y)}onHandleChanged({e}){const t=this.options,r=this.cellView;if(t.addable&&this.updatePath(),!t.removeRedundancies)return;r.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),r.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),this.eventData(e).vertexAdded&&r.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid});const{e:h,x:g,y}=this.getMouseEventArgs(e);this.options.stopPropagation||r.notifyMouseUp(h,g,y),r.checkMouseleave(h),t.onChanged&&t.onChanged({edge:r.cell,edgeView:r})}snapVertex(e,t){const r=this.options.snapRadius||0;if(r>0){const s=this.getNeighborPoints(t),h=s.prev,g=s.next;Math.abs(e.x-h.x)<r?e.x=h.x:Math.abs(e.x-g.x)<r&&(e.x=g.x),Math.abs(e.y-h.y)<r?e.y=s.prev.y:Math.abs(e.y-g.y)<r&&(e.y=g.y)}}onHandleRemove({handle:e,e:t}){if(this.options.removable){const r=e.options.index,s=this.cellView;s.cell.removeVertexAt(r,{ui:!0}),this.options.addable&&this.updatePath(),s.checkMouseleave(this.normalizeEvent(t))}}onPathMouseDown(e){const t=this.cellView;if(this.guard(e)||!this.options.addable||!t.can("vertexAddable"))return;e.stopPropagation(),e.preventDefault();const r=this.normalizeEvent(e),s=this.graph.snapToGrid(r.clientX,r.clientY).toJSON();t.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const h=t.getVertexIndex(s.x,s.y);this.snapVertex(s,h),t.cell.insertVertex(s,h,{ui:!0,toolId:this.cid}),this.render();const g=this.handles[h];this.eventData(r,{vertexAdded:!0}),g.onMouseDown(r)}onRemove(){this.resetHandles()}}(function(a){class e extends za{constructor(r){super(),this.options=r,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}get graph(){return this.options.graph}render(){this.container=za.createElement("circle",!0);const r=this.options.attrs;if(typeof r=="function"){const s=a.getDefaults();this.setAttrs(Object.assign(Object.assign({},s.attrs),r(this)))}else this.setAttrs(r);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(r,s){this.setAttrs({cx:r,cy:s})}onMouseDown(r){this.options.guard(r)||(r.stopPropagation(),r.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},r.data),this.emit("change",{e:r,handle:this}))}onMouseMove(r){this.emit("changing",{e:r,handle:this})}onMouseUp(r){this.emit("changed",{e:r,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(r){this.emit("remove",{e:r,handle:this})}}a.Handle=e})(lw||(lw={})),function(a){const e=Fc.prefix("edge-tool-vertex-path");a.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:t=>new a.Handle(t),markup:[{tagName:"path",selector:"connection",className:e,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${e}`]:"onPathMouseDown",[`touchstart .${e}`]:"onPathMouseDown"}})}(lw||(lw={}));class cw extends mu.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){ja(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const e=this.cellView,t=[...this.vertices];this.options.addRoutePoint===!0&&t.length===0&&t.push(...e.routePoints),t.unshift(e.sourcePoint),t.push(e.targetPoint);for(let r=0,s=t.length;r<s-1;r+=1){const h=t[r],g=t[r+1],y=this.renderHandle(h,g,r);this.stamp(y.container),this.handles.push(y)}return this}renderHandle(e,t,r){const s=this.options.createHandle({index:r,graph:this.graph,guard:h=>this.guard(h),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(s),this.graph.hook.onToolItemCreated({name:"segments",cell:this.cell,view:this.cellView,tool:s}),this.updateHandle(s,e,t),this.container.appendChild(s.container),this.startHandleListening(s),s}startHandleListening(e){e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)}stopHandleListening(e){e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(t=>{this.stopHandleListening(t),t.remove()})}shiftHandleIndexes(e){const t=this.handles;for(let r=0,s=t.length;r<s;r+=1)t[r].options.index+=e}resetAnchor(e,t){const r=this.cellView.cell,s={ui:!0,toolId:this.cid};t?r.prop([e,"anchor"],t,s):r.removeProp([e,"anchor"],s)}snapHandle(e,t,r){const s=e.options.axis,h=e.options.index,E=this.cellView.cell.getVertices(),D=E[h-2]||r.sourceAnchor,V=E[h+1]||r.targetAnchor,$=this.options.snapRadius;return Math.abs(t[s]-D[s])<$?t[s]=D[s]:Math.abs(t[s]-V[s])<$&&(t[s]=V[s]),t}onHandleChanging({handle:e,e:t}){const r=this.graph,s=this.options,h=this.cellView,g=s.anchor,y=e.options.axis,E=e.options.index-1,D=this.getEventData(t),V=this.normalizeEvent(t),$=r.snapToGrid(V.clientX,V.clientY),J=this.snapHandle(e,$.clone(),D),de=Ss(this.vertices);let Ge=de[E],Qe=de[E+1];const xt=h.sourceView,Yt=h.sourceBBox;let fn=!1,Xt=!1;if(Ge?E===0?Yt.containsPoint(Ge)?(de.shift(),this.shiftHandleIndexes(-1),fn=!0):(Ge[y]=J[y],Xt=!0):Ge[y]=J[y]:(Ge=h.sourceAnchor.toJSON(),Ge[y]=J[y],Yt.containsPoint(Ge)?fn=!0:(de.unshift(Ge),this.shiftHandleIndexes(1),Xt=!0)),typeof g=="function"&&xt){if(fn){const Gi=D.sourceAnchor.clone();Gi[y]=J[y];const zo=fs(g,h,Gi,xt,h.sourceMagnet||xt.container,"source",h,this);this.resetAnchor("source",zo)}Xt&&this.resetAnchor("source",D.sourceAnchorDef)}const zn=h.targetView,xr=h.targetBBox;let Jr=!1,fi=!1;if(Qe?E===de.length-2?xr.containsPoint(Qe)?(de.pop(),Jr=!0):(Qe[y]=J[y],fi=!0):Qe[y]=J[y]:(Qe=h.targetAnchor.toJSON(),Qe[y]=J[y],xr.containsPoint(Qe)?Jr=!0:(de.push(Qe),fi=!0)),typeof g=="function"&&zn){if(Jr){const Gi=D.targetAnchor.clone();Gi[y]=J[y];const zo=fs(g,h,Gi,zn,h.targetMagnet||zn.container,"target",h,this);this.resetAnchor("target",zo)}fi&&this.resetAnchor("target",D.targetAnchorDef)}Fn.equalPoints(de,this.vertices)||this.cellView.cell.setVertices(de,{ui:!0,toolId:this.cid}),this.updateHandle(e,Ge,Qe,0),s.stopPropagation||h.notifyMouseMove(V,$.x,$.y)}onHandleChange({handle:e,e:t}){const r=this.options,s=this.handles,h=this.cellView,g=e.options.index;if(Array.isArray(s)){for(let y=0,E=s.length;y<E;y+=1)y!==g&&s[y].hide();if(this.focus(),this.setEventData(t,{sourceAnchor:h.sourceAnchor.clone(),targetAnchor:h.targetAnchor.clone(),sourceAnchorDef:Ss(this.cell.prop(["source","anchor"])),targetAnchorDef:Ss(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!r.stopPropagation){const y=this.normalizeEvent(t),E=this.graph.snapToGrid(y.clientX,y.clientY);h.notifyMouseDown(y,E.x,E.y)}}}onHandleChanged({e}){const t=this.options,r=this.cellView;t.removeRedundancies&&r.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const s=this.normalizeEvent(e),h=this.graph.snapToGrid(s.clientX,s.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),t.stopPropagation||r.notifyMouseUp(s,h.x,h.y),r.checkMouseleave(s),t.onChanged&&t.onChanged({edge:r.cell,edgeView:r})}updateHandle(e,t,r,s=0){const h=this.options.precision||0,g=Math.abs(t.x-r.x)<h,y=Math.abs(t.y-r.y)<h;if(g||y){const E=new u(t,r);if(E.length()<this.options.threshold)e.hide();else{const V=E.getCenter(),$=g?"x":"y";V[$]+=s||0;const J=E.vector().vectorAngle(new Fn(1,0));e.updatePosition(V.x,V.y,J,this.cellView),e.show(),e.options.axis=$}}else e.hide()}onRemove(){this.resetHandles()}}(function(a){class e extends za{constructor(r){super(),this.options=r,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=za.createElement("rect",!0);const r=this.options.attrs;if(typeof r=="function"){const s=a.getDefaults();this.setAttrs(Object.assign(Object.assign({},s.attrs),r(this)))}else this.setAttrs(r);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(r,s,h,g){const y=g.getClosestPoint(new Fn(r,s))||new Fn(r,s);let E=Ac().translate(y.x,y.y);if(y.equals({x:r,y:s}))E=E.rotate(h);else{let V=new u(r,s,y.x,y.y).vector().vectorAngle(new Fn(1,0));V!==0&&(V+=90),E=E.rotate(V)}this.setAttrs({transform:zg(E),cursor:h%180===0?"row-resize":"col-resize"})}onMouseDown(r){this.options.guard(r)||(this.trigger("change",{e:r,handle:this}),r.stopPropagation(),r.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},r.data))}onMouseMove(r){this.emit("changing",{e:r,handle:this})}onMouseUp(r){this.emit("changed",{e:r,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}a.Handle=e})(cw||(cw={})),function(a){a.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:e=>new a.Handle(e),anchor:bS,addRoutePoint:!1})}(cw||(cw={}));class eE extends mu.ToolItem{get type(){return this.options.type}onRender(){ja(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){const e=this.type;return this.cellView.getTerminalView(e)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const e=this.childNodes;if(!e)return;const t=e.anchor;if(!t)return;const r=this.type,s=this.cellView,h=this.options,g=s.getTerminalAnchor(r),y=s.cell.prop([r,"anchor"]);t.setAttribute("transform",`translate(${g.x}, ${g.y})`);const E=y?h.customAnchorAttrs:h.defaultAnchorAttrs;E&&Object.keys(E).forEach(D=>{t.setAttribute(D,E[D])})}updateArea(){const e=this.childNodes;if(!e)return;const t=e.area;if(!t)return;const r=this.type,s=this.cellView,h=s.getTerminalView(r);if(h){const g=h.cell,y=s.getTerminalMagnet(r);let E=this.options.areaPadding||0;Number.isFinite(E)||(E=0);let D,V,$;h.isEdgeElement(y)?(D=h.getBBox(),V=0,$=D.getCenter()):(D=h.getUnrotatedBBoxOfElement(y),V=g.getAngle(),$=D.getCenter(),V&&$.rotate(-V,g.getBBox().getCenter())),D.inflate(E),Fa(t,{x:-D.width/2,y:-D.height/2,width:D.width,height:D.height,transform:`translate(${$.x}, ${$.y}) rotate(${V})`})}}toggleArea(e){if(this.childNodes){const t=this.childNodes.area;t&&(t.style.display=e?"":"none")}}onMouseDown(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(e){const t=this.type,r=this.cell;e?r.prop([t,"anchor"],e,{rewrite:!0,ui:!0,toolId:this.cid}):r.removeProp([t,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(e){const t=this.type,r=this.cellView,s=r.getTerminalView(t);if(s==null)return;const h=this.normalizeEvent(e),g=s.cell,y=r.getTerminalMagnet(t);let E=this.graph.clientToLocal(h.clientX,h.clientY);const D=this.options.snap;if(typeof D=="function"){const J=fs(D,r,E,s,y,t,r,this);E=Fn.create(J)}if(this.options.restrictArea)if(s.isEdgeElement(y)){const J=s.getClosestPoint(E);J&&(E=J)}else{const J=s.getUnrotatedBBoxOfElement(y),de=g.getAngle(),Ge=g.getBBox().getCenter(),Qe=E.clone().rotate(de,Ge);J.containsPoint(Qe)||(E=J.getNearestPointToPoint(Qe).rotate(-de,Ge))}let V;const $=this.options.anchor;typeof $=="function"&&(V=fs($,r,E,s,y,t,r,this)),this.resetAnchor(V),this.update()}onMouseUp(e){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);const t=this.cellView;this.options.removeRedundancies&&t.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const e=this.options.resetAnchor;e&&this.resetAnchor(e===!0?void 0:e),this.update()}}(function(a){a.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:bS,snap(e,t,r,s,h,g){const y=g.options.snapRadius||0,E=s==="source",D=E?0:-1,V=this.cell.getVertexAt(D)||this.getTerminalAnchor(E?"target":"source");return V&&(Math.abs(V.x-e.x)<y&&(e.x=V.x),Math.abs(V.y-e.y)<y&&(e.y=V.y)),e}})})(eE||(eE={}));const i3=eE.define({name:"source-anchor",type:"source"}),o3=eE.define({name:"target-anchor",type:"target"});var s3=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class tE extends mu.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const e=this.options.attrs,{class:t}=e,r=s3(e,["class"]);this.setAttrs(r,this.container),t&&ja(this.container,t)}}onRender(){ja(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const e=this.ratio,t=this.cellView,r=t.getTangentAtRatio(e),s=r?r.start:t.getPointAtRatio(e),h=r&&r.vector().vectorAngle(new Fn(1,0))||0;if(!s)return this;const g=Ac().translate(s.x,s.y).rotate(h);return Iv(this.container,g,{absolute:!0}),this}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const t=this.cellView;if(t.can("arrowheadMovable")){t.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const r=this.graph.snapToGrid(e.clientX,e.clientY),s=t.prepareArrowheadDragging(this.type,{x:r.x,y:r.y,options:{toolId:this.cid}});this.cellView.setEventData(e,s),this.delegateDocumentEvents(this.options.documentEvents,e.data),t.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(e){const t=this.normalizeEvent(e),r=this.graph.snapToGrid(t.clientX,t.clientY);this.cellView.onMouseMove(t,r.x,r.y),this.update()}onMouseUp(e){this.undelegateDocumentEvents();const t=this.normalizeEvent(e),r=this.cellView,s=this.graph.snapToGrid(t.clientX,t.clientY);r.onMouseUp(t,s.x,s.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",r.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}(function(a){a.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})})(tE||(tE={}));const a3=tE.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),l3=tE.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class Zx extends mu.ToolItem{constructor(){super(...arguments),this.labelIndex=-1,this.distance=.5}render(){return this.createElement(),this.updateEditor(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents),this}createElement(){const{cell:e}=this,t=[this.prefixClassName(`${e.isEdge()?"edge":"node"}-tool-editor`),this.prefixClassName("cell-tool-editor")];this.editor=mu.createElement("div",!1),this.addClass(t,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}updateEditor(){const{graph:e,cell:t,editor:r}=this,s=r.style;let h=new Fn,g=20;if(t.isNode())h=t.getBBox().center,g=t.size().width-4;else if(t.isEdge()){const $=this.options.event,J=$.target,de=J.parentElement;if(de&&_g(de,this.prefixClassName("edge-label"))){const Qe=de.getAttribute("data-index")||"0";this.labelIndex=parseInt(Qe,10);const xt=de.getAttribute("transform"),{translation:Yt}=c0(xt);h=new Fn(Yt.tx,Yt.ty),g=Mc(J).width}else{if(!this.options.labelAddable)return this;h=e.clientToLocal(Fn.create($.clientX,$.clientY));const xt=this.cellView.path.closestPointLength(h);this.distance=xt}}h=e.localToGraph(h),s.left=`${h.x}px`,s.top=`${h.y}px`,s.minWidth=`${g}px`;const y=e.scale();s.transform=`scale(${y.sx}, ${y.sy}) translate(-50%, -50%)`;const E=this.options.attrs;s.fontSize=`${E.fontSize}px`,s.fontFamily=E.fontFamily,s.color=E.color,s.backgroundColor=E.backgroundColor;const D=this.options.getText;let V;return typeof D=="function"&&(V=fs(D,this.cellView,{cell:this.cell,index:this.labelIndex})),r.innerText=V||"",this}onDocumentMouseDown(e){if(e.target!==this.editor){const t=this.cell,r=this.editor.innerText.replace(/\n$/,"")||"",s=this.options.setText;typeof s=="function"&&fs(s,this.cellView,{cell:this.cell,value:r,index:this.labelIndex,distance:this.distance}),t.removeTool(t.isEdge()?"edge-editor":"node-editor"),this.undelegateDocumentEvents()}}onDblClick(e){e.stopPropagation()}onMouseDown(e){e.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor.focus(),this.selectText()})}selectText(){if(window.getSelection){const e=document.createRange(),t=window.getSelection();e.selectNodeContents(this.editor),t.removeAllRanges(),t.addRange(e)}}}(function(a){a.config({tagName:"div",isSVGElement:!1,events:{dblclick:"onDblClick",mousedown:"onMouseDown"},documentEvents:{mousedown:"onDocumentMouseDown"}})})(Zx||(Zx={})),function(a){a.NodeEditor=a.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText({cell:e}){return e.attr("text/text")},setText({cell:e,value:t}){e.attr("text/text",t)}}),a.EdgeEditor=a.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText({cell:e,index:t}){return t===-1?"":e.prop(`labels/${t}/attrs/label/text`)},setText({cell:e,value:t,index:r,distance:s}){const h=e;r===-1?h.appendLabel({position:{distance:s},attrs:{label:{text:t}}}):t?h.prop(`labels/${r}/attrs/label/text`,t):typeof r=="number"&&h.removeLabelAt(r)}})}(Zx||(Zx={}));var CS=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t},Q1;(function(a){a.presets={boundary:Qw,button:Pb,"button-remove":Pb.Remove,"node-editor":Zx.NodeEditor},a.registry=oc.create({type:"node tool",process(e,t){if(typeof t=="function")return t;let r=mu.ToolItem;const{inherit:s}=t,h=CS(t,["inherit"]);if(s){const g=this.get(s);g==null?this.onNotFound(s,"inherited"):r=g}return h.name==null&&(h.name=e),r.define.call(r,h)}}),a.registry.register(a.presets,!0)})(Q1||(Q1={}));var e2;(function(a){a.presets={boundary:Qw,vertices:lw,segments:cw,button:Pb,"button-remove":Pb.Remove,"source-anchor":i3,"target-anchor":o3,"source-arrowhead":a3,"target-arrowhead":l3,"edge-editor":Zx.EdgeEditor},a.registry=oc.create({type:"edge tool",process(e,t){if(typeof t=="function")return t;let r=mu.ToolItem;const{inherit:s}=t,h=CS(t,["inherit"]);if(s){const g=this.get(s);g==null?this.onNotFound(s,"inherited"):r=g}return h.name==null&&(h.name=e),r.define.call(r,h)}}),a.registry.register(a.presets,!0)})(e2||(e2={}));const c3=kv("center"),u3=kv("topCenter"),f3=kv("bottomCenter"),h3=kv("leftMiddle"),d3=kv("rightMiddle"),p3=kv("topLeft"),g3=kv("topRight"),m3=kv("bottomLeft"),v3=kv("bottomRight");function kv(a){return function(e,t,r,s={}){const h=s.rotate?e.getUnrotatedBBoxOfElement(t):e.getBBoxOfElement(t),g=h[a];g.x+=Ku(s.dx,h.width),g.y+=Ku(s.dy,h.height);const y=e.cell;return s.rotate?g.rotate(-y.getAngle(),y.getBBox().getCenter()):g}}function nE(a){return function(e,t,r,s){if(r instanceof Element){const h=this.graph.renderer.findViewByElem(r);let g;if(h)if(h.isEdgeElement(r)){const y=s.fixedAt!=null?s.fixedAt:"50%";g=wS(h,y)}else g=h.getBBoxOfElement(r).getCenter();else g=new Fn;return a.call(this,e,t,g,s)}return a.apply(this,arguments)}}function wS(a,e){const t=Gf(e),r=typeof e=="string"?parseFloat(e):e;return t?a.getPointAtRatio(r/100):a.getPointAtLength(r)}const y3=nE(function(a,e,t,r){const s=a.cell.getAngle(),h=a.getBBoxOfElement(e),g=h.getCenter(),y=h.getTopLeft(),E=h.getBottomRight();let D=r.padding;if(Number.isFinite(D)||(D=0),y.y+D<=t.y&&t.y<=E.y-D){const V=t.y-g.y;g.x+=s===0||s===180?0:V*1/Math.tan(wa.toRad(s)),g.y+=V}else if(y.x+D<=t.x&&t.x<=E.x-D){const V=t.x-g.x;g.y+=s===90||s===270?0:V*Math.tan(wa.toRad(s)),g.x+=V}return g}),b3=function(a,e,t,r,s){const h=a.cell.getConnectionPoint(this.cell,s);return(r.dx||r.dy)&&h.translate(r.dx||0,r.dy||0),h},x3=nE(function(a,e,t,r){let s,h=0,g;const y=a.cell;r.rotate?(s=a.getUnrotatedBBoxOfElement(e),g=y.getBBox().getCenter(),h=y.getAngle()):s=a.getBBoxOfElement(e);const E=r.padding;E!=null&&Number.isFinite(E)&&s.inflate(E),r.rotate&&t.rotate(h,g);const D=s.getNearestSideToPoint(t);let V;switch(D){case"left":V=s.getLeftMiddle();break;case"right":V=s.getRightMiddle();break;case"top":V=s.getTopCenter();break;case"bottom":V=s.getBottomCenter();break;default:break}const $=r.direction;return $==="H"?(D==="top"||D==="bottom")&&(t.x<=s.x+s.width?V=s.getLeftMiddle():V=s.getRightMiddle()):$==="V"&&(t.y<=s.y+s.height?V=s.getTopCenter():V=s.getBottomCenter()),r.rotate?V.rotate(-h,g):V});var t2;(function(a){a.presets=Ze,a.registry=oc.create({type:"node endpoint"}),a.registry.register(a.presets,!0)})(t2||(t2={}));const C3=function(a,e,t,r){let s=r.ratio!=null?r.ratio:.5;return s>1&&(s/=100),a.getPointAtRatio(s)},w3=function(a,e,t,r){const s=r.length!=null?r.length:20;return a.getPointAtLength(s)},ES=function(a,e,t,r){const s=a.getClosestPoint(t);return s!=null?s:new Fn},E3=nE(ES),S3=nE(function(a,e,t,r){const h=a.getConnection(),g=a.getConnectionSubdivisions(),y=new u(t.clone().translate(0,1e6),t.clone().translate(0,-1e6)),E=new u(t.clone().translate(1e6,0),t.clone().translate(-1e6,0)),D=y.intersect(h,{segmentSubdivisions:g}),V=E.intersect(h,{segmentSubdivisions:g}),$=[];return D&&$.push(...D),V&&$.push(...V),$.length>0?t.closest($):r.fallbackAt!=null?wS(a,r.fallbackAt):fs(ES,this,a,e,t,r)});var n2;(function(a){a.presets=fe,a.registry=oc.create({type:"edge endpoint"}),a.registry.register(a.presets,!0)})(n2||(n2={}));function rE(a,e,t){let r;if(typeof t=="object"){if(Number.isFinite(t.y)){const h=new u(e,a),{start:g,end:y}=h.parallel(t.y);e=g,a=y}r=t.x}else r=t;if(r==null||!Number.isFinite(r))return a;const s=a.distance(e);return r===0&&s>0?a:a.move(e,-Math.min(r,s-1))}function iE(a){const e=a.getAttribute("stroke-width");return e===null?0:parseFloat(e)||0}function A3(a){if(a==null)return null;let e=a;do{let t=e.tagName;if(typeof t!="string")return null;if(t=t.toUpperCase(),t==="G")e=e.firstElementChild;else if(t==="TITLE")e=e.nextElementSibling;else break}while(e);return e}const SS=function(a,e,t,r){const s=e.getBBoxOfElement(t);r.stroked&&s.inflate(iE(t)/2);const h=a.intersect(s),g=h&&h.length?a.start.closest(h):a.end;return rE(g,a.start,r.offset)},M3=function(a,e,t,r,s){const h=e.cell,g=h.isNode()?h.getAngle():0;if(g===0)return fs(SS,this,a,e,t,r,s);const y=e.getUnrotatedBBoxOfElement(t);r.stroked&&y.inflate(iE(t)/2);const E=y.getCenter(),D=a.clone().rotate(g,E),V=D.setLength(1e6).intersect(y),$=V&&V.length?D.start.closest(V).rotate(-g,E):a.end;return rE($,a.start,r.offset)},T3=function(a,e,t,r){let s,h;const g=a.end,y=r.selector;if(typeof y=="string"?s=e.findOne(y):Array.isArray(y)?s=up(t,y):s=A3(t),!Sp(s)){if(s===t||!Sp(t))return g;s=t}const E=e.getShapeOfElement(s),D=e.getMatrixOfElement(s),V=e.getRootTranslatedMatrix(),$=e.getRootRotatedMatrix(),J=V.multiply($).multiply(D),de=J.inverse(),Ge=$C(a,de),Qe=Ge.start.clone(),xt=e.getDataOfElement(s);if(r.insideout===!1){xt.shapeBBox==null&&(xt.shapeBBox=E.bbox());const zn=xt.shapeBBox;if(zn!=null&&zn.containsPoint(Qe))return g}r.extrapolate===!0&&Ge.setLength(1e6);let Yt;if(ki.isPath(E)){const zn=r.precision||2;xt.segmentSubdivisions==null&&(xt.segmentSubdivisions=E.getSegmentSubdivisions({precision:zn})),Yt={precision:zn,segmentSubdivisions:xt.segmentSubdivisions},h=Ge.intersect(E,Yt)}else h=Ge.intersect(E);h?Array.isArray(h)&&(h=Qe.closest(h)):r.sticky===!0&&(Ao.isRectangle(E)?h=E.getNearestPointToPoint(Qe):n.isEllipse(E)?h=E.intersectsWithLineFromCenterToPoint(Qe):h=E.closestPoint(Qe,Yt));const fn=h?nd(h,J):g;let Xt=r.offset||0;return r.stroked!==!1&&(typeof Xt=="object"?(Xt=Object.assign({},Xt),Xt.x==null&&(Xt.x=0),Xt.x+=iE(s)/2):Xt+=iE(s)/2),rE(fn,a.start,Xt)};function P3(a,e,t=0){const{start:r,end:s}=a;let h,g,y,E;switch(e){case"left":E="x",h=s,g=r,y=-1;break;case"right":E="x",h=r,g=s,y=1;break;case"top":E="y",h=s,g=r,y=-1;break;case"bottom":E="y",h=r,g=s,y=1;break;default:return}r[E]<s[E]?h[E]=g[E]:g[E]=h[E],Number.isFinite(t)&&(h[E]+=y*t,g[E]+=y*t)}const O3=function(a,e,t,r){const{alignOffset:s,align:h}=r;return h&&P3(a,h,s),rE(a.end,a.start,r.offset)};var r2;(function(a){a.presets=Ce,a.registry=oc.create({type:"connection point"}),a.registry.register(a.presets,!0)})(r2||(r2={}));const I3=function(a){return[...a]},R3=function(a,e,t){const r=e.side||"bottom",s=fc(e.padding||40),h=t.sourceBBox,g=t.targetBBox,y=h.getCenter(),E=g.getCenter();let D,V,$;switch(r){case"top":$=-1,D="y",V="height";break;case"left":$=-1,D="x",V="width";break;case"right":$=1,D="x",V="width";break;case"bottom":default:$=1,D="y",V="height";break}return y[D]+=$*(h[V]/2+s[r]),E[D]+=$*(g[V]/2+s[r]),$*(y[D]-E[D])>0?E[D]=y[D]:y[D]=E[D],[y.toJSON(),...a,E.toJSON()]};function oE(a){return new Ao(a.x,a.y,0,0)}function sE(a={}){const e=fc(a.padding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function AS(a,e={}){return a.sourceBBox.clone().moveAndExpand(sE(e))}function MS(a,e={}){return a.targetBBox.clone().moveAndExpand(sE(e))}function D3(a,e={}){return a.sourceAnchor?a.sourceAnchor:AS(a,e).getCenter()}function N3(a,e={}){return a.targetAnchor?a.targetAnchor:MS(a,e).getCenter()}const TS=function(a,e,t){let r=AS(t,e),s=MS(t,e);const h=D3(t,e),g=N3(t,e);r=r.union(oE(h)),s=s.union(oE(g));const y=a.map(V=>Fn.create(V));y.unshift(h),y.push(g);let E=null;const D=[];for(let V=0,$=y.length-1;V<$;V+=1){let J=null;const de=y[V],Ge=y[V+1],Qe=kp.getBearing(de,Ge)!=null;if(V===0)V+1===$?r.intersectsWithRect(s.clone().inflate(1))?J=kp.insideNode(de,Ge,r,s):Qe||(J=kp.nodeToNode(de,Ge,r,s)):r.containsPoint(Ge)?J=kp.insideNode(de,Ge,r,oE(Ge).moveAndExpand(sE(e))):Qe||(J=kp.nodeToVertex(de,Ge,r));else if(V+1===$){const xt=Qe&&kp.getBearing(Ge,de)===E;s.containsPoint(de)||xt?J=kp.insideNode(de,Ge,oE(de).moveAndExpand(sE(e)),s,E):Qe||(J=kp.vertexToNode(de,Ge,s,E))}else Qe||(J=kp.vertexToVertex(de,Ge,E));J?(D.push(...J.points),E=J.direction):E=kp.getBearing(de,Ge),V+1<$&&D.push(Ge)}return D};var kp;(function(a){const e={N:"S",S:"N",E:"W",W:"E"},t={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function r($,J,de){let Ge=new Fn($.x,J.y);return de.containsPoint(Ge)&&(Ge=new Fn(J.x,$.y)),Ge}function s($,J){return $[J==="W"||J==="E"?"width":"height"]}a.getBBoxSize=s;function h($,J){return $.x===J.x?$.y>J.y?"N":"S":$.y===J.y?$.x>J.x?"W":"E":null}a.getBearing=h;function g($,J,de){const Ge=new Fn($.x,J.y),Qe=new Fn(J.x,$.y),xt=h($,Ge),Yt=h($,Qe),fn=de?e[de]:null,Xt=xt===de||xt!==fn&&(Yt===fn||Yt!==de)?Ge:Qe;return{points:[Xt],direction:h(Xt,J)}}a.vertexToVertex=g;function y($,J,de){const Ge=r($,J,de);return{points:[Ge],direction:h(Ge,J)}}a.nodeToVertex=y;function E($,J,de,Ge){const Qe=[new Fn($.x,J.y),new Fn(J.x,$.y)],xt=Qe.filter(Xt=>!de.containsPoint(Xt)),Yt=xt.filter(Xt=>h(Xt,$)!==Ge);let fn;if(Yt.length>0)return fn=Yt.filter(Xt=>h($,Xt)===Ge).pop(),fn=fn||Yt[0],{points:[fn],direction:h(fn,J)};{fn=ho(Qe,xt)[0];const Xt=Fn.create(J).move(fn,-s(de,Ge)/2);return{points:[r(Xt,$,de),Xt],direction:h(Xt,J)}}}a.vertexToNode=E;function D($,J,de,Ge){let Qe=y(J,$,Ge);const xt=Qe.points[0];if(de.containsPoint(xt)){Qe=y($,J,de);const Yt=Qe.points[0];if(Ge.containsPoint(Yt)){const fn=Fn.create($).move(Yt,-s(de,h($,Yt))/2),Xt=Fn.create(J).move(xt,-s(Ge,h(J,xt))/2),zn=new u(fn,Xt).getCenter(),xr=y($,zn,de),Jr=g(zn,J,xr.direction);Qe.points=[xr.points[0],Jr.points[0]],Qe.direction=Jr.direction}}return Qe}a.nodeToNode=D;function V($,J,de,Ge,Qe){const xt=de.union(Ge).inflate(1),Yt=xt.getCenter(),fn=Yt.distance(J)>Yt.distance($),Xt=fn?J:$,zn=fn?$:J;let xr,Jr,fi;Qe?(xr=Fn.fromPolar(xt.width+xt.height,t[Qe],Xt),xr=xt.getNearestPointToPoint(xr).move(xr,-1)):xr=xt.getNearestPointToPoint(Xt).move(Xt,1),Jr=r(xr,zn,xt);let Gi;xr.round().equals(Jr.round())?(Jr=Fn.fromPolar(xt.width+xt.height,wa.toRad(xr.theta(Xt))+Math.PI/2,zn),Jr=xt.getNearestPointToPoint(Jr).move(zn,1).round(),fi=r(xr,Jr,xt),Gi=fn?[Jr,fi,xr]:[xr,fi,Jr]):Gi=fn?[Jr,xr]:[xr,Jr];const zo=h(fn?xr:Jr,J);return{points:Gi,direction:zo}}a.insideNode=V})(kp||(kp={}));const _3={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeShapes:[],excludeNodes:[],excludeHiddenNodes:!1,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return Ob(this.step,this)},directions(){const a=Ob(this.step,this),e=Ob(this.cost,this);return[{cost:e,offsetX:a,offsetY:0},{cost:e,offsetX:-a,offsetY:0},{cost:e,offsetX:0,offsetY:a},{cost:e,offsetX:0,offsetY:-a}]},penalties(){const a=Ob(this.step,this);return{0:0,45:a/2,90:a/2}},paddingBox(){const a=Ob(this.step,this);return{x:-a,y:-a,width:2*a,height:2*a}},fallbackRouter:TS,draggingRouter:null};function Ob(a,e){return typeof a=="function"?a.call(e):a}function k3(a){const e=Object.keys(a).reduce((t,r)=>{const s=t;return r==="fallbackRouter"||r==="draggingRouter"||r==="fallbackRoute"?s[r]=a[r]:s[r]=Ob(a[r],a),t},{});if(e.padding){const t=fc(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}return e.directions.forEach(t=>{const r=new Fn(0,0),s=new Fn(t.offsetX,t.offsetY);t.angle=wa.normalize(r.theta(s))}),e}const PS=1,OS=2;class L3{constructor(){this.items=[],this.hash={},this.values={}}add(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=PS,this.values[e]=t;const r=Qd(this.items,e,s=>this.values[s]);this.items.splice(r,0,e)}pop(){const e=this.items.shift();return e&&(this.hash[e]=OS),e}isOpen(e){return this.hash[e]===PS}isClose(e){return this.hash[e]===OS}isEmpty(){return this.items.length===0}}class F3{constructor(e){this.options=e,this.mapGridSize=100,this.map={}}build(e,t){const r=this.options,s=r.excludeTerminals.reduce((D,V)=>{const $=t[V];if($){const J=e.getCell($.cell);J&&D.push(J)}return D},[]);let h=[];const g=e.getCell(t.getSourceCellId());g&&(h=Bc(h,g.getAncestors().map(D=>D.id)));const y=e.getCell(t.getTargetCellId());y&&(h=Bc(h,y.getAncestors().map(D=>D.id)));const E=this.mapGridSize;return e.getNodes().reduce((D,V)=>{const $=V.shape,J=r.excludeShapes,de=$?J.includes($):!1,Ge=s.some(Xt=>Xt.id===V.id),Qe=r.excludeNodes.some(Xt=>typeof Xt=="string"?V.id===Xt:Xt===V),xt=h.includes(V.id),Yt=r.excludeHiddenNodes&&!V.isVisible();if(!(de||Ge||Qe||xt||Yt)){const Xt=V.getBBox().moveAndExpand(r.paddingBox),zn=Xt.getOrigin().snapToGrid(E),xr=Xt.getCorner().snapToGrid(E);for(let Jr=zn.x;Jr<=xr.x;Jr+=E)for(let fi=zn.y;fi<=xr.y;fi+=E){const Gi=new Fn(Jr,fi).toString();D[Gi]==null&&(D[Gi]=[]),D[Gi].push(Xt)}}return D},this.map),this}isAccessible(e){const t=e.clone().snapToGrid(this.mapGridSize).toString(),r=this.map[t];return r?r.every(s=>!s.containsPoint(e)):!0}}function IS(a,e){const t=a.sourceBBox.clone();return e&&e.paddingBox?t.moveAndExpand(e.paddingBox):t}function RS(a,e){const t=a.targetBBox.clone();return e&&e.paddingBox?t.moveAndExpand(e.paddingBox):t}function DS(a,e){return a.sourceAnchor?a.sourceAnchor:IS(a,e).getCenter()}function B3(a,e){return a.targetAnchor?a.targetAnchor:RS(a,e).getCenter()}function GE(a,e,t,r,s){const h=360/t,g=a.theta(z3(a,e,r,s)),y=wa.normalize(g+h/2);return h*Math.floor(y/h)}function z3(a,e,t,r){const s=r.step,h=e.x-a.x,g=e.y-a.y,y=h/t.x,E=g/t.y,D=y*s,V=E*s;return new Fn(a.x+D,a.y+V)}function NS(a,e){const t=Math.abs(a-e);return t>180?360-t:t}function G3(a,e){const t=e.step;return e.directions.forEach(r=>{r.gridOffsetX=r.offsetX/t*a.x,r.gridOffsetY=r.offsetY/t*a.y}),e.directions}function V3(a,e,t){return{source:e.clone(),x:_S(t.x-e.x,a),y:_S(t.y-e.y,a)}}function _S(a,e){if(!a)return e;const t=Math.abs(a),r=Math.round(t/e);if(!r)return t;const s=r*e,g=(t-s)/r;return e+g}function Z3(a,e){const t=e.source,r=Fc.snapToGrid(a.x-t.x,e.x)+t.x,s=Fc.snapToGrid(a.y-t.y,e.y)+t.y;return new Fn(r,s)}function uw(a,e){return a.round(e)}function aE(a,e,t){return uw(Z3(a.clone(),e),t)}function fw(a){return a.toString()}function VE(a){return new Fn(a.x===0?0:Math.abs(a.x)/a.x,a.y===0?0:Math.abs(a.y)/a.y)}function kS(a,e){let t=1/0;for(let r=0,s=e.length;r<s;r+=1){const h=a.manhattanDistance(e[r]);h<t&&(t=h)}return t}function LS(a,e,t,r,s){const h=s.precision,g=s.directionMap,y=a.diff(e.getCenter()),E=Object.keys(g).reduce((D,V)=>{if(t.includes(V)){const $=g[V],J=new Fn(a.x+$.x*(Math.abs(y.x)+e.width),a.y+$.y*(Math.abs(y.y)+e.height)),Ge=new u(a,J).intersect(e)||[];let Qe,xt=null;for(let Yt=0;Yt<Ge.length;Yt+=1){const fn=Ge[Yt],Xt=a.squaredDistance(fn);(Qe==null||Xt>Qe)&&(Qe=Xt,xt=fn)}if(xt){let Yt=aE(xt,r,h);e.containsPoint(Yt)&&(Yt=aE(Yt.translate($.x*r.x,$.y*r.y),r,h)),D.push(Yt)}}return D},[]);return e.containsPoint(a)||E.push(aE(a,r,h)),E}function j3(a,e,t,r,s){const h=[];let g=VE(s.diff(t)),y=fw(t),E=a[y],D;for(;E;){D=e[y];const J=VE(D.diff(E));J.equals(g)||(h.unshift(D),g=J),y=fw(E),E=a[y]}const V=e[y];return VE(V.diff(r)).equals(g)||h.unshift(V),h}function U3(a,e,t,r,s){const h=s.precision;let g,y;Ao.isRectangle(e)?g=uw(DS(a,s).clone(),h):g=uw(e.clone(),h),Ao.isRectangle(t)?y=uw(B3(a,s).clone(),h):y=uw(t.clone(),h);const E=V3(s.step,g,y),D=g,V=y;let $,J;if(Ao.isRectangle(e)?$=LS(D,e,s.startDirections,E,s):$=[D],Ao.isRectangle(t)?J=LS(y,t,s.endDirections,E,s):J=[V],$=$.filter(de=>r.isAccessible(de)),J=J.filter(de=>r.isAccessible(de)),$.length>0&&J.length>0){const de=new L3,Ge={},Qe={},xt={};for(let vo=0,Eo=$.length;vo<Eo;vo+=1){const $o=$[vo],na=fw($o);de.add(na,kS($o,J)),Ge[na]=$o,xt[na]=0}const Yt=s.previousDirectionAngle,fn=Yt===void 0;let Xt,zn;const xr=G3(E,s),Jr=xr.length,fi=J.reduce((vo,Eo)=>{const $o=fw(Eo);return vo.push($o),vo},[]),Gi=Fn.equalPoints($,J);let zo=s.maxLoopCount;for(;!de.isEmpty()&&zo>0;){const vo=de.pop(),Eo=Ge[vo],$o=Qe[vo],na=xt[vo],la=Eo.equals(D),_i=$o==null;let Io;if(_i?fn?la?Io=null:Io=GE(D,Eo,Jr,E,s):Io=Yt:Io=GE($o,Eo,Jr,E,s),!(_i&&Gi)&&fi.indexOf(vo)>=0)return s.previousDirectionAngle=Io,j3(Qe,Ge,Eo,D,V);for(let Pl=0;Pl<Jr;Pl+=1){Xt=xr[Pl];const Ul=Xt.angle;if(zn=NS(Io,Ul),!(fn&&la)&&zn>s.maxDirectionChange)continue;const iu=aE(Eo.clone().translate(Xt.gridOffsetX||0,Xt.gridOffsetY||0),E,h),Pc=fw(iu);if(de.isClose(Pc)||!r.isAccessible(iu))continue;if(fi.indexOf(Pc)>=0&&!iu.equals(V)){const Gv=GE(iu,V,Jr,E,s);if(NS(Ul,Gv)>s.maxDirectionChange)continue}const CE=Xt.cost,wE=la?0:s.penalties[zn],Nb=na+CE+wE;(!de.isOpen(Pc)||Nb<xt[Pc])&&(Ge[Pc]=iu,Qe[Pc]=Eo,xt[Pc]=Nb,de.add(Pc,Nb+kS(iu,J)))}zo-=1}}return s.fallbackRoute?fs(s.fallbackRoute,this,D,V,s):null}const W3=function(a,e,t){const r=k3(e),s=IS(t,r),h=RS(t,r),g=DS(t,r),y=new F3(r).build(t.graph.model,t.cell),E=a.map(de=>Fn.create(de)),D=[];let V=g,$,J;for(let de=0,Ge=E.length;de<=Ge;de+=1){let Qe=null;if($=J||s,J=E[de],J==null){J=h;const Yt=t.cell;if((Yt.getSourceCellId()==null||Yt.getTargetCellId()==null)&&typeof r.draggingRouter=="function"){const Xt=$===s?g:$,zn=J.getOrigin();Qe=fs(r.draggingRouter,t,Xt,zn,r)}}if(Qe==null&&(Qe=U3(t,$,J,y,r)),Qe===null)return console.warn("Unable to execute manhattan algorithm, use orth instead"),fs(r.fallbackRouter,this,a,r,t);const xt=Qe[0];xt&&xt.equals(V)&&Qe.shift(),V=Qe[Qe.length-1]||V,D.push(...Qe)}return D},FS=function(a,e,t){return fs(W3,this,a,Object.assign(Object.assign({},_3),e),t)},$3={maxDirectionChange:45,directions(){const a=Ob(this.step,this),e=Ob(this.cost,this),t=Math.ceil(Math.sqrt(a*a<<1));return[{cost:e,offsetX:a,offsetY:0},{cost:t,offsetX:a,offsetY:a},{cost:e,offsetX:0,offsetY:a},{cost:t,offsetX:-a,offsetY:a},{cost:e,offsetX:-a,offsetY:0},{cost:t,offsetX:-a,offsetY:-a},{cost:e,offsetX:0,offsetY:-a},{cost:t,offsetX:a,offsetY:-a}]},fallbackRoute(a,e,t){const r=a.theta(e),s=[];let h={x:e.x,y:a.y},g={x:a.x,y:e.y};if(r%180>90){const Xt=h;h=g,g=Xt}const y=r%90<45?h:g,E=new u(a,y),D=90*Math.ceil(r/90),V=Fn.fromPolar(E.squaredLength(),wa.toRad(D+135),y),$=new u(e,V),J=E.intersectsWithLine($),de=J||e,Ge=J?de:a,Qe=360/t.directions.length,xt=Ge.theta(e),Yt=wa.normalize(xt+Qe/2),fn=Qe*Math.floor(Yt/Qe);return t.previousDirectionAngle=fn,de&&s.push(de.round()),s.push(e),s}},H3=function(a,e,t){return fs(FS,this,a,Object.assign(Object.assign({},$3),e),t)},K3=function(a,e,t){const r=e.offset||32,s=e.min==null?16:e.min;let h=0,g=e.direction;const y=t.sourceBBox,E=t.targetBBox,D=y.getCenter(),V=E.getCenter();if(typeof r=="number"&&(h=r),g==null){let Yt=E.left-y.right,fn=E.top-y.bottom;Yt>=0&&fn>=0?g=Yt>=fn?"L":"T":Yt<=0&&fn>=0?(Yt=y.left-E.right,Yt>=0?g=Yt>=fn?"R":"T":g="T"):Yt>=0&&fn<=0?(fn=y.top-E.bottom,fn>=0?g=Yt>=fn?"L":"B":g="L"):(Yt=y.left-E.right,fn=y.top-E.bottom,Yt>=0&&fn>=0?g=Yt>=fn?"R":"B":Yt<=0&&fn>=0?g="B":Yt>=0&&fn<=0?g="R":g=Math.abs(Yt)>Math.abs(fn)?"R":"B")}g==="H"?g=V.x-D.x>=0?"L":"R":g==="V"&&(g=V.y-D.y>=0?"T":"B"),r==="center"&&(g==="L"?h=(E.left-y.right)/2:g==="R"?h=(y.left-E.right)/2:g==="T"?h=(E.top-y.bottom)/2:g==="B"&&(h=(y.top-E.bottom)/2));let $,J,de;const Ge=g==="L"||g==="R";if(Ge){if(V.y===D.y)return[...a];de=g==="L"?1:-1,$="x",J="width"}else{if(V.x===D.x)return[...a];de=g==="T"?1:-1,$="y",J="height"}const Qe=D.clone(),xt=V.clone();if(Qe[$]+=de*(y[J]/2+h),xt[$]-=de*(E[J]/2+h),Ge){const Yt=Qe.x,fn=xt.x,Xt=y.width/2+s,zn=E.width/2+s;V.x>D.x?fn<=Yt&&(Qe.x=Math.max(fn,D.x+Xt),xt.x=Math.min(Yt,V.x-zn)):fn>=Yt&&(Qe.x=Math.min(fn,D.x-Xt),xt.x=Math.max(Yt,V.x+zn))}else{const Yt=Qe.y,fn=xt.y,Xt=y.height/2+s,zn=E.height/2+s;V.y>D.y?fn<=Yt&&(Qe.y=Math.max(fn,D.y+Xt),xt.y=Math.min(Yt,V.y-zn)):fn>=Yt&&(Qe.y=Math.min(fn,D.y-Xt),xt.y=Math.max(Yt,V.y+zn))}return[Qe.toJSON(),...a,xt.toJSON()]};function jx(a,e){if(e!=null&&e!==!1){const t=typeof e=="boolean"?0:e;if(t>0){const r=Fn.create(a[1]).move(a[2],t),s=Fn.create(a[1]).move(a[0],t);return[r.toJSON(),...a,s.toJSON()]}{const r=a[1];return[Object.assign({},r),...a,Object.assign({},r)]}}return a}const X3=function(a,e,t){const r=e.width||50,h=(e.height||80)/2,g=e.angle||"auto",y=t.sourceAnchor,E=t.targetAnchor,D=t.sourceBBox,V=t.targetBBox;if(y.equals(E)){const $=Yt=>{const fn=wa.toRad(Yt),Xt=Math.sin(fn),zn=Math.cos(fn),xr=new Fn(y.x+zn*r,y.y+Xt*r),Jr=new Fn(xr.x-zn*h,xr.y-Xt*h),fi=Jr.clone().rotate(-90,xr),Gi=Jr.clone().rotate(90,xr);return[fi.toJSON(),xr.toJSON(),Gi.toJSON()]},J=Yt=>{const fn=y.clone().move(Yt,-1),Xt=new u(fn,Yt);return!D.containsPoint(Yt)&&!D.intersectsWithLine(Xt)},de=[0,90,180,270,45,135,225,315];if(typeof g=="number")return jx($(g),e.merge);const Ge=D.getCenter();if(Ge.equals(y))return jx($(0),e.merge);const Qe=Ge.angleBetween(y,Ge.clone().translate(1,0));let xt=$(Qe);if(J(xt[1]))return jx(xt,e.merge);for(let Yt=1,fn=de.length;Yt<fn;Yt+=1)if(xt=$(Qe+de[Yt]),J(xt[1]))return jx(xt,e.merge);return jx(xt,e.merge)}{const $=new u(y,E);let J=$.parallel(-r),de=J.getCenter(),Ge=J.start.clone().move(J.end,h),Qe=J.end.clone().move(J.start,h);const xt=$.parallel(-1),Yt=new u(xt.start,de),fn=new u(xt.end,de);if((D.containsPoint(de)||V.containsPoint(de)||D.intersectsWithLine(Yt)||D.intersectsWithLine(fn)||V.intersectsWithLine(Yt)||V.intersectsWithLine(fn))&&(J=$.parallel(r),de=J.getCenter(),Ge=J.start.clone().move(J.end,h),Qe=J.end.clone().move(J.start,h)),e.merge){const Xt=new u(y,E),zn=new u(de,Xt.center).setLength(Number.MAX_SAFE_INTEGER),xr=D.intersectsWithLine(zn),Jr=V.intersectsWithLine(zn),fi=xr?Array.isArray(xr)?xr:[xr]:[];Jr&&(Array.isArray(Jr)?fi.push(...Jr):fi.push(Jr));const Gi=Xt.center.closest(fi);Gi?(t.sourceAnchor=Gi.clone(),t.targetAnchor=Gi.clone()):(t.sourceAnchor=Xt.center.clone(),t.targetAnchor=Xt.center.clone())}return jx([Ge.toJSON(),de.toJSON(),Qe.toJSON()],e.merge)}};var Lv;(function(a){a.presets=Ae,a.registry=oc.create({type:"router"}),a.registry.register(a.presets,!0)})(Lv||(Lv={}));const Y3=function(a,e,t,r={}){const s=[a,...t,e],h=new i(s),g=new ki(h);return r.raw?g:g.serialize()},J3=function(a,e,t,r={}){const s=t.length===3?0:1,h=Fn.create(t[0+s]),g=Fn.create(t[2+s]),y=Fn.create(t[1+s]);if(!Fn.equals(a,e)){const D=new Fn((a.x+e.x)/2,(a.y+e.y)/2),V=D.angleBetween(Fn.create(a).rotate(90,D),y);V>1&&(h.rotate(180-V,D),g.rotate(180-V,D),y.rotate(180-V,D))}const E=`
     M ${a.x} ${a.y}
     Q ${h.x} ${h.y} ${y.x} ${y.y}
     Q ${g.x} ${g.y} ${e.x} ${e.y}
  `;return r.raw?ki.parse(E):E},q3=function(a,e,t,r={}){const s=new ki;s.appendSegment(ki.createSegment("M",a));const h=1/3,g=2/3,y=r.radius||10;let E,D;for(let V=0,$=t.length;V<$;V+=1){const J=Fn.create(t[V]),de=t[V-1]||a,Ge=t[V+1]||e;E=D||J.distance(de)/2,D=J.distance(Ge)/2;const Qe=-Math.min(y,E),xt=-Math.min(y,D),Yt=J.clone().move(de,Qe).round(),fn=J.clone().move(Ge,xt).round(),Xt=new Fn(h*Yt.x+g*J.x,g*J.y+h*Yt.y),zn=new Fn(h*fn.x+g*J.x,g*J.y+h*fn.y);s.appendSegment(ki.createSegment("L",Yt)),s.appendSegment(ki.createSegment("C",Xt,zn,fn))}return s.appendSegment(ki.createSegment("L",e)),r.raw?s:s.serialize()},Q3=function(a,e,t,r={}){let s,h=r.direction;if(t&&t.length!==0){const g=[a,...t,e],y=c.throughPoints(g);s=new ki(y)}else if(s=new ki,s.appendSegment(ki.createSegment("M",a)),h||(h=Math.abs(a.x-e.x)>=Math.abs(a.y-e.y)?"H":"V"),h==="H"){const g=(a.x+e.x)/2;s.appendSegment(ki.createSegment("C",g,a.y,g,e.y,e.x,e.y))}else{const g=(a.y+e.y)/2;s.appendSegment(ki.createSegment("C",a.x,g,e.x,g,e.x,e.y))}return r.raw?s:s.serialize()},BS=1,lE=1/3,cE=2/3;function eM(a){let e=a.graph._jumpOverUpdateList;if(e==null&&(e=a.graph._jumpOverUpdateList=[],a.graph.on("cell:mouseup",()=>{const t=a.graph._jumpOverUpdateList;for(let r=0;r<t.length;r+=1)t[r].update()}),a.graph.on("model:reseted",()=>{e=a.graph._jumpOverUpdateList=[]})),e.indexOf(a)<0){e.push(a);const t=()=>e.splice(e.indexOf(a),1);a.cell.once("change:connector",t),a.cell.once("removed",t)}}function ZE(a,e,t=[]){const r=[a,...t,e],s=[];return r.forEach((h,g)=>{const y=r[g+1];y!=null&&s.push(new u(h,y))}),s}function tM(a,e){const t=[];return e.forEach(r=>{const s=a.intersectsWithLine(r);s&&t.push(s)}),t}function zS(a,e){return new u(a,e).squaredLength()}function nM(a,e,t){return e.reduce((r,s,h)=>{if(uE.includes(s))return r;const g=r.pop()||a,y=Fn.create(s).move(g.start,-t);let E=Fn.create(s).move(g.start,+t);const D=e[h+1];if(D!=null){const J=E.distance(D);J<=t&&(E=D.move(g.start,J),uE.push(D))}else if(y.distance(g.end)<t*2+BS)return r.push(g),r;if(E.distance(g.start)<t*2+BS)return r.push(g),r;const $=new u(y,E);return hw.push($),r.push(new u(g.start,y),$,new u(E,g.end)),r},[])}function GS(a,e,t,r){const s=new ki;let h;return h=ki.createSegment("M",a[0].start),s.appendSegment(h),a.forEach((g,y)=>{if(hw.includes(g)){let E,D,V,$;if(t==="arc"){E=-90,D=g.start.diff(g.end),(D.x<0||D.x===0&&D.y<0)&&(E+=180);const de=g.getCenter(),Ge=new u(de,g.end).rotate(E,de);let Qe;Qe=new u(g.start,de),V=Qe.pointAt(2/3).rotate(E,g.start),$=Ge.pointAt(1/3).rotate(-E,Ge.end),h=ki.createSegment("C",V,$,Ge.end),s.appendSegment(h),Qe=new u(de,g.end),V=Ge.pointAt(1/3).rotate(E,Ge.end),$=Qe.pointAt(1/3).rotate(-E,g.end),h=ki.createSegment("C",V,$,g.end),s.appendSegment(h)}else if(t==="gap")h=ki.createSegment("M",g.end),s.appendSegment(h);else if(t==="cubic"){E=g.start.theta(g.end);const J=e*.6;let de=e*1.35;D=g.start.diff(g.end),(D.x<0||D.x===0&&D.y<0)&&(de*=-1),V=new Fn(g.start.x+J,g.start.y+de).rotate(E,g.start),$=new Fn(g.end.x-J,g.end.y+de).rotate(E,g.end),h=ki.createSegment("C",V,$,g.end),s.appendSegment(h)}}else{const E=a[y+1];r===0||!E||hw.includes(E)?(h=ki.createSegment("L",g.end),s.appendSegment(h)):rM(r,s,g.end,g.start,E.end)}}),s}function rM(a,e,t,r,s){const h=t.distance(r)/2,g=t.distance(s)/2,y=-Math.min(a,h),E=-Math.min(a,g),D=t.clone().move(r,y).round(),V=t.clone().move(s,E).round(),$=new Fn(lE*D.x+cE*t.x,cE*t.y+lE*D.y),J=new Fn(lE*V.x+cE*t.x,cE*t.y+lE*V.y);let de;de=ki.createSegment("L",D),e.appendSegment(de),de=ki.createSegment("C",$,J,V),e.appendSegment(de)}let hw,uE;const iM=function(a,e,t,r={}){hw=[],uE=[],eM(this);const s=r.size||5,h=r.type||"arc",g=r.radius||0,y=r.ignoreConnectors||["smooth"],E=this.graph,V=E.model.getEdges();if(V.length===1)return GS(ZE(a,e,t),s,h,g);const $=this.cell,J=V.indexOf($),de=E.options.connecting.connector||{},Ge=V.filter((zn,xr)=>{const Jr=zn.getConnector()||de;return y.includes(Jr.name)?!1:xr>J?Jr.name!=="jumpover":!0}),Qe=Ge.map(zn=>E.renderer.findViewByCell(zn)),xt=ZE(a,e,t),Yt=Qe.map(zn=>zn==null?[]:zn===this?xt:ZE(zn.sourcePoint,zn.targetPoint,zn.routePoints)),fn=[];xt.forEach(zn=>{const xr=Ge.reduce((Jr,fi,Gi)=>{if(fi!==$){const zo=tM(zn,Yt[Gi]);Jr.push(...zo)}return Jr},[]).sort((Jr,fi)=>zS(zn.start,Jr)-zS(zn.start,fi));xr.length>0?fn.push(...nM(zn,xr,s)):fn.push(zn)});const Xt=GS(fn,s,h,g);return hw=[],uE=[],r.raw?Xt:Xt.serialize()};var Ib;(function(a){a.presets=Pe,a.registry=oc.create({type:"connector"}),a.registry.register(a.presets,!0)})(Ib||(Ib={}));const oM=oc.create;class dw{constructor(e){this.cell=e,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(e,t,r={},s="/"){const h=this.cell.getPropByPath(e),g=Tm(r,dw.defaultOptions),y=this.getTiming(g.timing),E=this.getInterp(g.interp,h,t);let D=0;const V=Array.isArray(e)?e.join(s):e,$=Array.isArray(e)?e:e.split(s),J=()=>{const de=new Date().getTime();D===0&&(D=de);let Qe=(de-D)/g.duration;Qe<1?this.ids[V]=s0(J):Qe=1;const xt=E(y(Qe));this.cell.setPropByPath($,xt),r.progress&&r.progress(Object.assign({progress:Qe,currentValue:xt},this.getArgs(V))),Qe===1&&(this.cell.notify("transition:end",this.getArgs(V)),this.cell.notify("transition:complete",this.getArgs(V)),r.complete&&r.complete(this.getArgs(V)),this.cell.notify("transition:finish",this.getArgs(V)),r.finish&&r.finish(this.getArgs(V)),this.clean(V))};return setTimeout(()=>{this.stop(e,void 0,s),this.cache[V]={startValue:h,targetValue:t,options:g},this.ids[V]=s0(J),this.cell.notify("transition:begin",this.getArgs(V)),this.cell.notify("transition:start",this.getArgs(V)),r.start&&r.start(this.getArgs(V))},r.delay),this.stop.bind(this,e,s,r)}stop(e,t={},r="/"){const s=Array.isArray(e)?e:e.split(r);return Object.keys(this.ids).filter(h=>df(s,h.split(r).slice(0,s.length))).forEach(h=>{a0(this.ids[h]);const g=this.cache[h],y=this.getArgs(h),E=Object.assign(Object.assign({},g.options),t),D=E.jumpedToEnd;D&&g.targetValue!=null&&(this.cell.setPropByPath(h,g.targetValue),this.cell.notify("transition:end",Object.assign({},y)),this.cell.notify("transition:complete",Object.assign({},y)),E.complete&&E.complete(Object.assign({},y)));const V=Object.assign({jumpedToEnd:D},y);this.cell.notify("transition:stop",Object.assign({},V)),E.stop&&E.stop(Object.assign({},V)),this.cell.notify("transition:finish",Object.assign({},y)),E.finish&&E.finish(Object.assign({},y)),this.clean(h)}),this}clean(e){delete this.ids[e],delete this.cache[e]}getTiming(e){return typeof e=="string"?Y1[e]:e}getInterp(e,t,r){return e?e(t,r):typeof r=="number"?J1.number(t,r):typeof r=="string"?r[0]==="#"?J1.color(t,r):J1.unit(t,r):J1.object(t,r)}getArgs(e){const t=this.cache[e];return{path:e,startValue:t.startValue,targetValue:t.targetValue,cell:this.cell}}}(function(a){a.defaultOptions={delay:10,duration:100,timing:"linear"}})(dw||(dw={}));var sM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class VS extends xf{constructor(e={}){super(),this.pending=!1,this.changing=!1,this.data={},this.mutate(Ss(e)),this.changed={}}mutate(e,t={}){const r=t.unset===!0,s=t.silent===!0,h=[],g=this.changing;this.changing=!0,g||(this.previous=Ss(this.data),this.changed={});const y=this.data,E=this.previous,D=this.changed;if(Object.keys(e).forEach(V=>{const $=V,J=e[$];df(y[$],J)||h.push($),df(E[$],J)?delete D[$]:D[$]=J,r?delete y[$]:y[$]=J}),!s&&h.length>0&&(this.pending=!0,this.pendingOptions=t,h.forEach(V=>{this.emit("change:*",{key:V,options:t,store:this,current:y[V],previous:E[V]})})),g)return this;if(!s)for(;this.pending;)this.pending=!1,this.emit("changed",{current:y,previous:E,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(e,t){if(e==null)return this.data;const r=this.data[e];return r==null?t:r}getPrevious(e){if(this.previous){const t=this.previous[e];return t==null?void 0:t}}set(e,t,r){return e!=null&&(typeof e=="object"?this.mutate(e,t):this.mutate({[e]:t},r)),this}remove(e,t){const s={};let h;if(typeof e=="string")s[e]=void 0,h=t;else if(Array.isArray(e))e.forEach(g=>s[g]=void 0),h=t;else{for(const g in this.data)s[g]=void 0;h=e}return this.mutate(s,Object.assign(Object.assign({},h),{unset:!0})),this}getByPath(e){return up(this.data,e,"/")}setByPath(e,t,r={}){const s="/",h=Array.isArray(e)?[...e]:e.split(s),g=Array.isArray(e)?e.join(s):e,y=h[0],E=h.length;if(r.propertyPath=g,r.propertyValue=t,r.propertyPathArray=h,E===1)this.set(y,t,r);else{const D={};let V=D,$=y;for(let Ge=1;Ge<E;Ge+=1){const Qe=h[Ge],xt=Number.isFinite(Number(Qe));V=V[$]=xt?[]:{},$=Qe}wd(D,h,t,s);const J=Ss(this.data);r.rewrite&&fp(J,e,s);const de=La(J,D);this.set(y,de[y],r)}return this}removeByPath(e,t){const r=Array.isArray(e)?e:e.split("/"),s=r[0];if(r.length===1)this.remove(s,t);else{const h=r.slice(1),g=Ss(this.get(s));g&&fp(g,h),this.set(s,g,t)}return this}hasChanged(e){return e==null?Object.keys(this.changed).length>0:e in this.changed}getChanges(e){if(e==null)return this.hasChanged()?Ss(this.changed):null;const t=this.changing?this.previous:this.data,r={};let s;for(const h in e){const g=e[h];df(t[h],g)||(r[h]=g,s=!0)}return s?Ss(r):null}toJSON(){return Ss(this.data)}clone(){const e=this.constructor;return new e(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}sM([xf.dispose()],VS.prototype,"dispose",null);var aM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h},ZS=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class Na extends xf{constructor(e={}){super();const r=this.constructor.getDefaults(!0),s=La({},this.preprocess(r),this.preprocess(e));this.id=s.id||tb(),this.store=new VS(s),this.animation=new dw(this),this.setup(),this.init(),this.postprocess(e)}static config(e){const{markup:t,propHooks:r,attrHooks:s}=e,h=ZS(e,["markup","propHooks","attrHooks"]);t!=null&&(this.markup=t),r&&(this.propHooks=this.propHooks.slice(),Array.isArray(r)?this.propHooks.push(...r):typeof r=="function"?this.propHooks.push(r):Object.keys(r).forEach(g=>{const y=r[g];typeof y=="function"&&this.propHooks.push(y)})),s&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),s)),this.defaults=La({},this.defaults,h)}static getMarkup(){return this.markup}static getDefaults(e){return e?this.defaults:Ss(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(e,t){return this.propHooks.reduce((r,s)=>s?fs(s,e,r):r,t)}get[Symbol.toStringTag](){return Na.toStringTag}init(){}get model(){return this._model}set model(e){this._model!==e&&(this._model=e)}preprocess(e,t){const r=e.id,h=this.constructor.applyPropHooks(this,e);return r==null&&t!==!0&&(h.id=tb()),h}postprocess(e){}setup(){this.store.on("change:*",e=>{const{key:t,current:r,previous:s,options:h}=e;this.notify("change:*",{key:t,options:h,current:r,previous:s,cell:this}),this.notify(`change:${t}`,{options:h,current:r,previous:s,cell:this});const g=t;(g==="source"||g==="target")&&this.notify("change:terminal",{type:g,current:r,previous:s,options:h,cell:this})}),this.store.on("changed",({options:e})=>this.notify("changed",{options:e,cell:this}))}notify(e,t){this.trigger(e,t);const r=this.model;return r&&(r.notify(`cell:${e}`,t),this.isNode()?r.notify(`node:${e}`,Object.assign(Object.assign({},t),{node:this})):this.isEdge()&&r.notify(`edge:${e}`,Object.assign(Object.assign({},t),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(e){return this.store===e.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(e,t){return e==null?this.store.get():this.store.get(e,t)}setProp(e,t,r){if(typeof e=="string")this.store.set(e,t,r);else{const s=this.preprocess(e,!0);this.store.set(La({},this.getProp(),s),t),this.postprocess(e)}return this}removeProp(e,t){return typeof e=="string"||Array.isArray(e)?this.store.removeByPath(e,t):this.store.remove(t),this}hasChanged(e){return e==null?this.store.hasChanged():this.store.hasChanged(e)}getPropByPath(e){return this.store.getByPath(e)}setPropByPath(e,t,r={}){return this.model&&(e==="children"?this._children=t?t.map(s=>this.model.getCell(s)).filter(s=>s!=null):null:e==="parent"&&(this._parent=t?this.model.getCell(t):null)),this.store.setByPath(e,t,r),this}removePropByPath(e,t={}){const r=Array.isArray(e)?e:e.split("/");return r[0]==="attrs"&&(t.dirty=!0),this.store.removeByPath(r,t),this}prop(e,t,r){return e==null?this.getProp():typeof e=="string"||Array.isArray(e)?arguments.length===1?this.getPropByPath(e):t==null?this.removePropByPath(e,r||{}):this.setPropByPath(e,t,r||{}):this.setProp(e,t||{})}previous(e){return this.store.getPrevious(e)}get zIndex(){return this.getZIndex()}set zIndex(e){e==null?this.removeZIndex():this.setZIndex(e)}getZIndex(){return this.store.get("zIndex")}setZIndex(e,t={}){return this.store.set("zIndex",e,t),this}removeZIndex(e={}){return this.store.remove("zIndex",e),this}toFront(e={}){const t=this.model;if(t){let r=t.getMaxZIndex(),s;e.deep?(s=this.getDescendants({deep:!0,breadthFirst:!0}),s.unshift(this)):s=[this],r=r-s.length+1;const h=t.total();let g=t.indexOf(this)!==h-s.length;g||(g=s.some((y,E)=>y.getZIndex()!==r+E)),g&&this.batchUpdate("to-front",()=>{r+=s.length,s.forEach((y,E)=>{y.setZIndex(r+E,e)})})}return this}toBack(e={}){const t=this.model;if(t){let r=t.getMinZIndex(),s;e.deep?(s=this.getDescendants({deep:!0,breadthFirst:!0}),s.unshift(this)):s=[this];let h=t.indexOf(this)!==0;h||(h=s.some((g,y)=>g.getZIndex()!==r+y)),h&&this.batchUpdate("to-back",()=>{r-=s.length,s.forEach((g,y)=>{g.setZIndex(r+y,e)})})}return this}get markup(){return this.getMarkup()}set markup(e){e==null?this.removeMarkup():this.setMarkup(e)}getMarkup(){let e=this.store.get("markup");return e==null&&(e=this.constructor.getMarkup()),e}setMarkup(e,t={}){return this.store.set("markup",e,t),this}removeMarkup(e={}){return this.store.remove("markup",e),this}get attrs(){return this.getAttrs()}set attrs(e){e==null?this.removeAttrs():this.setAttrs(e)}getAttrs(){const e=this.store.get("attrs");return e?Object.assign({},e):{}}setAttrs(e,t={}){if(e==null)this.removeAttrs(t);else{const r=s=>this.store.set("attrs",s,t);if(t.overwrite===!0)r(e);else{const s=this.getAttrs();t.deep===!1?r(Object.assign(Object.assign({},s),e)):r(La({},s,e))}}return this}replaceAttrs(e,t={}){return this.setAttrs(e,Object.assign(Object.assign({},t),{overwrite:!0}))}updateAttrs(e,t={}){return this.setAttrs(e,Object.assign(Object.assign({},t),{deep:!1}))}removeAttrs(e={}){return this.store.remove("attrs",e),this}getAttrDefinition(e){if(!e)return null;const r=this.constructor.getAttrHooks()||{};let s=r[e]||Ug.registry.get(e);if(!s){const h=uv(e);s=r[h]||Ug.registry.get(h)}return s||null}getAttrByPath(e){return e==null||e===""?this.getAttrs():this.getPropByPath(this.prefixAttrPath(e))}setAttrByPath(e,t,r={}){return this.setPropByPath(this.prefixAttrPath(e),t,r),this}removeAttrByPath(e,t={}){return this.removePropByPath(this.prefixAttrPath(e),t),this}prefixAttrPath(e){return Array.isArray(e)?["attrs"].concat(e):`attrs/${e}`}attr(e,t,r){return e==null?this.getAttrByPath():typeof e=="string"||Array.isArray(e)?arguments.length===1?this.getAttrByPath(e):t==null?this.removeAttrByPath(e,r||{}):this.setAttrByPath(e,t,r||{}):this.setAttrs(e,t||{})}get visible(){return this.isVisible()}set visible(e){this.setVisible(e)}setVisible(e,t={}){return this.store.set("visible",e,t),this}isVisible(){return this.store.get("visible")!==!1}show(e={}){return this.isVisible()||this.setVisible(!0,e),this}hide(e={}){return this.isVisible()&&this.setVisible(!1,e),this}toggleVisible(e,t={}){const r=typeof e=="boolean"?e:!this.isVisible(),s=typeof e=="boolean"?t:e;return r?this.show(s):this.hide(s),this}get data(){return this.getData()}set data(e){this.setData(e)}getData(){return this.store.get("data")}setData(e,t={}){if(e==null)this.removeData(t);else{const r=s=>this.store.set("data",s,t);if(t.overwrite===!0)r(e);else{const s=this.getData();t.deep===!1?r(typeof e=="object"?Object.assign(Object.assign({},s),e):e):r(La({},s,e))}}return this}replaceData(e,t={}){return this.setData(e,Object.assign(Object.assign({},t),{overwrite:!0}))}updateData(e,t={}){return this.setData(e,Object.assign(Object.assign({},t),{deep:!1}))}removeData(e={}){return this.store.remove("data",e),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const e=this.getParentId();if(e&&this.model){const t=this.model.getCell(e);return this._parent=t,t}return null}getChildren(){const e=this.store.get("children");if(e&&e.length&&this.model){const t=e.map(r=>{var s;return(s=this.model)===null||s===void 0?void 0:s.getCell(r)}).filter(r=>r!=null);return this._children=t,[...t]}return null}hasParent(){return this.parent!=null}isParentOf(e){return e!=null&&e.getParent()===this}isChildOf(e){return e!=null&&this.getParent()===e}eachChild(e,t){return this.children&&this.children.forEach(e,t),this}filterChild(e,t){return this.children?this.children.filter(e,t):[]}getChildCount(){return this.children==null?0:this.children.length}getChildIndex(e){return this.children==null?-1:this.children.indexOf(e)}getChildAt(e){return this.children!=null&&e>=0?this.children[e]:null}getAncestors(e={}){const t=[];let r=this.getParent();for(;r;)t.push(r),r=e.deep!==!1?r.getParent():null;return t}getDescendants(e={}){if(e.deep!==!1){if(e.breadthFirst){const t=[],r=this.getChildren()||[];for(;r.length>0;){const s=r.shift(),h=s.getChildren();t.push(s),h&&r.push(...h)}return t}{const t=this.getChildren()||[];return t.forEach(r=>{t.push(...r.getDescendants(e))}),t}}return this.getChildren()||[]}isDescendantOf(e,t={}){if(e==null)return!1;if(t.deep!==!1){let r=this.getParent();for(;r;){if(r===e)return!0;r=r.getParent()}return!1}return this.isChildOf(e)}isAncestorOf(e,t={}){return e==null?!1:e.isDescendantOf(this,t)}contains(e){return this.isAncestorOf(e)}getCommonAncestor(...e){return Na.getCommonAncestor(this,...e)}setParent(e,t={}){return this._parent=e,e?this.store.set("parent",e.id,t):this.store.remove("parent",t),this}setChildren(e,t={}){return this._children=e,e!=null?this.store.set("children",e.map(r=>r.id),t):this.store.remove("children",t),this}unembed(e,t={}){const r=this.children;if(r!=null&&e!=null){const s=this.getChildIndex(e);s!==-1&&(r.splice(s,1),e.setParent(null,t),this.setChildren(r,t))}return this}embed(e,t={}){return e.addTo(this,t),this}addTo(e,t={}){return Na.isCell(e)?e.addChild(this,t):e.addCell(this,t),this}insertTo(e,t,r={}){return e.insertChild(this,t,r),this}addChild(e,t={}){return this.insertChild(e,void 0,t)}insertChild(e,t,r={}){if(e!=null&&e!==this){const s=e.getParent(),h=this!==s;let g=t;if(g==null&&(g=this.getChildCount(),h||(g-=1)),s){const E=s.getChildren();if(E){const D=E.indexOf(e);D>=0&&(e.setParent(null,r),E.splice(D,1),s.setChildren(E,r))}}let y=this.children;if(y==null?(y=[],y.push(e)):y.splice(g,0,e),e.setParent(this,r),this.setChildren(y,r),h&&this.model){const E=this.model.getIncomingEdges(this),D=this.model.getOutgoingEdges(this);E&&E.forEach(V=>V.updateParent(r)),D&&D.forEach(V=>V.updateParent(r))}this.model&&this.model.addCell(e,r)}return this}removeFromParent(e={}){const t=this.getParent();if(t!=null){const r=t.getChildIndex(this);t.removeChildAt(r,e)}return this}removeChild(e,t={}){const r=this.getChildIndex(e);return this.removeChildAt(r,t)}removeChildAt(e,t={}){const r=this.getChildAt(e);return this.children!=null&&r!=null&&(this.unembed(r,t),r.remove(t)),r}remove(e={}){return this.batchUpdate("remove",()=>{const t=this.getParent();t&&t.removeChild(this,e),e.deep!==!1&&this.eachChild(r=>r.remove(e)),this.model&&this.model.removeCell(this,e)}),this}transition(e,t,r={},s="/"){return this.animation.start(e,t,r,s)}stopTransition(e,t,r="/"){return this.animation.stop(e,t,r),this}getTransitions(){return this.animation.get()}translate(e,t,r){return this}scale(e,t,r,s){return this}addTools(e,t,r){const s=Array.isArray(e)?e:[e],h=typeof t=="string"?t:null,g=typeof t=="object"?t:typeof r=="object"?r:{};if(g.reset)return this.setTools({name:h,items:s,local:g.local},g);let y=Ss(this.getTools());if(y==null||h==null||y.name===h)return y==null&&(y={}),y.items||(y.items=[]),y.name=h,y.items=[...y.items,...s],this.setTools(Object.assign({},y),g)}setTools(e,t={}){return e==null?this.removeTools():this.store.set("tools",Na.normalizeTools(e),t),this}getTools(){return this.store.get("tools")}removeTools(e={}){return this.store.remove("tools",e),this}hasTools(e){const t=this.getTools();return t==null?!1:e==null?!0:t.name===e}hasTool(e){const t=this.getTools();return t==null?!1:t.items.some(r=>typeof r=="string"?r===e:r.name===e)}removeTool(e,t={}){const r=Ss(this.getTools());if(r){let s=!1;const h=r.items.slice(),g=y=>{h.splice(y,1),s=!0};if(typeof e=="number")g(e);else for(let y=h.length-1;y>=0;y-=1){const E=h[y];(typeof E=="string"?E===e:E.name===e)&&g(y)}s&&(r.items=h,this.setTools(r,t))}return this}getBBox(e){return new Ao}getConnectionPoint(e,t){return new Fn}toJSON(e={}){const t=Object.assign({},this.store.get()),r=Object.prototype.toString,s=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!t.shape){const Ge=this.constructor;throw new Error(`Unable to serialize ${s} missing "shape" prop, check the ${s} "${Ge.name||r.call(Ge)}"`)}const h=this.constructor,g=e.diff===!0,y=t.attrs||{},E=h.getDefaults(!0),D=g?this.preprocess(E,!0):E,V=D.attrs||{},$={};Object.keys(t).forEach(Ge=>{const Qe=t[Ge];if(Qe!=null&&!Array.isArray(Qe)&&typeof Qe=="object"&&!Fl(Qe))throw new Error(`Can only serialize ${s} with plain-object props, but got a "${r.call(Qe)}" type of key "${Ge}" on ${s} "${this.id}"`);if(Ge!=="attrs"&&Ge!=="shape"&&g){const xt=D[Ge];df(Qe,xt)&&delete t[Ge]}}),Object.keys(y).forEach(Ge=>{const Qe=y[Ge],xt=V[Ge];Object.keys(Qe).forEach(Yt=>{const fn=Qe[Yt],Xt=xt?xt[Yt]:null;fn!=null&&typeof fn=="object"&&!Array.isArray(fn)?Object.keys(fn).forEach(zn=>{const xr=fn[zn];if(xt==null||Xt==null||!_n(Xt)||!df(Xt[zn],xr)){$[Ge]==null&&($[Ge]={}),$[Ge][Yt]==null&&($[Ge][Yt]={});const Jr=$[Ge][Yt];Jr[zn]=xr}}):(xt==null||!df(Xt,fn))&&($[Ge]==null&&($[Ge]={}),$[Ge][Yt]=fn)})});const J=Object.assign(Object.assign({},t),{attrs:gm($)?void 0:$});J.attrs==null&&delete J.attrs;const de=J;return de.angle===0&&delete de.angle,Ss(de)}clone(e={}){if(!e.deep){const r=Object.assign({},this.store.get());e.keepId||delete r.id,delete r.parent,delete r.children;const s=this.constructor;return new s(r)}return Na.deepClone(this)[this.id]}findView(e){return e.renderer.findViewByCell(this)}startBatch(e,t={},r=this.model){return this.notify("batch:start",{name:e,data:t,cell:this}),r&&r.startBatch(e,Object.assign(Object.assign({},t),{cell:this})),this}stopBatch(e,t={},r=this.model){return r&&r.stopBatch(e,Object.assign(Object.assign({},t),{cell:this})),this.notify("batch:stop",{name:e,data:t,cell:this}),this}batchUpdate(e,t,r){const s=this.model;this.startBatch(e,r,s);const h=t();return this.stopBatch(e,r,s),h}dispose(){this.removeFromParent(),this.store.dispose()}}Na.defaults={},Na.attrHooks={},Na.propHooks=[],aM([xf.dispose()],Na.prototype,"dispose",null),function(a){function e(t){return typeof t=="string"?{items:[t]}:Array.isArray(t)?{items:t}:t.items?t:{items:[t]}}a.normalizeTools=e}(Na||(Na={})),function(a){a.toStringTag=`X6.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;return(r==null||r===a.toStringTag)&&typeof s.isNode=="function"&&typeof s.isEdge=="function"&&typeof s.prop=="function"&&typeof s.attr=="function"}a.isCell=e}(Na||(Na={})),function(a){function e(...h){const g=h.filter(E=>E!=null).map(E=>E.getAncestors()).sort((E,D)=>E.length-D.length);return g.shift().find(E=>g.every(D=>D.includes(E)))||null}a.getCommonAncestor=e;function t(h,g={}){let y=null;for(let E=0,D=h.length;E<D;E+=1){const V=h[E];let $=V.getBBox(g);if($){if(V.isNode()){const J=V.getAngle();J!=null&&J!==0&&($=$.bbox(J))}y=y==null?$:y.union($)}}return y}a.getCellsBBox=t;function r(h){const g=[h,...h.getDescendants({deep:!0})];return a.cloneCells(g)}a.deepClone=r;function s(h){const g=Ns(h),y=g.reduce((E,D)=>(E[D.id]=D.clone(),E),{});return g.forEach(E=>{const D=y[E.id];if(D.isEdge()){const J=D.getSourceCellId(),de=D.getTargetCellId();J&&y[J]&&D.setSource(Object.assign(Object.assign({},D.getSource()),{cell:y[J].id})),de&&y[de]&&D.setTarget(Object.assign(Object.assign({},D.getTarget()),{cell:y[de].id}))}const V=E.getParent();V&&y[V.id]&&D.setParent(y[V.id]);const $=E.getChildren();if($&&$.length){const J=$.reduce((de,Ge)=>(y[Ge.id]&&de.push(y[Ge.id]),de),[]);J.length>0&&D.setChildren(J)}}),y}a.cloneCells=s}(Na||(Na={})),function(a){a.config({propHooks(e){var{tools:t}=e,r=ZS(e,["tools"]);return t&&(r.tools=a.normalizeTools(t)),r}})}(Na||(Na={}));var Ux;(function(a){let e,t;function r(g,y){return y?e!=null&&e.exist(g):t!=null&&t.exist(g)}a.exist=r;function s(g){e=g}a.setEdgeRegistry=s;function h(g){t=g}a.setNodeRegistry=h})(Ux||(Ux={}));class lM{constructor(e){this.ports=[],this.groups={},this.init(Ss(e))}getPorts(){return this.ports}getGroup(e){return e!=null?this.groups[e]:null}getPortsByGroup(e){return this.ports.filter(t=>t.group===e||t.group==null&&e==null)}getPortsLayoutByGroup(e,t){const r=this.getPortsByGroup(e),s=e?this.getGroup(e):null,h=s?s.position:null,g=h?h.name:null;let y;if(g!=null){const $=Mb.registry.get(g);if($==null)return Mb.registry.onNotFound(g);y=$}else y=Mb.presets.left;const E=r.map($=>$&&$.position&&$.position.args||{}),D=h&&h.args||{};return y(E,t,D).map(($,J)=>{const de=r[J];return{portLayout:$,portId:de.id,portSize:de.size,portAttrs:de.attrs,labelSize:de.label.size,labelLayout:this.getPortLabelLayout(de,Fn.create($.position),t)}})}init(e){const{groups:t,items:r}=e;t!=null&&Object.keys(t).forEach(s=>{this.groups[s]=this.parseGroup(t[s])}),Array.isArray(r)&&r.forEach(s=>{this.ports.push(this.parsePort(s))})}parseGroup(e){return Object.assign(Object.assign({},e),{label:this.getLabel(e,!0),position:this.getPortPosition(e.position,!0)})}parsePort(e){const t=Object.assign({},e),r=this.getGroup(e.group)||{};return t.markup=t.markup||r.markup,t.attrs=La({},r.attrs,t.attrs),t.position=this.createPosition(r,t),t.label=La({},r.label,this.getLabel(t)),t.zIndex=this.getZIndex(r,t),t.size=Object.assign(Object.assign({},r.size),t.size),t}getZIndex(e,t){return typeof t.zIndex=="number"?t.zIndex:typeof e.zIndex=="number"||e.zIndex==="auto"?e.zIndex:"auto"}createPosition(e,t){return La({name:"left",args:{}},e.position,{args:t.args})}getPortPosition(e,t=!1){if(e==null){if(t)return{name:"left",args:{}}}else{if(typeof e=="string")return{name:e,args:{}};if(Array.isArray(e))return{name:"absolute",args:{x:e[0],y:e[1]}};if(typeof e=="object")return e}return{args:{}}}getPortLabelPosition(e,t=!1){if(e==null){if(t)return{name:"left",args:{}}}else{if(typeof e=="string")return{name:e,args:{}};if(typeof e=="object")return e}return{args:{}}}getLabel(e,t=!1){const r=e.label||{};return r.position=this.getPortLabelPosition(r.position,t),r}getPortLabelLayout(e,t,r){const s=e.label.position.name||"left",h=e.label.position.args||{},g=X1.registry.get(s)||X1.presets.left;return g?g(t,r,h):null}}var fE=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class lc extends Na{constructor(e={}){super(e),this.initPorts()}get[Symbol.toStringTag](){return lc.toStringTag}preprocess(e,t){const{x:r,y:s,width:h,height:g}=e,y=fE(e,["x","y","width","height"]);if(r!=null||s!=null){const E=y.position;y.position=Object.assign(Object.assign({},E),{x:r!=null?r:E?E.x:0,y:s!=null?s:E?E.y:0})}if(h!=null||g!=null){const E=y.size;y.size=Object.assign(Object.assign({},E),{width:h!=null?h:E?E.width:0,height:g!=null?g:E?E.height:0})}return super.preprocess(y,t)}isNode(){return!0}size(e,t,r){return e===void 0?this.getSize():typeof e=="number"?this.setSize(e,t,r):this.setSize(e,t)}getSize(){const e=this.store.get("size");return e?Object.assign({},e):{width:1,height:1}}setSize(e,t,r){return typeof e=="object"?this.resize(e.width,e.height,t):this.resize(e,t,r),this}resize(e,t,r={}){this.startBatch("resize",r);const s=r.direction;if(s){const h=this.getSize();switch(s){case"left":case"right":t=h.height;break;case"top":case"bottom":e=h.width;break;default:break}let y={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[s];const E=wa.normalize(this.getAngle()||0);r.absolute&&(y+=Math.floor((E+45)/90),y%=4);const D=this.getBBox();let V;y===0?V=D.getBottomLeft():y===1?V=D.getCorner():y===2?V=D.getTopRight():V=D.getOrigin();const $=V.clone().rotate(-E,D.getCenter()),J=Math.sqrt(e*e+t*t)/2;let de=y*Math.PI/2;de+=Math.atan(y%2===0?t/e:e/t),de-=wa.toRad(E);const Qe=Fn.fromPolar(J,de,$).clone().translate(e/-2,t/-2);this.store.set("size",{width:e,height:t},r),this.setPosition(Qe.x,Qe.y,r)}else this.store.set("size",{width:e,height:t},r);return this.stopBatch("resize",r),this}scale(e,t,r,s={}){const h=this.getBBox().scale(e,t,r==null?void 0:r);return this.startBatch("scale",s),this.setPosition(h.x,h.y,s),this.resize(h.width,h.height,s),this.stopBatch("scale"),this}position(e,t,r){return typeof e=="number"?this.setPosition(e,t,r):this.getPosition(e)}getPosition(e={}){if(e.relative){const r=this.getParent();if(r!=null&&r.isNode()){const s=this.getPosition(),h=r.getPosition();return{x:s.x-h.x,y:s.y-h.y}}}const t=this.store.get("position");return t?Object.assign({},t):{x:0,y:0}}setPosition(e,t,r={}){let s,h,g;if(typeof e=="object"?(s=e.x,h=e.y,g=t||{}):(s=e,h=t,g=r||{}),g.relative){const y=this.getParent();if(y!=null&&y.isNode()){const E=y.getPosition();s+=E.x,h+=E.y}}if(g.deep){const y=this.getPosition();this.translate(s-y.x,h-y.y,g)}else this.store.set("position",{x:s,y:h},g);return this}translate(e=0,t=0,r={}){if(e===0&&t===0)return this;r.translateBy=r.translateBy||this.id;const s=this.getPosition();if(r.restrict!=null&&r.translateBy===this.id){const g=this.getBBox({deep:!0}),y=r.restrict,E=s.x-g.x,D=s.y-g.y,V=Math.max(y.x+E,Math.min(y.x+y.width+E-g.width,s.x+e)),$=Math.max(y.y+D,Math.min(y.y+y.height+D-g.height,s.y+t));e=V-s.x,t=$-s.y}const h={x:s.x+e,y:s.y+t};return r.tx=e,r.ty=t,r.transition?(typeof r.transition!="object"&&(r.transition={}),this.transition("position",h,Object.assign(Object.assign({},r.transition),{interp:J1.object})),this.eachChild(g=>{var y;((y=r.exclude)===null||y===void 0?void 0:y.includes(g))||g.translate(e,t,r)})):(this.startBatch("translate",r),this.store.set("position",h,r),this.eachChild(g=>{var y;((y=r.exclude)===null||y===void 0?void 0:y.includes(g))||g.translate(e,t,r)}),this.stopBatch("translate",r)),this}angle(e,t){return e==null?this.getAngle():this.rotate(e,t)}getAngle(){return this.store.get("angle",0)}rotate(e,t={}){const r=this.getAngle();if(t.center){const s=this.getSize(),h=this.getPosition(),g=this.getBBox().getCenter();g.rotate(r-e,t.center);const y=g.x-s.width/2-h.x,E=g.y-s.height/2-h.y;this.startBatch("rotate",{angle:e,options:t}),this.setPosition(h.x+y,h.y+E,t),this.rotate(e,Object.assign(Object.assign({},t),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",t.absolute?e:(r+e)%360,t);return this}getBBox(e={}){if(e.deep){const t=this.getDescendants({deep:!0,breadthFirst:!0});return t.push(this),Na.getCellsBBox(t)}return Ao.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(e,t){const r=this.getBBox(),s=r.getCenter(),h=e.getTerminal(t);if(h==null)return s;const g=h.port;if(!g||!this.hasPort(g))return s;const y=this.getPort(g);if(!y||!y.group)return s;const D=this.getPortsPosition(y.group)[g].position,V=Fn.create(D).translate(r.getOrigin()),$=this.getAngle();return $&&V.rotate(-$,s),V}fit(e={}){const r=(this.getChildren()||[]).filter(D=>D.isNode());if(r.length===0)return this;this.startBatch("fit-embeds",e),e.deep&&r.forEach(D=>D.fit(e));let{x:s,y:h,width:g,height:y}=Na.getCellsBBox(r);const E=fc(e.padding);return s-=E.left,h-=E.top,g+=E.left+E.right,y+=E.bottom+E.top,this.store.set({position:{x:s,y:h},size:{width:g,height:y}},e),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(e){this.setPortContainerMarkup(e)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||Ua.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(e,t={}){return this.store.set("portContainerMarkup",Ua.clone(e),t),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(e){this.setPortMarkup(e)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||Ua.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(e,t={}){return this.store.set("portMarkup",Ua.clone(e),t),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(e){this.setPortLabelMarkup(e)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||Ua.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(e,t={}){return this.store.set("portLabelMarkup",Ua.clone(e),t),this}get ports(){const e=this.store.get("ports",{items:[]});return e.items==null&&(e.items=[]),e}getPorts(){return Ss(this.ports.items)}getPortsByGroup(e){return this.getPorts().filter(t=>t.group===e)}getPort(e){return Ss(this.ports.items.find(t=>t.id&&t.id===e))}getPortAt(e){return this.ports.items[e]||null}hasPorts(){return this.ports.items.length>0}hasPort(e){return this.getPortIndex(e)!==-1}getPortIndex(e){const t=typeof e=="string"?e:e.id;return t!=null?this.ports.items.findIndex(r=>r.id===t):-1}getPortsPosition(e){const t=this.getSize();return this.port.getPortsLayoutByGroup(e,new Ao(0,0,t.width,t.height)).reduce((s,h)=>{const g=h.portLayout;return s[h.portId]={position:Object.assign({},g.position),angle:g.angle||0},s},{})}getPortProp(e,t){return this.getPropByPath(this.prefixPortPath(e,t))}setPortProp(e,t,r,s){if(typeof t=="string"||Array.isArray(t)){const y=this.prefixPortPath(e,t),E=r;return this.setPropByPath(y,E,s)}const h=this.prefixPortPath(e),g=t;return this.setPropByPath(h,g,r)}removePortProp(e,t,r){return typeof t=="string"||Array.isArray(t)?this.removePropByPath(this.prefixPortPath(e,t),r):this.removePropByPath(this.prefixPortPath(e),t)}portProp(e,t,r,s){return t==null?this.getPortProp(e):typeof t=="string"||Array.isArray(t)?arguments.length===2?this.getPortProp(e,t):r==null?this.removePortProp(e,t,s):this.setPortProp(e,t,r,s):this.setPortProp(e,t,r)}prefixPortPath(e,t){const r=this.getPortIndex(e);if(r===-1)throw new Error(`Unable to find port with id: "${e}"`);return t==null||t===""?["ports","items",`${r}`]:Array.isArray(t)?["ports","items",`${r}`,...t]:`ports/items/${r}/${t}`}addPort(e,t){const r=[...this.ports.items];return r.push(e),this.setPropByPath("ports/items",r,t),this}addPorts(e,t){return this.setPropByPath("ports/items",[...this.ports.items,...e],t),this}insertPort(e,t,r){const s=[...this.ports.items];return s.splice(e,0,t),this.setPropByPath("ports/items",s,r),this}removePort(e,t={}){return this.removePortAt(this.getPortIndex(e),t)}removePortAt(e,t={}){if(e>=0){const r=[...this.ports.items];r.splice(e,1),t.rewrite=!0,this.setPropByPath("ports/items",r,t)}return this}removePorts(e,t){let r;if(Array.isArray(e)){if(r=t||{},e.length){r.rewrite=!0;const h=[...this.ports.items].filter(g=>!e.some(y=>{const E=typeof y=="string"?y:y.id;return g.id===E}));this.setPropByPath("ports/items",h,r)}}else r=e||{},r.rewrite=!0,this.setPropByPath("ports/items",[],r);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(e,t){return this.port.getPortsLayoutByGroup(e,t)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const e=this.ports,t={};e.items.forEach(g=>{g.id&&(t[g.id]=!0)});const r={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(g=>{g.id&&!t[g.id]&&(r[g.id]=!0)});const h=this.model;h&&!gm(r)&&(h.getConnectedEdges(this,{incoming:!0}).forEach(E=>{const D=E.getTargetPortId();D&&r[D]&&E.remove()}),h.getConnectedEdges(this,{outgoing:!0}).forEach(E=>{const D=E.getSourcePortId();D&&r[D]&&E.remove()}))}validatePorts(){const e={},t=[];return this.ports.items.forEach(r=>{typeof r!="object"&&t.push(`Invalid port ${r}.`),r.id==null&&(r.id=this.generatePortId()),e[r.id]&&t.push("Duplicitied port id."),e[r.id]=!0}),t}generatePortId(){return tb()}updatePortData(){const e=this.validatePorts();if(e.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(e.join(" "));const t=this.port?this.port.getPorts():null;this.port=new lM(this.ports);const r=this.port.getPorts(),s=t?r.filter(g=>t.find(y=>y.id===g.id)?null:g):[...r],h=t?t.filter(g=>r.find(y=>y.id===g.id)?null:g):[];s.length>0&&this.notify("ports:added",{added:s,cell:this,node:this}),h.length>0&&this.notify("ports:removed",{removed:h,cell:this,node:this})}}lc.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}},function(a){a.toStringTag=`X6.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;return(r==null||r===a.toStringTag)&&typeof s.isNode=="function"&&typeof s.isEdge=="function"&&typeof s.prop=="function"&&typeof s.attr=="function"&&typeof s.size=="function"&&typeof s.position=="function"}a.isNode=e}(lc||(lc={})),function(a){a.config({propHooks(e){var{ports:t}=e,r=fE(e,["ports"]);return t&&(r.ports=Array.isArray(t)?{items:t}:t),r}})}(lc||(lc={})),function(a){a.registry=oc.create({type:"node",process(e,t){if(Ux.exist(e,!0))throw new Error(`Node with name '${e}' was registered by anthor Edge`);if(typeof t=="function")return t.config({shape:e}),t;let r=a;const{inherit:s}=t,h=fE(t,["inherit"]);if(s)if(typeof s=="string"){const y=this.get(s);y==null?this.onNotFound(s,"inherited"):r=y}else r=s;h.constructorName==null&&(h.constructorName=e);const g=r.define.call(r,h);return g.config({shape:e}),g}}),Ux.setNodeRegistry(a.registry)}(lc||(lc={})),function(a){let e=0;function t(h){return h?qy(h):(e+=1,`CustomNode${e}`)}function r(h){const{constructorName:g,overwrite:y}=h,E=fE(h,["constructorName","overwrite"]),D=lp(t(g||E.shape),this);return D.config(E),E.shape&&a.registry.register(E.shape,D,y),D}a.define=r;function s(h){const g=h.shape||"rect",y=a.registry.get(g);return y?new y(h):a.registry.onNotFound(g)}a.create=s}(lc||(lc={}));var cM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class Ju extends lc{get label(){return this.getLabel()}set label(e){this.setLabel(e)}getLabel(){return this.getAttrByPath("text/text")}setLabel(e,t){return e==null?this.removeLabel():this.setAttrByPath("text/text",e,t),this}removeLabel(){return this.removeAttrByPath("text/text"),this}}(function(a){a.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},a.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},a.config({attrs:{text:Object.assign({},a.labelAttr)},propHooks(e){const{label:t}=e,r=cM(e,["label"]);return t&&wd(r,"attrs/text/text",t),r},visible:!0})})(Ju||(Ju={}));var uM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};function fM(a,e=!1){return`<g class="rotatable"><g class="scalable"><${a}/></g>${e?"":"<text/>"}</g>`}function jE(a){return`basic.${a}`}function pw(a="xlink:href"){return t=>{const{imageUrl:r,imageWidth:s,imageHeight:h}=t,g=uM(t,["imageUrl","imageWidth","imageHeight"]);if(r!=null||s!=null||h!=null){const y=()=>{if(g.attrs){const E=g.attrs.image;r!=null&&(E[a]=r),s!=null&&(E.width=s),h!=null&&(E.height=h),g.attrs.image=E}};g.attrs?(g.attrs.image==null&&(g.attrs.image={}),y()):(g.attrs={image:{}},y())}return g}}function h0(a,e,t={}){const r=jE(a),s={constructorName:r,attrs:{".":{fill:"#ffffff",stroke:"none"},[a]:{fill:"#ffffff",stroke:"#000000"}}};return t.ignoreMarkup||(s.markup=fM(a,t.noText===!0)),(t.parent||Ju).define(La(s,e,{shape:r}))}const cT=h0("rect",{attrs:{rect:{width:100,height:60}}}),uT=h0("circle",{width:60,height:60,attrs:{circle:{r:30,cx:30,cy:30}}}),fT=h0("ellipse",{width:60,height:40,attrs:{ellipse:{rx:30,ry:20,cx:30,cy:20}}}),hT=h0("polygon",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}}),dT=h0("polyline",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}}),pT=h0("image",{attrs:{text:{refY:null,refDy:16}},propHooks:pw()});var hM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};const jS=h0("path",{width:60,height:60,attrs:{text:{ref:"path",refY:null,refDy:16}},propHooks(a){const{d:e}=a,t=hM(a,["d"]);return e!=null&&wd(t,"attrs/path/d",e),t}}),gT=h0("rhombus",{d:"M 30 0 L 60 30 30 60 0 30 z",attrs:{text:{refY:.5,refDy:null}}},{parent:jS,ignoreMarkup:!0}),mT=h0("cylinder",{width:40,height:40,attrs:{path:{fill:"#FFFFFF",stroke:"#cbd2d7",strokeWidth:3,d:["M 0 10 C 10 5, 30 5, 40 10 C 30 15, 10 15, 0 10","L 0 20","C 10 25, 30 25, 40 20","L 40 10"].join(" ")},text:{refY:.7,refDy:null,fill:"#435460"}}},{parent:jS,ignoreMarkup:!0});var hE=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class ql extends Na{constructor(e={}){super(e)}get[Symbol.toStringTag](){return ql.toStringTag}preprocess(e,t){const{source:r,sourceCell:s,sourcePort:h,sourcePoint:g,target:y,targetCell:E,targetPort:D,targetPoint:V}=e,J=hE(e,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),de=Ge=>typeof Ge=="string"||typeof Ge=="number";if(r!=null)if(Na.isCell(r))J.source={cell:r.id};else if(de(r))J.source={cell:r};else if(Fn.isPoint(r))J.source=r.toJSON();else if(Array.isArray(r))J.source={x:r[0],y:r[1]};else{const Ge=r.cell;Na.isCell(Ge)?J.source=Object.assign(Object.assign({},r),{cell:Ge.id}):J.source=r}if(s!=null||h!=null){let Ge=J.source;if(s!=null){const Qe=de(s)?s:s.id;Ge?Ge.cell=Qe:Ge=J.source={cell:Qe}}h!=null&&Ge&&(Ge.port=h)}else g!=null&&(J.source=Fn.create(g).toJSON());if(y!=null)if(Na.isCell(y))J.target={cell:y.id};else if(de(y))J.target={cell:y};else if(Fn.isPoint(y))J.target=y.toJSON();else if(Array.isArray(y))J.target={x:y[0],y:y[1]};else{const Ge=y.cell;Na.isCell(Ge)?J.target=Object.assign(Object.assign({},y),{cell:Ge.id}):J.target=y}if(E!=null||D!=null){let Ge=J.target;if(E!=null){const Qe=de(E)?E:E.id;Ge?Ge.cell=Qe:Ge=J.target={cell:Qe}}D!=null&&Ge&&(Ge.port=D)}else V!=null&&(J.target=Fn.create(V).toJSON());return super.preprocess(J,t)}setup(){super.setup(),this.on("change:labels",e=>this.onLabelsChanged(e)),this.on("change:vertices",e=>this.onVertexsChanged(e))}isEdge(){return!0}disconnect(e={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},e),this}get source(){return this.getSource()}set source(e){this.setSource(e)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(e,t,r={}){return this.setTerminal("source",e,t,r)}get target(){return this.getTarget()}set target(e){this.setTarget(e)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(e,t,r={}){return this.setTerminal("target",e,t,r)}getTerminal(e){return Object.assign({},this.store.get(e))}setTerminal(e,t,r,s={}){if(Na.isCell(t))return this.store.set(e,La({},r,{cell:t.id}),s),this;const h=t;return Fn.isPoint(t)||h.x!=null&&h.y!=null?(this.store.set(e,La({},r,{x:h.x,y:h.y}),s),this):(this.store.set(e,Ss(t),s),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(e){const t=this[e];if(Fn.isPointLike(t))return Fn.create(t);const r=this.getTerminalCell(e);return r?r.getConnectionPoint(this,e):new Fn}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(e){if(this.model){const t=e==="source"?this.getSourceCellId():this.getTargetCellId();if(t)return this.model.getCell(t)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(e){let t=this;const r={};for(;t&&t.isEdge();){if(r[t.id])return null;r[t.id]=!0,t=t.getTerminalCell(e)}return t&&t.isNode()?t:null}get router(){return this.getRouter()}set router(e){e==null?this.removeRouter():this.setRouter(e)}getRouter(){return this.store.get("router")}setRouter(e,t,r){return typeof e=="object"?this.store.set("router",e,t):this.store.set("router",{name:e,args:t},r),this}removeRouter(e={}){return this.store.remove("router",e),this}get connector(){return this.getConnector()}set connector(e){e==null?this.removeConnector():this.setConnector(e)}getConnector(){return this.store.get("connector")}setConnector(e,t,r){return typeof e=="object"?this.store.set("connector",e,t):this.store.set("connector",{name:e,args:t},r),this}removeConnector(e={}){return this.store.remove("connector",e)}get strategy(){return this.getStrategy()}set strategy(e){e==null?this.removeStrategy():this.setStrategy(e)}getStrategy(){return this.store.get("strategy")}setStrategy(e,t,r){return typeof e=="object"?this.store.set("strategy",e,t):this.store.set("strategy",{name:e,args:t},r),this}removeStrategy(e={}){return this.store.remove("strategy",e)}getDefaultLabel(){const e=this.constructor,t=this.store.get("defaultLabel")||e.defaultLabel||{};return Ss(t)}get labels(){return this.getLabels()}set labels(e){this.setLabels(e)}getLabels(){return[...this.store.get("labels",[])].map(e=>this.parseLabel(e))}setLabels(e,t={}){return this.store.set("labels",Array.isArray(e)?e:[e],t),this}insertLabel(e,t,r={}){const s=this.getLabels(),h=s.length;let g=t!=null&&Number.isFinite(t)?t:h;return g<0&&(g=h+g+1),s.splice(g,0,this.parseLabel(e)),this.setLabels(s,r)}appendLabel(e,t={}){return this.insertLabel(e,-1,t)}getLabelAt(e){const t=this.getLabels();return e!=null&&Number.isFinite(e)?this.parseLabel(t[e]):null}setLabelAt(e,t,r={}){if(e!=null&&Number.isFinite(e)){const s=this.getLabels();s[e]=this.parseLabel(t),this.setLabels(s,r)}return this}removeLabelAt(e,t={}){const r=this.getLabels(),s=e!=null&&Number.isFinite(e)?e:-1,h=r.splice(s,1);return this.setLabels(r,t),h.length?h[0]:null}parseLabel(e){return typeof e=="string"?this.constructor.parseStringLabel(e):e}onLabelsChanged({previous:e,current:t}){const r=e&&t?t.filter(h=>e.find(g=>h===g||df(h,g))?null:h):t?[...t]:[],s=e&&t?e.filter(h=>t.find(g=>h===g||df(h,g))?null:h):e?[...e]:[];r.length>0&&this.notify("labels:added",{added:r,cell:this,edge:this}),s.length>0&&this.notify("labels:removed",{removed:s,cell:this,edge:this})}get vertexMarkup(){return this.getVertexMarkup()}set vertexMarkup(e){this.setVertexMarkup(e)}getDefaultVertexMarkup(){return this.store.get("defaultVertexMarkup")||Ua.getEdgeVertexMarkup()}getVertexMarkup(){return this.store.get("vertexMarkup")||this.getDefaultVertexMarkup()}setVertexMarkup(e,t={}){return this.store.set("vertexMarkup",Ua.clone(e),t),this}get vertices(){return this.getVertices()}set vertices(e){this.setVertices(e)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(e,t={}){const r=Array.isArray(e)?e:[e];return this.store.set("vertices",r.map(s=>Fn.toJSON(s)),t),this}insertVertex(e,t,r={}){const s=this.getVertices(),h=s.length;let g=t!=null&&Number.isFinite(t)?t:h;return g<0&&(g=h+g+1),s.splice(g,0,Fn.toJSON(e)),this.setVertices(s,r)}appendVertex(e,t={}){return this.insertVertex(e,-1,t)}getVertexAt(e){return e!=null&&Number.isFinite(e)?this.getVertices()[e]:null}setVertexAt(e,t,r={}){if(e!=null&&Number.isFinite(e)){const s=this.getVertices();s[e]=t,this.setVertices(s,r)}return this}removeVertexAt(e,t={}){const r=this.getVertices(),s=e!=null&&Number.isFinite(e)?e:-1;return r.splice(s,1),this.setVertices(r,t)}onVertexsChanged({previous:e,current:t}){const r=e&&t?t.filter(h=>e.find(g=>Fn.equals(h,g))?null:h):t?[...t]:[],s=e&&t?e.filter(h=>t.find(g=>Fn.equals(h,g))?null:h):e?[...e]:[];r.length>0&&this.notify("vertexs:added",{added:r,cell:this,edge:this}),s.length>0&&this.notify("vertexs:removed",{removed:s,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||Ua.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}get toolMarkup(){return this.getToolMarkup()}set toolMarkup(e){this.setToolMarkup(e)}getDefaultToolMarkup(){return this.store.get("defaultToolMarkup")||Ua.getEdgeToolMarkup()}getToolMarkup(){return this.store.get("toolMarkup")||this.getDefaultToolMarkup()}setToolMarkup(e,t={}){return this.store.set("toolMarkup",e,t),this}get doubleToolMarkup(){return this.getDoubleToolMarkup()}set doubleToolMarkup(e){this.setDoubleToolMarkup(e)}getDefaultDoubleToolMarkup(){return this.store.get("defaultDoubleToolMarkup")}getDoubleToolMarkup(){return this.store.get("doubleToolMarkup")||this.getDefaultDoubleToolMarkup()}setDoubleToolMarkup(e,t={}){return this.store.set("doubleToolMarkup",e,t),this}get arrowheadMarkup(){return this.getArrowheadMarkup()}set arrowheadMarkup(e){this.setArrowheadMarkup(e)}getDefaultArrowheadMarkup(){return this.store.get("defaultArrowheadMarkup")||Ua.getEdgeArrowheadMarkup()}getArrowheadMarkup(){return this.store.get("arrowheadMarkup")||this.getDefaultArrowheadMarkup()}setArrowheadMarkup(e,t={}){return this.store.set("arrowheadMarkup",e,t),this}translate(e,t,r={}){return r.translateBy=r.translateBy||this.id,r.tx=e,r.ty=t,this.applyToPoints(s=>({x:(s.x||0)+e,y:(s.y||0)+t}),r)}scale(e,t,r,s={}){return this.applyToPoints(h=>Fn.create(h).scale(e,t,r).toJSON(),s)}applyToPoints(e,t={}){const r={},s=this.getSource(),h=this.getTarget();Fn.isPointLike(s)&&(r.source=e(s)),Fn.isPointLike(h)&&(r.target=e(h));const g=this.getVertices();return g.length>0&&(r.vertices=g.map(e)),this.store.set(r,t),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const e=[this.getSourcePoint(),...this.getVertices().map(t=>Fn.create(t)),this.getTargetPoint()];return new i(e)}updateParent(e){let t=null;const r=this.getSourceCell(),s=this.getTargetCell(),h=this.getParent();return r&&s&&(r===s||r.isDescendantOf(s)?t=s:s.isDescendantOf(r)?t=r:t=Na.getCommonAncestor(r,s)),h&&(!t||t.id!==h.id)&&h.unembed(this,e),t&&t.embed(this,e),t}hasLoop(e={}){const t=this.getSource(),r=this.getTarget(),s=t.cell,h=r.cell;if(!s||!h)return!1;let g=s===h;if(!g&&e.deep&&this._model){const y=this.getSourceCell(),E=this.getTargetCell();y&&E&&(g=y.isAncestorOf(E,e)||E.isAncestorOf(y,e))}return g}getFragmentAncestor(){const e=[this,this.getSourceNode(),this.getTargetNode()].filter(t=>t!=null);return this.getCommonAncestor(...e)}isFragmentDescendantOf(e){const t=this.getFragmentAncestor();return!!t&&(t.id===e.id||t.isDescendantOf(e))}}ql.defaults={},function(a){function e(t,r){const s=t,h=r;return s.cell===h.cell?s.port===h.port||s.port==null&&h.port==null:!1}a.equalTerminals=e}(ql||(ql={})),function(a){a.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}};function e(t){return{attrs:{label:{text:t}}}}a.parseStringLabel=e}(ql||(ql={})),function(a){a.toStringTag=`X6.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;return(r==null||r===a.toStringTag)&&typeof s.isNode=="function"&&typeof s.isEdge=="function"&&typeof s.prop=="function"&&typeof s.attr=="function"&&typeof s.disconnect=="function"&&typeof s.getSource=="function"&&typeof s.getTarget=="function"}a.isEdge=e}(ql||(ql={})),function(a){a.registry=oc.create({type:"edge",process(e,t){if(Ux.exist(e,!1))throw new Error(`Edge with name '${e}' was registered by anthor Node`);if(typeof t=="function")return t.config({shape:e}),t;let r=a;const{inherit:s="edge"}=t,h=hE(t,["inherit"]);if(typeof s=="string"){const y=this.get(s||"edge");y==null&&s?this.onNotFound(s,"inherited"):r=y}else r=s;h.constructorName==null&&(h.constructorName=e);const g=r.define.call(r,h);return g.config({shape:e}),g}}),Ux.setEdgeRegistry(a.registry)}(ql||(ql={})),function(a){let e=0;function t(h){return h?qy(h):(e+=1,`CustomEdge${e}`)}function r(h){const{constructorName:g,overwrite:y}=h,E=hE(h,["constructorName","overwrite"]),D=lp(t(g||E.shape),this);return D.config(E),E.shape&&a.registry.register(E.shape,D,y),D}a.define=r;function s(h){const g=h.shape||"edge",y=a.registry.get(g);return y?new y(h):a.registry.onNotFound(g)}a.create=s}(ql||(ql={})),function(a){const e="basic.edge";a.config({shape:e,propHooks(t){const{label:r,vertices:s}=t,h=hE(t,["label","vertices"]);if(r){h.labels==null&&(h.labels=[]);const g=typeof r=="string"?a.parseStringLabel(r):r;h.labels.push(g)}return s&&Array.isArray(s)&&(h.vertices=s.map(g=>Fn.create(g).toJSON())),h}}),a.registry.register(e,a)}(ql||(ql={}));var dM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class Fv extends dc{constructor(){super(...arguments),this.POINT_ROUNDING=2,this.markerCache={}}get[Symbol.toStringTag](){return Fv.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const e=this.sourceView;if(!e){const r=this.cell.getSource();return new Ao(r.x,r.y)}const t=this.sourceMagnet;return e.isEdgeElement(t)?new Ao(this.sourceAnchor.x,this.sourceAnchor.y):e.getBBoxOfElement(t||e.container)}get targetBBox(){const e=this.targetView;if(!e){const r=this.cell.getTarget();return new Ao(r.x,r.y)}const t=this.targetMagnet;return e.isEdgeElement(t)?new Ao(this.targetAnchor.x,this.targetAnchor.y):e.getBBoxOfElement(t||e.container)}isEdgeView(){return!0}confirmUpdate(e,t={}){let r=e;if(this.hasAction(r,"source")){if(!this.updateTerminalProperties("source"))return r;r=this.removeAction(r,"source")}if(this.hasAction(r,"target")){if(!this.updateTerminalProperties("target"))return r;r=this.removeAction(r,"target")}const s=this.graph,h=this.sourceView,g=this.targetView;return s&&(h&&!s.renderer.isViewMounted(h)||g&&!s.renderer.isViewMounted(g))?r:this.hasAction(r,"render")?(this.render(),r=this.removeAction(r,["render","update","vertices","labels","tools","widget"]),r):(r=this.handleAction(r,"vertices",()=>this.renderVertexMarkers()),r=this.handleAction(r,"update",()=>this.update(null,t)),r=this.handleAction(r,"labels",()=>this.onLabelsChange(t)),r=this.handleAction(r,"tools",()=>{this.renderTools(),this.updateToolsPosition()}),r=this.handleAction(r,"widget",()=>this.renderExternalTools()),r)}onLabelsChange(e={}){this.shouldRerenderLabels(e)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(e={}){const t=this.cell.previous("labels");if(t==null)return!0;if("propertyPathArray"in e&&"propertyValue"in e){const r=e.propertyPathArray||[],s=r.length;if(s>1){const h=r[1];if(t[h]){if(s===2)return typeof e.propertyValue=="object"&&$a(e.propertyValue,"markup");if(r[2]!=="markup")return!1}}}return!0}render(){return this.empty(),this.containers={},this.renderMarkup(),this.renderLabels(),this.update(),this.renderExternalTools(),this}renderMarkup(){const e=this.cell.markup;if(e)return typeof e=="string"?this.renderStringMarkup(e):this.renderJSONMarkup(e);throw new TypeError("Invalid edge markup.")}renderJSONMarkup(e){const t=this.parseJSONMarkup(e,this.container);this.selectors=t.selectors,this.container.append(t.fragment)}renderStringMarkup(e){const t=this.containers,r=co.createVectors(e);r.forEach(s=>{const h=s.attr("class");h&&(t[uv(h)]=s.node)}),this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),ed(this.container,r.map(s=>s.node))}renderLabels(){const e=this.cell,t=e.getLabels(),r=t.length;let s=this.containers.labels;if(this.labelCache={},this.labelSelectors={},r<=0)return s&&s.parentNode&&s.parentNode.removeChild(s),this;s?this.empty(s):(s=Pu("g"),this.addClass(this.prefixClassName("edge-labels"),s),this.containers.labels=s);for(let h=0,g=t.length;h<g;h+=1){const y=t[h],E=this.normalizeLabelMarkup(this.parseLabelMarkup(y.markup));let D,V;if(E)D=E.node,V=E.selectors;else{const J=e.getDefaultLabel(),de=this.normalizeLabelMarkup(this.parseLabelMarkup(J.markup));D=de.node,V=de.selectors}D.setAttribute("data-index",`${h}`),s.appendChild(D);const $=this.rootSelector;if(V[$])throw new Error("Ambiguous label root selector.");V[$]=D,this.labelCache[h]=D,this.labelSelectors[h]=V}return s.parentNode==null&&this.container.appendChild(s),this.updateLabels(),this.customizeLabels(),this}parseLabelMarkup(e){return e?typeof e=="string"?this.parseLabelStringMarkup(e):this.parseJSONMarkup(e):null}parseLabelStringMarkup(e){const t=co.createVectors(e),r=document.createDocumentFragment();for(let s=0,h=t.length;s<h;s+=1){const g=t[s].node;r.appendChild(g)}return{fragment:r,selectors:{}}}normalizeLabelMarkup(e){if(e==null)return;const t=e.fragment;if(!(t instanceof DocumentFragment)||!t.hasChildNodes())throw new Error("Invalid label markup.");let r;const s=t.childNodes;return s.length>1||s[0].nodeName.toUpperCase()!=="G"?r=co.create("g").append(t):r=co.create(s[0]),r.addClass(this.prefixClassName("edge-label")),{node:r.node,selectors:e.selectors}}updateLabels(){if(this.containers.labels){const e=this.cell,t=e.labels,r=this.can("edgeLabelMovable"),s=e.getDefaultLabel();for(let h=0,g=t.length;h<g;h+=1){const y=this.labelCache[h],E=this.labelSelectors[h];y.setAttribute("cursor",r?"move":"default");const D=t[h],V=La({},s.attrs,D.attrs);this.updateAttrs(y,V,{selectors:E,rootBBox:D.size?Ao.fromSize(D.size):void 0})}}}mergeLabelAttrs(e,t,r){if(t===null)return null;if(t===void 0)return r===null?null:r===void 0?void 0:e?r:La({},r);if(e)return La({},r,t)}customizeLabels(){if(this.containers.labels){const e=this.cell,t=e.labels;for(let r=0,s=t.length;r<s;r+=1){const h=t[r],g=this.labelCache[r],y=this.labelSelectors[r];this.graph.hook.onEdgeLabelRendered({edge:e,label:h,container:g,selectors:y})}}}renderTools(){const e=this.containers.tools;if(e==null)return this;const t=this.cell.toolMarkup,r=this.$(e).empty();if(Ua.isStringMarkup(t)){let s=yp(t);const h=co.create(s());if(r.append(h.node),this.toolCache=h.node,this.options.doubleTools){let g;const y=this.cell.doubleToolMarkup;Ua.isStringMarkup(y)?(s=yp(y),g=co.create(s())):g=h.clone(),r.append(g.node),this.tool2Cache=g.node}}return this}renderExternalTools(){const e=this.cell.getTools();return this.addTools(e),this}renderVertexMarkers(){const e=this.containers.vertices;if(e==null)return this;const t=this.cell.vertexMarkup,r=this.$(e).empty();if(Ua.isStringMarkup(t)){const s=yp(t);this.cell.getVertices().forEach((h,g)=>{r.append(co.create(s(Object.assign({index:g},h))).node)})}return this}renderArrowheadMarkers(){const e=this.containers.arrowheads;if(e==null)return this;const t=this.cell.arrowheadMarkup,r=this.$(e).empty();if(Ua.isStringMarkup(t)){const s=yp(t),h=co.create(s({end:"source"})).node,g=co.create(s({end:"target"})).node;this.containers.sourceArrowhead=h,this.containers.targetArrowhead=g,r.append(h,g)}return this}update(e,t={}){this.cleanCache(),this.updateConnection(t);const r=this.cell.getAttrs();return r!=null&&this.updateAttrs(this.container,r,{attrs:e===r?null:e,selectors:this.selectors}),this.updateConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.updateTools(t),this}removeRedundantLinearVertices(e={}){const t=this.cell,r=t.getVertices(),s=[this.sourceAnchor,...r,this.targetAnchor],h=s.length,g=new i(s);g.simplify({threshold:.01});const y=g.points.map(D=>D.toJSON()),E=y.length;return h===E?0:(t.setVertices(y.slice(1,E-1),e),h-E)}updateConnectionPath(){const e=this.containers;if(e.connection){const t=this.getConnectionPathData();e.connection.setAttribute("d",t)}if(e.connectionWrap){const t=this.getConnectionPathData();e.connectionWrap.setAttribute("d",t)}e.sourceMarker&&e.targetMarker&&this.translateAndAutoOrientArrows(e.sourceMarker,e.targetMarker)}getTerminalView(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalAnchor(e){switch(e){case"source":return Fn.create(this.sourceAnchor);case"target":return Fn.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalConnectionPoint(e){switch(e){case"source":return Fn.create(this.sourcePoint);case"target":return Fn.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalMagnet(e,t={}){switch(e){case"source":{if(t.raw)return this.sourceMagnet;const r=this.sourceView;return r?this.sourceMagnet||r.container:null}case"target":{if(t.raw)return this.targetMagnet;const r=this.targetView;return r?this.targetMagnet||r.container:null}default:throw new Error(`Unknown terminal type '${e}'`)}}updateConnection(e={}){const t=this.cell;if(e.translateBy&&t.isFragmentDescendantOf(e.translateBy)){const r=e.tx||0,s=e.ty||0;this.routePoints=new i(this.routePoints).translate(r,s).points,this.translateConnectionPoints(r,s),this.path.translate(r,s)}else{const r=t.getVertices(),s=this.findAnchors(r);this.sourceAnchor=s.source,this.targetAnchor=s.target,this.routePoints=this.findRoutePoints(r);const h=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=h.source,this.targetPoint=h.target;const g=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,g.source||this.sourcePoint,g.target||this.targetPoint)}this.cleanCache()}findAnchors(e){const t=this.cell,r=t.source,s=t.target,h=e[0],g=e[e.length-1];return s.priority&&!r.priority?this.findAnchorsOrdered("target",g,"source",h):this.findAnchorsOrdered("source",h,"target",g)}findAnchorsOrdered(e,t,r,s){let h,g;const y=this.cell,E=y[e],D=y[r],V=this.getTerminalView(e),$=this.getTerminalView(r),J=this.getTerminalMagnet(e),de=this.getTerminalMagnet(r);if(V){let Ge;t?Ge=Fn.create(t):$?Ge=de:Ge=Fn.create(D),h=this.getAnchor(E.anchor,V,J,Ge,e)}else h=Fn.create(E);if($){const Ge=Fn.create(s||h);g=this.getAnchor(D.anchor,$,de,Ge,r)}else g=Fn.isPointLike(D)?Fn.create(D):new Fn;return{[e]:h,[r]:g}}getAnchor(e,t,r,s,h){const g=t.isEdgeElement(r),y=this.graph.options.connecting;let E=typeof e=="string"?{name:e}:e;if(!E){const $=g?(h==="source"?y.sourceEdgeAnchor:y.targetEdgeAnchor)||y.edgeAnchor:(h==="source"?y.sourceAnchor:y.targetAnchor)||y.anchor;E=typeof $=="string"?{name:$}:$}if(!E)throw new Error("Anchor should be specified.");let D;const V=E.name;if(g){const $=n2.registry.get(V);if(typeof $!="function")return n2.registry.onNotFound(V);D=fs($,this,t,r,s,E.args||{},h)}else{const $=t2.registry.get(V);if(typeof $!="function")return t2.registry.onNotFound(V);D=fs($,this,t,r,s,E.args||{},h)}return D?D.round(this.POINT_ROUNDING):new Fn}findRoutePoints(e=[]){const t=this.graph.options.connecting.router||Lv.presets.normal,r=this.cell.getRouter()||t;let s;if(typeof r=="function")s=fs(r,this,e,{},this);else{const h=typeof r=="string"?r:r.name,g=typeof r=="string"?{}:r.args||{},y=h?Lv.registry.get(h):Lv.presets.normal;if(typeof y!="function")return Lv.registry.onNotFound(h);s=fs(y,this,e,g,this)}return s==null?e.map(h=>Fn.create(h)):s.map(h=>Fn.create(h))}findConnectionPoints(e,t,r){const s=this.cell,h=this.graph.options.connecting,g=s.getSource(),y=s.getTarget(),E=this.sourceView,D=this.targetView,V=e[0],$=e[e.length-1];let J;if(E&&!E.isEdgeElement(this.sourceMagnet)){const Ge=this.sourceMagnet||E.container,Qe=V||r,xt=new u(Qe,t),Yt=g.connectionPoint||h.sourceConnectionPoint||h.connectionPoint;J=this.getConnectionPoint(Yt,E,Ge,xt,"source")}else J=t;let de;if(D&&!D.isEdgeElement(this.targetMagnet)){const Ge=this.targetMagnet||D.container,Qe=y.connectionPoint||h.targetConnectionPoint||h.connectionPoint,xt=$||t,Yt=new u(xt,r);de=this.getConnectionPoint(Qe,D,Ge,Yt,"target")}else de=r;return{source:J,target:de}}getConnectionPoint(e,t,r,s,h){const g=s.end;if(e==null)return g;const y=typeof e=="string"?e:e.name,E=typeof e=="string"?{}:e.args,D=r2.registry.get(y);if(typeof D!="function")return r2.registry.onNotFound(y);const V=fs(D,this,s,t,r,E||{},h);return V?V.round(this.POINT_ROUNDING):g}updateMarkerAttr(e){const t=this.cell.getAttrs(),r=`.${e}-marker`,s=t&&t[r];s&&this.updateAttrs(this.container,{},{attrs:{[r]:s},selectors:this.selectors})}findMarkerPoints(e,t,r){const s=J=>{const de=this.cell.getAttrs(),Ge=Object.keys(de);for(let Qe=0,xt=Ge.length;Qe<xt;Qe+=1){const Yt=de[Ge[Qe]];if(Yt[`${J}Marker`]||Yt[`${J}-marker`]){const fn=Yt.strokeWidth||Yt["stroke-width"];if(fn)return parseFloat(fn);break}}return null},h=e[0],g=e[e.length-1],y=this.containers.sourceMarker,E=this.containers.targetMarker,D=this.markerCache;let V,$;if(y){if(this.updateMarkerAttr("source"),D.sourceBBox=D.sourceBBox||Mc(y),D.sourceBBox.width>0){const J=_p(y);V=t.clone().move(h||r,D.sourceBBox.width*J.sx*-1)}}else{const J=s("source");J&&(V=t.clone().move(h||r,-J))}if(E){if(this.updateMarkerAttr("target"),D.targetBBox=D.targetBBox||Mc(E),D.targetBBox.width>0){const J=_p(E);$=r.clone().move(g||t,D.targetBBox.width*J.sx*-1)}}else{const J=s("target");J&&($=r.clone().move(g||t,-J))}return D.sourcePoint=V||t.clone(),D.targetPoint=$||r.clone(),{source:V,target:$}}findPath(e,t,r){const s=this.cell.getConnector()||this.graph.options.connecting.connector;let h,g,y;if(typeof s=="string"?h=s:(h=s.name,g=s.args),h){const D=Ib.registry.get(h);if(typeof D!="function")return Ib.registry.onNotFound(h);y=D}else y=Ib.presets.normal;const E=fs(y,this,t,r,e,Object.assign(Object.assign({},g),{raw:!0}),this);return typeof E=="string"?ki.parse(E):E}translateConnectionPoints(e,t){const r=this.markerCache;r.sourcePoint&&r.sourcePoint.translate(e,t),r.targetPoint&&r.targetPoint.translate(e,t),this.sourcePoint.translate(e,t),this.targetPoint.translate(e,t),this.sourceAnchor.translate(e,t),this.targetAnchor.translate(e,t)}updateLabelPositions(){if(this.containers.labels==null)return this;if(!this.path)return this;const t=this.cell,r=t.getLabels();if(r.length===0)return this;const s=t.getDefaultLabel(),h=this.normalizeLabelPosition(s.position);for(let g=0,y=r.length;g<y;g+=1){const E=r[g],D=this.labelCache[g];if(!D)continue;const V=this.normalizeLabelPosition(E.position),$=La({},h,V),J=this.getLabelTransformationMatrix($);D.setAttribute("transform",zg(J))}return this}updateToolsPosition(){if(this.containers.tools==null)return this;let e="",t=this.options.toolsOffset;const r=this.getConnectionLength();if(r!=null){r<this.options.shortLength&&(e="scale(.5)",t/=2);let s=this.getPointAtLength(t);if(s!=null&&Fa(this.toolCache,"transform",`translate(${s.x},${s.y}) ${e}`),this.options.doubleTools&&r>=this.options.longLength){const h=this.options.doubleToolsOffset||t;s=this.getPointAtLength(r-h),s!=null&&Fa(this.tool2Cache,"transform",`translate(${s.x},${s.y}) ${e}`),Fa(this.tool2Cache,"visibility","visible")}else this.options.doubleTools&&Fa(this.tool2Cache,"visibility","hidden")}return this}updateArrowheadMarkers(){const e=this.containers.arrowheads;if(e==null)return this;if(e.style.display==="none")return this;const t=this.containers.sourceArrowhead,r=this.containers.targetArrowhead;if(t&&r){const h=(this.getConnectionLength()||0)<this.options.shortLength?.5:1;_p(t,h),_p(r,h),this.translateAndAutoOrientArrows(t,r)}return this}updateTerminalProperties(e){const t=this.cell,r=this.graph,s=t[e],h=s&&s.cell,g=`${e}View`;if(!h)return this[g]=null,this.updateTerminalMagnet(e),!0;const y=r.getCellById(h);if(!y)throw new Error(`Edge's ${e} node with id "${h}" not exists`);const E=y.findView(r);return E?(this[g]=E,this.updateTerminalMagnet(e),!0):!1}updateTerminalMagnet(e){const t=`${e}Magnet`,r=this.getTerminalView(e);if(r){let s=r.getMagnetFromEdgeTerminal(this.cell[e]);s===r.container&&(s=null),this[t]=s}else this[t]=null}translateAndAutoOrientArrows(e,t){const r=this.routePoints;e&&QC(e,this.sourcePoint,r[0]||this.targetPoint,this.graph.view.stage),t&&QC(t,this.targetPoint,r[r.length-1]||this.sourcePoint,this.graph.view.stage)}getLabelPositionAngle(e){const t=this.cell.getLabelAt(e);return t&&t.position&&typeof t.position=="object"&&t.position.angle||0}getLabelPositionArgs(e){const t=this.cell.getLabelAt(e);if(t&&t.position&&typeof t.position=="object")return t.position.options}getDefaultLabelPositionArgs(){const e=this.cell.getDefaultLabel();if(e&&e.position&&typeof e.position=="object")return e.position.options}mergeLabelPositionArgs(e,t){return e===null?null:e===void 0?t===null?null:t:La({},t,e)}addLabel(e,t,r,s){let h,g,y=0,E;typeof e!="number"?(h=e.x,g=e.y,typeof t=="number"?(y=t,E=r):E=t):(h=e,g=t,typeof r=="number"?(y=r,E=s):E=r);const D=this.getDefaultLabelPositionArgs(),V=E,$=this.mergeLabelPositionArgs(V,D),J={position:this.getLabelPosition(h,g,y,$)},de=-1;return this.cell.insertLabel(J,de,E),de}addVertex(e,t,r){const s=typeof e!="number",h=s?e.x:e,g=s?e.y:t,y=s?t:r,E={x:h,y:g},D=this.getVertexIndex(h,g);return this.cell.insertVertex(E,D,y),D}sendToken(e,t,r){let s,h,g,y,E="linear";typeof t=="object"?(s=t.duration,h=t.reversed===!0,g=t.selector,t.rotate===!1?y="":t.rotate===!0?y="auto":t.rotate!=null&&(y=`${t.rotate}`),t.timing&&(E=t.timing)):(s=t,h=!1,g=null),s=s||1e3;const D={dur:`${s}ms`,repeatCount:"1",calcMode:E,fill:"freeze"};if(y&&(D.rotate=y),h&&(D.keyPoints="1;0",D.keyTimes="0;1"),typeof t=="object"){const{duration:Yt,reversed:fn,selector:Xt,rotate:zn,timing:xr}=t,Jr=dM(t,["duration","reversed","selector","rotate","timing"]);Object.keys(Jr).forEach(fi=>{D[fi]=Jr[fi]})}let V;if(typeof g=="string"?V=this.findOne(g,this.container,this.selectors):V=this.containers.connection?this.containers.connection:this.container.querySelector("path"),!(V instanceof SVGPathElement))throw new Error("Token animation requires a valid connection path.");const $=typeof e=="string"?this.findOne(e):e;if($==null)throw new Error("Token animation requires a valid token element.");const J=$.parentNode,de=()=>{J||Ch($)},Ge=co.create($);J||Ge.appendTo(this.graph.view.stage);const Qe=D.complete;D.complete=Yt=>{de(),r&&r(),Qe&&Qe(Yt)};const xt=Ge.animateAlongPath(D,V);return()=>{de(),xt()}}getConnection(){return this.path!=null?this.path.clone():null}getConnectionPathData(){if(this.path==null)return"";const e=this.cache.pathCache;return $a(e,"data")||(e.data=this.path.serialize()),e.data||""}getConnectionSubdivisions(){if(this.path==null)return null;const e=this.cache.pathCache;return $a(e,"segmentSubdivisions")||(e.segmentSubdivisions=this.path.getSegmentSubdivisions()),e.segmentSubdivisions}getConnectionLength(){if(this.path==null)return 0;const e=this.cache.pathCache;return $a(e,"length")||(e.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),e.length}getPointAtLength(e){return this.path==null?null:this.path.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(e){return this.path==null?null:(Gf(e)&&(e=parseFloat(e)/100),this.path.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(e){return this.path==null?null:this.path.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(e){return this.path==null?null:this.path.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(e){return this.path==null?null:this.path.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(e){return this.path==null?null:this.path.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(e){return this.path==null?null:this.path.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(e,t,r,s){const h={distance:0};let g=0,y;typeof r=="number"?(g=r,y=s):y=r,y!=null&&(h.options=y);const E=y&&y.absoluteOffset,D=!(y&&y.absoluteDistance),V=y&&y.absoluteDistance&&y.reverseDistance,$=this.path,J={segmentSubdivisions:this.getConnectionSubdivisions()},de=new Fn(e,t),Ge=$.closestPointT(de,J),Qe=this.getConnectionLength()||0;let xt=$.lengthAtT(Ge,J);D&&(xt=Qe>0?xt/Qe:0),V&&(xt=-1*(Qe-xt)||1),h.distance=xt;let Yt;E||(Yt=$.tangentAtT(Ge));let fn;if(Yt)fn=Yt.pointOffset(de);else{const Xt=$.pointAtT(Ge),zn=de.diff(Xt);fn={x:zn.x,y:zn.y}}return h.offset=fn,h.angle=g,h}normalizeLabelPosition(e){return typeof e=="number"?{distance:e}:e}getLabelTransformationMatrix(e){const t=this.normalizeLabelPosition(e),r=t.options||{},s=t.angle||0,h=t.distance,g=h>0&&h<=1;let y=0;const E={x:0,y:0},D=t.offset;D&&(typeof D=="number"?y=D:(D.x!=null&&(E.x=D.x),D.y!=null&&(E.y=D.y)));const V=E.x!==0||E.y!==0||y===0,$=r.keepGradient,J=r.ensureLegibility,de=this.path,Ge={segmentSubdivisions:this.getConnectionSubdivisions()},Qe=g?h*this.getConnectionLength():h,xt=de.tangentAtLength(Qe,Ge);let Yt,fn=s;if(xt){if(V)Yt=xt.start,Yt.translate(E);else{const Xt=xt.clone();Xt.rotate(-90,xt.start),Xt.setLength(y),Yt=Xt.end}$&&(fn=xt.angle()+s,J&&(fn=wa.normalize((fn+90)%180-90)))}else Yt=de.start,V&&Yt.translate(E);return Ac().translate(Yt.x,Yt.y).rotate(fn)}getLabelCoordinates(e){const t=this.getLabelTransformationMatrix(e);return new Fn(t.e,t.f)}getVertexIndex(e,t){const s=this.cell.getVertices(),h=this.getClosestPointLength(new Fn(e,t));let g=0;if(h!=null)for(const y=s.length;g<y;g+=1){const E=s[g],D=this.getClosestPointLength(E);if(D!=null&&h<D)break}return g}getEventArgs(e,t,r){const s=this,h=s.cell,g=h;return t==null||r==null?{e,view:s,edge:h,cell:g}:{e,x:t,y:r,view:s,edge:h,cell:g}}notifyUnhandledMouseDown(e,t,r){this.notify("edge:unhandled:mousedown",{e,x:t,y:r,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(e,t,r){super.onMouseDown(e,t,r),this.notify("edge:mousedown",this.getEventArgs(e,t,r))}notifyMouseMove(e,t,r){super.onMouseMove(e,t,r),this.notify("edge:mousemove",this.getEventArgs(e,t,r))}notifyMouseUp(e,t,r){super.onMouseUp(e,t,r),this.notify("edge:mouseup",this.getEventArgs(e,t,r))}onClick(e,t,r){super.onClick(e,t,r),this.notify("edge:click",this.getEventArgs(e,t,r))}onDblClick(e,t,r){super.onDblClick(e,t,r),this.notify("edge:dblclick",this.getEventArgs(e,t,r))}onContextMenu(e,t,r){super.onContextMenu(e,t,r),this.notify("edge:contextmenu",this.getEventArgs(e,t,r))}onMouseDown(e,t,r){switch(this.notifyMouseDown(e,t,r),e.target.getAttribute("class")){case"vertex":{this.startVertexDragging(e,t,r);return}case"vertex-remove":case"vertex-remove-area":{this.handleVertexRemoving(e,t,r);return}case"connection":case"connection-wrap":{this.handleVertexAdding(e,t,r);return}case"arrowhead":{this.startArrowheadDragging(e,t,r);return}case"source-marker":case"target-marker":{this.notifyUnhandledMouseDown(e,t,r);return}default:break}this.startEdgeDragging(e,t,r)}onMouseMove(e,t,r){const s=this.getEventData(e);switch(s.action){case"drag-vertex":{this.dragVertex(e,t,r);break}case"drag-label":{this.dragLabel(e,t,r);break}case"drag-arrowhead":{this.dragArrowhead(e,t,r);break}case"drag-edge":{this.dragEdge(e,t,r);break}default:break}return this.notifyMouseMove(e,t,r),s}onMouseUp(e,t,r){const s=this.getEventData(e);switch(s.action){case"drag-vertex":{this.stopVertexDragging(e,t,r);break}case"drag-label":{this.stopLabelDragging(e,t,r);break}case"drag-arrowhead":{this.stopArrowheadDragging(e,t,r);break}case"drag-edge":{this.stopEdgeDragging(e,t,r);break}default:break}return this.notifyMouseUp(e,t,r),this.checkMouseleave(e),s}onMouseOver(e){super.onMouseOver(e),this.notify("edge:mouseover",this.getEventArgs(e))}onMouseOut(e){super.onMouseOut(e),this.notify("edge:mouseout",this.getEventArgs(e))}onMouseEnter(e){super.onMouseEnter(e),this.notify("edge:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("edge:mouseleave",this.getEventArgs(e))}onMouseWheel(e,t,r,s){super.onMouseWheel(e,t,r,s),this.notify("edge:mousewheel",Object.assign({delta:s},this.getEventArgs(e,t,r)))}onCustomEvent(e,t,r,s){if(bv(e.target,"edge-tool",this.container)){if(e.stopPropagation(),this.can("useEdgeTools")){if(t==="edge:remove"){this.cell.remove({ui:!0});return}this.notify("edge:customevent",Object.assign({name:t},this.getEventArgs(e,r,s)))}this.notifyMouseDown(e,r,s)}else this.notify("edge:customevent",Object.assign({name:t},this.getEventArgs(e,r,s))),super.onCustomEvent(e,t,r,s)}onLabelMouseDown(e,t,r){this.notifyMouseDown(e,t,r),this.startLabelDragging(e,t,r),this.getEventData(e).stopPropagation&&e.stopPropagation()}startEdgeDragging(e,t,r){if(!this.can("edgeMovable")){this.notifyUnhandledMouseDown(e,t,r);return}this.setEventData(e,{x:t,y:r,moving:!1,action:"drag-edge"})}dragEdge(e,t,r){const s=this.getEventData(e);s.moving||(s.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e,x:t,y:r,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(t-s.x,r-s.y,{ui:!0}),this.setEventData(e,{x:t,y:r}),this.notify("edge:moving",{e,x:t,y:r,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(e,t,r){const s=this.getEventData(e);s.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e,x:t,y:r,view:this,cell:this.cell,edge:this.cell})),s.moving=!1}prepareArrowheadDragging(e,t){const r=this.getTerminalMagnet(e),s={action:"drag-arrowhead",x:t.x,y:t.y,isNewEdge:t.isNewEdge===!0,terminalType:e,initialMagnet:r,initialTerminal:Xh(this.cell[e]),fallbackAction:t.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(e),options:t.options};return this.beforeArrowheadDragging(s),s}createValidateConnectionArgs(e){const t=[];t[4]=e,t[5]=this;let r,s=0,h=0;e==="source"?(s=2,r="target"):(h=2,r="source");const g=this.cell[r],y=g.cell;if(y){let E;const D=t[s]=this.graph.renderer.findViewByCell(y);D&&(E=D.getMagnetFromEdgeTerminal(g),E===D.container&&(E=void 0)),t[s+1]=E}return(E,D)=>(t[h]=E,t[h+1]=E.container===D?void 0:D,t)}beforeArrowheadDragging(e){e.zIndex=this.cell.zIndex,this.cell.toFront();const t=this.container.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(e)}afterArrowheadDragging(e){e.zIndex!=null&&(this.cell.setZIndex(e.zIndex,{ui:!0}),e.zIndex=null);const t=this.container;t.style.pointerEvents=e.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(e)}arrowheadDragging(e,t,r,s){s.x=t,s.y=r,s.currentTarget!==e&&(s.currentMagnet&&s.currentView&&s.currentView.unhighlight(s.currentMagnet,{type:"magnetAdsorbed"}),s.currentView=this.graph.renderer.findViewByElem(e),s.currentView?(s.currentMagnet=s.currentView.findMagnet(e),s.currentMagnet&&this.graph.hook.validateConnection(...s.getValidateConnectionArgs(s.currentView,s.currentMagnet),s.currentView.getEdgeTerminal(s.currentMagnet,t,r,this.cell,s.terminalType))?s.currentView.highlight(s.currentMagnet,{type:"magnetAdsorbed"}):s.currentMagnet=null):s.currentMagnet=null),s.currentTarget=e,this.cell.prop(s.terminalType,{x:t,y:r},Object.assign(Object.assign({},s.options),{ui:!0}))}arrowheadDragged(e,t,r){const s=e.currentView,h=e.currentMagnet;if(!h||!s)return;s.unhighlight(h,{type:"magnetAdsorbed"});const g=e.terminalType,y=s.getEdgeTerminal(h,t,r,this.cell,g);this.cell.setTerminal(g,y,{ui:!0})}snapArrowhead(e,t,r){const s=this.graph,{snap:h,allowEdge:g}=s.options.connecting,y=typeof h=="object"&&h.radius||50,E={x:e-y,y:t-y,width:2*y,height:2*y},D=s.renderer.findViewsInArea(E);if(g){const zn=s.renderer.findEdgeViewsInArea(E).filter(xr=>xr!==this);D.push(...zn)}const V=r.closestView||null,$=r.closestMagnet||null;r.closestView=null,r.closestMagnet=null;let J,de=Number.MAX_SAFE_INTEGER;const Ge=new Fn(e,t);D.forEach(zn=>{zn.container.getAttribute("magnet")!=="false"&&(J=zn.cell.getBBox().getCenter().distance(Ge),J<y&&J<de&&($===zn.container||s.hook.validateConnection(...r.getValidateConnectionArgs(zn,null),zn.getEdgeTerminal(zn.container,e,t,this.cell,r.terminalType)))&&(de=J,r.closestView=zn,r.closestMagnet=zn.container)),zn.container.querySelectorAll("[magnet]").forEach(xr=>{if(xr.getAttribute("magnet")!=="false"){const Jr=zn.getBBoxOfElement(xr);J=Ge.distance(Jr.getCenter()),J<y&&J<de&&($===xr||s.hook.validateConnection(...r.getValidateConnectionArgs(zn,xr),zn.getEdgeTerminal(xr,e,t,this.cell,r.terminalType)))&&(de=J,r.closestView=zn,r.closestMagnet=xr)}})});let Qe;const xt=r.terminalType,Yt=r.closestView,fn=r.closestMagnet,Xt=$!==fn;if(V&&Xt&&V.unhighlight($,{type:"magnetAdsorbed"}),Yt){if(!Xt)return;Yt.highlight(fn,{type:"magnetAdsorbed"}),Qe=Yt.getEdgeTerminal(fn,e,t,this.cell,xt)}else Qe={x:e,y:t};this.cell.setTerminal(xt,Qe,{},Object.assign(Object.assign({},r.options),{ui:!0}))}snapArrowheadEnd(e){const t=e.closestView,r=e.closestMagnet;t&&r&&(t.unhighlight(r,{type:"magnetAdsorbed"}),e.currentMagnet=t.findMagnet(r)),e.closestView=null,e.closestMagnet=null}finishEmbedding(e){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(e.zIndex=null)}fallbackConnection(e){switch(e.fallbackAction){case"remove":this.cell.remove({ui:!0});break;case"revert":default:this.cell.prop(e.terminalType,e.initialTerminal,{ui:!0});break}}notifyConnectionEvent(e,t){const r=e.terminalType,s=e.initialTerminal,h=this.cell[r];if(h&&!ql.equalTerminals(s,h)){const y=this.graph,E=s,D=E.cell?y.getCellById(E.cell):null,V=E.port,$=D?y.findViewByCell(D):null,J=D||e.isNewEdge?null:Fn.create(s).toJSON(),de=h,Ge=de.cell?y.getCellById(de.cell):null,Qe=de.port,xt=Ge?y.findViewByCell(Ge):null,Yt=Ge?null:Fn.create(h).toJSON();this.notify("edge:connected",{e:t,previousCell:D,previousPort:V,previousView:$,previousPoint:J,currentCell:Ge,currentView:xt,currentPort:Qe,currentPoint:Yt,previousMagnet:e.initialMagnet,currentMagnet:e.currentMagnet,edge:this.cell,view:this,type:r,isNew:e.isNewEdge})}}highlightAvailableMagnets(e){const t=this.graph,r=t.model.getCells();e.marked={};for(let s=0,h=r.length;s<h;s+=1){const g=t.renderer.findViewByCell(r[s]);if(!g)continue;const y=Array.prototype.slice.call(g.container.querySelectorAll("[magnet]"));g.container.getAttribute("magnet")!=="false"&&y.push(g.container);const E=y.filter(D=>t.hook.validateConnection(...e.getValidateConnectionArgs(g,D),g.getEdgeTerminal(D,e.x,e.y,this.cell,e.terminalType)));if(E.length>0){for(let D=0,V=E.length;D<V;D+=1)g.highlight(E[D],{type:"magnetAvailable"});g.highlight(null,{type:"nodeAvailable"}),e.marked[g.cell.id]=E}}}unhighlightAvailableMagnets(e){const t=e.marked||{};Object.keys(t).forEach(r=>{const s=this.graph.renderer.findViewByCell(r);s&&(t[r].forEach(g=>{s.unhighlight(g,{type:"magnetAvailable"})}),s.unhighlight(null,{type:"nodeAvailable"}))}),e.marked=null}startArrowheadDragging(e,t,r){if(!this.can("arrowheadMovable")){this.notifyUnhandledMouseDown(e,t,r);return}const h=e.target.getAttribute("data-terminal"),g=this.prepareArrowheadDragging(h,{x:t,y:r});this.setEventData(e,g)}dragArrowhead(e,t,r){const s=this.getEventData(e);this.graph.options.connecting.snap?this.snapArrowhead(t,r,s):this.arrowheadDragging(this.getEventTarget(e),t,r,s)}stopArrowheadDragging(e,t,r){const s=this.graph,h=this.getEventData(e);s.options.connecting.snap?this.snapArrowheadEnd(h):this.arrowheadDragged(h,t,r),s.hook.validateEdge(this.cell,h.terminalType,h.initialTerminal)?(this.finishEmbedding(h),this.notifyConnectionEvent(h,e)):this.fallbackConnection(h),this.afterArrowheadDragging(h)}startLabelDragging(e,t,r){if(this.can("edgeLabelMovable")){const s=e.currentTarget,h=parseInt(s.getAttribute("data-index"),10),g=this.getLabelPositionAngle(h),y=this.getLabelPositionArgs(h),E=this.getDefaultLabelPositionArgs(),D=this.mergeLabelPositionArgs(y,E);this.setEventData(e,{index:h,positionAngle:g,positionArgs:D,stopPropagation:!0,action:"drag-label"})}else this.setEventData(e,{stopPropagation:!0});this.graph.view.delegateDragEvents(e,this)}dragLabel(e,t,r){const s=this.getEventData(e),h=this.cell.getLabelAt(s.index),g=La({},h,{position:this.getLabelPosition(t,r,s.positionAngle,s.positionArgs)});this.cell.setLabelAt(s.index,g)}stopLabelDragging(e,t,r){}handleVertexAdding(e,t,r){if(!this.can("vertexAddable")){this.notifyUnhandledMouseDown(e,t,r);return}const s=this.addVertex({x:t,y:r},{ui:!0});this.setEventData(e,{index:s,action:"drag-vertex"})}handleVertexRemoving(e,t,r){if(!this.can("vertexDeletable")){this.notifyUnhandledMouseDown(e,t,r);return}const s=e.target,h=parseInt(s.getAttribute("idx"),10);this.cell.removeVertexAt(h)}startVertexDragging(e,t,r){if(!this.can("vertexMovable")){this.notifyUnhandledMouseDown(e,t,r);return}const s=e.target,h=parseInt(s.getAttribute("idx"),10);this.setEventData(e,{index:h,action:"drag-vertex"})}dragVertex(e,t,r){const s=this.getEventData(e);this.cell.setVertexAt(s.index,{x:t,y:r},{ui:!0})}stopVertexDragging(e,t,r){}}(function(a){a.toStringTag=`X6.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;return(r==null||r===a.toStringTag)&&typeof s.isNodeView=="function"&&typeof s.isEdgeView=="function"&&typeof s.confirmUpdate=="function"&&typeof s.update=="function"&&typeof s.getConnection=="function"}a.isEdgeView=e})(Fv||(Fv={})),Fv.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],vertices:["vertices","update"],vertexMarkup:["vertices"],toolMarkup:["tools"],tools:["widget"]},shortLength:105,longLength:155,toolsOffset:40,doubleTools:!1,doubleToolsOffset:65,sampleInterval:50}),Fv.registry.register("edge",Fv,!0);class Wf extends dc{constructor(){super(...arguments),this.scalableNode=null,this.rotatableNode=null,this.scalableSelector="scalable",this.rotatableSelector="rotatable",this.defaultPortMarkup=Ua.getPortMarkup(),this.defaultPortLabelMarkup=Ua.getPortLabelMarkup(),this.defaultPortContainerMarkup=Ua.getPortContainerMarkup(),this.portsCache={}}get[Symbol.toStringTag](){return Wf.toStringTag}getContainerClassName(){const e=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||e.push(this.prefixClassName("node-immovable")),e.join(" ")}updateClassName(e){const t=e.target;if(t.hasAttribute("magnet")){const r=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?nu(t,r):ja(t,r)}else{const r=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(r):this.addClass(r)}}isNodeView(){return!0}confirmUpdate(e,t={}){let r=e;return this.hasAction(r,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(r,"render")?(this.render(),r=this.removeAction(r,["render","update","resize","translate","rotate","ports","tools"])):(r=this.handleAction(r,"resize",()=>this.resize(t),"update"),r=this.handleAction(r,"update",()=>this.update(),_d.useCSSSelector?"ports":null),r=this.handleAction(r,"translate",()=>this.translate()),r=this.handleAction(r,"rotate",()=>this.rotate()),r=this.handleAction(r,"ports",()=>this.renderPorts()),r=this.handleAction(r,"tools",()=>this.renderTools())),r}update(e){this.cleanCache(),_d.useCSSSelector&&this.removePorts();const t=this.cell,r=t.getSize(),s=t.getAttrs();this.updateAttrs(this.container,s,{attrs:e===s?null:e,rootBBox:new Ao(0,0,r.width,r.height),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode}),_d.useCSSSelector&&this.renderPorts()}renderMarkup(){const e=this.cell.markup;if(e)return typeof e=="string"?this.renderStringMarkup(e):this.renderJSONMarkup(e);throw new TypeError("Invalid node markup.")}renderJSONMarkup(e){const t=this.parseJSONMarkup(e,this.container),r=s=>Array.isArray(s)?s[0]:s;this.selectors=t.selectors,this.rotatableNode=r(this.selectors[this.rotatableSelector]),this.scalableNode=r(this.selectors[this.scalableSelector]),this.container.appendChild(t.fragment)}renderStringMarkup(e){ed(this.container,co.toNodes(co.createVectors(e))),this.rotatableNode=B1(this.container,`.${this.rotatableSelector}`),this.scalableNode=B1(this.container,`.${this.scalableSelector}`),this.selectors={},this.rootSelector&&(this.selectors[this.rootSelector]=this.container)}render(){return this.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransform(),_d.useCSSSelector||this.renderPorts(),this.renderTools(),this}resize(e={}){if(this.scalableNode)return this.updateSize(e);this.cell.getAngle()&&this.rotate(),this.update()}translate(){if(this.rotatableNode)return this.updateTranslation();this.updateTransform()}rotate(){if(this.rotatableNode){this.updateRotation(),this.update();return}this.updateTransform()}getTranslationString(){const e=this.cell.getPosition();return`translate(${e.x},${e.y})`}getRotationString(){const e=this.cell.getAngle();if(e){const t=this.cell.getSize();return`rotate(${e},${t.width/2},${t.height/2})`}}updateTransform(){let e=this.getTranslationString();const t=this.getRotationString();t&&(e+=` ${t}`),this.container.setAttribute("transform",e)}updateRotation(){if(this.rotatableNode!=null){const e=this.getRotationString();e!=null?this.rotatableNode.setAttribute("transform",e):this.rotatableNode.removeAttribute("transform")}}updateTranslation(){this.container.setAttribute("transform",this.getTranslationString())}updateSize(e={}){const t=this.cell,r=t.getSize(),s=t.getAngle(),h=this.scalableNode;let g=!1;h.getElementsByTagName("path").length>0&&(g=!0);const y=Mc(h,{recursive:g}),E=r.width/(y.width||1),D=r.height/(y.height||1);h.setAttribute("transform",`scale(${E},${D})`);const V=this.rotatableNode;if(V!=null){const $=V.getAttribute("transform");if($){V.setAttribute("transform",`${$} rotate(${-s},${r.width/2},${r.height/2})`);const J=Mc(h,{target:this.graph.view.stage});t.prop("position",{x:J.x,y:J.y},Object.assign({updated:!0},e)),this.translate(),this.rotate()}}this.update()}findPortElem(e,t){const r=e?this.portsCache[e]:null;if(!r)return null;const s=r.portContentElement,h=r.portContentSelectors||{};return this.findOne(t,s,h)}initializePorts(){this.cleanPortsCache()}refreshPorts(){this.removePorts(),this.cleanPortsCache(),this.renderPorts()}cleanPortsCache(){this.portsCache={}}removePorts(){Object.keys(this.portsCache).forEach(e=>{const t=this.portsCache[e];Ch(t.portElement)})}renderPorts(){const e=this.getPortsContainer(),t=[];e.childNodes.forEach(h=>{t.push(h)});const r=Fi(this.cell.getParsedPorts(),"zIndex"),s="auto";r[s]&&r[s].forEach(h=>{const g=this.getPortElement(h);e.append(g),t.push(g)}),Object.keys(r).forEach(h=>{if(h!==s){const g=parseInt(h,10);this.appendPorts(r[h],g,t)}}),this.updatePorts()}getPortsContainer(){return this.rotatableNode||this.container}appendPorts(e,t,r){const s=e.map(h=>this.getPortElement(h));r[t]||t<0?Ap(r[Math.max(t,0)],s):ed(this.getPortsContainer(),s)}getPortElement(e){const t=this.portsCache[e.id];return t?t.portElement:this.createPortElement(e)}createPortElement(e){let t=Ua.renderMarkup(this.getPortContainerMarkup());const r=t.elem;if(r==null)throw new Error("Invalid port container markup.");t=Ua.renderMarkup(this.getPortMarkup(e));const s=t.elem,h=t.selectors;if(s==null)throw new Error("Invalid port markup.");this.setAttrs({port:e.id,"port-group":e.group},s),t=Ua.renderMarkup(this.getPortLabelMarkup(e.label));const g=t.elem,y=t.selectors;if(g==null)throw new Error("Invalid port label markup.");let E;if(h&&y){for(const V in y)if(h[V]&&V!==this.rootSelector)throw new Error("Selectors within port must be unique.");E=Object.assign(Object.assign({},h),y)}else E=h||y;let D="x6-port";return e.group&&(D+=` x6-port-${e.group}`),ja(r,D),ja(s,"x6-port-body"),ja(g,"x6-port-label"),r.appendChild(s),r.appendChild(g),this.portsCache[e.id]={portElement:r,portSelectors:E,portLabelElement:g,portLabelSelectors:y,portContentElement:s,portContentSelectors:h},this.graph.hook.onPortRendered({port:e,node:this.cell,container:r,selectors:E,labelContainer:g,labelSelectors:y,contentContainer:s,contentSelectors:h}),r}updatePorts(){this.updatePortGroup();const e=this.cell.getParsedGroups();Object.keys(e).forEach(t=>this.updatePortGroup(t))}updatePortGroup(e){const t=Ao.fromSize(this.cell.getSize()),r=this.cell.getPortsLayoutByGroup(e,t);for(let s=0,h=r.length;s<h;s+=1){const g=r[s],y=g.portId,E=this.portsCache[y]||{},D=g.portLayout;if(this.applyPortTransform(E.portElement,D),g.portAttrs!=null){const $={selectors:E.portSelectors||{}};g.portSize&&($.rootBBox=Ao.fromSize(g.portSize)),this.updateAttrs(E.portElement,g.portAttrs,$)}const V=g.labelLayout;if(V&&(this.applyPortTransform(E.portLabelElement,V,-(D.angle||0)),V.attrs)){const $={selectors:E.portLabelSelectors||{}};g.labelSize&&($.rootBBox=Ao.fromSize(g.labelSize)),this.updateAttrs(E.portLabelElement,V.attrs,$)}}}applyPortTransform(e,t,r=0){const s=t.angle,h=t.position,g=Ac().rotate(r).translate(h.x||0,h.y||0).rotate(s||0);Iv(e,g,{absolute:!0})}getPortContainerMarkup(){return this.cell.getPortContainerMarkup()||this.defaultPortContainerMarkup}getPortMarkup(e){return e.markup||this.cell.portMarkup||this.defaultPortMarkup}getPortLabelMarkup(e){return e.markup||this.cell.portLabelMarkup||this.defaultPortLabelMarkup}getEventArgs(e,t,r){const s=this,h=s.cell,g=h;return t==null||r==null?{e,view:s,node:h,cell:g}:{e,x:t,y:r,view:s,node:h,cell:g}}notifyMouseDown(e,t,r){super.onMouseDown(e,t,r),this.notify("node:mousedown",this.getEventArgs(e,t,r))}notifyMouseMove(e,t,r){super.onMouseMove(e,t,r),this.notify("node:mousemove",this.getEventArgs(e,t,r))}notifyMouseUp(e,t,r){super.onMouseUp(e,t,r),this.notify("node:mouseup",this.getEventArgs(e,t,r))}onClick(e,t,r){super.onClick(e,t,r),this.notify("node:click",this.getEventArgs(e,t,r))}onDblClick(e,t,r){super.onDblClick(e,t,r),this.notify("node:dblclick",this.getEventArgs(e,t,r))}onContextMenu(e,t,r){super.onContextMenu(e,t,r),this.notify("node:contextmenu",this.getEventArgs(e,t,r))}onMouseDown(e,t,r){if(this.isPropagationStopped(e))return;const s=e.target;Lg(s)||hb(s)||(this.notifyMouseDown(e,t,r),this.startNodeDragging(e,t,r))}onMouseMove(e,t,r){const s=this.getEventData(e),h=s.action;if(h==="magnet")this.dragMagnet(e,t,r);else{if(h==="move"){const y=s.targetView||this;y.dragNode(e,t,r),y.notify("node:moving",{e,x:t,y:r,view:y,cell:y.cell,node:y.cell})}this.notifyMouseMove(e,t,r)}this.setEventData(e,s)}onMouseUp(e,t,r){const s=this.getEventData(e),h=s.action;if(h==="magnet")this.stopMagnetDragging(e,t,r);else{const y=e.target;if(Lg(y)||hb(y))return;this.notifyMouseUp(e,t,r),h==="move"&&(s.targetView||this).stopNodeDragging(e,t,r)}const g=s.targetMagnet;g&&this.onMagnetClick(e,g,t,r),this.checkMouseleave(e)}onMouseOver(e){super.onMouseOver(e),this.notify("node:mouseover",this.getEventArgs(e))}onMouseOut(e){super.onMouseOut(e),this.notify("node:mouseout",this.getEventArgs(e))}onMouseEnter(e){this.updateClassName(e),super.onMouseEnter(e),this.notify("node:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("node:mouseleave",this.getEventArgs(e))}onMouseWheel(e,t,r,s){super.onMouseWheel(e,t,r,s),this.notify("node:mousewheel",Object.assign({delta:s},this.getEventArgs(e,t,r)))}onMagnetClick(e,t,r,s){this.graph.view.getMouseMovedCount(e)>this.graph.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:t},this.getEventArgs(e,r,s)))}onMagnetDblClick(e,t,r,s){this.notify("node:magnet:dblclick",Object.assign({magnet:t},this.getEventArgs(e,r,s)))}onMagnetContextMenu(e,t,r,s){this.notify("node:magnet:contextmenu",Object.assign({magnet:t},this.getEventArgs(e,r,s)))}onMagnetMouseDown(e,t,r,s){this.startMagnetDragging(e,r,s)}onCustomEvent(e,t,r,s){this.notify("node:customevent",Object.assign({name:t},this.getEventArgs(e,r,s))),super.onCustomEvent(e,t,r,s)}prepareEmbedding(e){const r=this.getEventData(e).cell||this.cell,s=this.graph.findViewByCell(r),h=this.graph.snapToGrid(e.clientX,e.clientY);this.notify("node:embed",{e,node:r,view:s,cell:r,x:h.x,y:h.y,currentParent:r.getParent()})}processEmbedding(e,t){const r=t.cell||this.cell,s=t.graph||this.graph,h=s.options.embedding,g=h.findParent;let y=typeof g=="function"?fs(g,s,{view:this,node:this.cell}).filter(J=>Na.isCell(J)&&this.cell.id!==J.id&&!J.isDescendantOf(this.cell)):s.model.getNodesUnderNode(r,{by:g});if(h.frontOnly&&y.length>0){const J=Fi(y,"zIndex"),de=ys(Object.keys(J).map(Ge=>parseInt(Ge,10)));de&&(y=J[de])}y=y.filter(J=>J.visible);let E=null;const D=t.candidateEmbedView,V=h.validate;for(let J=y.length-1;J>=0;J-=1){const de=y[J];if(D&&D.cell.id===de.id){E=D;break}else{const Ge=de.findView(s);if(fs(V,s,{child:this.cell,parent:Ge.cell,childView:this,parentView:Ge})){E=Ge;break}}}this.clearEmbedding(t),E&&E.highlight(null,{type:"embedding"}),t.candidateEmbedView=E;const $=s.snapToGrid(e.clientX,e.clientY);this.notify("node:embedding",{e,cell:r,node:r,view:s.findViewByCell(r),x:$.x,y:$.y,currentParent:r.getParent(),candidateParent:E?E.cell:null})}clearEmbedding(e){const t=e.candidateEmbedView;t&&(t.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null)}finalizeEmbedding(e,t){this.graph.startBatch("embedding");const r=t.cell||this.cell,s=t.graph||this.graph,h=s.findViewByCell(r),g=r.getParent(),y=t.candidateEmbedView;if(y?(y.unhighlight(null,{type:"embedding"}),t.candidateEmbedView=null,(g==null||g.id!==y.cell.id)&&y.cell.insertChild(r,void 0,{ui:!0})):g&&g.unembed(r,{ui:!0}),s.model.getConnectedEdges(r,{deep:!0}).forEach(E=>{E.updateParent({ui:!0})}),h&&y){const E=s.snapToGrid(e.clientX,e.clientY);h.notify("node:embedded",{e,cell:r,x:E.x,y:E.y,node:r,view:s.findViewByCell(r),previousParent:g,currentParent:r.getParent()})}this.graph.stopBatch("embedding")}getDelegatedView(){let e=this.cell,t=this;for(;t&&!e.isEdge();){if(!e.hasParent()||t.can("stopDelegateOnDragging"))return t;e=e.getParent(),t=this.graph.renderer.findViewByCell(e)}return null}startMagnetDragging(e,t,r){if(!this.can("magnetConnectable"))return;e.stopPropagation();const s=e.currentTarget,h=this.graph;this.setEventData(e,{targetMagnet:s}),h.hook.validateMagnet(this,s,e)?(h.options.magnetThreshold<=0&&this.startConnectting(e,s,t,r),this.setEventData(e,{action:"magnet"}),this.stopPropagation(e)):((_g(s,"x6-port-body")||vt()(s).closest(".x6-port-body").length>0)&&this.stopPropagation(e),this.onMouseDown(e,t,r)),h.view.delegateDragEvents(e,this)}startConnectting(e,t,r,s){this.graph.model.startBatch("add-edge");const h=this.createEdgeFromMagnet(t,r,s);h.notifyMouseDown(e,r,s),h.setEventData(e,h.prepareArrowheadDragging("target",{x:r,y:s,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(e,{edgeView:h})}createEdgeFromMagnet(e,t,r){const s=this.graph,h=s.model,g=s.hook.getDefaultEdge(this,e);return g.setSource(Object.assign(Object.assign({},g.getSource()),this.getEdgeTerminal(e,t,r,g,"source"))),g.setTarget(Object.assign(Object.assign({},g.getTarget()),{x:t,y:r})),g.addTo(h,{async:!1,ui:!0}),g.findView(s)}dragMagnet(e,t,r){const s=this.getEventData(e),h=s.edgeView;if(h)h.onMouseMove(e,t,r),this.autoScrollGraph(e.clientX,e.clientY);else{const g=this.graph,y=g.options.magnetThreshold,E=this.getEventTarget(e),D=s.targetMagnet;if(y==="onleave"){if(D===E||D.contains(E))return}else if(g.view.getMouseMovedCount(e)<=y)return;this.startConnectting(e,D,t,r)}}stopMagnetDragging(e,t,r){const h=this.eventData(e).edgeView;h&&(h.onMouseUp(e,t,r),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(e,t,r){this.notify("node:unhandled:mousedown",{e,x:t,y:r,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(e,t,r,s,h){let g=[h];const y=this.graph.selection.widget;if(y&&y.options.movable){const E=this.graph.getSelectedCells();E.includes(h)&&(g=E.filter(D=>D.isNode()))}g.forEach(E=>{this.notify(e,{e:t,x:r,y:s,cell:E,node:E,view:E.findView(this.graph)})})}startNodeDragging(e,t,r){const s=this.getDelegatedView();if(s==null||!s.can("nodeMovable"))return this.notifyUnhandledMouseDown(e,t,r);this.setEventData(e,{targetView:s,action:"move"});const h=Fn.create(s.cell.getPosition());s.setEventData(e,{moving:!1,offset:h.diff(t,r),restrict:this.graph.hook.getRestrictArea(s)})}dragNode(e,t,r){const s=this.cell,h=this.graph,g=h.getGridSize(),y=this.getEventData(e),E=y.offset,D=y.restrict;y.moving||(y.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",e,t,r,this.cell)),this.autoScrollGraph(e.clientX,e.clientY);const V=Fc.snapToGrid(t+E.x,g),$=Fc.snapToGrid(r+E.y,g);s.setPosition(V,$,{restrict:D,deep:!0,ui:!0}),h.options.embedding.enabled&&(y.embedding||(this.prepareEmbedding(e),y.embedding=!0),this.processEmbedding(e,y))}stopNodeDragging(e,t,r){const s=this.getEventData(e);s.embedding&&this.finalizeEmbedding(e,s),s.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",e,t,r,this.cell)),s.moving=!1,s.embedding=!1}autoScrollGraph(e,t){const r=this.graph.scroller.widget;r&&r.autoScroll(e,t)}}(function(a){a.toStringTag=`X6.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;return(r==null||r===a.toStringTag)&&typeof s.isNodeView=="function"&&typeof s.isEdgeView=="function"&&typeof s.confirmUpdate=="function"&&typeof s.update=="function"&&typeof s.findPortElem=="function"&&typeof s.resize=="function"&&typeof s.rotate=="function"&&typeof s.translate=="function"}a.isNodeView=e})(Wf||(Wf={})),Wf.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}}),Wf.registry.register("node",Wf,!0);const US=jE("text");class WS extends h0("text",{view:US,attrs:{text:{fontSize:18,fill:"#000000",stroke:null,refX:.5,refY:.5}}},{noText:!0}){}(function(a){class e extends Wf{confirmUpdate(r,s={}){let h=super.confirmUpdate(r,s);return this.hasAction(h,"scale")&&(this.resize(),h=this.removeAction(h,"scale")),h}}a.View=e,e.config({actions:{attrs:["scale"]}}),Wf.registry.register(US,e)})(WS||(WS={}));class $S extends xf{constructor(e,t={}){super(),this.length=0,this.comparator=t.comparator||"zIndex",this.clean(),e&&this.reset(e,{silent:!0})}toJSON(){return this.cells.map(e=>e.toJSON())}add(e,t,r){let s,h;typeof t=="number"?(s=t,h=Object.assign({merge:!1},r)):(s=this.length,h=Object.assign({merge:!1},t)),s>this.length&&(s=this.length),s<0&&(s+=this.length+1);const g=Array.isArray(e)?e:[e],y=this.comparator&&typeof t!="number"&&h.sort!==!1,E=this.comparator||null;let D=!1;const V=[],$=[];return g.forEach(J=>{const de=this.get(J);de?h.merge&&!J.isSameStore(de)&&(de.setProp(J.getProp(),r),$.push(de),y&&!D&&(E==null||typeof E=="function"?D=de.hasChanged():typeof E=="string"?D=de.hasChanged(E):D=E.some(Ge=>de.hasChanged(Ge)))):(V.push(J),this.reference(J))}),V.length&&(y&&(D=!0),this.cells.splice(s,0,...V),this.length=this.cells.length),D&&this.sort({silent:!0}),h.silent||(V.forEach((J,de)=>{const Ge={cell:J,index:s+de,options:h};this.trigger("added",Ge),h.dryrun||J.notify("added",Object.assign({},Ge))}),D&&this.trigger("sorted"),(V.length||$.length)&&this.trigger("updated",{added:V,merged:$,removed:[],options:h})),this}remove(e,t={}){const r=Array.isArray(e)?e:[e],s=this.removeCells(r,t);return!t.silent&&s.length>0&&this.trigger("updated",{options:t,removed:s,added:[],merged:[]}),Array.isArray(e)?s:s[0]}removeCells(e,t){const r=[];for(let s=0;s<e.length;s+=1){const h=this.get(e[s]);if(h==null)continue;const g=this.cells.indexOf(h);this.cells.splice(g,1),this.length-=1,delete this.map[h.id],r.push(h),this.unreference(h),t.dryrun||h.remove(),t.silent||(this.trigger("removed",{cell:h,index:g,options:t}),t.dryrun||h.notify("removed",{cell:h,index:g,options:t}))}return r}reset(e,t={}){const r=this.cells.slice();if(r.forEach(s=>this.unreference(s)),this.clean(),this.add(e,Object.assign({silent:!0},t)),!t.silent){const s=this.cells.slice();this.trigger("reseted",{options:t,previous:r,current:s});const h=[],g=[];s.forEach(y=>{r.some(D=>D.id===y.id)||h.push(y)}),r.forEach(y=>{s.some(D=>D.id===y.id)||g.push(y)}),this.trigger("updated",{options:t,added:h,removed:g,merged:[]})}return this}push(e,t){return this.add(e,this.length,t)}pop(e){const t=this.at(this.length-1);return this.remove(t,e)}unshift(e,t){return this.add(e,0,t)}shift(e){const t=this.at(0);return this.remove(t,e)}get(e){if(e==null)return null;const t=typeof e=="string"||typeof e=="number"?e:e.id;return this.map[t]||null}has(e){return this.get(e)!=null}at(e){return e<0&&(e+=this.length),this.cells[e]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(e){return this.cells.indexOf(e)}toArray(){return this.cells.slice()}sort(e={}){return this.comparator!=null&&(this.cells=Zi(this.cells,this.comparator),e.silent||this.trigger("sorted")),this}clone(){const e=this.constructor;return new e(this.cells.slice(),{comparator:this.comparator})}reference(e){this.map[e.id]=e,e.on("*",this.notifyCellEvent,this)}unreference(e){e.off("*",this.notifyCellEvent,this),delete this.map[e.id]}notifyCellEvent(e,t){const r=t.cell;this.trigger(`cell:${e}`,t),r&&(r.isNode()?this.trigger(`node:${e}`,Object.assign(Object.assign({},t),{node:r})):r.isEdge()&&this.trigger(`edge:${e}`,Object.assign(Object.assign({},t),{edge:r})))}clean(){this.length=0,this.cells=[],this.map={}}}class Cf extends xf{constructor(e=[]){super(),this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new $S(e),this.setup()}get[Symbol.toStringTag](){return Cf.toStringTag}notify(e,t){this.trigger(e,t);const r=this.graph;return r&&(e==="sorted"||e==="reseted"||e==="updated"?r.trigger(`model:${e}`,t):r.trigger(e,t)),this}setup(){const e=this.collection;e.on("sorted",()=>this.notify("sorted",null)),e.on("updated",t=>this.notify("updated",t)),e.on("cell:change:zIndex",()=>this.sortOnChangeZ()),e.on("added",({cell:t})=>{this.onCellAdded(t)}),e.on("removed",t=>{const r=t.cell;this.onCellRemoved(r,t.options),this.notify("cell:removed",t),r.isNode()?this.notify("node:removed",Object.assign(Object.assign({},t),{node:r})):r.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},t),{edge:r}))}),e.on("reseted",t=>{this.onReset(t.current),this.notify("reseted",t)}),e.on("edge:change:source",({edge:t})=>this.onEdgeTerminalChanged(t,"source")),e.on("edge:change:target",({edge:t})=>{this.onEdgeTerminalChanged(t,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(e){const t=e.id;e.isEdge()?(e.updateParent(),this.edges[t]=!0,this.onEdgeTerminalChanged(e,"source"),this.onEdgeTerminalChanged(e,"target")):this.nodes[t]=!0}onCellRemoved(e,t){const r=e.id;if(e.isEdge()){delete this.edges[r];const s=e.getSource(),h=e.getTarget();if(s&&s.cell){const g=this.outgoings[s.cell],y=g?g.indexOf(r):-1;y>=0&&(g.splice(y,1),g.length===0&&delete this.outgoings[s.cell])}if(h&&h.cell){const g=this.incomings[h.cell],y=g?g.indexOf(r):-1;y>=0&&(g.splice(y,1),g.length===0&&delete this.incomings[h.cell])}}else delete this.nodes[r];t.clear||(t.disconnectEdges?this.disconnectConnectedEdges(e,t):this.removeConnectedEdges(e,t)),e.model===this&&(e.model=null)}onReset(e){this.nodes={},this.edges={},this.outgoings={},this.incomings={},e.forEach(t=>this.onCellAdded(t))}onEdgeTerminalChanged(e,t){const r=t==="source"?this.outgoings:this.incomings,s=e.previous(t);if(s&&s.cell){const g=Na.isCell(s.cell)?s.cell.id:s.cell,y=r[g],E=y?y.indexOf(e.id):-1;E>=0&&(y.splice(E,1),y.length===0&&delete r[g])}const h=e.getTerminal(t);if(h&&h.cell){const g=Na.isCell(h.cell)?h.cell.id:h.cell,y=r[g]||[];y.indexOf(e.id)===-1&&y.push(e.id),r[g]=y}}prepareCell(e,t){return!e.model&&(!t||!t.dryrun)&&(e.model=this),e.zIndex==null&&e.setZIndex(this.getMaxZIndex()+1,{silent:!0}),e}resetCells(e,t={}){return e.map(r=>this.prepareCell(r,Object.assign(Object.assign({},t),{dryrun:!0}))),this.collection.reset(e,t),e.map(r=>this.prepareCell(r,{options:t})),this}clear(e={}){const t=this.getCells();if(t.length===0)return this;const r=Object.assign(Object.assign({},e),{clear:!0});return this.batchUpdate("clear",()=>{const s=t.sort((h,g)=>{const y=h.isEdge()?1:2,E=g.isEdge()?1:2;return y-E});for(;s.length>0;){const h=s.shift();h&&h.remove(r)}},r),this}addNode(e,t={}){const r=lc.isNode(e)?e:this.createNode(e);return this.addCell(r,t),r}createNode(e){return lc.create(e)}addEdge(e,t={}){const r=ql.isEdge(e)?e:this.createEdge(e);return this.addCell(r,t),r}createEdge(e){return ql.create(e)}addCell(e,t={}){return Array.isArray(e)?this.addCells(e,t):(!this.collection.has(e)&&!this.addings.has(e)&&(this.addings.set(e,!0),this.collection.add(this.prepareCell(e,t),t),e.eachChild(r=>this.addCell(r,t)),this.addings.delete(e)),this)}addCells(e,t={}){const r=e.length;if(r===0)return this;const s=Object.assign(Object.assign({},t),{position:r-1,maxPosition:r-1});return this.startBatch("add",Object.assign(Object.assign({},s),{cells:e})),e.forEach(h=>{this.addCell(h,s),s.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},s),{cells:e})),this}removeCell(e,t={}){const r=typeof e=="string"?this.getCell(e):e;return r&&this.has(r)?this.collection.remove(r,t):null}updateCellId(e,t){this.startBatch("update",{id:t}),e.prop("id",t);const r=e.clone({keepId:!0});return this.addCell(r),this.getConnectedEdges(e).forEach(h=>{const g=h.getSourceCell(),y=h.getTargetCell();g===e&&h.setSource(Object.assign(Object.assign({},h.getSource()),{cell:t})),y===e&&h.setTarget(Object.assign(Object.assign({},h.getTarget()),{cell:t}))}),this.removeCell(e),this.stopBatch("update",{id:t}),r}removeCells(e,t={}){return e.length?this.batchUpdate("remove",()=>e.map(r=>this.removeCell(r,t))):[]}removeConnectedEdges(e,t={}){const r=this.getConnectedEdges(e);return r.forEach(s=>{s.remove(t)}),r}disconnectConnectedEdges(e,t={}){const r=typeof e=="string"?e:e.id;this.getConnectedEdges(e).forEach(s=>{const h=s.getSourceCell(),g=s.getTargetCell();h&&h.id===r&&s.setSource({x:0,y:0},t),g&&g.id===r&&s.setTarget({x:0,y:0},t)})}has(e){return this.collection.has(e)}total(){return this.collection.length}indexOf(e){return this.collection.indexOf(e)}getCell(e){return this.collection.get(e)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const e=this.collection.first();return e&&e.getZIndex()||0}getMaxZIndex(){const e=this.collection.last();return e&&e.getZIndex()||0}getCellsFromCache(e){return e?Object.keys(e).map(t=>this.getCell(t)).filter(t=>t!=null):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(e){const t=typeof e=="string"?e:e.id,r=this.outgoings[t];return r?r.map(s=>this.getCell(s)).filter(s=>s&&s.isEdge()):null}getIncomingEdges(e){const t=typeof e=="string"?e:e.id,r=this.incomings[t];return r?r.map(s=>this.getCell(s)).filter(s=>s&&s.isEdge()):null}getConnectedEdges(e,t={}){const r=[],s=typeof e=="string"?this.getCell(e):e;if(s==null)return r;const h={},g=t.indirect;let y=t.incoming,E=t.outgoing;y==null&&E==null&&(y=E=!0);const D=(V,$)=>{const J=$?this.getOutgoingEdges(V):this.getIncomingEdges(V);if(J!=null&&J.forEach(de=>{h[de.id]||(r.push(de),h[de.id]=!0,g&&(y&&D(de,!1),E&&D(de,!0)))}),g&&V.isEdge()){const de=$?V.getTargetCell():V.getSourceCell();de&&de.isEdge()&&(h[de.id]||(r.push(de),D(de,$)))}};if(E&&D(s,!0),y&&D(s,!1),t.deep){const V=s.getDescendants({deep:!0}),$={};V.forEach(de=>{de.isNode()&&($[de.id]=!0)});const J=(de,Ge)=>{const Qe=Ge?this.getOutgoingEdges(de.id):this.getIncomingEdges(de.id);Qe!=null&&Qe.forEach(xt=>{if(!h[xt.id]){const Yt=xt.getSourceCell(),fn=xt.getTargetCell();if(!t.enclosed&&Yt&&$[Yt.id]&&fn&&$[fn.id])return;r.push(xt),h[xt.id]=!0}})};V.forEach(de=>{de.isEdge()||(E&&J(de,!0),y&&J(de,!1))})}return r}isBoundary(e,t){const r=typeof e=="string"?this.getCell(e):e,s=t?this.getIncomingEdges(r):this.getOutgoingEdges(r);return s==null||s.length===0}getBoundaryNodes(e){const t=[];return Object.keys(this.nodes).forEach(r=>{if(this.isBoundary(r,e)){const s=this.getCell(r);s&&t.push(s)}}),t}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(e){return this.isBoundary(e,!0)}isLeaf(e){return this.isBoundary(e,!1)}getNeighbors(e,t={}){let r=t.incoming,s=t.outgoing;r==null&&s==null&&(r=s=!0);const g=this.getConnectedEdges(e,t).reduce((y,E)=>{const D=E.hasLoop(t),V=E.getSourceCell(),$=E.getTargetCell();return r&&V&&V.isNode()&&!y[V.id]&&(D||V!==e&&(!t.deep||!V.isDescendantOf(e)))&&(y[V.id]=V),s&&$&&$.isNode()&&!y[$.id]&&(D||$!==e&&(!t.deep||!$.isDescendantOf(e)))&&(y[$.id]=$),y},{});if(e.isEdge()){if(r){const y=e.getSourceCell();y&&y.isNode()&&!g[y.id]&&(g[y.id]=y)}if(s){const y=e.getTargetCell();y&&y.isNode()&&!g[y.id]&&(g[y.id]=y)}}return Object.keys(g).map(y=>g[y])}isNeighbor(e,t,r={}){let s=r.incoming,h=r.outgoing;return s==null&&h==null&&(s=h=!0),this.getConnectedEdges(e,r).some(g=>{const y=g.getSourceCell(),E=g.getTargetCell();return!!(s&&y&&y.id===t.id||h&&E&&E.id===t.id)})}getSuccessors(e,t={}){const r=[];return this.search(e,(s,h)=>{s!==e&&this.matchDistance(h,t.distance)&&r.push(s)},Object.assign(Object.assign({},t),{outgoing:!0})),r}isSuccessor(e,t,r={}){let s=!1;return this.search(e,(h,g)=>{if(h===t&&h!==e&&this.matchDistance(g,r.distance))return s=!0,!1},Object.assign(Object.assign({},r),{outgoing:!0})),s}getPredecessors(e,t={}){const r=[];return this.search(e,(s,h)=>{s!==e&&this.matchDistance(h,t.distance)&&r.push(s)},Object.assign(Object.assign({},t),{incoming:!0})),r}isPredecessor(e,t,r={}){let s=!1;return this.search(e,(h,g)=>{if(h===t&&h!==e&&this.matchDistance(g,r.distance))return s=!0,!1},Object.assign(Object.assign({},r),{incoming:!0})),s}matchDistance(e,t){return t==null?!0:typeof t=="function"?t(e):Array.isArray(t)&&t.includes(e)?!0:e===t}getCommonAncestor(...e){const t=[];return e.forEach(r=>{r&&(Array.isArray(r)?t.push(...r):t.push(r))}),Na.getCommonAncestor(...t)}getSubGraph(e,t={}){const r=[],s={},h=[],g=[],y=E=>{s[E.id]||(r.push(E),s[E.id]=E,E.isEdge()&&g.push(E),E.isNode()&&h.push(E))};return e.forEach(E=>{y(E),t.deep&&E.getDescendants({deep:!0}).forEach(V=>y(V))}),g.forEach(E=>{const D=E.getSourceCell(),V=E.getTargetCell();D&&!s[D.id]&&(r.push(D),s[D.id]=D,D.isNode()&&h.push(D)),V&&!s[V.id]&&(r.push(V),s[V.id]=V,V.isNode()&&h.push(V))}),h.forEach(E=>{this.getConnectedEdges(E,t).forEach(V=>{const $=V.getSourceCell(),J=V.getTargetCell();!s[V.id]&&$&&s[$.id]&&J&&s[J.id]&&(r.push(V),s[V.id]=V)})}),r}cloneSubGraph(e,t={}){const r=this.getSubGraph(e,t);return this.cloneCells(r)}cloneCells(e){return Na.cloneCells(e)}getNodesFromPoint(e,t){const r=typeof e=="number"?{x:e,y:t||0}:e;return this.getNodes().filter(s=>s.getBBox().containsPoint(r))}getNodesInArea(e,t,r,s,h){const g=typeof e=="number"?new Ao(e,t,r,s):Ao.create(e),y=typeof e=="number"?h:t,E=y&&y.strict;return this.getNodes().filter(D=>{const V=D.getBBox();return E?g.containsRect(V):g.isIntersectWithRect(V)})}getEdgesInArea(e,t,r,s,h){const g=typeof e=="number"?new Ao(e,t,r,s):Ao.create(e),y=typeof e=="number"?h:t,E=y&&y.strict;return this.getEdges().filter(D=>{const V=D.getBBox();return V.width===0?V.inflate(1,0):V.height===0&&V.inflate(0,1),E?g.containsRect(V):g.isIntersectWithRect(V)})}getNodesUnderNode(e,t={}){const r=e.getBBox();return(t.by==null||t.by==="bbox"?this.getNodesInArea(r):this.getNodesFromPoint(r[t.by])).filter(h=>e.id!==h.id&&!h.isDescendantOf(e))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(e,t={}){return Na.getCellsBBox(e,t)}search(e,t,r={}){r.breadthFirst?this.breadthFirstSearch(e,t,r):this.depthFirstSearch(e,t,r)}breadthFirstSearch(e,t,r={}){const s=[],h={},g={};for(s.push(e),g[e.id]=0;s.length>0;){const y=s.shift();if(y==null||h[y.id]||(h[y.id]=!0,fs(t,this,y,g[y.id])===!1))continue;this.getNeighbors(y,r).forEach(D=>{g[D.id]=g[y.id]+1,s.push(D)})}}depthFirstSearch(e,t,r={}){const s=[],h={},g={};for(s.push(e),g[e.id]=0;s.length>0;){const y=s.pop();if(y==null||h[y.id]||(h[y.id]=!0,fs(t,this,y,g[y.id])===!1))continue;const E=this.getNeighbors(y,r),D=s.length;E.forEach(V=>{g[V.id]=g[y.id]+1,s.splice(D,0,V)})}}getShortestPath(e,t,r={}){const s={};this.getEdges().forEach(D=>{const V=D.getSourceCellId(),$=D.getTargetCellId();V&&$&&(s[V]||(s[V]=[]),s[$]||(s[$]=[]),s[V].push($),r.directed||s[$].push(V))});const h=typeof e=="string"?e:e.id,g=BE.run(s,h,r.weight),y=[];let E=typeof t=="string"?t:t.id;for(g[E]&&y.push(E);E=g[E];)y.unshift(E);return y}translate(e,t,r){return this.getCells().filter(s=>!s.hasParent()).forEach(s=>s.translate(e,t,r)),this}resize(e,t,r){return this.resizeCells(e,t,this.getCells(),r)}resizeCells(e,t,r,s={}){const h=this.getCellsBBox(r);if(h){const g=Math.max(e/h.width,0),y=Math.max(t/h.height,0),E=h.getOrigin();r.forEach(D=>D.scale(g,y,E,s))}return this}toJSON(e={}){return Cf.toJSON(this.getCells(),e)}parseJSON(e){return Cf.fromJSON(e)}fromJSON(e,t={}){const r=this.parseJSON(e);return this.resetCells(r,t),this}startBatch(e,t={}){return this.batches[e]=(this.batches[e]||0)+1,this.notify("batch:start",{name:e,data:t}),this}stopBatch(e,t={}){return this.batches[e]=(this.batches[e]||0)-1,this.notify("batch:stop",{name:e,data:t}),this}batchUpdate(e,t,r={}){this.startBatch(e,r);const s=t();return this.stopBatch(e,r),s}hasActiveBatch(e=Object.keys(this.batches)){return(Array.isArray(e)?e:[e]).some(r=>this.batches[r]>0)}}(function(a){a.toStringTag=`X6.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;return(r==null||r===a.toStringTag)&&typeof s.addNode=="function"&&typeof s.addEdge=="function"&&s.collection!=null}a.isModel=e})(Cf||(Cf={})),function(a){function e(r,s={}){return{cells:r.map(h=>h.toJSON(s))}}a.toJSON=e;function t(r){const s=[];return Array.isArray(r)?s.push(...r):(r.cells&&s.push(...r.cells),r.nodes&&r.nodes.forEach(h=>{h.shape==null&&(h.shape="rect"),s.push(h)}),r.edges&&r.edges.forEach(h=>{h.shape==null&&(h.shape="edge"),s.push(h)})),s.map(h=>{const g=h.shape;if(g){if(lc.registry.exist(g))return lc.create(h);if(ql.registry.exist(g))return ql.create(h)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}a.fromJSON=t}(Cf||(Cf={}));const d0=".text-block-content",dE=jE("text-block");class pE extends lc{get content(){return this.getContent()}set content(e){this.setContent(e)}getContent(){return this.store.get("content","")}setContent(e,t={}){this.store.set("content",e,t)}setup(){super.setup(),this.store.on("change:*",e=>{const t=e.key;t==="content"?this.updateContent(this.getContent()):t==="size"&&this.updateSize(this.getSize())}),this.updateSize(this.getSize()),this.updateContent(this.getContent())}updateSize(e){Jt.SUPPORT_FOREIGNOBJECT&&this.setAttrs({foreignObject:Object.assign({},e),[d0]:{style:Object.assign({},e)}})}updateContent(e){Jt.SUPPORT_FOREIGNOBJECT?this.setAttrs({[d0]:{html:e?T1(e):""}}):this.setAttrs({[d0]:{text:e}})}}(function(a){a.config({type:dE,view:dE,markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',Jt.SUPPORT_FOREIGNOBJECT?["<foreignObject>",'<body xmlns="http://www.w3.org/1999/xhtml">',`<div class="${d0.substr(1)}" />`,"</body>","</foreignObject>"].join(""):`<text class="${d0.substr(1)}"/>`,"</g>"].join(""),attrs:{".":{fill:"#ffffff",stroke:"none"},rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000",fontSize:14,fontFamily:"Arial, helvetica, sans-serif"},body:{style:{background:"transparent",position:"static",margin:0,padding:0}},foreignObject:{style:{overflow:"hidden"}},[d0]:{refX:.5,refY:.5,yAlign:"middle",xAlign:"middle",style:{textAlign:"center",verticalAlign:"middle",display:"table-cell",padding:"0 5px",margin:0}}}}),lc.registry.register(dE,a)})(pE||(pE={})),function(a){const e="content";class t extends Wf{confirmUpdate(s,h={}){let g=super.confirmUpdate(s,h);return this.hasAction(g,e)&&(this.updateContent(),g=this.removeAction(g,e)),g}update(s){if(Jt.SUPPORT_FOREIGNOBJECT)super.update(s);else{const h=this.cell,g=Object.assign({},s||h.getAttrs());delete g[d0],super.update(g),(!s||$a(s,d0))&&this.updateContent(s)}}updateContent(s){if(Jt.SUPPORT_FOREIGNOBJECT)super.update(s);else{const h=this.cell,g=(s||h.getAttrs())[d0],y=Yl(h.getContent(),h.getSize(),g,{svgDocument:this.graph.view.svg}),E={[d0]:La({},g,{text:y})};super.update(E)}}}a.View=t,function(r){r.config({bootstrap:["render",e],actions:Jt.SUPPORT_FOREIGNOBJECT?{}:{size:e,content:e}}),Wf.registry.register(dE,r)}(t=a.View||(a.View={}))}(pE||(pE={}));const vT=Ju.define({shape:"empty"});function pM(a,e="body"){return[{tagName:a,selector:e},{tagName:"text",selector:"label"}]}function Bv(a,e,t={}){const r={constructorName:a,markup:pM(a,t.selector),attrs:{[a]:Object.assign({},Ju.bodyAttr)}};return(t.parent||Ju).define(La(r,e,{shape:a}))}const yT=Bv("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}}),bT=lc.define({shape:"rect-headered",markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}],attrs:{body:Object.assign(Object.assign({},Ju.bodyAttr),{refWidth:"100%",refHeight:"100%"}),header:Object.assign(Object.assign({},Ju.bodyAttr),{refWidth:"100%",height:30,stroke:"#000000"}),headerText:Object.assign(Object.assign({},Ju.labelAttr),{refX:"50%",refY:15,fontSize:16}),bodyText:Object.assign(Object.assign({},Ju.labelAttr),{refY2:15})}}),xT=Bv("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}}),UE=10,CT=Ju.define({shape:"cylinder",overwrite:!0,markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],attrs:{body:Object.assign(Object.assign({},Ju.bodyAttr),{lateral:UE}),top:Object.assign(Object.assign({},Ju.bodyAttr),{refCx:"50%",refRx:"50%",cy:UE,ry:UE})},attrHooks:{lateral:{set(a,{refBBox:e}){const t=Gf(a);t&&(a=parseFloat(a)/100);const r=e.x,s=e.y,h=e.width,g=e.height,y=h/2,E=t?g*a:a,D=.551784,V=D*y,$=D*E,J=r,de=r+h/2,Ge=r+h,Qe=s+E,xt=Qe-E,Yt=s+g-E,fn=s+g;return{d:["M",J,Qe,"L",J,Yt,"C",r,Yt+$,de-V,fn,de,fn,"C",de+V,fn,Ge,Yt+$,Ge,Yt,"L",Ge,Qe,"C",Ge,Qe-$,de+V,xt,de,xt,"C",de-V,xt,J,Qe-$,J,Qe,"Z"].join(" ")}}}},knob:{enabled:!0,position({node:a}){return{x:0,y:a.attr("body/lateral")}},onMouseMove({node:a,data:e,deltaY:t}){if(t!==0){const r=a.getBBox(),s=a.attr("body/lateral");e.round==null&&(e.round=s);const h=0,g=r.height/2,y=Tu(e.round+t,h,g);y!==s&&a.attr({body:{lateral:y},top:{cy:y,ry:y}})}}}}),wT=Bv("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});var gM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class Wx extends Ju{get points(){return this.getPoints()}set points(e){this.setPoints(e)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(e,t){return e==null?this.removePoints():this.setAttrByPath("body/refPoints",Wx.pointsToString(e),t),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}(function(a){function e(t){return typeof t=="string"?t:t.map(r=>Array.isArray(r)?r.join(","):Fn.isPointLike(r)?`${r.x}, ${r.y}`:"").join(" ")}a.pointsToString=e,a.config({propHooks(t){const{points:r}=t,s=gM(t,["points"]);if(r){const h=e(r);h&&wd(s,"attrs/body/refPoints",h)}return s}})})(Wx||(Wx={}));const ET=Bv("polygon",{},{parent:Wx}),ST=Bv("polyline",{},{parent:Wx});var mM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};const AT=Ju.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(a){const{path:e}=a,t=mM(a,["path"]);return e&&wd(t,"attrs/body/refD",e),t}});var vM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};const MT=Ju.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},Jt.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:hc.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},Ju.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(a){const{text:e}=a,t=vM(a,["text"]);return e&&wd(t,"attrs/label/text",e),t},attrHooks:{text:{set(a,{cell:e,view:t,refBBox:r,elem:s,attrs:h}){if(s instanceof HTMLElement)s.textContent=a;else{const g=h.style||{},y={text:a,width:-5,height:"100%"},E=Object.assign({textVerticalAnchor:"middle"},g),D=Ug.presets.textWrap;return fs(D.set,this,y,{cell:e,view:t,elem:s,refBBox:r,attrs:E}),{fill:g.color||null}}},position(a,{refBBox:e,elem:t}){if(t instanceof SVGElement)return e.getCenter()}}}}),TT=Bv("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:pw()},{selector:"image"}),PT=Bv("image-bordered",{markup:[{tagName:"rect",selector:"background",attrs:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#ffffff"},border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},image:{refWidth:-1,refHeight:-1,x:.5,y:.5}},propHooks:pw()}),OT=Bv("image-embedded",{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}],attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"}},propHooks:pw()}),IT=Bv("image-inscribed",{propHooks:pw(),markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#ffffff"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"}}}),HS=ql.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}}),RT=ql.define({shape:"shadow-edge",markup:[{tagName:"path",selector:"shadow",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}}}}),DT=ql.define({shape:"double-edge",markup:[{tagName:"path",selector:"outline",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#dddddd",strokeWidth:4,strokeLinejoin:"round",targetMarker:{tagName:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}});class p0 extends Ju{get html(){return this.getHTML()}set html(e){this.setHTML(e)}getHTML(){return this.store.get("html")}setHTML(e,t={}){return e==null?this.removeHTML(t):this.store.set("html",e,t),this}removeHTML(e={}){return this.store.remove("html",e)}}(function(a){class e extends Wf{init(){super.init(),this.cell.on("change:*",()=>{this.graph.hook.shouldUpdateHTMLComponent(this.cell)&&this.renderHTMLComponent()})}confirmUpdate(r){const s=super.confirmUpdate(r);return this.handleAction(s,e.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const r=this.selectors&&this.selectors.foContent;if(r){const s=this.$(r).empty(),h=this.graph.hook.getHTMLComponent(this.cell);h&&(typeof h=="string"?s.html(h):s.append(h))}}}a.View=e,function(t){t.action="html",t.config({bootstrap:[t.action],actions:{html:t.action}}),Wf.registry.register("html-view",t)}(e=a.View||(a.View={}))})(p0||(p0={})),function(a){a.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},Ua.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),lc.registry.register("html",a)}(p0||(p0={})),function(a){a.componentRegistry=oc.create({type:"html componnet"})}(p0||(p0={}));var yM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class gw extends pS{constructor(e){super(),this.delay=10,this.throttle=2,this.threshold=5,this.changeCount=0,this.timestamp=0,this.options=Object.assign(Object.assign({},gw.defaultOptions),e),this.graph.model.on("cell:change:*",this.onModelChanged,this)}get graph(){return this.options.graph}onModelChanged(){if(this.disabled)return;const t=(new Date().getTime()-this.timestamp)/1e3;t>this.delay||this.changeCount>=this.threshold&&t>this.throttle?(this.save(),this.reset()):this.changeCount+=1}save(){this.trigger("save")}reset(){this.changeCount=0,this.timestamp=new Date().getTime()}dispose(){this.graph.model.off("cell:change:*",this.onModelChanged,this)}}yM([pS.dispose()],gw.prototype,"dispose",null),function(a){a.defaultOptions={delay:10,throttle:2,threshold:5}}(gw||(gw={}));class Ml extends Wg{constructor(e){super(),this.graph=e,this.init()}get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}init(){}}var bM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class $g extends za{constructor(e){super(),this.graph=e;const{selectors:t,fragment:r}=Ua.parseJSONMarkup($g.markup);this.background=t.background,this.grid=t.grid,this.svg=t.svg,this.defs=t.defs,this.viewport=t.viewport,this.primer=t.primer,this.stage=t.stage,this.decorator=t.decorator,this.overlay=t.overlay,this.container=this.options.container,this.restore=$g.snapshoot(this.container),this.$(this.container).addClass(this.prefixClassName("graph")).append(r),this.delegateEvents()}get model(){return this.graph.model}get options(){return this.graph.options}delegateEvents(){const e=this.constructor;return super.delegateEvents(e.events),this}guard(e,t){return e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t)?!0:e.data&&e.data.guarded!==void 0?e.data.guarded:!(t&&t.cell&&Na.isCell(t.cell)||this.svg===e.target||this.container===e.target||vt().contains(this.svg,e.target))}findView(e){return this.graph.renderer.findViewByElem(e)}onDblClick(e){this.options.preventDefaultDblClick&&e.preventDefault();const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const s=this.graph.snapToGrid(t.clientX,t.clientY);r?r.onDblClick(t,s.x,s.y):this.graph.trigger("blank:dblclick",{e:t,x:s.x,y:s.y})}onClick(e){if(this.getMouseMovedCount(e)<=this.options.clickThreshold){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const s=this.graph.snapToGrid(t.clientX,t.clientY);r?r.onClick(t,s.x,s.y):this.graph.trigger("blank:click",{e:t,x:s.x,y:s.y})}}isPreventDefaultContextMenu(e,t){let r=this.options.preventDefaultContextMenu;return typeof r=="function"&&(r=fs(r,this.graph,{view:t})),r}onContextMenu(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.isPreventDefaultContextMenu(t,r)&&e.preventDefault(),this.guard(t,r))return;const s=this.graph.snapToGrid(t.clientX,t.clientY);r?r.onContextMenu(t,s.x,s.y):this.graph.trigger("blank:contextmenu",{e:t,x:s.x,y:s.y})}delegateDragEvents(e,t){e.data==null&&(e.data={}),this.setEventData(e,{currentView:t||null,mouseMovedCount:0,startPosition:{x:e.clientX,y:e.clientY}});const r=this.constructor;this.delegateDocumentEvents(r.documentEvents,e.data),this.undelegateEvents()}getMouseMovedCount(e){return this.getEventData(e).mouseMovedCount||0}onMouseDown(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;this.options.preventDefaultMouseDown&&t.preventDefault();const s=this.graph.snapToGrid(t.clientX,t.clientY);r?r.onMouseDown(t,s.x,s.y):(this.options.preventDefaultBlankAction&&["touchstart"].includes(t.type)&&t.preventDefault(),this.graph.trigger("blank:mousedown",{e:t,x:s.x,y:s.y})),this.delegateDragEvents(t,r)}onMouseMove(e){const t=this.getEventData(e),r=t.startPosition;if(r&&r.x===e.clientX&&r.y===e.clientY||(t.mouseMovedCount==null&&(t.mouseMovedCount=0),t.mouseMovedCount+=1,t.mouseMovedCount<=this.options.moveThreshold))return;const h=this.normalizeEvent(e),g=this.graph.snapToGrid(h.clientX,h.clientY),y=t.currentView;y?y.onMouseMove(h,g.x,g.y):this.graph.trigger("blank:mousemove",{e:h,x:g.x,y:g.y}),this.setEventData(h,t)}onMouseUp(e){this.undelegateDocumentEvents();const t=this.normalizeEvent(e),r=this.graph.snapToGrid(t.clientX,t.clientY),h=this.getEventData(e).currentView;h?h.onMouseUp(t,r.x,r.y):this.graph.trigger("blank:mouseup",{e:t,x:r.x,y:r.y}),e.isPropagationStopped()||this.onClick(vt().Event(e,{type:"click",data:e.data})),e.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(!this.guard(t,r))if(r)r.onMouseOver(t);else{if(this.container===t.target)return;this.graph.trigger("blank:mouseover",{e:t})}}onMouseOut(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(!this.guard(t,r))if(r)r.onMouseOut(t);else{if(this.container===t.target)return;this.graph.trigger("blank:mouseout",{e:t})}}onMouseEnter(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const s=this.graph.renderer.findViewByElem(t.relatedTarget);if(r){if(s===r)return;r.onMouseEnter(t)}else{if(s)return;this.graph.trigger("graph:mouseenter",{e:t})}}onMouseLeave(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const s=this.graph.renderer.findViewByElem(t.relatedTarget);if(r){if(s===r)return;r.onMouseLeave(t)}else{if(s)return;this.graph.trigger("graph:mouseleave",{e:t})}}onMouseWheel(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const s=t.originalEvent,h=this.graph.snapToGrid(s.clientX,s.clientY),g=Math.max(-1,Math.min(1,s.wheelDelta||-s.detail));r?r.onMouseWheel(t,h.x,h.y,g):this.graph.trigger("blank:mousewheel",{e:t,delta:g,x:h.x,y:h.y})}onCustomEvent(e){const t=e.currentTarget,r=t.getAttribute("event")||t.getAttribute("data-event");if(r){const s=this.findView(t);if(s){const h=this.normalizeEvent(e);if(this.guard(h,s))return;const g=this.graph.snapToGrid(h.clientX,h.clientY);s.onCustomEvent(h,r,g.x,g.y)}}}handleMagnetEvent(e,t){const r=e.currentTarget,s=r.getAttribute("magnet");if(s&&s.toLowerCase()!=="false"){const h=this.findView(r);if(h){const g=this.normalizeEvent(e);if(this.guard(g,h))return;const y=this.graph.snapToGrid(g.clientX,g.clientY);fs(t,this.graph,h,g,r,y.x,y.y)}}}onMagnetMouseDown(e){this.handleMagnetEvent(e,(t,r,s,h,g)=>{t.onMagnetMouseDown(r,s,h,g)})}onMagnetDblClick(e){this.handleMagnetEvent(e,(t,r,s,h,g)=>{t.onMagnetDblClick(r,s,h,g)})}onMagnetContextMenu(e){const t=this.normalizeEvent(e),r=this.findView(t.target);this.isPreventDefaultContextMenu(t,r)&&t.preventDefault(),this.handleMagnetEvent(t,(s,h,g,y,E)=>{s.onMagnetContextMenu(h,g,y,E)})}onLabelMouseDown(e){const t=e.currentTarget,r=this.findView(t);if(r){const s=this.normalizeEvent(e);if(this.guard(s,r))return;const h=this.graph.snapToGrid(s.clientX,s.clientY);r.onLabelMouseDown(s,h.x,h.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}bM([za.dispose()],$g.prototype,"dispose",null),function(a){const e=`${_d.prefixCls}-graph`;a.markup=[{ns:hc.xhtml,tagName:"div",selector:"background",className:`${e}-background`},{ns:hc.xhtml,tagName:"div",selector:"grid",className:`${e}-grid`},{ns:hc.svg,tagName:"svg",selector:"svg",className:`${e}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":hc.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${e}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${e}-svg-primer`},{tagName:"g",selector:"stage",className:`${e}-svg-stage`},{tagName:"g",selector:"decorator",className:`${e}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${e}-svg-overlay`}]}]}];function t(r){const s=r.cloneNode();return r.childNodes.forEach(h=>s.appendChild(h)),()=>{for(xv(r);r.attributes.length>0;)r.removeAttribute(r.attributes[0].name);for(let h=0,g=s.attributes.length;h<g;h+=1){const y=s.attributes[h];r.setAttribute(y.name,y.value)}s.childNodes.forEach(h=>r.appendChild(h))}}a.snapshoot=t}($g||($g={})),function(a){const e=_d.prefixCls;a.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${e}-cell`]:"onMouseEnter",[`mouseleave  .${e}-cell`]:"onMouseLeave",[`mouseenter  .${e}-cell-tools`]:"onMouseEnter",[`mouseleave  .${e}-cell-tools`]:"onMouseLeave",[`mousedown   .${e}-cell [event]`]:"onCustomEvent",[`touchstart  .${e}-cell [event]`]:"onCustomEvent",[`mousedown   .${e}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${e}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${e}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${e}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${e}-cell image`]:"onImageDragStart",[`mousedown   .${e}-edge .${e}-edge-label`]:"onLabelMouseDown",[`touchstart  .${e}-edge .${e}-edge-label`]:"onLabelMouseDown"},a.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}}($g||($g={}));var Lp;(function(a){function e(t,r){return(s,h,g)=>{const y=g.value;g.value=function(...E){if(this.scroller.widget==null){const V=`Shoule enable scroller to use method '${h}'`;if(t!==!1)throw console.error(V),new Error(V);return r!==!1&&console.warn(V),this}return y.call(this,...E)}}}a.checkScroller=e})(Lp||(Lp={}));const xM=`.x6-graph {
  position: relative;
  outline: none;
  touch-action: none;
}
.x6-graph-background,
.x6-graph-grid,
.x6-graph-svg {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-background-stage,
.x6-graph-grid-stage,
.x6-graph-svg-stage {
  user-select: none;
}
.x6-graph.x6-graph-pannable {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph.x6-graph-panning {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-node {
  cursor: move;
  /* stylelint-disable-next-line */
}
.x6-node.x6-node-immovable {
  cursor: default;
}
.x6-node * {
  -webkit-user-drag: none;
}
.x6-node .scalable * {
  vector-effect: non-scaling-stroke;
}
.x6-node [magnet='true'] {
  cursor: crosshair;
  transition: opacity 0.3s;
}
.x6-node [magnet='true']:hover {
  opacity: 0.7;
}
.x6-node foreignObject {
  display: block;
  overflow: visible;
  background-color: transparent;
}
.x6-node foreignObject > body {
  position: static;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: visible;
  background-color: transparent;
}
.x6-edge .source-marker,
.x6-edge .target-marker {
  vector-effect: non-scaling-stroke;
}
.x6-edge .connection {
  stroke-linejoin: round;
  fill: none;
}
.x6-edge .connection-wrap {
  cursor: move;
  opacity: 0;
  fill: none;
  stroke: #000;
  stroke-width: 15;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.x6-edge .connection-wrap:hover {
  opacity: 0.4;
  stroke-opacity: 0.4;
}
.x6-edge .vertices {
  cursor: move;
  opacity: 0;
}
.x6-edge .vertices .vertex {
  fill: #1abc9c;
}
.x6-edge .vertices .vertex :hover {
  fill: #34495e;
  stroke: none;
}
.x6-edge .vertices .vertex-remove {
  cursor: pointer;
  fill: #fff;
}
.x6-edge .vertices .vertex-remove-area {
  cursor: pointer;
  opacity: 0.1;
}
.x6-edge .vertices .vertex-group:hover .vertex-remove-area {
  opacity: 1;
}
.x6-edge .arrowheads {
  cursor: move;
  opacity: 0;
}
.x6-edge .arrowheads .arrowhead {
  fill: #1abc9c;
}
.x6-edge .arrowheads .arrowhead :hover {
  fill: #f39c12;
  stroke: none;
}
.x6-edge .tools {
  cursor: pointer;
  opacity: 0;
}
.x6-edge .tools .tool-options {
  display: none;
}
.x6-edge .tools .tool-remove circle {
  fill: #f00;
}
.x6-edge .tools .tool-remove path {
  fill: #fff;
}
.x6-edge:hover .vertices,
.x6-edge:hover .arrowheads,
.x6-edge:hover .tools {
  opacity: 1;
}
.x6-highlight-opacity {
  opacity: 0.3;
}
@keyframes halo-pie-visibility {
  0% {
    visibility: hidden;
  }
  100% {
    visibility: visible;
  }
}
@keyframes halo-pie-opening {
  0% {
    transform: scale(0.4) rotate(-20deg);
  }
  100% {
    transform: scale(1) rotate(0);
  }
}
.x6-widget-handle {
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  background-size: 20px 20px;
  cursor: pointer;
  user-select: none;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle.hidden {
  display: none;
}
.x6-widget-handle-selected {
  background-color: rgba(0, 0, 0, 0.1);
  border-radius: 3px;
}
.x6-widget-handle-remove {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%20M4.152%2C14.598C1.273%2C11.719%2C1.273%2C7.035%2C4.153%2C4.154%20c2.88-2.88%2C7.563-2.88%2C10.443%2C0c2.881%2C2.88%2C2.881%2C7.562%2C0%2C10.443C11.716%2C17.477%2C7.032%2C17.477%2C4.152%2C14.598L4.152%2C14.598z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: pointer;
}
.x6-widget-handle-remove:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-rotate {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-rotate:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-resize {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%236A6C8A%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
  cursor: se-resize;
}
.x6-widget-handle-resize:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%23FD6EB6%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-clone {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.85%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-clone:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.849%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%20M15.172%2C16.328%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-link {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
.x6-widget-handle-link:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-fork {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%236A6C8A%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20C7.552%2C9.82%2C7.602%2C9.589%2C7.602%2C9.344c0-0.25-0.051-0.487-0.129-0.71l4.097-2.364c0.393%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.014%2C0.149%2C0.021%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.982%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.014%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-fork:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FD6EB6%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20c0.075-0.22%2C0.125-0.452%2C0.125-0.697c0-0.25-0.051-0.487-0.129-0.71l4.097-2.365c0.394%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.015%2C0.148%2C0.022%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.981%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.013%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-direction {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%236A6C8A%3Bstroke%3A%236A6C8A%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%236A6C8A%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-direction:hover {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FD6EB6%3Bstroke%3A%23FD6EB6%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%23FD6EB6%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-surround .x6-widget-handle-animate .x6-widget-handle {
  transition: background-size 80ms, width 80ms, height 80ms, top 150ms, left 150ms, bottom 150ms, right 150ms;
}
.x6-widget-handle-surround .x6-widget-handle-pos-se {
  right: -25px;
  bottom: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-nw {
  top: -21px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-n {
  top: -22px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-e {
  top: -webkit-calc(40%);
  top: calc(50% - 10px);
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-ne {
  top: -21px;
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-w {
  top: 50%;
  left: -25px;
  margin-top: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-sw {
  bottom: -25px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-s {
  bottom: -24px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle {
  width: 15px;
  height: 15px;
  font-size: 15px;
  background-size: 15px 15px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-se {
  right: -19px;
  bottom: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-nw {
  top: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-n {
  top: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-e {
  top: -webkit-calc(42%);
  top: calc(50% - 8px);
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-ne {
  top: -19px;
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-w {
  left: -19px;
  margin-top: -8px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-sw {
  bottom: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-s {
  bottom: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle {
  width: 10px;
  height: 10px;
  font-size: 10px;
  background-size: 10px 10px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-se {
  right: -15px;
  bottom: -13px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-nw {
  top: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-n {
  top: -13px;
  margin-left: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-e {
  top: -webkit-calc(45%);
  top: calc(50% - 5px);
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-ne {
  top: -13px;
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-w {
  left: -15px;
  margin-top: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-sw {
  bottom: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-s {
  bottom: -13px;
  margin-left: -5px;
}
.x6-widget-handle-toolbar {
  position: absolute;
  top: -50px;
  display: table-row;
  padding: 7px 5px;
}
.x6-widget-handle-toolbar::after {
  position: absolute;
  top: 100%;
  left: 10px;
  width: 0;
  height: 0;
  margin-top: 4px;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
  content: '';
}
.x6-widget-handle-toolbar .x6-widget-handle {
  position: relative;
  display: table-cell;
  min-width: 20px;
  margin: 0 2px;
  background-position: 3px 3px;
  background-size: 16px 16px;
}
.x6-widget-handle-toolbar .x6-widget-handle::after {
  position: absolute;
  bottom: -11px;
  width: 100%;
  content: '';
}
.x6-widget-handle-pie {
  position: absolute;
  top: -webkit-calc(0%);
  top: calc(50% - 50px);
  right: -50px;
  z-index: 1;
  display: none;
  width: 100px;
  height: 100px;
  margin: -2px -2px 0 0;
  border-radius: 50%;
  cursor: default;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie .x6-widget-handle {
  width: 1px;
  height: auto;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie-slice-svg {
  width: 100%;
  height: 100%;
  overflow: visible !important;
}
.x6-widget-handle-pie-slice-img,
.x6-widget-handle-pie-slice-txt {
  display: none;
  pointer-events: none;
}
.x6-widget-handle-pie[data-pie-toggle-position='e'] {
  top: calc(50% - 50px);
  right: -50px;
  left: auto;
}
.x6-widget-handle-pie[data-pie-toggle-position='w'] {
  top: calc(50% - 50px);
  right: auto;
  left: -52px;
}
.x6-widget-handle-pie[data-pie-toggle-position='n'] {
  top: -50px;
  right: auto;
  bottom: auto;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie[data-pie-toggle-position='s'] {
  top: auto;
  right: auto;
  bottom: -52px;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie-opened {
  display: block;
  animation: halo-pie-visibility 0.1s, halo-pie-opening 0.1s;
  animation-timing-function: step-end, ease;
  animation-delay: 0s, 0.1s;
}
.x6-widget-handle-pie-toggle {
  position: absolute;
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  z-index: 2;
  display: block;
  box-sizing: border-box;
  width: 30px;
  height: 30px;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 20px 20px;
  border-radius: 50%;
  cursor: pointer;
  user-select: none;
  pointer-events: visiblePainted;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle-pie-toggle-pos-e {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  bottom: auto;
  left: auto;
}
.x6-widget-handle-pie-toggle-pos-w {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: auto;
  bottom: auto;
  left: -15px;
}
.x6-widget-handle-pie-toggle-pos-n {
  top: -15px;
  right: auto;
  bottom: auto;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-pos-s {
  top: auto;
  right: auto;
  bottom: -15px;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-opened {
  transition: 0.1s background-image;
}
.x6-widget-handle-toolbar {
  position: static;
  display: inline-block;
  margin-top: -50px;
  margin-left: 45px;
  white-space: nowrap;
  vertical-align: top;
  background-color: #f5f5f5;
  border-bottom: 3px solid #333;
  border-radius: 5px;
  box-shadow: 0 1px 2px #222;
}
.x6-widget-handle-toolbar::after {
  top: -12px;
  left: 55px;
  margin-top: 0;
  border-top: 6px solid #333;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
}
.x6-widget-handle-toolbar .x6-widget-handle {
  display: inline-block;
  vertical-align: top;
}
.x6-widget-handle-toolbar .x6-widget-handle:hover::after {
  border-bottom: 4px solid #fc6cb8;
}
.x6-widget-handle-toolbar .x6-widget-handle-rotate {
  position: absolute;
  top: 100%;
  right: 100%;
  margin-top: 3px;
  margin-right: 6px;
}
.x6-widget-handle-toolbar .x6-widget-handle-remove:hover::after,
.x6-widget-handle-toolbar .x6-widget-handle-rotate:hover::after {
  border-bottom: none;
}
.x6-widget-handle-toolbar .x6-widget-handle + .x6-widget-handle {
  margin-left: 4px;
}
.x6-widget-handle-pie {
  box-sizing: content-box;
  background-color: #f5f5f5;
  border: 2px solid #404040;
}
.x6-widget-handle-pie-slice {
  fill: transparent;
  stroke: #e9e9e9;
  stroke-width: 1;
}
.x6-widget-handle-pie-slice:hover {
  fill: #fff;
}
.x6-widget-handle-pie-slice-img {
  display: block;
}
.x6-widget-handle-selected .x6-widget-handle-pie-slice {
  fill: #fff;
}
.x6-widget-handle-pie-toggle {
  background-color: #f6f6f6;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  background-size: 16px 16px;
  border: 2px solid #3b425f;
}
.x6-widget-handle-pie-toggle:hover {
  background-color: #fff;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  border-color: #fd6eb6;
}
.x6-widget-handle-pie-toggle-opened {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%236a6c8a%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-pie-toggle-opened:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%23FD6EB6%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-dnd {
  position: absolute;
  top: -10000px;
  left: -10000px;
  z-index: 999999;
  display: none;
  cursor: move;
  opacity: 0.7;
  pointer-events: 'cursor';
}
.x6-widget-dnd.dragging {
  display: inline-block;
}
.x6-widget-dnd.dragging * {
  pointer-events: none !important;
}
.x6-widget-dnd .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-halo {
  position: absolute;
  pointer-events: none;
}
.x6-widget-halo-content {
  position: absolute;
  top: 100%;
  padding: 6px;
  font-size: 10px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-halo-handles + .x6-widget-halo-content {
  right: -20px;
  left: -20px;
  margin-top: 30px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 25px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 20px;
}
.x6-widget-halo-handles.x6-widget-handle-pie + .x6-widget-halo-content {
  right: 0;
  left: 0;
  margin-top: 10px;
}
.x6-widget-halo-content {
  color: #fff;
  background-color: #6a6b8a;
}
.x6-widget-halo.type-node .x6-widget-handle-toolbar .x6-widget-handle-remove {
  position: absolute;
  right: 100%;
  bottom: 100%;
  margin-right: 6px;
  margin-bottom: 3px;
}
.x6-widget-halo.type-edge .x6-widget-handle-surround .x6-widget-handle-remove {
  background-color: #fff;
  border-radius: 50%;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar {
  margin-top: -60px;
  margin-left: -18px;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar::after {
  top: -22px;
  left: -9px;
}
.x6-widget-minimap {
  position: relative;
  display: table-cell;
  box-sizing: border-box;
  overflow: hidden;
  text-align: center;
  vertical-align: middle;
  background-color: #fff;
  user-select: none;
}
.x6-widget-minimap .x6-graph {
  display: inline-block;
  box-shadow: 0 0 4px 0 #eee;
  cursor: pointer;
}
.x6-widget-minimap .x6-graph > svg {
  pointer-events: none;
  shape-rendering: optimizeSpeed;
}
.x6-widget-minimap .x6-graph .x6-node * {
  /* stylelint-disable-next-line */
  vector-effect: initial;
}
.x6-widget-minimap-viewport {
  position: absolute;
  box-sizing: content-box !important;
  margin: -2px 0 0 -2px;
  border: 2px solid #31d0c6;
  cursor: move;
}
.x6-widget-minimap-viewport-zoom {
  position: absolute;
  right: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 12px;
  height: 12px;
  margin: 0 -6px -6px 0;
  background-color: #fff;
  border: 2px solid #31d0c6;
  border-radius: 50%;
  cursor: nwse-resize;
}
.x6-graph-scroller {
  position: relative;
  box-sizing: border-box;
  overflow: scroll;
  outline: none;
}
.x6-graph-scroller-content {
  position: relative;
}
.x6-graph-scroller-background {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-scroller .x6-graph {
  position: absolute;
  display: inline-block;
  margin: 0;
  box-shadow: none;
}
.x6-graph-scroller .x6-graph > svg {
  display: block;
}
.x6-graph-scroller.x6-graph-scroller-paged .x6-graph {
  box-shadow: 0 0 4px 0 #eee;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='false'] {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='true'] {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-graph-pagebreak {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-pagebreak-vertical {
  position: absolute;
  top: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 1px;
  border-left: 1px dashed #bdbdbd;
}
.x6-graph-pagebreak-horizontal {
  position: absolute;
  right: 0;
  left: 0;
  box-sizing: border-box;
  height: 1px;
  border-top: 1px dashed #bdbdbd;
}
.x6-widget-selection {
  position: absolute;
  display: none;
  width: 0;
  height: 0;
  touch-action: none;
}
.x6-widget-selection-rubberband {
  display: block;
  overflow: visible;
  opacity: 0.3;
}
.x6-widget-selection-selected {
  display: block;
}
.x6-widget-selection-box {
  cursor: move;
}
.x6-widget-selection-inner[data-selection-length='0'],
.x6-widget-selection-inner[data-selection-length='1'] {
  display: none;
}
.x6-widget-selection-content {
  position: absolute;
  top: 100%;
  right: -20px;
  left: -20px;
  margin-top: 30px;
  padding: 6px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-selection-content:empty {
  display: none;
}
.x6-widget-selection-rubberband {
  background-color: #3498db;
  border: 2px solid #2980b9;
}
.x6-widget-selection-box {
  box-sizing: content-box !important;
  margin-top: -4px;
  margin-left: -4px;
  padding-right: 4px;
  padding-bottom: 4px;
  border: 2px dashed #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-inner {
  box-sizing: content-box !important;
  margin-top: -8px;
  margin-left: -8px;
  padding-right: 12px;
  padding-bottom: 12px;
  border: 2px solid #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-content {
  color: #fff;
  font-size: 10px;
  background-color: #6a6b8a;
}
.x6-widget-snapline {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  pointer-events: none;
}
.x6-widget-snapline-vertical,
.x6-widget-snapline-horizontal {
  stroke: #2ecc71;
  stroke-width: 1px;
}
.x6-widget-stencil {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-widget-stencil::after {
  position: absolute;
  top: 0;
  display: block;
  width: 100%;
  height: 20px;
  padding: 8px 0;
  line-height: 20px;
  text-align: center;
  opacity: 0;
  transition: top 0.1s linear, opacity 0.1s linear;
  content: ' ';
  pointer-events: none;
}
.x6-widget-stencil-content {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  height: auto;
  overflow-x: hidden;
  overflow-y: auto;
}
.x6-widget-stencil .x6-node [magnet]:not([magnet='passive']) {
  pointer-events: none;
}
.x6-widget-stencil-group {
  padding: 0;
  padding-bottom: 8px;
  overflow: hidden;
  user-select: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  padding-bottom: 0;
}
.x6-widget-stencil-group-title {
  position: relative;
  margin-top: 0;
  margin-bottom: 0;
  padding: 4px;
  cursor: pointer;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  user-select: none;
}
.x6-widget-stencil .unmatched {
  opacity: 0.3;
}
.x6-widget-stencil .x6-node.unmatched {
  display: none;
}
.x6-widget-stencil-group.unmatched {
  display: none;
}
.x6-widget-stencil-search-text {
  position: relative;
  z-index: 1;
  box-sizing: border-box;
  width: 100%;
  height: 30px;
  max-height: 30px;
  line-height: 30px;
  outline: 0;
}
.x6-widget-stencil.not-found::after {
  opacity: 1;
  content: attr(data-not-found-text);
}
.x6-widget-stencil.not-found.searchable::after {
  top: 30px;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 50px;
}
.x6-widget-stencil {
  color: #333;
  background: #f5f5f5;
}
.x6-widget-stencil-content {
  position: absolute;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-content {
  top: 32px;
}
.x6-widget-stencil.searchable > .x6-widget-stencil-content {
  top: 80px;
}
.x6-widget-stencil.not-found::after {
  position: absolute;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 80px;
}
.x6-widget-stencil.not-found.searchable::after {
  top: 60px;
}
.x6-widget-stencil-group {
  height: auto;
  margin-bottom: 1px;
  padding: 0;
  transition: none;
}
.x6-widget-stencil-group .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  max-height: 31px;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  position: relative;
  left: 0;
  box-sizing: border-box;
  width: 100%;
  height: 32px;
  padding: 0 5px 0 8px;
  color: #666;
  font-weight: 700;
  font-size: 12px;
  line-height: 32px;
  cursor: default;
  transition: all 0.3;
}
.x6-widget-stencil-title:hover,
.x6-widget-stencil-group > .x6-widget-stencil-group-title:hover {
  color: #444;
}
.x6-widget-stencil-title {
  background: #e9e9e9;
}
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  background: #ededed;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title {
  padding-left: 32px;
  cursor: pointer;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  position: absolute;
  top: 6px;
  left: 8px;
  display: block;
  width: 18px;
  height: 18px;
  margin: 0;
  padding: 0;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  border: none;
  content: ' ';
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48L2c+PC9zdmc+');
  opacity: 0.4;
  transition: all 0.3s;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48cGF0aCBkPSJNOC44MTcgNS42MjN2Ni43NTZhLjU1OC41NTggMCAwMDEuMTE2IDBWNS42MjNhLjU1OC41NTggMCAxMC0xLjExNiAweiIvPjwvZz48L3N2Zz4=');
  opacity: 0.4;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil input[type='search'] {
  -webkit-appearance: textfield;
}
.x6-widget-stencil input[type='search']::-webkit-search-cancel-button,
.x6-widget-stencil input[type='search']::-webkit-search-decoration {
  -webkit-appearance: none;
}
.x6-widget-stencil-search-text {
  display: block;
  width: 90%;
  margin: 8px 5%;
  padding-left: 8px;
  color: #333;
  background: #fff;
  border: 1px solid #e9e9e9;
  border-radius: 12px;
  outline: 0;
}
.x6-widget-stencil-search-text:focus {
  outline: 0;
}
.x6-widget-stencil::after {
  color: #808080;
  font-weight: 600;
  font-size: 12px;
  background: 0 0;
}
.x6-widget-transform {
  position: absolute;
  box-sizing: content-box !important;
  margin: -5px 0 0 -5px;
  padding: 4px;
  border: 1px dashed #000;
  border-radius: 5px;
  user-select: none;
  pointer-events: none;
}
.x6-widget-transform > div {
  position: absolute;
  box-sizing: border-box;
  background-color: #fff;
  border: 1px solid #000;
  transition: background-color 0.2s;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-transform > div:hover {
  background-color: #d3d3d3;
}
.x6-widget-transform-cursor-n {
  cursor: n-resize;
}
.x6-widget-transform-cursor-s {
  cursor: s-resize;
}
.x6-widget-transform-cursor-e {
  cursor: e-resize;
}
.x6-widget-transform-cursor-w {
  cursor: w-resize;
}
.x6-widget-transform-cursor-ne {
  cursor: ne-resize;
}
.x6-widget-transform-cursor-nw {
  cursor: nw-resize;
}
.x6-widget-transform-cursor-se {
  cursor: se-resize;
}
.x6-widget-transform-cursor-sw {
  cursor: sw-resize;
}
.x6-widget-transform-resize {
  width: 10px;
  height: 10px;
  border-radius: 6px;
}
.x6-widget-transform-resize[data-position='top-left'] {
  top: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='top-right'] {
  top: -5px;
  right: -5px;
}
.x6-widget-transform-resize[data-position='bottom-left'] {
  bottom: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='bottom-right'] {
  right: -5px;
  bottom: -5px;
}
.x6-widget-transform-resize[data-position='top'] {
  top: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='bottom'] {
  bottom: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='left'] {
  top: 50%;
  left: -5px;
  margin-top: -5px;
}
.x6-widget-transform-resize[data-position='right'] {
  top: 50%;
  right: -5px;
  margin-top: -5px;
}
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='top'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='right'] {
  display: none;
}
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='right'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='top'] {
  display: none;
}
.x6-widget-transform.no-resize .x6-widget-transform-resize {
  display: none;
}
.x6-widget-transform-rotate {
  top: -20px;
  left: -20px;
  width: 12px;
  height: 12px;
  border-radius: 6px;
  cursor: crosshair;
}
.x6-widget-transform.no-rotate .x6-widget-transform-rotate {
  display: none;
}
.x6-widget-transform-active {
  border-color: transparent;
  pointer-events: all;
}
.x6-widget-transform-active > div {
  display: none;
}
.x6-widget-transform-active > .x6-widget-transform-active-handle {
  display: block;
  background-color: #808080;
}
.x6-widget-knob {
  position: absolute;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  margin-top: -8px;
  margin-left: -8px;
  cursor: pointer;
  user-select: none;
}
.x6-widget-knob::before,
.x6-widget-knob::after {
  position: absolute;
  transform: rotate(45deg);
  content: '';
}
.x6-widget-knob::before {
  top: 4px;
  left: 4px;
  box-sizing: border-box;
  width: 8px;
  height: 8px;
  background-color: #fff;
}
.x6-widget-knob::after {
  top: 5px;
  left: 5px;
  box-sizing: border-box;
  width: 6px;
  height: 6px;
  background-color: #fca000;
}
.x6-graph-print {
  position: relative;
}
.x6-graph-print .x6-graph-print-ready {
  display: none;
}
.x6-graph-print .x6-graph-print-preview {
  overflow: hidden !important;
  background: #fff !important;
}
@media print {
  html,
  html > body.x6-graph-printing {
    position: relative !important;
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  html > body.x6-graph-printing > * {
    display: none !important;
  }
  html > body.x6-graph-printing > .x6-graph-print {
    display: block !important;
  }
  .x6-graph-print {
    top: 0 !important;
    left: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
    page-break-after: always;
    background: #fff !important;
  }
  .x6-graph-print .x6-graph-print-ready {
    display: none;
  }
}
.x6-cell-tool-editor {
  position: relative;
  display: inline-block;
  min-height: 1em;
  margin: 0;
  padding: 0;
  line-height: 1;
  white-space: normal;
  text-align: center;
  vertical-align: top;
  overflow-wrap: normal;
  outline: none;
  transform-origin: 0 0;
  -webkit-user-drag: none;
}
.x6-edge-tool-editor {
  border: 1px solid #275fc5;
  border-radius: 2px;
}
`;var CM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class Rb extends Ml{init(){_d.autoInsertCSS&&Rb.ensure()}dispose(){Rb.clean()}}CM([Rb.dispose()],Rb.prototype,"dispose",null),function(a){let e,t=0;function r(){if(t+=1,!(t>1)&&!Jt.isApplyingHMR()){e=document.createElement("style"),e.setAttribute("type","text/css"),e.textContent=xM;const h=document.querySelector("head");h&&h.insertBefore(e,h.firstChild)}}a.ensure=r;function s(){t-=1,!(t>0)&&(e&&e.parentNode&&e.parentNode.removeChild(e),e=null)}a.clean=s}(Rb||(Rb={}));var wM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class i2{get handleClassName(){return Tl.handle}get pie(){return Object.assign(Object.assign({},i2.defaultPieOptions),this.handleOptions.pie)}initHandles(){if(this.handles=[],this.handleOptions.handles&&this.handleOptions.handles.forEach(e=>this.addHandle(e)),this.handleOptions.type==="pie"){if(this.pie.toggles){const e=Tl.pieToggle;this.$pieToggles={},this.pie.toggles.forEach(t=>{const r=this.$("<div/>");this.applyAttrs(r,t.attrs),r.addClass(e).addClass(`${e}-pos-${t.position||"e"}`).attr("data-name",t.name).appendTo(this.container),this.$pieToggles[t.name]=r})}this.setPieIcons()}if(this.$handleContainer){const e=this.handleOptions.type||"surround";this.$handleContainer.addClass(Tl.wrap).addClass(Tl.animate).addClass(`${Tl.handle}-${e}`)}this.delegateEvents({[`mousedown .${Tl.handle}`]:"onHandleMouseDown",[`touchstart .${Tl.handle}`]:"onHandleMouseDown",[`mousedown .${Tl.pieToggle}`]:"onPieToggleMouseDown",[`touchstart .${Tl.pieToggle}`]:"onPieToggleMouseDown"})}onHandleMouseDown(e){const t=this.$(e.currentTarget).closest(`.${Tl.handle}`).attr("data-action");t&&(e.preventDefault(),e.stopPropagation(),this.setEventData(e,{action:t,clientX:e.clientX,clientY:e.clientY,startX:e.clientX,startY:e.clientY}),e.type==="mousedown"&&e.button===2?this.triggerHandleAction(t,"contextmenu",e):(this.triggerHandleAction(t,"mousedown",e),this.delegateDocumentEvents({mousemove:"onHandleMouseMove",touchmove:"onHandleMouseMove",mouseup:"onHandleMouseUp",touchend:"onHandleMouseUp",touchcancel:"onHandleMouseUp"},e.data)))}onHandleMouseMove(e){const r=this.getEventData(e).action;r&&this.triggerHandleAction(r,"mousemove",e)}onHandleMouseUp(e){const r=this.getEventData(e).action;r&&(this.triggerHandleAction(r,"mouseup",e),this.undelegateDocumentEvents())}triggerHandleAction(e,t,r,s){r.preventDefault(),r.stopPropagation();const h=this.normalizeEvent(r),g=this.getEventData(h),y=this.graph.snapToGrid(h.clientX,h.clientY),E=this.graph.snapToGrid(g.clientX,g.clientY),D=y.x-E.x,V=y.y-E.y;this.trigger(`action:${e}:${t}`,Object.assign({e:h,dx:D,dy:V,x:y.x,y:y.y,offsetX:r.clientX-g.startX,offsetY:r.clientY-g.startY},s)),g.clientX=r.clientX,g.clientY=r.clientY}onPieToggleMouseDown(e){e.stopPropagation();const t=this.$(e.target).closest(`.${Tl.pieToggle}`).attr("data-name");this.isOpen(t)||this.isOpen()&&this.toggleState(),this.toggleState(t)}setPieIcons(){this.handleOptions.type==="pie"&&this.$handleContainer.find(`.${Tl.handle}`).each((e,t)=>{const r=this.$(t),s=r.attr("data-action"),h=Tl.pieSlice,g=this.getHandle(s);if(!g||!g.icon){const y=window.getComputedStyle(t,":before").getPropertyValue("content");if(y&&y!=="none"){const D=r.find(`.${h}-txt`);D.length&&co.create(D[0]).text(y.replace(/['"]/g,""))}const E=r.css("background-image");if(E){const D=E.match(/url\(['"]?([^'"]+)['"]?\)/);if(D){const V=D[1],$=r.find(`.${h}-img`);$.length>0&&co.create($[0]).attr("xlink:href",V)}}}})}getHandleIdx(e){return this.handles.findIndex(t=>t.name===e)}hasHandle(e){return this.getHandleIdx(e)>=0}getHandle(e){return this.handles.find(t=>t.name===e)}renderHandle(e){const t=this.$("<div/>").addClass(`${Tl.handle} ${Tl.handle}-${e.name}`).attr("data-action",e.name).prop("draggable",!1);if(this.handleOptions.type==="pie"){const r=this.getHandleIdx(e.name),s=this.pie,h=s.outerRadius,g=s.innerRadius,y=(h+g)/2,E=new Fn(h,h),D=wa.toRad(s.sliceAngle),V=r*D+wa.toRad(s.startAngle),$=V+D,J=VC(g,h,V,$),de=co.create("svg").addClass(`${Tl.pieSlice}-svg`),Ge=co.create("path").addClass(Tl.pieSlice).attr("d",J).translate(h,h),Qe=Fn.fromPolar(y,-V-D/2,E).toJSON(),xt=s.iconSize,Yt=co.create("image").attr(Qe).addClass(`${Tl.pieSlice}-img`);Qe.y=Qe.y+xt-2;const fn=co.create("text",{"font-size":xt}).attr(Qe).addClass(`${Tl.pieSlice}-txt`);Yt.attr({width:xt,height:xt}),Yt.translate(-xt/2,-xt/2),fn.translate(-xt/2,-xt/2),de.append([Ge,Yt,fn]),t.append(de.node)}else t.addClass(`${Tl.handle}-pos-${e.position}`),e.content&&(typeof e.content=="string"?t.html(e.content):t.append(e.content));return this.updateHandleIcon(t,e.icon),this.applyAttrs(t,e.attrs),t}addHandle(e){if(!this.hasHandle(e.name)){this.handles.push(e);const t=e.events;t&&Object.keys(t).forEach(r=>{const s=t[r],h=`action:${e.name}:${r}`;typeof s=="string"?this.on(h,this[s],this):this.on(h,s)}),this.$handleContainer&&this.$handleContainer.append(this.renderHandle(e))}return this}addHandles(e){return e.forEach(t=>this.addHandle(t)),this}removeHandles(){for(;this.handles.length;)this.removeHandle(this.handles[0].name);return this}removeHandle(e){const t=this.getHandleIdx(e),r=this.handles[t];return r&&(r.events&&Object.keys(r.events).forEach(s=>{this.off(`action:${e}:${s}`)}),this.getHandleElem(e).remove(),this.handles.splice(t,1)),this}changeHandle(e,t){const r=this.getHandle(e);return r&&(this.removeHandle(e),this.addHandle(Object.assign(Object.assign({},r),t))),this}toggleHandle(e,t){const r=this.getHandle(e);if(r){const s=this.getHandleElem(e),h=`${Tl.handle}-selected`;t===void 0&&(t=!s.hasClass(h)),s.toggleClass(h,t);const g=t?r.iconSelected:r.icon;g&&this.updateHandleIcon(s,g)}return this}selectHandle(e){return this.toggleHandle(e,!0)}deselectHandle(e){return this.toggleHandle(e,!1)}deselectAllHandles(){return this.handles.forEach(e=>this.deselectHandle(e.name)),this}getHandleElem(e){return this.$handleContainer.find(`.${Tl.handle}-${e}`)}updateHandleIcon(e,t){if(this.handleOptions.type==="pie"){const r=e.find(`.${Tl.pieSliceImg}`);this.$(r[0]).attr("xlink:href",t||"")}else e.css("background-image",t?`url(${t})`:"")}isRendered(){return this.$handleContainer!=null}isOpen(e){return this.isRendered()?e?this.$pieToggles[e].hasClass(Tl.pieToggleOpened):this.$handleContainer.hasClass(`${Tl.pieOpended}`):!1}toggleState(e){if(this.isRendered()){const t=this.$handleContainer;if(Object.keys(this.$pieToggles).forEach(r=>{this.$pieToggles[r].removeClass(Tl.pieToggleOpened)}),this.isOpen())this.trigger("pie:close",{name:e}),t.removeClass(Tl.pieOpended);else{if(this.trigger("pie:open",{name:e}),e){const r=this.pie.toggles,s=r&&r.find(h=>h.name===e);s&&t.attr({"data-pie-toggle-name":s.name,"data-pie-toggle-position":s.position}),this.$pieToggles[e].addClass(Tl.pieToggleOpened)}t.addClass(Tl.pieOpended)}}}applyAttrs(e,t){if(t){const r=za.$(e);Object.keys(t).forEach(s=>{const h=r.find(s).addBack().filter(s),g=t[s],{class:y}=g,E=wM(g,["class"]);y&&h.addClass(y),h.attr(E)})}}}(function(a){a.defaultPieOptions={innerRadius:20,outerRadius:50,sliceAngle:45,startAngle:0,iconSize:14,toggles:[{name:"default",position:"e"}]}})(i2||(i2={}));var Tl;(function(a){a.handle=za.prototype.prefixClassName("widget-handle"),a.wrap=`${a.handle}-wrap`,a.animate=`${a.handle}-animate`,a.pieOpended=`${a.handle}-pie-opened`,a.pieToggle=`${a.handle}-pie-toggle`,a.pieToggleOpened=`${a.handle}-pie-toggle-opened`,a.pieSlice=`${a.handle}-pie-slice`,a.pieSliceImg=`${a.handle}-pie-slice-img`})(Tl||(Tl={}));var EM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h},SM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class mw extends za{constructor(e){super();const t=e,{view:r,cell:s,node:h,edge:g,graph:y}=t,E=SM(t,["view","cell","node","edge","graph"]);r?(this.view=r,this.cell=r.cell,this.graph=r.graph,this.model=this.graph.model):(s||g||h)&&y&&(this.cell=h||g||s,this.view=y.renderer.findViewByCell(this.cell),this.graph=y,this.model=this.graph.model);const D=this.constructor;e.clearAll!==!1&&D.removeInstances(this.graph),D.register(this),this.init(E)}static ensureCache(){return this.instanceCache.has(this)||this.instanceCache.set(this,{}),this.instanceCache.get(this)}static register(e,t){t==null&&(t=e.graph);const r=this.ensureCache();let s=r[t.view.cid];s==null&&(s=r[t.view.cid]={}),s[e.cid]=e}static unregister(e,t){t==null&&(t=e.graph);const r=this.ensureCache();r[t.view.cid]&&delete r[t.view.cid][e.cid]}static removeInstances(e){const r=this.ensureCache()[e.view.cid];r&&Object.keys(r).forEach(s=>{const h=r[s];h&&h.remove()})}static getInstances(e){return this.ensureCache()[e.view.cid]||{}}init(e){}render(){return this}startListening(){this.options.clearOnBlankMouseDown!==!1&&this.graph.on("blank:mousedown",this.remove,this)}stopListening(){this.options.clearOnBlankMouseDown!==!1&&this.graph.off("blank:mousedown",this.remove,this)}remove(){return this.stopListening(),this.constructor.unregister(this),super.remove()}dispose(){this.remove()}}mw.instanceCache=new WeakMap,EM([za.dispose()],mw.prototype,"dispose",null);class KS extends mw{get node(){return this.cell}get metadata(){const e=this.cell.prop("knob");return Array.isArray(e)?this.options.index!=null?e[this.options.index]:null:e}init(e){this.options=Object.assign({},e),this.render(),this.startListening()}startListening(){this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.model.on("reseted",this.remove,this),this.node.on("removed",this.remove,this),this.view.on("node:resize:mousedown",this.onTransform,this),this.view.on("node:rotate:mousedown",this.onTransform,this),this.view.on("node:resize:mouseup",this.onTransformed,this),this.view.on("node:rotate:mouseup",this.onTransformed,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.model.off("reseted",this.remove,this),this.node.off("removed",this.remove,this),this.view.off("node:resize:mousedown",this.onTransform,this),this.view.off("node:rotate:mousedown",this.onTransform,this),this.view.off("node:resize:mouseup",this.onTransformed,this),this.view.off("node:rotate:mouseup",this.onTransformed,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}render(){return this.container=document.createElement("div"),ja(this.container,this.prefixClassName("widget-knob")),this.options.className&&ja(this.container,this.options.className),this.view.addClass(o2.KNOB),this.graph.container.appendChild(this.container),this.update(),this}remove(){return this.view.removeClass(o2.KNOB),super.remove()}update(){if(this.metadata){const{update:e,position:t}=this.metadata,r={knob:this,cell:this.cell,node:this.node};if(t){const s=t.call(this.graph,Object.assign({},r));if(s){const h=this.graph.matrix(),g=this.node.getBBox(),y=wa.normalize(this.node.getAngle()),E=Fn.create(s);y!==0&&E.rotate(-y,{x:g.width/2,y:g.height/2}),E.translate(g).scale(h.a,h.d).translate(h.e,h.f),this.container.style.left=`${E.x}px`,this.container.style.top=`${E.y}px`}}e&&e.call(this.graph,Object.assign({},r))}}hide(){this.container.style.display="none"}show(){this.container.style.display=""}onTransform(){this.hide()}onTransformed(){this.show()}onKnobMouseDown({knob:e}){this.cid!==e.cid&&this.hide()}onKnobMouseUp(){this.show()}notify(e,t){if(this.view){const r=this.view.normalizeEvent(t),s=this.graph.snapToGrid(r.clientX,r.clientY);this.view.notify(`cell:${e}`,{e:r,view:this.view,node:this.node,cell:this.cell,x:s.x,y:s.y,knob:this}),this.cell.isNode()?this.view.notify(`node:${e}`,{e:r,view:this.view,node:this.node,cell:this.cell,x:s.x,y:s.y,knob:this}):this.cell.isEdge()&&this.view.notify(`edge:${e}`,{e:r,view:this.view,edge:this.cell,cell:this.cell,x:s.x,y:s.y,knob:this})}}onMouseDown(e){e.stopPropagation(),this.setEventData(e,{knobbing:!1,originX:e.clientX,originY:e.clientY,clientX:e.clientX,clientY:e.clientY}),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(o2.documentEvents,e.data),this.metadata&&this.metadata.onMouseDown&&this.metadata.onMouseDown.call(this.graph,{e,data:this.getEventData(e),knob:this,cell:this.cell,node:this.node}),this.notify("knob:mousedown",e)}onMouseMove(e){const t=this.getEventData(e),r=this.graph.findViewByCell(this.node);if(t.knobbing||(t.knobbing=!0,r&&(r.addClass(o2.KNOBBING),this.notify("knob",e)),this.model.startBatch("knob",{cid:this.cid})),t.clientX=e.clientX,t.clientY=e.clientY,this.metadata&&this.metadata.onMouseMove){const s=this.graph.matrix(),h=(e.clientX-t.originX)/s.a,g=(e.clientY-t.originY)/s.d,y=this.node.getAngle(),E=new Fn(h,g).rotate(y);this.metadata.onMouseMove.call(this.graph,{e,data:t,deltaX:E.x,deltaY:E.y,knob:this,cell:this.cell,node:this.node})}this.notify("knobbing",e),this.notify("knob:mousemove",e)}onMouseUp(e){this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const t=this.getEventData(e),r=this.graph.findViewByCell(this.node);t.knobbing&&(r&&r.removeClass(o2.KNOBBING),this.metadata&&this.metadata.onMouseUp&&this.metadata.onMouseUp.call(this.graph,{e,data:t,knob:this,cell:this.cell,node:this.node}),this.model.stopBatch("knob",{cid:this.cid}),this.notify("knobbed",e)),this.notify("knob:mouseup",e)}}var o2;(function(a){a.KNOB="has-widget-knob",a.KNOBBING="node-knobbing",a.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"}})(o2||(o2={}));var AM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h},vw;(function(a){a.root="widget-minimap",a.viewport=`${a.root}-viewport`,a.zoom=`${a.viewport}-zoom`})(vw||(vw={}));class XS extends za{constructor(e){super(),this.options=Object.assign(Object.assign({},gE.defaultOptions),e),this.updateViewport=D1(this.updateViewport.bind(this),0),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(vw.root));const t=document.createElement("div");this.container.appendChild(t),this.$viewport=this.$("<div>").addClass(this.prefixClassName(vw.viewport)),this.options.scalable&&(this.zoomHandle=this.$("<div>").addClass(this.prefixClassName(vw.zoom)).appendTo(this.$viewport).get(0)),this.$container.append(this.$viewport).css({width:this.options.width,height:this.options.height,padding:this.options.padding}),this.options.container&&this.options.container.appendChild(this.container),this.sourceGraph=this.graph;const r=Object.assign(Object.assign({},this.options.graphOptions),{container:t,model:this.sourceGraph.model,frozen:!0,async:this.sourceGraph.isAsync(),interacting:!1,grid:!1,background:!1,rotating:!1,resizing:!1,embedding:!1,selecting:!1,snapline:!1,clipboard:!1,history:!1,scroller:!1});this.targetGraph=this.options.createGraph?this.options.createGraph(r):new il(r),this.targetGraph.renderer.unfreeze(),this.updatePaper(this.sourceGraph.options.width,this.sourceGraph.options.height),this.startListening()}get graph(){return this.options.graph}get scroller(){return this.graph.scroller.widget}get graphContainer(){return this.scroller?this.scroller.container:this.graph.container}get $graphContainer(){return this.scroller?this.scroller.$container:this.$(this.graph.container)}startListening(){this.scroller?this.$graphContainer.on(`scroll${this.getEventNamespace()}`,this.updateViewport):(this.sourceGraph.on("translate",this.onTransform,this),this.sourceGraph.on("scale",this.onTransform,this),this.sourceGraph.on("model:updated",this.onModelUpdated,this)),this.sourceGraph.on("resize",this.updatePaper,this),this.delegateEvents({mousedown:"startAction",touchstart:"startAction",[`mousedown .${this.prefixClassName("graph")}`]:"scrollTo",[`touchstart .${this.prefixClassName("graph")}`]:"scrollTo"})}stopListening(){this.scroller?this.$graphContainer.off(this.getEventNamespace()):(this.sourceGraph.off("translate",this.onTransform,this),this.sourceGraph.off("scale",this.onTransform,this),this.sourceGraph.off("model:updated",this.onModelUpdated,this)),this.sourceGraph.off("resize",this.updatePaper,this),this.undelegateEvents()}onRemove(){this.targetGraph.view.remove(),this.stopListening(),this.targetGraph.dispose()}onTransform(e){(e.ui||this.targetGraphTransforming)&&this.updateViewport()}onModelUpdated(){this.targetGraph.zoomToFit()}updatePaper(e,t){let r,s;typeof e=="object"?(r=e.width,s=e.height):(r=e,s=t);const h=this.sourceGraph.options,g=this.sourceGraph.transform.getScale(),y=this.options.width-2*this.options.padding,E=this.options.height-2*this.options.padding;r/=g.sx,s/=g.sy,this.ratio=Math.min(y/r,E/s);const D=this.ratio,V=h.x*D/g.sx,$=h.y*D/g.sy;return r*=D,s*=D,this.targetGraph.resizeGraph(r,s),this.targetGraph.translate(V,$),this.scroller?this.targetGraph.scale(D,D):this.targetGraph.zoomToFit(),this.updateViewport(),this}updateViewport(){const e=this.sourceGraph.transform.getScale(),t=this.targetGraph.transform.getScale();let r=null;this.scroller?r=this.scroller.clientToLocalPoint(0,0):r=this.graph.graphToLocal(0,0);const s=this.$(this.targetGraph.container).position(),h=this.targetGraph.translate();h.ty=h.ty||0,this.geometry={top:s.top+r.y*t.sy+h.ty,left:s.left+r.x*t.sx+h.tx,width:this.$graphContainer.innerWidth()*t.sx/e.sx,height:this.$graphContainer.innerHeight()*t.sy/e.sy},this.$viewport.css(this.geometry)}startAction(e){const t=this.normalizeEvent(e),r=t.target===this.zoomHandle?"zooming":"panning",{tx:s,ty:h}=this.sourceGraph.translate(),g={action:r,clientX:t.clientX,clientY:t.clientY,scrollLeft:this.graphContainer.scrollLeft,scrollTop:this.graphContainer.scrollTop,zoom:this.sourceGraph.zoom(),scale:this.sourceGraph.transform.getScale(),geometry:this.geometry,translateX:s,translateY:h};this.targetGraphTransforming=!0,this.delegateDocumentEvents(gE.documentEvents,g)}doAction(e){const t=this.normalizeEvent(e),r=t.clientX,s=t.clientY,h=t.data;switch(h.action){case"panning":{const g=this.sourceGraph.transform.getScale(),y=(r-h.clientX)*g.sx,E=(s-h.clientY)*g.sy;this.scroller?(this.graphContainer.scrollLeft=h.scrollLeft+y/this.ratio,this.graphContainer.scrollTop=h.scrollTop+E/this.ratio):this.sourceGraph.translate(h.translateX-y/this.ratio,h.translateY-E/this.ratio);break}case"zooming":{const g=h.scale,y=h.geometry,E=1+(h.clientX-r)/y.width/g.sx;h.frameId&&cancelAnimationFrame(h.frameId),h.frameId=requestAnimationFrame(()=>{this.sourceGraph.zoom(E*h.zoom,{absolute:!0,minScale:this.options.minScale,maxScale:this.options.maxScale})});break}default:break}}stopAction(){this.undelegateDocumentEvents(),this.targetGraphTransforming=!1}scrollTo(e){const t=this.normalizeEvent(e);let r,s;const h=this.targetGraph.translate();if(h.ty=h.ty||0,t.offsetX==null){const E=this.$(this.targetGraph.container).offset();r=t.pageX-E.left,s=t.pageY-E.top}else r=t.offsetX,s=t.offsetY;const g=(r-h.tx)/this.ratio,y=(s-h.ty)/this.ratio;this.sourceGraph.centerPoint(g,y)}dispose(){this.remove()}}AM([za.dispose()],XS.prototype,"dispose",null);var gE;(function(a){a.defaultOptions={width:300,height:200,padding:10,scalable:!0,minScale:.01,maxScale:16,graphOptions:{},createGraph:e=>new il(e)},a.documentEvents={mousemove:"doAction",touchmove:"doAction",mouseup:"stopAction",touchend:"stopAction"}})(gE||(gE={}));var MM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h},TM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class YS extends za{constructor(e){super();const{graph:t}=e,r=TM(e,["graph"]);this.graph=t,this.options=Object.assign({tolerance:10},r),this.offset={x:0,y:0},this.render(),this.parseFilter(),this.disabled||this.startListening()}get model(){return this.graph.model}get containerClassName(){return this.prefixClassName("widget-snapline")}get verticalClassName(){return`${this.containerClassName}-vertical`}get horizontalClassName(){return`${this.containerClassName}-horizontal`}get disabled(){return this.options.enabled!==!0||this.graph.options.snapline.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.snapline.enabled=!0,this.startListening())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.snapline.enabled=!1,this.stopListening())}setFilter(e){this.options.filter=e,this.parseFilter()}render(){const e=this.containerWrapper=new co("svg"),t=this.horizontal=new co("line"),r=this.vertical=new co("line");e.addClass(this.containerClassName),t.addClass(this.horizontalClassName),r.addClass(this.verticalClassName),e.setAttribute("width","100%"),e.setAttribute("height","100%"),t.setAttribute("display","none"),r.setAttribute("display","none"),e.append([t,r]),this.options.className&&e.addClass(this.options.className),this.container=this.containerWrapper.node}startListening(){this.stopListening(),this.graph.on("node:mousedown",this.captureCursorOffset,this),this.graph.on("node:mousemove",this.snapOnMoving,this),this.model.on("batch:stop",this.onBatchStop,this),this.delegateDocumentEvents({mouseup:"hide",touchend:"hide"})}stopListening(){this.graph.off("node:mousedown",this.captureCursorOffset,this),this.graph.off("node:mousemove",this.snapOnMoving,this),this.model.off("batch:stop",this.onBatchStop,this),this.undelegateDocumentEvents()}parseFilter(){this.filterShapes={},this.filterCells={},this.filterFunction=null;const e=this.options.filter;Array.isArray(e)?e.forEach(t=>{typeof t=="string"?this.filterShapes[t]=!0:this.filterCells[t.id]=!0}):typeof e=="function"&&(this.filterFunction=e)}onBatchStop({name:e,data:t}){e==="resize"&&this.snapOnResizing(t.cell,t)}captureCursorOffset({view:e,x:t,y:r}){const s=e.getDelegatedView();if(s&&this.isNodeMovable(s)){const h=e.cell.getPosition();this.offset={x:t-h.x,y:r-h.y}}}isNodeMovable(e){return e&&e.cell.isNode()&&e.can("nodeMovable")}snapOnResizing(e,t){if(this.options.resizing&&!t.snapped&&t.ui&&t.direction&&t.trueDirection){const r=this.graph.renderer.findViewByCell(e);if(r&&r.cell.isNode()){const s=e.getBBox(),h=s.bbox(e.getAngle()),g=h.getTopLeft(),y=h.getBottomRight(),E=wa.normalize(e.getAngle()),D=this.options.tolerance||0;let V,$,J,de,Ge,Qe;const xt={vertical:0,horizontal:0},Yt=t.direction,fn=t.trueDirection,Xt=t.relativeDirection;fn.indexOf("right")!==-1?xt.vertical=y.x:xt.vertical=g.x,fn.indexOf("bottom")!==-1?xt.horizontal=y.y:xt.horizontal=g.y,this.model.getNodes().some($o=>{if(this.isIgnored(e,$o))return!1;const na=$o.getBBox().bbox($o.getAngle()),la=na.getTopLeft(),_i=na.getBottomRight(),Io={vertical:[la.x,_i.x],horizontal:[la.y,_i.y]},Ws={};return Object.keys(Io).forEach(Pl=>{const Ul=Pl,iu=Io[Ul].map(Pc=>({position:Pc,distance:Math.abs(Pc-xt[Ul])})).filter(Pc=>Pc.distance<=D);Ws[Ul]=Zi(iu,Pc=>Pc.distance)}),V==null&&Ws.vertical.length>0&&(V=Ws.vertical[0].position,$=Math.min(h.y,na.y),J=Math.max(y.y,_i.y)-$),de==null&&Ws.horizontal.length>0&&(de=Ws.horizontal[0].position,Ge=Math.min(h.x,na.x),Qe=Math.max(y.x,_i.x)-Ge),V!=null&&de!=null}),this.hide();let zn=0,xr=0;(de!=null||V!=null)&&(V!=null&&(zn=fn.indexOf("right")!==-1?V-y.x:g.x-V),de!=null&&(xr=fn.indexOf("bottom")!==-1?de-y.y:g.y-de));let Jr=0,fi=0;if(E%90===0)E===90||E===270?(Jr=xr,fi=zn):(Jr=zn,fi=xr);else{const $o=E>=0&&E<90?1:E>=90&&E<180?4:E>=180&&E<270?3:2;de!=null&&V!=null&&(zn<xr?(xr=0,de=void 0):(zn=0,V=void 0));const na=wa.toRad(E%90);zn&&(Jr=$o===3?zn/Math.cos(na):zn/Math.sin(na)),xr&&(fi=$o===3?xr/Math.cos(na):xr/Math.sin(na));const la=$o===1||$o===3;switch(Xt){case"top":case"bottom":fi=xr?xr/(la?Math.cos(na):Math.sin(na)):zn/(la?Math.sin(na):Math.cos(na));break;case"left":case"right":Jr=zn?zn/(la?Math.cos(na):Math.sin(na)):xr/(la?Math.sin(na):Math.cos(na));break;default:break}}switch(Xt){case"top":case"bottom":Jr=0;break;case"left":case"right":fi=0;break;default:break}const Gi=this.graph.getGridSize();let zo=Math.max(s.width+Jr,Gi),vo=Math.max(s.height+fi,Gi);t.minWidth&&t.minWidth>Gi&&(zo=Math.max(zo,t.minWidth)),t.minHeight&&t.minHeight>Gi&&(vo=Math.max(vo,t.minHeight)),t.maxWidth&&(zo=Math.min(zo,t.maxWidth)),t.maxHeight&&(vo=Math.min(vo,t.maxHeight)),t.preserveAspectRatio&&(fi<Jr?vo=zo*(s.height/s.width):zo=vo*(s.width/s.height)),(zo!==s.width||vo!==s.height)&&(e.resize(zo,vo,{direction:Yt,relativeDirection:Xt,trueDirection:fn,snapped:!0,snaplines:this.cid,restrict:this.graph.hook.getRestrictArea(r)}),J&&(J+=vo-s.height),Qe&&(Qe+=zo-s.width));const Eo=e.getBBox().bbox(E);V&&Math.abs(Eo.x-V)>1&&Math.abs(Eo.width+Eo.x-V)>1&&(V=void 0),de&&Math.abs(Eo.y-de)>1&&Math.abs(Eo.height+Eo.y-de)>1&&(de=void 0),this.update({verticalLeft:V,verticalTop:$,verticalHeight:J,horizontalTop:de,horizontalLeft:Ge,horizontalWidth:Qe})}}}snapOnMoving({view:e,e:t,x:r,y:s}){const h=e.getEventData(t).delegatedView||e;if(!this.isNodeMovable(h))return;const g=h.cell,y=g.getSize(),E=g.getPosition(),D=new Ao(r-this.offset.x,s-this.offset.y,y.width,y.height),V=g.getAngle(),$=D.getCenter(),J=D.bbox(V),de=J.getTopLeft(),Ge=J.getBottomRight(),Qe=this.options.tolerance||0;let xt,Yt,fn,Xt,zn,xr,Jr=0,fi=0;if(this.model.getNodes().some(Gi=>{if(this.isIgnored(g,Gi))return!1;const zo=Gi.getBBox().bbox(Gi.getAngle()),vo=zo.getCenter(),Eo=zo.getTopLeft(),$o=zo.getBottomRight();return xt==null&&(Math.abs(vo.x-$.x)<Qe?(xt=vo.x,Jr=.5):Math.abs(Eo.x-de.x)<Qe?(xt=Eo.x,Jr=0):Math.abs(Eo.x-Ge.x)<Qe?(xt=Eo.x,Jr=1):Math.abs($o.x-Ge.x)<Qe?(xt=$o.x,Jr=1):Math.abs($o.x-de.x)<Qe&&(xt=$o.x),xt!=null&&(Yt=Math.min(J.y,zo.y),fn=Math.max(Ge.y,$o.y)-Yt)),Xt==null&&(Math.abs(vo.y-$.y)<Qe?(Xt=vo.y,fi=.5):Math.abs(Eo.y-de.y)<Qe?Xt=Eo.y:Math.abs(Eo.y-Ge.y)<Qe?(Xt=Eo.y,fi=1):Math.abs($o.y-Ge.y)<Qe?(Xt=$o.y,fi=1):Math.abs($o.y-de.y)<Qe&&(Xt=$o.y),Xt!=null&&(zn=Math.min(J.x,zo.x),xr=Math.max(Ge.x,$o.x)-zn)),xt!=null&&Xt!=null}),this.hide(),Xt!=null||xt!=null){Xt!=null&&(J.y=Xt-fi*J.height),xt!=null&&(J.x=xt-Jr*J.width);const Gi=J.getCenter(),zo=Gi.x-D.width/2,vo=Gi.y-D.height/2,Eo=zo-E.x,$o=vo-E.y;(Eo!==0||$o!==0)&&(g.translate(Eo,$o,{snapped:!0,restrict:this.graph.hook.getRestrictArea(h)}),xr&&(xr+=Eo),fn&&(fn+=$o)),this.update({verticalLeft:xt,verticalTop:Yt,verticalHeight:fn,horizontalTop:Xt,horizontalLeft:zn,horizontalWidth:xr})}}isIgnored(e,t){return t.id===e.id||t.isDescendantOf(e)||this.filterShapes[t.shape]||this.filterCells[t.id]||this.filterFunction&&fs(this.filterFunction,this.graph,t)}update(e){if(e.horizontalTop){const t=this.graph.localToGraph(new Fn(e.horizontalLeft,e.horizontalTop)),r=this.graph.localToGraph(new Fn(e.horizontalLeft+e.horizontalWidth,e.horizontalTop));this.horizontal.setAttributes({x1:this.options.sharp?`${t.x}`:"0",y1:`${t.y}`,x2:this.options.sharp?`${r.x}`:"100%",y2:`${r.y}`,display:"inherit"})}else this.horizontal.setAttribute("display","none");if(e.verticalLeft){const t=this.graph.localToGraph(new Fn(e.verticalLeft,e.verticalTop)),r=this.graph.localToGraph(new Fn(e.verticalLeft,e.verticalTop+e.verticalHeight));this.vertical.setAttributes({x1:`${t.x}`,y1:this.options.sharp?`${t.y}`:"0",x2:`${r.x}`,y2:this.options.sharp?`${r.y}`:"100%",display:"inherit"})}else this.vertical.setAttribute("display","none");this.show()}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}show(){return this.resetTimer(),this.container.parentNode==null&&this.graph.container.appendChild(this.container),this}hide(){this.resetTimer(),this.vertical.setAttribute("display","none"),this.horizontal.setAttribute("display","none");const e=this.options.clean,t=typeof e=="number"?e:e!==!1?3e3:0;return t>0&&(this.timer=window.setTimeout(()=>{this.container.parentNode!==null&&this.unmount()},t)),this}onRemove(){this.stopListening(),this.hide()}dispose(){this.remove()}}MM([za.dispose()],YS.prototype,"dispose",null);var PM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class rl extends Ml{init(){this.resetUpdates(),this.startListening(),this.resetViews(this.model.getCells()),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()}startListening(){this.model.on("sorted",this.onSortModel,this),this.model.on("reseted",this.onModelReseted,this),this.model.on("batch:stop",this.onBatchStop,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("sorted",this.onSortModel,this),this.model.off("reseted",this.onModelReseted,this),this.model.off("batch:stop",this.onBatchStop,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}resetUpdates(){this.updates={priorities:[{},{},{}],mounted:{},mountedCids:[],unmounted:{},unmountedCids:[],count:0,sort:!1,frozen:!1,freezeKey:null,animationId:null}}onSortModel(){this.model.hasActiveBatch(rl.SORT_DELAYING_BATCHES)||this.sortViews()}onModelReseted({options:e}){this.removeZPivots(),this.resetViews(this.model.getCells(),e)}onBatchStop({name:e,data:t}){if(this.isFrozen())return;const r=this.model;if(!this.isAsync()){const h=rl.UPDATE_DELAYING_BATCHES;h.includes(e)&&!r.hasActiveBatch(h)&&this.updateViews(t)}const s=rl.SORT_DELAYING_BATCHES;s.includes(e)&&!r.hasActiveBatch(s)&&this.sortViews()}onCellAdded({cell:e,options:t}){const r=t.position;this.isAsync()||typeof r!="number"?this.renderView(e,t):(t.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(e,t),r===0&&this.unfreeze({key:"addCells"}))}onCellRemoved({cell:e,options:t}){const r=this.findViewByCell(e);r&&this.requestViewUpdate(r,rl.FLAG_REMOVE,r.priority,t)}onCellZIndexChanged({cell:e,options:t}){if(this.options.sorting==="approx"){const r=this.findViewByCell(e);r&&this.requestViewUpdate(r,rl.FLAG_INSERT,r.priority,t)}}onCellVisibleChanged({cell:e,current:t,options:r}){t||this.processEdgeOnTerminalVisibleChanged(e,!1);const s=this.findViewByCell(e);!t&&s?this.removeView(e):t&&s==null&&this.renderView(e,r),t&&this.processEdgeOnTerminalVisibleChanged(e,!0)}processEdgeOnTerminalVisibleChanged(e,t){const r=(s,h)=>s.getSourceCellId()!==h.id?s.getSourceCell():s.getTargetCellId()!==h.id?s.getTargetCell():null;this.model.getConnectedEdges(e).forEach(s=>{const h=r(s,e);(h==null||h.isVisible())&&(t?s.show():s.hide())})}isEdgeTerminalVisible(e,t){const r=t==="source"?e.getSourceCellId():e.getTargetCellId(),s=r?this.model.getCell(r):null;return!(s&&!s.isVisible())}requestConnectedEdgesUpdate(e,t={}){if(dc.isCellView(e)){const r=e.cell,s=this.model.getConnectedEdges(r);for(let h=0,g=s.length;h<g;h+=1){const y=s[h],E=this.findViewByCell(y);if(!E)continue;const D=["update"];y.getTargetCell()===r&&D.push("target"),y.getSourceCell()===r&&D.push("source"),this.scheduleViewUpdate(E,E.getFlag(D),E.priority,t)}}}forcePostponedViewUpdate(e,t){if(!e||!dc.isCellView(e))return!1;const r=e.cell;if(r.isNode())return!1;const s=e;if(r.isEdge()&&!(t&e.getFlag(["source","target"]))){let h=0;const g=this.findViewByCell(r.getSourceCell());g&&!this.isViewMounted(g)&&(h=this.dumpView(g),s.updateTerminalMagnet("source"));let y=0;const E=this.findViewByCell(r.getTargetCell());if(E&&!this.isViewMounted(E)&&(y=this.dumpView(E),s.updateTerminalMagnet("target")),h===0&&y===0)return!this.dumpView(s)}return!1}scheduleViewUpdate(e,t,r,s={}){const h=e.cid,g=this.updates;let y=g.priorities[r];y||(y=g.priorities[r]={});const E=y[h]||0;(E&t)!==t&&(E||(g.count+=1),t&rl.FLAG_REMOVE&&E&rl.FLAG_INSERT?y[h]^=rl.FLAG_INSERT:t&rl.FLAG_INSERT&&E&rl.FLAG_REMOVE&&(y[h]^=rl.FLAG_REMOVE),y[h]|=t,this.graph.hook.onViewUpdated(e,t,s))}requestViewUpdate(e,t,r,s={}){this.scheduleViewUpdate(e,t,r,s);const h=this.isAsync();if(this.isFrozen()||h&&s.async!==!1||this.model.hasActiveBatch(rl.UPDATE_DELAYING_BATCHES))return;const g=this.updateViews(s);h&&this.graph.trigger("render:done",{stats:g,options:s})}dumpView(e,t={}){if(e==null)return 0;const r=e.cid,h=this.updates.priorities[e.priority],g=this.registerMountedView(e)|h[r];return delete h[r],g?this.updateView(e,g,t):0}dumpViews(e={}){this.checkView(e),this.updateViews(e)}requireView(e,t={}){const r=this.findViewByCell(e);return r==null?null:(this.dumpView(r,t),r)}updateView(e,t,r={}){if(e==null)return 0;if(dc.isCellView(e)){if(t&rl.FLAG_REMOVE)return this.removeView(e.cell),0;t&rl.FLAG_INSERT&&(this.insertView(e),t^=rl.FLAG_INSERT)}return t?e.confirmUpdate(t,r):0}updateViews(e={}){let t,r=0,s=0,h=rl.MIN_PRIORITY;do t=this.updateViewsBatch(e),r+=1,s+=t.updatedCount,h=Math.min(t.priority,h);while(!t.empty);return{priority:h,batchCount:r,updatedCount:s}}updateViewsBatch(e={}){const t=this.updates,r=t.priorities,s=e.batchSize||rl.UPDATE_BATCH_SIZE;let h=!0,g=rl.MIN_PRIORITY,y=0,E=0,D=0,V=0,$=e.checkView||this.options.checkView;typeof $!="function"&&($=null);e:for(let J=0,de=r.length;J<de;J+=1){const Ge=r[J];for(const Qe in Ge){if(D>=s){h=!1;break e}const xt=za.views[Qe];if(!xt){delete Ge[Qe];continue}let Yt=Ge[Qe];if(!(Yt&rl.FLAG_REMOVE)){const zn=Qe in t.unmounted;if($&&!fs($,this.graph,{view:xt,unmounted:zn})){zn||(this.registerUnmountedView(xt),xt.unmount()),t.unmounted[Qe]|=Yt,delete Ge[Qe],E+=1;continue}zn&&(Yt|=rl.FLAG_INSERT,y+=1),Yt|=this.registerMountedView(xt)}const fn=xt;let Xt=this.updateView(xt,Yt,e);if(Xt>0){const zn=fn.cell;zn&&zn.isEdge()&&(fn.hasAction(Xt,"source")&&!this.isEdgeTerminalVisible(zn,"source")&&(Xt=fn.removeAction(Xt,"source"),Xt|=rl.FLAG_REMOVE),fn.hasAction(Xt,"target")&&!this.isEdgeTerminalVisible(zn,"target")&&(Xt=fn.removeAction(Xt,"target"),Xt|=rl.FLAG_REMOVE))}if(Xt>0&&(Ge[Qe]=Xt,!this.graph.hook.onViewPostponed(fn,Xt,e)||Ge[Qe])){V+=1,h=!1;continue}g>J&&(g=J),D+=1,delete Ge[Qe]}}return{empty:h,priority:g,mountedCount:y,unmountedCount:E,updatedCount:D,postponedCount:V}}updateViewsAsync(e={},t={processed:0,priority:rl.MIN_PRIORITY}){const r=this.updates,s=r.animationId;if(s){if(a0(s),t.processed===0){const J=e.before;typeof J=="function"&&fs(J,this.graph,this.graph)}const h=this.updateViewsBatch(e),g=this.checkViewImpl({checkView:e.checkView,mountedBatchSize:rl.MOUNT_BATCH_SIZE-h.mountedCount,unmountedBatchSize:rl.MOUNT_BATCH_SIZE-h.unmountedCount});let y=t.processed;const E=r.count,D=g.mountedCount,V=g.unmountedCount;h.updatedCount>0&&(y+=h.updatedCount+h.unmountedCount,t.priority=Math.min(h.priority,t.priority),h.empty&&D===0?(h.priority=t.priority,h.mountedCount+=D,h.unmountedCount+=V,this.graph.trigger("render:done",{stats:h,options:e}),t.processed=0,r.count=0):t.processed=y);const $=e.progress;if(E&&typeof $=="function"&&fs($,this.graph,{total:E,done:h.empty,current:y}),r.animationId!==s)return}r.animationId=s0(()=>{this.updateViewsAsync(e,t)})}registerMountedView(e){const t=e.cid,r=this.updates;if(t in r.mounted)return 0;r.mounted[t]=!0,r.mountedCids.push(t);const s=r.unmounted[t]||0;return delete r.unmounted[t],s}registerUnmountedView(e){const t=e.cid,r=this.updates;if(t in r.unmounted)return 0;r.unmounted[t]|=rl.FLAG_INSERT;const s=r.unmounted[t];return r.unmountedCids.push(t),delete r.mounted[t],s}isViewMounted(e){return e==null?!1:e.cid in this.updates.mounted}getMountedViews(){return Object.keys(this.updates.mounted).map(e=>dc.views[e])}getUnmountedViews(){return Object.keys(this.updates.unmounted).map(e=>dc.views[e])}checkMountedViews(e,t){let r=0;if(typeof e!="function")return r;const s=this.updates,h=s.mounted,g=s.mountedCids,y=t==null?g.length:Math.min(g.length,t);for(let E=0;E<y;E+=1){const D=g[E];if(!(D in h))continue;const V=dc.views[D];if(V==null)continue;if(fs(e,this.graph,{view:V,unmounted:!0})){g.push(D);continue}r+=1,this.registerUnmountedView(V)&&V.unmount()}return g.splice(0,y),r}checkUnmountedViews(e,t){let r=0;typeof e!="function"&&(e=null);const s=this.updates,h=s.unmounted,g=s.unmountedCids,y=t==null?g.length:Math.min(g.length,t);for(let E=0;E<y;E+=1){const D=g[E];if(!(D in h))continue;const V=dc.views[D];if(V==null)continue;if(e&&!fs(e,this.graph,{view:V,unmounted:!1})){g.push(D);continue}r+=1;const $=this.registerMountedView(V);$&&this.scheduleViewUpdate(V,$,V.priority,{mounting:!0})}return g.splice(0,y),r}checkViewImpl(e={mountedBatchSize:Number.MAX_SAFE_INTEGER,unmountedBatchSize:Number.MAX_SAFE_INTEGER}){const t=e.checkView||this.options.checkView,r=this.checkMountedViews(t,e.unmountedBatchSize);return{mountedCount:this.checkUnmountedViews(t,r>0?Math.min(this.updates.unmountedCids.length-r,e.mountedBatchSize):e.mountedBatchSize),unmountedCount:r}}checkView(e={}){return this.checkViewImpl(e)}isFrozen(){return!!this.options.frozen}freeze(e={}){const t=e.key,r=this.updates,s=this.options.frozen,h=r.freezeKey;if(t&&t!==h){if(s&&h)return;r.frozen=s,r.freezeKey=t}this.options.frozen=!0;const g=r.animationId;r.animationId=null,this.isAsync()&&g!=null&&a0(g),this.graph.trigger("freeze",{key:t})}unfreeze(e={}){const t=e.key,r=this.updates,s=r.freezeKey;if(t&&s&&t!==s||(r.freezeKey=null,t&&t===s&&r.frozen))return;const h=()=>{this.options.frozen=r.frozen=!1,r.sort&&(this.sortViews(),r.sort=!1);const g=e.after;g&&fs(g,this.graph,this.graph),this.graph.trigger("unfreeze",{key:t})};if(this.isAsync()){this.freeze();const g=e.progress;this.updateViewsAsync(Object.assign(Object.assign({},e),{progress:({done:y,current:E,total:D})=>{g&&fs(g,this.graph,{done:y,current:E,total:D}),y&&h()}}))}else this.updateViews(e),h()}isAsync(){return!!this.options.async}setAsync(e){this.options.async=e}onRemove(){this.freeze(),this.removeViews()}resetViews(e=[],t={}){this.resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(let r=0,s=e.length;r<s;r+=1)this.renderView(e[r],t);this.unfreeze({key:"reset"}),this.sortViews()}removeView(e){const t=this.views[e.id];if(t){const r=t.cid,s=this.updates,h=s.mounted,g=s.unmounted;t.remove(),delete this.views[e.id],delete h[r],delete g[r]}return t}removeViews(){this.views&&Object.keys(this.views).forEach(e=>{const t=this.views[e];t&&this.removeView(t.cell)}),this.views={}}renderView(e,t={}){const r=e.id,s=this.views;let h=0,g=s[r];if(e.isVisible()&&!(e.isEdge()&&(!this.isEdgeTerminalVisible(e,"source")||!this.isEdgeTerminalVisible(e,"target")))){if(g)h=rl.FLAG_INSERT;else{const y=this.graph.hook.createCellView(e);y&&(g=s[e.id]=y,g.graph=this.graph,h=this.registerUnmountedView(g)|g.getBootstrapFlag())}g&&this.requestViewUpdate(g,h,g.priority,t)}}isExactSorting(){return this.options.sorting==="exact"}sortViews(){if(this.isExactSorting()){if(this.isFrozen()){this.updates.sort=!0;return}this.sortViewsExact()}}sortElements(e,t){const r=e.map(s=>{const h=s.parentNode,g=h.insertBefore(document.createTextNode(""),s.nextSibling);return y=>{if(h===y)throw new Error("You can't sort elements if any one is a descendant of another.");h.insertBefore(y,g),h.removeChild(g)}});e.sort(t).forEach((s,h)=>r[h](s))}sortViewsExact(){const e=this.view.$(this.view.stage).children("[data-cell-id]").toArray(),t=this.model;this.sortElements(e,(r,s)=>{const h=t.getCell(r.getAttribute("data-cell-id")||""),g=t.getCell(s.getAttribute("data-cell-id")||""),y=h.getZIndex()||0,E=g.getZIndex()||0;return y===E?0:y<E?-1:1})}addZPivot(e=0){this.zPivots==null&&(this.zPivots={});const t=this.zPivots;let r=t[e];if(r)return r;r=t[e]=document.createComment(`z-index:${e+1}`);let s=-1/0;for(const g in t){const y=+g;y<e&&y>s&&(s=y,e-1)}const h=this.view.stage;if(s!==-1/0){const g=t[s];h.insertBefore(r,g.nextSibling)}else h.insertBefore(r,h.firstChild);return r}removeZPivots(){this.zPivots&&Object.keys(this.zPivots).forEach(e=>{const t=this.zPivots[e];t&&t.parentNode&&t.parentNode.removeChild(t)}),this.zPivots={}}insertView(e){const t=this.view.stage;switch(this.options.sorting){case"approx":{const r=e.cell.getZIndex(),s=this.addZPivot(r);t.insertBefore(e.container,s);break}case"exact":default:t.appendChild(e.container);break}}findViewByCell(e){if(e==null)return null;const t=Na.isCell(e)?e.id:e;return this.views[t]}findViewByElem(e){if(e==null)return null;const t=typeof e=="string"?this.view.stage.querySelector(e):e instanceof Element?e:e[0];if(t){const r=this.view.findAttr("data-cell-id",t);if(r)return this.views[r]}return null}findViewsFromPoint(e){const t={x:e.x,y:e.y};return this.model.getCells().map(r=>this.findViewByCell(r)).filter(r=>r!=null?Mc(r.container,{target:this.view.stage}).containsPoint(t):!1)}findEdgeViewsInArea(e,t={}){const r=Ao.create(e);return this.model.getEdges().map(s=>this.findViewByCell(s)).filter(s=>{if(s){const h=Mc(s.container,{target:this.view.stage});return h.width===0?h.inflate(1,0):h.height===0&&h.inflate(0,1),t.strict?r.containsRect(h):r.isIntersectWithRect(h)}return!1})}findViewsInArea(e,t={}){const r=Ao.create(e);return this.model.getNodes().map(s=>this.findViewByCell(s)).filter(s=>{if(s){const h=Mc(s.container,{target:this.view.stage});return t.strict?r.containsRect(h):r.isIntersectWithRect(h)}return!1})}dispose(){this.resetUpdates(),this.stopListening()}}PM([Ml.dispose()],rl.prototype,"dispose",null),function(a){a.FLAG_INSERT=1<<30,a.FLAG_REMOVE=1<<29,a.MOUNT_BATCH_SIZE=1e3,a.UPDATE_BATCH_SIZE=1e3,a.MIN_PRIORITY=2,a.SORT_DELAYING_BATCHES=["add","to-front","to-back"],a.UPDATE_DELAYING_BATCHES=["translate"]}(rl||(rl={}));var OM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class mE extends Ml{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(e={}){let t=e.size||"auto auto",r=e.position||"center";const s=this.graph.transform.getScale(),h=this.graph.translate();if(typeof r=="object"){const g=h.tx+s.sx*(r.x||0),y=h.ty+s.sy*(r.y||0);r=`${g}px ${y}px`}typeof t=="object"&&(t=Ao.fromSize(t).scale(s.sx,s.sy),t=`${t.width}px ${t.height}px`),this.elem.style.backgroundSize=t,this.elem.style.backgroundPosition=r}drawBackgroundImage(e,t={}){if(!(e instanceof HTMLImageElement)){this.elem.style.backgroundImage="";return}const r=this.optionsCache;if(r&&r.image!==t.image)return;let s;const h=t.opacity,g=t.size;let y=t.repeat||"no-repeat";const E=Gx.registry.get(y);if(typeof E=="function"){const V=t.quality||1;e.width*=V,e.height*=V;const $=E(e,t);if(!($ instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");s=$.toDataURL("image/png"),t.repeat&&y!==t.repeat?y=t.repeat:y="repeat",typeof g=="object"?(g.width*=$.width/e.width,g.height*=$.height/e.height):g===void 0&&(t.size={width:$.width/V,height:$.height/V})}else s=e.src,g===void 0&&(t.size={width:e.width,height:e.height});r!=null&&typeof t.size=="object"&&t.image===r.image&&t.repeat===r.repeat&&t.quality===r.quality&&(r.size=Xh(t.size));const D=this.elem.style;D.backgroundImage=`url(${s})`,D.backgroundRepeat=y,D.opacity=h==null||h>=1?"":`${h}`,this.updateBackgroundImage(t)}updateBackgroundColor(e){this.elem.style.backgroundColor=e||""}updateBackgroundOptions(e){this.graph.options.background=e}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(e){const t=e||{};if(this.updateBackgroundOptions(e),this.updateBackgroundColor(t.color),t.image){this.optionsCache=Xh(t);const r=document.createElement("img");r.onload=()=>this.drawBackgroundImage(r,e),r.setAttribute("crossorigin","anonymous"),r.src=t.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}OM([Ml.dispose()],mE.prototype,"dispose",null);var IM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h},RM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class $x extends za{constructor(e){super(),this.padding={left:0,top:0,right:0,bottom:0},this.options=Fp.getOptions(e);const t=this.graph.transform.getScale();this.sx=t.sx,this.sy=t.sy;const r=this.options.width||this.graph.options.width,s=this.options.height||this.graph.options.height;this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(Fp.containerClass)).css({width:r,height:s}),this.options.pageVisible&&this.$container.addClass(this.prefixClassName(Fp.pagedClass)),this.options.className&&this.$container.addClass(this.options.className);const h=this.graph.container;h.parentNode&&this.$container.insertBefore(h);const g=h.getAttribute("style");if(g){const y={};g.split(";").forEach(D=>{const V=D.trim();if(V){const $=V.split(":");$.length&&(y[$[0].trim()]=$[1]?$[1].trim():"")}}),Object.keys(y).forEach(D=>{D==="width"||D==="height"||(h.style[D]="",this.container.style[D]=y[D])})}this.content=document.createElement("div"),this.$content=this.$(this.content).addClass(this.prefixClassName(Fp.contentClass)).css({width:this.graph.options.width,height:this.graph.options.height}),this.background=document.createElement("div"),this.$background=this.$(this.background).addClass(this.prefixClassName(Fp.backgroundClass)),this.$content.append(this.background),this.options.pageVisible||this.$content.append(this.graph.view.grid),this.$content.append(h),this.$content.appendTo(this.container),this.startListening(),this.options.pageVisible||this.graph.grid.update(),this.backgroundManager=new $x.Background(this),this.options.autoResize||this.update()}get graph(){return this.options.graph}get model(){return this.graph.model}startListening(){const e=this.graph,t=this.model;e.on("scale",this.onScale,this),e.on("resize",this.onResize,this),e.on("before:print",this.storeScrollPosition,this),e.on("before:export",this.storeScrollPosition,this),e.on("after:print",this.restoreScrollPosition,this),e.on("after:export",this.restoreScrollPosition,this),e.on("render:done",this.onRenderDone,this),e.on("unfreeze",this.onUpdate,this),t.on("reseted",this.onUpdate,this),t.on("cell:added",this.onUpdate,this),t.on("cell:removed",this.onUpdate,this),t.on("cell:changed",this.onUpdate,this),t.on("batch:stop",this.onBatchStop,this),this.delegateBackgroundEvents()}stopListening(){const e=this.graph,t=this.model;e.off("scale",this.onScale,this),e.off("resize",this.onResize,this),e.off("beforeprint",this.storeScrollPosition,this),e.off("beforeexport",this.storeScrollPosition,this),e.off("afterprint",this.restoreScrollPosition,this),e.off("afterexport",this.restoreScrollPosition,this),e.off("render:done",this.onRenderDone,this),e.off("unfreeze",this.onUpdate,this),t.off("reseted",this.onUpdate,this),t.off("cell:added",this.onUpdate,this),t.off("cell:removed",this.onUpdate,this),t.off("cell:changed",this.onUpdate,this),t.off("batch:stop",this.onBatchStop,this),this.undelegateBackgroundEvents()}enableAutoResize(){this.options.autoResize=!0}disableAutoResize(){this.options.autoResize=!1}onUpdate(){this.graph.isAsync()||!this.options.autoResize||this.update()}onBatchStop(e){this.graph.isAsync()||!this.options.autoResize||rl.UPDATE_DELAYING_BATCHES.includes(e.name)&&this.update()}delegateBackgroundEvents(e){const t=e||$g.events;this.delegatedHandlers=Object.keys(t).reduce((r,s)=>{const h=t[s];if(s.indexOf(" ")===-1)if(typeof h=="function")r[s]=h;else{let g=this.graph.view[h];typeof g=="function"&&(g=g.bind(this.graph.view),r[s]=g)}return r},{}),this.onBackgroundEvent=this.onBackgroundEvent.bind(this),Object.keys(this.delegatedHandlers).forEach(r=>{this.delegateEvent(r,{guarded:!1},this.onBackgroundEvent)})}undelegateBackgroundEvents(){Object.keys(this.delegatedHandlers).forEach(e=>{this.undelegateEvent(e,this.onBackgroundEvent)})}onBackgroundEvent(e){let t=!1;const r=e.target;if(this.options.pageVisible)this.options.background?t=this.background===r:t=this.content===r;else{const s=this.graph.view;t=s.background===r||s.grid===r}if(t){const s=this.delegatedHandlers[e.type];typeof s=="function"&&s.apply(this.graph,arguments)}}onRenderDone({stats:e}){this.options.autoResize&&e.priority<2&&this.update()}onResize(){this.cachedCenterPoint&&(this.centerPoint(this.cachedCenterPoint.x,this.cachedCenterPoint.y),this.updatePageBreak())}onScale({sx:e,sy:t,ox:r,oy:s}){this.updateScale(e,t),(r||s)&&(this.centerPoint(r,s),this.updatePageBreak()),typeof(this.options.autoResizeOptions||this.options.fitTocontentOptions)=="function"&&this.update()}storeScrollPosition(){this.cachedScrollLeft=this.container.scrollLeft,this.cachedScrollTop=this.container.scrollTop}restoreScrollPosition(){this.container.scrollLeft=this.cachedScrollLeft,this.container.scrollTop=this.cachedScrollTop,this.cachedScrollLeft=null,this.cachedScrollTop=null}storeClientSize(){this.cachedClientSize={width:this.container.clientWidth,height:this.container.clientHeight}}restoreClientSize(){this.cachedClientSize=null}beforeManipulation(){(Jt.IS_IE||Jt.IS_EDGE)&&this.$container.css("visibility","hidden")}afterManipulation(){(Jt.IS_IE||Jt.IS_EDGE)&&this.$container.css("visibility","visible")}updatePageSize(e,t){e!=null&&(this.options.pageWidth=e),t!=null&&(this.options.pageHeight=t),this.updatePageBreak()}updatePageBreak(){if(this.pageBreak&&this.pageBreak.parentNode&&this.pageBreak.parentNode.removeChild(this.pageBreak),this.pageBreak=null,this.options.pageVisible&&this.options.pageBreak){const e=this.graph.options.width,t=this.graph.options.height,r=this.options.pageWidth*this.sx,s=this.options.pageHeight*this.sy;if(r===0||s===0)return;if(e>r||t>s){let h=!1;const g=document.createElement("div");for(let y=1,E=Math.floor(e/r);y<E;y+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-vertical")).css({left:y*r}).appendTo(g),h=!0;for(let y=1,E=Math.floor(t/s);y<E;y+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-horizontal")).css({top:y*s}).appendTo(g),h=!0;h&&(ja(g,this.prefixClassName("graph-pagebreak")),this.$(this.graph.view.grid).after(g),this.pageBreak=g)}}}update(){const e=this.getClientSize();this.cachedCenterPoint=this.clientToLocalPoint(e.width/2,e.height/2);let t=this.options.autoResizeOptions||this.options.fitTocontentOptions;typeof t=="function"&&(t=fs(t,this,this));const r=Object.assign({gridWidth:this.options.pageWidth,gridHeight:this.options.pageHeight,allowNewOrigin:"negative",contentArea:this.calcContextArea(t)},t);this.graph.fitToContent(this.getFitToContentOptions(r))}calcContextArea(e){const t=e==null?void 0:e.direction;if(!t)return this.graph.transform.getContentArea(e);function r(y){let E=y.getBBox();if(E&&y.isNode()){const D=y.getAngle();D!=null&&D!==0&&(E=E.bbox(D))}return E}const s=this.options.pageWidth||1,h=this.options.pageHeight||1;let g=this.graph.getCells();return t.includes("top")||(g=g.filter(y=>r(y).y>=0)),t.includes("left")||(g=g.filter(y=>r(y).x>=0)),t.includes("right")||(g=g.filter(y=>{const E=r(y);return E.x+E.width<=s})),t.includes("bottom")||(g=g.filter(y=>{const E=r(y);return E.y+E.height<=h})),this.model.getCellsBBox(g)||new Ao}getFitToContentOptions(e){const t=this.sx,r=this.sy;return e.gridWidth&&(e.gridWidth*=t),e.gridHeight&&(e.gridHeight*=r),e.minWidth&&(e.minWidth*=t),e.minHeight&&(e.minHeight*=r),typeof e.padding=="object"?e.padding={left:(e.padding.left||0)*t,right:(e.padding.right||0)*t,top:(e.padding.top||0)*r,bottom:(e.padding.bottom||0)*r}:typeof e.padding=="number"&&(e.padding*=t),this.options.autoResize||(e.contentArea=Ao.create()),e}updateScale(e,t){const r=this.graph.options,s=e/this.sx,h=t/this.sy;this.sx=e,this.sy=t,this.graph.translate(r.x*s,r.y*h),this.graph.resizeGraph(r.width*s,r.height*h)}scrollbarPosition(e,t,r){if(e==null&&t==null)return{left:this.container.scrollLeft,top:this.container.scrollTop};const s={};return typeof e=="number"&&(s.scrollLeft=e),typeof t=="number"&&(s.scrollTop=t),r&&r.animation?this.$container.animate(s,r.animation):this.$container.prop(s),this}scrollToPoint(e,t,r){const s=this.getClientSize(),h=this.graph.matrix(),g={};return typeof e=="number"&&(g.scrollLeft=e-s.width/2+h.e+(this.padding.left||0)),typeof t=="number"&&(g.scrollTop=t-s.height/2+h.f+(this.padding.top||0)),r&&r.animation?this.$container.animate(g,r.animation):this.$container.prop(g),this}scrollToContent(e){const t=this.sx,r=this.sy,s=this.graph.getContentArea().getCenter();return this.scrollToPoint(s.x*t,s.y*r,e)}scrollToCell(e,t){const r=this.sx,s=this.sy,h=e.getBBox().getCenter();return this.scrollToPoint(h.x*r,h.y*s,t)}center(e){return this.centerPoint(e)}centerPoint(e,t,r){const s=this.graph.matrix(),h=s.a,g=s.d,y=-s.e,E=-s.f,D=y+this.graph.options.width,V=E+this.graph.options.height;let $;if(this.storeClientSize(),typeof e=="number"||typeof t=="number"){$=r;const xr=this.getVisibleArea().getCenter();typeof e=="number"?e*=h:e=xr.x,typeof t=="number"?t*=g:t=xr.y}else $=e,e=(y+D)/2,t=(E+V)/2;if($&&$.padding)return this.positionPoint({x:e,y:t},"50%","50%",$);const J=this.getPadding(),de=this.getClientSize(),Ge=de.width/2,Qe=de.height/2,xt=Ge-J.left-e+y,Yt=Ge-J.right+e-D,fn=Qe-J.top-t+E,Xt=Qe-J.bottom+t-V;this.addPadding(Math.max(xt,0),Math.max(Yt,0),Math.max(fn,0),Math.max(Xt,0));const zn=this.scrollToPoint(e,t,$||void 0);return this.restoreClientSize(),zn}centerContent(e){return this.positionContent("center",e)}centerCell(e,t){return this.positionCell(e,"center",t)}positionContent(e,t){const r=this.graph.getContentArea(t);return this.positionRect(r,e,t)}positionCell(e,t,r){const s=e.getBBox();return this.positionRect(s,t,r)}positionRect(e,t,r){const s=Ao.create(e);switch(t){case"center":return this.positionPoint(s.getCenter(),"50%","50%",r);case"top":return this.positionPoint(s.getTopCenter(),"50%",0,r);case"top-right":return this.positionPoint(s.getTopRight(),"100%",0,r);case"right":return this.positionPoint(s.getRightMiddle(),"100%","50%",r);case"bottom-right":return this.positionPoint(s.getBottomRight(),"100%","100%",r);case"bottom":return this.positionPoint(s.getBottomCenter(),"50%","100%",r);case"bottom-left":return this.positionPoint(s.getBottomLeft(),0,"100%",r);case"left":return this.positionPoint(s.getLeftMiddle(),0,"50%",r);case"top-left":return this.positionPoint(s.getTopLeft(),0,0,r);default:return this}}positionPoint(e,t,r,s={}){const{padding:h}=s,g=RM(s,["padding"]),y=fc(h),E=Ao.fromSize(this.getClientSize()),D=E.clone().moveAndExpand({x:y.left,y:y.top,width:-y.right-y.left,height:-y.top-y.bottom});t=Ku(t,Math.max(0,D.width)),t<0&&(t=D.width+t),r=Ku(r,Math.max(0,D.height)),r<0&&(r=D.height+r);const V=D.getTopLeft().translate(t,r),$=E.getCenter().diff(V),J=this.zoom(),de=$.scale(1/J,1/J),Ge=Fn.create(e).translate(de);return this.centerPoint(Ge.x,Ge.y,g)}zoom(e,t){if(e==null)return this.sx;t=t||{};let r,s;const h=this.getClientSize(),g=this.clientToLocalPoint(h.width/2,h.height/2);let y=e,E=e;if(t.absolute||(y+=this.sx,E+=this.sy),t.scaleGrid&&(y=Math.round(y/t.scaleGrid)*t.scaleGrid,E=Math.round(E/t.scaleGrid)*t.scaleGrid),t.maxScale&&(y=Math.min(t.maxScale,y),E=Math.min(t.maxScale,E)),t.minScale&&(y=Math.max(t.minScale,y),E=Math.max(t.minScale,E)),y=this.graph.transform.clampScale(y),E=this.graph.transform.clampScale(E),t.center){const D=y/this.sx,V=E/this.sy;r=t.center.x-(t.center.x-g.x)/D,s=t.center.y-(t.center.y-g.y)/V}else r=g.x,s=g.y;return this.beforeManipulation(),this.graph.transform.scale(y,E),this.centerPoint(r,s),this.afterManipulation(),this}zoomToRect(e,t={}){const r=Ao.create(e),s=this.graph;t.contentArea=r,t.viewportArea==null&&(t.viewportArea={x:s.options.x,y:s.options.y,width:this.$container.width(),height:this.$container.height()}),this.beforeManipulation(),s.transform.scaleContentToFitImpl(t,!1);const h=r.getCenter();return this.centerPoint(h.x,h.y),this.afterManipulation(),this}zoomToFit(e={}){return this.zoomToRect(this.graph.getContentArea(e),e)}transitionToPoint(e,t,r){typeof e=="object"?(r=t,t=e.y,e=e.x):t=t,r==null&&(r={});let s,h;const g=this.sx,y=Math.max(r.scale||g,1e-6),E=this.getClientSize(),D=new Fn(e,t),V=this.clientToLocalPoint(E.width/2,E.height/2);if(g===y){const J=V.diff(D).scale(g,g).round();s=`translate(${J.x}px,${J.y}px)`}else{const J=y/(g-y)*D.distance(V),de=V.clone().move(D,J),Ge=this.localToBackgroundPoint(de).round();s=`scale(${y/g})`,h=`${Ge.x}px ${Ge.y}px`}const $=r.onTransitionEnd;return this.$container.addClass(Fp.transitionClassName),this.$content.off(Fp.transitionEventName).on(Fp.transitionEventName,J=>{this.syncTransition(y,{x:e,y:t}),typeof $=="function"&&fs($,this,J.originalEvent)}).css({transform:s,transformOrigin:h,transition:"transform",transitionDuration:r.duration||"1s",transitionDelay:r.delay,transitionTimingFunction:r.timing}),this}syncTransition(e,t){return this.beforeManipulation(),this.graph.scale(e),this.removeTransition(),this.centerPoint(t.x,t.y),this.afterManipulation(),this}removeTransition(){return this.$container.removeClass(Fp.transitionClassName),this.$content.off(Fp.transitionEventName).css({transform:"",transformOrigin:"",transition:"",transitionDuration:"",transitionDelay:"",transitionTimingFunction:""}),this}transitionToRect(e,t={}){const r=Ao.create(e),s=t.maxScale||1/0,h=t.minScale||Number.MIN_VALUE,g=t.scaleGrid||null,y=t.visibility||1,E=t.center?Fn.create(t.center):r.getCenter(),D=this.getClientSize(),V=D.width*y,$=D.height*y;let J=new Ao(E.x-V/2,E.y-$/2,V,$).getMaxUniformScaleToFit(r,E);return J=Math.min(J,s),g&&(J=Math.floor(J/g)*g),J=Math.max(h,J),this.transitionToPoint(E,Object.assign({scale:J},t))}startPanning(e){const t=this.normalizeEvent(e);this.clientX=t.clientX,this.clientY=t.clientY,this.trigger("pan:start",{e:t}),this.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),this.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(e){const t=this.normalizeEvent(e),r=t.clientX-this.clientX,s=t.clientY-this.clientY;this.container.scrollTop-=s,this.container.scrollLeft-=r,this.clientX=t.clientX,this.clientY=t.clientY,this.trigger("panning",{e:t})}stopPanning(e){this.$(document.body).off(".panning"),this.$(window).off(".panning"),this.trigger("pan:stop",{e})}clientToLocalPoint(e,t){let r=typeof e=="object"?e.x:e,s=typeof e=="object"?e.y:t;const h=this.graph.matrix();return r+=this.container.scrollLeft-this.padding.left-h.e,s+=this.container.scrollTop-this.padding.top-h.f,new Fn(r/h.a,s/h.d)}localToBackgroundPoint(e,t){const r=typeof e=="object"?Fn.create(e):new Fn(e,t),s=this.graph.matrix(),h=this.padding;return nd(r,s).translate(h.left,h.top)}resize(e,t){let r=e!=null?e:this.container.offsetWidth,s=t!=null?t:this.container.offsetHeight;typeof r=="number"&&(r=Math.round(r)),typeof s=="number"&&(s=Math.round(s)),this.options.width=r,this.options.height=s,this.$container.css({width:r,height:s}),this.update()}getClientSize(){return this.cachedClientSize?this.cachedClientSize:{width:this.container.clientWidth,height:this.container.clientHeight}}autoScroll(e,t){const s=this.container,h=s.getBoundingClientRect();let g=0,y=0;return e<=h.left+10&&(g=-10),t<=h.top+10&&(y=-10),e>=h.right-10&&(g=10),t>=h.bottom-10&&(y=10),g!==0&&(s.scrollLeft+=g),y!==0&&(s.scrollTop+=y),{scrollerX:g,scrollerY:y}}addPadding(e,t,r,s){let h=this.getPadding();this.padding={left:Math.round(h.left+(e||0)),top:Math.round(h.top+(r||0)),bottom:Math.round(h.bottom+(s||0)),right:Math.round(h.right+(t||0))},h=this.padding,this.$content.css({width:h.left+this.graph.options.width+h.right,height:h.top+this.graph.options.height+h.bottom});const g=this.graph.container;return g.style.left=`${this.padding.left}px`,g.style.top=`${this.padding.top}px`,this}getPadding(){const e=this.options.padding;return fc(typeof e=="function"?fs(e,this,this):e)}getVisibleArea(){const e=this.graph.matrix(),t=this.getClientSize(),r={x:this.container.scrollLeft||0,y:this.container.scrollTop||0,width:t.width,height:t.height},s=Xu(r,e.inverse());return s.x-=(this.padding.left||0)/this.sx,s.y-=(this.padding.top||0)/this.sy,s}isCellVisible(e,t={}){const r=e.getBBox(),s=this.getVisibleArea();return t.strict?s.containsRect(r):s.isIntersectWithRect(r)}isPointVisible(e){return this.getVisibleArea().containsPoint(e)}lock(){return this.$container.css("overflow","hidden"),this}unlock(){return this.$container.css("overflow","scroll"),this}onRemove(){this.stopListening()}dispose(){this.$(this.graph.container).insertBefore(this.$container),this.remove()}}IM([za.dispose()],$x.prototype,"dispose",null),function(a){class e extends mE{constructor(r){super(r.graph),this.scroller=r,r.options.background&&this.draw(r.options.background)}get elem(){return this.scroller.background}init(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}updateBackgroundOptions(r){this.scroller.options.background=r}}a.Background=e}($x||($x={}));var Fp;(function(a){a.containerClass="graph-scroller",a.panningClass=`${a.containerClass}-panning`,a.pannableClass=`${a.containerClass}-pannable`,a.pagedClass=`${a.containerClass}-paged`,a.contentClass=`${a.containerClass}-content`,a.backgroundClass=`${a.containerClass}-background`,a.transitionClassName="transition-in-progress",a.transitionEventName="transitionend.graph-scroller-transition",a.defaultOptions={padding(){const t=this.getClientSize(),r=Math.max(this.options.minVisibleWidth||0,1)||1,s=Math.max(this.options.minVisibleHeight||0,1)||1,h=Math.max(t.width-r,0),g=Math.max(t.height-s,0);return{left:h,top:g,right:h,bottom:g}},minVisibleWidth:50,minVisibleHeight:50,pageVisible:!1,pageBreak:!1,autoResize:!0};function e(t){const r=La({},a.defaultOptions,t);return r.pageWidth==null&&(r.pageWidth=t.graph.options.width),r.pageHeight==null&&(r.pageHeight=t.graph.options.height),r}a.getOptions=e})(Fp||(Fp={}));function vu(a,e,t,r={}){if(t){const s=t.graph,h=s.view.normalizeEvent(e),g=s.snapToGrid(h.clientX,h.clientY);t.notify(a,Object.assign({e:h,view:t,node:t.cell,cell:t.cell,x:g.x,y:g.y},r))}}var DM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class WE extends za{constructor(e){super(),this.options=La({},wh.defaultOptions,e),this.options.model&&(this.options.collection=this.options.model.collection),this.options.collection?this.collection=this.options.collection:(this.collection=new $S([],{comparator:wh.depthComparator}),this.options.collection=this.collection),this.boxCount=0,this.createContainer(),this.initHandles(),this.startListening()}get graph(){return this.options.graph}get boxClassName(){return this.prefixClassName(wh.classNames.box)}get $boxes(){return this.$container.children(`.${this.boxClassName}`)}get handleOptions(){return this.options}startListening(){const e=this.graph,t=this.collection;this.delegateEvents({[`mousedown .${this.boxClassName}`]:"onSelectionBoxMouseDown",[`touchstart .${this.boxClassName}`]:"onSelectionBoxMouseDown"},!0),e.on("scale",this.onGraphTransformed,this),e.on("translate",this.onGraphTransformed,this),e.model.on("updated",this.onModelUpdated,this),t.on("added",this.onCellAdded,this),t.on("removed",this.onCellRemoved,this),t.on("reseted",this.onReseted,this),t.on("updated",this.onCollectionUpdated,this),t.on("node:change:position",this.onNodePositionChanged,this),t.on("cell:changed",this.onCellChanged,this)}stopListening(){const e=this.graph,t=this.collection;this.undelegateEvents(),e.off("scale",this.onGraphTransformed,this),e.off("translate",this.onGraphTransformed,this),e.model.off("updated",this.onModelUpdated,this),t.off("added",this.onCellAdded,this),t.off("removed",this.onCellRemoved,this),t.off("reseted",this.onReseted,this),t.off("updated",this.onCollectionUpdated,this),t.off("node:change:position",this.onNodePositionChanged,this),t.off("cell:changed",this.onCellChanged,this)}onRemove(){this.stopListening()}onGraphTransformed(){this.updateSelectionBoxes({async:!1})}onCellChanged(){this.updateSelectionBoxes()}onNodePositionChanged({node:e,options:t}){const{showNodeSelectionBox:r,pointerEvents:s}=this.options,{ui:h,selection:g,translateBy:y,snapped:E}=t,D=(r!==!0||s==="none")&&!this.translating&&!g,V=h&&y&&e.id===y;if(D&&(V||E)){this.translating=!0;const $=e.position(),J=e.previous("position"),de=$.x-J.x,Ge=$.y-J.y;(de!==0||Ge!==0)&&this.translateSelectedNodes(de,Ge,e,t),this.translating=!1}}onModelUpdated({removed:e}){e&&e.length&&this.unselect(e)}isEmpty(){return this.length<=0}isSelected(e){return this.collection.has(e)}get length(){return this.collection.length}get cells(){return this.collection.toArray()}select(e,t={}){t.dryrun=!0;const r=this.filter(Array.isArray(e)?e:[e]);return this.collection.add(r,t),this}unselect(e,t={}){return t.dryrun=!0,this.collection.remove(Array.isArray(e)?e:[e],t),this}reset(e,t={}){if(e){if(t.batch){const D=this.filter(Array.isArray(e)?e:[e]);return this.collection.reset(D,Object.assign(Object.assign({},t),{ui:!0})),this}const r=this.cells,s=this.filter(Array.isArray(e)?e:[e]),h={},g={};r.forEach(D=>h[D.id]=D),s.forEach(D=>g[D.id]=D);const y=[],E=[];return s.forEach(D=>{h[D.id]||y.push(D)}),r.forEach(D=>{g[D.id]||E.push(D)}),E.length&&this.unselect(E,Object.assign(Object.assign({},t),{ui:!0})),y.length&&this.select(y,Object.assign(Object.assign({},t),{ui:!0})),E.length===0&&y.length===0&&this.updateContainer(),this}return this.clean(t)}clean(e={}){return this.length&&(e.batch===!1?this.unselect(this.cells,e):this.collection.reset([],Object.assign(Object.assign({},e),{ui:!0}))),this}setFilter(e){this.options.filter=e}setContent(e){this.options.content=e}startSelecting(e){e=this.normalizeEvent(e),this.clean();let t,r;const s=this.graph.container;if(e.offsetX!=null&&e.offsetY!=null&&s.contains(e.target))t=e.offsetX,r=e.offsetY;else{const h=this.$(s).offset(),g=s.scrollLeft,y=s.scrollTop;t=e.clientX-h.left+window.pageXOffset+g,r=e.clientY-h.top+window.pageYOffset+y}this.$container.css({top:r,left:t,width:1,height:1}),this.setEventData(e,{action:"selecting",clientX:e.clientX,clientY:e.clientY,offsetX:t,offsetY:r,scrollerX:0,scrollerY:0,moving:!1}),this.delegateDocumentEvents(wh.documentEvents,e.data)}filter(e){const t=this.options.filter;return Array.isArray(t)?e.filter(r=>!t.includes(r)&&!t.includes(r.shape)):typeof t=="function"?e.filter(r=>fs(t,this.graph,r)):e}stopSelecting(e){const t=this.graph,r=this.getEventData(e);switch(r.action){case"selecting":{let h=this.$container.width(),g=this.$container.height();const y=this.$container.offset(),E=t.pageToLocal(y.left,y.top),D=t.transform.getScale();h/=D.sx,g/=D.sy;const V=new Ao(E.x,E.y,h,g),$=this.getCellViewsInArea(V).map(J=>J.cell);this.reset($,{batch:!0}),this.hideRubberband();break}case"translating":{const h=t.snapToGrid(e.clientX,e.clientY);if(!this.options.following){const g=r;this.updateSelectedNodesPosition({dx:g.clientX-g.originX,dy:g.clientY-g.originY})}this.graph.model.stopBatch("move-selection"),this.notifyBoxEvent("box:mouseup",e,h.x,h.y);break}default:{this.clean();break}}}onMouseUp(e){this.getEventData(e).action&&(this.stopSelecting(e),this.undelegateDocumentEvents())}onSelectionBoxMouseDown(e){this.options.following||e.stopPropagation();const t=this.normalizeEvent(e);this.options.movable&&this.startTranslating(t);const r=this.getCellViewFromElem(t.target);this.setEventData(t,{activeView:r});const s=this.graph.snapToGrid(t.clientX,t.clientY);this.notifyBoxEvent("box:mousedown",t,s.x,s.y),this.delegateDocumentEvents(wh.documentEvents,t.data)}startTranslating(e){this.graph.model.startBatch("move-selection");const t=this.graph.snapToGrid(e.clientX,e.clientY);this.setEventData(e,{action:"translating",clientX:t.x,clientY:t.y,originX:t.x,originY:t.y})}getSelectionOffset(e,t){let r=e.x-t.clientX,s=e.y-t.clientY;const h=this.graph.hook.getRestrictArea();if(h){const g=this.collection.toArray(),y=Na.getCellsBBox(g,{deep:!0})||Ao.create(),E=h.x-y.x,D=h.y-y.y,V=h.x+h.width-(y.x+y.width),$=h.y+h.height-(y.y+y.height);if(r<E&&(r=E),s<D&&(s=D),V<r&&(r=V),$<s&&(s=$),!this.options.following){const J=e.x-t.originX,de=e.y-t.originY;r=J<=E||J>=V?0:r,s=de<=D||de>=$?0:s}}return{dx:r,dy:s}}updateSelectedNodesPosition(e){const{dx:t,dy:r}=e;if(t||r)if(this.translateSelectedNodes(t,r),this.boxesUpdated)this.collection.length>1&&this.updateSelectionBoxes();else{const s=this.graph.transform.getScale();this.$boxes.add(this.$selectionContainer).css({left:`+=${t*s.sx}`,top:`+=${r*s.sy}`})}}autoScrollGraph(e,t){const r=this.graph.scroller.widget;return r?r.autoScroll(e,t):{scrollerX:0,scrollerY:0}}adjustSelection(e){const t=this.normalizeEvent(e),r=this.getEventData(t);switch(r.action){case"selecting":{const h=r;h.moving!==!0&&(this.$container.appendTo(this.graph.container),this.showRubberband(),h.moving=!0);const{scrollerX:g,scrollerY:y}=this.autoScrollGraph(t.clientX,t.clientY);h.scrollerX+=g,h.scrollerY+=y;const E=t.clientX-h.clientX+h.scrollerX,D=t.clientY-h.clientY+h.scrollerY,V=parseInt(this.$container.css("left"),10),$=parseInt(this.$container.css("top"),10);this.$container.css({left:E<0?h.offsetX+E:V,top:D<0?h.offsetY+D:$,width:Math.abs(E),height:Math.abs(D)});break}case"translating":{const h=this.graph.snapToGrid(t.clientX,t.clientY),g=r,y=this.getSelectionOffset(h,g);this.options.following?this.updateSelectedNodesPosition(y):this.updateContainerPosition(y),y.dx&&(g.clientX=h.x),y.dy&&(g.clientY=h.y),this.notifyBoxEvent("box:mousemove",e,h.x,h.y);break}default:break}this.boxesUpdated=!1}translateSelectedNodes(e,t,r,s){const h={},g=[];if(r&&(h[r.id]=!0),this.collection.toArray().forEach(y=>{y.getDescendants({deep:!0}).forEach(E=>{h[E.id]=!0})}),s&&s.translateBy){const y=this.graph.getCellById(s.translateBy);y&&(h[y.id]=!0,y.getDescendants({deep:!0}).forEach(E=>{h[E.id]=!0}),g.push(y))}this.collection.toArray().forEach(y=>{if(!h[y.id]){const E=Object.assign(Object.assign({},s),{selection:this.cid,exclude:g});y.translate(e,t,E),this.graph.model.getConnectedEdges(y).forEach(D=>{h[D.id]||(D.translate(e,t,E),h[D.id]=!0)})}})}getCellViewsInArea(e){const t=this.graph,r={strict:this.options.strict};let s=[];return this.options.rubberNode&&(this.options.useCellGeometry?s=s.concat(t.model.getNodesInArea(e,r).map(h=>t.renderer.findViewByCell(h)).filter(h=>h!=null)):s=s.concat(t.renderer.findViewsInArea(e,r))),this.options.rubberEdge&&(this.options.useCellGeometry?s=s.concat(t.model.getEdgesInArea(e,r).map(h=>t.renderer.findViewByCell(h)).filter(h=>h!=null)):s=s.concat(t.renderer.findEdgeViewsInArea(e,r))),s}notifyBoxEvent(e,t,r,s){const g=this.getEventData(t).activeView;this.trigger(e,{e:t,view:g,x:r,y:s,cell:g.cell})}getSelectedClassName(e){return this.prefixClassName(`${e.isNode()?"node":"edge"}-selected`)}addCellSelectedClassName(e){const t=this.graph.renderer.findViewByCell(e);t&&t.addClass(this.getSelectedClassName(e))}removeCellUnSelectedClassName(e){const t=this.graph.renderer.findViewByCell(e);t&&t.removeClass(this.getSelectedClassName(e))}destroySelectionBox(e){this.removeCellUnSelectedClassName(e),this.canShowSelectionBox(e)&&(this.$container.find(`[data-cell-id="${e.id}"]`).remove(),this.$boxes.length===0&&this.hide(),this.boxCount=Math.max(0,this.boxCount-1))}destroyAllSelectionBoxes(e){e.forEach(t=>this.removeCellUnSelectedClassName(t)),this.hide(),this.$boxes.remove(),this.boxCount=0}hide(){this.$container.removeClass(this.prefixClassName(wh.classNames.rubberband)).removeClass(this.prefixClassName(wh.classNames.selected))}showRubberband(){this.$container.addClass(this.prefixClassName(wh.classNames.rubberband))}hideRubberband(){this.$container.removeClass(this.prefixClassName(wh.classNames.rubberband))}showSelected(){this.$container.removeAttr("style").addClass(this.prefixClassName(wh.classNames.selected))}createContainer(){this.container=document.createElement("div"),this.$container=this.$(this.container),this.$container.addClass(this.prefixClassName(wh.classNames.root)),this.options.className&&this.$container.addClass(this.options.className),this.$selectionContainer=this.$("<div/>").addClass(this.prefixClassName(wh.classNames.inner)),this.$selectionContent=this.$("<div/>").addClass(this.prefixClassName(wh.classNames.content)),this.$selectionContainer.append(this.$selectionContent),this.$selectionContainer.attr("data-selection-length",this.collection.length),this.$container.prepend(this.$selectionContainer),this.$handleContainer=this.$selectionContainer}updateContainerPosition(e){(e.dx||e.dy)&&this.$selectionContainer.css({left:`+=${e.dx}`,top:`+=${e.dy}`})}updateContainer(){const e={x:1/0,y:1/0},t={x:0,y:0};this.collection.toArray().filter(h=>this.canShowSelectionBox(h)).forEach(h=>{const g=this.graph.renderer.findViewByCell(h);if(g){const y=g.getBBox({useCellGeometry:this.options.useCellGeometry});e.x=Math.min(e.x,y.x),e.y=Math.min(e.y,y.y),t.x=Math.max(t.x,y.x+y.width),t.y=Math.max(t.y,y.y+y.height)}}),this.$selectionContainer.css({position:"absolute",pointerEvents:"none",left:e.x,top:e.y,width:t.x-e.x,height:t.y-e.y}).attr("data-selection-length",this.collection.length);const s=this.options.content;if(s)if(typeof s=="function"){const h=fs(s,this.graph,this,this.$selectionContent[0]);h&&this.$selectionContent.html(h)}else this.$selectionContent.html(s);this.collection.length>0&&!this.container.parentNode?this.$container.appendTo(this.graph.container):this.collection.length<=0&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}canShowSelectionBox(e){return e.isNode()&&this.options.showNodeSelectionBox===!0||e.isEdge()&&this.options.showEdgeSelectionBox===!0}createSelectionBox(e){if(this.addCellSelectedClassName(e),this.canShowSelectionBox(e)){const t=this.graph.renderer.findViewByCell(e);if(t){const r=t.getBBox({useCellGeometry:this.options.useCellGeometry}),s=this.boxClassName;this.$("<div/>").addClass(s).addClass(`${s}-${e.isNode()?"node":"edge"}`).attr("data-cell-id",e.id).css({position:"absolute",left:r.x,top:r.y,width:r.width,height:r.height,pointerEvents:this.options.pointerEvents||"auto"}).appendTo(this.container),this.showSelected(),this.boxCount+=1}}}updateSelectionBoxes(e={}){this.collection.length>0&&(this.boxesUpdated=!0,this.graph.renderer.requestViewUpdate(this,1,2,e))}confirmUpdate(){return this.boxCount&&(this.hide(),this.$boxes.each((e,t)=>{const r=this.$(t).remove().attr("data-cell-id"),s=this.collection.get(r);s&&this.createSelectionBox(s)}),this.updateContainer()),0}getCellViewFromElem(e){const t=e.getAttribute("data-cell-id");if(t){const r=this.collection.get(t);if(r)return this.graph.renderer.findViewByCell(r)}return null}onCellRemoved({cell:e}){this.destroySelectionBox(e),this.updateContainer()}onReseted({previous:e,current:t}){this.destroyAllSelectionBoxes(e),t.forEach(r=>{this.listenCellRemoveEvent(r),this.createSelectionBox(r)}),this.updateContainer()}onCellAdded({cell:e}){this.listenCellRemoveEvent(e),this.createSelectionBox(e),this.updateContainer()}listenCellRemoveEvent(e){e.off("removed",this.onCellRemoved,this),e.on("removed",this.onCellRemoved,this)}onCollectionUpdated({added:e,removed:t,options:r}){e.forEach(h=>{this.trigger("cell:selected",{cell:h,options:r}),this.graph.trigger("cell:selected",{cell:h,options:r}),h.isNode()?(this.trigger("node:selected",{cell:h,options:r,node:h}),this.graph.trigger("node:selected",{cell:h,options:r,node:h})):h.isEdge()&&(this.trigger("edge:selected",{cell:h,options:r,edge:h}),this.graph.trigger("edge:selected",{cell:h,options:r,edge:h}))}),t.forEach(h=>{this.trigger("cell:unselected",{cell:h,options:r}),this.graph.trigger("cell:unselected",{cell:h,options:r}),h.isNode()?(this.trigger("node:unselected",{cell:h,options:r,node:h}),this.graph.trigger("node:unselected",{cell:h,options:r,node:h})):h.isEdge()&&(this.trigger("edge:unselected",{cell:h,options:r,edge:h}),this.graph.trigger("edge:unselected",{cell:h,options:r,edge:h}))});const s={added:e,removed:t,options:r,selected:this.cells.filter(h=>!!this.graph.getCellById(h.id))};this.trigger("selection:changed",s),this.graph.trigger("selection:changed",s)}deleteSelectedCells(){const e=this.collection.toArray();this.clean(),this.graph.model.removeCells(e,{selection:this.cid})}startRotate({e}){const t=this.collection.toArray(),r=Na.getCellsBBox(t).getCenter(),s=this.graph.snapToGrid(e.clientX,e.clientY),h=t.reduce((g,y)=>(g[y.id]=wa.normalize(y.getAngle()),g),{});this.setEventData(e,{center:r,angles:h,start:s.theta(r)})}doRotate({e}){const t=this.getEventData(e),r=this.graph.options.rotating.grid,s=typeof r=="function"?fs(r,this.graph,null):r,h=this.graph.snapToGrid(e.clientX,e.clientY),g=t.start-h.theta(t.center);t.rotated||(t.rotated=!0),Math.abs(g)>.001&&(this.collection.toArray().forEach(y=>{const E=Fc.snapToGrid(t.angles[y.id]+g,s||15);y.rotate(E,{absolute:!0,center:t.center,selection:this.cid})}),this.updateSelectionBoxes())}stopRotate({e}){const t=this.getEventData(e);t.rotated&&(t.rotated=!1,this.collection.toArray().forEach(r=>{vu("node:rotated",e,this.graph.findViewByCell(r))}))}startResize({e}){const t=this.graph.getGridSize(),r=this.collection.toArray(),s=Na.getCellsBBox(r),h=r.map(E=>E.getBBox()),g=h.reduce((E,D)=>D.width<E?D.width:E,1/0),y=h.reduce((E,D)=>D.height<E?D.height:E,1/0);this.setEventData(e,{bbox:s,cells:this.graph.model.getSubGraph(r),minWidth:t*s.width/g,minHeight:t*s.height/y})}doResize({e,dx:t,dy:r}){const s=this.eventData(e),h=s.bbox,g=h.width,y=h.height,E=Math.max(g+t,s.minWidth),D=Math.max(y+r,s.minHeight);s.resized||(s.resized=!0),(Math.abs(g-E)>.001||Math.abs(y-D)>.001)&&(this.graph.model.resizeCells(E,D,s.cells,{selection:this.cid}),h.width=E,h.height=D,this.updateSelectionBoxes())}stopResize({e}){const t=this.eventData(e);t.resized&&(t.resized=!1,this.collection.toArray().forEach(r=>{vu("node:resized",e,this.graph.findViewByCell(r))}))}dispose(){this.clean(),this.remove()}}DM([za.dispose()],WE.prototype,"dispose",null),Cd(WE,i2);var wh;(function(a){const e="widget-selection";a.classNames={root:e,inner:`${e}-inner`,box:`${e}-box`,content:`${e}-content`,rubberband:`${e}-rubberband`,selected:`${e}-selected`},a.documentEvents={mousemove:"adjustSelection",touchmove:"adjustSelection",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},a.defaultOptions={movable:!0,following:!0,strict:!1,useCellGeometry:!1,content(r){return yp('<%= length %> node<%= length > 1 ? "s":"" %> selected.')({length:r.length})},handles:[{name:"remove",position:"nw",events:{mousedown:"deleteSelectedCells"}},{name:"rotate",position:"sw",events:{mousedown:"startRotate",mousemove:"doRotate",mouseup:"stopRotate"}},{name:"resize",position:"se",events:{mousedown:"startResize",mousemove:"doResize",mouseup:"stopResize"}}]};function t(r){return r.getAncestors().length}a.depthComparator=t})(wh||(wh={}));class JS extends mw{get node(){return this.cell}get containerClassName(){return this.prefixClassName("widget-transform")}get resizeClassName(){return`${this.containerClassName}-resize`}get rotateClassName(){return`${this.containerClassName}-rotate`}init(e){this.options=Object.assign(Object.assign({},Ou.defaultOptions),e),this.render(),this.startListening()}startListening(){this.delegateEvents({[`mousedown .${this.resizeClassName}`]:"startResizing",[`touchstart .${this.resizeClassName}`]:"startResizing",[`mousedown .${this.rotateClassName}`]:"startRotating",[`touchstart .${this.rotateClassName}`]:"startRotating"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.node.on("removed",this.remove,this),this.model.on("reseted",this.remove,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.node.off("removed",this.remove,this),this.model.off("reseted",this.remove,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}renderHandles(){this.container=document.createElement("div"),this.$container=this.$(this.container);const e=this.$("<div/>").prop("draggable",!1),t=e.clone().addClass(this.rotateClassName),r=Ou.POSITIONS.map(s=>e.clone().addClass(this.resizeClassName).attr("data-position",s));this.empty(),this.$container.append(r,t)}render(){return this.renderHandles(),this.view.addClass(Ou.NODE_CLS),this.$container.addClass(this.containerClassName).toggleClass("no-orth-resize",this.options.preserveAspectRatio||!this.options.orthogonalResizing).toggleClass("no-resize",!this.options.resizable).toggleClass("no-rotate",!this.options.rotatable),this.options.className&&this.$container.addClass(this.options.className),this.graph.container.appendChild(this.container),this.update()}update(){const e=this.graph.matrix(),t=this.node.getBBox();t.x*=e.a,t.x+=e.e,t.y*=e.d,t.y+=e.f,t.width*=e.a,t.height*=e.d;const r=wa.normalize(this.node.getAngle()),s=r!==0?`rotate(${r}deg)`:"";return this.$container.css({transform:s,width:t.width,height:t.height,left:t.x,top:t.y}),this.updateResizerDirections(),this}remove(){return this.view.removeClass(Ou.NODE_CLS),super.remove()}onKnobMouseDown(){this.startHandle()}onKnobMouseUp(){this.stopHandle()}updateResizerDirections(){const e=wa.normalize(this.node.getAngle()),t=Math.floor(e*(Ou.DIRECTIONS.length/360));if(t!==this.prevShift){const r=Ou.DIRECTIONS.slice(t).concat(Ou.DIRECTIONS.slice(0,t)),s=h=>`${this.containerClassName}-cursor-${h}`;this.$container.find(`.${this.resizeClassName}`).removeClass(Ou.DIRECTIONS.map(h=>s(h)).join(" ")).each((h,g)=>{this.$(g).addClass(s(r[h]))}),this.prevShift=t}}getTrueDirection(e){const t=wa.normalize(this.node.getAngle());let r=Ou.POSITIONS.indexOf(e);return r+=Math.floor(t*(Ou.POSITIONS.length/360)),r%=Ou.POSITIONS.length,Ou.POSITIONS[r]}toValidResizeDirection(e){return{top:"top-left",bottom:"bottom-right",left:"bottom-left",right:"top-right"}[e]||e}startResizing(e){e.stopPropagation(),this.model.startBatch("resize",{cid:this.cid});const t=this.$(e.target).attr("data-position"),r=this.graph.findViewByCell(this.node);this.prepareResizing(e,t),this.startAction(e),vu("node:resize:mousedown",e,r)}prepareResizing(e,t){const r=this.getTrueDirection(t);let s=0,h=0;t.split("-").forEach(D=>{s={left:-1,right:1}[D]||s,h={top:-1,bottom:1}[D]||h});const g=this.toValidResizeDirection(t),y={"top-right":"bottomLeft","top-left":"bottomRight","bottom-left":"topRight","bottom-right":"topLeft"}[g],E=wa.normalize(this.node.getAngle());this.setEventData(e,{selector:y,direction:g,trueDirection:r,relativeDirection:t,angle:E,resizeX:s,resizeY:h,action:"resizing"})}startRotating(e){e.stopPropagation(),this.model.startBatch("rotate",{cid:this.cid});const t=this.graph.findViewByCell(this.node),r=this.node.getBBox().getCenter(),s=this.normalizeEvent(e),h=this.graph.snapToGrid(s.clientX,s.clientY);this.setEventData(e,{center:r,action:"rotating",angle:wa.normalize(this.node.getAngle()),start:Fn.create(h).theta(r)}),this.startAction(e),vu("node:rotate:mousedown",e,t)}onMouseMove(e){const t=this.graph.findViewByCell(this.node);let r=this.getEventData(e);if(r.action){const s=this.normalizeEvent(e);let h=s.clientX,g=s.clientY;const y=this.graph.scroller.widget,E=this.options.restrictedResizing;if(E===!0||typeof E=="number"){const de=E===!0?0:E,Ge=y?Math.max(de,8):de,Qe=this.graph.container.getBoundingClientRect();h=Tu(h,Qe.left+Ge,Qe.right-Ge),g=Tu(g,Qe.top+Ge,Qe.bottom-Ge)}else this.options.autoScrollOnResizing&&y&&y.autoScroll(h,g);const D=this.graph.snapToGrid(h,g),V=this.graph.getGridSize(),$=this.node,J=this.options;if(r.action==="resizing"){r=r,r.resized||(t&&(t.addClass("node-resizing"),vu("node:resize",e,t)),r.resized=!0);const de=$.getBBox(),Ge=Fn.create(D).rotate(r.angle,de.getCenter()).diff(de[r.selector]);let Qe=r.resizeX?Ge.x*r.resizeX:de.width,xt=r.resizeY?Ge.y*r.resizeY:de.height;const Yt=Qe,fn=xt;if(Qe=Fc.snapToGrid(Qe,V),xt=Fc.snapToGrid(xt,V),Qe=Math.max(Qe,J.minWidth||V),xt=Math.max(xt,J.minHeight||V),Qe=Math.min(Qe,J.maxWidth||1/0),xt=Math.min(xt,J.maxHeight||1/0),J.preserveAspectRatio){const zn=de.width*xt/de.height,xr=de.height*Qe/de.width;Qe<zn?xt=xr:Qe=zn}const Xt=r.relativeDirection;if(J.allowReverse&&(Yt<=-Qe||fn<=-xt)){let zn;Xt==="left"?Yt<=-Qe&&(zn="right"):Xt==="right"?Yt<=-Qe&&(zn="left"):Xt==="top"?fn<=-xt&&(zn="bottom"):Xt==="bottom"?fn<=-xt&&(zn="top"):Xt==="top-left"?Yt<=-Qe&&fn<=-xt?zn="bottom-right":Yt<=-Qe?zn="top-right":fn<=-xt&&(zn="bottom-left"):Xt==="top-right"?Yt<=-Qe&&fn<=-xt?zn="bottom-left":Yt<=-Qe?zn="top-left":fn<=-xt&&(zn="bottom-right"):Xt==="bottom-left"?Yt<=-Qe&&fn<=-xt?zn="top-right":Yt<=-Qe?zn="bottom-right":fn<=-xt&&(zn="top-left"):Xt==="bottom-right"&&(Yt<=-Qe&&fn<=-xt?zn="top-left":Yt<=-Qe?zn="bottom-left":fn<=-xt&&(zn="top-right"));const xr=zn;this.stopHandle();const Jr=this.$container.find(`.${this.resizeClassName}[data-position="${xr}"]`);this.startHandle(Jr[0]),this.prepareResizing(e,xr),this.onMouseMove(e)}if(de.width!==Qe||de.height!==xt){const zn={ui:!0,direction:r.direction,relativeDirection:r.relativeDirection,trueDirection:r.trueDirection,minWidth:J.minWidth,minHeight:J.minHeight,maxWidth:J.maxWidth,maxHeight:J.maxHeight,preserveAspectRatio:J.preserveAspectRatio===!0};$.resize(Qe,xt,zn),vu("node:resizing",e,t)}vu("node:resize:mousemove",e,t)}else if(r.action==="rotating"){r=r,r.rotated||(t&&(t.addClass("node-rotating"),vu("node:rotate",e,t)),r.rotated=!0);const de=$.getAngle(),Ge=r.start-Fn.create(D).theta(r.center);let Qe=r.angle+Ge;J.rotateGrid&&(Qe=Fc.snapToGrid(Qe,J.rotateGrid)),Qe=wa.normalize(Qe),de!==Qe&&($.rotate(Qe,{absolute:!0}),vu("node:rotating",e,t)),vu("node:rotate:mousemove",e,t)}}}onMouseUp(e){const t=this.graph.findViewByCell(this.node),r=this.getEventData(e);r.action&&(this.stopAction(e),this.model.stopBatch(r.action==="resizing"?"resize":"rotate",{cid:this.cid}),r.action==="resizing"?vu("node:resize:mouseup",e,t):r.action==="rotating"&&vu("node:rotate:mouseup",e,t))}startHandle(e){if(this.handle=e||null,this.$container.addClass(`${this.containerClassName}-active`),e){this.$(e).addClass(`${this.containerClassName}-active-handle`);const t=e.getAttribute("data-position");if(t){const r=Ou.DIRECTIONS[Ou.POSITIONS.indexOf(t)];this.$container.addClass(`${this.containerClassName}-cursor-${r}`)}}}stopHandle(){if(this.$container.removeClass(`${this.containerClassName}-active`),this.handle){this.$(this.handle).removeClass(`${this.containerClassName}-active-handle`);const e=this.handle.getAttribute("data-position");if(e){const t=Ou.DIRECTIONS[Ou.POSITIONS.indexOf(e)];this.$container.removeClass(`${this.containerClassName}-cursor-${t}`)}this.handle=null}}startAction(e){this.startHandle(e.target),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(Ou.documentEvents,e.data)}stopAction(e){this.stopHandle(),this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const t=this.graph.findViewByCell(this.node),r=this.getEventData(e);t&&(t.removeClass(`node-${r.action}`),r.action==="resizing"&&r.resized?vu("node:resized",e,t):r.action==="rotating"&&r.rotated&&vu("node:rotated",e,t))}onRemove(){this.stopListening(),super.onRemove()}}var Ou;(function(a){a.NODE_CLS="has-widget-transform",a.DIRECTIONS=["nw","n","ne","e","se","s","sw","w"],a.POSITIONS=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],a.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"},a.defaultOptions={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,rotateGrid:15,rotatable:!0,preserveAspectRatio:!1,orthogonalResizing:!0,restrictedResizing:!1,autoScrollOnResizing:!0,allowReverse:!0}})(Ou||(Ou={}));var NM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t},Hg;(function(a){function e(t,r,s){const h={};return Object.keys(s||{}).forEach(g=>{const y=s[g];h[g]=typeof y=="function"?y.call(t,r):y}),h}a.parseOptionGroup=e})(Hg||(Hg={})),function(a){function e(t){const{grid:r,panning:s,selecting:h,embedding:g,snapline:y,resizing:E,rotating:D,knob:V,clipboard:$,history:J,scroller:de,minimap:Ge,keyboard:Qe,mousewheel:xt}=t,Yt=NM(t,["grid","panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"]),fn=t.container;if(fn!=null)Yt.width==null&&(Yt.width=fn.clientWidth),Yt.height==null&&(Yt.height=fn.clientHeight);else throw new Error("Ensure the container of the graph is specified and valid");const Xt=La({},a.defaults,Yt),zn={size:10,visible:!1};return typeof r=="number"?Xt.grid={size:r,visible:!1}:typeof r=="boolean"?Xt.grid=Object.assign(Object.assign({},zn),{visible:r}):Xt.grid=Object.assign(Object.assign({},zn),r),["panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"].forEach(Jr=>{const fi=t[Jr];typeof fi=="boolean"?Xt[Jr].enabled=fi:Xt[Jr]=Object.assign(Object.assign({},Xt[Jr]),fi)}),Xt.background&&Xt.scroller.enabled&&Xt.scroller.background==null&&(Xt.scroller.background=Xt.background,delete Xt.background),Xt}a.get=e}(Hg||(Hg={})),function(a){a.defaults={x:0,y:0,grid:{size:10,visible:!1},scaling:{min:.01,max:16},background:!1,highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:Fc.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:Fc.prefix("available-magnet")}}},connecting:{snap:!1,multi:!0,dangling:!0,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",strategy:null,router:"normal",connector:"normal",validateConnection({type:e,sourceView:t,targetView:r}){return(e==="target"?r:t)!=null},createEdge(){return new HS}},transforming:{clearAll:!0,clearOnBlankMouseDown:!0},resizing:{enabled:!1,minWidth:0,minHeight:0,maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,orthogonal:!0,restricted:!1,autoScroll:!0,preserveAspectRatio:!1,allowReverse:!0},rotating:{enabled:!1,grid:15},translating:{restrict:!1},knob:{enabled:!1,clearAll:!0,clearOnBlankMouseDown:!0},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},selecting:{enabled:!1,rubberband:!1,rubberNode:!0,rubberEdge:!1,pointerEvents:"auto",multiple:!0,multipleSelectionModifiers:["ctrl","meta"],movable:!0,strict:!1,useCellGeometry:!1,selectCellOnMoved:!1,selectNodeOnMoved:!1,selectEdgeOnMoved:!1,content:null,handles:null},panning:{enabled:!1,eventTypes:["leftMouseDown"]},snapline:{enabled:!1},clipboard:{enabled:!1},history:{enabled:!1},scroller:{enabled:!1},keyboard:{enabled:!1},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},async:!1,frozen:!1,sorting:"exact",moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},guard:()=>!1}}(Hg||(Hg={}));var qS=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class QS extends Ml{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(e){return this.svg.getElementById(e)!=null}filter(e){let t=e.id;const r=e.name;if(t||(t=`filter-${r}-${this.cid}-${eb(JSON.stringify(e))}`),!this.isDefined(t)){const s=K1.registry.get(r);if(s==null)return K1.registry.onNotFound(r);const h=s(e.args||{}),g=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},e.attrs),{id:t});co.create(Ua.sanitize(h),g).appendTo(this.defs)}return t}gradient(e){let t=e.id;const r=e.type;if(t||(t=`gradient-${r}-${this.cid}-${eb(JSON.stringify(e))}`),!this.isDefined(t)){const h=e.stops.map(E=>{const D=E.opacity!=null&&Number.isFinite(E.opacity)?E.opacity:1;return`<stop offset="${E.offset}" stop-color="${E.color}" stop-opacity="${D}"/>`}),g=`<${r}>${h.join("")}</${r}>`,y=Object.assign({id:t},e.attrs);co.create(g,y).appendTo(this.defs)}return t}marker(e){const{id:t,refX:r,refY:s,markerUnits:h,markerOrient:g,tagName:y,children:E}=e,D=qS(e,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let V=t;if(V||(V=`marker-${this.cid}-${eb(JSON.stringify(e))}`),!this.isDefined(V)){y!=="path"&&delete D.d;const $=co.create("marker",{refX:r,refY:s,id:V,overflow:"visible",orient:g!=null?g:"auto",markerUnits:h||"userSpaceOnUse"},E?E.map(J=>{var{tagName:de}=J,Ge=qS(J,["tagName"]);return co.create(`${de}`||"path",Fg(Object.assign(Object.assign({},D),Ge)))}):[co.create(y||"path",Fg(D))]);this.defs.appendChild($.node)}return V}remove(e){const t=this.svg.getElementById(e);t&&t.parentNode&&t.parentNode.removeChild(t)}}var _M=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h},kM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class $E extends Ml{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(e){this.grid.visible!==e&&(this.grid.visible=e,this.update())}getGridSize(){return this.grid.size}setGridSize(e){this.grid.size=Math.max(e,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(e){this.clear(),this.instance=null,Object.assign(this.grid,e),this.patterns=this.resolveGrid(e),this.update()}update(e={}){const t=this.grid.size;if(t<=1||!this.grid.visible)return this.clear();const r=this.graph.matrix(),s=this.getInstance(),h=Array.isArray(e)?e:[e];this.patterns.forEach((E,D)=>{const V=`pattern_${D}`,$=r.a||1,J=r.d||1,{update:de,markup:Ge}=E,Qe=kM(E,["update","markup"]),xt=Object.assign(Object.assign(Object.assign({},Qe),h[D]),{sx:$,sy:J,ox:r.e||0,oy:r.f||0,width:t*$,height:t*J});s.has(V)||s.add(V,co.create("pattern",{id:V,patternUnits:"userSpaceOnUse"},co.createVectors(Ge)).node);const Yt=s.get(V);typeof de=="function"&&de(Yt.childNodes[0],xt);let fn=xt.ox%xt.width;fn<0&&(fn+=xt.width);let Xt=xt.oy%xt.height;Xt<0&&(Xt+=xt.height),Fa(Yt,{x:fn,y:Xt,width:xt.width,height:xt.height})});const g=new XMLSerializer().serializeToString(s.root),y=`url(data:image/svg+xml;base64,${btoa(g)})`;this.elem.style.backgroundImage=y}getInstance(){return this.instance||(this.instance=new Nv),this.instance}resolveGrid(e){if(!e)return[];const t=e.type;if(t==null)return[Object.assign(Object.assign({},Nv.presets.dot),e.args)];const r=Nv.registry.get(t);if(r){let s=e.args||[];return Array.isArray(s)||(s=[s]),Array.isArray(r)?r.map((h,g)=>Object.assign(Object.assign({},h),s[g])):[Object.assign(Object.assign({},r),s[0])]}return Nv.registry.onNotFound(t)}dispose(){this.stopListening(),this.clear()}}_M([Ml.dispose()],$E.prototype,"dispose",null);class eA extends Ml{getClientMatrix(){return Ac(this.view.stage.getScreenCTM())}getClientOffset(){const e=this.view.svg.getBoundingClientRect();return new Fn(e.left,e.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(e,t){return(typeof e=="number"?this.clientToLocalPoint(e,t):this.clientToLocalPoint(e.x,e.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(e,t){const r=Fn.create(e,t);return nd(r,this.graph.matrix())}localToClientPoint(e,t){const r=Fn.create(e,t);return nd(r,this.getClientMatrix())}localToPagePoint(e,t){return(typeof e=="number"?this.localToGraphPoint(e,t):this.localToGraphPoint(e)).translate(this.getPageOffset())}localToGraphRect(e,t,r,s){const h=Ao.create(e,t,r,s);return Xu(h,this.graph.matrix())}localToClientRect(e,t,r,s){const h=Ao.create(e,t,r,s);return Xu(h,this.getClientMatrix())}localToPageRect(e,t,r,s){return(typeof e=="number"?this.localToGraphRect(e,t,r,s):this.localToGraphRect(e)).translate(this.getPageOffset())}graphToLocalPoint(e,t){const r=Fn.create(e,t);return nd(r,this.graph.matrix().inverse())}clientToLocalPoint(e,t){const r=Fn.create(e,t);return nd(r,this.getClientMatrix().inverse())}clientToGraphPoint(e,t){const r=Fn.create(e,t);return nd(r,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(e,t){const s=Fn.create(e,t).diff(this.getPageOffset());return this.graphToLocalPoint(s)}graphToLocalRect(e,t,r,s){const h=Ao.create(e,t,r,s);return Xu(h,this.graph.matrix().inverse())}clientToLocalRect(e,t,r,s){const h=Ao.create(e,t,r,s);return Xu(h,this.getClientMatrix().inverse())}clientToGraphRect(e,t,r,s){const h=Ao.create(e,t,r,s);return Xu(h,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(e,t,r,s){const h=Ao.create(e,t,r,s),g=this.getPageOffset();return h.x-=g.x,h.y-=g.y,this.graphToLocalRect(h)}}var LM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class HE extends Ml{constructor(){super(...arguments),this.widget=this.graph.hook.createSnapline()}dispose(){this.widget.dispose()}}LM([Ml.dispose()],HE.prototype,"dispose",null);var Db;(function(a){function e(s){const h=[],g=[];return Array.isArray(s)?h.push(...s):s.split("|").forEach(y=>{y.indexOf("&")===-1?h.push(y):g.push(...y.split("&"))}),{or:h,and:g}}a.parse=e;function t(s,h){if(s!=null&&h!=null){const g=e(s),y=e(h),E=g.or.sort(),D=y.or.sort(),V=g.and.sort(),$=y.and.sort(),J=(de,Ge)=>de.length===Ge.length&&(de.length===0||de.every((Qe,xt)=>Qe===Ge[xt]));return J(E,D)&&J(V,$)}return s==null&&h==null}a.equals=t;function r(s,h,g){if(h==null||Array.isArray(h)&&h.length===0)return g?s.altKey!==!0&&s.ctrlKey!==!0&&s.metaKey!==!0&&s.shiftKey!==!0:!0;const{or:y,and:E}=e(h),D=V=>{const $=`${V.toLowerCase()}Key`;return s[$]===!0};return y.some(V=>D(V))&&E.every(V=>D(V))}a.isMatch=r})(Db||(Db={}));var FM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class KE extends Ml{get widgetOptions(){return this.options.scroller}get pannable(){return this.widgetOptions?typeof this.widgetOptions.pannable=="object"?this.widgetOptions.pannable.enabled:!!this.widgetOptions.pannable:!1}init(){this.widget=this.graph.hook.createScroller(),this.startListening(),this.updateClassName(),this.widget&&this.widget.center()}startListening(){let e=[];const t=this.widgetOptions.pannable;typeof t=="object"?e=t.eventTypes||[]:e=["leftMouseDown"],e.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.widget.container).on("mousedown",this.onRightMouseDown))}stopListening(){let e=[];const t=this.widgetOptions.pannable;typeof t=="object"?e=t.eventTypes||[]:e=["leftMouseDown"],e.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&this.view.$(this.widget.container).off("mousedown",this.onRightMouseDown)}onRightMouseDown(e){e.button===2&&this.allowPanning(e,!0)&&this.widget&&(this.updateClassName(!0),this.widget.startPanning(e),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}preparePanning({e}){this.widget&&(this.allowPanning(e,!0)||this.allowPanning(e)&&!this.graph.selection.allowRubberband(e,!0))&&(this.updateClassName(!0),this.widget.startPanning(e),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}allowPanning(e,t){return this.widget&&this.pannable&&Db.isMatch(e,this.widgetOptions.modifiers,t)&&this.graph.hook.allowPanning(e)}updateClassName(e){if(this.widget==null)return;const t=this.widget.container,r=this.view.prefixClassName("graph-scroller-pannable");this.pannable?(ja(t,r),t.dataset.panning=(!!e).toString()):nu(t,r)}enablePanning(){this.pannable||(this.widgetOptions.pannable=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.pannable=!1,this.updateClassName())}lock(){this.widget&&this.widget.lock()}unlock(){this.widget&&this.widget.unlock()}update(){this.widget&&this.widget.update()}enableAutoResize(){this.widget&&this.widget.enableAutoResize()}disableAutoResize(){this.widget&&this.widget.disableAutoResize()}resize(e,t){this.widget&&this.widget.resize(e,t)}dispose(){this.widget&&this.widget.dispose(),this.stopListening()}}FM([Ml.dispose()],KE.prototype,"dispose",null);var BM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h},zM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class XE extends Ml{get commonOptions(){const e=this.instanceOptions,{enabled:t}=e;return zM(e,["enabled"])}get instanceOptions(){return this.options.clipboard}get cells(){return this.widget.cells}get disabled(){return this.instanceOptions.enabled!==!0}init(){this.widget=this.graph.hook.createClipboard(),this.widget.deserialize(this.instanceOptions)}enable(){this.disabled&&(this.instanceOptions.enabled=!0)}disable(){this.disabled||(this.instanceOptions.enabled=!1)}copy(e,t={}){this.disabled||(this.widget.copy(e,this.graph,Object.assign(Object.assign({},this.commonOptions),t)),this.graph.trigger("clipboard:changed",{cells:e}))}cut(e,t={}){this.disabled||(this.widget.cut(e,this.graph,Object.assign(Object.assign({},this.commonOptions),t)),this.graph.trigger("clipboard:changed",{cells:e}))}paste(e={},t=this.graph){return this.disabled?[]:this.widget.paste(t,Object.assign(Object.assign({},this.commonOptions),e))}clean(e){(!this.disabled||e)&&(this.widget.clean(),this.graph.trigger("clipboard:changed",{cells:[]}))}isEmpty(){return this.widget.isEmpty()}dispose(){this.clean(!0)}}BM([Ml.dispose()],XE.prototype,"dispose",null);var GM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class vE extends Ml{constructor(){super(...arguments),this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:e,magnet:t,options:r={}}){const s=this.resolveHighlighter(r);if(!s)return;const h=this.getHighlighterId(t,s);if(!this.highlights[h]){const g=s.highlighter;g.highlight(e,t,Object.assign({},s.args)),this.highlights[h]={cellView:e,magnet:t,highlighter:g,args:s.args}}}onCellUnhighlight({magnet:e,options:t={}}){const r=this.resolveHighlighter(t);if(!r)return;const s=this.getHighlighterId(e,r);this.unhighlight(s)}resolveHighlighter(e){const t=this.options;let r=e.highlighter;if(r==null){const y=e.type;r=y&&t.highlighting[y]||t.highlighting.default}if(r==null)return null;const s=typeof r=="string"?{name:r}:r,h=s.name,g=f0.registry.get(h);return g==null?f0.registry.onNotFound(h):(f0.check(h,g),{name:h,highlighter:g,args:s.args||{}})}getHighlighterId(e,t){return mv(e),t.name+e.id+JSON.stringify(t.args)}unhighlight(e){const t=this.highlights[e];t&&(t.highlighter.unhighlight(t.cellView,t.magnet,t.args),delete this.highlights[e])}dispose(){Object.keys(this.highlights).forEach(e=>this.unhighlight(e)),this.stopListening()}}GM([vE.dispose()],vE.prototype,"dispose",null);var VM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class yE extends Ml{constructor(){super(...arguments),this.widgets=new Map}get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get isSelectionEnabled(){return this.options.selecting.enabled===!0}init(){this.startListening(),this.resize()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:e}){if(!this.isSelectionEnabled){const t=this.graph.hook.createTransform(e,{clearAll:!0});t&&this.widgets.set(e,t)}}onNodeSelected({node:e}){if(this.isSelectionEnabled){const t=this.graph.hook.createTransform(e,{clearAll:!1});t&&this.widgets.set(e,t)}}onNodeUnSelected({node:e}){if(this.isSelectionEnabled){const t=this.widgets.get(e);t&&t.dispose(),this.widgets.delete(e)}}getMatrix(){const e=this.viewport.getAttribute("transform");return e!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=e),Ac(this.viewportMatrix)}setMatrix(e){const t=Ac(e),r=zg(t);this.viewport.setAttribute("transform",r),this.viewportMatrix=t,this.viewportTransformString=r}resize(e,t){let r=e===void 0?this.options.width:e,s=t===void 0?this.options.height:t;this.options.width=r,this.options.height=s,typeof r=="number"&&(r=Math.round(r)),typeof s=="number"&&(s=Math.round(s)),this.container.style.width=r==null?"":`${r}px`,this.container.style.height=s==null?"":`${s}px`;const h=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},h)),this}getComputedSize(){let e=this.options.width,t=this.options.height;return nb(e)||(e=this.container.clientWidth),nb(t)||(t=this.container.clientHeight),{width:e,height:t}}getScale(){return jC(this.getMatrix())}scale(e,t=e,r=0,s=0,h={}){if(e=this.clampScale(e),t=this.clampScale(t),r||s){const y=this.getTranslation(),E=y.tx-r*(e-1),D=y.ty-s*(t-1);(E!==y.tx||D!==y.ty)&&this.translate(E,D)}const g=this.getMatrix();return g.a=e,g.d=t,this.setMatrix(g),this.graph.trigger("scale",Object.assign({sx:e,sy:t,ox:r,oy:s},h)),this}clampScale(e){const t=this.graph.options.scaling;return Tu(e,t.min||.01,t.max||16)}getZoom(){return this.getScale().sx}zoom(e,t){t=t||{};let r=e,s=e;const h=this.getScale(),g=this.getComputedSize();let y=g.width/2,E=g.height/2;if(t.absolute||(r+=h.sx,s+=h.sy),t.scaleGrid&&(r=Math.round(r/t.scaleGrid)*t.scaleGrid,s=Math.round(s/t.scaleGrid)*t.scaleGrid),t.maxScale&&(r=Math.min(t.maxScale,r),s=Math.min(t.maxScale,s)),t.minScale&&(r=Math.max(t.minScale,r),s=Math.max(t.minScale,s)),t.center&&(y=t.center.x,E=t.center.y),r=this.clampScale(r),s=this.clampScale(s),y||E){const D=this.getTranslation(),V=y-(y-D.tx)*(r/h.sx),$=E-(E-D.ty)*(s/h.sy);(V!==D.tx||$!==D.ty)&&this.translate(V,$,{ui:t.ui})}return this.scale(r,s,0,0,{ui:t.ui}),this}getRotation(){return UC(this.getMatrix())}rotate(e,t,r){if(t==null||r==null){const h=Mc(this.graph.view.stage);t=h.width/2,r=h.height/2}const s=this.getMatrix().translate(t,r).rotate(e).translate(-t,-r);return this.setMatrix(s),this}getTranslation(){return WC(this.getMatrix())}translate(e,t,r={}){const s=this.getMatrix();s.e=e||0,s.f=t||0,this.setMatrix(s);const h=this.getTranslation();return this.options.x=h.tx,this.options.y=h.ty,this.graph.trigger("translate",Object.assign(Object.assign({},h),r)),this}setOrigin(e,t){return this.translate(e||0,t||0)}fitToContent(e,t,r,s){if(typeof e=="object"){const Xt=e;e=Xt.gridWidth||1,t=Xt.gridHeight||1,r=Xt.padding||0,s=Xt}else e=e||1,t=t||1,r=r||0,s==null&&(s={});const h=fc(r),g=s.border||0,y=s.contentArea?Ao.create(s.contentArea):this.getContentArea(s);g>0&&y.inflate(g);const E=this.getScale(),D=this.getTranslation(),V=E.sx,$=E.sy;y.x*=V,y.y*=$,y.width*=V,y.height*=$;let J=Math.max(Math.ceil((y.width+y.x)/e),1)*e,de=Math.max(Math.ceil((y.height+y.y)/t),1)*t,Ge=0,Qe=0;(s.allowNewOrigin==="negative"&&y.x<0||s.allowNewOrigin==="positive"&&y.x>=0||s.allowNewOrigin==="any")&&(Ge=Math.ceil(-y.x/e)*e,Ge+=h.left,J+=Ge),(s.allowNewOrigin==="negative"&&y.y<0||s.allowNewOrigin==="positive"&&y.y>=0||s.allowNewOrigin==="any")&&(Qe=Math.ceil(-y.y/t)*t,Qe+=h.top,de+=Qe),J+=h.right,de+=h.bottom,J=Math.max(J,s.minWidth||0),de=Math.max(de,s.minHeight||0),J=Math.min(J,s.maxWidth||Number.MAX_SAFE_INTEGER),de=Math.min(de,s.maxHeight||Number.MAX_SAFE_INTEGER);const xt=this.getComputedSize(),Yt=J!==xt.width||de!==xt.height;return(Ge!==D.tx||Qe!==D.ty)&&this.translate(Ge,Qe),Yt&&this.resize(J,de),new Ao(-Ge/V,-Qe/$,J/V,de/$)}scaleContentToFit(e={}){this.scaleContentToFitImpl(e)}scaleContentToFitImpl(e={},t=!0){let r,s;if(e.contentArea){const Yt=e.contentArea;r=this.graph.localToGraph(Yt),s=Fn.create(Yt)}else r=this.getContentBBox(e),s=this.graph.graphToLocal(r);if(!r.width||!r.height)return;const h=fc(e.padding),g=e.minScale||0,y=e.maxScale||Number.MAX_SAFE_INTEGER,E=e.minScaleX||g,D=e.maxScaleX||y,V=e.minScaleY||g,$=e.maxScaleY||y;let J;if(e.viewportArea)J=e.viewportArea;else{const Yt=this.getComputedSize(),fn=this.getTranslation();J={x:fn.tx,y:fn.ty,width:Yt.width,height:Yt.height}}J=Ao.create(J).moveAndExpand({x:h.left,y:h.top,width:-h.left-h.right,height:-h.top-h.bottom});const de=this.getScale();let Ge=J.width/r.width*de.sx,Qe=J.height/r.height*de.sy;e.preserveAspectRatio!==!1&&(Ge=Qe=Math.min(Ge,Qe));const xt=e.scaleGrid;if(xt&&(Ge=xt*Math.floor(Ge/xt),Qe=xt*Math.floor(Qe/xt)),Ge=Tu(Ge,E,D),Qe=Tu(Qe,V,$),this.scale(Ge,Qe),t){const Yt=this.options,fn=J.x-s.x*Ge-Yt.x,Xt=J.y-s.y*Qe-Yt.y;this.translate(fn,Xt)}}getContentArea(e={}){return e.useCellGeometry?this.model.getAllCellsBBox()||new Ao:Mc(this.graph.view.stage)}getContentBBox(e={}){return this.graph.localToGraph(this.getContentArea(e))}getGraphArea(){const e=Ao.fromSize(this.getComputedSize());return this.graph.graphToLocal(e)}zoomToRect(e,t={}){const r=Ao.create(e),s=this.graph;t.contentArea=r,t.viewportArea==null&&(t.viewportArea={x:s.options.x,y:s.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(t,!1);const h=r.getCenter();return this.centerPoint(h.x,h.y),this}zoomToFit(e={}){return this.zoomToRect(this.getContentArea(e),e)}centerPoint(e,t){const r=this.getComputedSize(),s=this.getScale(),h=this.getTranslation(),g=r.width/2,y=r.height/2;e=typeof e=="number"?e:g,t=typeof t=="number"?t:y,e=g-e*s.sx,t=y-t*s.sy,(h.tx!==e||h.ty!==t)&&this.translate(e,t)}centerContent(e){const r=this.graph.getContentArea(e).getCenter();this.centerPoint(r.x,r.y)}centerCell(e){return this.positionCell(e,"center")}positionPoint(e,t,r){const s=this.getComputedSize();t=Ku(t,Math.max(0,s.width)),t<0&&(t=s.width+t),r=Ku(r,Math.max(0,s.height)),r<0&&(r=s.height+r);const h=this.getTranslation(),g=this.getScale(),y=t-e.x*g.sx,E=r-e.y*g.sy;(h.tx!==y||h.ty!==E)&&this.translate(y,E)}positionRect(e,t){const r=Ao.create(e);switch(t){case"center":return this.positionPoint(r.getCenter(),"50%","50%");case"top":return this.positionPoint(r.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(r.getTopRight(),"100%",0);case"right":return this.positionPoint(r.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(r.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(r.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(r.getBottomLeft(),0,"100%");case"left":return this.positionPoint(r.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(r.getTopLeft(),0,0);default:return this}}positionCell(e,t){const r=e.getBBox();return this.positionRect(r,t)}positionContent(e,t){const r=this.graph.getContentArea(t);return this.positionRect(r,e)}dispose(){this.widgets.forEach(e=>e.dispose()),this.widgets.clear(),this.stopListening()}}VM([yE.dispose()],yE.prototype,"dispose",null);var ZM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class YE extends Ml{constructor(){super(...arguments),this.movedMap=new WeakMap,this.unselectMap=new WeakMap}get widgetOptions(){return this.options.selecting}get rubberbandDisabled(){return this.widgetOptions.enabled!==!0||this.widgetOptions.rubberband!==!0}get disabled(){return this.widgetOptions.enabled!==!0}get length(){return this.widget.length}get cells(){return this.widget.cells}init(){this.widget=this.graph.hook.createSelection(),this.startListening()}startListening(){this.graph.on("blank:mousedown",this.onBlankMouseDown,this),this.graph.on("blank:click",this.onBlankClick,this),this.graph.on("cell:mousemove",this.onCellMouseMove,this),this.graph.on("cell:mouseup",this.onCellMouseUp,this),this.widget.on("box:mousedown",this.onBoxMouseDown,this)}stopListening(){this.graph.off("blank:mousedown",this.onBlankMouseDown,this),this.graph.off("blank:click",this.onBlankClick,this),this.graph.off("cell:mousemove",this.onCellMouseMove,this),this.graph.off("cell:mouseup",this.onCellMouseUp,this),this.widget.off("box:mousedown",this.onBoxMouseDown,this)}onBlankMouseDown({e}){(this.allowRubberband(e,!0)||this.allowRubberband(e)&&!this.graph.scroller.allowPanning(e,!0)&&!this.graph.panning.allowPanning(e,!0))&&this.startRubberband(e)}onBlankClick(){this.clean()}allowRubberband(e,t){return!this.rubberbandDisabled&&Db.isMatch(e,this.widgetOptions.modifiers,t)&&this.graph.hook.allowRubberband(e)}allowMultipleSelection(e){return this.isMultiple()&&Db.isMatch(e,this.widgetOptions.multipleSelectionModifiers)}onCellMouseMove({cell:e}){this.movedMap.set(e,!0)}onCellMouseUp({e,cell:t}){const r=this.widgetOptions;let s=this.disabled;!s&&this.movedMap.has(t)&&(s=r.selectCellOnMoved===!1,s||(s=r.selectNodeOnMoved===!1&&t.isNode()),s||(s=r.selectEdgeOnMoved===!1&&t.isEdge())),s||(this.allowMultipleSelection(e)?this.unselectMap.has(t)?this.unselectMap.delete(t):this.isSelected(t)?this.unselect(t):this.select(t):this.reset(t)),this.movedMap.delete(t)}onBoxMouseDown({e,cell:t}){this.disabled||this.allowMultipleSelection(e)&&(this.unselect(t),this.unselectMap.set(t,!0))}isEmpty(){return this.length<=0}isSelected(e){return this.widget.isSelected(e)}getCells(e){return(Array.isArray(e)?e:[e]).map(t=>typeof t=="string"?this.graph.getCellById(t):t).filter(t=>t!=null)}select(e,t={}){const r=this.getCells(e);return r.length&&(this.isMultiple()?this.widget.select(r,t):this.reset(r.slice(0,1),t)),this}unselect(e,t={}){return this.widget.unselect(this.getCells(e),t),this}reset(e,t={}){return this.widget.reset(e?this.getCells(e):[],t),this}clean(e={}){return this.widget.clean(e),this}enable(){return this.disabled&&(this.widgetOptions.enabled=!0),this}disable(){return this.disabled||(this.widgetOptions.enabled=!1),this}startRubberband(e){return this.rubberbandDisabled||this.widget.startSelecting(e),this}enableRubberband(){return this.rubberbandDisabled&&(this.widgetOptions.rubberband=!0),this}disableRubberband(){return this.rubberbandDisabled||(this.widgetOptions.rubberband=!1),this}isMultiple(){return this.widgetOptions.multiple!==!1}enableMultiple(){return this.widgetOptions.multiple=!0,this}disableMultiple(){return this.widgetOptions.multiple=!1,this}setModifiers(e){return this.widgetOptions.modifiers=e,this}setContent(e){return this.widget.setContent(e),this}setFilter(e){return this.widget.setFilter(e),this}dispose(){this.stopListening(),this.widget.dispose()}}ZM([Ml.dispose()],YE.prototype,"dispose",null);var tA=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h},jM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t};class s2 extends xf{constructor(e){super(),this.batchCommands=null,this.batchLevel=0,this.lastBatchIndex=-1,this.freezed=!1,this.handlers=[],this.graph=e.graph,this.model=e.graph.model,this.options=Tc.getOptions(e),this.validator=new s2.Validator({history:this,cancelInvalid:this.options.cancelInvalid}),this.clean(),this.startListening()}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}undo(e={}){if(!this.disabled){const t=this.undoStack.pop();t&&(this.revertCommand(t,e),this.redoStack.push(t),this.notify("undo",t,e))}return this}redo(e={}){if(!this.disabled){const t=this.redoStack.pop();t&&(this.applyCommand(t,e),this.undoStack.push(t),this.notify("redo",t,e))}return this}cancel(e={}){if(!this.disabled){const t=this.undoStack.pop();t&&(this.revertCommand(t,e),this.redoStack=[],this.notify("cancel",t,e))}return this}clean(e={}){return this.undoStack=[],this.redoStack=[],this.notify("clean",null,e),this}canUndo(){return!this.disabled&&this.undoStack.length>0}canRedo(){return!this.disabled&&this.redoStack.length>0}validate(e,...t){return this.validator.validate(e,...t),this}dispose(){this.validator.dispose(),this.clean(),this.stopListening()}startListening(){this.model.on("batch:start",this.initBatchCommand,this),this.model.on("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&this.options.eventNames.forEach((e,t)=>{this.handlers[t]=this.addCommand.bind(this,e),this.model.on(e,this.handlers[t])}),this.validator.on("invalid",e=>this.trigger("invalid",e))}stopListening(){this.model.off("batch:start",this.initBatchCommand,this),this.model.off("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&(this.options.eventNames.forEach((e,t)=>{this.model.off(e,this.handlers[t])}),this.handlers.length=0),this.validator.off("invalid")}createCommand(e){return{batch:e?e.batch:!1,data:{}}}revertCommand(e,t){this.freezed=!0;const r=Array.isArray(e)?Tc.sortBatchCommands(e):[e];for(let s=r.length-1;s>=0;s-=1){const h=r[s],g=Object.assign(Object.assign({},t),oi(h.options,this.options.revertOptionsList||[]));this.executeCommand(h,!0,g)}this.freezed=!1}applyCommand(e,t){this.freezed=!0;const r=Array.isArray(e)?Tc.sortBatchCommands(e):[e];for(let s=0;s<r.length;s+=1){const h=r[s],g=Object.assign(Object.assign({},t),oi(h.options,this.options.applyOptionsList||[]));this.executeCommand(h,!1,g)}this.freezed=!1}executeCommand(e,t,r){const s=this.model,h=s.getCell(e.data.id),g=e.event;if(Tc.isAddEvent(g)&&t||Tc.isRemoveEvent(g)&&!t)h&&h.remove(r);else if(Tc.isAddEvent(g)&&!t||Tc.isRemoveEvent(g)&&t){const y=e.data;y.node?s.addNode(y.props,r):y.edge&&s.addEdge(y.props,r)}else if(Tc.isChangeEvent(g)){const y=e.data,E=y.key;if(E&&h){const D=t?y.prev[E]:y.next[E];h.prop(E,D,r)}}else{const y=this.options.executeCommand;y&&fs(y,this,e,t,r)}}addCommand(e,t){if(this.freezed||this.disabled)return;const r=t,s=r.options||{};if(s.dryrun||Tc.isAddEvent(e)&&this.options.ignoreAdd||Tc.isRemoveEvent(e)&&this.options.ignoreRemove||Tc.isChangeEvent(e)&&this.options.ignoreChange)return;const h=this.options.beforeAddCommand;if(h!=null&&fs(h,this,e,t)===!1)return;e==="cell:change:*"&&(e=`cell:change:${r.key}`);const g=r.cell,y=Cf.isModel(g);let E;if(this.batchCommands){E=this.batchCommands[Math.max(this.lastBatchIndex,0)];const V=y&&!E.modelChange||E.data.id!==g.id,$=E.event!==e;if(this.lastBatchIndex>=0&&(V||$)){const J=this.batchCommands.findIndex(de=>(y&&de.modelChange||de.data.id===g.id)&&de.event===e);J<0||Tc.isAddEvent(e)||Tc.isRemoveEvent(e)?E=this.createCommand({batch:!0}):(E=this.batchCommands[J],this.batchCommands.splice(J,1)),this.batchCommands.push(E),this.lastBatchIndex=this.batchCommands.length-1}}else E=this.createCommand({batch:!1});if(Tc.isAddEvent(e)||Tc.isRemoveEvent(e)){const V=E.data;return E.event=e,E.options=s,V.id=g.id,V.props=Ss(g.toJSON()),g.isEdge()?V.edge=!0:g.isNode()&&(V.node=!0),this.push(E,s)}if(Tc.isChangeEvent(e)){const V=t.key,$=E.data;return(!E.batch||!E.event)&&(E.event=e,E.options=s,$.key=V,$.prev==null&&($.prev={}),$.prev[V]=Xh(g.previous(V)),y?E.modelChange=!0:$.id=g.id),$.next==null&&($.next={}),$.next[V]=Xh(g.prop(V)),this.push(E,s)}const D=this.options.afterAddCommand;D&&fs(D,this,e,t,E),this.push(E,s)}initBatchCommand(e){this.freezed||(this.batchCommands?this.batchLevel+=1:(this.batchCommands=[this.createCommand({batch:!0})],this.batchLevel=0,this.lastBatchIndex=-1))}storeBatchCommand(e){if(!this.freezed)if(this.batchCommands&&this.batchLevel<=0){const t=this.filterBatchCommand(this.batchCommands);t.length>0&&(this.redoStack=[],this.undoStack.push(t),this.consolidateCommands(),this.notify("add",t,e)),this.batchCommands=null,this.lastBatchIndex=-1,this.batchLevel=0}else this.batchCommands&&this.batchLevel>0&&(this.batchLevel-=1)}filterBatchCommand(e){let t=e.slice();const r=[];for(;t.length>0;){const s=t.shift(),h=s.event,g=s.data.id;if(h!=null&&(g!=null||s.modelChange)){if(Tc.isAddEvent(h)){const y=t.findIndex(E=>Tc.isRemoveEvent(E.event)&&E.data.id===g);if(y>=0){t=t.filter((E,D)=>y<D||E.data.id!==g);continue}}else if(Tc.isRemoveEvent(h)){const y=t.findIndex(E=>Tc.isAddEvent(E.event)&&E.data.id===g);if(y>=0){t.splice(y,1);continue}}else if(Tc.isChangeEvent(h)){const y=s.data;if(df(y.prev,y.next))continue}r.push(s)}}return r}notify(e,t,r){const s=t==null?null:Array.isArray(t)?t:[t];this.emit(e,{cmds:s,options:r}),this.emit("change",{cmds:s,options:r})}push(e,t){this.redoStack=[],e.batch?(this.lastBatchIndex=Math.max(this.lastBatchIndex,0),this.emit("batch",{cmd:e,options:t})):(this.undoStack.push(e),this.consolidateCommands(),this.notify("add",e,t))}consolidateCommands(){var e;const t=this.undoStack[this.undoStack.length-1],r=this.undoStack[this.undoStack.length-2];if(!Array.isArray(t))return;const s=new Set(t.map(g=>g.event));if(s.size!==2||!s.has("cell:change:parent")||!s.has("cell:change:children")||!t.every(g=>{var y;return g.batch&&((y=g.options)===null||y===void 0?void 0:y.ui)})||!Array.isArray(r)||r.length!==1)return;const h=r[0];h.event!=="cell:change:position"||!(!((e=h.options)===null||e===void 0)&&e.ui)||(r.push(...t),this.undoStack.pop())}}tA([xf.dispose()],s2.prototype,"dispose",null),function(a){class e extends xf{constructor(r){super(),this.map={},this.command=r.history,this.cancelInvalid=r.cancelInvalid!==!1,this.command.on("add",this.onCommandAdded,this)}onCommandAdded({cmds:r}){return Array.isArray(r)?r.every(s=>this.isValidCommand(s)):this.isValidCommand(r)}isValidCommand(r){if(r.options&&r.options.validation===!1)return!0;const s=r.event&&this.map[r.event]||[];let h=null;return s.forEach(g=>{let y=0;const E=D=>{const V=g[y];y+=1;try{if(V)V(D,r,E);else{h=D;return}}catch($){E($)}};E(h)}),h?(this.cancelInvalid&&this.command.cancel(),this.emit("invalid",{err:h}),!1):!0}validate(r,...s){const h=Array.isArray(r)?r:r.split(/\s+/);return s.forEach(g=>{if(typeof g!="function")throw new Error(`${h.join(" ")} requires callback functions.`)}),h.forEach(g=>{this.map[g]==null&&(this.map[g]=[]),this.map[g].push(s)}),this}dispose(){this.command.off("add",this.onCommandAdded,this)}}tA([xf.dispose()],e.prototype,"dispose",null),a.Validator=e}(s2||(s2={}));var Tc;(function(a){function e(g){return g==="cell:added"}a.isAddEvent=e;function t(g){return g==="cell:removed"}a.isRemoveEvent=t;function r(g){return g!=null&&g.startsWith("cell:change:")}a.isChangeEvent=r;function s(g){const{graph:y}=g,E=jM(g,["graph"]),D=["cell:added","cell:removed","cell:change:*"],V=["batch:start","batch:stop"],$=g.eventNames?g.eventNames.filter(J=>!(a.isChangeEvent(J)||D.includes(J)||V.includes(J))):D;return Object.assign(Object.assign({},E),{eventNames:$,applyOptionsList:g.applyOptionsList||["propertyPath"],revertOptionsList:g.revertOptionsList||["propertyPath"]})}a.getOptions=s;function h(g){const y=[];for(let E=0,D=g.length;E<D;E+=1){const V=g[E];let $=null;if(a.isAddEvent(V.event)){const J=V.data.id;for(let de=0;de<E;de+=1)if(g[de].data.id===J){$=de;break}}$!==null?y.splice($,0,V):y.push(V)}return y}a.sortBatchCommands=h})(Tc||(Tc={}));var UM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class JE extends Ml{get widgetOptions(){return this.options.minimap}init(){this.widget=this.graph.hook.createMiniMap()}dispose(){this.widget&&this.widget.dispose()}}UM([Ml.dispose()],JE.prototype,"dispose",null);var WM=w(42441),$M=w.n(WM),HM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class a2 extends Wg{constructor(e){super(),this.options=e;const t=this.graph.scroller.widget;this.container=t?t.container:this.graph.container,e.global?this.target=document:(this.target=this.container,this.disabled||this.target.setAttribute("tabindex","-1"),this.graph.on("cell:mouseup",this.focus,this),this.graph.on("blank:mouseup",this.focus,this)),this.mousetrap=a2.createMousetrap(this)}get graph(){return this.options.graph}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&this.target.setAttribute("tabindex","-1"))}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}on(e,t,r){this.mousetrap.bind(this.getKeys(e),t,r)}off(e,t){this.mousetrap.unbind(this.getKeys(e),t)}focus(e){if(this.isInputEvent(e.e))return;this.target.focus({preventScroll:!0})}getKeys(e){return(Array.isArray(e)?e:[e]).map(t=>this.formatkey(t))}formatkey(e){const t=e.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command"),r=this.options.format;return r?fs(r,this.graph,t):t}isGraphEvent(e){const t=e.srcElement||e.target,r=e.currentTarget;return t?t===this.target||r===this.target||t===document.body?!0:i0(this.container,t):!1}isInputEvent(e){var t;const r=e.target,s=(t=r==null?void 0:r.tagName)===null||t===void 0?void 0:t.toLowerCase();return["input","textarea"].includes(s)}isEnabledForEvent(e){const t=!this.disabled&&this.isGraphEvent(e),r=this.isInputEvent(e);if(t){const s=e.keyCode||e.which;if(r&&(s===8||s===46))return!1;if(this.options.guard)return fs(this.options.guard,this.graph,e)}return t}dispose(){this.mousetrap.reset()}}HM([Wg.dispose()],a2.prototype,"dispose",null),function(a){function e(t){const r=new($M())(t.target),s=r.stopCallback;return r.stopCallback=(h,g,y)=>t.isEnabledForEvent(h)?s?s.call(r,h,g,y):!1:!0,r}a.createMousetrap=e}(a2||(a2={}));var KM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class qE extends Wg{constructor(e){super(),this.options=e,this.cumulatedFactor=1;const t=this.graph.scroller.widget;this.container=t?t.container:this.graph.container,this.target=this.options.global?document:this.container,this.mousewheelHandle=new ew(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.options.enabled&&this.enable(!0)}get graph(){return this.options.graph}get disabled(){return this.options.enabled!==!0}enable(e){(this.disabled||e)&&(this.options.enabled=!0,this.graph.options.mousewheel.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.mousewheel.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(e){const t=e.originalEvent||e,r=this.options.guard;return(r==null||r.call(this.graph,t))&&Db.isMatch(t,this.options.modifiers)}onMouseWheel(e){const t=e.originalEvent||e,r=this.options.guard;if((r==null||r.call(this.graph,t))&&Db.isMatch(t,this.options.modifiers)){const s=this.options.factor||1.2;this.currentScale==null&&(this.startPos={x:e.clientX,y:e.clientY},this.currentScale=this.graph.scroller.widget?this.graph.scroller.widget.zoom():this.graph.transform.getScale().sx),e.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*s*20)/20/this.currentScale:this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*(1/s)*20)/20/this.currentScale,this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const g=this.graph.scroller.widget,y=this.currentScale;let E=this.graph.transform.clampScale(y*this.cumulatedFactor);const D=this.options.minScale||Number.MIN_SAFE_INTEGER,V=this.options.maxScale||Number.MAX_SAFE_INTEGER;if(E=Tu(E,D,V),E!==y)if(g)if(this.options.zoomAtMousePosition){const $=this.graph.coord.clientToLocalPoint(this.startPos);g.zoom(E,{absolute:!0,center:$.clone()})}else g.zoom(E,{absolute:!0});else if(this.options.zoomAtMousePosition){const $=this.graph.coord.clientToGraphPoint(this.startPos);this.graph.transform.zoom(E,{absolute:!0,center:$.clone(),ui:!0})}else this.graph.transform.zoom(E,{absolute:!0,ui:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}KM([Wg.dispose()],qE.prototype,"dispose",null);var XM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class l2 extends Ml{show(e={}){const t=Object.assign(Object.assign({},l2.defaultOptions),e),r=this.createPrintPages(t);t.ready(r,s=>this.showPrintWindow(s,t),{sheetSize:this.getSheetSize(t)})}get className(){return this.view.prefixClassName("graph-print")}showPrintWindow(e,t){if(e){const r=vt()(document.body),s=vt()(this.view.container),h=this.view.prefixClassName("graph-printing");r.addClass(h);const g=s.children().detach();e.forEach(D=>{D.removeClass(`${this.className}-preview`).addClass(`${this.className}-ready`).appendTo(r)});let y=!1;const E=()=>{y||(y=!0,r.removeClass(h),e.forEach(D=>D.remove()),s.append(g),vt()(`#${this.styleSheetId}`).remove(),this.graph.trigger("after:print",t),vt()(window).off("afterprint",E))};vt()(window).one("afterprint",E),setTimeout(E,200),window.print()}}createPrintPage(e,t){this.graph.trigger("before:print",t);const r=vt()("<div/>").addClass(this.className),s=vt()("<div/>").addClass(this.view.prefixClassName("graph-print-inner")).css("position","relative");t.size&&r.addClass(`${this.className}-size-${t.size}`);const h=co.create(this.view.svg).clone(),g=h.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`);s.append(h.node);const y=this.getSheetSize(t),E=this.graph.transform.getGraphArea(),D=this.graph.transform.getScale(),V=this.graph.translate(),$=Ac().translate(V.tx/D.sx,V.ty/D.sy),J=this.getPageInfo(E,e,y),de=J.scale,Ge=J.bbox;return s.css({left:0,top:0}),h.attr({width:Ge.width*de,height:Ge.height*de,style:"position:relative",viewBox:[Ge.x,Ge.y,Ge.width,Ge.height].join(" ")}),g.attr("transform",zg($)),r.append(s),r.addClass(`${this.className}-preview`),{$page:r,sheetSize:y}}createPrintPages(e){let t;const r=this.getPrintArea(e),s=[];if(e.page){const h=this.getPageSize(r,e.page);this.getPageAreas(r,h).forEach(y=>{t=this.createPrintPage(y,e),s.push(t.$page)})}else t=this.createPrintPage(r,e),s.push(t.$page);if(t){const h={width:t.sheetSize.cssWidth,height:t.sheetSize.cssHeight};this.updatePrintStyle(h,e)}return s}get styleSheetId(){return this.view.prefixClassName("graph-print-style")}updatePrintStyle(e,t){const r=Object.keys(e).reduce((V,$)=>`${V} ${$}:${e[$]};`,""),s=fc(t.margin),h=t.marginUnit||"",g=t.sheetUnit||"",y=`
      @media print {
        .${this.className}.${this.className}-ready {
          ${r}
        }

        @page {
          margin:
          ${[s.top+h,s.right+h,s.bottom+h,s.left+h].join(" ")};
          size: ${t.sheet.width+g} ${t.sheet.height+g};

        .${this.className}.${this.className}-preview {
          ${r}
        }
      }`,E=this.styleSheetId,D=vt()(`#${E}`);D.length?D.html(y):vt()("head").append(`'<style type="text/css" id="${E}">${y}</style>'`)}getPrintArea(e){let t=e.area;if(!t){const r=fc(e.padding);t=this.graph.getContentArea().moveAndExpand({x:-r.left,y:-r.top,width:r.left+r.right,height:r.top+r.bottom})}return t}getPageSize(e,t){if(typeof t=="object"){const r=t,s={width:r.width,height:r.height};return s.width==null&&(s.width=Math.ceil(e.width/(r.columns||1))),s.height==null&&(s.height=Math.ceil(e.height/(r.rows||1))),s}return{width:e.width,height:e.height}}getPageAreas(e,t){const r=[],s=t.width,h=t.height;for(let g=0,y=0;g<e.height&&y<200;g+=h,y+=1)for(let E=0,D=0;E<e.width&&D<200;E+=s,D+=1)r.push(new Ao(e.x+E,e.y+g,s,h));return r}getSheetSize(e){const t=e.sheet,r=fc(e.margin),s=e.marginUnit||"",h=e.sheetUnit||"",g=`calc(${t.width}${h} - ${r.left+r.right}${s})`,y=`calc(${t.height}${h} - ${r.top+r.bottom}${s})`,E=Sv.measure(g,y);return{cssWidth:g,cssHeight:y,width:E.width,height:E.height}}getPageInfo(e,t,r){const s=new Ao(t.x-e.x,t.y-e.y,t.width,t.height),h=s.width/s.height,g=r.width/r.height;return{bbox:s,scale:g<h?r.width/s.width:r.height/s.height,fitHorizontal:g<h}}dispose(){}}XM([Ml.dispose()],l2.prototype,"dispose",null),function(a){a.defaultOptions={page:!1,sheet:{width:210,height:297},sheetUnit:"mm",margin:.4,marginUnit:"in",padding:5,ready:(e,t)=>t(e)}}(l2||(l2={}));class nA extends Ml{toSVG(e,t={}){this.graph.trigger("before:export",t);const r=this.view.svg,s=co.create(r).clone();let h=s.node;const g=s.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`),y=t.viewBox||this.graph.graphToLocal(this.graph.getContentBBox()),E=t.preserveDimensions;if(E){const $=typeof E=="boolean"?y:E;s.attr({width:$.width,height:$.height})}if(s.removeAttribute("style").attr("viewBox",[y.x,y.y,y.width,y.height].join(" ")),g.removeAttribute("transform"),t.copyStyles!==!1){const $=r.ownerDocument,J=Array.from(r.querySelectorAll("*")),de=Array.from(h.querySelectorAll("*")),Ge=$.styleSheets.length,Qe=[];for(let fn=Ge-1;fn>=0;fn-=1)Qe[fn]=$.styleSheets[fn],$.styleSheets[fn].disabled=!0;const xt={};J.forEach((fn,Xt)=>{const zn=window.getComputedStyle(fn,null),xr={};Object.keys(zn).forEach(Jr=>{xr[Jr]=zn.getPropertyValue(Jr)}),xt[Xt]=xr}),Ge!==$.styleSheets.length&&Qe.forEach((fn,Xt)=>{$.styleSheets[Xt]=fn});for(let fn=0;fn<Ge;fn+=1)$.styleSheets[fn].disabled=!1;const Yt={};J.forEach((fn,Xt)=>{const zn=window.getComputedStyle(fn,null),xr=xt[Xt],Jr={};Object.keys(zn).forEach(fi=>{!Pw(fi)&&zn.getPropertyValue(fi)!==xr[fi]&&(Jr[fi]=zn.getPropertyValue(fi))}),Yt[Xt]=Jr}),de.forEach((fn,Xt)=>{vt()(fn).css(Yt[Xt])})}const D=t.stylesheet;if(typeof D=="string"){const $=r.ownerDocument.implementation.createDocument(null,"xml",null).createCDATASection(D);s.prepend(co.create("style",{type:"text/css"},[$]))}const V=()=>{const $=t.beforeSerialize;if(typeof $=="function"){const de=fs($,this.graph,h);de instanceof SVGSVGElement&&(h=de)}const J=new XMLSerializer().serializeToString(h).replace(/&nbsp;/g,"\xA0");this.graph.trigger("after:export",t),e(J)};if(t.serializeImages){const $=s.find("image").map(J=>new Promise(de=>{const Ge=J.attr("xlink:href")||J.attr("href");Tp.imageToDataUri(Ge,(Qe,xt)=>{!Qe&&xt&&J.attr("xlink:href",xt),de()})}));Promise.all($).then(V)}else V()}toDataURL(e,t){let r=t.viewBox||this.graph.getContentBBox();const s=fc(t.padding);t.width&&t.height&&(s.left+s.right>=t.width&&(s.left=s.right=0),s.top+s.bottom>=t.height&&(s.top=s.bottom=0));const h=new Ao(-s.left,-s.top,s.left+s.right,s.top+s.bottom);if(t.width&&t.height){const V=r.width+s.left+s.right,$=r.height+s.top+s.bottom;h.scale(V/t.width,$/t.height)}r=Ao.create(r).moveAndExpand(h);const g=typeof t.width=="number"&&typeof t.height=="number"?{width:t.width,height:t.height}:r;let y=t.ratio?parseFloat(t.ratio):1;(!Number.isFinite(y)||y===0)&&(y=1);const E={width:Math.max(Math.round(g.width*y),1),height:Math.max(Math.round(g.height*y),1)};{const V=document.createElement("canvas"),$=V.getContext("2d");V.width=E.width,V.height=E.height;const J=E.width-1,de=E.height-1;$.fillStyle="rgb(1,1,1)",$.fillRect(J,de,1,1);const Ge=$.getImageData(J,de,1,1).data;if(Ge[0]!==1||Ge[1]!==1||Ge[2]!==1)throw new Error("size exceeded")}const D=new Image;D.onload=()=>{const V=document.createElement("canvas");V.width=E.width,V.height=E.height;const $=V.getContext("2d");$.fillStyle=t.backgroundColor||"white",$.fillRect(0,0,E.width,E.height);try{$.drawImage(D,0,0,E.width,E.height);const J=V.toDataURL(t.type,t.quality);e(J)}catch(J){}},this.toSVG(V=>{D.src=`data:image/svg+xml,${encodeURIComponent(V)}`},Object.assign(Object.assign({},t),{viewBox:r,serializeImages:!0,preserveDimensions:Object.assign({},E)}))}toPNG(e,t={}){this.toDataURL(e,Object.assign(Object.assign({},t),{type:"image/png"}))}toJPEG(e,t={}){this.toDataURL(e,Object.assign(Object.assign({},t),{type:"image/jpeg"}))}}class YM extends Ml{constructor(){super(...arguments),this.widgets=new Map}get isSelectionEnabled(){return this.options.selecting.enabled===!0}init(){this.startListening()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:e}){if(!this.isSelectionEnabled){const t=this.graph.hook.createKnob(e,{clearAll:!0});t&&this.widgets.set(e,t)}}onNodeSelected({node:e}){if(this.isSelectionEnabled){const t=this.graph.hook.createKnob(e,{clearAll:!1});t&&this.widgets.set(e,t)}}onNodeUnSelected({node:e}){if(this.isSelectionEnabled){const t=this.widgets.get(e);t&&t.forEach(r=>r.dispose()),this.widgets.delete(e)}}}var JM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class rA extends Ml{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&this.widgetOptions.enabled===!0}init(){this.startListening(),this.updateClassName()}startListening(){const e=this.widgetOptions.eventTypes;e&&(e.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.graph.container).on("mousedown",this.onRightMouseDown)),e.includes("mouseWheel")&&(this.mousewheelHandle=new ew(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()))}stopListening(){const e=this.widgetOptions.eventTypes;e&&(e.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&this.view.$(this.graph.container).off("mousedown",this.onRightMouseDown),e.includes("mouseWheel")&&this.mousewheelHandle&&this.mousewheelHandle.disable())}preparePanning({e}){(this.allowPanning(e,!0)||this.allowPanning(e)&&!this.graph.selection.allowRubberband(e,!0))&&this.startPanning(e)}allowPanning(e,t){return this.pannable&&Db.isMatch(e,this.widgetOptions.modifiers,t)&&this.graph.hook.allowPanning(e)}startPanning(e){const t=this.view.normalizeEvent(e);this.clientX=t.clientX,this.clientY=t.clientY,this.panning=!0,this.updateClassName(),this.view.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),this.view.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(e){const t=this.view.normalizeEvent(e),r=t.clientX-this.clientX,s=t.clientY-this.clientY;this.clientX=t.clientX,this.clientY=t.clientY;const h=this.graph.transform.getTranslation(),g=h.tx+r,y=h.ty+s;this.graph.transform.translate(g,y,{ui:!0})}stopPanning(e){this.panning=!1,this.updateClassName(),this.view.$(document.body).off(".panning"),this.view.$(window).off(".panning")}updateClassName(){const e=this.view.container,t=this.view.prefixClassName("graph-panning"),r=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(ja(e,t),nu(e,r)):(nu(e,t),ja(e,r)):(nu(e,t),nu(e,r))}onRightMouseDown(e){e.button===2&&this.allowPanning(e,!0)&&this.startPanning(e)}allowMouseWheel(e){return this.pannable&&!e.ctrlKey}onMouseWheel(e,t,r){e.ctrlKey||this.graph.translateBy(-t,-r)}autoPanning(e,t){const s=this.graph.getGraphArea();let h=0,g=0;e<=s.left+10&&(h=-10),t<=s.top+10&&(g=-10),e>=s.right-10&&(h=10),t>=s.bottom-10&&(g=10),(h!==0||g!==0)&&this.graph.translateBy(-h,-g)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}JM([Ml.dispose()],rA.prototype,"dispose",null);var qM=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class iA extends Ml{hasScroller(){return this.graph.scroller.widget!=null}getContainer(){return this.hasScroller()?this.graph.scroller.widget.container:this.graph.container}init(){const e=this.options.autoResize;if(e){const t=typeof e=="boolean"?this.getContainer():e;kx.bind(t,()=>{const r=this.getContainer(),s=r.offsetWidth,h=r.offsetHeight;this.resize(s,h)})}}resize(e,t){this.hasScroller()?this.resizeScroller(e,t):this.resizeGraph(e,t)}resizeGraph(e,t){this.graph.transform.resize(e,t)}resizeScroller(e,t){this.graph.scroller.resize(e,t)}resizePage(e,t){const r=this.graph.scroller.widget;r&&r.updatePageSize(e,t)}dispose(){kx.clear(this.getContainer())}}qM([Ml.dispose()],iA.prototype,"dispose",null);var Ga=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h},QM=function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(a);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(a,r[s])&&(t[r[s]]=a[r[s]]);return t},_a;(function(a){function e(r,s){return(h,g,y)=>{const E=y.value,D=s||g;y.value=function(...V){const $=this.options[D];if($!=null){this.getNativeValue=E.bind(this,...V);const J=fs($,this.graph,...V);if(this.getNativeValue=null,J!=null||r===!0&&J===null)return J}return E.call(this,...V)}}}a.hook=e;function t(r){return(s,h,g)=>{const y=g.value,E=r||h;g.value=function(...D){let V=y.call(this,...D);const $=this.options[E];return $!=null&&(V=fs($,this.graph,...D)&&V),V}}}a.after=t})(_a||(_a={}));class ka extends Ml{createModel(){if(this.options.model)return this.options.model;const e=new Cf;return e.graph=this.graph,e}createView(){return new $g(this.graph)}createRenderer(){return new rl(this.graph)}createDefsManager(){return new QS(this.graph)}createGridManager(){return new $E(this.graph)}createCoordManager(){return new eA(this.graph)}createKnobManager(){return new YM(this.graph)}createTransform(e,t){const r=this.getTransformOptions(e);return r.resizable||r.rotatable?new JS(Object.assign(Object.assign({node:e,graph:this.graph},r),t)):(r.clearAll&&JS.removeInstances(this.graph),null)}createKnob(e,t){const r=Hg.parseOptionGroup(this.graph,e,this.options.knob),s=Object.assign(Object.assign({},r),t);s.clearAll&&KS.removeInstances(this.graph),s.clearAll=!1;const h=e.prop("knob"),g=[];return(Array.isArray(h)?h:[h]).forEach((E,D)=>{if(E){if(E.enabled===!1||typeof E.enabled=="function"&&E.enabled.call(this.graph,e)===!1)return}else return;r.enabled&&g.push(new KS(Object.assign({node:e,index:D,graph:this.graph},s)))}),g}getTransformOptions(e){const t=Hg.parseOptionGroup(this.graph,e,this.options.resizing),r=Hg.parseOptionGroup(this.graph,e,this.options.rotating),s=Hg.parseOptionGroup(this.graph,e,this.options.transforming);return Object.assign(Object.assign({},s),{resizable:t.enabled,minWidth:t.minWidth,maxWidth:t.maxWidth,minHeight:t.minHeight,maxHeight:t.maxHeight,orthogonalResizing:t.orthogonal,restrictedResizing:t.restrict!=null?t.restrict:t.restricted,autoScrollOnResizing:t.autoScroll,preserveAspectRatio:t.preserveAspectRatio,allowReverse:t.allowReverse,rotatable:r.enabled,rotateGrid:r.grid})}createTransformManager(){return new yE(this.graph)}createHighlightManager(){return new vE(this.graph)}createBackgroundManager(){return new mE(this.graph)}createClipboard(){return new eT}createClipboardManager(){return new XE(this.graph)}createSnapline(){return new YS(Object.assign({graph:this.graph},this.options.snapline))}createSnaplineManager(){return new HE(this.graph)}createSelection(){return new WE(Object.assign({graph:this.graph},this.options.selecting))}createSelectionManager(){return new YE(this.graph)}allowRubberband(e){return!0}createHistoryManager(){return new s2(Object.assign({graph:this.graph},this.options.history))}createScroller(){return this.options.scroller.enabled?new $x(Object.assign({graph:this.graph},this.options.scroller)):null}createScrollerManager(){return new KE(this.graph)}allowPanning(e){return!0}createMiniMap(){const e=this.options.minimap,{enabled:t}=e,r=QM(e,["enabled"]);return t?new XS(Object.assign({graph:this.graph},r)):null}createMiniMapManager(){return new JE(this.graph)}createKeyboard(){return new a2(Object.assign({graph:this.graph},this.options.keyboard))}createMouseWheel(){return new qE(Object.assign({graph:this.graph},this.options.mousewheel))}createPrintManager(){return new l2(this.graph)}createFormatManager(){return new nA(this.graph)}createPanningManager(){return new rA(this.graph)}createSizeManager(){return new iA(this.graph)}allowConnectToBlank(e){const t=this.options.connecting,r=t.allowBlank!=null?t.allowBlank:t.dangling;if(typeof r!="function")return!!r;const s=this.graph.findViewByCell(e),h=e.getSourceCell(),g=e.getTargetCell(),y=this.graph.findViewByCell(h),E=this.graph.findViewByCell(g);return fs(r,this.graph,{edge:e,edgeView:s,sourceCell:h,targetCell:g,sourceView:y,targetView:E,sourcePort:e.getSourcePortId(),targetPort:e.getTargetPortId(),sourceMagnet:s.sourceMagnet,targetMagnet:s.targetMagnet})}validateEdge(e,t,r){if(!this.allowConnectToBlank(e)){const h=e.getSourceCellId(),g=e.getTargetCellId();if(!(h&&g))return!1}const s=this.options.connecting.validateEdge;return s?fs(s,this.graph,{edge:e,type:t,previous:r}):!0}validateMagnet(e,t,r){if(t.getAttribute("magnet")!=="passive"){const s=this.options.connecting.validateMagnet;return s?fs(s,this.graph,{e:r,magnet:t,view:e,cell:e.cell}):!0}return!1}getDefaultEdge(e,t){let r;const s=this.options.connecting.createEdge;return s&&(r=fs(s,this.graph,{sourceMagnet:t,sourceView:e,sourceCell:e.cell})),r==null&&(r=new HS),r}validateConnection(e,t,r,s,h,g,y){const E=this.options.connecting,D=E.allowLoop,V=E.allowNode,$=E.allowEdge,J=E.allowPort,de=E.allowMulti!=null?E.allowMulti:E.multi,Ge=E.validateConnection,Qe=g?g.cell:null,xt=h==="target"?r:e,Yt=h==="target"?s:t;let fn=!0;const Xt=zn=>{const xr=h==="source"?y?y.port:null:Qe?Qe.getSourcePortId():null,Jr=h==="target"?y?y.port:null:Qe?Qe.getTargetPortId():null;return fs(zn,this.graph,{edge:Qe,edgeView:g,sourceView:e,targetView:r,sourcePort:xr,targetPort:Jr,sourceMagnet:t,targetMagnet:s,sourceCell:e?e.cell:null,targetCell:r?r.cell:null,type:h})};if(D!=null&&(typeof D=="boolean"?!D&&e===r&&(fn=!1):fn=Xt(D)),fn&&J!=null&&(typeof J=="boolean"?!J&&Yt&&(fn=!1):fn=Xt(J)),fn&&$!=null&&(typeof $=="boolean"?!$&&Fv.isEdgeView(xt)&&(fn=!1):fn=Xt($)),fn&&V!=null&&Yt==null&&(typeof V=="boolean"?!V&&Wf.isNodeView(xt)&&(fn=!1):fn=Xt(V)),fn&&de!=null&&g){const zn=g.cell,xr=h==="source"?y:zn.getSource(),Jr=h==="target"?y:zn.getTarget(),fi=y?this.graph.getCellById(y.cell):null;if(xr&&Jr&&xr.cell&&Jr.cell&&fi)if(typeof de=="function")fn=Xt(de);else{const Gi=this.model.getConnectedEdges(fi,{outgoing:h==="source",incoming:h==="target"});Gi.length&&(de==="withPort"?Gi.some(vo=>{const Eo=vo.getSource(),$o=vo.getTarget();return Eo&&$o&&Eo.cell===xr.cell&&$o.cell===Jr.cell&&Eo.port!=null&&Eo.port===xr.port&&$o.port!=null&&$o.port===Jr.port})&&(fn=!1):de||Gi.some(vo=>{const Eo=vo.getSource(),$o=vo.getTarget();return Eo&&$o&&Eo.cell===xr.cell&&$o.cell===Jr.cell})&&(fn=!1))}}return fn&&Ge!=null&&(fn=Xt(Ge)),fn}getRestrictArea(e){const t=this.options.translating.restrict,r=typeof t=="function"?fs(t,this.graph,e):t;return typeof r=="number"?this.graph.transform.getGraphArea().inflate(r):r===!0?this.graph.transform.getGraphArea():r||null}onViewUpdated(e,t,r){t&rl.FLAG_INSERT||r.mounting||this.graph.renderer.requestConnectedEdgesUpdate(e,r)}onViewPostponed(e,t,r){return this.graph.renderer.forcePostponedViewUpdate(e,t)}getCellView(e){return null}createCellView(e){const t={graph:this.graph},r=this.getCellView(e);if(r)return new r(e,t);const s=e.view;if(s!=null&&typeof s=="string"){const h=dc.registry.get(s);return h?new h(e,t):dc.registry.onNotFound(s)}return e.isNode()?new Wf(e,t):e.isEdge()?new Fv(e,t):null}getHTMLComponent(e){let t=e.getHTML();return typeof t=="string"&&(t=p0.componentRegistry.get(t)||t),Fl(t)&&(t=t.render),typeof t=="function"?fs(t,this.graph,e):t}shouldUpdateHTMLComponent(e){let t=e.getHTML();if(typeof t=="string"&&(t=p0.componentRegistry.get(t)||t),Fl(t)){const r=t.shouldComponentUpdate;return typeof r=="function"?fs(r,this.graph,e):!!r}return!1}onEdgeLabelRendered(e){}onPortRendered(e){}onToolItemCreated(e){}}Ga([_a.hook()],ka.prototype,"createModel",null),Ga([_a.hook()],ka.prototype,"createView",null),Ga([_a.hook()],ka.prototype,"createRenderer",null),Ga([_a.hook()],ka.prototype,"createDefsManager",null),Ga([_a.hook()],ka.prototype,"createGridManager",null),Ga([_a.hook()],ka.prototype,"createCoordManager",null),Ga([_a.hook()],ka.prototype,"createKnobManager",null),Ga([_a.hook()],ka.prototype,"createTransform",null),Ga([_a.hook()],ka.prototype,"createKnob",null),Ga([_a.hook()],ka.prototype,"createTransformManager",null),Ga([_a.hook()],ka.prototype,"createHighlightManager",null),Ga([_a.hook()],ka.prototype,"createBackgroundManager",null),Ga([_a.hook()],ka.prototype,"createClipboard",null),Ga([_a.hook()],ka.prototype,"createClipboardManager",null),Ga([_a.hook()],ka.prototype,"createSnapline",null),Ga([_a.hook()],ka.prototype,"createSnaplineManager",null),Ga([_a.hook()],ka.prototype,"createSelection",null),Ga([_a.hook()],ka.prototype,"createSelectionManager",null),Ga([_a.hook()],ka.prototype,"allowRubberband",null),Ga([_a.hook()],ka.prototype,"createHistoryManager",null),Ga([_a.hook()],ka.prototype,"createScroller",null),Ga([_a.hook()],ka.prototype,"createScrollerManager",null),Ga([_a.hook()],ka.prototype,"allowPanning",null),Ga([_a.hook()],ka.prototype,"createMiniMap",null),Ga([_a.hook()],ka.prototype,"createMiniMapManager",null),Ga([_a.hook()],ka.prototype,"createKeyboard",null),Ga([_a.hook()],ka.prototype,"createMouseWheel",null),Ga([_a.hook()],ka.prototype,"createPrintManager",null),Ga([_a.hook()],ka.prototype,"createFormatManager",null),Ga([_a.hook()],ka.prototype,"createPanningManager",null),Ga([_a.hook()],ka.prototype,"createSizeManager",null),Ga([_a.after()],ka.prototype,"onViewUpdated",null),Ga([_a.after()],ka.prototype,"onViewPostponed",null),Ga([_a.hook()],ka.prototype,"getCellView",null),Ga([_a.hook(!0)],ka.prototype,"createCellView",null),Ga([_a.hook()],ka.prototype,"getHTMLComponent",null),Ga([_a.hook()],ka.prototype,"shouldUpdateHTMLComponent",null),Ga([_a.hook()],ka.prototype,"onEdgeLabelRendered",null),Ga([_a.hook()],ka.prototype,"onPortRendered",null),Ga([_a.hook()],ka.prototype,"onToolItemCreated",null);var Kg=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class il extends xf{constructor(e){super(),this.options=Hg.get(e),this.css=new Rb(this),this.hook=new ka(this),this.view=this.hook.createView(),this.defs=this.hook.createDefsManager(),this.coord=this.hook.createCoordManager(),this.transform=this.hook.createTransformManager(),this.knob=this.hook.createKnobManager(),this.highlight=this.hook.createHighlightManager(),this.grid=this.hook.createGridManager(),this.background=this.hook.createBackgroundManager(),this.model=this.hook.createModel(),this.renderer=this.hook.createRenderer(),this.clipboard=this.hook.createClipboardManager(),this.snapline=this.hook.createSnaplineManager(),this.selection=this.hook.createSelectionManager(),this.history=this.hook.createHistoryManager(),this.scroller=this.hook.createScrollerManager(),this.minimap=this.hook.createMiniMapManager(),this.keyboard=this.hook.createKeyboard(),this.mousewheel=this.hook.createMouseWheel(),this.print=this.hook.createPrintManager(),this.format=this.hook.createFormatManager(),this.panning=this.hook.createPanningManager(),this.size=this.hook.createSizeManager()}get container(){return this.view.container}get[Symbol.toStringTag](){return il.toStringTag}isNode(e){return e.isNode()}isEdge(e){return e.isEdge()}resetCells(e,t={}){return this.model.resetCells(e,t),this}clearCells(e={}){return this.model.clear(e),this}toJSON(e={}){return this.model.toJSON(e)}parseJSON(e){return this.model.parseJSON(e)}fromJSON(e,t={}){return this.model.fromJSON(e,t),this}getCellById(e){return this.model.getCell(e)}addNode(e,t={}){return this.model.addNode(e,t)}addNodes(e,t={}){return this.addCell(e.map(r=>lc.isNode(r)?r:this.createNode(r)),t)}createNode(e){return this.model.createNode(e)}removeNode(e,t={}){return this.model.removeCell(e,t)}addEdge(e,t={}){return this.model.addEdge(e,t)}addEdges(e,t={}){return this.addCell(e.map(r=>ql.isEdge(r)?r:this.createEdge(r)),t)}removeEdge(e,t={}){return this.model.removeCell(e,t)}createEdge(e){return this.model.createEdge(e)}addCell(e,t={}){return this.model.addCell(e,t),this}removeCell(e,t={}){return this.model.removeCell(e,t)}removeCells(e,t={}){return this.model.removeCells(e,t)}removeConnectedEdges(e,t={}){return this.model.removeConnectedEdges(e,t)}disconnectConnectedEdges(e,t={}){return this.model.disconnectConnectedEdges(e,t),this}hasCell(e){return this.model.has(e)}getCell(e){return this.model.getCell(e)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(e){return this.model.getOutgoingEdges(e)}getIncomingEdges(e){return this.model.getIncomingEdges(e)}getConnectedEdges(e,t={}){return this.model.getConnectedEdges(e,t)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(e){return this.model.isRoot(e)}isLeafNode(e){return this.model.isLeaf(e)}getNeighbors(e,t={}){return this.model.getNeighbors(e,t)}isNeighbor(e,t,r={}){return this.model.isNeighbor(e,t,r)}getSuccessors(e,t={}){return this.model.getSuccessors(e,t)}isSuccessor(e,t,r={}){return this.model.isSuccessor(e,t,r)}getPredecessors(e,t={}){return this.model.getPredecessors(e,t)}isPredecessor(e,t,r={}){return this.model.isPredecessor(e,t,r)}getCommonAncestor(...e){return this.model.getCommonAncestor(...e)}getSubGraph(e,t={}){return this.model.getSubGraph(e,t)}cloneSubGraph(e,t={}){return this.model.cloneSubGraph(e,t)}cloneCells(e){return this.model.cloneCells(e)}getNodesFromPoint(e,t){return this.model.getNodesFromPoint(e,t)}getNodesInArea(e,t,r,s,h){return this.model.getNodesInArea(e,t,r,s,h)}getNodesUnderNode(e,t={}){return this.model.getNodesUnderNode(e,t)}searchCell(e,t,r={}){return this.model.search(e,t,r),this}getShortestPath(e,t,r={}){return this.model.getShortestPath(e,t,r)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(e,t={}){return this.model.getCellsBBox(e,t)}startBatch(e,t={}){this.model.startBatch(e,t)}stopBatch(e,t={}){this.model.stopBatch(e,t)}batchUpdate(e,t,r){const s=typeof e=="string"?e:"update",h=typeof e=="string"?t:e,g=typeof t=="function"?r:t;this.startBatch(s,g);const y=h();return this.stopBatch(s,g),y}updateCellId(e,t){return this.model.updateCellId(e,t)}isFrozen(){return this.renderer.isFrozen()}freeze(e={}){return this.renderer.freeze(e),this}unfreeze(e={}){return this.renderer.unfreeze(e),this}isAsync(){return this.renderer.isAsync()}setAsync(e){return this.renderer.setAsync(e),this}findView(e){return Na.isCell(e)?this.findViewByCell(e):this.findViewByElem(e)}findViews(e){return Ao.isRectangleLike(e)?this.findViewsInArea(e):Fn.isPointLike(e)?this.findViewsFromPoint(e):[]}findViewByCell(e){return this.renderer.findViewByCell(e)}findViewByElem(e){return this.renderer.findViewByElem(e)}findViewsFromPoint(e,t){const r=typeof e=="number"?{x:e,y:t}:e;return this.renderer.findViewsFromPoint(r)}findViewsInArea(e,t,r,s,h){const g=typeof e=="number"?{x:e,y:t,width:r,height:s}:e,y=typeof e=="number"?h:t;return this.renderer.findViewsInArea(g,y)}isViewMounted(e){return this.renderer.isViewMounted(e)}getMountedViews(){return this.renderer.getMountedViews()}getUnmountedViews(){return this.renderer.getUnmountedViews()}matrix(e){return typeof e=="undefined"?this.transform.getMatrix():(this.transform.setMatrix(e),this)}resize(e,t){return this.size.resize(e,t),this}resizeGraph(e,t){return this.size.resizeGraph(e,t),this}resizeScroller(e,t){return this.size.resizeScroller(e,t),this}resizePage(e,t){return this.size.resizePage(e,t),this}scale(e,t=e,r=0,s=0){return typeof e=="undefined"?this.transform.getScale():(this.transform.scale(e,t,r,s),this)}zoom(e,t){const r=this.scroller.widget;if(r){if(typeof e=="undefined")return r.zoom();r.zoom(e,t)}else{if(typeof e=="undefined")return this.transform.getZoom();this.transform.zoom(e,t)}return this}zoomTo(e,t={}){const r=this.scroller.widget;return r?r.zoom(e,Object.assign(Object.assign({},t),{absolute:!0})):this.transform.zoom(e,Object.assign(Object.assign({},t),{absolute:!0})),this}zoomToRect(e,t={}){const r=this.scroller.widget;return r?r.zoomToRect(e,t):this.transform.zoomToRect(e,t),this}zoomToFit(e={}){const t=this.scroller.widget;return t?t.zoomToFit(e):this.transform.zoomToFit(e),this}rotate(e,t,r){return typeof e=="undefined"?this.transform.getRotation():(this.transform.rotate(e,t,r),this)}translate(e,t){return typeof e=="undefined"?this.transform.getTranslation():(this.transform.translate(e,t),this)}translateBy(e,t){const r=this.translate(),s=r.tx+e,h=r.ty+t;return this.translate(s,h)}getArea(){return this.transform.getGraphArea()}getGraphArea(){return this.transform.getGraphArea()}getContentArea(e={}){return this.transform.getContentArea(e)}getContentBBox(e={}){return this.transform.getContentBBox(e)}fitToContent(e,t,r,s){return this.transform.fitToContent(e,t,r,s)}scaleContentToFit(e={}){return this.transform.scaleContentToFit(e),this}center(e){return this.centerPoint(e)}centerPoint(e,t,r){const s=this.scroller.widget;return s?s.centerPoint(e,t,r):this.transform.centerPoint(e,t),this}centerContent(e){const t=this.scroller.widget;return t?t.centerContent(e):this.transform.centerContent(e),this}centerCell(e,t){const r=this.scroller.widget;return r?r.centerCell(e,t):this.transform.centerCell(e),this}positionPoint(e,t,r,s={}){const h=this.scroller.widget;return h?h.positionPoint(e,t,r,s):this.transform.positionPoint(e,t,r),this}positionRect(e,t,r){const s=this.scroller.widget;return s?s.positionRect(e,t,r):this.transform.positionRect(e,t),this}positionCell(e,t,r){const s=this.scroller.widget;return s?s.positionCell(e,t,r):this.transform.positionCell(e,t),this}positionContent(e,t){const r=this.scroller.widget;return r?r.positionContent(e,t):this.transform.positionContent(e,t),this}getClientMatrix(){return this.coord.getClientMatrix()}getClientOffset(){return this.coord.getClientOffset()}getPageOffset(){return this.coord.getPageOffset()}snapToGrid(e,t){return this.coord.snapToGrid(e,t)}pageToLocal(e,t,r,s){return Ao.isRectangleLike(e)?this.coord.pageToLocalRect(e):typeof e=="number"&&typeof t=="number"&&typeof r=="number"&&typeof s=="number"?this.coord.pageToLocalRect(e,t,r,s):this.coord.pageToLocalPoint(e,t)}localToPage(e,t,r,s){return Ao.isRectangleLike(e)?this.coord.localToPageRect(e):typeof e=="number"&&typeof t=="number"&&typeof r=="number"&&typeof s=="number"?this.coord.localToPageRect(e,t,r,s):this.coord.localToPagePoint(e,t)}clientToLocal(e,t,r,s){return Ao.isRectangleLike(e)?this.coord.clientToLocalRect(e):typeof e=="number"&&typeof t=="number"&&typeof r=="number"&&typeof s=="number"?this.coord.clientToLocalRect(e,t,r,s):this.coord.clientToLocalPoint(e,t)}localToClient(e,t,r,s){return Ao.isRectangleLike(e)?this.coord.localToClientRect(e):typeof e=="number"&&typeof t=="number"&&typeof r=="number"&&typeof s=="number"?this.coord.localToClientRect(e,t,r,s):this.coord.localToClientPoint(e,t)}localToGraph(e,t,r,s){return Ao.isRectangleLike(e)?this.coord.localToGraphRect(e):typeof e=="number"&&typeof t=="number"&&typeof r=="number"&&typeof s=="number"?this.coord.localToGraphRect(e,t,r,s):this.coord.localToGraphPoint(e,t)}graphToLocal(e,t,r,s){return Ao.isRectangleLike(e)?this.coord.graphToLocalRect(e):typeof e=="number"&&typeof t=="number"&&typeof r=="number"&&typeof s=="number"?this.coord.graphToLocalRect(e,t,r,s):this.coord.graphToLocalPoint(e,t)}clientToGraph(e,t,r,s){return Ao.isRectangleLike(e)?this.coord.clientToGraphRect(e):typeof e=="number"&&typeof t=="number"&&typeof r=="number"&&typeof s=="number"?this.coord.clientToGraphRect(e,t,r,s):this.coord.clientToGraphPoint(e,t)}defineFilter(e){return this.defs.filter(e)}defineGradient(e){return this.defs.gradient(e)}defineMarker(e){return this.defs.marker(e)}getGridSize(){return this.grid.getGridSize()}setGridSize(e){return this.grid.setGridSize(e),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(e){return this.grid.draw(e),this}updateBackground(){return this.background.update(),this}drawBackground(e,t){const r=this.scroller.widget;return r!=null&&(this.options.background==null||!t)?r.backgroundManager.draw(e):this.background.draw(e),this}clearBackground(e){const t=this.scroller.widget;return t!=null&&(this.options.background==null||!e)?t.backgroundManager.clear():this.background.clear(),this}isClipboardEnabled(){return!this.clipboard.disabled}enableClipboard(){return this.clipboard.enable(),this}disableClipboard(){return this.clipboard.disable(),this}toggleClipboard(e){return e!=null?e!==this.isClipboardEnabled()&&(e?this.enableClipboard():this.disableClipboard()):this.isClipboardEnabled()?this.disableClipboard():this.enableClipboard(),this}isClipboardEmpty(){return this.clipboard.isEmpty()}getCellsInClipboard(){return this.clipboard.cells}cleanClipboard(){return this.clipboard.clean(),this}copy(e,t={}){return this.clipboard.copy(e,t),this}cut(e,t={}){return this.clipboard.cut(e,t),this}paste(e={},t=this){return this.clipboard.paste(e,t)}isHistoryEnabled(){return!this.history.disabled}enableHistory(){return this.history.enable(),this}disableHistory(){return this.history.disable(),this}toggleHistory(e){return e!=null?e!==this.isHistoryEnabled()&&(e?this.enableHistory():this.disableHistory()):this.isHistoryEnabled()?this.disableHistory():this.enableHistory(),this}undo(e={}){return this.history.undo(e),this}undoAndCancel(e={}){return this.history.cancel(e),this}redo(e={}){return this.history.redo(e),this}canUndo(){return this.history.canUndo()}canRedo(){return this.history.canRedo()}cleanHistory(e={}){this.history.clean(e)}isKeyboardEnabled(){return!this.keyboard.disabled}enableKeyboard(){return this.keyboard.enable(),this}disableKeyboard(){return this.keyboard.disable(),this}toggleKeyboard(e){return e!=null?e!==this.isKeyboardEnabled()&&(e?this.enableKeyboard():this.disableKeyboard()):this.isKeyboardEnabled()?this.disableKeyboard():this.enableKeyboard(),this}bindKey(e,t,r){return this.keyboard.on(e,t,r),this}unbindKey(e,t){return this.keyboard.off(e,t),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(e){return e==null?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():e?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){return this.scroller.widget?this.scroller.pannable:this.panning.pannable}enablePanning(){return this.scroller.widget?this.scroller.enablePanning():this.panning.enablePanning(),this}disablePanning(){return this.scroller.widget?this.scroller.disablePanning():this.panning.disablePanning(),this}togglePanning(e){return e==null?this.isPannable()?this.disablePanning():this.enablePanning():e!==this.isPannable()&&(e?this.enablePanning():this.disablePanning()),this}lockScroller(){var e;(e=this.scroller.widget)===null||e===void 0||e.lock()}unlockScroller(){var e;(e=this.scroller.widget)===null||e===void 0||e.unlock()}updateScroller(){var e;(e=this.scroller.widget)===null||e===void 0||e.update()}getScrollbarPosition(){return this.scroller.widget.scrollbarPosition()}setScrollbarPosition(e,t,r){return this.scroller.widget.scrollbarPosition(e,t,r),this}scrollToPoint(e,t,r){return this.scroller.widget.scrollToPoint(e,t,r),this}scrollToContent(e){return this.scroller.widget.scrollToContent(e),this}scrollToCell(e,t){return this.scroller.widget.scrollToCell(e,t),this}transitionToPoint(e,t,r){return this.scroller.widget.transitionToPoint(e,t,r),this}transitionToRect(e,t={}){return this.scroller.widget.transitionToRect(e,t),this}isSelectionEnabled(){return!this.selection.disabled}enableSelection(){return this.selection.enable(),this}disableSelection(){return this.selection.disable(),this}toggleSelection(e){return e!=null?e!==this.isSelectionEnabled()&&(e?this.enableSelection():this.disableSelection()):this.isSelectionEnabled()?this.disableSelection():this.enableSelection(),this}isMultipleSelection(){return this.selection.isMultiple()}enableMultipleSelection(){return this.selection.enableMultiple(),this}disableMultipleSelection(){return this.selection.disableMultiple(),this}toggleMultipleSelection(e){return e!=null?e!==this.isMultipleSelection()&&(e?this.enableMultipleSelection():this.disableMultipleSelection()):this.isMultipleSelection()?this.disableMultipleSelection():this.enableMultipleSelection(),this}isSelectionMovable(){return this.selection.widget.options.movable!==!1}enableSelectionMovable(){return this.selection.widget.options.movable=!0,this}disableSelectionMovable(){return this.selection.widget.options.movable=!1,this}toggleSelectionMovable(e){return e!=null?e!==this.isSelectionMovable()&&(e?this.enableSelectionMovable():this.disableSelectionMovable()):this.isSelectionMovable()?this.disableSelectionMovable():this.enableSelectionMovable(),this}isRubberbandEnabled(){return!this.selection.rubberbandDisabled}enableRubberband(){return this.selection.enableRubberband(),this}disableRubberband(){return this.selection.disableRubberband(),this}toggleRubberband(e){return e!=null?e!==this.isRubberbandEnabled()&&(e?this.enableRubberband():this.disableRubberband()):this.isRubberbandEnabled()?this.disableRubberband():this.enableRubberband(),this}isStrictRubberband(){return this.selection.widget.options.strict===!0}enableStrictRubberband(){return this.selection.widget.options.strict=!0,this}disableStrictRubberband(){return this.selection.widget.options.strict=!1,this}toggleStrictRubberband(e){return e!=null?e!==this.isStrictRubberband()&&(e?this.enableStrictRubberband():this.disableStrictRubberband()):this.isStrictRubberband()?this.disableStrictRubberband():this.enableStrictRubberband(),this}setRubberbandModifiers(e){this.selection.setModifiers(e)}setSelectionFilter(e){return this.selection.setFilter(e),this}setSelectionDisplayContent(e){return this.selection.setContent(e),this}isSelectionEmpty(){return this.selection.isEmpty()}cleanSelection(e){return this.selection.clean(e),this}resetSelection(e,t){return this.selection.reset(e,t),this}getSelectedCells(){return this.selection.cells}getSelectedCellCount(){return this.selection.length}isSelected(e){return this.selection.isSelected(e)}select(e,t){return this.selection.select(e,t),this}unselect(e,t){return this.selection.unselect(e,t),this}isSnaplineEnabled(){return!this.snapline.widget.disabled}enableSnapline(){return this.snapline.widget.enable(),this}disableSnapline(){return this.snapline.widget.disable(),this}toggleSnapline(e){if(e!=null)e!==this.isSnaplineEnabled()&&(e?this.enableSnapline():this.disableSnapline());else return this.isSnaplineEnabled()?this.disableSnapline():this.enableSnapline(),this}hideSnapline(){return this.snapline.widget.hide(),this}setSnaplineFilter(e){return this.snapline.widget.setFilter(e),this}isSnaplineOnResizingEnabled(){return this.snapline.widget.options.resizing===!0}enableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!0,this}disableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!1,this}toggleSnaplineOnResizing(e){return e!=null?e!==this.isSnaplineOnResizingEnabled()&&(e?this.enableSnaplineOnResizing():this.disableSnaplineOnResizing()):this.isSnaplineOnResizingEnabled()?this.disableSnaplineOnResizing():this.enableSnaplineOnResizing(),this}isSharpSnapline(){return this.snapline.widget.options.sharp===!0}enableSharpSnapline(){return this.snapline.widget.options.sharp=!0,this}disableSharpSnapline(){return this.snapline.widget.options.sharp=!1,this}toggleSharpSnapline(e){return e!=null?e!==this.isSharpSnapline()&&(e?this.enableSharpSnapline():this.disableSharpSnapline()):this.isSharpSnapline()?this.disableSharpSnapline():this.enableSharpSnapline(),this}getSnaplineTolerance(){return this.snapline.widget.options.tolerance}setSnaplineTolerance(e){return this.snapline.widget.options.tolerance=e,this}removeTools(){return this.emit("tools:remove"),this}hideTools(){return this.emit("tools:hide"),this}showTools(){return this.emit("tools:show"),this}toSVG(e,t={}){this.format.toSVG(e,t)}toDataURL(e,t){this.format.toDataURL(e,t)}toPNG(e,t={}){this.format.toPNG(e,t)}toJPEG(e,t={}){this.format.toJPEG(e,t)}printPreview(e){this.print.show(e)}dispose(){this.clearCells(),this.off(),this.css.dispose(),this.hook.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.knob.dispose(),this.highlight.dispose(),this.background.dispose(),this.clipboard.dispose(),this.snapline.dispose(),this.selection.dispose(),this.history.dispose(),this.keyboard.dispose(),this.mousewheel.dispose(),this.print.dispose(),this.format.dispose(),this.minimap.dispose(),this.panning.dispose(),this.scroller.dispose(),this.view.dispose(),this.renderer.dispose(),this.size.dispose()}}Kg([Lp.checkScroller()],il.prototype,"lockScroller",null),Kg([Lp.checkScroller()],il.prototype,"unlockScroller",null),Kg([Lp.checkScroller()],il.prototype,"updateScroller",null),Kg([Lp.checkScroller()],il.prototype,"getScrollbarPosition",null),Kg([Lp.checkScroller()],il.prototype,"setScrollbarPosition",null),Kg([Lp.checkScroller()],il.prototype,"scrollToPoint",null),Kg([Lp.checkScroller()],il.prototype,"scrollToContent",null),Kg([Lp.checkScroller()],il.prototype,"scrollToCell",null),Kg([Lp.checkScroller()],il.prototype,"transitionToPoint",null),Kg([Lp.checkScroller()],il.prototype,"transitionToRect",null),Kg([xf.dispose()],il.prototype,"dispose",null),function(a){a.View=$g,a.Hook=ka,a.Renderer=rl,a.Keyboard=a2,a.MouseWheel=qE,a.BaseManager=Ml,a.DefsManager=QS,a.GridManager=$E,a.CoordManager=eA,a.PrintManager=l2,a.FormatManager=nA,a.MiniMapManager=JE,a.HistoryManager=s2,a.SnaplineManager=HE,a.ScrollerManager=KE,a.ClipboardManager=XE,a.TransformManager=yE,a.HighlightManager=vE,a.BackgroundManager=mE,a.SelectionManager=YE}(il||(il={})),function(a){a.toStringTag=`X6.${a.name}`;function e(t){if(t==null)return!1;if(t instanceof a)return!0;const r=t[Symbol.toStringTag],s=t;return(r==null||r===a.toStringTag)&&s.hook!=null&&s.view!=null&&s.model!=null}a.isGraph=e}(il||(il={})),function(a){function e(t,r){const s=t instanceof HTMLElement?new a({container:t}):new a(t);return r!=null&&s.fromJSON(r),s}a.render=e}(il||(il={})),function(a){a.registerNode=lc.registry.register,a.registerEdge=ql.registry.register,a.registerView=dc.registry.register,a.registerAttr=Ug.registry.register,a.registerGrid=Nv.registry.register,a.registerFilter=K1.registry.register,a.registerNodeTool=Q1.registry.register,a.registerEdgeTool=e2.registry.register,a.registerBackground=Gx.registry.register,a.registerHighlighter=f0.registry.register,a.registerPortLayout=Mb.registry.register,a.registerPortLabelLayout=X1.registry.register,a.registerMarker=va.registry.register,a.registerRouter=Lv.registry.register,a.registerConnector=Ib.registry.register,a.registerAnchor=t2.registry.register,a.registerEdgeAnchor=n2.registry.register,a.registerConnectionPoint=r2.registry.register,a.registerConnectionStrategy=q1.registry.register,a.registerHTMLComponent=p0.componentRegistry.register}(il||(il={})),function(a){a.unregisterNode=lc.registry.unregister,a.unregisterEdge=ql.registry.unregister,a.unregisterView=dc.registry.unregister,a.unregisterAttr=Ug.registry.unregister,a.unregisterGrid=Nv.registry.unregister,a.unregisterFilter=K1.registry.unregister,a.unregisterNodeTool=Q1.registry.unregister,a.unregisterEdgeTool=e2.registry.unregister,a.unregisterBackground=Gx.registry.unregister,a.unregisterHighlighter=f0.registry.unregister,a.unregisterPortLayout=Mb.registry.unregister,a.unregisterPortLabelLayout=X1.registry.unregister,a.unregisterMarker=va.registry.unregister,a.unregisterRouter=Lv.registry.unregister,a.unregisterConnector=Ib.registry.unregister,a.unregisterAnchor=t2.registry.unregister,a.unregisterEdgeAnchor=n2.registry.unregister,a.unregisterConnectionPoint=r2.registry.unregister,a.unregisterConnectionStrategy=q1.registry.unregister,a.unregisterHTMLComponent=p0.componentRegistry.unregister}(il||(il={}));class eT{constructor(){this.cells=[]}copy(e,t,r={}){this.options=Object.assign({},r);const h=(Cf.isModel(t)?t:t.model).cloneSubGraph(e,r);this.cells=Zi(Object.keys(h).map(g=>h[g]),g=>g.isEdge()?2:1),this.serialize(r)}cut(e,t,r={}){this.copy(e,t,r),(il.isGraph(t)?t.model:t).batchUpdate("cut",()=>{e.forEach(h=>h.remove())})}paste(e,t={}){const r=Object.assign(Object.assign({},this.options),t),{offset:s,edgeProps:h,nodeProps:g}=r;let y=20,E=20;s&&(y=typeof s=="number"?s:s.dx,E=typeof s=="number"?s:s.dy),this.deserialize(r);const D=this.cells;D.forEach($=>{$.model=null,$.removeProp("zIndex"),(y||E)&&$.translate(y,E),g&&$.isNode()&&$.prop(g),h&&$.isEdge()&&$.prop(h)});const V=il.isGraph(e)?e.model:e;return V.batchUpdate("paste",()=>{V.addCells(this.cells)}),this.copy(D,e,t),D}serialize(e){e.useLocalStorage!==!1&&yw.save(this.cells)}deserialize(e){if(e.useLocalStorage){const t=yw.fetch();t&&(this.cells=t)}}isEmpty(){return this.cells.length<=0}clean(){this.options={},this.cells=[],yw.clean()}}var yw;(function(a){const e=`${_d.prefixCls}.clipboard.cells`;function t(h){if(window.localStorage){const g=h.map(y=>y.toJSON());localStorage.setItem(e,JSON.stringify(g))}}a.save=t;function r(){if(window.localStorage){const h=localStorage.getItem(e),g=h?JSON.parse(h):[];if(g)return Cf.fromJSON(g)}}a.fetch=r;function s(){window.localStorage&&localStorage.removeItem(e)}a.clean=s})(yw||(yw={}));class tT{constructor(e){this.halo=e}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get node(){return this.cell}getPresets(){return{className:"type-node",handles:[{name:"remove",position:"nw",events:{mousedown:this.removeCell.bind(this)},icon:null},{name:"resize",position:"se",events:{mousedown:this.startResize.bind(this),mousemove:this.doResize.bind(this),mouseup:this.stopResize.bind(this)},icon:null},{name:"clone",position:"n",events:{mousedown:this.startClone.bind(this),mousemove:this.doClone.bind(this),mouseup:this.stopClone.bind(this)},icon:null},{name:"link",position:"e",events:{mousedown:this.startLink.bind(this),mousemove:this.doLink.bind(this),mouseup:this.stopLink.bind(this)},icon:null},{name:"fork",position:"ne",events:{mousedown:this.startFork.bind(this),mousemove:this.doFork.bind(this),mouseup:this.stopFork.bind(this)},icon:null},{name:"unlink",position:"w",events:{mousedown:this.unlink.bind(this)},icon:null},{name:"rotate",position:"sw",events:{mousedown:this.startRotate.bind(this),mousemove:this.doRotate.bind(this),mouseup:this.stopRotate.bind(this)},icon:null}],bbox(e){return this.options.useCellGeometry?e.cell.getBBox():e.getBBox()},content(e){const t=yp("x: <%= x %>, y: <%= y %>, width: <%= width %>, height: <%= height %>, angle: <%= angle %>"),r=e.cell,s=r.getBBox();return t({x:Math.floor(s.x),y:Math.floor(s.y),width:Math.floor(s.width),height:Math.floor(s.height),angle:Math.floor(r.getAngle())})},magnet(e){return e.container},tinyThreshold:40,smallThreshold:80,loopEdgePreferredSide:"top",loopEdgeWidth:40,rotateGrid:15,rotateEmbeds:!1}}removeCell(){this.model.removeConnectedEdges(this.cell),this.cell.remove()}startLink({x:e,y:t}){this.halo.startBatch();const r=this.graph,s=this.createEdgeConnectedToSource();s.setTarget({x:e,y:t}),this.model.addEdge(s,{validation:!1,halo:this.halo.cid,async:!1}),r.view.undelegateEvents(),this.edgeView=r.renderer.findViewByCell(s),this.edgeView.prepareArrowheadDragging("target",{x:e,y:t,fallbackAction:"remove"})}createEdgeConnectedToSource(){const e=this.getMagnet(this.view,"source"),t=this.getEdgeTerminal(this.view,e),r=this.graph.hook.getDefaultEdge(this.view,e);return r.setSource(t),r}getMagnet(e,t){const r=this.options.magnet;if(typeof r=="function"){const s=fs(r,this.halo,e,t);if(s instanceof SVGElement)return s}throw new Error("`magnet()` has to return an SVGElement")}getEdgeTerminal(e,t){const r={cell:e.cell.id};if(t!==e.container){const s=t.getAttribute("port");s?r.port=s:r.selector=e.getSelector(t)}return r}doLink({e,x:t,y:r}){this.edgeView&&this.edgeView.onMouseMove(e,t,r)}stopLink({e,x:t,y:r}){const s=this.edgeView;if(s){s.onMouseUp(e,t,r);const h=s.cell;h.hasLoop()&&this.makeLoopEdge(h),this.halo.stopBatch(),this.halo.trigger("action:edge:addde",{edge:h}),this.edgeView=null}this.graph.view.delegateEvents()}makeLoopEdge(e){let t=null,r=null;const s=this.options.loopEdgeWidth,h=this.graph.options,g=new Ao(0,0,h.width,h.height),y=this.graph.graphToLocal(this.view.getBBox());[this.options.loopEdgePreferredSide,"top","bottom","left","right"].some(D=>{let V=null,$=0,J=0;switch(D){case"top":V=new Fn(y.x+y.width/2,y.y-s),$=s/2;break;case"bottom":V=new Fn(y.x+y.width/2,y.y+y.height+s),$=s/2;break;case"left":V=new Fn(y.x-s,y.y+y.height/2),J=s/2;break;case"right":V=new Fn(y.x+y.width+s,y.y+y.height/2),J=s/2;break;default:break}return V?(t=V.translate(-$,-J),r=V.translate($,J),g.containsPoint(t)&&g.containsPoint(r)):!1})&&t&&r&&e.setVertices([t,r])}startResize({e}){this.halo.startBatch(),this.flip=[1,0,0,1,1,0,0,1][Math.floor(wa.normalize(this.node.getAngle())/45)],this.view.addClass("node-resizing"),vu("node:resize",e,this.view)}doResize({e,dx:t,dy:r}){const s=this.node.getSize(),h=Math.max(s.width+(this.flip?t:r),1),g=Math.max(s.height+(this.flip?r:t),1);this.node.resize(h,g,{absolute:!0}),vu("node:resizing",e,this.view)}stopResize({e}){this.view.removeClass("node-resizing"),vu("node:resized",e,this.view),this.halo.stopBatch()}startClone({e,x:t,y:r}){this.halo.startBatch();const h=this.options.clone(this.cell,{clone:!0});if(!Na.isCell(h))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(h,t,r),this.model.addCell(h,{halo:this.halo.cid,async:!1});const g=this.graph.renderer.findViewByCell(h);g.onMouseDown(e,t,r),this.halo.setEventData(e,{cloneView:g})}centerNodeAtCursor(e,t,r){const s=e.getBBox().getCenter(),h=t-s.x,g=r-s.y;e.translate(h,g)}doClone({e,x:t,y:r}){const s=this.halo.getEventData(e).cloneView;s&&s.onMouseMove(e,t,r)}stopClone({e,x:t,y:r}){const s=this.halo.getEventData(e).cloneView;s&&s.onMouseUp(e,t,r),this.halo.stopBatch()}startFork({e,x:t,y:r}){this.halo.startBatch();const s=this.options.clone(this.cell,{fork:!0});if(!Na.isCell(s))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(s,t,r),this.model.addCell(s,{halo:this.halo.cid,async:!1});const h=this.createEdgeConnectedToSource(),g=this.graph.renderer.findViewByCell(s),y=this.getMagnet(g,"target"),E=this.getEdgeTerminal(g,y);h.setTarget(E),this.model.addEdge(h,{halo:this.halo.cid,async:!1}),g.onMouseDown(e,t,r),this.halo.setEventData(e,{cloneView:g})}doFork({e,x:t,y:r}){const s=this.halo.getEventData(e).cloneView;s&&s.onMouseMove(e,t,r)}stopFork({e,x:t,y:r}){const s=this.halo.getEventData(e).cloneView;s&&s.onMouseUp(e,t,r),this.halo.stopBatch()}startRotate({e,x:t,y:r}){this.halo.startBatch();const s=this.node.getBBox().getCenter(),h=[this.node];this.options.rotateEmbeds&&this.node.getDescendants({deep:!0}).reduce((g,y)=>(y.isNode()&&g.push(y),g),h),this.halo.setEventData(e,{center:s,nodes:h,rotateStartAngles:h.map(g=>g.getAngle()),clientStartAngle:new Fn(t,r).theta(s)}),h.forEach(g=>{const y=this.graph.findViewByCell(g);y&&(y.addClass("node-rotating"),vu("node:rotate",e,y))})}doRotate({e,x:t,y:r}){const s=this.halo.getEventData(e),h=s.clientStartAngle-new Fn(t,r).theta(s.center);s.nodes.forEach((g,y)=>{const E=s.rotateStartAngles[y],D=Fc.snapToGrid(E+h,this.options.rotateGrid);g.rotate(D,{absolute:!0,center:s.center,halo:this.halo.cid}),vu("node:rotating",e,this.graph.findViewByCell(g))})}stopRotate({e}){this.halo.getEventData(e).nodes.forEach(r=>{const s=this.graph.findViewByCell(r);s.removeClass("node-rotating"),vu("node:rotated",e,s)}),this.halo.stopBatch()}unlink(){this.halo.startBatch(),this.model.removeConnectedEdges(this.cell),this.halo.stopBatch()}}class nT{constructor(e){this.halo=e}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get edge(){return this.cell}getPresets(){return{className:"type-edge",handles:[{name:"remove",position:"nw",icon:null,events:{mousedown:this.removeEdge.bind(this)}},{name:"direction",position:"se",icon:null,events:{mousedown:this.directionSwap.bind(this)}}],content:!1,bbox(e){return e.graph.localToGraph(e.getPointAtRatio(.5))},tinyThreshold:-1,smallThreshold:-1}}removeEdge(){this.cell.remove()}directionSwap(){const e=this.edge.getSource(),t=this.edge.getTarget();this.edge.prop({source:t,target:e})}}class bw extends mw{get type(){return this.options.type||"surround"}get handleOptions(){return this.options}init(e){this.options=La(bw.defaultOptions,this.cell.isNode()?new tT(this).getPresets():this.cell.isEdge()?new nT(this).getPresets():null,e),this.render(),this.initHandles(),this.update(),this.startListening()}startListening(){const e=this.model,t=this.graph;this.view.cell.on("removed",this.remove,this),e.on("reseted",this.remove,this),t.on("halo:destroy",this.remove,this),e.on("*",this.update,this),t.on("scale",this.update,this),t.on("translate",this.update,this),super.startListening()}stopListening(){const e=this.model,t=this.graph,r=this.view.cell;this.undelegateEvents(),r.off("removed",this.remove,this),e.off("reseted",this.remove,this),t.off("halo:destroy",this.remove,this),e.off("*",this.update,this),t.off("scale",this.update,this),t.off("translate",this.update,this),super.stopListening()}render(){const e=this.options,t=this.prefixClassName("widget-halo");return this.view.addClass(bE.NODE_CLS),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(t).attr("data-shape",this.view.cell.shape),e.className&&this.$container.addClass(e.className),this.$handleContainer=this.$("<div/>").addClass(`${t}-handles`).appendTo(this.container),this.$content=this.$("<div/>").addClass(`${t}-content`).appendTo(this.container),this.$container.appendTo(this.graph.container),this}remove(){return this.stopBatch(),this.view.removeClass(bE.NODE_CLS),super.remove()}update(){if(this.isRendered()){this.updateContent();const e=this.getBBox(),t=this.options.tinyThreshold||0,r=this.options.smallThreshold||0;this.$handleContainer.toggleClass(`${this.handleClassName}-tiny`,e.width<t&&e.height<t);const s=`${this.handleClassName}-small`;this.$handleContainer.toggleClass(s,!this.$handleContainer.hasClass(s)&&e.width<r&&e.height<r),this.$container.css({width:e.width,height:e.height,left:e.x,top:e.y}),this.hasHandle("unlink")&&this.toggleUnlink(),(this.type==="surround"||this.type==="toolbar")&&this.hasHandle("fork")&&this.toggleFork()}}updateContent(){const e=this.options.content;if(typeof e=="function"){const t=fs(e,this,this.view,this.$content[0]);t&&this.$content.html(t)}else e?this.$content.html(e):this.$content.remove()}getBBox(){const e=this.view,t=this.options.bbox,r=typeof t=="function"?fs(t,this,e):t;return Ao.create(Object.assign({x:0,y:0,width:1,height:1},r))}removeCell(){this.cell.remove()}toggleFork(){const e=this.view.cell.clone(),t=this.graph.hook.createCellView(e),r=this.graph.hook.validateConnection(this.view,null,t,null,"target");this.$handleContainer.children(".fork").toggleClass("hidden",!r),t.remove()}toggleUnlink(){const e=this.model.getConnectedEdges(this.view.cell).length>0;this.$handleContainer.children(".unlink").toggleClass("hidden",!e)}startBatch(){this.model.startBatch("halo",{halo:this.cid})}stopBatch(){this.model.hasActiveBatch("halo")&&this.model.stopBatch("halo",{halo:this.cid})}}(function(a){a.defaultOptions={type:"surround",clearAll:!0,clearOnBlankMouseDown:!0,useCellGeometry:!1,clone:e=>e.clone().removeZIndex()}})(bw||(bw={})),Object.getOwnPropertyNames(i2.prototype).forEach(a=>{a!=="constructor"&&Object.defineProperty(bw.prototype,a,Object.getOwnPropertyDescriptor(i2.prototype,a))});var bE;(function(a){a.NODE_CLS="has-widget-halo"})(bE||(bE={}));var rT=function(a,e,t,r){var s=arguments.length,h=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,e,t,r);else for(var y=a.length-1;y>=0;y--)(g=a[y])&&(h=(s<3?g(h):s>3?g(e,t,h):g(e,t))||h);return s>3&&h&&Object.defineProperty(e,t,h),h};class zv extends za{constructor(e){super(),this.options=Object.assign(Object.assign({},zv.defaults),e),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName("widget-dnd")),this.draggingGraph=new il(Object.assign(Object.assign({},this.options.delegateGraphOptions),{container:document.createElement("div"),width:1,height:1})),this.$container.append(this.draggingGraph.container)}get targetScroller(){const e=this.options.target;return il.isGraph(e)?e.scroller.widget:e}get targetGraph(){const e=this.options.target;return il.isGraph(e)?e:e.graph}get targetModel(){return this.targetGraph.model}get snapline(){return this.targetGraph.snapline.widget}start(e,t){const r=t;r.preventDefault(),this.targetModel.startBatch("dnd"),this.$container.addClass("dragging").appendTo(this.options.draggingContainer||document.body),this.sourceNode=e,this.prepareDragging(e,r.clientX,r.clientY);const s=this.updateNodePosition(r.clientX,r.clientY);this.isSnaplineEnabled()&&(this.snapline.captureCursorOffset({e:r,node:e,cell:e,view:this.draggingView,x:s.x,y:s.y}),this.draggingNode.on("change:position",this.snap,this)),this.delegateDocumentEvents(zv.documentEvents,r.data)}isSnaplineEnabled(){return this.snapline&&!this.snapline.disabled}prepareDragging(e,t,r){const s=this.draggingGraph,h=s.model,g=this.options.getDragNode(e,{sourceNode:e,draggingGraph:s,targetGraph:this.targetGraph});g.position(0,0);let y=5;if(this.isSnaplineEnabled()&&(y+=this.snapline.options.tolerance||0),this.isSnaplineEnabled()||this.options.scaled){const V=this.targetGraph.transform.getScale();s.scale(V.sx,V.sy),y*=Math.max(V.sx,V.sy)}else s.scale(1,1);this.clearDragging(),this.options.animation&&this.$container.stop(!0,!0),h.resetCells([g]);const E=s.findViewByCell(g);E.undelegateEvents(),E.cell.off("changed"),s.fitToContent({padding:y,allowNewOrigin:"any"});const D=E.getBBox();this.geometryBBox=E.getBBox({useCellGeometry:!0}),this.delta=this.geometryBBox.getTopLeft().diff(D.getTopLeft()),this.draggingNode=g,this.draggingView=E,this.draggingBBox=g.getBBox(),this.padding=y,this.originOffset=this.updateGraphPosition(t,r)}updateGraphPosition(e,t){const r=document.body.scrollTop||document.documentElement.scrollTop,s=this.delta,h=this.geometryBBox,g=this.padding||5,y={left:e-s.x-h.width/2-g,top:t-s.y-h.height/2-g+r};return this.draggingGraph&&this.$container.offset(y),y}updateNodePosition(e,t){const r=this.targetGraph.clientToLocal(e,t),s=this.draggingBBox;return r.x-=s.width/2,r.y-=s.height/2,this.draggingNode.position(r.x,r.y),r}snap({cell:e,current:t,options:r}){const s=e;if(r.snapped){const h=this.draggingBBox;s.position(h.x+r.tx,h.y+r.ty,{silent:!0}),this.draggingView.translate(),s.position(t.x,t.y,{silent:!0}),this.snapOffset={x:r.tx,y:r.ty}}else this.snapOffset=null}onDragging(e){const t=this.draggingView;if(t){e.preventDefault();const r=this.normalizeEvent(e),s=r.clientX,h=r.clientY;this.updateGraphPosition(s,h);const g=this.updateNodePosition(s,h),y=this.targetGraph.options.embedding.enabled,E=(y||this.isSnaplineEnabled())&&this.isInsideValidArea({x:s,y:h});if(y){t.setEventData(r,{graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView});const D=t.getEventData(r);E?t.processEmbedding(r,D):t.clearEmbedding(D),this.candidateEmbedView=D.candidateEmbedView}this.isSnaplineEnabled()&&(E?this.snapline.snapOnMoving({e:r,view:t,x:g.x,y:g.y}):this.snapline.hide())}}onDragEnd(e){const t=this.draggingNode;if(t){const r=this.normalizeEvent(e),s=this.draggingView,h=this.draggingBBox,g=this.snapOffset;let y=h.x,E=h.y;g&&(y+=g.x,E+=g.y),t.position(y,E,{silent:!0});const D=this.drop(t,{x:r.clientX,y:r.clientY}),V=$=>{$?(this.onDropped(t),this.targetGraph.options.embedding.enabled&&s&&(s.setEventData(r,{cell:$,graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView}),s.finalizeEmbedding(r,s.getEventData(r)))):this.onDropInvalid(),this.candidateEmbedView=null,this.targetModel.stopBatch("dnd")};Ep(D)?(this.undelegateDocumentEvents(),D.then(V)):V(D)}}clearDragging(){this.draggingNode&&(this.sourceNode=null,this.draggingNode.remove(),this.draggingNode=null,this.draggingView=null,this.delta=null,this.padding=null,this.snapOffset=null,this.originOffset=null,this.undelegateDocumentEvents())}onDropped(e){this.draggingNode===e&&(this.clearDragging(),this.$container.removeClass("dragging").remove())}onDropInvalid(){const e=this.draggingNode;if(e){const t=this.options.animation;if(t){const r=typeof t=="object"&&t.duration||150,s=typeof t=="object"&&t.easing||"swing";this.draggingView=null,this.$container.animate(this.originOffset,r,s,()=>this.onDropped(e))}else this.onDropped(e)}}isInsideValidArea(e){let t,r=null;const s=this.targetGraph,h=this.targetScroller;this.options.dndContainer&&(r=this.getDropArea(this.options.dndContainer));const g=r&&r.containsPoint(e);if(h)if(h.options.autoResize)t=this.getDropArea(h.container);else{const y=this.getDropArea(h.container);t=this.getDropArea(s.container).intersectsWithRect(y)}else t=this.getDropArea(s.container);return!g&&t&&t.containsPoint(e)}getDropArea(e){const t=this.$(e),r=t.offset(),s=document.body.scrollTop||document.documentElement.scrollTop,h=document.body.scrollLeft||document.documentElement.scrollLeft;return Ao.create({x:r.left+parseInt(t.css("border-left-width"),10)-h,y:r.top+parseInt(t.css("border-top-width"),10)-s,width:t.innerWidth(),height:t.innerHeight()})}drop(e,t){if(this.isInsideValidArea(t)){const r=this.targetGraph,s=r.model,h=r.clientToLocal(t),g=this.sourceNode,y=this.options.getDropNode(e,{sourceNode:g,draggingNode:e,targetGraph:this.targetGraph,draggingGraph:this.draggingGraph}),E=y.getBBox();h.x+=E.x-E.width/2,h.y+=E.y-E.height/2;const D=this.snapOffset?1:r.getGridSize();y.position(Fc.snapToGrid(h.x,D),Fc.snapToGrid(h.y,D)),y.removeZIndex();const V=this.options.validateNode,$=V?V(y,{sourceNode:g,draggingNode:e,droppingNode:y,targetGraph:r,draggingGraph:this.draggingGraph}):!0;return typeof $=="boolean"?$?(s.addCell(y,{stencil:this.cid}),y):null:BC($).then(J=>J?(s.addCell(y,{stencil:this.cid}),y):null)}return null}onRemove(){this.draggingGraph&&(this.draggingGraph.view.remove(),this.draggingGraph.dispose())}dispose(){this.remove()}}rT([za.dispose()],zv.prototype,"dispose",null),function(a){a.defaults={animation:!1,getDragNode:e=>e.clone(),getDropNode:e=>e.clone()},a.documentEvents={mousemove:"onDragging",touchmove:"onDragging",mouseup:"onDragEnd",touchend:"onDragEnd",touchcancel:"onDragEnd"}}(zv||(zv={}));function iT(a,e={}){const t=Cf.isModel(a)?a:new Cf().resetCells(a,{sort:!1,dryrun:!0}),r=t.getNodes(),s=e.columns||1,h=Math.ceil(r.length/s),g=e.dx||0,y=e.dy||0,E=e.center!==!1,D=e.resizeToFit===!0,V=e.marginX||0,$=e.marginY||0,J=[];let de=e.columnWidth;if(de==="compact")for(let fn=0;fn<s;fn+=1){const Xt=g0.getNodesInColumn(r,fn,s);J.push(g0.getMaxDim(Xt,"width")+g)}else{(de==null||de==="auto")&&(de=g0.getMaxDim(r,"width")+g);for(let fn=0;fn<s;fn+=1)J.push(de)}const Ge=g0.accumulate(J,V),Qe=[];let xt=e.rowHeight;if(xt==="compact")for(let fn=0;fn<h;fn+=1){const Xt=g0.getNodesInRow(r,fn,s);Qe.push(g0.getMaxDim(Xt,"height")+y)}else{(xt==null||xt==="auto")&&(xt=g0.getMaxDim(r,"height")+y);for(let fn=0;fn<h;fn+=1)Qe.push(xt)}const Yt=g0.accumulate(Qe,$);t.startBatch("layout"),r.forEach((fn,Xt)=>{const zn=Xt%s,xr=Math.floor(Xt/s),Jr=J[zn],fi=Qe[xr];let Gi=0,zo=0,vo=fn.getSize();if(D){let Eo=Jr-2*g,$o=fi-2*y;const na=vo.height*(vo.width?Eo/vo.width:1),la=vo.width*(vo.height?$o/vo.height:1);fi<na?Eo=la:$o=na,vo={width:Eo,height:$o},fn.setSize(vo,e)}E&&(Gi=(Jr-vo.width)/2,zo=(fi-vo.height)/2),fn.position(Ge[zn]+g+Gi,Yt[xr]+y+zo,e)}),t.stopBatch("layout")}var g0;(function(a){function e(h,g){return h.reduce((y,E)=>Math.max(E.getSize()[g],y),0)}a.getMaxDim=e;function t(h,g,y){const E=[];for(let D=y*g,V=D+y;D<V;D+=1)E.push(h[D]);return E}a.getNodesInRow=t;function r(h,g,y){const E=[];for(let D=g,V=h.length;D<V;D+=y)E.push(h[D]);return E}a.getNodesInColumn=r;function s(h,g){return h.reduce((y,E,D)=>(y.push(y[D]+E),y),[g||0])}a.accumulate=s})(g0||(g0={}));class xE extends za{constructor(e){super(),this.graphs={},this.$groups={},this.options=Object.assign(Object.assign({},xE.defaultOptions),e),this.dnd=new zv(this.options),this.onSearch=D1(this.onSearch,200),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(id.base)).attr("data-not-found-text",this.options.notFoundText||"No matches found"),this.options.collapsable=e.collapsable&&e.groups&&e.groups.some(r=>r.collapsable!==!1),this.options.collapsable&&(this.$container.addClass("collapsable"),e.groups&&e.groups.every(s=>s.collapsed||s.collapsable===!1)&&this.$container.addClass("collapsed")),this.$("<div/>").addClass(this.prefixClassName(id.title)).html(this.options.title).appendTo(this.$container),e.search&&this.$container.addClass("searchable").append(this.renderSearch()),this.$content=this.$("<div/>").addClass(this.prefixClassName(id.content)).appendTo(this.$container);const t=e.stencilGraphOptions||{};if(e.groups&&e.groups.length)e.groups.forEach(r=>{const s=this.$("<div/>").addClass(this.prefixClassName(id.group)).attr("data-name",r.name);(r.collapsable==null&&e.collapsable||r.collapsable!==!1)&&s.addClass("collapsable"),s.toggleClass("collapsed",r.collapsed===!0);const h=this.$("<h3/>").addClass(this.prefixClassName(id.groupTitle)).html(r.title||r.name),g=this.$("<div/>").addClass(this.prefixClassName(id.groupContent)),y=r.graphOptions,E=new il(Object.assign(Object.assign(Object.assign({},t),y),{container:document.createElement("div"),model:t.model||new Cf,width:r.graphWidth||e.stencilGraphWidth,height:r.graphHeight||e.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));g.append(E.container),s.append(h,g).appendTo(this.$content),this.$groups[r.name]=s,this.graphs[r.name]=E});else{const r=new il(Object.assign(Object.assign({},t),{container:document.createElement("div"),model:t.model||new Cf,width:e.stencilGraphWidth,height:e.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));this.$content.append(r.container),this.graphs[xw.defaultGroupName]=r}return this.startListening(),this}get targetScroller(){const e=this.options.target;return il.isGraph(e)?e.scroller.widget:e}get targetGraph(){const e=this.options.target;return il.isGraph(e)?e:e.graph}get targetModel(){return this.targetGraph.model}renderSearch(){return this.$("<div/>").addClass(this.prefixClassName(id.search)).append(this.$("<input/>").attr({type:"search",placeholder:this.options.placeholder||"Search"}).addClass(this.prefixClassName(id.searchText)))}startListening(){const e=this.prefixClassName(id.title),t=this.prefixClassName(id.searchText),r=this.prefixClassName(id.groupTitle);this.delegateEvents({[`click .${e}`]:"onTitleClick",[`touchstart .${e}`]:"onTitleClick",[`click .${r}`]:"onGroupTitleClick",[`touchstart .${r}`]:"onGroupTitleClick",[`input .${t}`]:"onSearch",[`focusin .${t}`]:"onSearchFocusIn",[`focusout .${t}`]:"onSearchFocusOut"}),Object.keys(this.graphs).forEach(s=>{this.graphs[s].on("cell:mousedown",this.onDragStart,this)})}stopListening(){this.undelegateEvents(),Object.keys(this.graphs).forEach(e=>{this.graphs[e].off("cell:mousedown",this.onDragStart,this)})}load(e,t){return Array.isArray(e)?this.loadGroup(e,t):this.options.groups&&Object.keys(this.options.groups).forEach(r=>{e[r]&&this.loadGroup(e[r],r)}),this}loadGroup(e,t){const r=this.getModel(t);if(r){const y=e.map(E=>lc.isNode(E)?E:lc.create(E));r.resetCells(y)}const s=this.getGroup(t);let h=this.options.stencilGraphHeight;s&&s.graphHeight!=null&&(h=s.graphHeight);const g=s&&s.layout||this.options.layout;if(g&&r&&fs(g,this,r,s),!h){const y=this.getGraph(t);y.fitToContent({minWidth:y.options.width,gridHeight:1,padding:s&&s.graphPadding||this.options.stencilGraphPadding||10})}return this}onDragStart(e){const{e:t,node:r}=e;this.dnd.start(r,t)}filter(e,t){const r=Object.keys(this.graphs).reduce((s,h)=>{const g=this.graphs[h],y=h===xw.defaultGroupName?null:h,E=g.model.getNodes().filter(J=>{let de=!1;typeof t=="function"?de=fs(t,this,J,e,y,this):typeof t=="boolean"?de=t:de=this.isCellMatched(J,e,t,e.toLowerCase()!==e);const Ge=g.renderer.findViewByCell(J);return Ge&&Ge.$(Ge.container).toggleClass("unmatched",!de),de}),D=E.length>0,V=this.options,$=new Cf;return $.resetCells(E),V.layout&&fs(V.layout,this,$,this.getGroup(h)),this.$groups[h]&&this.$groups[h].toggleClass("unmatched",!D),g.fitToContent({gridWidth:1,gridHeight:1,padding:V.stencilGraphPadding||10}),s||D},!1);this.$container.toggleClass("not-found",!r)}isCellMatched(e,t,r,s){return t&&r?Object.keys(r).some(h=>{if(h==="*"||e.shape===h){const g=r[h];return typeof g=="boolean"?g:(Array.isArray(g)?g:[g]).some(E=>{let D=e.getPropByPath(E);return D!=null?(D=`${D}`,s||(D=D.toLowerCase()),D.indexOf(t)>=0):!1})}return!1}):!0}onSearch(e){this.filter(e.target.value,this.options.search)}onSearchFocusIn(){this.$container.addClass("is-focused")}onSearchFocusOut(){this.$container.removeClass("is-focused")}onTitleClick(){this.options.collapsable&&(this.$container.toggleClass("collapsed"),this.$container.hasClass("collapsed")?this.collapseGroups():this.expandGroups())}onGroupTitleClick(e){const t=this.$(e.target).closest(`.${this.prefixClassName(id.group)}`);this.toggleGroup(t.attr("data-name")||"");const r=Object.keys(this.$groups).every(s=>{const h=this.getGroup(s),g=this.$groups[s];return h&&h.collapsable===!1||g.hasClass("collapsed")});this.$container.toggleClass("collapsed",r)}getModel(e){const t=this.getGraph(e);return t?t.model:null}getGraph(e){return this.graphs[e||xw.defaultGroupName]}getGroup(e){const t=this.options.groups;return e!=null&&t&&t.length?t.find(r=>r.name===e):null}toggleGroup(e){return this.isGroupCollapsed(e)?this.expandGroup(e):this.collapseGroup(e),this}collapseGroup(e){if(this.isGroupCollapsable(e)){const t=this.$groups[e];t&&!this.isGroupCollapsed(e)&&(this.trigger("group:collapse",{name:e}),t.addClass("collapsed"))}return this}expandGroup(e){if(this.isGroupCollapsable(e)){const t=this.$groups[e];t&&this.isGroupCollapsed(e)&&(this.trigger("group:expand",{name:e}),t.removeClass("collapsed"))}return this}isGroupCollapsable(e){return this.$groups[e].hasClass("collapsable")}isGroupCollapsed(e){const t=this.$groups[e];return t&&t.hasClass("collapsed")}collapseGroups(){return Object.keys(this.$groups).forEach(e=>this.collapseGroup(e)),this}expandGroups(){return Object.keys(this.$groups).forEach(e=>this.expandGroup(e)),this}resizeGroup(e,t){const r=this.graphs[e];return r&&r.resize(t.width,t.height),this}onRemove(){Object.keys(this.graphs).forEach(e=>{this.graphs[e].view.remove(),delete this.graphs[e]}),this.dnd.remove(),this.stopListening(),this.undelegateDocumentEvents()}}(function(a){a.defaultOptions=Object.assign({stencilGraphWidth:200,stencilGraphHeight:800,title:"Stencil",collapsable:!1,placeholder:"Search",notFoundText:"No matches found",layout(e,t){const r={columnWidth:this.options.stencilGraphWidth/2-10,columns:2,rowHeight:80,resizeToFit:!1,dx:10,dy:10};iT(e,Object.assign(Object.assign(Object.assign({},r),this.options.layoutOptions),t?t.layoutOptions:{}))}},zv.defaults)})(xE||(xE={}));var id;(function(a){a.base="widget-stencil",a.title=`${a.base}-title`,a.search=`${a.base}-search`,a.searchText=`${a.search}-text`,a.content=`${a.base}-content`,a.group=`${a.base}-group`,a.groupTitle=`${a.group}-title`,a.groupContent=`${a.group}-content`})(id||(id={}));var xw;(function(a){a.defaultGroupName="__default__"})(xw||(xw={}))},86500:function(Ne,te,w){"use strict";w.d(te,{T6:function(){return re},VD:function(){return ge},WE:function(){return H},Yt:function(){return Ze},lC:function(){return j},py:function(){return F},rW:function(){return M},s:function(){return ee},ve:function(){return k},vq:function(){return I}});var B=w(90279);function M(fe,Ce,Ae){return{r:(0,B.sh)(fe,255)*255,g:(0,B.sh)(Ce,255)*255,b:(0,B.sh)(Ae,255)*255}}function j(fe,Ce,Ae){fe=(0,B.sh)(fe,255),Ce=(0,B.sh)(Ce,255),Ae=(0,B.sh)(Ae,255);var Pe=Math.max(fe,Ce,Ae),ie=Math.min(fe,Ce,Ae),at=0,mt=0,vt=(Pe+ie)/2;if(Pe===ie)mt=0,at=0;else{var Vt=Pe-ie;switch(mt=vt>.5?Vt/(2-Pe-ie):Vt/(Pe+ie),Pe){case fe:at=(Ce-Ae)/Vt+(Ce<Ae?6:0);break;case Ce:at=(Ae-fe)/Vt+2;break;case Ae:at=(fe-Ce)/Vt+4;break;default:break}at/=6}return{h:at,s:mt,l:vt}}function R(fe,Ce,Ae){return Ae<0&&(Ae+=1),Ae>1&&(Ae-=1),Ae<1/6?fe+(Ce-fe)*(6*Ae):Ae<1/2?Ce:Ae<2/3?fe+(Ce-fe)*(2/3-Ae)*6:fe}function k(fe,Ce,Ae){var Pe,ie,at;if(fe=(0,B.sh)(fe,360),Ce=(0,B.sh)(Ce,100),Ae=(0,B.sh)(Ae,100),Ce===0)ie=Ae,at=Ae,Pe=Ae;else{var mt=Ae<.5?Ae*(1+Ce):Ae+Ce-Ae*Ce,vt=2*Ae-mt;Pe=R(vt,mt,fe+1/3),ie=R(vt,mt,fe),at=R(vt,mt,fe-1/3)}return{r:Pe*255,g:ie*255,b:at*255}}function F(fe,Ce,Ae){fe=(0,B.sh)(fe,255),Ce=(0,B.sh)(Ce,255),Ae=(0,B.sh)(Ae,255);var Pe=Math.max(fe,Ce,Ae),ie=Math.min(fe,Ce,Ae),at=0,mt=Pe,vt=Pe-ie,Vt=Pe===0?0:vt/Pe;if(Pe===ie)at=0;else{switch(Pe){case fe:at=(Ce-Ae)/vt+(Ce<Ae?6:0);break;case Ce:at=(Ae-fe)/vt+2;break;case Ae:at=(fe-Ce)/vt+4;break;default:break}at/=6}return{h:at,s:Vt,v:mt}}function H(fe,Ce,Ae){fe=(0,B.sh)(fe,360)*6,Ce=(0,B.sh)(Ce,100),Ae=(0,B.sh)(Ae,100);var Pe=Math.floor(fe),ie=fe-Pe,at=Ae*(1-Ce),mt=Ae*(1-ie*Ce),vt=Ae*(1-(1-ie)*Ce),Vt=Pe%6,U=[Ae,mt,at,at,vt,Ae][Vt],tt=[vt,Ae,Ae,mt,at,at][Vt],ut=[at,at,vt,Ae,Ae,mt][Vt];return{r:U*255,g:tt*255,b:ut*255}}function I(fe,Ce,Ae,Pe){var ie=[(0,B.FZ)(Math.round(fe).toString(16)),(0,B.FZ)(Math.round(Ce).toString(16)),(0,B.FZ)(Math.round(Ae).toString(16))];return Pe&&ie[0].startsWith(ie[0].charAt(1))&&ie[1].startsWith(ie[1].charAt(1))&&ie[2].startsWith(ie[2].charAt(1))?ie[0].charAt(0)+ie[1].charAt(0)+ie[2].charAt(0):ie.join("")}function ee(fe,Ce,Ae,Pe,ie){var at=[(0,B.FZ)(Math.round(fe).toString(16)),(0,B.FZ)(Math.round(Ce).toString(16)),(0,B.FZ)(Math.round(Ae).toString(16)),(0,B.FZ)(ue(Pe))];return ie&&at[0].startsWith(at[0].charAt(1))&&at[1].startsWith(at[1].charAt(1))&&at[2].startsWith(at[2].charAt(1))&&at[3].startsWith(at[3].charAt(1))?at[0].charAt(0)+at[1].charAt(0)+at[2].charAt(0)+at[3].charAt(0):at.join("")}function ae(fe,Ce,Ae,Pe){var ie=[pad2(ue(Pe)),pad2(Math.round(fe).toString(16)),pad2(Math.round(Ce).toString(16)),pad2(Math.round(Ae).toString(16))];return ie.join("")}function ue(fe){return Math.round(parseFloat(fe)*255).toString(16)}function re(fe){return ge(fe)/255}function ge(fe){return parseInt(fe,16)}function Ze(fe){return{r:fe>>16,g:(fe&65280)>>8,b:fe&255}}},48701:function(Ne,te,w){"use strict";w.d(te,{R:function(){return B}});var B={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},1350:function(Ne,te,w){"use strict";w.d(te,{uA:function(){return R}});var B=w(86500),M=w(48701),j=w(90279);function R(ge){var Ze={r:0,g:0,b:0},fe=1,Ce=null,Ae=null,Pe=null,ie=!1,at=!1;return typeof ge=="string"&&(ge=ue(ge)),typeof ge=="object"&&(re(ge.r)&&re(ge.g)&&re(ge.b)?(Ze=(0,B.rW)(ge.r,ge.g,ge.b),ie=!0,at=String(ge.r).substr(-1)==="%"?"prgb":"rgb"):re(ge.h)&&re(ge.s)&&re(ge.v)?(Ce=(0,j.JX)(ge.s),Ae=(0,j.JX)(ge.v),Ze=(0,B.WE)(ge.h,Ce,Ae),ie=!0,at="hsv"):re(ge.h)&&re(ge.s)&&re(ge.l)&&(Ce=(0,j.JX)(ge.s),Pe=(0,j.JX)(ge.l),Ze=(0,B.ve)(ge.h,Ce,Pe),ie=!0,at="hsl"),Object.prototype.hasOwnProperty.call(ge,"a")&&(fe=ge.a)),fe=(0,j.Yq)(fe),{ok:ie,format:ge.format||at,r:Math.min(255,Math.max(Ze.r,0)),g:Math.min(255,Math.max(Ze.g,0)),b:Math.min(255,Math.max(Ze.b,0)),a:fe}}var k="[-\\+]?\\d+%?",F="[-\\+]?\\d*\\.\\d+%?",H="(?:".concat(F,")|(?:").concat(k,")"),I="[\\s|\\(]+(".concat(H,")[,|\\s]+(").concat(H,")[,|\\s]+(").concat(H,")\\s*\\)?"),ee="[\\s|\\(]+(".concat(H,")[,|\\s]+(").concat(H,")[,|\\s]+(").concat(H,")[,|\\s]+(").concat(H,")\\s*\\)?"),ae={CSS_UNIT:new RegExp(H),rgb:new RegExp("rgb"+I),rgba:new RegExp("rgba"+ee),hsl:new RegExp("hsl"+I),hsla:new RegExp("hsla"+ee),hsv:new RegExp("hsv"+I),hsva:new RegExp("hsva"+ee),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ue(ge){if(ge=ge.trim().toLowerCase(),ge.length===0)return!1;var Ze=!1;if(M.R[ge])ge=M.R[ge],Ze=!0;else if(ge==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var fe=ae.rgb.exec(ge);return fe?{r:fe[1],g:fe[2],b:fe[3]}:(fe=ae.rgba.exec(ge),fe?{r:fe[1],g:fe[2],b:fe[3],a:fe[4]}:(fe=ae.hsl.exec(ge),fe?{h:fe[1],s:fe[2],l:fe[3]}:(fe=ae.hsla.exec(ge),fe?{h:fe[1],s:fe[2],l:fe[3],a:fe[4]}:(fe=ae.hsv.exec(ge),fe?{h:fe[1],s:fe[2],v:fe[3]}:(fe=ae.hsva.exec(ge),fe?{h:fe[1],s:fe[2],v:fe[3],a:fe[4]}:(fe=ae.hex8.exec(ge),fe?{r:(0,B.VD)(fe[1]),g:(0,B.VD)(fe[2]),b:(0,B.VD)(fe[3]),a:(0,B.T6)(fe[4]),format:Ze?"name":"hex8"}:(fe=ae.hex6.exec(ge),fe?{r:(0,B.VD)(fe[1]),g:(0,B.VD)(fe[2]),b:(0,B.VD)(fe[3]),format:Ze?"name":"hex"}:(fe=ae.hex4.exec(ge),fe?{r:(0,B.VD)(fe[1]+fe[1]),g:(0,B.VD)(fe[2]+fe[2]),b:(0,B.VD)(fe[3]+fe[3]),a:(0,B.T6)(fe[4]+fe[4]),format:Ze?"name":"hex8"}:(fe=ae.hex3.exec(ge),fe?{r:(0,B.VD)(fe[1]+fe[1]),g:(0,B.VD)(fe[2]+fe[2]),b:(0,B.VD)(fe[3]+fe[3]),format:Ze?"name":"hex"}:!1)))))))))}function re(ge){return!!ae.CSS_UNIT.exec(String(ge))}},90279:function(Ne,te,w){"use strict";w.d(te,{FZ:function(){return H},JX:function(){return F},V2:function(){return M},Yq:function(){return k},sh:function(){return B}});function B(I,ee){j(I)&&(I="100%");var ae=R(I);return I=ee===360?I:Math.min(ee,Math.max(0,parseFloat(I))),ae&&(I=parseInt(String(I*ee),10)/100),Math.abs(I-ee)<1e-6?1:(ee===360?I=(I<0?I%ee+ee:I%ee)/parseFloat(String(ee)):I=I%ee/parseFloat(String(ee)),I)}function M(I){return Math.min(1,Math.max(0,I))}function j(I){return typeof I=="string"&&I.indexOf(".")!==-1&&parseFloat(I)===1}function R(I){return typeof I=="string"&&I.indexOf("%")!==-1}function k(I){return I=parseFloat(I),(isNaN(I)||I<0||I>1)&&(I=1),I}function F(I){return I<=1?"".concat(Number(I)*100,"%"):I}function H(I){return I.length===1?"0"+I:String(I)}},85788:function(Ne,te,w){var B=w(58579);Ne.exports={Graph:B.Graph,json:w(62485),alg:w(39100),version:B.version}},74774:function(Ne,te,w){var B=w(77163);Ne.exports=M;function M(j){var R={},k=[],F;function H(I){B.has(R,I)||(R[I]=!0,F.push(I),B.each(j.successors(I),H),B.each(j.predecessors(I),H))}return B.each(j.nodes(),function(I){F=[],H(I),F.length&&k.push(F)}),k}},65179:function(Ne,te,w){var B=w(77163);Ne.exports=M;function M(R,k,F){B.isArray(k)||(k=[k]);var H=(R.isDirected()?R.successors:R.neighbors).bind(R),I=[],ee={};return B.each(k,function(ae){if(!R.hasNode(ae))throw new Error("Graph does not have node: "+ae);j(R,ae,F==="post",ee,H,I)}),I}function j(R,k,F,H,I,ee){B.has(H,k)||(H[k]=!0,F||ee.push(k),B.each(I(k),function(ae){j(R,ae,F,H,I,ee)}),F&&ee.push(k))}},73897:function(Ne,te,w){var B=w(69205),M=w(77163);Ne.exports=j;function j(R,k,F){return M.transform(R.nodes(),function(H,I){H[I]=B(R,I,k,F)},{})}},69205:function(Ne,te,w){var B=w(77163),M=w(96129);Ne.exports=R;var j=B.constant(1);function R(F,H,I,ee){return k(F,String(H),I||j,ee||function(ae){return F.outEdges(ae)})}function k(F,H,I,ee){var ae={},ue=new M,re,ge,Ze=function(fe){var Ce=fe.v!==re?fe.v:fe.w,Ae=ae[Ce],Pe=I(fe),ie=ge.distance+Pe;if(Pe<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+fe+" Weight: "+Pe);ie<Ae.distance&&(Ae.distance=ie,Ae.predecessor=re,ue.decrease(Ce,ie))};for(F.nodes().forEach(function(fe){var Ce=fe===H?0:Number.POSITIVE_INFINITY;ae[fe]={distance:Ce},ue.add(fe,Ce)});ue.size()>0&&(re=ue.removeMin(),ge=ae[re],ge.distance!==Number.POSITIVE_INFINITY);)ee(re).forEach(Ze);return ae}},32630:function(Ne,te,w){var B=w(77163),M=w(93070);Ne.exports=j;function j(R){return B.filter(M(R),function(k){return k.length>1||k.length===1&&R.hasEdge(k[0],k[0])})}},3171:function(Ne,te,w){var B=w(77163);Ne.exports=j;var M=B.constant(1);function j(k,F,H){return R(k,F||M,H||function(I){return k.outEdges(I)})}function R(k,F,H){var I={},ee=k.nodes();return ee.forEach(function(ae){I[ae]={},I[ae][ae]={distance:0},ee.forEach(function(ue){ae!==ue&&(I[ae][ue]={distance:Number.POSITIVE_INFINITY})}),H(ae).forEach(function(ue){var re=ue.v===ae?ue.w:ue.v,ge=F(ue);I[ae][re]={distance:ge,predecessor:ae}})}),ee.forEach(function(ae){var ue=I[ae];ee.forEach(function(re){var ge=I[re];ee.forEach(function(Ze){var fe=ge[ae],Ce=ue[Ze],Ae=ge[Ze],Pe=fe.distance+Ce.distance;Pe<Ae.distance&&(Ae.distance=Pe,Ae.predecessor=Ce.predecessor)})})}),I}},39100:function(Ne,te,w){Ne.exports={components:w(74774),dijkstra:w(69205),dijkstraAll:w(73897),findCycles:w(32630),floydWarshall:w(3171),isAcyclic:w(78149),postorder:w(85979),preorder:w(5340),prim:w(74975),tarjan:w(93070),topsort:w(37034)}},78149:function(Ne,te,w){var B=w(37034);Ne.exports=M;function M(j){try{B(j)}catch(R){if(R instanceof B.CycleException)return!1;throw R}return!0}},85979:function(Ne,te,w){var B=w(65179);Ne.exports=M;function M(j,R){return B(j,R,"post")}},5340:function(Ne,te,w){var B=w(65179);Ne.exports=M;function M(j,R){return B(j,R,"pre")}},74975:function(Ne,te,w){var B=w(77163),M=w(1053),j=w(96129);Ne.exports=R;function R(k,F){var H=new M,I={},ee=new j,ae;function ue(ge){var Ze=ge.v===ae?ge.w:ge.v,fe=ee.priority(Ze);if(fe!==void 0){var Ce=F(ge);Ce<fe&&(I[Ze]=ae,ee.decrease(Ze,Ce))}}if(k.nodeCount()===0)return H;B.each(k.nodes(),function(ge){ee.add(ge,Number.POSITIVE_INFINITY),H.setNode(ge)}),ee.decrease(k.nodes()[0],0);for(var re=!1;ee.size()>0;){if(ae=ee.removeMin(),B.has(I,ae))H.setEdge(ae,I[ae]);else{if(re)throw new Error("Input graph is not connected: "+k);re=!0}k.nodeEdges(ae).forEach(ue)}return H}},93070:function(Ne,te,w){var B=w(77163);Ne.exports=M;function M(j){var R=0,k=[],F={},H=[];function I(ee){var ae=F[ee]={onStack:!0,lowlink:R,index:R++};if(k.push(ee),j.successors(ee).forEach(function(ge){B.has(F,ge)?F[ge].onStack&&(ae.lowlink=Math.min(ae.lowlink,F[ge].index)):(I(ge),ae.lowlink=Math.min(ae.lowlink,F[ge].lowlink))}),ae.lowlink===ae.index){var ue=[],re;do re=k.pop(),F[re].onStack=!1,ue.push(re);while(ee!==re);H.push(ue)}}return j.nodes().forEach(function(ee){B.has(F,ee)||I(ee)}),H}},37034:function(Ne,te,w){var B=w(77163);Ne.exports=M,M.CycleException=j;function M(R){var k={},F={},H=[];function I(ee){if(B.has(F,ee))throw new j;B.has(k,ee)||(F[ee]=!0,k[ee]=!0,B.each(R.predecessors(ee),I),delete F[ee],H.push(ee))}if(B.each(R.sinks(),I),B.size(k)!==R.nodeCount())throw new j;return H}function j(){}},96129:function(Ne,te,w){var B=w(77163);Ne.exports=M;function M(){this._arr=[],this._keyIndices={}}M.prototype.size=function(){return this._arr.length},M.prototype.keys=function(){return this._arr.map(function(j){return j.key})},M.prototype.has=function(j){return B.has(this._keyIndices,j)},M.prototype.priority=function(j){var R=this._keyIndices[j];if(R!==void 0)return this._arr[R].priority},M.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},M.prototype.add=function(j,R){var k=this._keyIndices;if(j=String(j),!B.has(k,j)){var F=this._arr,H=F.length;return k[j]=H,F.push({key:j,priority:R}),this._decrease(H),!0}return!1},M.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var j=this._arr.pop();return delete this._keyIndices[j.key],this._heapify(0),j.key},M.prototype.decrease=function(j,R){var k=this._keyIndices[j];if(R>this._arr[k].priority)throw new Error("New priority is greater than current priority. Key: "+j+" Old: "+this._arr[k].priority+" New: "+R);this._arr[k].priority=R,this._decrease(k)},M.prototype._heapify=function(j){var R=this._arr,k=2*j,F=k+1,H=j;k<R.length&&(H=R[k].priority<R[H].priority?k:H,F<R.length&&(H=R[F].priority<R[H].priority?F:H),H!==j&&(this._swap(j,H),this._heapify(H)))},M.prototype._decrease=function(j){for(var R=this._arr,k=R[j].priority,F;j!==0&&(F=j>>1,!(R[F].priority<k));)this._swap(j,F),j=F},M.prototype._swap=function(j,R){var k=this._arr,F=this._keyIndices,H=k[j],I=k[R];k[j]=I,k[R]=H,F[I.key]=j,F[H.key]=R}},1053:function(Ne,te,w){"use strict";var B=w(77163);Ne.exports=k;var M="\0",j="\0",R="";function k(ue){this._isDirected=B.has(ue,"directed")?ue.directed:!0,this._isMultigraph=B.has(ue,"multigraph")?ue.multigraph:!1,this._isCompound=B.has(ue,"compound")?ue.compound:!1,this._label=void 0,this._defaultNodeLabelFn=B.constant(void 0),this._defaultEdgeLabelFn=B.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[j]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}k.prototype._nodeCount=0,k.prototype._edgeCount=0,k.prototype.isDirected=function(){return this._isDirected},k.prototype.isMultigraph=function(){return this._isMultigraph},k.prototype.isCompound=function(){return this._isCompound},k.prototype.setGraph=function(ue){return this._label=ue,this},k.prototype.graph=function(){return this._label},k.prototype.setDefaultNodeLabel=function(ue){return B.isFunction(ue)||(ue=B.constant(ue)),this._defaultNodeLabelFn=ue,this},k.prototype.nodeCount=function(){return this._nodeCount},k.prototype.nodes=function(){return B.keys(this._nodes)},k.prototype.sources=function(){return B.filter(this.nodes(),B.bind(function(ue){return B.isEmpty(this._in[ue])},this))},k.prototype.sinks=function(){return B.filter(this.nodes(),B.bind(function(ue){return B.isEmpty(this._out[ue])},this))},k.prototype.setNodes=function(ue,re){var ge=arguments;return B.each(ue,B.bind(function(Ze){ge.length>1?this.setNode(Ze,re):this.setNode(Ze)},this)),this},k.prototype.setNode=function(ue,re){return B.has(this._nodes,ue)?(arguments.length>1&&(this._nodes[ue]=re),this):(this._nodes[ue]=arguments.length>1?re:this._defaultNodeLabelFn(ue),this._isCompound&&(this._parent[ue]=j,this._children[ue]={},this._children[j][ue]=!0),this._in[ue]={},this._preds[ue]={},this._out[ue]={},this._sucs[ue]={},++this._nodeCount,this)},k.prototype.node=function(ue){return this._nodes[ue]},k.prototype.hasNode=function(ue){return B.has(this._nodes,ue)},k.prototype.removeNode=function(ue){var re=this;if(B.has(this._nodes,ue)){var ge=function(Ze){re.removeEdge(re._edgeObjs[Ze])};delete this._nodes[ue],this._isCompound&&(this._removeFromParentsChildList(ue),delete this._parent[ue],B.each(this.children(ue),B.bind(function(Ze){this.setParent(Ze)},this)),delete this._children[ue]),B.each(B.keys(this._in[ue]),ge),delete this._in[ue],delete this._preds[ue],B.each(B.keys(this._out[ue]),ge),delete this._out[ue],delete this._sucs[ue],--this._nodeCount}return this},k.prototype.setParent=function(ue,re){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(B.isUndefined(re))re=j;else{re+="";for(var ge=re;!B.isUndefined(ge);ge=this.parent(ge))if(ge===ue)throw new Error("Setting "+re+" as parent of "+ue+" would create create a cycle");this.setNode(re)}return this.setNode(ue),this._removeFromParentsChildList(ue),this._parent[ue]=re,this._children[re][ue]=!0,this},k.prototype._removeFromParentsChildList=function(ue){delete this._children[this._parent[ue]][ue]},k.prototype.parent=function(ue){if(this._isCompound){var re=this._parent[ue];if(re!==j)return re}},k.prototype.children=function(ue){if(B.isUndefined(ue)&&(ue=j),this._isCompound){var re=this._children[ue];if(re)return B.keys(re)}else{if(ue===j)return this.nodes();if(this.hasNode(ue))return[]}},k.prototype.predecessors=function(ue){var re=this._preds[ue];if(re)return B.keys(re)},k.prototype.successors=function(ue){var re=this._sucs[ue];if(re)return B.keys(re)},k.prototype.neighbors=function(ue){var re=this.predecessors(ue);if(re)return B.union(re,this.successors(ue))},k.prototype.isLeaf=function(ue){var re;return this.isDirected()?re=this.successors(ue):re=this.neighbors(ue),re.length===0},k.prototype.filterNodes=function(ue){var re=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});re.setGraph(this.graph()),B.each(this._nodes,B.bind(function(Ce,Ae){ue(Ae)&&re.setNode(Ae,Ce)},this)),B.each(this._edgeObjs,B.bind(function(Ce){re.hasNode(Ce.v)&&re.hasNode(Ce.w)&&re.setEdge(Ce,this.edge(Ce))},this));var ge=this,Ze={};function fe(Ce){var Ae=ge.parent(Ce);return Ae===void 0||re.hasNode(Ae)?(Ze[Ce]=Ae,Ae):Ae in Ze?Ze[Ae]:fe(Ae)}return this._isCompound&&B.each(re.nodes(),function(Ce){re.setParent(Ce,fe(Ce))}),re},k.prototype.setDefaultEdgeLabel=function(ue){return B.isFunction(ue)||(ue=B.constant(ue)),this._defaultEdgeLabelFn=ue,this},k.prototype.edgeCount=function(){return this._edgeCount},k.prototype.edges=function(){return B.values(this._edgeObjs)},k.prototype.setPath=function(ue,re){var ge=this,Ze=arguments;return B.reduce(ue,function(fe,Ce){return Ze.length>1?ge.setEdge(fe,Ce,re):ge.setEdge(fe,Ce),Ce}),this},k.prototype.setEdge=function(){var ue,re,ge,Ze,fe=!1,Ce=arguments[0];typeof Ce=="object"&&Ce!==null&&"v"in Ce?(ue=Ce.v,re=Ce.w,ge=Ce.name,arguments.length===2&&(Ze=arguments[1],fe=!0)):(ue=Ce,re=arguments[1],ge=arguments[3],arguments.length>2&&(Ze=arguments[2],fe=!0)),ue=""+ue,re=""+re,B.isUndefined(ge)||(ge=""+ge);var Ae=I(this._isDirected,ue,re,ge);if(B.has(this._edgeLabels,Ae))return fe&&(this._edgeLabels[Ae]=Ze),this;if(!B.isUndefined(ge)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(ue),this.setNode(re),this._edgeLabels[Ae]=fe?Ze:this._defaultEdgeLabelFn(ue,re,ge);var Pe=ee(this._isDirected,ue,re,ge);return ue=Pe.v,re=Pe.w,Object.freeze(Pe),this._edgeObjs[Ae]=Pe,F(this._preds[re],ue),F(this._sucs[ue],re),this._in[re][Ae]=Pe,this._out[ue][Ae]=Pe,this._edgeCount++,this},k.prototype.edge=function(ue,re,ge){var Ze=arguments.length===1?ae(this._isDirected,arguments[0]):I(this._isDirected,ue,re,ge);return this._edgeLabels[Ze]},k.prototype.hasEdge=function(ue,re,ge){var Ze=arguments.length===1?ae(this._isDirected,arguments[0]):I(this._isDirected,ue,re,ge);return B.has(this._edgeLabels,Ze)},k.prototype.removeEdge=function(ue,re,ge){var Ze=arguments.length===1?ae(this._isDirected,arguments[0]):I(this._isDirected,ue,re,ge),fe=this._edgeObjs[Ze];return fe&&(ue=fe.v,re=fe.w,delete this._edgeLabels[Ze],delete this._edgeObjs[Ze],H(this._preds[re],ue),H(this._sucs[ue],re),delete this._in[re][Ze],delete this._out[ue][Ze],this._edgeCount--),this},k.prototype.inEdges=function(ue,re){var ge=this._in[ue];if(ge){var Ze=B.values(ge);return re?B.filter(Ze,function(fe){return fe.v===re}):Ze}},k.prototype.outEdges=function(ue,re){var ge=this._out[ue];if(ge){var Ze=B.values(ge);return re?B.filter(Ze,function(fe){return fe.w===re}):Ze}},k.prototype.nodeEdges=function(ue,re){var ge=this.inEdges(ue,re);if(ge)return ge.concat(this.outEdges(ue,re))};function F(ue,re){ue[re]?ue[re]++:ue[re]=1}function H(ue,re){--ue[re]||delete ue[re]}function I(ue,re,ge,Ze){var fe=""+re,Ce=""+ge;if(!ue&&fe>Ce){var Ae=fe;fe=Ce,Ce=Ae}return fe+R+Ce+R+(B.isUndefined(Ze)?M:Ze)}function ee(ue,re,ge,Ze){var fe=""+re,Ce=""+ge;if(!ue&&fe>Ce){var Ae=fe;fe=Ce,Ce=Ae}var Pe={v:fe,w:Ce};return Ze&&(Pe.name=Ze),Pe}function ae(ue,re){return I(ue,re.v,re.w,re.name)}},58579:function(Ne,te,w){Ne.exports={Graph:w(1053),version:w(82321)}},62485:function(Ne,te,w){var B=w(77163),M=w(1053);Ne.exports={write:j,read:F};function j(H){var I={options:{directed:H.isDirected(),multigraph:H.isMultigraph(),compound:H.isCompound()},nodes:R(H),edges:k(H)};return B.isUndefined(H.graph())||(I.value=B.clone(H.graph())),I}function R(H){return B.map(H.nodes(),function(I){var ee=H.node(I),ae=H.parent(I),ue={v:I};return B.isUndefined(ee)||(ue.value=ee),B.isUndefined(ae)||(ue.parent=ae),ue})}function k(H){return B.map(H.edges(),function(I){var ee=H.edge(I),ae={v:I.v,w:I.w};return B.isUndefined(I.name)||(ae.name=I.name),B.isUndefined(ee)||(ae.value=ee),ae})}function F(H){var I=new M(H.options).setGraph(H.value);return B.each(H.nodes,function(ee){I.setNode(ee.v,ee.value),ee.parent&&I.setParent(ee.v,ee.parent)}),B.each(H.edges,function(ee){I.setEdge({v:ee.v,w:ee.w,name:ee.name},ee.value)}),I}},77163:function(Ne,te,w){var B;try{B=w(96486)}catch(M){}B||(B=window._),Ne.exports=B},82321:function(Ne){Ne.exports="2.1.4"},10516:function(Ne,te,w){"use strict";w.d(te,{ZP:function(){return Ao}});var B=w(87462),M=w(63366),j=w(67294);class R{lineAt(n){if(n<0||n>this.length)throw new RangeError(`Invalid position ${n} in document of length ${this.length}`);return this.lineInner(n,!1,1,0)}line(n){if(n<1||n>this.lines)throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);return this.lineInner(n,!0,1,0)}replace(n,i,c){[n,i]=Ze(this,n,i);let d=[];return this.decompose(0,n,d,2),c.length&&c.decompose(0,c.length,d,3),this.decompose(i,this.length,d,1),F.from(d,this.length-(i-n)+c.length)}append(n){return this.replace(this.length,this.length,n)}slice(n,i=this.length){[n,i]=Ze(this,n,i);let c=[];return this.decompose(n,i,c,0),F.from(c,i-n)}eq(n){if(n==this)return!0;if(n.length!=this.length||n.lines!=this.lines)return!1;let i=this.scanIdentical(n,1),c=this.length-this.scanIdentical(n,-1),d=new ae(this),m=new ae(n);for(let C=i,O=i;;){if(d.next(C),m.next(C),C=0,d.lineBreak!=m.lineBreak||d.done!=m.done||d.value!=m.value)return!1;if(O+=d.value.length,d.done||O>=c)return!0}}iter(n=1){return new ae(this,n)}iterRange(n,i=this.length){return new ue(this,n,i)}iterLines(n,i){let c;if(n==null)c=this.iter();else{i==null&&(i=this.lines+1);let d=this.line(n).from;c=this.iterRange(d,Math.max(d,i==this.lines+1?this.length:i<=1?0:this.line(i-1).to))}return new re(c)}toString(){return this.sliceString(0)}toJSON(){let n=[];return this.flatten(n),n}constructor(){}static of(n){if(n.length==0)throw new RangeError("A document must have at least one line");return n.length==1&&!n[0]?R.empty:n.length<=32?new k(n):F.from(k.split(n,[]))}}class k extends R{constructor(n,i=H(n)){super(),this.text=n,this.length=i}get lines(){return this.text.length}get children(){return null}lineInner(n,i,c,d){for(let m=0;;m++){let C=this.text[m],O=d+C.length;if((i?c:O)>=n)return new ge(d,O,c,C);d=O+1,c++}}decompose(n,i,c,d){let m=n<=0&&i>=this.length?this:new k(ee(this.text,n,i),Math.min(i,this.length)-Math.max(0,n));if(d&1){let C=c.pop(),O=I(m.text,C.text.slice(),0,m.length);if(O.length<=32)c.push(new k(O,C.length+m.length));else{let G=O.length>>1;c.push(new k(O.slice(0,G)),new k(O.slice(G)))}}else c.push(m)}replace(n,i,c){if(!(c instanceof k))return super.replace(n,i,c);[n,i]=Ze(this,n,i);let d=I(this.text,I(c.text,ee(this.text,0,n)),i),m=this.length+c.length-(i-n);return d.length<=32?new k(d,m):F.from(k.split(d,[]),m)}sliceString(n,i=this.length,c=`
`){[n,i]=Ze(this,n,i);let d="";for(let m=0,C=0;m<=i&&C<this.text.length;C++){let O=this.text[C],G=m+O.length;m>n&&C&&(d+=c),n<G&&i>m&&(d+=O.slice(Math.max(0,n-m),i-m)),m=G+1}return d}flatten(n){for(let i of this.text)n.push(i)}scanIdentical(){return 0}static split(n,i){let c=[],d=-1;for(let m of n)c.push(m),d+=m.length+1,c.length==32&&(i.push(new k(c,d)),c=[],d=-1);return d>-1&&i.push(new k(c,d)),i}}class F extends R{constructor(n,i){super(),this.children=n,this.length=i,this.lines=0;for(let c of n)this.lines+=c.lines}lineInner(n,i,c,d){for(let m=0;;m++){let C=this.children[m],O=d+C.length,G=c+C.lines-1;if((i?G:O)>=n)return C.lineInner(n,i,c,d);d=O+1,c=G+1}}decompose(n,i,c,d){for(let m=0,C=0;C<=i&&m<this.children.length;m++){let O=this.children[m],G=C+O.length;if(n<=G&&i>=C){let oe=d&((C<=n?1:0)|(G>=i?2:0));C>=n&&G<=i&&!oe?c.push(O):O.decompose(n-C,i-C,c,oe)}C=G+1}}replace(n,i,c){if([n,i]=Ze(this,n,i),c.lines<this.lines)for(let d=0,m=0;d<this.children.length;d++){let C=this.children[d],O=m+C.length;if(n>=m&&i<=O){let G=C.replace(n-m,i-m,c),oe=this.lines-C.lines+G.lines;if(G.lines<oe>>4&&G.lines>oe>>6){let le=this.children.slice();return le[d]=G,new F(le,this.length-(i-n)+c.length)}return super.replace(m,O,G)}m=O+1}return super.replace(n,i,c)}sliceString(n,i=this.length,c=`
`){[n,i]=Ze(this,n,i);let d="";for(let m=0,C=0;m<this.children.length&&C<=i;m++){let O=this.children[m],G=C+O.length;C>n&&m&&(d+=c),n<G&&i>C&&(d+=O.sliceString(n-C,i-C,c)),C=G+1}return d}flatten(n){for(let i of this.children)i.flatten(n)}scanIdentical(n,i){if(!(n instanceof F))return 0;let c=0,[d,m,C,O]=i>0?[0,0,this.children.length,n.children.length]:[this.children.length-1,n.children.length-1,-1,-1];for(;;d+=i,m+=i){if(d==C||m==O)return c;let G=this.children[d],oe=n.children[m];if(G!=oe)return c+G.scanIdentical(oe,i);c+=G.length+1}}static from(n,i=n.reduce((c,d)=>c+d.length+1,-1)){let c=0;for(let Kt of n)c+=Kt.lines;if(c<32){let Kt=[];for(let Wn of n)Wn.flatten(Kt);return new k(Kt,i)}let d=Math.max(32,c>>5),m=d<<1,C=d>>1,O=[],G=0,oe=-1,le=[];function ke(Kt){let Wn;if(Kt.lines>m&&Kt instanceof F)for(let Br of Kt.children)ke(Br);else Kt.lines>C&&(G>C||!G)?(lt(),O.push(Kt)):Kt instanceof k&&G&&(Wn=le[le.length-1])instanceof k&&Kt.lines+Wn.lines<=32?(G+=Kt.lines,oe+=Kt.length+1,le[le.length-1]=new k(Wn.text.concat(Kt.text),Wn.length+1+Kt.length)):(G+Kt.lines>d&&lt(),G+=Kt.lines,oe+=Kt.length+1,le.push(Kt))}function lt(){G!=0&&(O.push(le.length==1?le[0]:F.from(le,oe)),oe=-1,G=le.length=0)}for(let Kt of n)ke(Kt);return lt(),O.length==1?O[0]:new F(O,i)}}R.empty=new k([""],0);function H(u){let n=-1;for(let i of u)n+=i.length+1;return n}function I(u,n,i=0,c=1e9){for(let d=0,m=0,C=!0;m<u.length&&d<=c;m++){let O=u[m],G=d+O.length;G>=i&&(G>c&&(O=O.slice(0,c-d)),d<i&&(O=O.slice(i-d)),C?(n[n.length-1]+=O,C=!1):n.push(O)),d=G+1}return n}function ee(u,n,i){return I(u,[""],n,i)}class ae{constructor(n,i=1){this.dir=i,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[n],this.offsets=[i>0?1:(n instanceof k?n.text.length:n.children.length)<<1]}nextInner(n,i){for(this.done=this.lineBreak=!1;;){let c=this.nodes.length-1,d=this.nodes[c],m=this.offsets[c],C=m>>1,O=d instanceof k?d.text.length:d.children.length;if(C==(i>0?O:0)){if(c==0)return this.done=!0,this.value="",this;i>0&&this.offsets[c-1]++,this.nodes.pop(),this.offsets.pop()}else if((m&1)==(i>0?0:1)){if(this.offsets[c]+=i,n==0)return this.lineBreak=!0,this.value=`
`,this;n--}else if(d instanceof k){let G=d.text[C+(i<0?-1:0)];if(this.offsets[c]+=i,G.length>Math.max(0,n))return this.value=n==0?G:i>0?G.slice(n):G.slice(0,G.length-n),this;n-=G.length}else{let G=d.children[C+(i<0?-1:0)];n>G.length?(n-=G.length,this.offsets[c]+=i):(i<0&&this.offsets[c]--,this.nodes.push(G),this.offsets.push(i>0?1:(G instanceof k?G.text.length:G.children.length)<<1))}}}next(n=0){return n<0&&(this.nextInner(-n,-this.dir),n=this.value.length),this.nextInner(n,this.dir)}}class ue{constructor(n,i,c){this.value="",this.done=!1,this.cursor=new ae(n,i>c?-1:1),this.pos=i>c?n.length:0,this.from=Math.min(i,c),this.to=Math.max(i,c)}nextInner(n,i){if(i<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;n+=Math.max(0,i<0?this.pos-this.to:this.from-this.pos);let c=i<0?this.pos-this.from:this.to-this.pos;n>c&&(n=c),c-=n;let{value:d}=this.cursor.next(n);return this.pos+=(d.length+n)*i,this.value=d.length<=c?d:i<0?d.slice(d.length-c):d.slice(0,c),this.done=!this.value,this}next(n=0){return n<0?n=Math.max(n,this.from-this.pos):n>0&&(n=Math.min(n,this.to-this.pos)),this.nextInner(n,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class re{constructor(n){this.inner=n,this.afterBreak=!0,this.value="",this.done=!1}next(n=0){let{done:i,lineBreak:c,value:d}=this.inner.next(n);return i&&this.afterBreak?(this.value="",this.afterBreak=!1):i?(this.done=!0,this.value=""):c?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=d,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol!="undefined"&&(R.prototype[Symbol.iterator]=function(){return this.iter()},ae.prototype[Symbol.iterator]=ue.prototype[Symbol.iterator]=re.prototype[Symbol.iterator]=function(){return this});class ge{constructor(n,i,c,d){this.from=n,this.to=i,this.number=c,this.text=d}get length(){return this.to-this.from}}function Ze(u,n,i){return n=Math.max(0,Math.min(u.length,n)),[n,Math.max(n,Math.min(u.length,i))]}let fe="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(u=>u?parseInt(u,36):1);for(let u=1;u<fe.length;u++)fe[u]+=fe[u-1];function Ce(u){for(let n=1;n<fe.length;n+=2)if(fe[n]>u)return fe[n-1]<=u;return!1}function Ae(u){return u>=127462&&u<=127487}const Pe=8205;function ie(u,n,i=!0,c=!0){return(i?at:mt)(u,n,c)}function at(u,n,i){if(n==u.length)return n;n&&vt(u.charCodeAt(n))&&Vt(u.charCodeAt(n-1))&&n--;let c=U(u,n);for(n+=ut(c);n<u.length;){let d=U(u,n);if(c==Pe||d==Pe||i&&Ce(d))n+=ut(d),c=d;else if(Ae(d)){let m=0,C=n-2;for(;C>=0&&Ae(U(u,C));)m++,C-=2;if(m%2==0)break;n+=2}else break}return n}function mt(u,n,i){for(;n>0;){let c=at(u,n-2,i);if(c<n)return c;n--}return 0}function vt(u){return u>=56320&&u<57344}function Vt(u){return u>=55296&&u<56320}function U(u,n){let i=u.charCodeAt(n);if(!Vt(i)||n+1==u.length)return i;let c=u.charCodeAt(n+1);return vt(c)?(i-55296<<10)+(c-56320)+65536:i}function tt(u){return u<=65535?String.fromCharCode(u):(u-=65536,String.fromCharCode((u>>10)+55296,(u&1023)+56320))}function ut(u){return u<65536?1:2}const vn=/\r\n?|\n/;var ft=function(u){return u[u.Simple=0]="Simple",u[u.TrackDel=1]="TrackDel",u[u.TrackBefore=2]="TrackBefore",u[u.TrackAfter=3]="TrackAfter",u}(ft||(ft={}));class Ye{constructor(n){this.sections=n}get length(){let n=0;for(let i=0;i<this.sections.length;i+=2)n+=this.sections[i];return n}get newLength(){let n=0;for(let i=0;i<this.sections.length;i+=2){let c=this.sections[i+1];n+=c<0?this.sections[i]:c}return n}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(n){for(let i=0,c=0,d=0;i<this.sections.length;){let m=this.sections[i++],C=this.sections[i++];C<0?(n(c,d,m),d+=m):d+=C,c+=m}}iterChangedRanges(n,i=!1){pr(this,n,i)}get invertedDesc(){let n=[];for(let i=0;i<this.sections.length;){let c=this.sections[i++],d=this.sections[i++];d<0?n.push(c,d):n.push(d,c)}return new Ye(n)}composeDesc(n){return this.empty?n:n.empty?this:Mt(this,n)}mapDesc(n,i=!1){return n.empty?this:hr(this,n,i)}mapPos(n,i=-1,c=ft.Simple){let d=0,m=0;for(let C=0;C<this.sections.length;){let O=this.sections[C++],G=this.sections[C++],oe=d+O;if(G<0){if(oe>n)return m+(n-d);m+=O}else{if(c!=ft.Simple&&oe>=n&&(c==ft.TrackDel&&d<n&&oe>n||c==ft.TrackBefore&&d<n||c==ft.TrackAfter&&oe>n))return null;if(oe>n||oe==n&&i<0&&!O)return n==d||i<0?m:m+G;m+=G}d=oe}if(n>d)throw new RangeError(`Position ${n} is out of range for changeset of length ${d}`);return m}touchesRange(n,i=n){for(let c=0,d=0;c<this.sections.length&&d<=i;){let m=this.sections[c++],C=this.sections[c++],O=d+m;if(C>=0&&d<=i&&O>=n)return d<n&&O>i?"cover":!0;d=O}return!1}toString(){let n="";for(let i=0;i<this.sections.length;){let c=this.sections[i++],d=this.sections[i++];n+=(n?" ":"")+c+(d>=0?":"+d:"")}return n}toJSON(){return this.sections}static fromJSON(n){if(!Array.isArray(n)||n.length%2||n.some(i=>typeof i!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ye(n)}static create(n){return new Ye(n)}}class Cn extends Ye{constructor(n,i){super(n),this.inserted=i}apply(n){if(this.length!=n.length)throw new RangeError("Applying change set to a document with the wrong length");return pr(this,(i,c,d,m,C)=>n=n.replace(d,d+(c-i),C),!1),n}mapDesc(n,i=!1){return hr(this,n,i,!0)}invert(n){let i=this.sections.slice(),c=[];for(let d=0,m=0;d<i.length;d+=2){let C=i[d],O=i[d+1];if(O>=0){i[d]=O,i[d+1]=C;let G=d>>1;for(;c.length<G;)c.push(R.empty);c.push(C?n.slice(m,m+C):R.empty)}m+=C}return new Cn(i,c)}compose(n){return this.empty?n:n.empty?this:Mt(this,n,!0)}map(n,i=!1){return n.empty?this:hr(this,n,i,!0)}iterChanges(n,i=!1){pr(this,n,i)}get desc(){return Ye.create(this.sections)}filter(n){let i=[],c=[],d=[],m=new yt(this);e:for(let C=0,O=0;;){let G=C==n.length?1e9:n[C++];for(;O<G||O==G&&m.len==0;){if(m.done)break e;let le=Math.min(m.len,G-O);cn(d,le,-1);let ke=m.ins==-1?-1:m.off==0?m.ins:0;cn(i,le,ke),ke>0&&mr(c,i,m.text),m.forward(le),O+=le}let oe=n[C++];for(;O<oe;){if(m.done)break e;let le=Math.min(m.len,oe-O);cn(i,le,-1),cn(d,le,m.ins==-1?-1:m.off==0?m.ins:0),m.forward(le),O+=le}}return{changes:new Cn(i,c),filtered:Ye.create(d)}}toJSON(){let n=[];for(let i=0;i<this.sections.length;i+=2){let c=this.sections[i],d=this.sections[i+1];d<0?n.push(c):d==0?n.push([c]):n.push([c].concat(this.inserted[i>>1].toJSON()))}return n}static of(n,i,c){let d=[],m=[],C=0,O=null;function G(le=!1){if(!le&&!d.length)return;C<i&&cn(d,i-C,-1);let ke=new Cn(d,m);O=O?O.compose(ke.map(O)):ke,d=[],m=[],C=0}function oe(le){if(Array.isArray(le))for(let ke of le)oe(ke);else if(le instanceof Cn){if(le.length!=i)throw new RangeError(`Mismatched change set length (got ${le.length}, expected ${i})`);G(),O=O?O.compose(le.map(O)):le}else{let{from:ke,to:lt=ke,insert:Kt}=le;if(ke>lt||ke<0||lt>i)throw new RangeError(`Invalid change range ${ke} to ${lt} (in doc of length ${i})`);let Wn=Kt?typeof Kt=="string"?R.of(Kt.split(c||vn)):Kt:R.empty,Br=Wn.length;if(ke==lt&&Br==0)return;ke<C&&G(),ke>C&&cn(d,ke-C,-1),cn(d,lt-ke,Br),mr(m,d,Wn),C=lt}}return oe(n),G(!O),O}static empty(n){return new Cn(n?[n,-1]:[],[])}static fromJSON(n){if(!Array.isArray(n))throw new RangeError("Invalid JSON representation of ChangeSet");let i=[],c=[];for(let d=0;d<n.length;d++){let m=n[d];if(typeof m=="number")i.push(m,-1);else{if(!Array.isArray(m)||typeof m[0]!="number"||m.some((C,O)=>O&&typeof C!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(m.length==1)i.push(m[0],0);else{for(;c.length<d;)c.push(R.empty);c[d]=R.of(m.slice(1)),i.push(m[0],c[d].length)}}}return new Cn(i,c)}static createSet(n,i){return new Cn(n,i)}}function cn(u,n,i,c=!1){if(n==0&&i<=0)return;let d=u.length-2;d>=0&&i<=0&&i==u[d+1]?u[d]+=n:n==0&&u[d]==0?u[d+1]+=i:c?(u[d]+=n,u[d+1]+=i):u.push(n,i)}function mr(u,n,i){if(i.length==0)return;let c=n.length-2>>1;if(c<u.length)u[u.length-1]=u[u.length-1].append(i);else{for(;u.length<c;)u.push(R.empty);u.push(i)}}function pr(u,n,i){let c=u.inserted;for(let d=0,m=0,C=0;C<u.sections.length;){let O=u.sections[C++],G=u.sections[C++];if(G<0)d+=O,m+=O;else{let oe=d,le=m,ke=R.empty;for(;oe+=O,le+=G,G&&c&&(ke=ke.append(c[C-2>>1])),!(i||C==u.sections.length||u.sections[C+1]<0);)O=u.sections[C++],G=u.sections[C++];n(d,oe,m,le,ke),d=oe,m=le}}}function hr(u,n,i,c=!1){let d=[],m=c?[]:null,C=new yt(u),O=new yt(n);for(let G=-1;;)if(C.ins==-1&&O.ins==-1){let oe=Math.min(C.len,O.len);cn(d,oe,-1),C.forward(oe),O.forward(oe)}else if(O.ins>=0&&(C.ins<0||G==C.i||C.off==0&&(O.len<C.len||O.len==C.len&&!i))){let oe=O.len;for(cn(d,O.ins,-1);oe;){let le=Math.min(C.len,oe);C.ins>=0&&G<C.i&&C.len<=le&&(cn(d,0,C.ins),m&&mr(m,d,C.text),G=C.i),C.forward(le),oe-=le}O.next()}else if(C.ins>=0){let oe=0,le=C.len;for(;le;)if(O.ins==-1){let ke=Math.min(le,O.len);oe+=ke,le-=ke,O.forward(ke)}else if(O.ins==0&&O.len<le)le-=O.len,O.next();else break;cn(d,oe,G<C.i?C.ins:0),m&&G<C.i&&mr(m,d,C.text),G=C.i,C.forward(C.len-le)}else{if(C.done&&O.done)return m?Cn.createSet(d,m):Ye.create(d);throw new Error("Mismatched change set lengths")}}function Mt(u,n,i=!1){let c=[],d=i?[]:null,m=new yt(u),C=new yt(n);for(let O=!1;;){if(m.done&&C.done)return d?Cn.createSet(c,d):Ye.create(c);if(m.ins==0)cn(c,m.len,0,O),m.next();else if(C.len==0&&!C.done)cn(c,0,C.ins,O),d&&mr(d,c,C.text),C.next();else{if(m.done||C.done)throw new Error("Mismatched change set lengths");{let G=Math.min(m.len2,C.len),oe=c.length;if(m.ins==-1){let le=C.ins==-1?-1:C.off?0:C.ins;cn(c,G,le,O),d&&le&&mr(d,c,C.text)}else C.ins==-1?(cn(c,m.off?0:m.len,G,O),d&&mr(d,c,m.textBit(G))):(cn(c,m.off?0:m.len,C.off?0:C.ins,O),d&&!C.off&&mr(d,c,C.text));O=(m.ins>G||C.ins>=0&&C.len>G)&&(O||c.length>oe),m.forward2(G),C.forward(G)}}}}class yt{constructor(n){this.set=n,this.i=0,this.next()}next(){let{sections:n}=this.set;this.i<n.length?(this.len=n[this.i++],this.ins=n[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:n}=this.set,i=this.i-2>>1;return i>=n.length?R.empty:n[i]}textBit(n){let{inserted:i}=this.set,c=this.i-2>>1;return c>=i.length&&!n?R.empty:i[c].slice(this.off,n==null?void 0:this.off+n)}forward(n){n==this.len?this.next():(this.len-=n,this.off+=n)}forward2(n){this.ins==-1?this.forward(n):n==this.ins?this.next():(this.ins-=n,this.off+=n)}}class Et{constructor(n,i,c){this.from=n,this.to=i,this.flags=c}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let n=this.flags&7;return n==7?null:n}get goalColumn(){let n=this.flags>>6;return n==16777215?void 0:n}map(n,i=-1){let c,d;return this.empty?c=d=n.mapPos(this.from,i):(c=n.mapPos(this.from,1),d=n.mapPos(this.to,-1)),c==this.from&&d==this.to?this:new Et(c,d,this.flags)}extend(n,i=n){if(n<=this.anchor&&i>=this.anchor)return $e.range(n,i);let c=Math.abs(n-this.anchor)>Math.abs(i-this.anchor)?n:i;return $e.range(this.anchor,c)}eq(n,i=!1){return this.anchor==n.anchor&&this.head==n.head&&(!i||!this.empty||this.assoc==n.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(n){if(!n||typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return $e.range(n.anchor,n.head)}static create(n,i,c){return new Et(n,i,c)}}class $e{constructor(n,i){this.ranges=n,this.mainIndex=i}map(n,i=-1){return n.empty?this:$e.create(this.ranges.map(c=>c.map(n,i)),this.mainIndex)}eq(n,i=!1){if(this.ranges.length!=n.ranges.length||this.mainIndex!=n.mainIndex)return!1;for(let c=0;c<this.ranges.length;c++)if(!this.ranges[c].eq(n.ranges[c],i))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new $e([this.main],0)}addRange(n,i=!0){return $e.create([n].concat(this.ranges),i?0:this.mainIndex+1)}replaceRange(n,i=this.mainIndex){let c=this.ranges.slice();return c[i]=n,$e.create(c,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(n=>n.toJSON()),main:this.mainIndex}}static fromJSON(n){if(!n||!Array.isArray(n.ranges)||typeof n.main!="number"||n.main>=n.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new $e(n.ranges.map(i=>Et.fromJSON(i)),n.main)}static single(n,i=n){return new $e([$e.range(n,i)],0)}static create(n,i=0){if(n.length==0)throw new RangeError("A selection needs at least one range");for(let c=0,d=0;d<n.length;d++){let m=n[d];if(m.empty?m.from<=c:m.from<c)return $e.normalized(n.slice(),i);c=m.to}return new $e(n,i)}static cursor(n,i=0,c,d){return Et.create(n,n,(i==0?0:i<0?8:16)|(c==null?7:Math.min(6,c))|(d!=null?d:16777215)<<6)}static range(n,i,c,d){let m=(c!=null?c:16777215)<<6|(d==null?7:Math.min(6,d));return i<n?Et.create(i,n,48|m):Et.create(n,i,(i>n?8:0)|m)}static normalized(n,i=0){let c=n[i];n.sort((d,m)=>d.from-m.from),i=n.indexOf(c);for(let d=1;d<n.length;d++){let m=n[d],C=n[d-1];if(m.empty?m.from<=C.to:m.from<C.to){let O=C.from,G=Math.max(m.to,C.to);d<=i&&i--,n.splice(--d,2,m.anchor>m.head?$e.range(G,O):$e.range(O,G))}}return new $e(n,i)}}function $t(u,n){for(let i of u.ranges)if(i.to>n)throw new RangeError("Selection points outside of document")}let Jt=0;class tn{constructor(n,i,c,d,m){this.combine=n,this.compareInput=i,this.compare=c,this.isStatic=d,this.id=Jt++,this.default=n([]),this.extensions=typeof m=="function"?m(this):m}get reader(){return this}static define(n={}){return new tn(n.combine||(i=>i),n.compareInput||((i,c)=>i===c),n.compare||(n.combine?(i,c)=>i===c:ir),!!n.static,n.enables)}of(n){return new Or([],this,0,n)}compute(n,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new Or(n,this,1,i)}computeN(n,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new Or(n,this,2,i)}from(n,i){return i||(i=c=>c),this.compute([n],c=>i(c.field(n)))}}function ir(u,n){return u==n||u.length==n.length&&u.every((i,c)=>i===n[c])}class Or{constructor(n,i,c,d){this.dependencies=n,this.facet=i,this.type=c,this.value=d,this.id=Jt++}dynamicSlot(n){var i;let c=this.value,d=this.facet.compareInput,m=this.id,C=n[m]>>1,O=this.type==2,G=!1,oe=!1,le=[];for(let ke of this.dependencies)ke=="doc"?G=!0:ke=="selection"?oe=!0:((i=n[ke.id])!==null&&i!==void 0?i:1)&1||le.push(n[ke.id]);return{create(ke){return ke.values[C]=c(ke),1},update(ke,lt){if(G&&lt.docChanged||oe&&(lt.docChanged||lt.selection)||lr(ke,le)){let Kt=c(ke);if(O?!Fr(Kt,ke.values[C],d):!d(Kt,ke.values[C]))return ke.values[C]=Kt,1}return 0},reconfigure:(ke,lt)=>{let Kt,Wn=lt.config.address[m];if(Wn!=null){let Br=Nt(lt,Wn);if(this.dependencies.every(ti=>ti instanceof tn?lt.facet(ti)===ke.facet(ti):ti instanceof dr?lt.field(ti,!1)==ke.field(ti,!1):!0)||(O?Fr(Kt=c(ke),Br,d):d(Kt=c(ke),Br)))return ke.values[C]=Br,0}else Kt=c(ke);return ke.values[C]=Kt,1}}}}function Fr(u,n,i){if(u.length!=n.length)return!1;for(let c=0;c<u.length;c++)if(!i(u[c],n[c]))return!1;return!0}function lr(u,n){let i=!1;for(let c of n)we(u,c)&1&&(i=!0);return i}function Yr(u,n,i){let c=i.map(G=>u[G.id]),d=i.map(G=>G.type),m=c.filter(G=>!(G&1)),C=u[n.id]>>1;function O(G){let oe=[];for(let le=0;le<c.length;le++){let ke=Nt(G,c[le]);if(d[le]==2)for(let lt of ke)oe.push(lt);else oe.push(ke)}return n.combine(oe)}return{create(G){for(let oe of c)we(G,oe);return G.values[C]=O(G),1},update(G,oe){if(!lr(G,m))return 0;let le=O(G);return n.compare(le,G.values[C])?0:(G.values[C]=le,1)},reconfigure(G,oe){let le=lr(G,c),ke=oe.config.facets[n.id],lt=oe.facet(n);if(ke&&!le&&ir(i,ke))return G.values[C]=lt,0;let Kt=O(G);return n.compare(Kt,lt)?(G.values[C]=lt,0):(G.values[C]=Kt,1)}}}const jn=tn.define({static:!0});class dr{constructor(n,i,c,d,m){this.id=n,this.createF=i,this.updateF=c,this.compareF=d,this.spec=m,this.provides=void 0}static define(n){let i=new dr(Jt++,n.create,n.update,n.compare||((c,d)=>c===d),n);return n.provide&&(i.provides=n.provide(i)),i}create(n){let i=n.facet(jn).find(c=>c.field==this);return((i==null?void 0:i.create)||this.createF)(n)}slot(n){let i=n[this.id]>>1;return{create:c=>(c.values[i]=this.create(c),1),update:(c,d)=>{let m=c.values[i],C=this.updateF(m,d);return this.compareF(m,C)?0:(c.values[i]=C,1)},reconfigure:(c,d)=>d.config.address[this.id]!=null?(c.values[i]=d.field(this),0):(c.values[i]=this.create(c),1)}}init(n){return[this,jn.of({field:this,create:n})]}get extension(){return this}}const br={lowest:4,low:3,default:2,high:1,highest:0};function nr(u){return n=>new Ji(n,u)}const Lr={highest:nr(br.highest),high:nr(br.high),default:nr(br.default),low:nr(br.low),lowest:nr(br.lowest)};class Ji{constructor(n,i){this.inner=n,this.prec=i}}class Ci{of(n){return new $i(this,n)}reconfigure(n){return Ci.reconfigure.of({compartment:this,extension:n})}get(n){return n.config.compartments.get(this)}}class $i{constructor(n,i){this.compartment=n,this.inner=i}}class It{constructor(n,i,c,d,m,C){for(this.base=n,this.compartments=i,this.dynamicSlots=c,this.address=d,this.staticValues=m,this.facets=C,this.statusTemplate=[];this.statusTemplate.length<c.length;)this.statusTemplate.push(0)}staticFacet(n){let i=this.address[n.id];return i==null?n.default:this.staticValues[i>>1]}static resolve(n,i,c){let d=[],m=Object.create(null),C=new Map;for(let lt of Q(n,i,C))lt instanceof dr?d.push(lt):(m[lt.facet.id]||(m[lt.facet.id]=[])).push(lt);let O=Object.create(null),G=[],oe=[];for(let lt of d)O[lt.id]=oe.length<<1,oe.push(Kt=>lt.slot(Kt));let le=c==null?void 0:c.config.facets;for(let lt in m){let Kt=m[lt],Wn=Kt[0].facet,Br=le&&le[lt]||[];if(Kt.every(ti=>ti.type==0))if(O[Wn.id]=G.length<<1|1,ir(Br,Kt))G.push(c.facet(Wn));else{let ti=Wn.combine(Kt.map(gi=>gi.value));G.push(c&&Wn.compare(ti,c.facet(Wn))?c.facet(Wn):ti)}else{for(let ti of Kt)ti.type==0?(O[ti.id]=G.length<<1|1,G.push(ti.value)):(O[ti.id]=oe.length<<1,oe.push(gi=>ti.dynamicSlot(gi)));O[Wn.id]=oe.length<<1,oe.push(ti=>Yr(ti,Wn,Kt))}}let ke=oe.map(lt=>lt(O));return new It(n,C,ke,O,G,m)}}function Q(u,n,i){let c=[[],[],[],[],[]],d=new Map;function m(C,O){let G=d.get(C);if(G!=null){if(G<=O)return;let oe=c[G].indexOf(C);oe>-1&&c[G].splice(oe,1),C instanceof $i&&i.delete(C.compartment)}if(d.set(C,O),Array.isArray(C))for(let oe of C)m(oe,O);else if(C instanceof $i){if(i.has(C.compartment))throw new RangeError("Duplicate use of compartment in extensions");let oe=n.get(C.compartment)||C.inner;i.set(C.compartment,oe),m(oe,O)}else if(C instanceof Ji)m(C.inner,C.prec);else if(C instanceof dr)c[O].push(C),C.provides&&m(C.provides,O);else if(C instanceof Or)c[O].push(C),C.facet.extensions&&m(C.facet.extensions,br.default);else{let oe=C.extension;if(!oe)throw new Error(`Unrecognized extension value in extension set (${C}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);m(oe,O)}}return m(u,br.default),c.reduce((C,O)=>C.concat(O))}function we(u,n){if(n&1)return 2;let i=n>>1,c=u.status[i];if(c==4)throw new Error("Cyclic dependency between fields and/or facets");if(c&2)return c;u.status[i]=4;let d=u.computeSlot(u,u.config.dynamicSlots[i]);return u.status[i]=2|d}function Nt(u,n){return n&1?u.config.staticValues[n>>1]:u.values[n>>1]}const jt=tn.define(),gt=tn.define({combine:u=>u.some(n=>n),static:!0}),Je=tn.define({combine:u=>u.length?u[0]:void 0,static:!0}),pt=tn.define(),rt=tn.define(),qt=tn.define(),Dn=tn.define({combine:u=>u.length?u[0]:!1});class _n{constructor(n,i){this.type=n,this.value=i}static define(){return new Wr}}class Wr{of(n){return new _n(this,n)}}class Qn{constructor(n){this.map=n}of(n){return new it(this,n)}}class it{constructor(n,i){this.type=n,this.value=i}map(n){let i=this.type.map(this.value,n);return i===void 0?void 0:i==this.value?this:new it(this.type,i)}is(n){return this.type==n}static define(n={}){return new Qn(n.map||(i=>i))}static mapEffects(n,i){if(!n.length)return n;let c=[];for(let d of n){let m=d.map(i);m&&c.push(m)}return c}}it.reconfigure=it.define(),it.appendConfig=it.define();class mn{constructor(n,i,c,d,m,C){this.startState=n,this.changes=i,this.selection=c,this.effects=d,this.annotations=m,this.scrollIntoView=C,this._doc=null,this._state=null,c&&$t(c,i.newLength),m.some(O=>O.type==mn.time)||(this.annotations=m.concat(mn.time.of(Date.now())))}static create(n,i,c,d,m,C){return new mn(n,i,c,d,m,C)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(n){for(let i of this.annotations)if(i.type==n)return i.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(n){let i=this.annotation(mn.userEvent);return!!(i&&(i==n||i.length>n.length&&i.slice(0,n.length)==n&&i[n.length]=="."))}}mn.time=_n.define(),mn.userEvent=_n.define(),mn.addToHistory=_n.define(),mn.remote=_n.define();function kn(u,n){let i=[];for(let c=0,d=0;;){let m,C;if(c<u.length&&(d==n.length||n[d]>=u[c]))m=u[c++],C=u[c++];else if(d<n.length)m=n[d++],C=n[d++];else return i;!i.length||i[i.length-1]<m?i.push(m,C):i[i.length-1]<C&&(i[i.length-1]=C)}}function gr(u,n,i){var c;let d,m,C;return i?(d=n.changes,m=Cn.empty(n.changes.length),C=u.changes.compose(n.changes)):(d=n.changes.map(u.changes),m=u.changes.mapDesc(n.changes,!0),C=u.changes.compose(d)),{changes:C,selection:n.selection?n.selection.map(m):(c=u.selection)===null||c===void 0?void 0:c.map(d),effects:it.mapEffects(u.effects,d).concat(it.mapEffects(n.effects,m)),annotations:u.annotations.length?u.annotations.concat(n.annotations):n.annotations,scrollIntoView:u.scrollIntoView||n.scrollIntoView}}function kr(u,n,i){let c=n.selection,d=_t(n.annotations);return n.userEvent&&(d=d.concat(mn.userEvent.of(n.userEvent))),{changes:n.changes instanceof Cn?n.changes:Cn.of(n.changes||[],i,u.facet(Je)),selection:c&&(c instanceof $e?c:$e.single(c.anchor,c.head)),effects:_t(n.effects),annotations:d,scrollIntoView:!!n.scrollIntoView}}function Ei(u,n,i){let c=kr(u,n.length?n[0]:{},u.doc.length);n.length&&n[0].filter===!1&&(i=!1);for(let m=1;m<n.length;m++){n[m].filter===!1&&(i=!1);let C=!!n[m].sequential;c=gr(c,kr(u,n[m],C?c.changes.newLength:u.doc.length),C)}let d=mn.create(u,c.changes,c.selection,c.effects,c.annotations,c.scrollIntoView);return Tt(i?er(d):d)}function er(u){let n=u.startState,i=!0;for(let d of n.facet(pt)){let m=d(u);if(m===!1){i=!1;break}Array.isArray(m)&&(i=i===!0?m:kn(i,m))}if(i!==!0){let d,m;if(i===!1)m=u.changes.invertedDesc,d=Cn.empty(n.doc.length);else{let C=u.changes.filter(i);d=C.changes,m=C.filtered.mapDesc(C.changes).invertedDesc}u=mn.create(n,d,u.selection&&u.selection.map(m),it.mapEffects(u.effects,m),u.annotations,u.scrollIntoView)}let c=n.facet(rt);for(let d=c.length-1;d>=0;d--){let m=c[d](u);m instanceof mn?u=m:Array.isArray(m)&&m.length==1&&m[0]instanceof mn?u=m[0]:u=Ei(n,_t(m),!1)}return u}function Tt(u){let n=u.startState,i=n.facet(qt),c=u;for(let d=i.length-1;d>=0;d--){let m=i[d](u);m&&Object.keys(m).length&&(c=gr(c,kr(n,m,u.changes.newLength),!0))}return c==u?u:mn.create(n,u.changes,u.selection,c.effects,c.annotations,c.scrollIntoView)}const sn=[];function _t(u){return u==null?sn:Array.isArray(u)?u:[u]}var Ut=function(u){return u[u.Word=0]="Word",u[u.Space=1]="Space",u[u.Other=2]="Other",u}(Ut||(Ut={}));const Rn=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Cr;try{Cr=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(u){}function si(u){if(Cr)return Cr.test(u);for(let n=0;n<u.length;n++){let i=u[n];if(/\w/.test(i)||i>"\x80"&&(i.toUpperCase()!=i.toLowerCase()||Rn.test(i)))return!0}return!1}function tr(u){return n=>{if(!/\S/.test(n))return Ut.Space;if(si(n))return Ut.Word;for(let i=0;i<u.length;i++)if(n.indexOf(u[i])>-1)return Ut.Word;return Ut.Other}}class xn{constructor(n,i,c,d,m,C){this.config=n,this.doc=i,this.selection=c,this.values=d,this.status=n.statusTemplate.slice(),this.computeSlot=m,C&&(C._state=this);for(let O=0;O<this.config.dynamicSlots.length;O++)we(this,O<<1);this.computeSlot=null}field(n,i=!0){let c=this.config.address[n.id];if(c==null){if(i)throw new RangeError("Field is not present in this state");return}return we(this,c),Nt(this,c)}update(...n){return Ei(this,n,!0)}applyTransaction(n){let i=this.config,{base:c,compartments:d}=i;for(let O of n.effects)O.is(Ci.reconfigure)?(i&&(d=new Map,i.compartments.forEach((G,oe)=>d.set(oe,G)),i=null),d.set(O.value.compartment,O.value.extension)):O.is(it.reconfigure)?(i=null,c=O.value):O.is(it.appendConfig)&&(i=null,c=_t(c).concat(O.value));let m;i?m=n.startState.values.slice():(i=It.resolve(c,d,this),m=new xn(i,this.doc,this.selection,i.dynamicSlots.map(()=>null),(G,oe)=>oe.reconfigure(G,this),null).values);let C=n.startState.facet(gt)?n.newSelection:n.newSelection.asSingle();new xn(i,n.newDoc,C,m,(O,G)=>G.update(O,n),n)}replaceSelection(n){return typeof n=="string"&&(n=this.toText(n)),this.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:n},range:$e.cursor(i.from+n.length)}))}changeByRange(n){let i=this.selection,c=n(i.ranges[0]),d=this.changes(c.changes),m=[c.range],C=_t(c.effects);for(let O=1;O<i.ranges.length;O++){let G=n(i.ranges[O]),oe=this.changes(G.changes),le=oe.map(d);for(let lt=0;lt<O;lt++)m[lt]=m[lt].map(le);let ke=d.mapDesc(oe,!0);m.push(G.range.map(ke)),d=d.compose(le),C=it.mapEffects(C,le).concat(it.mapEffects(_t(G.effects),ke))}return{changes:d,selection:$e.create(m,i.mainIndex),effects:C}}changes(n=[]){return n instanceof Cn?n:Cn.of(n,this.doc.length,this.facet(xn.lineSeparator))}toText(n){return R.of(n.split(this.facet(xn.lineSeparator)||vn))}sliceDoc(n=0,i=this.doc.length){return this.doc.sliceString(n,i,this.lineBreak)}facet(n){let i=this.config.address[n.id];return i==null?n.default:(we(this,i),Nt(this,i))}toJSON(n){let i={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(n)for(let c in n){let d=n[c];d instanceof dr&&this.config.address[d.id]!=null&&(i[c]=d.spec.toJSON(this.field(n[c]),this))}return i}static fromJSON(n,i={},c){if(!n||typeof n.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let d=[];if(c){for(let m in c)if(Object.prototype.hasOwnProperty.call(n,m)){let C=c[m],O=n[m];d.push(C.init(G=>C.spec.fromJSON(O,G)))}}return xn.create({doc:n.doc,selection:$e.fromJSON(n.selection),extensions:i.extensions?d.concat([i.extensions]):d})}static create(n={}){let i=It.resolve(n.extensions||[],new Map),c=n.doc instanceof R?n.doc:R.of((n.doc||"").split(i.staticFacet(xn.lineSeparator)||vn)),d=n.selection?n.selection instanceof $e?n.selection:$e.single(n.selection.anchor,n.selection.head):$e.single(0);return $t(d,c.length),i.staticFacet(gt)||(d=d.asSingle()),new xn(i,c,d,i.dynamicSlots.map(()=>null),(m,C)=>C.create(m),null)}get tabSize(){return this.facet(xn.tabSize)}get lineBreak(){return this.facet(xn.lineSeparator)||`
`}get readOnly(){return this.facet(Dn)}phrase(n,...i){for(let c of this.facet(xn.phrases))if(Object.prototype.hasOwnProperty.call(c,n)){n=c[n];break}return i.length&&(n=n.replace(/\$(\$|\d*)/g,(c,d)=>{if(d=="$")return"$";let m=+(d||1);return!m||m>i.length?c:i[m-1]})),n}languageDataAt(n,i,c=-1){let d=[];for(let m of this.facet(jt))for(let C of m(this,i,c))Object.prototype.hasOwnProperty.call(C,n)&&d.push(C[n]);return d}charCategorizer(n){return tr(this.languageDataAt("wordChars",n).join(""))}wordAt(n){let{text:i,from:c,length:d}=this.doc.lineAt(n),m=this.charCategorizer(n),C=n-c,O=n-c;for(;C>0;){let G=ie(i,C,!1);if(m(i.slice(G,C))!=Ut.Word)break;C=G}for(;O<d;){let G=ie(i,O);if(m(i.slice(O,G))!=Ut.Word)break;O=G}return C==O?null:$e.range(C+c,O+c)}}xn.allowMultipleSelections=gt,xn.tabSize=tn.define({combine:u=>u.length?u[0]:4}),xn.lineSeparator=Je,xn.readOnly=Dn,xn.phrases=tn.define({compare(u,n){let i=Object.keys(u),c=Object.keys(n);return i.length==c.length&&i.every(d=>u[d]==n[d])}}),xn.languageData=jt,xn.changeFilter=pt,xn.transactionFilter=rt,xn.transactionExtender=qt,Ci.reconfigure=it.define();function Hn(u,n,i={}){let c={};for(let d of u)for(let m of Object.keys(d)){let C=d[m],O=c[m];if(O===void 0)c[m]=C;else if(!(O===C||C===void 0))if(Object.hasOwnProperty.call(i,m))c[m]=i[m](O,C);else throw new Error("Config merge conflict for field "+m)}for(let d in n)c[d]===void 0&&(c[d]=n[d]);return c}class Kn{eq(n){return this==n}range(n,i=n){return yn.create(n,i,this)}}Kn.prototype.startSide=Kn.prototype.endSide=0,Kn.prototype.point=!1,Kn.prototype.mapMode=ft.TrackDel;class yn{constructor(n,i,c){this.from=n,this.to=i,this.value=c}static create(n,i,c){return new yn(n,i,c)}}function Sr(u,n){return u.from-n.from||u.value.startSide-n.value.startSide}class yr{constructor(n,i,c,d){this.from=n,this.to=i,this.value=c,this.maxPoint=d}get length(){return this.to[this.to.length-1]}findIndex(n,i,c,d=0){let m=c?this.to:this.from;for(let C=d,O=m.length;;){if(C==O)return C;let G=C+O>>1,oe=m[G]-n||(c?this.value[G].endSide:this.value[G].startSide)-i;if(G==C)return oe>=0?C:O;oe>=0?O=G:C=G+1}}between(n,i,c,d){for(let m=this.findIndex(i,-1e9,!0),C=this.findIndex(c,1e9,!1,m);m<C;m++)if(d(this.from[m]+n,this.to[m]+n,this.value[m])===!1)return!1}map(n,i){let c=[],d=[],m=[],C=-1,O=-1;for(let G=0;G<this.value.length;G++){let oe=this.value[G],le=this.from[G]+n,ke=this.to[G]+n,lt,Kt;if(le==ke){let Wn=i.mapPos(le,oe.startSide,oe.mapMode);if(Wn==null||(lt=Kt=Wn,oe.startSide!=oe.endSide&&(Kt=i.mapPos(le,oe.endSide),Kt<lt)))continue}else if(lt=i.mapPos(le,oe.startSide),Kt=i.mapPos(ke,oe.endSide),lt>Kt||lt==Kt&&oe.startSide>0&&oe.endSide<=0)continue;(Kt-lt||oe.endSide-oe.startSide)<0||(C<0&&(C=lt),oe.point&&(O=Math.max(O,Kt-lt)),c.push(oe),d.push(lt-C),m.push(Kt-C))}return{mapped:c.length?new yr(d,m,c,O):null,pos:C}}}class Tr{constructor(n,i,c,d){this.chunkPos=n,this.chunk=i,this.nextLayer=c,this.maxPoint=d}static create(n,i,c,d){return new Tr(n,i,c,d)}get length(){let n=this.chunk.length-1;return n<0?0:Math.max(this.chunkEnd(n),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let n=this.nextLayer.size;for(let i of this.chunk)n+=i.value.length;return n}chunkEnd(n){return this.chunkPos[n]+this.chunk[n].length}update(n){let{add:i=[],sort:c=!1,filterFrom:d=0,filterTo:m=this.length}=n,C=n.filter;if(i.length==0&&!C)return this;if(c&&(i=i.slice().sort(Sr)),this.isEmpty)return i.length?Tr.of(i):this;let O=new Ke(this,null,-1).goto(0),G=0,oe=[],le=new hn;for(;O.value||G<i.length;)if(G<i.length&&(O.from-i[G].from||O.startSide-i[G].value.startSide)>=0){let ke=i[G++];le.addInner(ke.from,ke.to,ke.value)||oe.push(ke)}else O.rangeIndex==1&&O.chunkIndex<this.chunk.length&&(G==i.length||this.chunkEnd(O.chunkIndex)<i[G].from)&&(!C||d>this.chunkEnd(O.chunkIndex)||m<this.chunkPos[O.chunkIndex])&&le.addChunk(this.chunkPos[O.chunkIndex],this.chunk[O.chunkIndex])?O.nextChunk():((!C||d>O.to||m<O.from||C(O.from,O.to,O.value))&&(le.addInner(O.from,O.to,O.value)||oe.push(yn.create(O.from,O.to,O.value))),O.next());return le.finishInner(this.nextLayer.isEmpty&&!oe.length?Tr.empty:this.nextLayer.update({add:oe,filter:C,filterFrom:d,filterTo:m}))}map(n){if(n.empty||this.isEmpty)return this;let i=[],c=[],d=-1;for(let C=0;C<this.chunk.length;C++){let O=this.chunkPos[C],G=this.chunk[C],oe=n.touchesRange(O,O+G.length);if(oe===!1)d=Math.max(d,G.maxPoint),i.push(G),c.push(n.mapPos(O));else if(oe===!0){let{mapped:le,pos:ke}=G.map(O,n);le&&(d=Math.max(d,le.maxPoint),i.push(le),c.push(ke))}}let m=this.nextLayer.map(n);return i.length==0?m:new Tr(c,i,m||Tr.empty,d)}between(n,i,c){if(!this.isEmpty){for(let d=0;d<this.chunk.length;d++){let m=this.chunkPos[d],C=this.chunk[d];if(i>=m&&n<=m+C.length&&C.between(m,n-m,i-m,c)===!1)return}this.nextLayer.between(n,i,c)}}iter(n=0){return Xe.from([this]).goto(n)}get isEmpty(){return this.nextLayer==this}static iter(n,i=0){return Xe.from(n).goto(i)}static compare(n,i,c,d,m=-1){let C=n.filter(ke=>ke.maxPoint>0||!ke.isEmpty&&ke.maxPoint>=m),O=i.filter(ke=>ke.maxPoint>0||!ke.isEmpty&&ke.maxPoint>=m),G=or(C,O,c),oe=new me(C,G,m),le=new me(O,G,m);c.iterGaps((ke,lt,Kt)=>ze(oe,ke,le,lt,Kt,d)),c.empty&&c.length==0&&ze(oe,0,le,0,0,d)}static eq(n,i,c=0,d){d==null&&(d=999999999);let m=n.filter(le=>!le.isEmpty&&i.indexOf(le)<0),C=i.filter(le=>!le.isEmpty&&n.indexOf(le)<0);if(m.length!=C.length)return!1;if(!m.length)return!0;let O=or(m,C),G=new me(m,O,0).goto(c),oe=new me(C,O,0).goto(c);for(;;){if(G.to!=oe.to||!Oe(G.active,oe.active)||G.point&&(!oe.point||!G.point.eq(oe.point)))return!1;if(G.to>d)return!0;G.next(),oe.next()}}static spans(n,i,c,d,m=-1){let C=new me(n,null,m).goto(i),O=i,G=C.openStart;for(;;){let oe=Math.min(C.to,c);if(C.point){let le=C.activeForPoint(C.to),ke=C.pointFrom<i?le.length+1:C.point.startSide<0?le.length:Math.min(le.length,G);d.point(O,oe,C.point,le,ke,C.pointRank),G=Math.min(C.openEnd(oe),le.length)}else oe>O&&(d.span(O,oe,C.active,G),G=C.openEnd(oe));if(C.to>c)return G+(C.point&&C.to>c?1:0);O=C.to,C.next()}}static of(n,i=!1){let c=new hn;for(let d of n instanceof yn?[n]:i?rn(n):n)c.add(d.from,d.to,d.value);return c.finish()}static join(n){if(!n.length)return Tr.empty;let i=n[n.length-1];for(let c=n.length-2;c>=0;c--)for(let d=n[c];d!=Tr.empty;d=d.nextLayer)i=new Tr(d.chunkPos,d.chunk,i,Math.max(d.maxPoint,i.maxPoint));return i}}Tr.empty=new Tr([],[],null,-1);function rn(u){if(u.length>1)for(let n=u[0],i=1;i<u.length;i++){let c=u[i];if(Sr(n,c)>0)return u.slice().sort(Sr);n=c}return u}Tr.empty.nextLayer=Tr.empty;class hn{finishChunk(n){this.chunks.push(new yr(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,n&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(n,i,c){this.addInner(n,i,c)||(this.nextLayer||(this.nextLayer=new hn)).add(n,i,c)}addInner(n,i,c){let d=n-this.lastTo||c.startSide-this.last.endSide;if(d<=0&&(n-this.lastFrom||c.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return d<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=n),this.from.push(n-this.chunkStart),this.to.push(i-this.chunkStart),this.last=c,this.lastFrom=n,this.lastTo=i,this.value.push(c),c.point&&(this.maxPoint=Math.max(this.maxPoint,i-n)),!0)}addChunk(n,i){if((n-this.lastTo||i.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,i.maxPoint),this.chunks.push(i),this.chunkPos.push(n);let c=i.value.length-1;return this.last=i.value[c],this.lastFrom=i.from[c]+n,this.lastTo=i.to[c]+n,!0}finish(){return this.finishInner(Tr.empty)}finishInner(n){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return n;let i=Tr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(n):n,this.setMaxPoint);return this.from=null,i}}function or(u,n,i){let c=new Map;for(let m of u)for(let C=0;C<m.chunk.length;C++)m.chunk[C].maxPoint<=0&&c.set(m.chunk[C],m.chunkPos[C]);let d=new Set;for(let m of n)for(let C=0;C<m.chunk.length;C++){let O=c.get(m.chunk[C]);O!=null&&(i?i.mapPos(O):O)==m.chunkPos[C]&&!(i!=null&&i.touchesRange(O,O+m.chunk[C].length))&&d.add(m.chunk[C])}return d}class Ke{constructor(n,i,c,d=0){this.layer=n,this.skip=i,this.minPoint=c,this.rank=d}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(n,i=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(n,i,!1),this}gotoInner(n,i,c){for(;this.chunkIndex<this.layer.chunk.length;){let d=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(d)||this.layer.chunkEnd(this.chunkIndex)<n||d.maxPoint<this.minPoint))break;this.chunkIndex++,c=!1}if(this.chunkIndex<this.layer.chunk.length){let d=this.layer.chunk[this.chunkIndex].findIndex(n-this.layer.chunkPos[this.chunkIndex],i,!0);(!c||this.rangeIndex<d)&&this.setRangeIndex(d)}this.next()}forward(n,i){(this.to-n||this.endSide-i)<0&&this.gotoInner(n,i,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let n=this.layer.chunkPos[this.chunkIndex],i=this.layer.chunk[this.chunkIndex],c=n+i.from[this.rangeIndex];if(this.from=c,this.to=n+i.to[this.rangeIndex],this.value=i.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(n){if(n==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=n}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(n){return this.from-n.from||this.startSide-n.startSide||this.rank-n.rank||this.to-n.to||this.endSide-n.endSide}}class Xe{constructor(n){this.heap=n}static from(n,i=null,c=-1){let d=[];for(let m=0;m<n.length;m++)for(let C=n[m];!C.isEmpty;C=C.nextLayer)C.maxPoint>=c&&d.push(new Ke(C,i,c,m));return d.length==1?d[0]:new Xe(d)}get startSide(){return this.value?this.value.startSide:0}goto(n,i=-1e9){for(let c of this.heap)c.goto(n,i);for(let c=this.heap.length>>1;c>=0;c--)je(this.heap,c);return this.next(),this}forward(n,i){for(let c of this.heap)c.forward(n,i);for(let c=this.heap.length>>1;c>=0;c--)je(this.heap,c);(this.to-n||this.value.endSide-i)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let n=this.heap[0];this.from=n.from,this.to=n.to,this.value=n.value,this.rank=n.rank,n.value&&n.next(),je(this.heap,0)}}}function je(u,n){for(let i=u[n];;){let c=(n<<1)+1;if(c>=u.length)break;let d=u[c];if(c+1<u.length&&d.compare(u[c+1])>=0&&(d=u[c+1],c++),i.compare(d)<0)break;u[c]=i,u[n]=d,n=c}}class me{constructor(n,i,c){this.minPoint=c,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Xe.from(n,i,c)}goto(n,i=-1e9){return this.cursor.goto(n,i),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=n,this.endSide=i,this.openStart=-1,this.next(),this}forward(n,i){for(;this.minActive>-1&&(this.activeTo[this.minActive]-n||this.active[this.minActive].endSide-i)<0;)this.removeActive(this.minActive);this.cursor.forward(n,i)}removeActive(n){Y(this.active,n),Y(this.activeTo,n),Y(this.activeRank,n),this.minActive=W(this.active,this.activeTo)}addActive(n){let i=0,{value:c,to:d,rank:m}=this.cursor;for(;i<this.activeRank.length&&(m-this.activeRank[i]||d-this.activeTo[i])>0;)i++;ne(this.active,i,c),ne(this.activeTo,i,d),ne(this.activeRank,i,m),n&&ne(n,i,this.cursor.from),this.minActive=W(this.active,this.activeTo)}next(){let n=this.to,i=this.point;this.point=null;let c=this.openStart<0?[]:null;for(;;){let d=this.minActive;if(d>-1&&(this.activeTo[d]-this.cursor.from||this.active[d].endSide-this.cursor.startSide)<0){if(this.activeTo[d]>n){this.to=this.activeTo[d],this.endSide=this.active[d].endSide;break}this.removeActive(d),c&&Y(c,d)}else if(this.cursor.value)if(this.cursor.from>n){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let m=this.cursor.value;if(!m.point)this.addActive(c),this.cursor.next();else if(i&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=m,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=m.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(c){this.openStart=0;for(let d=c.length-1;d>=0&&c[d]<n;d--)this.openStart++}}activeForPoint(n){if(!this.active.length)return this.active;let i=[];for(let c=this.active.length-1;c>=0&&!(this.activeRank[c]<this.pointRank);c--)(this.activeTo[c]>n||this.activeTo[c]==n&&this.active[c].endSide>=this.point.endSide)&&i.push(this.active[c]);return i.reverse()}openEnd(n){let i=0;for(let c=this.activeTo.length-1;c>=0&&this.activeTo[c]>n;c--)i++;return i}}function ze(u,n,i,c,d,m){u.goto(n),i.goto(c);let C=c+d,O=c,G=c-n;for(;;){let oe=u.to+G-i.to||u.endSide-i.endSide,le=oe<0?u.to+G:i.to,ke=Math.min(le,C);if(u.point||i.point?u.point&&i.point&&(u.point==i.point||u.point.eq(i.point))&&Oe(u.activeForPoint(u.to),i.activeForPoint(i.to))||m.comparePoint(O,ke,u.point,i.point):ke>O&&!Oe(u.active,i.active)&&m.compareRange(O,ke,u.active,i.active),le>C)break;O=le,oe<=0&&u.next(),oe>=0&&i.next()}}function Oe(u,n){if(u.length!=n.length)return!1;for(let i=0;i<u.length;i++)if(u[i]!=n[i]&&!u[i].eq(n[i]))return!1;return!0}function Y(u,n){for(let i=n,c=u.length-1;i<c;i++)u[i]=u[i+1];u.pop()}function ne(u,n,i){for(let c=u.length-1;c>=n;c--)u[c+1]=u[c];u[n]=i}function W(u,n){let i=-1,c=1e9;for(let d=0;d<n.length;d++)(n[d]-c||u[d].endSide-u[i].endSide)<0&&(i=d,c=n[d]);return i}function S(u,n,i=u.length){let c=0;for(let d=0;d<i;)u.charCodeAt(d)==9?(c+=n-c%n,d++):(c++,d=ie(u,d));return c}function A(u,n,i,c){for(let d=0,m=0;;){if(m>=n)return d;if(d==u.length)break;m+=u.charCodeAt(d)==9?i-m%i:1,d=ie(u,d)}return c===!0?-1:u.length}const L="\u037C",ce=typeof Symbol=="undefined"?"__"+L:Symbol.for(L),ve=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),pe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class Ee{constructor(n,i){this.rules=[];let{finish:c}=i||{};function d(C){return/^@/.test(C)?[C]:C.split(/,\s*/)}function m(C,O,G,oe){let le=[],ke=/^@(\w+)\b/.exec(C[0]),lt=ke&&ke[1]=="keyframes";if(ke&&O==null)return G.push(C[0]+";");for(let Kt in O){let Wn=O[Kt];if(/&/.test(Kt))m(Kt.split(/,\s*/).map(Br=>C.map(ti=>Br.replace(/&/,ti))).reduce((Br,ti)=>Br.concat(ti)),Wn,G);else if(Wn&&typeof Wn=="object"){if(!ke)throw new RangeError("The value of a property ("+Kt+") should be a primitive value.");m(d(Kt),Wn,le,lt)}else Wn!=null&&le.push(Kt.replace(/_.*/,"").replace(/[A-Z]/g,Br=>"-"+Br.toLowerCase())+": "+Wn+";")}(le.length||lt)&&G.push((c&&!ke&&!oe?C.map(c):C).join(", ")+" {"+le.join(" ")+"}")}for(let C in n)m(d(C),n[C],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let n=pe[ce]||1;return pe[ce]=n+1,L+n.toString(36)}static mount(n,i,c){let d=n[ve],m=c&&c.nonce;d?m&&d.setNonce(m):d=new ct(n,m),d.mount(Array.isArray(i)?i:[i],n)}}let ht=new Map;class ct{constructor(n,i){let c=n.ownerDocument||n,d=c.defaultView;if(!n.head&&n.adoptedStyleSheets&&d.CSSStyleSheet){let m=ht.get(c);if(m)return n[ve]=m;this.sheet=new d.CSSStyleSheet,ht.set(c,this)}else this.styleTag=c.createElement("style"),i&&this.styleTag.setAttribute("nonce",i);this.modules=[],n[ve]=this}mount(n,i){let c=this.sheet,d=0,m=0;for(let C=0;C<n.length;C++){let O=n[C],G=this.modules.indexOf(O);if(G<m&&G>-1&&(this.modules.splice(G,1),m--,G=-1),G==-1){if(this.modules.splice(m++,0,O),c)for(let oe=0;oe<O.rules.length;oe++)c.insertRule(O.rules[oe],d++)}else{for(;m<G;)d+=this.modules[m++].rules.length;d+=O.rules.length,m++}}if(c)i.adoptedStyleSheets.indexOf(this.sheet)<0&&(i.adoptedStyleSheets=[this.sheet,...i.adoptedStyleSheets]);else{let C="";for(let G=0;G<this.modules.length;G++)C+=this.modules[G].getRules()+`
`;this.styleTag.textContent=C;let O=i.head||i;this.styleTag.parentNode!=O&&O.insertBefore(this.styleTag,O.firstChild)}}setNonce(n){this.styleTag&&this.styleTag.getAttribute("nonce")!=n&&this.styleTag.setAttribute("nonce",n)}}for(var nt={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Rt={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},kt=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),bn=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),pn=0;pn<10;pn++)nt[48+pn]=nt[96+pn]=String(pn);for(var pn=1;pn<=24;pn++)nt[pn+111]="F"+pn;for(var pn=65;pn<=90;pn++)nt[pn]=String.fromCharCode(pn+32),Rt[pn]=String.fromCharCode(pn);for(var Lt in nt)Rt.hasOwnProperty(Lt)||(Rt[Lt]=nt[Lt]);function Bt(u){var n=kt&&u.metaKey&&u.shiftKey&&!u.ctrlKey&&!u.altKey||bn&&u.shiftKey&&u.key&&u.key.length==1||u.key=="Unidentified",i=!n&&u.key||(u.shiftKey?Rt:nt)[u.keyCode]||u.key||"Unidentified";return i=="Esc"&&(i="Escape"),i=="Del"&&(i="Delete"),i=="Left"&&(i="ArrowLeft"),i=="Up"&&(i="ArrowUp"),i=="Right"&&(i="ArrowRight"),i=="Down"&&(i="ArrowDown"),i}function In(u){let n;return u.nodeType==11?n=u.getSelection?u:u.ownerDocument:n=u,n.getSelection()}function Zn(u,n){return n?u==n||u.contains(n.nodeType!=1?n.parentNode:n):!1}function sr(u){let n=u.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function ni(u,n){if(!n.anchorNode)return!1;try{return Zn(u,n.anchorNode)}catch(i){return!1}}function mi(u){return u.nodeType==3?Se(u,0,u.nodeValue.length).getClientRects():u.nodeType==1?u.getClientRects():[]}function Rr(u,n,i,c){return i?wi(u,n,i,c,-1)||wi(u,n,i,c,1):!1}function ai(u){for(var n=0;;n++)if(u=u.previousSibling,!u)return n}function li(u){return u.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(u.nodeName)}function wi(u,n,i,c,d){for(;;){if(u==i&&n==c)return!0;if(n==(d<0?0:Ct(u))){if(u.nodeName=="DIV")return!1;let m=u.parentNode;if(!m||m.nodeType!=1)return!1;n=ai(u)+(d<0?0:1),u=m}else if(u.nodeType==1){if(u=u.childNodes[n+(d<0?-1:0)],u.nodeType==1&&u.contentEditable=="false")return!1;n=d<0?Ct(u):0}else return!1}}function Ct(u){return u.nodeType==3?u.nodeValue.length:u.childNodes.length}function Zt(u,n){let i=n?u.left:u.right;return{left:i,right:i,top:u.top,bottom:u.bottom}}function Pr(u){let n=u.visualViewport;return n?{left:0,right:n.width,top:0,bottom:n.height}:{left:0,right:u.innerWidth,top:0,bottom:u.innerHeight}}function Gn(u,n){let i=n.width/u.offsetWidth,c=n.height/u.offsetHeight;return(i>.995&&i<1.005||!isFinite(i)||Math.abs(n.width-u.offsetWidth)<1)&&(i=1),(c>.995&&c<1.005||!isFinite(c)||Math.abs(n.height-u.offsetHeight)<1)&&(c=1),{scaleX:i,scaleY:c}}function vr(u,n,i,c,d,m,C,O){let G=u.ownerDocument,oe=G.defaultView||window;for(let le=u,ke=!1;le&&!ke;)if(le.nodeType==1){let lt,Kt=le==G.body,Wn=1,Br=1;if(Kt)lt=Pr(oe);else{if(/^(fixed|sticky)$/.test(getComputedStyle(le).position)&&(ke=!0),le.scrollHeight<=le.clientHeight&&le.scrollWidth<=le.clientWidth){le=le.assignedSlot||le.parentNode;continue}let wo=le.getBoundingClientRect();({scaleX:Wn,scaleY:Br}=Gn(le,wo)),lt={left:wo.left,right:wo.left+le.clientWidth*Wn,top:wo.top,bottom:wo.top+le.clientHeight*Br}}let ti=0,gi=0;if(d=="nearest")n.top<lt.top?(gi=-(lt.top-n.top+C),i>0&&n.bottom>lt.bottom+gi&&(gi=n.bottom-lt.bottom+gi+C)):n.bottom>lt.bottom&&(gi=n.bottom-lt.bottom+C,i<0&&n.top-gi<lt.top&&(gi=-(lt.top+gi-n.top+C)));else{let wo=n.bottom-n.top,ns=lt.bottom-lt.top;gi=(d=="center"&&wo<=ns?n.top+wo/2-ns/2:d=="start"||d=="center"&&i<0?n.top-C:n.bottom-ns+C)-lt.top}if(c=="nearest"?n.left<lt.left?(ti=-(lt.left-n.left+m),i>0&&n.right>lt.right+ti&&(ti=n.right-lt.right+ti+m)):n.right>lt.right&&(ti=n.right-lt.right+m,i<0&&n.left<lt.left+ti&&(ti=-(lt.left+ti-n.left+m))):ti=(c=="center"?n.left+(n.right-n.left)/2-(lt.right-lt.left)/2:c=="start"==O?n.left-m:n.right-(lt.right-lt.left)+m)-lt.left,ti||gi)if(Kt)oe.scrollBy(ti,gi);else{let wo=0,ns=0;if(gi){let Xo=le.scrollTop;le.scrollTop+=gi/Br,ns=(le.scrollTop-Xo)*Br}if(ti){let Xo=le.scrollLeft;le.scrollLeft+=ti/Wn,wo=(le.scrollLeft-Xo)*Wn}n={left:n.left-wo,top:n.top-ns,right:n.right-wo,bottom:n.bottom-ns},wo&&Math.abs(wo-ti)<1&&(c="nearest"),ns&&Math.abs(ns-gi)<1&&(d="nearest")}if(Kt)break;le=le.assignedSlot||le.parentNode}else if(le.nodeType==11)le=le.host;else break}function $r(u){let n=u.ownerDocument,i,c;for(let d=u.parentNode;d&&!(d==n.body||i&&c);)if(d.nodeType==1)!c&&d.scrollHeight>d.clientHeight&&(c=d),!i&&d.scrollWidth>d.clientWidth&&(i=d),d=d.assignedSlot||d.parentNode;else if(d.nodeType==11)d=d.host;else break;return{x:i,y:c}}class At{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(n){return this.anchorNode==n.anchorNode&&this.anchorOffset==n.anchorOffset&&this.focusNode==n.focusNode&&this.focusOffset==n.focusOffset}setRange(n){let{anchorNode:i,focusNode:c}=n;this.set(i,Math.min(n.anchorOffset,i?Ct(i):0),c,Math.min(n.focusOffset,c?Ct(c):0))}set(n,i,c,d){this.anchorNode=n,this.anchorOffset=i,this.focusNode=c,this.focusOffset=d}}let Be=null;function Re(u){if(u.setActive)return u.setActive();if(Be)return u.focus(Be);let n=[];for(let i=u;i&&(n.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(u.focus(Be==null?{get preventScroll(){return Be={preventScroll:!0},!0}}:void 0),!Be){Be=!1;for(let i=0;i<n.length;){let c=n[i++],d=n[i++],m=n[i++];c.scrollTop!=d&&(c.scrollTop=d),c.scrollLeft!=m&&(c.scrollLeft=m)}}}let Fe;function Se(u,n,i=n){let c=Fe||(Fe=document.createRange());return c.setEnd(u,i),c.setStart(u,n),c}function wt(u,n,i,c){let d={key:n,code:n,keyCode:i,which:i,cancelable:!0};c&&({altKey:d.altKey,ctrlKey:d.ctrlKey,shiftKey:d.shiftKey,metaKey:d.metaKey}=c);let m=new KeyboardEvent("keydown",d);m.synthetic=!0,u.dispatchEvent(m);let C=new KeyboardEvent("keyup",d);return C.synthetic=!0,u.dispatchEvent(C),m.defaultPrevented||C.defaultPrevented}function Gt(u){for(;u;){if(u&&(u.nodeType==9||u.nodeType==11&&u.host))return u;u=u.assignedSlot||u.parentNode}return null}function Sn(u){for(;u.attributes.length;)u.removeAttributeNode(u.attributes[0])}function Un(u,n){let i=n.focusNode,c=n.focusOffset;if(!i||n.anchorNode!=i||n.anchorOffset!=c)return!1;for(c=Math.min(c,Ct(i));;)if(c){if(i.nodeType!=1)return!1;let d=i.childNodes[c-1];d.contentEditable=="false"?c--:(i=d,c=Ct(i))}else{if(i==u)return!0;c=ai(i),i=i.parentNode}}function _e(u){return u.scrollTop>Math.max(1,u.scrollHeight-u.clientHeight-4)}function We(u,n){for(let i=u,c=n;;){if(i.nodeType==3&&c>0)return{node:i,offset:c};if(i.nodeType==1&&c>0){if(i.contentEditable=="false")return null;i=i.childNodes[c-1],c=Ct(i)}else if(i.parentNode&&!li(i))c=ai(i),i=i.parentNode;else return null}}function Ve(u,n){for(let i=u,c=n;;){if(i.nodeType==3&&c<i.nodeValue.length)return{node:i,offset:c};if(i.nodeType==1&&c<i.childNodes.length){if(i.contentEditable=="false")return null;i=i.childNodes[c],c=0}else if(i.parentNode&&!li(i))c=ai(i)+1,i=i.parentNode;else return null}}class Dt{constructor(n,i,c=!0){this.node=n,this.offset=i,this.precise=c}static before(n,i){return new Dt(n.parentNode,ai(n),i)}static after(n,i){return new Dt(n.parentNode,ai(n)+1,i)}}const An=[];class on{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(n){let i=this.posAtStart;for(let c of this.children){if(c==n)return i;i+=c.length+c.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(n){return this.posBefore(n)+n.length}sync(n,i){if(this.flags&2){let c=this.dom,d=null,m;for(let C of this.children){if(C.flags&7){if(!C.dom&&(m=d?d.nextSibling:c.firstChild)){let O=on.get(m);(!O||!O.parent&&O.canReuseDOM(C))&&C.reuseDOM(m)}C.sync(n,i),C.flags&=-8}if(m=d?d.nextSibling:c.firstChild,i&&!i.written&&i.node==c&&m!=C.dom&&(i.written=!0),C.dom.parentNode==c)for(;m&&m!=C.dom;)m=et(m);else c.insertBefore(C.dom,m);d=C.dom}for(m=d?d.nextSibling:c.firstChild,m&&i&&i.node==c&&(i.written=!0);m;)m=et(m)}else if(this.flags&1)for(let c of this.children)c.flags&7&&(c.sync(n,i),c.flags&=-8)}reuseDOM(n){}localPosFromDOM(n,i){let c;if(n==this.dom)c=this.dom.childNodes[i];else{let d=Ct(n)==0?0:i==0?-1:1;for(;;){let m=n.parentNode;if(m==this.dom)break;d==0&&m.firstChild!=m.lastChild&&(n==m.firstChild?d=-1:d=1),n=m}d<0?c=n:c=n.nextSibling}if(c==this.dom.firstChild)return 0;for(;c&&!on.get(c);)c=c.nextSibling;if(!c)return this.length;for(let d=0,m=0;;d++){let C=this.children[d];if(C.dom==c)return m;m+=C.length+C.breakAfter}}domBoundsAround(n,i,c=0){let d=-1,m=-1,C=-1,O=-1;for(let G=0,oe=c,le=c;G<this.children.length;G++){let ke=this.children[G],lt=oe+ke.length;if(oe<n&&lt>i)return ke.domBoundsAround(n,i,oe);if(lt>=n&&d==-1&&(d=G,m=oe),oe>i&&ke.dom.parentNode==this.dom){C=G,O=le;break}le=lt,oe=lt+ke.breakAfter}return{from:m,to:O<0?c+this.length:O,startDOM:(d?this.children[d-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:C<this.children.length&&C>=0?this.children[C].dom:null}}markDirty(n=!1){this.flags|=2,this.markParentsDirty(n)}markParentsDirty(n){for(let i=this.parent;i;i=i.parent){if(n&&(i.flags|=2),i.flags&1)return;i.flags|=1,n=!1}}setParent(n){this.parent!=n&&(this.parent=n,this.flags&7&&this.markParentsDirty(!0))}setDOM(n){this.dom!=n&&(this.dom&&(this.dom.cmView=null),this.dom=n,n.cmView=this)}get rootView(){for(let n=this;;){let i=n.parent;if(!i)return n;n=i}}replaceChildren(n,i,c=An){this.markDirty();for(let d=n;d<i;d++){let m=this.children[d];m.parent==this&&c.indexOf(m)<0&&m.destroy()}this.children.splice(n,i-n,...c);for(let d=0;d<c.length;d++)c[d].setParent(this)}ignoreMutation(n){return!1}ignoreEvent(n){return!1}childCursor(n=this.length){return new Tn(this.children,n,this.children.length)}childPos(n,i=1){return this.childCursor().findPos(n,i)}toString(){let n=this.constructor.name.replace("View","");return n+(this.children.length?"("+this.children.join()+")":this.length?"["+(n=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(n){return n.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(n,i,c,d,m,C){return!1}become(n){return!1}canReuseDOM(n){return n.constructor==this.constructor&&!((this.flags|n.flags)&8)}getSide(){return 0}destroy(){for(let n of this.children)n.parent==this&&n.destroy();this.parent=null}}on.prototype.breakAfter=0;function et(u){let n=u.nextSibling;return u.parentNode.removeChild(u),n}class Tn{constructor(n,i,c){this.children=n,this.pos=i,this.i=c,this.off=0}findPos(n,i=1){for(;;){if(n>this.pos||n==this.pos&&(i>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=n-this.pos,this;let c=this.children[--this.i];this.pos-=c.length+c.breakAfter}}}function zt(u,n,i,c,d,m,C,O,G){let{children:oe}=u,le=oe.length?oe[n]:null,ke=m.length?m[m.length-1]:null,lt=ke?ke.breakAfter:C;if(!(n==c&&le&&!C&&!lt&&m.length<2&&le.merge(i,d,m.length?ke:null,i==0,O,G))){if(c<oe.length){let Kt=oe[c];Kt&&(d<Kt.length||Kt.breakAfter&&(ke!=null&&ke.breakAfter))?(n==c&&(Kt=Kt.split(d),d=0),!lt&&ke&&Kt.merge(0,d,ke,!0,0,G)?m[m.length-1]=Kt:((d||Kt.children.length&&!Kt.children[0].length)&&Kt.merge(0,d,null,!1,0,G),m.push(Kt))):Kt!=null&&Kt.breakAfter&&(ke?ke.breakAfter=1:C=1),c++}for(le&&(le.breakAfter=C,i>0&&(!C&&m.length&&le.merge(i,le.length,m[0],!1,O,0)?le.breakAfter=m.shift().breakAfter:(i<le.length||le.children.length&&le.children[le.children.length-1].length==0)&&le.merge(i,le.length,null,!1,O,0),n++));n<c&&m.length;)if(oe[c-1].become(m[m.length-1]))c--,m.pop(),G=m.length?0:O;else if(oe[n].become(m[0]))n++,m.shift(),O=m.length?0:G;else break;!m.length&&n&&c<oe.length&&!oe[n-1].breakAfter&&oe[c].merge(0,0,oe[n-1],!1,O,G)&&n--,(n<c||m.length)&&u.replaceChildren(n,c,m)}}function Xn(u,n,i,c,d,m){let C=u.childCursor(),{i:O,off:G}=C.findPos(i,1),{i:oe,off:le}=C.findPos(n,-1),ke=n-i;for(let lt of c)ke+=lt.length;u.length+=ke,zt(u,oe,le,O,G,c,0,d,m)}let cr=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},ii=typeof document!="undefined"?document:{documentElement:{style:{}}};const ui=/Edge\/(\d+)/.exec(cr.userAgent),Mr=/MSIE \d/.test(cr.userAgent),jr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(cr.userAgent),eo=!!(Mr||jr||ui),yi=!eo&&/gecko\/(\d+)/i.test(cr.userAgent),ci=!eo&&/Chrome\/(\d+)/.exec(cr.userAgent),Si="webkitFontSmoothing"in ii.documentElement.style,Li=!eo&&/Apple Computer/.test(cr.vendor),to=Li&&(/Mobile\/\w+/.test(cr.userAgent)||cr.maxTouchPoints>2);var Kr={mac:to||/Mac/.test(cr.platform),windows:/Win/.test(cr.platform),linux:/Linux|X11/.test(cr.platform),ie:eo,ie_version:Mr?ii.documentMode||6:jr?+jr[1]:ui?+ui[1]:0,gecko:yi,gecko_version:yi?+(/Firefox\/(\d+)/.exec(cr.userAgent)||[0,0])[1]:0,chrome:!!ci,chrome_version:ci?+ci[1]:0,ios:to,android:/Android\b/.test(cr.userAgent),webkit:Si,safari:Li,webkit_version:Si?+(/\bAppleWebKit\/(\d+)/.exec(cr.userAgent)||[0,0])[1]:0,tabSize:ii.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const gs=256;class Cs extends on{constructor(n){super(),this.text=n}get length(){return this.text.length}createDOM(n){this.setDOM(n||document.createTextNode(this.text))}sync(n,i){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(i&&i.node==this.dom&&(i.written=!0),this.dom.nodeValue=this.text)}reuseDOM(n){n.nodeType==3&&this.createDOM(n)}merge(n,i,c){return this.flags&8||c&&(!(c instanceof Cs)||this.length-(i-n)+c.length>gs||c.flags&8)?!1:(this.text=this.text.slice(0,n)+(c?c.text:"")+this.text.slice(i),this.markDirty(),!0)}split(n){let i=new Cs(this.text.slice(n));return this.text=this.text.slice(0,n),this.markDirty(),i.flags|=this.flags&8,i}localPosFromDOM(n,i){return n==this.dom?i:i?this.text.length:0}domAtPos(n){return new Dt(this.dom,n)}domBoundsAround(n,i,c){return{from:c,to:c+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(n,i){return cs(this.dom,n,i)}}class es extends on{constructor(n,i=[],c=0){super(),this.mark=n,this.children=i,this.length=c;for(let d of i)d.setParent(this)}setAttrs(n){if(Sn(n),this.mark.class&&(n.className=this.mark.class),this.mark.attrs)for(let i in this.mark.attrs)n.setAttribute(i,this.mark.attrs[i]);return n}canReuseDOM(n){return super.canReuseDOM(n)&&!((this.flags|n.flags)&8)}reuseDOM(n){n.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(n),this.flags|=6)}sync(n,i){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(n,i)}merge(n,i,c,d,m,C){return c&&(!(c instanceof es&&c.mark.eq(this.mark))||n&&m<=0||i<this.length&&C<=0)?!1:(Xn(this,n,i,c?c.children.slice():[],m-1,C-1),this.markDirty(),!0)}split(n){let i=[],c=0,d=-1,m=0;for(let O of this.children){let G=c+O.length;G>n&&i.push(c<n?O.split(n-c):O),d<0&&c>=n&&(d=m),c=G,m++}let C=this.length-n;return this.length=n,d>-1&&(this.children.length=d,this.markDirty()),new es(this.mark,i,C)}domAtPos(n){return Ko(this,n)}coordsAt(n,i){return _(this,n,i)}}function cs(u,n,i){let c=u.nodeValue.length;n>c&&(n=c);let d=n,m=n,C=0;n==0&&i<0||n==c&&i>=0?Kr.chrome||Kr.gecko||(n?(d--,C=1):m<c&&(m++,C=-1)):i<0?d--:m<c&&m++;let O=Se(u,d,m).getClientRects();if(!O.length)return null;let G=O[(C?C<0:i>=0)?0:O.length-1];return Kr.safari&&!C&&G.width==0&&(G=Array.prototype.find.call(O,oe=>oe.width)||G),C?Zt(G,C<0):G||null}class To extends on{static create(n,i,c){return new To(n,i,c)}constructor(n,i,c){super(),this.widget=n,this.length=i,this.side=c,this.prevWidget=null}split(n){let i=To.create(this.widget,this.length-n,this.side);return this.length-=n,i}sync(n){(!this.dom||!this.widget.updateDOM(this.dom,n))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(n)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(n,i,c,d,m,C){return c&&(!(c instanceof To)||!this.widget.compare(c.widget)||n>0&&m<=0||i<this.length&&C<=0)?!1:(this.length=n+(c?c.length:0)+(this.length-i),!0)}become(n){return n instanceof To&&n.side==this.side&&this.widget.constructor==n.widget.constructor?(this.widget.compare(n.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=n.widget,this.length=n.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(n){return this.widget.ignoreEvent(n)}get overrideDOMText(){if(this.length==0)return R.empty;let n=this;for(;n.parent;)n=n.parent;let{view:i}=n,c=i&&i.state.doc,d=this.posAtStart;return c?c.slice(d,d+this.length):R.empty}domAtPos(n){return(this.length?n==0:this.side>0)?Dt.before(this.dom):Dt.after(this.dom,n==this.length)}domBoundsAround(){return null}coordsAt(n,i){let c=this.widget.coordsAt(this.dom,n,i);if(c)return c;let d=this.dom.getClientRects(),m=null;if(!d.length)return null;let C=this.side?this.side<0:n>0;for(let O=C?d.length-1:0;m=d[O],!(n>0?O==0:O==d.length-1||m.top<m.bottom);O+=C?-1:1);return Zt(m,!C)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Do extends on{constructor(n){super(),this.side=n}get length(){return 0}merge(){return!1}become(n){return n instanceof Do&&n.side==this.side}split(){return new Do(this.side)}sync(){if(!this.dom){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),this.setDOM(n)}}getSide(){return this.side}domAtPos(n){return this.side>0?Dt.before(this.dom):Dt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(n){return this.dom.getBoundingClientRect()}get overrideDOMText(){return R.empty}get isHidden(){return!0}}Cs.prototype.children=To.prototype.children=Do.prototype.children=An;function Ko(u,n){let i=u.dom,{children:c}=u,d=0;for(let m=0;d<c.length;d++){let C=c[d],O=m+C.length;if(!(O==m&&C.getSide()<=0)){if(n>m&&n<O&&C.dom.parentNode==i)return C.domAtPos(n-m);if(n<=m)break;m=O}}for(let m=d;m>0;m--){let C=c[m-1];if(C.dom.parentNode==i)return C.domAtPos(C.length)}for(let m=d;m<c.length;m++){let C=c[m];if(C.dom.parentNode==i)return C.domAtPos(0)}return new Dt(i,0)}function os(u,n,i){let c,{children:d}=u;i>0&&n instanceof es&&d.length&&(c=d[d.length-1])instanceof es&&c.mark.eq(n.mark)?os(c,n.children[0],i-1):(d.push(n),n.setParent(u)),u.length+=n.length}function _(u,n,i){let c=null,d=-1,m=null,C=-1;function O(oe,le){for(let ke=0,lt=0;ke<oe.children.length&&lt<=le;ke++){let Kt=oe.children[ke],Wn=lt+Kt.length;Wn>=le&&(Kt.children.length?O(Kt,le-lt):(!m||m.isHidden&&i>0)&&(Wn>le||lt==Wn&&Kt.getSide()>0)?(m=Kt,C=le-lt):(lt<le||lt==Wn&&Kt.getSide()<0&&!Kt.isHidden)&&(c=Kt,d=le-lt)),lt=Wn}}O(u,n);let G=(i<0?c:m)||c||m;return G?G.coordsAt(Math.max(0,G==c?d:C),i):K(u)}function K(u){let n=u.dom.lastChild;if(!n)return u.dom.getBoundingClientRect();let i=mi(n);return i[i.length-1]||null}function he(u,n){for(let i in u)i=="class"&&n.class?n.class+=" "+u.class:i=="style"&&n.style?n.style+=";"+u.style:n[i]=u[i];return n}const ye=Object.create(null);function Ue(u,n,i){if(u==n)return!0;u||(u=ye),n||(n=ye);let c=Object.keys(u),d=Object.keys(n);if(c.length-(i&&c.indexOf(i)>-1?1:0)!=d.length-(i&&d.indexOf(i)>-1?1:0))return!1;for(let m of c)if(m!=i&&(d.indexOf(m)==-1||u[m]!==n[m]))return!1;return!0}function He(u,n,i){let c=!1;if(n)for(let d in n)i&&d in i||(c=!0,d=="style"?u.style.cssText="":u.removeAttribute(d));if(i)for(let d in i)n&&n[d]==i[d]||(c=!0,d=="style"?u.style.cssText=i[d]:u.setAttribute(d,i[d]));return c}function dt(u){let n=Object.create(null);for(let i=0;i<u.attributes.length;i++){let c=u.attributes[i];n[c.name]=c.value}return n}class wn{eq(n){return!1}updateDOM(n,i){return!1}compare(n){return this==n||this.constructor==n.constructor&&this.eq(n)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(n){return!0}coordsAt(n,i,c){return null}get isHidden(){return!1}get editable(){return!1}destroy(n){}}var gn=function(u){return u[u.Text=0]="Text",u[u.WidgetBefore=1]="WidgetBefore",u[u.WidgetAfter=2]="WidgetAfter",u[u.WidgetRange=3]="WidgetRange",u}(gn||(gn={}));class Pn extends Kn{constructor(n,i,c,d){super(),this.startSide=n,this.endSide=i,this.widget=c,this.spec=d}get heightRelevant(){return!1}static mark(n){return new zr(n)}static widget(n){let i=Math.max(-1e4,Math.min(1e4,n.side||0)),c=!!n.block;return i+=c&&!n.inlineOrder?i>0?3e8:-4e8:i>0?1e8:-1e8,new Hr(n,i,i,c,n.widget||null,!1)}static replace(n){let i=!!n.block,c,d;if(n.isBlockGap)c=-5e8,d=4e8;else{let{start:m,end:C}=bi(n,i);c=(m?i?-3e8:-1:5e8)-1,d=(C?i?2e8:1:-6e8)+1}return new Hr(n,c,d,i,n.widget||null,!0)}static line(n){return new Gr(n)}static set(n,i=!1){return Tr.of(n,i)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Pn.none=Tr.empty;class zr extends Pn{constructor(n){let{start:i,end:c}=bi(n);super(i?-1:5e8,c?1:-6e8,null,n),this.tagName=n.tagName||"span",this.class=n.class||"",this.attrs=n.attributes||null}eq(n){var i,c;return this==n||n instanceof zr&&this.tagName==n.tagName&&(this.class||((i=this.attrs)===null||i===void 0?void 0:i.class))==(n.class||((c=n.attrs)===null||c===void 0?void 0:c.class))&&Ue(this.attrs,n.attrs,"class")}range(n,i=n){if(n>=i)throw new RangeError("Mark decorations may not be empty");return super.range(n,i)}}zr.prototype.point=!1;class Gr extends Pn{constructor(n){super(-2e8,-2e8,null,n)}eq(n){return n instanceof Gr&&this.spec.class==n.spec.class&&Ue(this.spec.attributes,n.spec.attributes)}range(n,i=n){if(i!=n)throw new RangeError("Line decoration ranges must be zero-length");return super.range(n,i)}}Gr.prototype.mapMode=ft.TrackBefore,Gr.prototype.point=!0;class Hr extends Pn{constructor(n,i,c,d,m,C){super(i,c,m,n),this.block=d,this.isReplace=C,this.mapMode=d?i<=0?ft.TrackBefore:ft.TrackAfter:ft.TrackDel}get type(){return this.startSide!=this.endSide?gn.WidgetRange:this.startSide<=0?gn.WidgetBefore:gn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(n){return n instanceof Hr&&Vo(this.widget,n.widget)&&this.block==n.block&&this.startSide==n.startSide&&this.endSide==n.endSide}range(n,i=n){if(this.isReplace&&(n>i||n==i&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&i!=n)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(n,i)}}Hr.prototype.point=!0;function bi(u,n=!1){let{inclusiveStart:i,inclusiveEnd:c}=u;return i==null&&(i=u.inclusive),c==null&&(c=u.inclusive),{start:i!=null?i:n,end:c!=null?c:n}}function Vo(u,n){return u==n||!!(u&&n&&u.compare(n))}function Uo(u,n,i,c=0){let d=i.length-1;d>=0&&i[d]+c>=u?i[d]=Math.max(i[d],n):i.push(u,n)}class Zo extends on{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(n,i,c,d,m,C){if(c){if(!(c instanceof Zo))return!1;this.dom||c.transferDOM(this)}return d&&this.setDeco(c?c.attrs:null),Xn(this,n,i,c?c.children.slice():[],m,C),!0}split(n){let i=new Zo;if(i.breakAfter=this.breakAfter,this.length==0)return i;let{i:c,off:d}=this.childPos(n);d&&(i.append(this.children[c].split(d),0),this.children[c].merge(d,this.children[c].length,null,!1,0,0),c++);for(let m=c;m<this.children.length;m++)i.append(this.children[m],0);for(;c>0&&this.children[c-1].length==0;)this.children[--c].destroy();return this.children.length=c,this.markDirty(),this.length=n,i}transferDOM(n){this.dom&&(this.markDirty(),n.setDOM(this.dom),n.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(n){Ue(this.attrs,n)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=n)}append(n,i){os(this,n,i)}addLineDeco(n){let i=n.spec.attributes,c=n.spec.class;i&&(this.attrs=he(i,this.attrs||{})),c&&(this.attrs=he({class:c},this.attrs||{}))}domAtPos(n){return Ko(this,n)}reuseDOM(n){n.nodeName=="DIV"&&(this.setDOM(n),this.flags|=6)}sync(n,i){var c;this.dom?this.flags&4&&(Sn(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(He(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(n,i);let d=this.dom.lastChild;for(;d&&on.get(d)instanceof es;)d=d.lastChild;if(!d||!this.length||d.nodeName!="BR"&&((c=on.get(d))===null||c===void 0?void 0:c.isEditable)==!1&&(!Kr.ios||!this.children.some(m=>m instanceof Cs))){let m=document.createElement("BR");m.cmIgnore=!0,this.dom.appendChild(m)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let n=0,i;for(let c of this.children){if(!(c instanceof Cs)||/[^ -~]/.test(c.text))return null;let d=mi(c.dom);if(d.length!=1)return null;n+=d[0].width,i=d[0].height}return n?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:n/this.length,textHeight:i}:null}coordsAt(n,i){let c=_(this,n,i);if(!this.children.length&&c&&this.parent){let{heightOracle:d}=this.parent.view.viewState,m=c.bottom-c.top;if(Math.abs(m-d.lineHeight)<2&&d.textHeight<m){let C=(m-d.textHeight)/2;return{top:c.top+C,bottom:c.bottom-C,left:c.left,right:c.left}}}return c}become(n){return n instanceof Zo&&this.children.length==0&&n.children.length==0&&Ue(this.attrs,n.attrs)&&this.breakAfter==n.breakAfter}covers(){return!0}static find(n,i){for(let c=0,d=0;c<n.children.length;c++){let m=n.children[c],C=d+m.length;if(C>=i){if(m instanceof Zo)return m;if(C>i)break}d=C+m.breakAfter}return null}}class Ns extends on{constructor(n,i,c){super(),this.widget=n,this.length=i,this.deco=c,this.breakAfter=0,this.prevWidget=null}merge(n,i,c,d,m,C){return c&&(!(c instanceof Ns)||!this.widget.compare(c.widget)||n>0&&m<=0||i<this.length&&C<=0)?!1:(this.length=n+(c?c.length:0)+(this.length-i),!0)}domAtPos(n){return n==0?Dt.before(this.dom):Dt.after(this.dom,n==this.length)}split(n){let i=this.length-n;this.length=n;let c=new Ns(this.widget,i,this.deco);return c.breakAfter=this.breakAfter,c}get children(){return An}sync(n){(!this.dom||!this.widget.updateDOM(this.dom,n))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(n)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):R.empty}domBoundsAround(){return null}become(n){return n instanceof Ns&&n.widget.constructor==this.widget.constructor?(n.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=n.widget,this.length=n.length,this.deco=n.deco,this.breakAfter=n.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(n){return this.widget.ignoreEvent(n)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(n,i){let c=this.widget.coordsAt(this.dom,n,i);return c||(this.widget instanceof Ms?null:Zt(this.dom.getBoundingClientRect(),this.length?n==0:i<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(n){let{startSide:i,endSide:c}=this.deco;return i==c?!1:n<0?i<0:c>0}}class Ms extends wn{constructor(n){super(),this.height=n}toDOM(){let n=document.createElement("div");return n.className="cm-gap",this.updateDOM(n),n}eq(n){return n.height==this.height}updateDOM(n){return n.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class No{constructor(n,i,c,d){this.doc=n,this.pos=i,this.end=c,this.disallowBlockEffectsFor=d,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=n.iter(),this.skip=i}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let n=this.content[this.content.length-1];return!(n.breakAfter||n instanceof Ns&&n.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Zo),this.atCursorPos=!0),this.curLine}flushBuffer(n=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(ws(new Do(-1),n),n.length),this.pendingBuffer=0)}addBlockWidget(n){this.flushBuffer(),this.curLine=null,this.content.push(n)}finish(n){this.pendingBuffer&&n<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(n&&this.content.length&&this.content[this.content.length-1]instanceof Ns)&&this.getLine()}buildText(n,i,c){for(;n>0;){if(this.textOff==this.text.length){let{value:m,lineBreak:C,done:O}=this.cursor.next(this.skip);if(this.skip=0,O)throw new Error("Ran out of text content when drawing inline views");if(C){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,n--;continue}else this.text=m,this.textOff=0}let d=Math.min(this.text.length-this.textOff,n,512);this.flushBuffer(i.slice(i.length-c)),this.getLine().append(ws(new Cs(this.text.slice(this.textOff,this.textOff+d)),i),c),this.atCursorPos=!0,this.textOff+=d,n-=d,c=0}}span(n,i,c,d){this.buildText(i-n,c,d),this.pos=i,this.openStart<0&&(this.openStart=d)}point(n,i,c,d,m,C){if(this.disallowBlockEffectsFor[C]&&c instanceof Hr){if(c.block)throw new RangeError("Block decorations may not be specified via plugins");if(i>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let O=i-n;if(c instanceof Hr)if(c.block)c.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ns(c.widget||Hi.block,O,c));else{let G=To.create(c.widget||Hi.inline,O,O?0:c.startSide),oe=this.atCursorPos&&!G.isEditable&&m<=d.length&&(n<i||c.startSide>0),le=!G.isEditable&&(n<i||m>d.length||c.startSide<=0),ke=this.getLine();this.pendingBuffer==2&&!oe&&!G.isEditable&&(this.pendingBuffer=0),this.flushBuffer(d),oe&&(ke.append(ws(new Do(1),d),m),m=d.length+Math.max(0,m-d.length)),ke.append(ws(G,d),m),this.atCursorPos=le,this.pendingBuffer=le?n<i||m>d.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=d.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(c);O&&(this.textOff+O<=this.text.length?this.textOff+=O:(this.skip+=O-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=i),this.openStart<0&&(this.openStart=m)}static build(n,i,c,d,m){let C=new No(n,i,c,m);return C.openEnd=Tr.spans(d,i,c,C),C.openStart<0&&(C.openStart=C.openEnd),C.finish(C.openEnd),C}}function ws(u,n){for(let i of n)u=new es(i,[u],u.length);return u}class Hi extends wn{constructor(n){super(),this.tag=n}eq(n){return n.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(n){return n.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Hi.inline=new Hi("span"),Hi.block=new Hi("div");var ms=function(u){return u[u.LTR=0]="LTR",u[u.RTL=1]="RTL",u}(ms||(ms={}));const Pt=ms.LTR,ot=ms.RTL;function Ft(u){let n=[];for(let i=0;i<u.length;i++)n.push(1<<+u[i]);return n}const Qt=Ft("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ht=Ft("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),$n=Object.create(null),Vn=[];for(let u of["()","[]","{}"]){let n=u.charCodeAt(0),i=u.charCodeAt(1);$n[n]=i,$n[i]=-n}function Er(u){return u<=247?Qt[u]:1424<=u&&u<=1524?2:1536<=u&&u<=1785?Ht[u-1536]:1774<=u&&u<=2220?4:8192<=u&&u<=8204?256:64336<=u&&u<=65023?4:1}const io=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Mi{get dir(){return this.level%2?ot:Pt}constructor(n,i,c){this.from=n,this.to=i,this.level=c}side(n,i){return this.dir==i==n?this.to:this.from}forward(n,i){return n==(this.dir==i)}static find(n,i,c,d){let m=-1;for(let C=0;C<n.length;C++){let O=n[C];if(O.from<=i&&O.to>=i){if(O.level==c)return C;(m<0||(d!=0?d<0?O.from<i:O.to>i:n[m].level>O.level))&&(m=C)}}if(m<0)throw new RangeError("Index out of range");return m}}function Ki(u,n){if(u.length!=n.length)return!1;for(let i=0;i<u.length;i++){let c=u[i],d=n[i];if(c.from!=d.from||c.to!=d.to||c.direction!=d.direction||!Ki(c.inner,d.inner))return!1}return!0}const qi=[];function Ri(u,n,i,c,d){for(let m=0;m<=c.length;m++){let C=m?c[m-1].to:n,O=m<c.length?c[m].from:i,G=m?256:d;for(let oe=C,le=G,ke=G;oe<O;oe++){let lt=Er(u.charCodeAt(oe));lt==512?lt=le:lt==8&&ke==4&&(lt=16),qi[oe]=lt==4?2:lt,lt&7&&(ke=lt),le=lt}for(let oe=C,le=G,ke=G;oe<O;oe++){let lt=qi[oe];if(lt==128)oe<O-1&&le==qi[oe+1]&&le&24?lt=qi[oe]=le:qi[oe]=256;else if(lt==64){let Kt=oe+1;for(;Kt<O&&qi[Kt]==64;)Kt++;let Wn=oe&&le==8||Kt<i&&qi[Kt]==8?ke==1?1:8:256;for(let Br=oe;Br<Kt;Br++)qi[Br]=Wn;oe=Kt-1}else lt==8&&ke==1&&(qi[oe]=1);le=lt,lt&7&&(ke=lt)}}}function Ts(u,n,i,c,d){let m=d==1?2:1;for(let C=0,O=0,G=0;C<=c.length;C++){let oe=C?c[C-1].to:n,le=C<c.length?c[C].from:i;for(let ke=oe,lt,Kt,Wn;ke<le;ke++)if(Kt=$n[lt=u.charCodeAt(ke)])if(Kt<0){for(let Br=O-3;Br>=0;Br-=3)if(Vn[Br+1]==-Kt){let ti=Vn[Br+2],gi=ti&2?d:ti&4?ti&1?m:d:0;gi&&(qi[ke]=qi[Vn[Br]]=gi),O=Br;break}}else{if(Vn.length==189)break;Vn[O++]=ke,Vn[O++]=lt,Vn[O++]=G}else if((Wn=qi[ke])==2||Wn==1){let Br=Wn==d;G=Br?0:1;for(let ti=O-3;ti>=0;ti-=3){let gi=Vn[ti+2];if(gi&2)break;if(Br)Vn[ti+2]|=2;else{if(gi&4)break;Vn[ti+2]|=4}}}}}function rs(u,n,i,c){for(let d=0,m=c;d<=i.length;d++){let C=d?i[d-1].to:u,O=d<i.length?i[d].from:n;for(let G=C;G<O;){let oe=qi[G];if(oe==256){let le=G+1;for(;;)if(le==O){if(d==i.length)break;le=i[d++].to,O=d<i.length?i[d].from:n}else if(qi[le]==256)le++;else break;let ke=m==1,lt=(le<n?qi[le]:c)==1,Kt=ke==lt?ke?1:2:c;for(let Wn=le,Br=d,ti=Br?i[Br-1].to:u;Wn>G;)Wn==ti&&(Wn=i[--Br].from,ti=Br?i[Br-1].to:u),qi[--Wn]=Kt;G=le}else m=oe,G++}}}function po(u,n,i,c,d,m,C){let O=c%2?2:1;if(c%2==d%2)for(let G=n,oe=0;G<i;){let le=!0,ke=!1;if(oe==m.length||G<m[oe].from){let Br=qi[G];Br!=O&&(le=!1,ke=Br==16)}let lt=!le&&O==1?[]:null,Kt=le?c:c+1,Wn=G;e:for(;;)if(oe<m.length&&Wn==m[oe].from){if(ke)break e;let Br=m[oe];if(!le)for(let ti=Br.to,gi=oe+1;;){if(ti==i)break e;if(gi<m.length&&m[gi].from==ti)ti=m[gi++].to;else{if(qi[ti]==O)break e;break}}if(oe++,lt)lt.push(Br);else{Br.from>G&&C.push(new Mi(G,Br.from,Kt));let ti=Br.direction==Pt!=!(Kt%2);xi(u,ti?c+1:c,d,Br.inner,Br.from,Br.to,C),G=Br.to}Wn=Br.to}else{if(Wn==i||(le?qi[Wn]!=O:qi[Wn]==O))break;Wn++}lt?po(u,G,Wn,c+1,d,lt,C):G<Wn&&C.push(new Mi(G,Wn,Kt)),G=Wn}else for(let G=i,oe=m.length;G>n;){let le=!0,ke=!1;if(!oe||G>m[oe-1].to){let Br=qi[G-1];Br!=O&&(le=!1,ke=Br==16)}let lt=!le&&O==1?[]:null,Kt=le?c:c+1,Wn=G;e:for(;;)if(oe&&Wn==m[oe-1].to){if(ke)break e;let Br=m[--oe];if(!le)for(let ti=Br.from,gi=oe;;){if(ti==n)break e;if(gi&&m[gi-1].to==ti)ti=m[--gi].from;else{if(qi[ti-1]==O)break e;break}}if(lt)lt.push(Br);else{Br.to<G&&C.push(new Mi(Br.to,G,Kt));let ti=Br.direction==Pt!=!(Kt%2);xi(u,ti?c+1:c,d,Br.inner,Br.from,Br.to,C),G=Br.from}Wn=Br.from}else{if(Wn==n||(le?qi[Wn-1]!=O:qi[Wn-1]==O))break;Wn--}lt?po(u,Wn,G,c+1,d,lt,C):Wn<G&&C.push(new Mi(Wn,G,Kt)),G=Wn}}function xi(u,n,i,c,d,m,C){let O=n%2?2:1;Ri(u,d,m,c,O),Ts(u,d,m,c,O),rs(d,m,c,O),po(u,d,m,n,i,c,C)}function Ho(u,n,i){if(!u)return[new Mi(0,0,n==ot?1:0)];if(n==Pt&&!i.length&&!io.test(u))return ls(u.length);if(i.length)for(;u.length>qi.length;)qi[qi.length]=256;let c=[],d=n==Pt?0:1;return xi(u,d,d,i,0,u.length,c),c}function ls(u){return[new Mi(0,u,0)]}let Yo="";function Hs(u,n,i,c,d){var m;let C=c.head-u.from,O=Mi.find(n,C,(m=c.bidiLevel)!==null&&m!==void 0?m:-1,c.assoc),G=n[O],oe=G.side(d,i);if(C==oe){let lt=O+=d?1:-1;if(lt<0||lt>=n.length)return null;G=n[O=lt],C=G.side(!d,i),oe=G.side(d,i)}let le=ie(u.text,C,G.forward(d,i));(le<G.from||le>G.to)&&(le=oe),Yo=u.text.slice(Math.min(C,le),Math.max(C,le));let ke=O==(d?n.length-1:0)?null:n[O+(d?1:-1)];return ke&&le==oe&&ke.level+(d?0:1)<G.level?$e.cursor(ke.side(!d,i)+u.from,ke.forward(d,i)?1:-1,ke.level):$e.cursor(le+u.from,G.forward(d,i)?-1:1,G.level)}function Ol(u,n,i){for(let c=n;c<i;c++){let d=Er(u.charCodeAt(c));if(d==1)return Pt;if(d==2||d==4)return ot}return Pt}const xa=tn.define(),Ca=tn.define(),ra=tn.define(),Aa=tn.define(),Il=tn.define(),Ra=tn.define(),Rl=tn.define(),Ka=tn.define({combine:u=>u.some(n=>n)}),ol=tn.define({combine:u=>u.some(n=>n)}),Wl=tn.define();class sl{constructor(n,i="nearest",c="nearest",d=5,m=5,C=!1){this.range=n,this.y=i,this.x=c,this.yMargin=d,this.xMargin=m,this.isSnapshot=C}map(n){return n.empty?this:new sl(this.range.map(n),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(n){return this.range.to<=n.doc.length?this:new sl($e.cursor(n.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Ia=it.define({map:(u,n)=>u.map(n)}),pc=it.define();function al(u,n,i){let c=u.facet(Aa);c.length?c[0](n):window.onerror?window.onerror(String(n),i,void 0,void 0,n):i?console.error(i+":",n):console.error(n)}const kl=tn.define({combine:u=>u.length?u[0]:!0});let Bc=0;const En=tn.define();class fr{constructor(n,i,c,d,m){this.id=n,this.create=i,this.domEventHandlers=c,this.domEventObservers=d,this.extension=m(this)}static define(n,i){const{eventHandlers:c,eventObservers:d,provide:m,decorations:C}=i||{};return new fr(Bc++,n,c,d,O=>{let G=[En.of(O)];return C&&G.push(Yn.of(oe=>{let le=oe.plugin(O);return le?C(le):Pn.none})),m&&G.push(m(O)),G})}static fromClass(n,i){return fr.define(c=>new n(c),i)}}class Nr{constructor(n){this.spec=n,this.mustUpdate=null,this.value=null}update(n){if(this.value){if(this.mustUpdate){let i=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(i)}catch(c){if(al(i.state,c,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(d){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(n)}catch(i){al(n.state,i,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(n){var i;if(!((i=this.value)===null||i===void 0)&&i.destroy)try{this.value.destroy()}catch(c){al(n.state,c,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Ot=tn.define(),On=tn.define(),Yn=tn.define(),di=tn.define(),Qi=tn.define(),ao=tn.define();function Ps(u,n){let i=u.state.facet(ao);if(!i.length)return i;let c=i.map(m=>m instanceof Function?m(u):m),d=[];return Tr.spans(c,n.from,n.to,{point(){},span(m,C,O,G){let oe=m-n.from,le=C-n.from,ke=d;for(let lt=O.length-1;lt>=0;lt--,G--){let Kt=O[lt].spec.bidiIsolate,Wn;if(Kt==null&&(Kt=Ol(n.text,oe,le)),G>0&&ke.length&&(Wn=ke[ke.length-1]).to==oe&&Wn.direction==Kt)Wn.to=le,ke=Wn.inner;else{let Br={from:oe,to:le,direction:Kt,inner:[]};ke.push(Br),ke=Br.inner}}}}),d}const ts=tn.define();function Lo(u){let n=0,i=0,c=0,d=0;for(let m of u.state.facet(ts)){let C=m(u);C&&(C.left!=null&&(n=Math.max(n,C.left)),C.right!=null&&(i=Math.max(i,C.right)),C.top!=null&&(c=Math.max(c,C.top)),C.bottom!=null&&(d=Math.max(d,C.bottom)))}return{left:n,right:i,top:c,bottom:d}}const jo=tn.define();class Ro{constructor(n,i,c,d){this.fromA=n,this.toA=i,this.fromB=c,this.toB=d}join(n){return new Ro(Math.min(this.fromA,n.fromA),Math.max(this.toA,n.toA),Math.min(this.fromB,n.fromB),Math.max(this.toB,n.toB))}addToSet(n){let i=n.length,c=this;for(;i>0;i--){let d=n[i-1];if(!(d.fromA>c.toA)){if(d.toA<c.fromA)break;c=c.join(d),n.splice(i-1,1)}}return n.splice(i,0,c),n}static extendWithRanges(n,i){if(i.length==0)return n;let c=[];for(let d=0,m=0,C=0,O=0;;d++){let G=d==n.length?null:n[d],oe=C-O,le=G?G.fromB:1e9;for(;m<i.length&&i[m]<le;){let ke=i[m],lt=i[m+1],Kt=Math.max(O,ke),Wn=Math.min(le,lt);if(Kt<=Wn&&new Ro(Kt+oe,Wn+oe,Kt,Wn).addToSet(c),lt>le)break;m+=2}if(!G)return c;new Ro(G.fromA,G.toA,G.fromB,G.toB).addToSet(c),C=G.toA,O=G.toB}}}class $s{constructor(n,i,c){this.view=n,this.state=i,this.transactions=c,this.flags=0,this.startState=n.state,this.changes=Cn.empty(this.startState.doc.length);for(let m of c)this.changes=this.changes.compose(m.changes);let d=[];this.changes.iterChangedRanges((m,C,O,G)=>d.push(new Ro(m,C,O,G))),this.changedRanges=d}static create(n,i,c){return new $s(n,i,c)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(n=>n.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class ya extends on{get length(){return this.view.state.doc.length}constructor(n){super(),this.view=n,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Pn.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(n.contentDOM),this.children=[new Zo],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ro(0,0,0,n.state.doc.length)],0,null)}update(n){var i;let c=n.changedRanges;this.minWidth>0&&c.length&&(c.every(({fromA:oe,toA:le})=>le<this.minWidthFrom||oe>this.minWidthTo)?(this.minWidthFrom=n.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=n.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(n);let d=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((i=this.domChanged)===null||i===void 0)&&i.newSel?d=this.domChanged.newSel.head:!Xg(n.changes,this.hasComposition)&&!n.selectionSet&&(d=n.state.selection.main.head));let m=d>-1?bl(this.view,n.changes,d):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:oe,to:le}=this.hasComposition;c=new Ro(oe,le,n.changes.mapPos(oe,-1),n.changes.mapPos(le,1)).addToSet(c.slice())}this.hasComposition=m?{from:m.range.fromB,to:m.range.toB}:null,(Kr.ie||Kr.chrome)&&!m&&n&&n.state.doc.lines!=n.startState.doc.lines&&(this.forceSelection=!0);let C=this.decorations,O=this.updateDeco(),G=ou(C,O,n.changes);return c=Ro.extendWithRanges(c,G),!(this.flags&7)&&c.length==0?!1:(this.updateInner(c,n.startState.doc.length,m),n.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(n,i,c){this.view.viewState.mustMeasureContent=!0,this.updateChildren(n,i,c);let{observer:d}=this.view;d.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let C=Kr.chrome||Kr.ios?{node:d.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,C),this.flags&=-8,C&&(C.written||d.selectionRange.focusNode!=C.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(C=>C.flags&=-9);let m=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let C of this.children)C instanceof Ns&&C.widget instanceof Ms&&m.push(C.dom);d.updateGaps(m)}updateChildren(n,i,c){let d=c?c.range.addToSet(n.slice()):n,m=this.childCursor(i);for(let C=d.length-1;;C--){let O=C>=0?d[C]:null;if(!O)break;let{fromA:G,toA:oe,fromB:le,toB:ke}=O,lt,Kt,Wn,Br;if(c&&c.range.fromB<ke&&c.range.toB>le){let Xo=No.build(this.view.state.doc,le,c.range.fromB,this.decorations,this.dynamicDecorationMap),Po=No.build(this.view.state.doc,c.range.toB,ke,this.decorations,this.dynamicDecorationMap);Kt=Xo.breakAtStart,Wn=Xo.openStart,Br=Po.openEnd;let hs=this.compositionView(c);Po.breakAtStart?hs.breakAfter=1:Po.content.length&&hs.merge(hs.length,hs.length,Po.content[0],!1,Po.openStart,0)&&(hs.breakAfter=Po.content[0].breakAfter,Po.content.shift()),Xo.content.length&&hs.merge(0,0,Xo.content[Xo.content.length-1],!0,0,Xo.openEnd)&&Xo.content.pop(),lt=Xo.content.concat(hs).concat(Po.content)}else({content:lt,breakAtStart:Kt,openStart:Wn,openEnd:Br}=No.build(this.view.state.doc,le,ke,this.decorations,this.dynamicDecorationMap));let{i:ti,off:gi}=m.findPos(oe,1),{i:wo,off:ns}=m.findPos(G,-1);zt(this,wo,ns,ti,gi,lt,Kt,Wn,Br)}c&&this.fixCompositionDOM(c)}updateEditContextFormatting(n){this.editContextFormatting=this.editContextFormatting.map(n.changes);for(let i of n.transactions)for(let c of i.effects)c.is(pc)&&(this.editContextFormatting=c.value)}compositionView(n){let i=new Cs(n.text.nodeValue);i.flags|=8;for(let{deco:d}of n.marks)i=new es(d,[i],i.length);let c=new Zo;return c.append(i,0),c}fixCompositionDOM(n){let i=(m,C)=>{C.flags|=8|(C.children.some(G=>G.flags&7)?1:0),this.markedForComposition.add(C);let O=on.get(m);O&&O!=C&&(O.dom=null),C.setDOM(m)},c=this.childPos(n.range.fromB,1),d=this.children[c.i];i(n.line,d);for(let m=n.marks.length-1;m>=-1;m--)c=d.childPos(c.off,1),d=d.children[c.i],i(m>=0?n.marks[m].node:n.text,d)}updateSelection(n=!1,i=!1){(n||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let c=this.view.root.activeElement,d=c==this.dom,m=!d&&ni(this.dom,this.view.observer.selectionRange)&&!(c&&this.dom.contains(c));if(!(d||i||m))return;let C=this.forceSelection;this.forceSelection=!1;let O=this.view.state.selection.main,G=this.moveToLine(this.domAtPos(O.anchor)),oe=O.empty?G:this.moveToLine(this.domAtPos(O.head));if(Kr.gecko&&O.empty&&!this.hasComposition&&ha(G)){let ke=document.createTextNode("");this.view.observer.ignore(()=>G.node.insertBefore(ke,G.node.childNodes[G.offset]||null)),G=oe=new Dt(ke,0),C=!0}let le=this.view.observer.selectionRange;(C||!le.focusNode||(!Rr(G.node,G.offset,le.anchorNode,le.anchorOffset)||!Rr(oe.node,oe.offset,le.focusNode,le.focusOffset))&&!this.suppressWidgetCursorChange(le,O))&&(this.view.observer.ignore(()=>{Kr.android&&Kr.chrome&&this.dom.contains(le.focusNode)&&$f(le.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let ke=In(this.view.root);if(ke)if(O.empty){if(Kr.gecko){let lt=Ls(G.node,G.offset);if(lt&&lt!=3){let Kt=(lt==1?We:Ve)(G.node,G.offset);Kt&&(G=new Dt(Kt.node,Kt.offset))}}ke.collapse(G.node,G.offset),O.bidiLevel!=null&&ke.caretBidiLevel!==void 0&&(ke.caretBidiLevel=O.bidiLevel)}else if(ke.extend){ke.collapse(G.node,G.offset);try{ke.extend(oe.node,oe.offset)}catch(lt){}}else{let lt=document.createRange();O.anchor>O.head&&([G,oe]=[oe,G]),lt.setEnd(oe.node,oe.offset),lt.setStart(G.node,G.offset),ke.removeAllRanges(),ke.addRange(lt)}m&&this.view.root.activeElement==this.dom&&(this.dom.blur(),c&&c.focus())}),this.view.observer.setSelectionRange(G,oe)),this.impreciseAnchor=G.precise?null:new Dt(le.anchorNode,le.anchorOffset),this.impreciseHead=oe.precise?null:new Dt(le.focusNode,le.focusOffset)}suppressWidgetCursorChange(n,i){return this.hasComposition&&i.empty&&Rr(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)&&this.posFromDOM(n.focusNode,n.focusOffset)==i.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:n}=this,i=n.state.selection.main,c=In(n.root),{anchorNode:d,anchorOffset:m}=n.observer.selectionRange;if(!c||!i.empty||!i.assoc||!c.modify)return;let C=Zo.find(this,i.head);if(!C)return;let O=C.posAtStart;if(i.head==O||i.head==O+C.length)return;let G=this.coordsAt(i.head,-1),oe=this.coordsAt(i.head,1);if(!G||!oe||G.bottom>oe.top)return;let le=this.domAtPos(i.head+i.assoc);c.collapse(le.node,le.offset),c.modify("move",i.assoc<0?"forward":"backward","lineboundary"),n.observer.readSelectionRange();let ke=n.observer.selectionRange;n.docView.posFromDOM(ke.anchorNode,ke.anchorOffset)!=i.from&&c.collapse(d,m)}moveToLine(n){let i=this.dom,c;if(n.node!=i)return n;for(let d=n.offset;!c&&d<i.childNodes.length;d++){let m=on.get(i.childNodes[d]);m instanceof Zo&&(c=m.domAtPos(0))}for(let d=n.offset-1;!c&&d>=0;d--){let m=on.get(i.childNodes[d]);m instanceof Zo&&(c=m.domAtPos(m.length))}return c?new Dt(c.node,c.offset,!0):n}nearest(n){for(let i=n;i;){let c=on.get(i);if(c&&c.rootView==this)return c;i=i.parentNode}return null}posFromDOM(n,i){let c=this.nearest(n);if(!c)throw new RangeError("Trying to find position for a DOM position outside of the document");return c.localPosFromDOM(n,i)+c.posAtStart}domAtPos(n){let{i,off:c}=this.childCursor().findPos(n,-1);for(;i<this.children.length-1;){let d=this.children[i];if(c<d.length||d instanceof Zo)break;i++,c=0}return this.children[i].domAtPos(c)}coordsAt(n,i){let c=null,d=0;for(let m=this.length,C=this.children.length-1;C>=0;C--){let O=this.children[C],G=m-O.breakAfter,oe=G-O.length;if(G<n)break;if(oe<=n&&(oe<n||O.covers(-1))&&(G>n||O.covers(1))&&(!c||O instanceof Zo&&!(c instanceof Zo&&i>=0)))c=O,d=oe;else if(c&&oe==n&&G==n&&O instanceof Ns&&Math.abs(i)<2){if(O.deco.startSide<0)break;C&&(c=null)}m=oe}return c?c.coordsAt(n-d,i):null}coordsForChar(n){let{i,off:c}=this.childPos(n,1),d=this.children[i];if(!(d instanceof Zo))return null;for(;d.children.length;){let{i:O,off:G}=d.childPos(c,1);for(;;O++){if(O==d.children.length)return null;if((d=d.children[O]).length)break}c=G}if(!(d instanceof Cs))return null;let m=ie(d.text,c);if(m==c)return null;let C=Se(d.dom,c,m).getClientRects();for(let O=0;O<C.length;O++){let G=C[O];if(O==C.length-1||G.top<G.bottom&&G.left<G.right)return G}return null}measureVisibleLineHeights(n){let i=[],{from:c,to:d}=n,m=this.view.contentDOM.clientWidth,C=m>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,O=-1,G=this.view.textDirection==ms.LTR;for(let oe=0,le=0;le<this.children.length;le++){let ke=this.children[le],lt=oe+ke.length;if(lt>d)break;if(oe>=c){let Kt=ke.dom.getBoundingClientRect();if(i.push(Kt.height),C){let Wn=ke.dom.lastChild,Br=Wn?mi(Wn):[];if(Br.length){let ti=Br[Br.length-1],gi=G?ti.right-Kt.left:Kt.right-ti.left;gi>O&&(O=gi,this.minWidth=m,this.minWidthFrom=oe,this.minWidthTo=lt)}}}oe=lt+ke.breakAfter}return i}textDirectionAt(n){let{i}=this.childPos(n,1);return getComputedStyle(this.children[i].dom).direction=="rtl"?ms.RTL:ms.LTR}measureTextSize(){for(let m of this.children)if(m instanceof Zo){let C=m.measureTextSize();if(C)return C}let n=document.createElement("div"),i,c,d;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(n);let m=mi(n.firstChild)[0];i=n.getBoundingClientRect().height,c=m?m.width/27:7,d=m?m.height:i,n.remove()}),{lineHeight:i,charWidth:c,textHeight:d}}childCursor(n=this.length){let i=this.children.length;return i&&(n-=this.children[--i].length),new Tn(this.children,n,i)}computeBlockGapDeco(){let n=[],i=this.view.viewState;for(let c=0,d=0;;d++){let m=d==i.viewports.length?null:i.viewports[d],C=m?m.from-1:this.length;if(C>c){let O=(i.lineBlockAt(C).bottom-i.lineBlockAt(c).top)/this.view.scaleY;n.push(Pn.replace({widget:new Ms(O),block:!0,inclusive:!0,isBlockGap:!0}).range(c,C))}if(!m)break;c=m.to+1}return Pn.set(n)}updateDeco(){let n=1,i=this.view.state.facet(Yn).map(m=>(this.dynamicDecorationMap[n++]=typeof m=="function")?m(this.view):m),c=!1,d=this.view.state.facet(di).map((m,C)=>{let O=typeof m=="function";return O&&(c=!0),O?m(this.view):m});for(d.length&&(this.dynamicDecorationMap[n++]=c,i.push(Tr.join(d))),this.decorations=[this.editContextFormatting,...i,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];n<this.decorations.length;)this.dynamicDecorationMap[n++]=!1;return this.decorations}scrollIntoView(n){if(n.isSnapshot){let oe=this.view.viewState.lineBlockAt(n.range.head);this.view.scrollDOM.scrollTop=oe.top-n.yMargin,this.view.scrollDOM.scrollLeft=n.xMargin;return}for(let oe of this.view.state.facet(Wl))try{if(oe(this.view,n.range,n))return!0}catch(le){al(this.view.state,le,"scroll handler")}let{range:i}=n,c=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1),d;if(!c)return;!i.empty&&(d=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(c={left:Math.min(c.left,d.left),top:Math.min(c.top,d.top),right:Math.max(c.right,d.right),bottom:Math.max(c.bottom,d.bottom)});let m=Lo(this.view),C={left:c.left-m.left,top:c.top-m.top,right:c.right+m.right,bottom:c.bottom+m.bottom},{offsetWidth:O,offsetHeight:G}=this.view.scrollDOM;vr(this.view.scrollDOM,C,i.head<i.anchor?-1:1,n.x,n.y,Math.max(Math.min(n.xMargin,O),-O),Math.max(Math.min(n.yMargin,G),-G),this.view.textDirection==ms.LTR)}}function ha(u){return u.node.nodeType==1&&u.node.firstChild&&(u.offset==0||u.node.childNodes[u.offset-1].contentEditable=="false")&&(u.offset==u.node.childNodes.length||u.node.childNodes[u.offset].contentEditable=="false")}function Wa(u,n){let i=u.observer.selectionRange;if(!i.focusNode)return null;let c=We(i.focusNode,i.focusOffset),d=Ve(i.focusNode,i.focusOffset),m=c||d;if(d&&c&&d.node!=c.node){let O=on.get(d.node);if(!O||O instanceof Cs&&O.text!=d.node.nodeValue)m=d;else if(u.docView.lastCompositionAfterCursor){let G=on.get(c.node);!G||G instanceof Cs&&G.text!=c.node.nodeValue||(m=d)}}if(u.docView.lastCompositionAfterCursor=m!=c,!m)return null;let C=n-m.offset;return{from:C,to:C+m.node.nodeValue.length,node:m.node}}function bl(u,n,i){let c=Wa(u,i);if(!c)return null;let{node:d,from:m,to:C}=c,O=d.nodeValue;if(/[\n\r]/.test(O)||u.state.doc.sliceString(c.from,c.to)!=O)return null;let G=n.invertedDesc,oe=new Ro(G.mapPos(m),G.mapPos(C),m,C),le=[];for(let ke=d.parentNode;;ke=ke.parentNode){let lt=on.get(ke);if(lt instanceof es)le.push({node:ke,deco:lt.mark});else{if(lt instanceof Zo||ke.nodeName=="DIV"&&ke.parentNode==u.contentDOM)return{range:oe,text:d,marks:le,line:ke};if(ke!=u.contentDOM)le.push({node:ke,deco:new zr({inclusive:!0,attributes:dt(ke),tagName:ke.tagName.toLowerCase()})});else return null}}}function Ls(u,n){return u.nodeType!=1?0:(n&&u.childNodes[n-1].contentEditable=="false"?1:0)|(n<u.childNodes.length&&u.childNodes[n].contentEditable=="false"?2:0)}let Xa=class{constructor(){this.changes=[]}compareRange(n,i){Uo(n,i,this.changes)}comparePoint(n,i){Uo(n,i,this.changes)}};function ou(u,n,i){let c=new Xa;return Tr.compare(u,n,i,c),c.changes}function $f(u,n){for(let i=u;i&&i!=n;i=i.assignedSlot||i.parentNode)if(i.nodeType==1&&i.contentEditable=="false")return!0;return!1}function Xg(u,n){let i=!1;return n&&u.iterChangedRanges((c,d)=>{c<n.to&&d>n.from&&(i=!0)}),i}function Yg(u,n,i=1){let c=u.charCategorizer(n),d=u.doc.lineAt(n),m=n-d.from;if(d.length==0)return $e.cursor(n);m==0?i=1:m==d.length&&(i=-1);let C=m,O=m;i<0?C=ie(d.text,m,!1):O=ie(d.text,m);let G=c(d.text.slice(C,O));for(;C>0;){let oe=ie(d.text,C,!1);if(c(d.text.slice(oe,C))!=G)break;C=oe}for(;O<d.length;){let oe=ie(d.text,O);if(c(d.text.slice(O,oe))!=G)break;O=oe}return $e.range(C+d.from,O+d.from)}function Jg(u,n){return n.left>u?n.left-u:Math.max(0,u-n.right)}function Iu(u,n){return n.top>u?n.top-u:Math.max(0,u-n.bottom)}function Cc(u,n){return u.top<n.bottom-1&&u.bottom>n.top+1}function Ru(u,n){return n<u.top?{top:n,left:u.left,right:u.right,bottom:u.bottom}:u}function zl(u,n){return n>u.bottom?{top:u.top,left:u.left,right:u.right,bottom:n}:u}function Hf(u,n,i){let c,d,m,C,O=!1,G,oe,le,ke;for(let Wn=u.firstChild;Wn;Wn=Wn.nextSibling){let Br=mi(Wn);for(let ti=0;ti<Br.length;ti++){let gi=Br[ti];d&&Cc(d,gi)&&(gi=Ru(zl(gi,d.bottom),d.top));let wo=Jg(n,gi),ns=Iu(i,gi);if(wo==0&&ns==0)return Wn.nodeType==3?Eh(Wn,n,i):Hf(Wn,n,i);if(!c||C>ns||C==ns&&m>wo){c=Wn,d=gi,m=wo,C=ns;let Xo=ns?i<gi.top?-1:1:wo?n<gi.left?-1:1:0;O=!Xo||(Xo>0?ti<Br.length-1:ti>0)}wo==0?i>gi.bottom&&(!le||le.bottom<gi.bottom)?(G=Wn,le=gi):i<gi.top&&(!ke||ke.top>gi.top)&&(oe=Wn,ke=gi):le&&Cc(le,gi)?le=zl(le,gi.bottom):ke&&Cc(ke,gi)&&(ke=Ru(ke,gi.top))}}if(le&&le.bottom>=i?(c=G,d=le):ke&&ke.top<=i&&(c=oe,d=ke),!c)return{node:u,offset:0};let lt=Math.max(d.left,Math.min(d.right,n));if(c.nodeType==3)return Eh(c,lt,i);if(O&&c.contentEditable!="false")return Hf(c,lt,i);let Kt=Array.prototype.indexOf.call(u.childNodes,c)+(n>=(d.left+d.right)/2?1:0);return{node:u,offset:Kt}}function Eh(u,n,i){let c=u.nodeValue.length,d=-1,m=1e9,C=0;for(let O=0;O<c;O++){let G=Se(u,O,O+1).getClientRects();for(let oe=0;oe<G.length;oe++){let le=G[oe];if(le.top==le.bottom)continue;C||(C=n-le.left);let ke=(le.top>i?le.top-i:i-le.bottom)-1;if(le.left-1<=n&&le.right+1>=n&&ke<m){let lt=n>=(le.left+le.right)/2,Kt=lt;if((Kr.chrome||Kr.gecko)&&Se(u,O).getBoundingClientRect().left==le.right&&(Kt=!lt),ke<=0)return{node:u,offset:O+(Kt?1:0)};d=O+(Kt?1:0),m=ke}}}return{node:u,offset:d>-1?d:C>0?u.nodeValue.length:0}}function qu(u,n,i,c=-1){var d,m;let C=u.contentDOM.getBoundingClientRect(),O=C.top+u.viewState.paddingTop,G,{docHeight:oe}=u.viewState,{x:le,y:ke}=n,lt=ke-O;if(lt<0)return 0;if(lt>oe)return u.state.doc.length;for(let Xo=u.viewState.heightOracle.textHeight/2,Po=!1;G=u.elementAtHeight(lt),G.type!=gn.Text;)for(;lt=c>0?G.bottom+Xo:G.top-Xo,!(lt>=0&&lt<=oe);){if(Po)return i?null:0;Po=!0,c=-c}ke=O+lt;let Kt=G.from;if(Kt<u.viewport.from)return u.viewport.from==0?0:i?null:wf(u,C,G,le,ke);if(Kt>u.viewport.to)return u.viewport.to==u.state.doc.length?u.state.doc.length:i?null:wf(u,C,G,le,ke);let Wn=u.dom.ownerDocument,Br=u.root.elementFromPoint?u.root:Wn,ti=Br.elementFromPoint(le,ke);ti&&!u.contentDOM.contains(ti)&&(ti=null),ti||(le=Math.max(C.left+1,Math.min(C.right-1,le)),ti=Br.elementFromPoint(le,ke),ti&&!u.contentDOM.contains(ti)&&(ti=null));let gi,wo=-1;if(ti&&((d=u.docView.nearest(ti))===null||d===void 0?void 0:d.isEditable)!=!1){if(Wn.caretPositionFromPoint){let Xo=Wn.caretPositionFromPoint(le,ke);Xo&&({offsetNode:gi,offset:wo}=Xo)}else if(Wn.caretRangeFromPoint){let Xo=Wn.caretRangeFromPoint(le,ke);Xo&&({startContainer:gi,startOffset:wo}=Xo,(!u.contentDOM.contains(gi)||Kr.safari&&Bp(gi,wo,le)||Kr.chrome&&Ef(gi,wo,le))&&(gi=void 0))}}if(!gi||!u.docView.dom.contains(gi)){let Xo=Zo.find(u.docView,Kt);if(!Xo)return lt>G.top+G.height/2?G.to:G.from;({node:gi,offset:wo}=Hf(Xo.dom,le,ke))}let ns=u.docView.nearest(gi);if(!ns)return null;if(ns.isWidget&&((m=ns.dom)===null||m===void 0?void 0:m.nodeType)==1){let Xo=ns.dom.getBoundingClientRect();return n.y<Xo.top||n.y<=Xo.bottom&&n.x<=(Xo.left+Xo.right)/2?ns.posAtStart:ns.posAtEnd}else return ns.localPosFromDOM(gi,wo)+ns.posAtStart}function wf(u,n,i,c,d){let m=Math.round((c-n.left)*u.defaultCharacterWidth);if(u.lineWrapping&&i.height>u.defaultLineHeight*1.5){let O=u.viewState.heightOracle.textHeight,G=Math.floor((d-i.top-(u.defaultLineHeight-O)*.5)/O);m+=G*u.viewState.heightOracle.lineLength}let C=u.state.sliceDoc(i.from,i.to);return i.from+A(C,m,u.state.tabSize)}function Bp(u,n,i){let c;if(u.nodeType!=3||n!=(c=u.nodeValue.length))return!1;for(let d=u.nextSibling;d;d=d.nextSibling)if(d.nodeType!=1||d.nodeName!="BR")return!1;return Se(u,c-1,c).getBoundingClientRect().left>i}function Ef(u,n,i){if(n!=0)return!1;for(let d=u;;){let m=d.parentNode;if(!m||m.nodeType!=1||m.firstChild!=d)return!1;if(m.classList.contains("cm-line"))break;d=m}let c=u.nodeType==1?u.getBoundingClientRect():Se(u,0,Math.max(u.nodeValue.length,1)).getBoundingClientRect();return i-c.left>5}function yu(u,n){let i=u.lineBlockAt(n);if(Array.isArray(i.type)){for(let c of i.type)if(c.to>n||c.to==n&&(c.to==i.to||c.type==gn.Text))return c}return i}function kd(u,n,i,c){let d=yu(u,n.head),m=!c||d.type!=gn.Text||!(u.lineWrapping||d.widgetLineBreaks)?null:u.coordsAtPos(n.assoc<0&&n.head>d.from?n.head-1:n.head);if(m){let C=u.dom.getBoundingClientRect(),O=u.textDirectionAt(d.from),G=u.posAtCoords({x:i==(O==ms.LTR)?C.right-1:C.left+1,y:(m.top+m.bottom)/2});if(G!=null)return $e.cursor(G,i?-1:1)}return $e.cursor(i?d.to:d.from,i?-1:1)}function qg(u,n,i,c){let d=u.state.doc.lineAt(n.head),m=u.bidiSpans(d),C=u.textDirectionAt(d.from);for(let O=n,G=null;;){let oe=Hs(d,m,C,O,i),le=Yo;if(!oe){if(d.number==(i?u.state.doc.lines:1))return O;le=`
`,d=u.state.doc.line(d.number+(i?1:-1)),m=u.bidiSpans(d),oe=u.visualLineSide(d,!i)}if(G){if(!G(le))return O}else{if(!c)return oe;G=c(le)}O=oe}}function zp(u,n,i){let c=u.state.charCategorizer(n),d=c(i);return m=>{let C=c(m);return d==Ut.Space&&(d=C),d==C}}function Qg(u,n,i,c){let d=n.head,m=i?1:-1;if(d==(i?u.state.doc.length:0))return $e.cursor(d,n.assoc);let C=n.goalColumn,O,G=u.contentDOM.getBoundingClientRect(),oe=u.coordsAtPos(d,n.assoc||-1),le=u.documentTop;if(oe)C==null&&(C=oe.left-G.left),O=m<0?oe.top:oe.bottom;else{let Kt=u.viewState.lineBlockAt(d);C==null&&(C=Math.min(G.right-G.left,u.defaultCharacterWidth*(d-Kt.from))),O=(m<0?Kt.top:Kt.bottom)+le}let ke=G.left+C,lt=c!=null?c:u.viewState.heightOracle.textHeight>>1;for(let Kt=0;;Kt+=10){let Wn=O+(lt+Kt)*m,Br=qu(u,{x:ke,y:Wn},!1,m);if(Wn<G.top||Wn>G.bottom||(m<0?Br<d:Br>d)){let ti=u.docView.coordsForChar(Br),gi=!ti||Wn<ti.top?-1:1;return $e.cursor(Br,gi,void 0,C)}}}function Kf(u,n,i){for(;;){let c=0;for(let d of u)d.between(n-1,n+1,(m,C,O)=>{if(n>m&&n<C){let G=c||i||(n-m<C-n?-1:1);n=G<0?m:C,c=G}});if(!c)return n}}function Xf(u,n,i){let c=Kf(u.state.facet(Qi).map(d=>d(u)),i.from,n.head>i.from?-1:1);return c==i.from?i:$e.cursor(c,c<i.from?1:-1)}const Sf="\uFFFF";class m0{constructor(n,i){this.points=n,this.text="",this.lineSeparator=i.facet(xn.lineSeparator)}append(n){this.text+=n}lineBreak(){this.text+=Sf}readRange(n,i){if(!n)return this;let c=n.parentNode;for(let d=n;;){this.findPointBefore(c,d);let m=this.text.length;this.readNode(d);let C=d.nextSibling;if(C==i)break;let O=on.get(d),G=on.get(C);(O&&G?O.breakAfter:(O?O.breakAfter:li(d))||li(C)&&(d.nodeName!="BR"||d.cmIgnore)&&this.text.length>m)&&this.lineBreak(),d=C}return this.findPointBefore(c,i),this}readTextNode(n){let i=n.nodeValue;for(let c of this.points)c.node==n&&(c.pos=this.text.length+Math.min(c.offset,i.length));for(let c=0,d=this.lineSeparator?null:/\r\n?|\n/g;;){let m=-1,C=1,O;if(this.lineSeparator?(m=i.indexOf(this.lineSeparator,c),C=this.lineSeparator.length):(O=d.exec(i))&&(m=O.index,C=O[0].length),this.append(i.slice(c,m<0?i.length:m)),m<0)break;if(this.lineBreak(),C>1)for(let G of this.points)G.node==n&&G.pos>this.text.length&&(G.pos-=C-1);c=m+C}}readNode(n){if(n.cmIgnore)return;let i=on.get(n),c=i&&i.overrideDOMText;if(c!=null){this.findPointInside(n,c.length);for(let d=c.iter();!d.next().done;)d.lineBreak?this.lineBreak():this.append(d.value)}else n.nodeType==3?this.readTextNode(n):n.nodeName=="BR"?n.nextSibling&&this.lineBreak():n.nodeType==1&&this.readRange(n.firstChild,null)}findPointBefore(n,i){for(let c of this.points)c.node==n&&n.childNodes[c.offset]==i&&(c.pos=this.text.length)}findPointInside(n,i){for(let c of this.points)(n.nodeType==3?c.node==n:n.contains(c.node))&&(c.pos=this.text.length+(od(n,c.node,c.offset)?i:0))}}function od(u,n,i){for(;;){if(!n||i<Ct(n))return!1;if(n==u)return!0;i=ai(n)+1,n=n.parentNode}}class em{constructor(n,i){this.node=n,this.offset=i,this.pos=-1}}class Af{constructor(n,i,c,d){this.typeOver=d,this.bounds=null,this.text="",this.domChanged=i>-1;let{impreciseHead:m,impreciseAnchor:C}=n.docView;if(n.state.readOnly&&i>-1)this.newSel=null;else if(i>-1&&(this.bounds=n.docView.domBoundsAround(i,c,0))){let O=m||C?[]:ad(n),G=new m0(O,n.state);G.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=G.text,this.newSel=Fd(O,this.bounds.from)}else{let O=n.observer.selectionRange,G=m&&m.node==O.focusNode&&m.offset==O.focusOffset||!Zn(n.contentDOM,O.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(O.focusNode,O.focusOffset),oe=C&&C.node==O.anchorNode&&C.offset==O.anchorOffset||!Zn(n.contentDOM,O.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(O.anchorNode,O.anchorOffset),le=n.viewport;if((Kr.ios||Kr.chrome)&&n.state.selection.main.empty&&G!=oe&&(le.from>0||le.to<n.state.doc.length)){let ke=Math.min(G,oe),lt=Math.max(G,oe),Kt=le.from-ke,Wn=le.to-lt;(Kt==0||Kt==1||ke==0)&&(Wn==0||Wn==-1||lt==n.state.doc.length)&&(G=0,oe=n.state.doc.length)}this.newSel=$e.single(oe,G)}}}function wl(u,n){let i,{newSel:c}=n,d=u.state.selection.main,m=u.inputState.lastKeyTime>Date.now()-100?u.inputState.lastKeyCode:-1;if(n.bounds){let{from:C,to:O}=n.bounds,G=d.from,oe=null;(m===8||Kr.android&&n.text.length<O-C)&&(G=d.to,oe="end");let le=sd(u.state.doc.sliceString(C,O,Sf),n.text,G-C,oe);le&&(Kr.chrome&&m==13&&le.toB==le.from+2&&n.text.slice(le.from,le.toB)==Sf+Sf&&le.toB--,i={from:C+le.from,to:C+le.toA,insert:R.of(n.text.slice(le.from,le.toB).split(Sf))})}else c&&(!u.hasFocus&&u.state.facet(kl)||c.main.eq(d))&&(c=null);if(!i&&!c)return!1;if(!i&&n.typeOver&&!d.empty&&c&&c.main.empty?i={from:d.from,to:d.to,insert:u.state.doc.slice(d.from,d.to)}:i&&i.from>=d.from&&i.to<=d.to&&(i.from!=d.from||i.to!=d.to)&&d.to-d.from-(i.to-i.from)<=4?i={from:d.from,to:d.to,insert:u.state.doc.slice(d.from,i.from).append(i.insert).append(u.state.doc.slice(i.to,d.to))}:(Kr.mac||Kr.android)&&i&&i.from==i.to&&i.from==d.head-1&&/^\. ?$/.test(i.insert.toString())&&u.contentDOM.getAttribute("autocorrect")=="off"?(c&&i.insert.length==2&&(c=$e.single(c.main.anchor-1,c.main.head-1)),i={from:d.from,to:d.to,insert:R.of([" "])}):Kr.chrome&&i&&i.from==i.to&&i.from==d.head&&i.insert.toString()==`
 `&&u.lineWrapping&&(c&&(c=$e.single(c.main.anchor-1,c.main.head-1)),i={from:d.from,to:d.to,insert:R.of([" "])}),i)return $l(u,i,c,m);if(c&&!c.main.eq(d)){let C=!1,O="select";return u.inputState.lastSelectionTime>Date.now()-50&&(u.inputState.lastSelectionOrigin=="select"&&(C=!0),O=u.inputState.lastSelectionOrigin),u.dispatch({selection:c,scrollIntoView:C,userEvent:O}),!0}else return!1}function $l(u,n,i,c=-1){if(Kr.ios&&u.inputState.flushIOSKey(n))return!0;let d=u.state.selection.main;if(Kr.android&&(n.to==d.to&&(n.from==d.from||n.from==d.from-1&&u.state.sliceDoc(n.from,d.from)==" ")&&n.insert.length==1&&n.insert.lines==2&&wt(u.contentDOM,"Enter",13)||(n.from==d.from-1&&n.to==d.to&&n.insert.length==0||c==8&&n.insert.length<n.to-n.from&&n.to>d.head)&&wt(u.contentDOM,"Backspace",8)||n.from==d.from&&n.to==d.to+1&&n.insert.length==0&&wt(u.contentDOM,"Delete",46)))return!0;let m=n.insert.toString();u.inputState.composing>=0&&u.inputState.composing++;let C,O=()=>C||(C=Ld(u,n,i));return u.state.facet(Ra).some(G=>G(u,n.from,n.to,m,O))||u.dispatch(O()),!0}function Ld(u,n,i){let c,d=u.state,m=d.selection.main;if(n.from>=m.from&&n.to<=m.to&&n.to-n.from>=(m.to-m.from)/3&&(!i||i.main.empty&&i.main.from==n.from+n.insert.length)&&u.inputState.composing<0){let O=m.from<n.from?d.sliceDoc(m.from,n.from):"",G=m.to>n.to?d.sliceDoc(n.to,m.to):"";c=d.replaceSelection(u.state.toText(O+n.insert.sliceString(0,void 0,u.state.lineBreak)+G))}else{let O=d.changes(n),G=i&&i.main.to<=O.newLength?i.main:void 0;if(d.selection.ranges.length>1&&u.inputState.composing>=0&&n.to<=m.to&&n.to>=m.to-10){let oe=u.state.sliceDoc(n.from,n.to),le,ke=i&&Wa(u,i.main.head);if(ke){let Wn=n.insert.length-(n.to-n.from);le={from:ke.from,to:ke.to-Wn}}else le=u.state.doc.lineAt(m.head);let lt=m.to-n.to,Kt=m.to-m.from;c=d.changeByRange(Wn=>{if(Wn.from==m.from&&Wn.to==m.to)return{changes:O,range:G||Wn.map(O)};let Br=Wn.to-lt,ti=Br-oe.length;if(Wn.to-Wn.from!=Kt||u.state.sliceDoc(ti,Br)!=oe||Wn.to>=le.from&&Wn.from<=le.to)return{range:Wn};let gi=d.changes({from:ti,to:Br,insert:n.insert}),wo=Wn.to-m.to;return{changes:gi,range:G?$e.range(Math.max(0,G.anchor+wo),Math.max(0,G.head+wo)):Wn.map(gi)}})}else c={changes:O,selection:G&&d.selection.replaceRange(G)}}let C="input.type";return(u.composing||u.inputState.compositionPendingChange&&u.inputState.compositionEndedAt>Date.now()-50)&&(u.inputState.compositionPendingChange=!1,C+=".compose",u.inputState.compositionFirstChange&&(C+=".start",u.inputState.compositionFirstChange=!1)),d.update(c,{userEvent:C,scrollIntoView:!0})}function sd(u,n,i,c){let d=Math.min(u.length,n.length),m=0;for(;m<d&&u.charCodeAt(m)==n.charCodeAt(m);)m++;if(m==d&&u.length==n.length)return null;let C=u.length,O=n.length;for(;C>0&&O>0&&u.charCodeAt(C-1)==n.charCodeAt(O-1);)C--,O--;if(c=="end"){let G=Math.max(0,m-Math.min(C,O));i-=C+G-m}if(C<m&&u.length<n.length){let G=i<=m&&i>=C?m-i:0;m-=G,O=m+(O-C),C=m}else if(O<m){let G=i<=m&&i>=O?m-i:0;m-=G,C=m+(C-O),O=m}return{from:m,toA:C,toB:O}}function ad(u){let n=[];if(u.root.activeElement!=u.contentDOM)return n;let{anchorNode:i,anchorOffset:c,focusNode:d,focusOffset:m}=u.observer.selectionRange;return i&&(n.push(new em(i,c)),(d!=i||m!=c)&&n.push(new em(d,m))),n}function Fd(u,n){if(u.length==0)return null;let i=u[0].pos,c=u.length==2?u[1].pos:i;return i>-1&&c>-1?$e.single(i+n,c+n):null}class Sh{setSelectionOrigin(n){this.lastSelectionOrigin=n,this.lastSelectionTime=Date.now()}constructor(n){this.view=n,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=n.hasFocus,Kr.safari&&n.contentDOM.addEventListener("input",()=>null),Kr.gecko&&$v(n.contentDOM.ownerDocument)}handleEvent(n){!Bd(this.view,n)||this.ignoreDuringComposition(n)||n.type=="keydown"&&this.keydown(n)||this.runHandlers(n.type,n)}runHandlers(n,i){let c=this.handlers[n];if(c){for(let d of c.observers)d(this.view,i);for(let d of c.handlers){if(i.defaultPrevented)break;if(d(this.view,i)){i.preventDefault();break}}}}ensureHandlers(n){let i=ca(n),c=this.handlers,d=this.view.contentDOM;for(let m in i)if(m!="scroll"){let C=!i[m].handlers.length,O=c[m];O&&C!=!O.handlers.length&&(d.removeEventListener(m,this.handleEvent),O=null),O||d.addEventListener(m,this.handleEvent,{passive:C})}for(let m in c)m!="scroll"&&!i[m]&&d.removeEventListener(m,this.handleEvent);this.handlers=i}keydown(n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&n.keyCode!=27&&Ah.indexOf(n.keyCode)<0&&(this.tabFocusMode=-1),Kr.android&&Kr.chrome&&!n.synthetic&&(n.keyCode==13||n.keyCode==8))return this.view.observer.delayAndroidKey(n.key,n.keyCode),!0;let i;return Kr.ios&&!n.synthetic&&!n.altKey&&!n.metaKey&&((i=Yf.find(c=>c.keyCode==n.keyCode))&&!n.ctrlKey||Oc.indexOf(n.key)>-1&&n.ctrlKey&&!n.shiftKey)?(this.pendingIOSKey=i||n,setTimeout(()=>this.flushIOSKey(),250),!0):(n.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(n){let i=this.pendingIOSKey;return!i||i.key=="Enter"&&n&&n.from<n.to&&/^\S+$/.test(n.insert.toString())?!1:(this.pendingIOSKey=void 0,wt(this.view.contentDOM,i.key,i.keyCode,i instanceof KeyboardEvent?i:void 0))}ignoreDuringComposition(n){return/^key/.test(n.type)?this.composing>0?!0:Kr.safari&&!Kr.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(n){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=n}update(n){this.view.observer.update(n),this.mouseSelection&&this.mouseSelection.update(n),this.draggedContent&&n.docChanged&&(this.draggedContent=this.draggedContent.map(n.changes)),n.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Du(u,n){return(i,c)=>{try{return n.call(u,c,i)}catch(d){al(i.state,d)}}}function ca(u){let n=Object.create(null);function i(c){return n[c]||(n[c]={observers:[],handlers:[]})}for(let c of u){let d=c.spec;if(d&&d.domEventHandlers)for(let m in d.domEventHandlers){let C=d.domEventHandlers[m];C&&i(m).handlers.push(Du(c.value,C))}if(d&&d.domEventObservers)for(let m in d.domEventObservers){let C=d.domEventObservers[m];C&&i(m).observers.push(Du(c.value,C))}}for(let c in wc)i(c).handlers.push(wc[c]);for(let c in zc)i(c).observers.push(zc[c]);return n}const Yf=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Oc="dthko",Ah=[16,17,18,20,91,92,224,225],Jf=6;function gc(u){return Math.max(0,u)*.7+8}function tm(u,n){return Math.max(Math.abs(u.clientX-n.clientX),Math.abs(u.clientY-n.clientY))}class qf{constructor(n,i,c,d){this.view=n,this.startEvent=i,this.style=c,this.mustSelect=d,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=i,this.scrollParents=$r(n.contentDOM),this.atoms=n.state.facet(Qi).map(C=>C(n));let m=n.contentDOM.ownerDocument;m.addEventListener("mousemove",this.move=this.move.bind(this)),m.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=i.shiftKey,this.multiple=n.state.facet(xn.allowMultipleSelections)&&Gp(n,i),this.dragging=v0(n,i)&&Vp(i)==1?null:!1}start(n){this.dragging===!1&&this.select(n)}move(n){if(n.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&tm(this.startEvent,n)<10)return;this.select(this.lastEvent=n);let i=0,c=0,d=0,m=0,C=this.view.win.innerWidth,O=this.view.win.innerHeight;this.scrollParents.x&&({left:d,right:C}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:m,bottom:O}=this.scrollParents.y.getBoundingClientRect());let G=Lo(this.view);n.clientX-G.left<=d+Jf?i=-gc(d-n.clientX):n.clientX+G.right>=C-Jf&&(i=gc(n.clientX-C)),n.clientY-G.top<=m+Jf?c=-gc(m-n.clientY):n.clientY+G.bottom>=O-Jf&&(c=gc(n.clientY-O)),this.setScrollSpeed(i,c)}up(n){this.dragging==null&&this.select(this.lastEvent),this.dragging||n.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let n=this.view.contentDOM.ownerDocument;n.removeEventListener("mousemove",this.move),n.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(n,i){this.scrollSpeed={x:n,y:i},n||i?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:n,y:i}=this.scrollSpeed;n&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=n,n=0),i&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=i,i=0),(n||i)&&this.view.win.scrollBy(n,i),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(n){let i=null;for(let c=0;c<n.ranges.length;c++){let d=n.ranges[c],m=null;if(d.empty){let C=Kf(this.atoms,d.from,0);C!=d.from&&(m=$e.cursor(C,-1))}else{let C=Kf(this.atoms,d.from,-1),O=Kf(this.atoms,d.to,1);(C!=d.from||O!=d.to)&&(m=$e.range(d.from==d.anchor?C:O,d.from==d.head?C:O))}m&&(i||(i=n.ranges.slice()),i[c]=m)}return i?$e.create(i,n.mainIndex):n}select(n){let{view:i}=this,c=this.skipAtoms(this.style.get(n,this.extend,this.multiple));(this.mustSelect||!c.eq(i.state.selection,this.dragging===!1))&&this.view.dispatch({selection:c,userEvent:"select.pointer"}),this.mustSelect=!1}update(n){n.transactions.some(i=>i.isUserEvent("input.type"))?this.destroy():this.style.update(n)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Gp(u,n){let i=u.state.facet(xa);return i.length?i[0](n):Kr.mac?n.metaKey:n.ctrlKey}function bu(u,n){let i=u.state.facet(Ca);return i.length?i[0](n):Kr.mac?!n.altKey:!n.ctrlKey}function v0(u,n){let{main:i}=u.state.selection;if(i.empty)return!1;let c=In(u.root);if(!c||c.rangeCount==0)return!0;let d=c.getRangeAt(0).getClientRects();for(let m=0;m<d.length;m++){let C=d[m];if(C.left<=n.clientX&&C.right>=n.clientX&&C.top<=n.clientY&&C.bottom>=n.clientY)return!0}return!1}function Bd(u,n){if(!n.bubbles)return!0;if(n.defaultPrevented)return!1;for(let i=n.target,c;i!=u.contentDOM;i=i.parentNode)if(!i||i.nodeType==11||(c=on.get(i))&&c.ignoreEvent(n))return!1;return!0}const wc=Object.create(null),zc=Object.create(null),en=Kr.ie&&Kr.ie_version<15||Kr.ios&&Kr.webkit_version<604;function Mh(u){let n=u.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(()=>{u.focus(),i.remove(),zd(u,i.value)},50)}function zd(u,n){let{state:i}=u,c,d=1,m=i.toText(n),C=m.lines==i.selection.ranges.length;if(nm!=null&&i.selection.ranges.every(G=>G.empty)&&nm==m.toString()){let G=-1;c=i.changeByRange(oe=>{let le=i.doc.lineAt(oe.from);if(le.from==G)return{range:oe};G=le.from;let ke=i.toText((C?m.line(d++).text:n)+i.lineBreak);return{changes:{from:le.from,insert:ke},range:$e.cursor(oe.from+ke.length)}})}else C?c=i.changeByRange(G=>{let oe=m.line(d++);return{changes:{from:G.from,to:G.to,insert:oe.text},range:$e.cursor(G.from+oe.length)}}):c=i.replaceSelection(m);u.dispatch(c,{userEvent:"input.paste",scrollIntoView:!0})}zc.scroll=u=>{u.inputState.lastScrollTop=u.scrollDOM.scrollTop,u.inputState.lastScrollLeft=u.scrollDOM.scrollLeft},wc.keydown=(u,n)=>(u.inputState.setSelectionOrigin("select"),n.keyCode==27&&u.inputState.tabFocusMode!=0&&(u.inputState.tabFocusMode=Date.now()+2e3),!1),zc.touchstart=(u,n)=>{u.inputState.lastTouchTime=Date.now(),u.inputState.setSelectionOrigin("select.pointer")},zc.touchmove=u=>{u.inputState.setSelectionOrigin("select.pointer")},wc.mousedown=(u,n)=>{if(u.observer.flush(),u.inputState.lastTouchTime>Date.now()-2e3)return!1;let i=null;for(let c of u.state.facet(ra))if(i=c(u,n),i)break;if(!i&&n.button==0&&(i=Zp(u,n)),i){let c=!u.hasFocus;u.inputState.startMouseSelection(new qf(u,n,i,c)),c&&u.observer.ignore(()=>{Re(u.contentDOM);let m=u.root.activeElement;m&&!m.contains(u.contentDOM)&&m.blur()});let d=u.inputState.mouseSelection;if(d)return d.start(n),d.dragging===!1}return!1};function Gc(u,n,i,c){if(c==1)return $e.cursor(n,i);if(c==2)return Yg(u.state,n,i);{let d=Zo.find(u.docView,n),m=u.state.doc.lineAt(d?d.posAtEnd:n),C=d?d.posAtStart:m.from,O=d?d.posAtEnd:m.to;return O<u.state.doc.length&&O==m.to&&O++,$e.range(C,O)}}let Ma=(u,n,i)=>n>=i.top&&n<=i.bottom&&u>=i.left&&u<=i.right;function Zv(u,n,i,c){let d=Zo.find(u.docView,n);if(!d)return 1;let m=n-d.posAtStart;if(m==0)return 1;if(m==d.length)return-1;let C=d.coordsAt(m,-1);if(C&&Ma(i,c,C))return-1;let O=d.coordsAt(m,1);return O&&Ma(i,c,O)?1:C&&C.bottom>=c?-1:1}function Th(u,n){let i=u.posAtCoords({x:n.clientX,y:n.clientY},!1);return{pos:i,bias:Zv(u,i,n.clientX,n.clientY)}}const y0=Kr.ie&&Kr.ie_version<=11;let Mf=null,b0=0,Ph=0;function Vp(u){if(!y0)return u.detail;let n=Mf,i=Ph;return Mf=u,Ph=Date.now(),b0=!n||i>Date.now()-400&&Math.abs(n.clientX-u.clientX)<2&&Math.abs(n.clientY-u.clientY)<2?(b0+1)%3:1}function Zp(u,n){let i=Th(u,n),c=Vp(n),d=u.state.selection;return{update(m){m.docChanged&&(i.pos=m.changes.mapPos(i.pos),d=d.map(m.changes))},get(m,C,O){let G=Th(u,m),oe,le=Gc(u,G.pos,G.bias,c);if(i.pos!=G.pos&&!C){let ke=Gc(u,i.pos,i.bias,c),lt=Math.min(ke.from,le.from),Kt=Math.max(ke.to,le.to);le=lt<le.from?$e.range(lt,Kt):$e.range(Kt,lt)}return C?d.replaceRange(d.main.extend(le.from,le.to)):O&&c==1&&d.ranges.length>1&&(oe=jv(d,G.pos))?oe:O?d.addRange(le):$e.create([le])}}}function jv(u,n){for(let i=0;i<u.ranges.length;i++){let{from:c,to:d}=u.ranges[i];if(c<=n&&d>=n)return $e.create(u.ranges.slice(0,i).concat(u.ranges.slice(i+1)),u.mainIndex==i?0:u.mainIndex-(u.mainIndex>i?1:0))}return null}wc.dragstart=(u,n)=>{let{selection:{main:i}}=u.state;if(n.target.draggable){let d=u.docView.nearest(n.target);if(d&&d.isWidget){let m=d.posAtStart,C=m+d.length;(m>=i.to||C<=i.from)&&(i=$e.range(m,C))}}let{inputState:c}=u;return c.mouseSelection&&(c.mouseSelection.dragging=!0),c.draggedContent=i,n.dataTransfer&&(n.dataTransfer.setData("Text",u.state.sliceDoc(i.from,i.to)),n.dataTransfer.effectAllowed="copyMove"),!1},wc.dragend=u=>(u.inputState.draggedContent=null,!1);function Qu(u,n,i,c){if(!i)return;let d=u.posAtCoords({x:n.clientX,y:n.clientY},!1),{draggedContent:m}=u.inputState,C=c&&m&&bu(u,n)?{from:m.from,to:m.to}:null,O={from:d,insert:i},G=u.state.changes(C?[C,O]:O);u.focus(),u.dispatch({changes:G,selection:{anchor:G.mapPos(d,-1),head:G.mapPos(d,1)},userEvent:C?"move.drop":"input.drop"}),u.inputState.draggedContent=null}wc.drop=(u,n)=>{if(!n.dataTransfer)return!1;if(u.state.readOnly)return!0;let i=n.dataTransfer.files;if(i&&i.length){let c=Array(i.length),d=0,m=()=>{++d==i.length&&Qu(u,n,c.filter(C=>C!=null).join(u.state.lineBreak),!1)};for(let C=0;C<i.length;C++){let O=new FileReader;O.onerror=m,O.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(O.result)||(c[C]=O.result),m()},O.readAsText(i[C])}return!0}else{let c=n.dataTransfer.getData("Text");if(c)return Qu(u,n,c,!0),!0}return!1},wc.paste=(u,n)=>{if(u.state.readOnly)return!0;u.observer.flush();let i=en?null:n.clipboardData;return i?(zd(u,i.getData("text/plain")||i.getData("text/uri-list")),!0):(Mh(u),!1)};function Uv(u,n){let i=u.dom.parentNode;if(!i)return;let c=i.appendChild(document.createElement("textarea"));c.style.cssText="position: fixed; left: -10000px; top: 10px",c.value=n,c.focus(),c.selectionEnd=n.length,c.selectionStart=0,setTimeout(()=>{c.remove(),u.focus()},50)}function Wv(u){let n=[],i=[],c=!1;for(let d of u.selection.ranges)d.empty||(n.push(u.sliceDoc(d.from,d.to)),i.push(d));if(!n.length){let d=-1;for(let{from:m}of u.selection.ranges){let C=u.doc.lineAt(m);C.number>d&&(n.push(C.text),i.push({from:C.from,to:Math.min(u.doc.length,C.to+1)})),d=C.number}c=!0}return{text:n.join(u.lineBreak),ranges:i,linewise:c}}let nm=null;wc.copy=wc.cut=(u,n)=>{let{text:i,ranges:c,linewise:d}=Wv(u.state);if(!i&&!d)return!1;nm=d?i:null,n.type=="cut"&&!u.state.readOnly&&u.dispatch({changes:c,scrollIntoView:!0,userEvent:"delete.cut"});let m=en?null:n.clipboardData;return m?(m.clearData(),m.setData("text/plain",i),!0):(Uv(u,i),!1)};const rm=_n.define();function x0(u,n){let i=[];for(let c of u.facet(Rl)){let d=c(u,n);d&&i.push(d)}return i?u.update({effects:i,annotations:rm.of(!0)}):null}function ef(u){setTimeout(()=>{let n=u.hasFocus;if(n!=u.inputState.notifiedFocused){let i=x0(u.state,n);i?u.dispatch(i):u.update([])}},10)}zc.focus=u=>{u.inputState.lastFocusTime=Date.now(),!u.scrollDOM.scrollTop&&(u.inputState.lastScrollTop||u.inputState.lastScrollLeft)&&(u.scrollDOM.scrollTop=u.inputState.lastScrollTop,u.scrollDOM.scrollLeft=u.inputState.lastScrollLeft),ef(u)},zc.blur=u=>{u.observer.clearSelectionRange(),ef(u)},zc.compositionstart=zc.compositionupdate=u=>{u.observer.editContext||(u.inputState.compositionFirstChange==null&&(u.inputState.compositionFirstChange=!0),u.inputState.composing<0&&(u.inputState.composing=0))},zc.compositionend=u=>{u.observer.editContext||(u.inputState.composing=-1,u.inputState.compositionEndedAt=Date.now(),u.inputState.compositionPendingKey=!0,u.inputState.compositionPendingChange=u.observer.pendingRecords().length>0,u.inputState.compositionFirstChange=null,Kr.chrome&&Kr.android?u.observer.flushSoon():u.inputState.compositionPendingChange?Promise.resolve().then(()=>u.observer.flush()):setTimeout(()=>{u.inputState.composing<0&&u.docView.hasComposition&&u.update([])},50))},zc.contextmenu=u=>{u.inputState.lastContextMenu=Date.now()},wc.beforeinput=(u,n)=>{var i,c;if(n.inputType=="insertReplacementText"&&u.observer.editContext){let m=(i=n.dataTransfer)===null||i===void 0?void 0:i.getData("text/plain"),C=n.getTargetRanges();if(m&&C.length){let O=C[0],G=u.posAtDOM(O.startContainer,O.startOffset),oe=u.posAtDOM(O.endContainer,O.endOffset);return $l(u,{from:G,to:oe,insert:u.state.toText(m)},null),!0}}let d;if(Kr.chrome&&Kr.android&&(d=Yf.find(m=>m.inputType==n.inputType))&&(u.observer.delayAndroidKey(d.key,d.keyCode),d.key=="Backspace"||d.key=="Delete")){let m=((c=window.visualViewport)===null||c===void 0?void 0:c.height)||0;setTimeout(()=>{var C;(((C=window.visualViewport)===null||C===void 0?void 0:C.height)||0)>m+10&&u.hasFocus&&(u.contentDOM.blur(),u.focus())},100)}return Kr.ios&&n.inputType=="deleteContentForward"&&u.observer.flushSoon(),Kr.safari&&n.inputType=="insertText"&&u.inputState.composing>=0&&setTimeout(()=>zc.compositionend(u,n),20),!1};const C0=new Set;function $v(u){C0.has(u)||(C0.add(u),u.addEventListener("copy",()=>{}),u.addEventListener("cut",()=>{}))}const im=["pre-wrap","normal","pre-line","break-spaces"];let su=!1;function jp(){su=!1}class Tf{constructor(n){this.lineWrapping=n,this.doc=R.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(n,i){let c=this.doc.lineAt(i).number-this.doc.lineAt(n).number+1;return this.lineWrapping&&(c+=Math.max(0,Math.ceil((i-n-c*this.lineLength*.5)/this.lineLength))),this.lineHeight*c}heightForLine(n){return this.lineWrapping?(1+Math.max(0,Math.ceil((n-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(n){return this.doc=n,this}mustRefreshForWrapping(n){return im.indexOf(n)>-1!=this.lineWrapping}mustRefreshForHeights(n){let i=!1;for(let c=0;c<n.length;c++){let d=n[c];d<0?c++:this.heightSamples[Math.floor(d*10)]||(i=!0,this.heightSamples[Math.floor(d*10)]=!0)}return i}refresh(n,i,c,d,m,C){let O=im.indexOf(n)>-1,G=Math.round(i)!=Math.round(this.lineHeight)||this.lineWrapping!=O;if(this.lineWrapping=O,this.lineHeight=i,this.charWidth=c,this.textHeight=d,this.lineLength=m,G){this.heightSamples={};for(let oe=0;oe<C.length;oe++){let le=C[oe];le<0?oe++:this.heightSamples[Math.floor(le*10)]=!0}}return G}}class Up{constructor(n,i){this.from=n,this.heights=i,this.index=0}get more(){return this.index<this.heights.length}}class Vc{constructor(n,i,c,d,m){this.from=n,this.length=i,this.top=c,this.height=d,this._content=m}get type(){return typeof this._content=="number"?gn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Hr?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(n){let i=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(n._content)?n._content:[n]);return new Vc(this.from,this.length+n.length,this.top,this.height+n.height,i)}}var Ta=function(u){return u[u.ByPos=0]="ByPos",u[u.ByHeight=1]="ByHeight",u[u.ByPosNoHeight=2]="ByPosNoHeight",u}(Ta||(Ta={}));const ld=.001;class mc{constructor(n,i,c=2){this.length=n,this.height=i,this.flags=c}get outdated(){return(this.flags&2)>0}set outdated(n){this.flags=(n?2:0)|this.flags&-3}setHeight(n){this.height!=n&&(Math.abs(this.height-n)>ld&&(su=!0),this.height=n)}replace(n,i,c){return mc.of(c)}decomposeLeft(n,i){i.push(this)}decomposeRight(n,i){i.push(this)}applyChanges(n,i,c,d){let m=this,C=c.doc;for(let O=d.length-1;O>=0;O--){let{fromA:G,toA:oe,fromB:le,toB:ke}=d[O],lt=m.lineAt(G,Ta.ByPosNoHeight,c.setDoc(i),0,0),Kt=lt.to>=oe?lt:m.lineAt(oe,Ta.ByPosNoHeight,c,0,0);for(ke+=Kt.to-oe,oe=Kt.to;O>0&&lt.from<=d[O-1].toA;)G=d[O-1].fromA,le=d[O-1].fromB,O--,G<lt.from&&(lt=m.lineAt(G,Ta.ByPosNoHeight,c,0,0));le+=lt.from-G,G=lt.from;let Wn=Nu.build(c.setDoc(C),n,le,ke);m=Gd(m,m.replace(G,oe,Wn))}return m.updateHeight(c,0)}static empty(){return new ds(0,0)}static of(n){if(n.length==1)return n[0];let i=0,c=n.length,d=0,m=0;for(;;)if(i==c)if(d>m*2){let O=n[i-1];O.break?n.splice(--i,1,O.left,null,O.right):n.splice(--i,1,O.left,O.right),c+=1+O.break,d-=O.size}else if(m>d*2){let O=n[c];O.break?n.splice(c,1,O.left,null,O.right):n.splice(c,1,O.left,O.right),c+=2+O.break,m-=O.size}else break;else if(d<m){let O=n[i++];O&&(d+=O.size)}else{let O=n[--c];O&&(m+=O.size)}let C=0;return n[i-1]==null?(C=1,i--):n[i]==null&&(C=1,c++),new Rs(mc.of(n.slice(0,i)),C,mc.of(n.slice(c)))}}function Gd(u,n){return u==n?u:(u.constructor!=n.constructor&&(su=!0),n)}mc.prototype.size=1;class om extends mc{constructor(n,i,c){super(n,i),this.deco=c}blockAt(n,i,c,d){return new Vc(d,this.length,c,this.height,this.deco||0)}lineAt(n,i,c,d,m){return this.blockAt(0,c,d,m)}forEachLine(n,i,c,d,m,C){n<=m+this.length&&i>=m&&C(this.blockAt(0,c,d,m))}updateHeight(n,i=0,c=!1,d){return d&&d.from<=i&&d.more&&this.setHeight(d.heights[d.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ds extends om{constructor(n,i){super(n,i,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(n,i,c,d){return new Vc(d,this.length,c,this.height,this.breaks)}replace(n,i,c){let d=c[0];return c.length==1&&(d instanceof ds||d instanceof mo&&d.flags&4)&&Math.abs(this.length-d.length)<10?(d instanceof mo?d=new ds(d.length,this.height):d.height=this.height,this.outdated||(d.outdated=!1),d):mc.of(c)}updateHeight(n,i=0,c=!1,d){return d&&d.from<=i&&d.more?this.setHeight(d.heights[d.index++]):(c||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,n.heightForLine(this.length-this.collapsed))+this.breaks*n.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class mo extends mc{constructor(n){super(n,0)}heightMetrics(n,i){let c=n.doc.lineAt(i).number,d=n.doc.lineAt(i+this.length).number,m=d-c+1,C,O=0;if(n.lineWrapping){let G=Math.min(this.height,n.lineHeight*m);C=G/m,this.length>m+1&&(O=(this.height-G)/(this.length-m-1))}else C=this.height/m;return{firstLine:c,lastLine:d,perLine:C,perChar:O}}blockAt(n,i,c,d){let{firstLine:m,lastLine:C,perLine:O,perChar:G}=this.heightMetrics(i,d);if(i.lineWrapping){let oe=d+(n<i.lineHeight?0:Math.round(Math.max(0,Math.min(1,(n-c)/this.height))*this.length)),le=i.doc.lineAt(oe),ke=O+le.length*G,lt=Math.max(c,n-ke/2);return new Vc(le.from,le.length,lt,ke,0)}else{let oe=Math.max(0,Math.min(C-m,Math.floor((n-c)/O))),{from:le,length:ke}=i.doc.line(m+oe);return new Vc(le,ke,c+O*oe,O,0)}}lineAt(n,i,c,d,m){if(i==Ta.ByHeight)return this.blockAt(n,c,d,m);if(i==Ta.ByPosNoHeight){let{from:Kt,to:Wn}=c.doc.lineAt(n);return new Vc(Kt,Wn-Kt,0,0,0)}let{firstLine:C,perLine:O,perChar:G}=this.heightMetrics(c,m),oe=c.doc.lineAt(n),le=O+oe.length*G,ke=oe.number-C,lt=d+O*ke+G*(oe.from-m-ke);return new Vc(oe.from,oe.length,Math.max(d,Math.min(lt,d+this.height-le)),le,0)}forEachLine(n,i,c,d,m,C){n=Math.max(n,m),i=Math.min(i,m+this.length);let{firstLine:O,perLine:G,perChar:oe}=this.heightMetrics(c,m);for(let le=n,ke=d;le<=i;){let lt=c.doc.lineAt(le);if(le==n){let Wn=lt.number-O;ke+=G*Wn+oe*(n-m-Wn)}let Kt=G+oe*lt.length;C(new Vc(lt.from,lt.length,ke,Kt,0)),ke+=Kt,le=lt.to+1}}replace(n,i,c){let d=this.length-i;if(d>0){let m=c[c.length-1];m instanceof mo?c[c.length-1]=new mo(m.length+d):c.push(null,new mo(d-1))}if(n>0){let m=c[0];m instanceof mo?c[0]=new mo(n+m.length):c.unshift(new mo(n-1),null)}return mc.of(c)}decomposeLeft(n,i){i.push(new mo(n-1),null)}decomposeRight(n,i){i.push(null,new mo(this.length-n-1))}updateHeight(n,i=0,c=!1,d){let m=i+this.length;if(d&&d.from<=i+this.length&&d.more){let C=[],O=Math.max(i,d.from),G=-1;for(d.from>i&&C.push(new mo(d.from-i-1).updateHeight(n,i));O<=m&&d.more;){let le=n.doc.lineAt(O).length;C.length&&C.push(null);let ke=d.heights[d.index++];G==-1?G=ke:Math.abs(ke-G)>=ld&&(G=-2);let lt=new ds(le,ke);lt.outdated=!1,C.push(lt),O+=le+1}O<=m&&C.push(null,new mo(m-O).updateHeight(n,O));let oe=mc.of(C);return(G<0||Math.abs(oe.height-this.height)>=ld||Math.abs(G-this.heightMetrics(n,i).perLine)>=ld)&&(su=!0),Gd(this,oe)}else(c||this.outdated)&&(this.setHeight(n.heightForGap(i,i+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Rs extends mc{constructor(n,i,c){super(n.length+i+c.length,n.height+c.height,i|(n.outdated||c.outdated?2:0)),this.left=n,this.right=c,this.size=n.size+c.size}get break(){return this.flags&1}blockAt(n,i,c,d){let m=c+this.left.height;return n<m?this.left.blockAt(n,i,c,d):this.right.blockAt(n,i,m,d+this.left.length+this.break)}lineAt(n,i,c,d,m){let C=d+this.left.height,O=m+this.left.length+this.break,G=i==Ta.ByHeight?n<C:n<O,oe=G?this.left.lineAt(n,i,c,d,m):this.right.lineAt(n,i,c,C,O);if(this.break||(G?oe.to<O:oe.from>O))return oe;let le=i==Ta.ByPosNoHeight?Ta.ByPosNoHeight:Ta.ByPos;return G?oe.join(this.right.lineAt(O,le,c,C,O)):this.left.lineAt(O,le,c,d,m).join(oe)}forEachLine(n,i,c,d,m,C){let O=d+this.left.height,G=m+this.left.length+this.break;if(this.break)n<G&&this.left.forEachLine(n,i,c,d,m,C),i>=G&&this.right.forEachLine(n,i,c,O,G,C);else{let oe=this.lineAt(G,Ta.ByPos,c,d,m);n<oe.from&&this.left.forEachLine(n,oe.from-1,c,d,m,C),oe.to>=n&&oe.from<=i&&C(oe),i>oe.to&&this.right.forEachLine(oe.to+1,i,c,O,G,C)}}replace(n,i,c){let d=this.left.length+this.break;if(i<d)return this.balanced(this.left.replace(n,i,c),this.right);if(n>this.left.length)return this.balanced(this.left,this.right.replace(n-d,i-d,c));let m=[];n>0&&this.decomposeLeft(n,m);let C=m.length;for(let O of c)m.push(O);if(n>0&&Ds(m,C-1),i<this.length){let O=m.length;this.decomposeRight(i,m),Ds(m,O)}return mc.of(m)}decomposeLeft(n,i){let c=this.left.length;if(n<=c)return this.left.decomposeLeft(n,i);i.push(this.left),this.break&&(c++,n>=c&&i.push(null)),n>c&&this.right.decomposeLeft(n-c,i)}decomposeRight(n,i){let c=this.left.length,d=c+this.break;if(n>=d)return this.right.decomposeRight(n-d,i);n<c&&this.left.decomposeRight(n,i),this.break&&n<d&&i.push(null),i.push(this.right)}balanced(n,i){return n.size>2*i.size||i.size>2*n.size?mc.of(this.break?[n,null,i]:[n,i]):(this.left=Gd(this.left,n),this.right=Gd(this.right,i),this.setHeight(n.height+i.height),this.outdated=n.outdated||i.outdated,this.size=n.size+i.size,this.length=n.length+this.break+i.length,this)}updateHeight(n,i=0,c=!1,d){let{left:m,right:C}=this,O=i+m.length+this.break,G=null;return d&&d.from<=i+m.length&&d.more?G=m=m.updateHeight(n,i,c,d):m.updateHeight(n,i,c),d&&d.from<=O+C.length&&d.more?G=C=C.updateHeight(n,O,c,d):C.updateHeight(n,O,c),G?this.balanced(m,C):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Ds(u,n){let i,c;u[n]==null&&(i=u[n-1])instanceof mo&&(c=u[n+1])instanceof mo&&u.splice(n-1,3,new mo(i.length+1+c.length))}const Wp=5;class Nu{constructor(n,i){this.pos=n,this.oracle=i,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=n}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(n,i){if(this.lineStart>-1){let c=Math.min(i,this.lineEnd),d=this.nodes[this.nodes.length-1];d instanceof ds?d.length+=c-this.pos:(c>this.pos||!this.isCovered)&&this.nodes.push(new ds(c-this.pos,-1)),this.writtenTo=c,i>c&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=i}point(n,i,c){if(n<i||c.heightRelevant){let d=c.widget?c.widget.estimatedHeight:0,m=c.widget?c.widget.lineBreaks:0;d<0&&(d=this.oracle.lineHeight);let C=i-n;c.block?this.addBlock(new om(C,d,c)):(C||m||d>=Wp)&&this.addLineDeco(d,m,C)}else i>n&&this.span(n,i);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:n,to:i}=this.oracle.doc.lineAt(this.pos);this.lineStart=n,this.lineEnd=i,this.writtenTo<n&&((this.writtenTo<n-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,n-1)),this.nodes.push(null)),this.pos>n&&this.nodes.push(new ds(this.pos-n,-1)),this.writtenTo=this.pos}blankContent(n,i){let c=new mo(i-n);return this.oracle.doc.lineAt(n).to==i&&(c.flags|=4),c}ensureLine(){this.enterLine();let n=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(n instanceof ds)return n;let i=new ds(0,-1);return this.nodes.push(i),i}addBlock(n){this.enterLine();let i=n.deco;i&&i.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(n),this.writtenTo=this.pos=this.pos+n.length,i&&i.endSide>0&&(this.covering=n)}addLineDeco(n,i,c){let d=this.ensureLine();d.length+=c,d.collapsed+=c,d.widgetHeight=Math.max(d.widgetHeight,n),d.breaks+=i,this.writtenTo=this.pos=this.pos+c}finish(n){let i=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(i instanceof ds)&&!this.isCovered?this.nodes.push(new ds(0,-1)):(this.writtenTo<this.pos||i==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let c=n;for(let d of this.nodes)d instanceof ds&&d.updateHeight(this.oracle,c),c+=d?d.length:1;return this.nodes}static build(n,i,c,d){let m=new Nu(c,n);return Tr.spans(i,c,d,m,0),m.finish(c)}}function qo(u,n,i){let c=new Ks;return Tr.compare(u,n,i,c,0),c.changes}class Ks{constructor(){this.changes=[]}compareRange(){}comparePoint(n,i,c,d){(n<i||c&&c.heightRelevant||d&&d.heightRelevant)&&Uo(n,i,this.changes,5)}}function w0(u,n){let i=u.getBoundingClientRect(),c=u.ownerDocument,d=c.defaultView||window,m=Math.max(0,i.left),C=Math.min(d.innerWidth,i.right),O=Math.max(0,i.top),G=Math.min(d.innerHeight,i.bottom);for(let oe=u.parentNode;oe&&oe!=c.body;)if(oe.nodeType==1){let le=oe,ke=window.getComputedStyle(le);if((le.scrollHeight>le.clientHeight||le.scrollWidth>le.clientWidth)&&ke.overflow!="visible"){let lt=le.getBoundingClientRect();m=Math.max(m,lt.left),C=Math.min(C,lt.right),O=Math.max(O,lt.top),G=Math.min(oe==u.parentNode?d.innerHeight:G,lt.bottom)}oe=ke.position=="absolute"||ke.position=="fixed"?le.offsetParent:le.parentNode}else if(oe.nodeType==11)oe=oe.host;else break;return{left:m-i.left,right:Math.max(m,C)-i.left,top:O-(i.top+n),bottom:Math.max(O,G)-(i.top+n)}}function tf(u,n){let i=u.getBoundingClientRect();return{left:0,right:i.right-i.left,top:n,bottom:i.bottom-(i.top+n)}}class Zc{constructor(n,i,c){this.from=n,this.to=i,this.size=c}static same(n,i){if(n.length!=i.length)return!1;for(let c=0;c<n.length;c++){let d=n[c],m=i[c];if(d.from!=m.from||d.to!=m.to||d.size!=m.size)return!1}return!0}draw(n,i){return Pn.replace({widget:new el(this.size*(i?n.scaleY:n.scaleX),i)}).range(this.from,this.to)}}class el extends wn{constructor(n,i){super(),this.size=n,this.vertical=i}eq(n){return n.size==this.size&&n.vertical==this.vertical}toDOM(){let n=document.createElement("div");return this.vertical?n.style.height=this.size+"px":(n.style.width=this.size+"px",n.style.height="2px",n.style.display="inline-block"),n}get estimatedHeight(){return this.vertical?this.size:-1}}class jc{constructor(n){this.state=n,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Pf,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ms.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let i=n.facet(On).some(c=>typeof c!="function"&&c.class=="cm-lineWrapping");this.heightOracle=new Tf(i),this.stateDeco=n.facet(Yn).filter(c=>typeof c!="function"),this.heightMap=mc.empty().applyChanges(this.stateDeco,R.empty,this.heightOracle.setDoc(n.doc),[new Ro(0,0,0,n.doc.length)]);for(let c=0;c<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());c++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Pn.set(this.lineGaps.map(c=>c.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let n=[this.viewport],{main:i}=this.state.selection;for(let c=0;c<=1;c++){let d=c?i.head:i.anchor;if(!n.some(({from:m,to:C})=>d>=m&&d<=C)){let{from:m,to:C}=this.lineBlockAt(d);n.push(new Ec(m,C))}}return this.viewports=n.sort((c,d)=>c.from-d.from),this.updateScaler()}updateScaler(){let n=this.scaler;return this.scaler=this.heightMap.height<=7e6?Pf:new ll(this.heightOracle,this.heightMap,this.viewports),n.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,n=>{this.viewportLines.push(Dl(n,this.scaler))})}update(n,i=null){this.state=n.state;let c=this.stateDeco;this.stateDeco=this.state.facet(Yn).filter(le=>typeof le!="function");let d=n.changedRanges,m=Ro.extendWithRanges(d,qo(c,this.stateDeco,n?n.changes:Cn.empty(this.state.doc.length))),C=this.heightMap.height,O=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);jp(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,n.startState.doc,this.heightOracle.setDoc(this.state.doc),m),(this.heightMap.height!=C||su)&&(n.flags|=2),O?(this.scrollAnchorPos=n.changes.mapPos(O.from,-1),this.scrollAnchorHeight=O.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let G=m.length?this.mapViewport(this.viewport,n.changes):this.viewport;(i&&(i.range.head<G.from||i.range.head>G.to)||!this.viewportIsAppropriate(G))&&(G=this.getViewport(0,i));let oe=G.from!=this.viewport.from||G.to!=this.viewport.to;this.viewport=G,n.flags|=this.updateForViewport(),(oe||!n.changes.empty||n.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,n.changes))),n.flags|=this.computeVisibleRanges(),i&&(this.scrollTarget=i),!this.mustEnforceCursorAssoc&&n.selectionSet&&n.view.lineWrapping&&n.state.selection.main.empty&&n.state.selection.main.assoc&&!n.state.facet(ol)&&(this.mustEnforceCursorAssoc=!0)}measure(n){let i=n.contentDOM,c=window.getComputedStyle(i),d=this.heightOracle,m=c.whiteSpace;this.defaultTextDirection=c.direction=="rtl"?ms.RTL:ms.LTR;let C=this.heightOracle.mustRefreshForWrapping(m),O=i.getBoundingClientRect(),G=C||this.mustMeasureContent||this.contentDOMHeight!=O.height;this.contentDOMHeight=O.height,this.mustMeasureContent=!1;let oe=0,le=0;if(O.width&&O.height){let{scaleX:Xo,scaleY:Po}=Gn(i,O);(Xo>.005&&Math.abs(this.scaleX-Xo)>.005||Po>.005&&Math.abs(this.scaleY-Po)>.005)&&(this.scaleX=Xo,this.scaleY=Po,oe|=8,C=G=!0)}let ke=(parseInt(c.paddingTop)||0)*this.scaleY,lt=(parseInt(c.paddingBottom)||0)*this.scaleY;(this.paddingTop!=ke||this.paddingBottom!=lt)&&(this.paddingTop=ke,this.paddingBottom=lt,oe|=10),this.editorWidth!=n.scrollDOM.clientWidth&&(d.lineWrapping&&(G=!0),this.editorWidth=n.scrollDOM.clientWidth,oe|=8);let Kt=n.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=Kt&&(this.scrollAnchorHeight=-1,this.scrollTop=Kt),this.scrolledToBottom=_e(n.scrollDOM);let Wn=(this.printing?tf:w0)(i,this.paddingTop),Br=Wn.top-this.pixelViewport.top,ti=Wn.bottom-this.pixelViewport.bottom;this.pixelViewport=Wn;let gi=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(gi!=this.inView&&(this.inView=gi,gi&&(G=!0)),!this.inView&&!this.scrollTarget)return 0;let wo=O.width;if((this.contentDOMWidth!=wo||this.editorHeight!=n.scrollDOM.clientHeight)&&(this.contentDOMWidth=O.width,this.editorHeight=n.scrollDOM.clientHeight,oe|=8),G){let Xo=n.docView.measureVisibleLineHeights(this.viewport);if(d.mustRefreshForHeights(Xo)&&(C=!0),C||d.lineWrapping&&Math.abs(wo-this.contentDOMWidth)>d.charWidth){let{lineHeight:Po,charWidth:hs,textHeight:ki}=n.docView.measureTextSize();C=Po>0&&d.refresh(m,Po,hs,ki,wo/hs,Xo),C&&(n.docView.minWidth=0,oe|=8)}Br>0&&ti>0?le=Math.max(Br,ti):Br<0&&ti<0&&(le=Math.min(Br,ti)),jp();for(let Po of this.viewports){let hs=Po.from==this.viewport.from?Xo:n.docView.measureVisibleLineHeights(Po);this.heightMap=(C?mc.empty().applyChanges(this.stateDeco,R.empty,this.heightOracle,[new Ro(0,0,0,n.state.doc.length)]):this.heightMap).updateHeight(d,0,C,new Up(Po.from,hs))}su&&(oe|=2)}let ns=!this.viewportIsAppropriate(this.viewport,le)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return ns&&(oe&2&&(oe|=this.updateScaler()),this.viewport=this.getViewport(le,this.scrollTarget),oe|=this.updateForViewport()),(oe&2||ns)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(C?[]:this.lineGaps,n)),oe|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,n.docView.enforceCursorAssoc()),oe}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(n,i){let c=.5-Math.max(-.5,Math.min(.5,n/1e3/2)),d=this.heightMap,m=this.heightOracle,{visibleTop:C,visibleBottom:O}=this,G=new Ec(d.lineAt(C-c*1e3,Ta.ByHeight,m,0,0).from,d.lineAt(O+(1-c)*1e3,Ta.ByHeight,m,0,0).to);if(i){let{head:oe}=i.range;if(oe<G.from||oe>G.to){let le=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),ke=d.lineAt(oe,Ta.ByPos,m,0,0),lt;i.y=="center"?lt=(ke.top+ke.bottom)/2-le/2:i.y=="start"||i.y=="nearest"&&oe<G.from?lt=ke.top:lt=ke.bottom-le,G=new Ec(d.lineAt(lt-1e3/2,Ta.ByHeight,m,0,0).from,d.lineAt(lt+le+1e3/2,Ta.ByHeight,m,0,0).to)}}return G}mapViewport(n,i){let c=i.mapPos(n.from,-1),d=i.mapPos(n.to,1);return new Ec(this.heightMap.lineAt(c,Ta.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(d,Ta.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:n,to:i},c=0){if(!this.inView)return!0;let{top:d}=this.heightMap.lineAt(n,Ta.ByPos,this.heightOracle,0,0),{bottom:m}=this.heightMap.lineAt(i,Ta.ByPos,this.heightOracle,0,0),{visibleTop:C,visibleBottom:O}=this;return(n==0||d<=C-Math.max(10,Math.min(-c,250)))&&(i==this.state.doc.length||m>=O+Math.max(10,Math.min(c,250)))&&d>C-2*1e3&&m<O+2*1e3}mapLineGaps(n,i){if(!n.length||i.empty)return n;let c=[];for(let d of n)i.touchesRange(d.from,d.to)||c.push(new Zc(i.mapPos(d.from),i.mapPos(d.to),d.size));return c}ensureLineGaps(n,i){let c=this.heightOracle.lineWrapping,d=c?1e4:2e3,m=d>>1,C=d<<1;if(this.defaultTextDirection!=ms.LTR&&!c)return[];let O=[],G=(le,ke,lt,Kt)=>{if(ke-le<m)return;let Wn=this.state.selection.main,Br=[Wn.from];Wn.empty||Br.push(Wn.to);for(let gi of Br)if(gi>le&&gi<ke){G(le,gi-10,lt,Kt),G(gi+10,ke,lt,Kt);return}let ti=cd(n,gi=>gi.from>=lt.from&&gi.to<=lt.to&&Math.abs(gi.from-le)<m&&Math.abs(gi.to-ke)<m&&!Br.some(wo=>gi.from<wo&&gi.to>wo));if(!ti){if(ke<lt.to&&i&&c&&i.visibleRanges.some(gi=>gi.from<=ke&&gi.to>=ke)){let gi=i.moveToLineBoundary($e.cursor(ke),!1,!0).head;gi>le&&(ke=gi)}ti=new Zc(le,ke,this.gapSize(lt,le,ke,Kt))}O.push(ti)},oe=le=>{if(le.length<C||le.type!=gn.Text)return;let ke=Xi(le.from,le.to,this.stateDeco);if(ke.total<C)return;let lt=this.scrollTarget?this.scrollTarget.range.head:null,Kt,Wn;if(c){let Br=d/this.heightOracle.lineLength*this.heightOracle.lineHeight,ti,gi;if(lt!=null){let wo=Qf(ke,lt),ns=((this.visibleBottom-this.visibleTop)/2+Br)/le.height;ti=wo-ns,gi=wo+ns}else ti=(this.visibleTop-le.top-Br)/le.height,gi=(this.visibleBottom-le.top+Br)/le.height;Kt=zi(ke,ti),Wn=zi(ke,gi)}else{let Br=ke.total*this.heightOracle.charWidth,ti=d*this.heightOracle.charWidth,gi,wo;if(lt!=null){let ns=Qf(ke,lt),Xo=((this.pixelViewport.right-this.pixelViewport.left)/2+ti)/Br;gi=ns-Xo,wo=ns+Xo}else gi=(this.pixelViewport.left-ti)/Br,wo=(this.pixelViewport.right+ti)/Br;Kt=zi(ke,gi),Wn=zi(ke,wo)}Kt>le.from&&G(le.from,Kt,le,ke),Wn<le.to&&G(Wn,le.to,le,ke)};for(let le of this.viewportLines)Array.isArray(le.type)?le.type.forEach(oe):oe(le);return O}gapSize(n,i,c,d){let m=Qf(d,c)-Qf(d,i);return this.heightOracle.lineWrapping?n.height*m:d.total*this.heightOracle.charWidth*m}updateLineGaps(n){Zc.same(n,this.lineGaps)||(this.lineGaps=n,this.lineGapDeco=Pn.set(n.map(i=>i.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let i=[];Tr.spans(n,this.viewport.from,this.viewport.to,{span(d,m){i.push({from:d,to:m})},point(){}},20);let c=i.length!=this.visibleRanges.length||this.visibleRanges.some((d,m)=>d.from!=i[m].from||d.to!=i[m].to);return this.visibleRanges=i,c?4:0}lineBlockAt(n){return n>=this.viewport.from&&n<=this.viewport.to&&this.viewportLines.find(i=>i.from<=n&&i.to>=n)||Dl(this.heightMap.lineAt(n,Ta.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(n){return n>=this.viewportLines[0].top&&n<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(i=>i.top<=n&&i.bottom>=n)||Dl(this.heightMap.lineAt(this.scaler.fromDOM(n),Ta.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(n){let i=this.lineBlockAtHeight(n+8);return i.from>=this.viewport.from||this.viewportLines[0].top-n>200?i:this.viewportLines[0]}elementAtHeight(n){return Dl(this.heightMap.blockAt(this.scaler.fromDOM(n),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Ec{constructor(n,i){this.from=n,this.to=i}}function Xi(u,n,i){let c=[],d=u,m=0;return Tr.spans(i,u,n,{span(){},point(C,O){C>d&&(c.push({from:d,to:C}),m+=C-d),d=O}},20),d<n&&(c.push({from:d,to:n}),m+=n-d),{total:m,ranges:c}}function zi({total:u,ranges:n},i){if(i<=0)return n[0].from;if(i>=1)return n[n.length-1].to;let c=Math.floor(u*i);for(let d=0;;d++){let{from:m,to:C}=n[d],O=C-m;if(c<=O)return m+c;c-=O}}function Qf(u,n){let i=0;for(let{from:c,to:d}of u.ranges){if(n<=d){i+=n-c;break}i+=d-c}return i/u.total}function cd(u,n){for(let i of u)if(n(i))return i}const Pf={toDOM(u){return u},fromDOM(u){return u},scale:1,eq(u){return u==this}};class ll{constructor(n,i,c){let d=0,m=0,C=0;this.viewports=c.map(({from:O,to:G})=>{let oe=i.lineAt(O,Ta.ByPos,n,0,0).top,le=i.lineAt(G,Ta.ByPos,n,0,0).bottom;return d+=le-oe,{from:O,to:G,top:oe,bottom:le,domTop:0,domBottom:0}}),this.scale=(7e6-d)/(i.height-d);for(let O of this.viewports)O.domTop=C+(O.top-m)*this.scale,C=O.domBottom=O.domTop+(O.bottom-O.top),m=O.bottom}toDOM(n){for(let i=0,c=0,d=0;;i++){let m=i<this.viewports.length?this.viewports[i]:null;if(!m||n<m.top)return d+(n-c)*this.scale;if(n<=m.bottom)return m.domTop+(n-m.top);c=m.bottom,d=m.domBottom}}fromDOM(n){for(let i=0,c=0,d=0;;i++){let m=i<this.viewports.length?this.viewports[i]:null;if(!m||n<m.domTop)return c+(n-d)/this.scale;if(n<=m.domBottom)return m.top+(n-m.domTop);c=m.bottom,d=m.domBottom}}eq(n){return n instanceof ll?this.scale==n.scale&&this.viewports.length==n.viewports.length&&this.viewports.every((i,c)=>i.from==n.viewports[c].from&&i.to==n.viewports[c].to):!1}}function Dl(u,n){if(n.scale==1)return u;let i=n.toDOM(u.top),c=n.toDOM(u.bottom);return new Vc(u.from,u.length,i,c-i,Array.isArray(u._content)?u._content.map(d=>Dl(d,n)):u._content)}const ba=tn.define({combine:u=>u.join(" ")}),eh=tn.define({combine:u=>u.indexOf(!0)>-1}),Oh=Ee.newName(),ud=Ee.newName(),Gl=Ee.newName(),fd={"&light":"."+ud,"&dark":"."+Gl};function Ih(u,n,i){return new Ee(n,{finish(c){return/&/.test(c)?c.replace(/&\w*/,d=>{if(d=="&")return u;if(!i||!i[d])throw new RangeError(`Unsupported selector: ${d}`);return i[d]}):u+" "+c}})}const au=Ih("."+Oh,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},fd),th={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},nf=Kr.ie&&Kr.ie_version<=11;class Ic{constructor(n){this.view=n,this.active=!1,this.editContext=null,this.selectionRange=new At,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=n.contentDOM,this.observer=new MutationObserver(i=>{for(let c of i)this.queue.push(c);(Kr.ie&&Kr.ie_version<=11||Kr.ios&&n.composing)&&i.some(c=>c.type=="childList"&&c.removedNodes.length||c.type=="characterData"&&c.oldValue.length>c.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&n.constructor.EDIT_CONTEXT!==!1&&!(Kr.chrome&&Kr.chrome_version<126)&&(this.editContext=new Zd(n),n.state.facet(kl)&&(n.contentDOM.editContext=this.editContext.editContext)),nf&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var i;((i=this.view.docView)===null||i===void 0?void 0:i.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(n.scrollDOM)),this.addWindowListeners(this.win=n.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(i=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),i.length>0&&i[i.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(i=>{i.length>0&&i[i.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(n){this.view.inputState.runHandlers("scroll",n),this.intersecting&&this.view.measure()}onScroll(n){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(n)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(n){(n.type=="change"||!n.type)&&!n.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(n){if(this.gapIntersection&&(n.length!=this.gaps.length||this.gaps.some((i,c)=>i!=n[c]))){this.gapIntersection.disconnect();for(let i of n)this.gapIntersection.observe(i);this.gaps=n}}onSelectionChange(n){let i=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:c}=this,d=this.selectionRange;if(c.state.facet(kl)?c.root.activeElement!=this.dom:!ni(c.dom,d))return;let m=d.anchorNode&&c.docView.nearest(d.anchorNode);if(m&&m.ignoreEvent(n)){i||(this.selectionChanged=!1);return}(Kr.ie&&Kr.ie_version<=11||Kr.android&&Kr.chrome)&&!c.state.selection.main.empty&&d.focusNode&&Rr(d.focusNode,d.focusOffset,d.anchorNode,d.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:n}=this,i=In(n.root);if(!i)return!1;let c=Kr.safari&&n.root.nodeType==11&&sr(this.dom.ownerDocument)==this.dom&&Vd(this.view,i)||i;if(!c||this.selectionRange.eq(c))return!1;let d=ni(this.dom,c);return d&&!this.selectionChanged&&n.inputState.lastFocusTime>Date.now()-200&&n.inputState.lastTouchTime<Date.now()-300&&Un(this.dom,c)?(this.view.inputState.lastFocusTime=0,n.docView.updateSelection(),!1):(this.selectionRange.setRange(c),d&&(this.selectionChanged=!0),!0)}setSelectionRange(n,i){this.selectionRange.set(n.node,n.offset,i.node,i.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let n=0,i=null;for(let c=this.dom;c;)if(c.nodeType==1)!i&&n<this.scrollTargets.length&&this.scrollTargets[n]==c?n++:i||(i=this.scrollTargets.slice(0,n)),i&&i.push(c),c=c.assignedSlot||c.parentNode;else if(c.nodeType==11)c=c.host;else break;if(n<this.scrollTargets.length&&!i&&(i=this.scrollTargets.slice(0,n)),i){for(let c of this.scrollTargets)c.removeEventListener("scroll",this.onScroll);for(let c of this.scrollTargets=i)c.addEventListener("scroll",this.onScroll)}}ignore(n){if(!this.active)return n();try{return this.stop(),n()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,th),nf&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),nf&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(n,i){var c;if(!this.delayedAndroidKey){let d=()=>{let m=this.delayedAndroidKey;m&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=m.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&m.force&&wt(this.dom,m.key,m.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(d)}(!this.delayedAndroidKey||n=="Enter")&&(this.delayedAndroidKey={key:n,keyCode:i,force:this.lastChange<Date.now()-50||!!(!((c=this.delayedAndroidKey)===null||c===void 0)&&c.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let n of this.observer.takeRecords())this.queue.push(n);return this.queue}processRecords(){let n=this.pendingRecords();n.length&&(this.queue=[]);let i=-1,c=-1,d=!1;for(let m of n){let C=this.readMutation(m);C&&(C.typeOver&&(d=!0),i==-1?{from:i,to:c}=C:(i=Math.min(C.from,i),c=Math.max(C.to,c)))}return{from:i,to:c,typeOver:d}}readChange(){let{from:n,to:i,typeOver:c}=this.processRecords(),d=this.selectionChanged&&ni(this.dom,this.selectionRange);if(n<0&&!d)return null;n>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let m=new Af(this.view,n,i,c);return this.view.docView.domChanged={newSel:m.newSel?m.newSel.main:null},m}flush(n=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;n&&this.readSelectionRange();let i=this.readChange();if(!i)return this.view.requestMeasure(),!1;let c=this.view.state,d=wl(this.view,i);return this.view.state==c&&(i.domChanged||i.newSel&&!i.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),d}readMutation(n){let i=this.view.docView.nearest(n.target);if(!i||i.ignoreMutation(n))return null;if(i.markDirty(n.type=="attributes"),n.type=="attributes"&&(i.flags|=4),n.type=="childList"){let c=Rh(i,n.previousSibling||n.target.previousSibling,-1),d=Rh(i,n.nextSibling||n.target.nextSibling,1);return{from:c?i.posAfter(c):i.posAtStart,to:d?i.posBefore(d):i.posAtEnd,typeOver:!1}}else return n.type=="characterData"?{from:i.posAtStart,to:i.posAtEnd,typeOver:n.target.nodeValue==n.oldValue}:null}setWindow(n){n!=this.win&&(this.removeWindowListeners(this.win),this.win=n,this.addWindowListeners(this.win))}addWindowListeners(n){n.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):n.addEventListener("beforeprint",this.onPrint),n.addEventListener("scroll",this.onScroll),n.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(n){n.removeEventListener("scroll",this.onScroll),n.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):n.removeEventListener("beforeprint",this.onPrint),n.document.removeEventListener("selectionchange",this.onSelectionChange)}update(n){this.editContext&&(this.editContext.update(n),n.startState.facet(kl)!=n.state.facet(kl)&&(n.view.contentDOM.editContext=n.state.facet(kl)?this.editContext.editContext:null))}destroy(){var n,i,c;this.stop(),(n=this.intersection)===null||n===void 0||n.disconnect(),(i=this.gapIntersection)===null||i===void 0||i.disconnect(),(c=this.resizeScroll)===null||c===void 0||c.disconnect();for(let d of this.scrollTargets)d.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Rh(u,n,i){for(;n;){let c=on.get(n);if(c&&c.parent==u)return c;let d=n.parentNode;n=d!=u.dom?d:i>0?n.nextSibling:n.previousSibling}return null}function Va(u,n){let i=n.startContainer,c=n.startOffset,d=n.endContainer,m=n.endOffset,C=u.docView.domAtPos(u.state.selection.main.anchor);return Rr(C.node,C.offset,d,m)&&([i,c,d,m]=[d,m,i,c]),{anchorNode:i,anchorOffset:c,focusNode:d,focusOffset:m}}function Vd(u,n){if(n.getComposedRanges){let d=n.getComposedRanges(u.root)[0];if(d)return Va(u,d)}let i=null;function c(d){d.preventDefault(),d.stopImmediatePropagation(),i=d.getTargetRanges()[0]}return u.contentDOM.addEventListener("beforeinput",c,!0),u.dom.ownerDocument.execCommand("indent"),u.contentDOM.removeEventListener("beforeinput",c,!0),i?Va(u,i):null}class Zd{constructor(n){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(n.state);let i=this.editContext=new window.EditContext({text:n.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,n.state.selection.main.anchor))),selectionEnd:this.toContextPos(n.state.selection.main.head)});this.handlers.textupdate=c=>{let{anchor:d}=n.state.selection.main,m={from:this.toEditorPos(c.updateRangeStart),to:this.toEditorPos(c.updateRangeEnd),insert:R.of(c.text.split(`
`))};m.from==this.from&&d<this.from?m.from=d:m.to==this.to&&d>this.to&&(m.to=d),!(m.from==m.to&&!m.insert.length)&&(this.pendingContextChange=m,n.state.readOnly||$l(n,m,$e.single(this.toEditorPos(c.selectionStart),this.toEditorPos(c.selectionEnd))),this.pendingContextChange&&(this.revertPending(n.state),this.setSelection(n.state)))},this.handlers.characterboundsupdate=c=>{let d=[],m=null;for(let C=this.toEditorPos(c.rangeStart),O=this.toEditorPos(c.rangeEnd);C<O;C++){let G=n.coordsForChar(C);m=G&&new DOMRect(G.left,G.top,G.right-G.left,G.bottom-G.top)||m||new DOMRect,d.push(m)}i.updateCharacterBounds(c.rangeStart,d)},this.handlers.textformatupdate=c=>{let d=[];for(let m of c.getTextFormats()){let C=m.underlineStyle,O=m.underlineThickness;if(C!="None"&&O!="None"){let G=`text-decoration: underline ${C=="Dashed"?"dashed ":C=="Squiggle"?"wavy ":""}${O=="Thin"?1:2}px`;d.push(Pn.mark({attributes:{style:G}}).range(this.toEditorPos(m.rangeStart),this.toEditorPos(m.rangeEnd)))}}n.dispatch({effects:pc.of(Pn.set(d))})},this.handlers.compositionstart=()=>{n.inputState.composing<0&&(n.inputState.composing=0,n.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{n.inputState.composing=-1,n.inputState.compositionFirstChange=null};for(let c in this.handlers)i.addEventListener(c,this.handlers[c]);this.measureReq={read:c=>{this.editContext.updateControlBounds(c.contentDOM.getBoundingClientRect());let d=In(c.root);d&&d.rangeCount&&this.editContext.updateSelectionBounds(d.getRangeAt(0).getBoundingClientRect())}}}applyEdits(n){let i=0,c=!1,d=this.pendingContextChange;return n.changes.iterChanges((m,C,O,G,oe)=>{if(c)return;let le=oe.length-(C-m);if(d&&C>=d.to)if(d.from==m&&d.to==C&&d.insert.eq(oe)){d=this.pendingContextChange=null,i+=le,this.to+=le;return}else d=null,this.revertPending(n.state);if(m+=i,C+=i,C<=this.from)this.from+=le,this.to+=le;else if(m<this.to){if(m<this.from||C>this.to||this.to-this.from+oe.length>3e4){c=!0;return}this.editContext.updateText(this.toContextPos(m),this.toContextPos(C),oe.toString()),this.to+=le}i+=le}),d&&!c&&this.revertPending(n.state),!c}update(n){let i=this.pendingContextChange;!this.applyEdits(n)||!this.rangeIsValid(n.state)?(this.pendingContextChange=null,this.resetRange(n.state),this.editContext.updateText(0,this.editContext.text.length,n.state.doc.sliceString(this.from,this.to)),this.setSelection(n.state)):(n.docChanged||n.selectionSet||i)&&this.setSelection(n.state),(n.geometryChanged||n.docChanged||n.selectionSet)&&n.view.requestMeasure(this.measureReq)}resetRange(n){let{head:i}=n.selection.main;this.from=Math.max(0,i-1e4),this.to=Math.min(n.doc.length,i+1e4)}revertPending(n){let i=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(i.from),this.toContextPos(i.from+i.insert.length),n.doc.sliceString(i.from,i.to))}setSelection(n){let{main:i}=n.selection,c=this.toContextPos(Math.max(this.from,Math.min(this.to,i.anchor))),d=this.toContextPos(i.head);(this.editContext.selectionStart!=c||this.editContext.selectionEnd!=d)&&this.editContext.updateSelection(c,d)}rangeIsValid(n){let{head:i}=n.selection.main;return!(this.from>0&&i-this.from<500||this.to<n.doc.length&&this.to-i<500||this.to-this.from>1e4*3)}toEditorPos(n){return n+this.from}toContextPos(n){return n-this.from}destroy(){for(let n in this.handlers)this.editContext.removeEventListener(n,this.handlers[n])}}class ss{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(n={}){var i;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),n.parent&&n.parent.appendChild(this.dom);let{dispatch:c}=n;this.dispatchTransactions=n.dispatchTransactions||c&&(d=>d.forEach(m=>c(m,this)))||(d=>this.update(d)),this.dispatch=this.dispatch.bind(this),this._root=n.root||Gt(n.parent)||document,this.viewState=new jc(n.state||xn.create(n)),n.scrollTo&&n.scrollTo.is(Ia)&&(this.viewState.scrollTarget=n.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(En).map(d=>new Nr(d));for(let d of this.plugins)d.update(this);this.observer=new Ic(this),this.inputState=new Sh(this),this.inputState.ensureHandlers(this.plugins),this.docView=new ya(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((i=document.fonts)===null||i===void 0)&&i.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...n){let i=n.length==1&&n[0]instanceof mn?n:n.length==1&&Array.isArray(n[0])?n[0]:[this.state.update(...n)];this.dispatchTransactions(i,this)}update(n){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let i=!1,c=!1,d,m=this.state;for(let lt of n){if(lt.startState!=m)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");m=lt.state}if(this.destroyed){this.viewState.state=m;return}let C=this.hasFocus,O=0,G=null;n.some(lt=>lt.annotation(rm))?(this.inputState.notifiedFocused=C,O=1):C!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=C,G=x0(m,C),G||(O=1));let oe=this.observer.delayedAndroidKey,le=null;if(oe?(this.observer.clearDelayedAndroidKey(),le=this.observer.readChange(),(le&&!this.state.doc.eq(m.doc)||!this.state.selection.eq(m.selection))&&(le=null)):this.observer.clear(),m.facet(xn.phrases)!=this.state.facet(xn.phrases))return this.setState(m);d=$s.create(this,m,n),d.flags|=O;let ke=this.viewState.scrollTarget;try{this.updateState=2;for(let lt of n){if(ke&&(ke=ke.map(lt.changes)),lt.scrollIntoView){let{main:Kt}=lt.state.selection;ke=new sl(Kt.empty?Kt:$e.cursor(Kt.head,Kt.head>Kt.anchor?-1:1))}for(let Kt of lt.effects)Kt.is(Ia)&&(ke=Kt.value.clip(this.state))}this.viewState.update(d,ke),this.bidiCache=Uc.update(this.bidiCache,d.changes),d.empty||(this.updatePlugins(d),this.inputState.update(d)),i=this.docView.update(d),this.state.facet(jo)!=this.styleModules&&this.mountStyles(),c=this.updateAttrs(),this.showAnnouncements(n),this.docView.updateSelection(i,n.some(lt=>lt.isUserEvent("select.pointer")))}finally{this.updateState=0}if(d.startState.facet(ba)!=d.state.facet(ba)&&(this.viewState.mustMeasureContent=!0),(i||c||ke||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),i&&this.docViewUpdate(),!d.empty)for(let lt of this.state.facet(Il))try{lt(d)}catch(Kt){al(this.state,Kt,"update listener")}(G||le)&&Promise.resolve().then(()=>{G&&this.state==G.startState&&this.dispatch(G),le&&!wl(this,le)&&oe.force&&wt(this.contentDOM,oe.key,oe.keyCode)})}setState(n){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=n;return}this.updateState=2;let i=this.hasFocus;try{for(let c of this.plugins)c.destroy(this);this.viewState=new jc(n),this.plugins=n.facet(En).map(c=>new Nr(c)),this.pluginMap.clear();for(let c of this.plugins)c.update(this);this.docView.destroy(),this.docView=new ya(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}i&&this.focus(),this.requestMeasure()}updatePlugins(n){let i=n.startState.facet(En),c=n.state.facet(En);if(i!=c){let d=[];for(let m of c){let C=i.indexOf(m);if(C<0)d.push(new Nr(m));else{let O=this.plugins[C];O.mustUpdate=n,d.push(O)}}for(let m of this.plugins)m.mustUpdate!=n&&m.destroy(this);this.plugins=d,this.pluginMap.clear()}else for(let d of this.plugins)d.mustUpdate=n;for(let d=0;d<this.plugins.length;d++)this.plugins[d].update(this);i!=c&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let n of this.plugins){let i=n.value;if(i&&i.docViewUpdate)try{i.docViewUpdate(this)}catch(c){al(this.state,c,"doc view update listener")}}}measure(n=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,n&&this.observer.forceFlush();let i=null,c=this.scrollDOM,d=c.scrollTop*this.scaleY,{scrollAnchorPos:m,scrollAnchorHeight:C}=this.viewState;Math.abs(d-this.viewState.scrollTop)>1&&(C=-1),this.viewState.scrollAnchorHeight=-1;try{for(let O=0;;O++){if(C<0)if(_e(c))m=-1,C=this.viewState.heightMap.height;else{let Kt=this.viewState.scrollAnchorAt(d);m=Kt.from,C=Kt.top}this.updateState=1;let G=this.viewState.measure(this);if(!G&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(O>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let oe=[];G&4||([this.measureRequests,oe]=[oe,this.measureRequests]);let le=oe.map(Kt=>{try{return Kt.read(this)}catch(Wn){return al(this.state,Wn),tl}}),ke=$s.create(this,this.state,[]),lt=!1;ke.flags|=G,i?i.flags|=G:i=ke,this.updateState=2,ke.empty||(this.updatePlugins(ke),this.inputState.update(ke),this.updateAttrs(),lt=this.docView.update(ke),lt&&this.docViewUpdate());for(let Kt=0;Kt<oe.length;Kt++)if(le[Kt]!=tl)try{let Wn=oe[Kt];Wn.write&&Wn.write(le[Kt],this)}catch(Wn){al(this.state,Wn)}if(lt&&this.docView.updateSelection(!0),!ke.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,C=-1;continue}else{let Wn=(m<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(m).top)-C;if(Wn>1||Wn<-1){d=d+Wn,c.scrollTop=d/this.scaleY,C=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(i&&!i.empty)for(let O of this.state.facet(Il))O(i)}get themeClasses(){return Oh+" "+(this.state.facet(eh)?Gl:ud)+" "+this.state.facet(ba)}updateAttrs(){let n=fl(this,Ot,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),i={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(kl)?"true":"false",class:"cm-content",style:`${Kr.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(i["aria-readonly"]="true"),fl(this,On,i);let c=this.observer.ignore(()=>{let d=He(this.contentDOM,this.contentAttrs,i),m=He(this.dom,this.editorAttrs,n);return d||m});return this.editorAttrs=n,this.contentAttrs=i,c}showAnnouncements(n){let i=!0;for(let c of n)for(let d of c.effects)if(d.is(ss.announce)){i&&(this.announceDOM.textContent=""),i=!1;let m=this.announceDOM.appendChild(document.createElement("div"));m.textContent=d.value}}mountStyles(){this.styleModules=this.state.facet(jo);let n=this.state.facet(ss.cspNonce);Ee.mount(this.root,this.styleModules.concat(au).reverse(),n?{nonce:n}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(n){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),n){if(this.measureRequests.indexOf(n)>-1)return;if(n.key!=null){for(let i=0;i<this.measureRequests.length;i++)if(this.measureRequests[i].key===n.key){this.measureRequests[i]=n;return}}this.measureRequests.push(n)}}plugin(n){let i=this.pluginMap.get(n);return(i===void 0||i&&i.spec!=n)&&this.pluginMap.set(n,i=this.plugins.find(c=>c.spec==n)||null),i&&i.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(n){return this.readMeasured(),this.viewState.elementAtHeight(n)}lineBlockAtHeight(n){return this.readMeasured(),this.viewState.lineBlockAtHeight(n)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(n){return this.viewState.lineBlockAt(n)}get contentHeight(){return this.viewState.contentHeight}moveByChar(n,i,c){return Xf(this,n,qg(this,n,i,c))}moveByGroup(n,i){return Xf(this,n,qg(this,n,i,c=>zp(this,n.head,c)))}visualLineSide(n,i){let c=this.bidiSpans(n),d=this.textDirectionAt(n.from),m=c[i?c.length-1:0];return $e.cursor(m.side(i,d)+n.from,m.forward(!i,d)?1:-1)}moveToLineBoundary(n,i,c=!0){return kd(this,n,i,c)}moveVertically(n,i,c){return Xf(this,n,Qg(this,n,i,c))}domAtPos(n){return this.docView.domAtPos(n)}posAtDOM(n,i=0){return this.docView.posFromDOM(n,i)}posAtCoords(n,i=!0){return this.readMeasured(),qu(this,n,i)}coordsAtPos(n,i=1){this.readMeasured();let c=this.docView.coordsAt(n,i);if(!c||c.left==c.right)return c;let d=this.state.doc.lineAt(n),m=this.bidiSpans(d),C=m[Mi.find(m,n-d.from,-1,i)];return Zt(c,C.dir==ms.LTR==i>0)}coordsForChar(n){return this.readMeasured(),this.docView.coordsForChar(n)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(n){return!this.state.facet(Ka)||n<this.viewport.from||n>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(n))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(n){if(n.length>Pi)return ls(n.length);let i=this.textDirectionAt(n.from),c;for(let m of this.bidiCache)if(m.from==n.from&&m.dir==i&&(m.fresh||Ki(m.isolates,c=Ps(this,n))))return m.order;c||(c=Ps(this,n));let d=Ho(n.text,i,c);return this.bidiCache.push(new Uc(n.from,n.to,i,c,!0,d)),d}get hasFocus(){var n;return(this.dom.ownerDocument.hasFocus()||Kr.safari&&((n=this.inputState)===null||n===void 0?void 0:n.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Re(this.contentDOM),this.docView.updateSelection()})}setRoot(n){this._root!=n&&(this._root=n,this.observer.setWindow((n.nodeType==9?n:n.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let n of this.plugins)n.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(n,i={}){return Ia.of(new sl(typeof n=="number"?$e.cursor(n):n,i.y,i.x,i.yMargin,i.xMargin))}scrollSnapshot(){let{scrollTop:n,scrollLeft:i}=this.scrollDOM,c=this.viewState.scrollAnchorAt(n);return Ia.of(new sl($e.cursor(c.from),"start","start",c.top-n,i,!0))}setTabFocusMode(n){n==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof n=="boolean"?this.inputState.tabFocusMode=n?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+n)}static domEventHandlers(n){return fr.define(()=>({}),{eventHandlers:n})}static domEventObservers(n){return fr.define(()=>({}),{eventObservers:n})}static theme(n,i){let c=Ee.newName(),d=[ba.of(c),jo.of(Ih(`.${c}`,n))];return i&&i.dark&&d.push(eh.of(!0)),d}static baseTheme(n){return Lr.lowest(jo.of(Ih("."+Oh,n,fd)))}static findFromDOM(n){var i;let c=n.querySelector(".cm-content"),d=c&&on.get(c)||on.get(n);return((i=d==null?void 0:d.rootView)===null||i===void 0?void 0:i.view)||null}}ss.styleModule=jo,ss.inputHandler=Ra,ss.scrollHandler=Wl,ss.focusChangeEffect=Rl,ss.perLineTextDirection=Ka,ss.exceptionSink=Aa,ss.updateListener=Il,ss.editable=kl,ss.mouseSelectionStyle=ra,ss.dragMovesSelection=Ca,ss.clickAddsSelectionRange=xa,ss.decorations=Yn,ss.outerDecorations=di,ss.atomicRanges=Qi,ss.bidiIsolatedRanges=ao,ss.scrollMargins=ts,ss.darkTheme=eh,ss.cspNonce=tn.define({combine:u=>u.length?u[0]:""}),ss.contentAttributes=On,ss.editorAttributes=Ot,ss.lineWrapping=ss.contentAttributes.of({class:"cm-lineWrapping"}),ss.announce=it.define();const Pi=4096,tl={};class Uc{constructor(n,i,c,d,m,C){this.from=n,this.to=i,this.dir=c,this.isolates=d,this.fresh=m,this.order=C}static update(n,i){if(i.empty&&!n.some(m=>m.fresh))return n;let c=[],d=n.length?n[n.length-1].dir:ms.LTR;for(let m=Math.max(0,n.length-10);m<n.length;m++){let C=n[m];C.dir==d&&!i.touchesRange(C.from,C.to)&&c.push(new Uc(i.mapPos(C.from,1),i.mapPos(C.to,-1),C.dir,C.isolates,!1,C.order))}return c}}function fl(u,n,i){for(let c=u.state.facet(n),d=c.length-1;d>=0;d--){let m=c[d],C=typeof m=="function"?m(u):m;C&&he(C,i)}return i}const $p=Kr.mac?"mac":Kr.windows?"win":Kr.linux?"linux":"key";function jd(u,n){const i=u.split(/-(?!$)/);let c=i[i.length-1];c=="Space"&&(c=" ");let d,m,C,O;for(let G=0;G<i.length-1;++G){const oe=i[G];if(/^(cmd|meta|m)$/i.test(oe))O=!0;else if(/^a(lt)?$/i.test(oe))d=!0;else if(/^(c|ctrl|control)$/i.test(oe))m=!0;else if(/^s(hift)?$/i.test(oe))C=!0;else if(/^mod$/i.test(oe))n=="mac"?O=!0:m=!0;else throw new Error("Unrecognized modifier name: "+oe)}return d&&(c="Alt-"+c),m&&(c="Ctrl-"+c),O&&(c="Meta-"+c),C&&(c="Shift-"+c),c}function Of(u,n,i){return n.altKey&&(u="Alt-"+u),n.ctrlKey&&(u="Ctrl-"+u),n.metaKey&&(u="Meta-"+u),i!==!1&&n.shiftKey&&(u="Shift-"+u),u}const nh=Lr.default(ss.domEventHandlers({keydown(u,n){return sf(rf(n.state),u,n,"editor")}})),If=tn.define({enables:nh}),Rc=new WeakMap;function rf(u){let n=u.facet(If),i=Rc.get(n);return i||Rc.set(n,i=rh(n.reduce((c,d)=>c.concat(d),[]))),i}function _u(u,n,i){return sf(rf(u.state),n,u,i)}let Wc=null;const Dh=4e3;function rh(u,n=$p){let i=Object.create(null),c=Object.create(null),d=(C,O)=>{let G=c[C];if(G==null)c[C]=O;else if(G!=O)throw new Error("Key binding "+C+" is used both as a regular binding and as a multi-stroke prefix")},m=(C,O,G,oe,le)=>{var ke,lt;let Kt=i[C]||(i[C]=Object.create(null)),Wn=O.split(/ (?!$)/).map(gi=>jd(gi,n));for(let gi=1;gi<Wn.length;gi++){let wo=Wn.slice(0,gi).join(" ");d(wo,!0),Kt[wo]||(Kt[wo]={preventDefault:!0,stopPropagation:!1,run:[ns=>{let Xo=Wc={view:ns,prefix:wo,scope:C};return setTimeout(()=>{Wc==Xo&&(Wc=null)},Dh),!0}]})}let Br=Wn.join(" ");d(Br,!1);let ti=Kt[Br]||(Kt[Br]={preventDefault:!1,stopPropagation:!1,run:((lt=(ke=Kt._any)===null||ke===void 0?void 0:ke.run)===null||lt===void 0?void 0:lt.slice())||[]});G&&ti.run.push(G),oe&&(ti.preventDefault=!0),le&&(ti.stopPropagation=!0)};for(let C of u){let O=C.scope?C.scope.split(" "):["editor"];if(C.any)for(let oe of O){let le=i[oe]||(i[oe]=Object.create(null));le._any||(le._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:ke}=C;for(let lt in le)le[lt].run.push(Kt=>ke(Kt,of))}let G=C[n]||C.key;if(G)for(let oe of O)m(oe,G,C.run,C.preventDefault,C.stopPropagation),C.shift&&m(oe,"Shift-"+G,C.shift,C.preventDefault,C.stopPropagation)}return i}let of=null;function sf(u,n,i,c){of=n;let d=Bt(n),m=U(d,0),C=ut(m)==d.length&&d!=" ",O="",G=!1,oe=!1,le=!1;Wc&&Wc.view==i&&Wc.scope==c&&(O=Wc.prefix+" ",Ah.indexOf(n.keyCode)<0&&(oe=!0,Wc=null));let ke=new Set,lt=ti=>{if(ti){for(let gi of ti.run)if(!ke.has(gi)&&(ke.add(gi),gi(i)))return ti.stopPropagation&&(le=!0),!0;ti.preventDefault&&(ti.stopPropagation&&(le=!0),oe=!0)}return!1},Kt=u[c],Wn,Br;return Kt&&(lt(Kt[O+Of(d,n,!C)])?G=!0:C&&(n.altKey||n.metaKey||n.ctrlKey)&&!(Kr.windows&&n.ctrlKey&&n.altKey)&&(Wn=nt[n.keyCode])&&Wn!=d?(lt(Kt[O+Of(Wn,n,!0)])||n.shiftKey&&(Br=Rt[n.keyCode])!=d&&Br!=Wn&&lt(Kt[O+Of(Br,n,!1)]))&&(G=!0):C&&n.shiftKey&&lt(Kt[O+Of(d,n,!0)])&&(G=!0),!G&&lt(Kt._any)&&(G=!0)),oe&&(G=!0),G&&le&&n.stopPropagation(),of=null,G}class ih{constructor(n,i,c,d,m){this.className=n,this.left=i,this.top=c,this.width=d,this.height=m}draw(){let n=document.createElement("div");return n.className=this.className,this.adjust(n),n}update(n,i){return i.className!=this.className?!1:(this.adjust(n),!0)}adjust(n){n.style.left=this.left+"px",n.style.top=this.top+"px",this.width!=null&&(n.style.width=this.width+"px"),n.style.height=this.height+"px"}eq(n){return this.left==n.left&&this.top==n.top&&this.width==n.width&&this.height==n.height&&this.className==n.className}static forRange(n,i,c){if(c.empty){let d=n.coordsAtPos(c.head,c.assoc||1);if(!d)return[];let m=Nh(n);return[new ih(i,d.left-m.left,d.top-m.top,null,d.bottom-d.top)]}else return Rf(n,i,c)}}function Nh(u){let n=u.scrollDOM.getBoundingClientRect();return{left:(u.textDirection==ms.LTR?n.left:n.right-u.scrollDOM.clientWidth*u.scaleX)-u.scrollDOM.scrollLeft*u.scaleX,top:n.top-u.scrollDOM.scrollTop*u.scaleY}}function lu(u,n,i,c){let d=u.coordsAtPos(n,i*2);if(!d)return c;let m=u.dom.getBoundingClientRect(),C=(d.top+d.bottom)/2,O=u.posAtCoords({x:m.left+1,y:C}),G=u.posAtCoords({x:m.right-1,y:C});return O==null||G==null?c:{from:Math.max(c.from,Math.min(O,G)),to:Math.min(c.to,Math.max(O,G))}}function Rf(u,n,i){if(i.to<=u.viewport.from||i.from>=u.viewport.to)return[];let c=Math.max(i.from,u.viewport.from),d=Math.min(i.to,u.viewport.to),m=u.textDirection==ms.LTR,C=u.contentDOM,O=C.getBoundingClientRect(),G=Nh(u),oe=C.querySelector(".cm-line"),le=oe&&window.getComputedStyle(oe),ke=O.left+(le?parseInt(le.paddingLeft)+Math.min(0,parseInt(le.textIndent)):0),lt=O.right-(le?parseInt(le.paddingRight):0),Kt=yu(u,c),Wn=yu(u,d),Br=Kt.type==gn.Text?Kt:null,ti=Wn.type==gn.Text?Wn:null;if(Br&&(u.lineWrapping||Kt.widgetLineBreaks)&&(Br=lu(u,c,1,Br)),ti&&(u.lineWrapping||Wn.widgetLineBreaks)&&(ti=lu(u,d,-1,ti)),Br&&ti&&Br.from==ti.from&&Br.to==ti.to)return wo(ns(i.from,i.to,Br));{let Po=Br?ns(i.from,null,Br):Xo(Kt,!1),hs=ti?ns(null,i.to,ti):Xo(Wn,!0),ki=[];return(Br||Kt).to<(ti||Wn).from-(Br&&ti?1:0)||Kt.widgetLineBreaks>1&&Po.bottom+u.defaultLineHeight/2<hs.top?ki.push(gi(ke,Po.bottom,lt,hs.top)):Po.bottom<hs.top&&u.elementAtHeight((Po.bottom+hs.top)/2).type==gn.Text&&(Po.bottom=hs.top=(Po.bottom+hs.top)/2),wo(Po).concat(ki).concat(wo(hs))}function gi(Po,hs,ki,co){return new ih(n,Po-G.left,hs-G.top-.01,ki-Po,co-hs+.01)}function wo({top:Po,bottom:hs,horizontal:ki}){let co=[];for(let Us=0;Us<ki.length;Us+=2)co.push(gi(ki[Us],Po,ki[Us+1],hs));return co}function ns(Po,hs,ki){let co=1e9,Us=-1e9,pa=[];function fa(Da,yl,Yl,ul,Ba){let bc=u.coordsAtPos(Da,Da==ki.to?-2:2),Jl=u.coordsAtPos(Yl,Yl==ki.from?2:-2);!bc||!Jl||(co=Math.min(bc.top,Jl.top,co),Us=Math.max(bc.bottom,Jl.bottom,Us),Ba==ms.LTR?pa.push(m&&yl?ke:bc.left,m&&ul?lt:Jl.right):pa.push(!m&&ul?ke:Jl.left,!m&&yl?lt:bc.right))}let qs=Po!=null?Po:ki.from,Qa=hs!=null?hs:ki.to;for(let Da of u.visibleRanges)if(Da.to>qs&&Da.from<Qa)for(let yl=Math.max(Da.from,qs),Yl=Math.min(Da.to,Qa);;){let ul=u.state.doc.lineAt(yl);for(let Ba of u.bidiSpans(ul)){let bc=Ba.from+ul.from,Jl=Ba.to+ul.from;if(bc>=Yl)break;Jl>yl&&fa(Math.max(bc,yl),Po==null&&bc<=qs,Math.min(Jl,Yl),hs==null&&Jl>=Qa,Ba.dir)}if(yl=ul.to+1,yl>=Yl)break}return pa.length==0&&fa(qs,Po==null,Qa,hs==null,u.textDirection),{top:co,bottom:Us,horizontal:pa}}function Xo(Po,hs){let ki=O.top+(hs?Po.top:Po.bottom);return{top:ki,bottom:ki,horizontal:[]}}}function Hp(u,n){return u.constructor==n.constructor&&u.eq(n)}class af{constructor(n,i){this.view=n,this.layer=i,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=n.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),i.above&&this.dom.classList.add("cm-layer-above"),i.class&&this.dom.classList.add(i.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(n.state),n.requestMeasure(this.measureReq),i.mount&&i.mount(this.dom,n)}update(n){n.startState.facet(ku)!=n.state.facet(ku)&&this.setOrder(n.state),(this.layer.update(n,this.dom)||n.geometryChanged)&&(this.scale(),n.view.requestMeasure(this.measureReq))}docViewUpdate(n){this.layer.updateOnDocViewUpdate!==!1&&n.requestMeasure(this.measureReq)}setOrder(n){let i=0,c=n.facet(ku);for(;i<c.length&&c[i]!=this.layer;)i++;this.dom.style.zIndex=String((this.layer.above?150:-1)-i)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:n,scaleY:i}=this.view;(n!=this.scaleX||i!=this.scaleY)&&(this.scaleX=n,this.scaleY=i,this.dom.style.transform=`scale(${1/n}, ${1/i})`)}draw(n){if(n.length!=this.drawn.length||n.some((i,c)=>!Hp(i,this.drawn[c]))){let i=this.dom.firstChild,c=0;for(let d of n)d.update&&i&&d.constructor&&this.drawn[c].constructor&&d.update(i,this.drawn[c])?(i=i.nextSibling,c++):this.dom.insertBefore(d.draw(),i);for(;i;){let d=i.nextSibling;i.remove(),i=d}this.drawn=n}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const ku=tn.define();function hd(u){return[fr.define(n=>new af(n,u)),ku.of(u)]}const sm=!Kr.ios,oh=tn.define({combine(u){return Hn(u,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(n,i)=>Math.min(n,i),drawRangeCursor:(n,i)=>n||i})}});function Kp(u={}){return[oh.of(u),Df,S0,ga,ol.of(!0)]}function E0(u){return u.facet(oh)}function Ud(u){return u.startState.facet(oh)!=u.state.facet(oh)}const Df=hd({above:!0,markers(u){let{state:n}=u,i=n.facet(oh),c=[];for(let d of n.selection.ranges){let m=d==n.selection.main;if(d.empty?!m||sm:i.drawRangeCursor){let C=m?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",O=d.empty?d:$e.cursor(d.head,d.head>d.anchor?-1:1);for(let G of ih.forRange(u,C,O))c.push(G)}}return c},update(u,n){u.transactions.some(c=>c.selection)&&(n.style.animationName=n.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let i=Ud(u);return i&&Wd(u.state,n),u.docChanged||u.selectionSet||i},mount(u,n){Wd(n.state,u)},class:"cm-cursorLayer"});function Wd(u,n){n.style.animationDuration=u.facet(oh).cursorBlinkRate+"ms"}const S0=hd({above:!1,markers(u){return u.state.selection.ranges.map(n=>n.empty?[]:ih.forRange(u,"cm-selectionBackground",n)).reduce((n,i)=>n.concat(i))},update(u,n){return u.docChanged||u.selectionSet||u.viewportChanged||Ud(u)},class:"cm-selectionLayer"}),$d={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};sm&&($d[".cm-line"].caretColor=$d[".cm-content"].caretColor="transparent !important");const ga=Lr.highest(ss.theme($d)),A0=it.define({map(u,n){return u==null?null:n.mapPos(u)}}),Lu=dr.define({create(){return null},update(u,n){return u!=null&&(u=n.changes.mapPos(u)),n.effects.reduce((i,c)=>c.is(A0)?c.value:i,u)}}),Hd=fr.fromClass(class{constructor(u){this.view=u,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(u){var n;let i=u.state.field(Lu);i==null?this.cursor!=null&&((n=this.cursor)===null||n===void 0||n.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(u.startState.field(Lu)!=i||u.docChanged||u.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:u}=this,n=u.state.field(Lu),i=n!=null&&u.coordsAtPos(n);if(!i)return null;let c=u.scrollDOM.getBoundingClientRect();return{left:i.left-c.left+u.scrollDOM.scrollLeft*u.scaleX,top:i.top-c.top+u.scrollDOM.scrollTop*u.scaleY,height:i.bottom-i.top}}drawCursor(u){if(this.cursor){let{scaleX:n,scaleY:i}=this.view;u?(this.cursor.style.left=u.left/n+"px",this.cursor.style.top=u.top/i+"px",this.cursor.style.height=u.height/i+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(u){this.view.state.field(Lu)!=u&&this.view.dispatch({effects:A0.of(u)})}},{eventObservers:{dragover(u){this.setDropPos(this.view.posAtCoords({x:u.clientX,y:u.clientY}))},dragleave(u){(u.target==this.view.contentDOM||!this.view.contentDOM.contains(u.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function M0(){return[Lu,Hd]}function T0(u,n,i,c,d){n.lastIndex=0;for(let m=u.iterRange(i,c),C=i,O;!m.next().done;C+=m.value.length)if(!m.lineBreak)for(;O=n.exec(m.value);)d(C+O.index,O)}function am(u,n){let i=u.visibleRanges;if(i.length==1&&i[0].from==u.viewport.from&&i[0].to==u.viewport.to)return i;let c=[];for(let{from:d,to:m}of i)d=Math.max(u.state.doc.lineAt(d).from,d-n),m=Math.min(u.state.doc.lineAt(m).to,m+n),c.length&&c[c.length-1].to>=d?c[c.length-1].to=m:c.push({from:d,to:m});return c}class Dc{constructor(n){const{regexp:i,decoration:c,decorate:d,boundary:m,maxLength:C=1e3}=n;if(!i.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=i,d)this.addMatch=(O,G,oe,le)=>d(le,oe,oe+O[0].length,O,G);else if(typeof c=="function")this.addMatch=(O,G,oe,le)=>{let ke=c(O,G,oe);ke&&le(oe,oe+O[0].length,ke)};else if(c)this.addMatch=(O,G,oe,le)=>le(oe,oe+O[0].length,c);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=m,this.maxLength=C}createDeco(n){let i=new hn,c=i.add.bind(i);for(let{from:d,to:m}of am(n,this.maxLength))T0(n.state.doc,this.regexp,d,m,(C,O)=>this.addMatch(O,n,C,c));return i.finish()}updateDeco(n,i){let c=1e9,d=-1;return n.docChanged&&n.changes.iterChanges((m,C,O,G)=>{G>n.view.viewport.from&&O<n.view.viewport.to&&(c=Math.min(O,c),d=Math.max(G,d))}),n.viewportChanged||d-c>1e3?this.createDeco(n.view):d>-1?this.updateRange(n.view,i.map(n.changes),c,d):i}updateRange(n,i,c,d){for(let m of n.visibleRanges){let C=Math.max(m.from,c),O=Math.min(m.to,d);if(O>C){let G=n.state.doc.lineAt(C),oe=G.to<O?n.state.doc.lineAt(O):G,le=Math.max(m.from,G.from),ke=Math.min(m.to,oe.to);if(this.boundary){for(;C>G.from;C--)if(this.boundary.test(G.text[C-1-G.from])){le=C;break}for(;O<oe.to;O++)if(this.boundary.test(oe.text[O-oe.from])){ke=O;break}}let lt=[],Kt,Wn=(Br,ti,gi)=>lt.push(gi.range(Br,ti));if(G==oe)for(this.regexp.lastIndex=le-G.from;(Kt=this.regexp.exec(G.text))&&Kt.index<ke-G.from;)this.addMatch(Kt,n,Kt.index+G.from,Wn);else T0(n.state.doc,this.regexp,le,ke,(Br,ti)=>this.addMatch(ti,n,Br,Wn));i=i.update({filterFrom:le,filterTo:ke,filter:(Br,ti)=>Br<le||ti>ke,add:lt})}}return i}}const lm=/x/.unicode!=null?"gu":"g",Xp=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,lm),cm={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let dd=null;function _h(){var u;if(dd==null&&typeof document!="undefined"&&document.body){let n=document.body.style;dd=((u=n.tabSize)!==null&&u!==void 0?u:n.MozTabSize)!=null}return dd||!1}const Ql=tn.define({combine(u){let n=Hn(u,{render:null,specialChars:Xp,addSpecialChars:null});return(n.replaceTabs=!_h())&&(n.specialChars=new RegExp("	|"+n.specialChars.source,lm)),n.addSpecialChars&&(n.specialChars=new RegExp(n.specialChars.source+"|"+n.addSpecialChars.source,lm)),n}});function cu(u={}){return[Ql.of(u),lf()]}let pd=null;function lf(){return pd||(pd=fr.fromClass(class{constructor(u){this.view=u,this.decorations=Pn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(u.state.facet(Ql)),this.decorations=this.decorator.createDeco(u)}makeDecorator(u){return new Dc({regexp:u.specialChars,decoration:(n,i,c)=>{let{doc:d}=i.state,m=U(n[0],0);if(m==9){let C=d.lineAt(c),O=i.state.tabSize,G=S(C.text,O,c-C.from);return Pn.replace({widget:new Yd((O-G%O)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[m]||(this.decorationCache[m]=Pn.replace({widget:new Xd(u,m)}))},boundary:u.replaceTabs?void 0:/[^]/})}update(u){let n=u.state.facet(Ql);u.startState.facet(Ql)!=n?(this.decorator=this.makeDecorator(n),this.decorations=this.decorator.createDeco(u.view)):this.decorations=this.decorator.updateDeco(u,this.decorations)}},{decorations:u=>u.decorations}))}const sh="\u2022";function Kd(u){return u>=32?sh:u==10?"\u2424":String.fromCharCode(9216+u)}class Xd extends wn{constructor(n,i){super(),this.options=n,this.code=i}eq(n){return n.code==this.code}toDOM(n){let i=Kd(this.code),c=n.state.phrase("Control character")+" "+(cm[this.code]||"0x"+this.code.toString(16)),d=this.options.render&&this.options.render(this.code,c,i);if(d)return d;let m=document.createElement("span");return m.textContent=i,m.title=c,m.setAttribute("aria-label",c),m.className="cm-specialChar",m}ignoreEvent(){return!1}}class Yd extends wn{constructor(n){super(),this.width=n}eq(n){return n.width==this.width}toDOM(){let n=document.createElement("span");return n.textContent="	",n.className="cm-tab",n.style.width=this.width+"px",n}ignoreEvent(){return!1}}const kh=null;function Jd(){return[kh,On.of(u=>{var n;return((n=u.plugin(kh))===null||n===void 0?void 0:n.attrs)||null})]}function xu(){return Cu}const cf=Pn.line({class:"cm-activeLine"}),Cu=fr.fromClass(class{constructor(u){this.decorations=this.getDeco(u)}update(u){(u.docChanged||u.selectionSet)&&(this.decorations=this.getDeco(u.view))}getDeco(u){let n=-1,i=[];for(let c of u.state.selection.ranges){let d=u.lineBlockAt(c.head);d.from>n&&(i.push(cf.range(d.from)),n=d.from)}return Pn.set(i)}},{decorations:u=>u.decorations});class Lh extends wn{constructor(n){super(),this.content=n}toDOM(){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?n.setAttribute("aria-label","placeholder "+this.content):n.setAttribute("aria-hidden","true"),n}coordsAt(n){let i=n.firstChild?mi(n.firstChild):[];if(!i.length)return null;let c=window.getComputedStyle(n.parentNode),d=Zt(i[0],c.direction!="rtl"),m=parseInt(c.lineHeight);return d.bottom-d.top>m*1.5?{left:d.left,right:d.right,top:d.top,bottom:d.top+m}:d}ignoreEvent(){return!1}}function Fh(u){return fr.fromClass(class{constructor(n){this.view=n,this.placeholder=u?Pn.set([Pn.widget({widget:new Lh(u),side:1}).range(0)]):Pn.none}get decorations(){return this.view.state.doc.length?Pn.none:this.placeholder}},{decorations:n=>n.decorations})}const Bh=2e3;function Fu(u,n,i){let c=Math.min(n.line,i.line),d=Math.max(n.line,i.line),m=[];if(n.off>Bh||i.off>Bh||n.col<0||i.col<0){let C=Math.min(n.off,i.off),O=Math.max(n.off,i.off);for(let G=c;G<=d;G++){let oe=u.doc.line(G);oe.length<=O&&m.push($e.range(oe.from+C,oe.to+O))}}else{let C=Math.min(n.col,i.col),O=Math.max(n.col,i.col);for(let G=c;G<=d;G++){let oe=u.doc.line(G),le=A(oe.text,C,u.tabSize,!0);if(le<0)m.push($e.cursor(oe.to));else{let ke=A(oe.text,O,u.tabSize);m.push($e.range(oe.from+le,oe.from+ke))}}}return m}function zh(u,n){let i=u.coordsAtPos(u.viewport.from);return i?Math.round(Math.abs((i.left-n)/u.defaultCharacterWidth)):-1}function Ll(u,n){let i=u.posAtCoords({x:n.clientX,y:n.clientY},!1),c=u.state.doc.lineAt(i),d=i-c.from,m=d>Bh?-1:d==c.length?zh(u,n.clientX):S(c.text,u.state.tabSize,i-c.from);return{line:c.number,col:m,off:d}}function Yp(u,n){let i=Ll(u,n),c=u.state.selection;return i?{update(d){if(d.docChanged){let m=d.changes.mapPos(d.startState.doc.line(i.line).from),C=d.state.doc.lineAt(m);i={line:C.number,col:i.col,off:Math.min(i.off,C.length)},c=c.map(d.changes)}},get(d,m,C){let O=Ll(u,d);if(!O)return c;let G=Fu(u.state,i,O);return G.length?C?$e.create(G.concat(c.ranges)):$e.create(G):c}}:null}function qd(u){let n=(u==null?void 0:u.eventFilter)||(i=>i.altKey&&i.button==0);return ss.mouseSelectionStyle.of((i,c)=>n(c)?Yp(i,c):null)}const Hv={Alt:[18,u=>!!u.altKey],Control:[17,u=>!!u.ctrlKey],Shift:[16,u=>!!u.shiftKey],Meta:[91,u=>!!u.metaKey]},P0={style:"cursor: crosshair"};function $c(u={}){let[n,i]=Hv[u.key||"Alt"],c=fr.fromClass(class{constructor(d){this.view=d,this.isDown=!1}set(d){this.isDown!=d&&(this.isDown=d,this.view.update([]))}},{eventObservers:{keydown(d){this.set(d.keyCode==n||i(d))},keyup(d){(d.keyCode==n||!i(d))&&this.set(!1)},mousemove(d){this.set(i(d))}}});return[c,ss.contentAttributes.of(d=>{var m;return!((m=d.plugin(c))===null||m===void 0)&&m.isDown?P0:null})]}const ec="-10000px";class Nc{constructor(n,i,c,d){this.facet=i,this.createTooltipView=c,this.removeTooltipView=d,this.input=n.state.facet(i),this.tooltips=this.input.filter(C=>C);let m=null;this.tooltipViews=this.tooltips.map(C=>m=c(C,m))}update(n,i){var c;let d=n.state.facet(this.facet),m=d.filter(G=>G);if(d===this.input){for(let G of this.tooltipViews)G.update&&G.update(n);return!1}let C=[],O=i?[]:null;for(let G=0;G<m.length;G++){let oe=m[G],le=-1;if(oe){for(let ke=0;ke<this.tooltips.length;ke++){let lt=this.tooltips[ke];lt&&lt.create==oe.create&&(le=ke)}if(le<0)C[G]=this.createTooltipView(oe,G?C[G-1]:null),O&&(O[G]=!!oe.above);else{let ke=C[G]=this.tooltipViews[le];O&&(O[G]=i[le]),ke.update&&ke.update(n)}}}for(let G of this.tooltipViews)C.indexOf(G)<0&&(this.removeTooltipView(G),(c=G.destroy)===null||c===void 0||c.call(G));return i&&(O.forEach((G,oe)=>i[oe]=G),i.length=O.length),this.input=d,this.tooltips=m,this.tooltipViews=C,!0}}function Kv(u={}){return ah.of(u)}function Xv(u){let{win:n}=u;return{top:0,left:0,bottom:n.innerHeight,right:n.innerWidth}}const ah=tn.define({combine:u=>{var n,i,c;return{position:Kr.ios?"absolute":((n=u.find(d=>d.position))===null||n===void 0?void 0:n.position)||"fixed",parent:((i=u.find(d=>d.parent))===null||i===void 0?void 0:i.parent)||null,tooltipSpace:((c=u.find(d=>d.tooltipSpace))===null||c===void 0?void 0:c.tooltipSpace)||Xv}}}),Gh=new WeakMap,Hc=fr.fromClass(class{constructor(u){this.view=u,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let n=u.state.facet(ah);this.position=n.position,this.parent=n.parent,this.classes=u.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Nc(u,uu,(i,c)=>this.createTooltip(i,c),i=>{this.resizeObserver&&this.resizeObserver.unobserve(i.dom),i.dom.remove()}),this.above=this.manager.tooltips.map(i=>!!i.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(i=>{Date.now()>this.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),u.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let u of this.manager.tooltipViews)this.intersectionObserver.observe(u.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(u){u.transactions.length&&(this.lastTransaction=Date.now());let n=this.manager.update(u,this.above);n&&this.observeIntersection();let i=n||u.geometryChanged,c=u.state.facet(ah);if(c.position!=this.position&&!this.madeAbsolute){this.position=c.position;for(let d of this.manager.tooltipViews)d.dom.style.position=this.position;i=!0}if(c.parent!=this.parent){this.parent&&this.container.remove(),this.parent=c.parent,this.createContainer();for(let d of this.manager.tooltipViews)this.container.appendChild(d.dom);i=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);i&&this.maybeMeasure()}createTooltip(u,n){let i=u.create(this.view),c=n?n.dom:null;if(i.dom.classList.add("cm-tooltip"),u.arrow&&!i.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let d=document.createElement("div");d.className="cm-tooltip-arrow",i.dom.appendChild(d)}return i.dom.style.position=this.position,i.dom.style.top=ec,i.dom.style.left="0px",this.container.insertBefore(i.dom,c),i.mount&&i.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(i.dom),i}destroy(){var u,n,i;this.view.win.removeEventListener("resize",this.measureSoon);for(let c of this.manager.tooltipViews)c.dom.remove(),(u=c.destroy)===null||u===void 0||u.call(c);this.parent&&this.container.remove(),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),(i=this.intersectionObserver)===null||i===void 0||i.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let u=this.view.dom.getBoundingClientRect(),n=1,i=1,c=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:d}=this.manager.tooltipViews[0];if(Kr.gecko)c=d.offsetParent!=this.container.ownerDocument.body;else if(d.style.top==ec&&d.style.left=="0px"){let m=d.getBoundingClientRect();c=Math.abs(m.top+1e4)>1||Math.abs(m.left)>1}}if(c||this.position=="absolute")if(this.parent){let d=this.parent.getBoundingClientRect();d.width&&d.height&&(n=d.width/this.parent.offsetWidth,i=d.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:i}=this.view.viewState);return{editor:u,parent:this.parent?this.container.getBoundingClientRect():u,pos:this.manager.tooltips.map((d,m)=>{let C=this.manager.tooltipViews[m];return C.getCoords?C.getCoords(d.pos):this.view.coordsAtPos(d.pos)}),size:this.manager.tooltipViews.map(({dom:d})=>d.getBoundingClientRect()),space:this.view.state.facet(ah).tooltipSpace(this.view),scaleX:n,scaleY:i,makeAbsolute:c}}writeMeasure(u){var n;if(u.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let O of this.manager.tooltipViews)O.dom.style.position="absolute"}let{editor:i,space:c,scaleX:d,scaleY:m}=u,C=[];for(let O=0;O<this.manager.tooltips.length;O++){let G=this.manager.tooltips[O],oe=this.manager.tooltipViews[O],{dom:le}=oe,ke=u.pos[O],lt=u.size[O];if(!ke||ke.bottom<=Math.max(i.top,c.top)||ke.top>=Math.min(i.bottom,c.bottom)||ke.right<Math.max(i.left,c.left)-.1||ke.left>Math.min(i.right,c.right)+.1){le.style.top=ec;continue}let Kt=G.arrow?oe.dom.querySelector(".cm-tooltip-arrow"):null,Wn=Kt?7:0,Br=lt.right-lt.left,ti=(n=Gh.get(oe))!==null&&n!==void 0?n:lt.bottom-lt.top,gi=oe.offset||gd,wo=this.view.textDirection==ms.LTR,ns=lt.width>c.right-c.left?wo?c.left:c.right-lt.width:wo?Math.max(c.left,Math.min(ke.left-(Kt?14:0)+gi.x,c.right-Br)):Math.min(Math.max(c.left,ke.left-Br+(Kt?14:0)-gi.x),c.right-Br),Xo=this.above[O];!G.strictSide&&(Xo?ke.top-(lt.bottom-lt.top)-gi.y<c.top:ke.bottom+(lt.bottom-lt.top)+gi.y>c.bottom)&&Xo==c.bottom-ke.bottom>ke.top-c.top&&(Xo=this.above[O]=!Xo);let Po=(Xo?ke.top-c.top:c.bottom-ke.bottom)-Wn;if(Po<ti&&oe.resize!==!1){if(Po<this.view.defaultLineHeight){le.style.top=ec;continue}Gh.set(oe,ti),le.style.height=(ti=Po)/m+"px"}else le.style.height&&(le.style.height="");let hs=Xo?ke.top-ti-Wn-gi.y:ke.bottom+Wn+gi.y,ki=ns+Br;if(oe.overlap!==!0)for(let co of C)co.left<ki&&co.right>ns&&co.top<hs+ti&&co.bottom>hs&&(hs=Xo?co.top-ti-2-Wn:co.bottom+Wn+2);if(this.position=="absolute"?(le.style.top=(hs-u.parent.top)/m+"px",le.style.left=(ns-u.parent.left)/d+"px"):(le.style.top=hs/m+"px",le.style.left=ns/d+"px"),Kt){let co=ke.left+(wo?gi.x:-gi.x)-(ns+14-7);Kt.style.left=co/d+"px"}oe.overlap!==!0&&C.push({left:ns,top:hs,right:ki,bottom:hs+ti}),le.classList.toggle("cm-tooltip-above",Xo),le.classList.toggle("cm-tooltip-below",!Xo),oe.positioned&&oe.positioned(u.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let u of this.manager.tooltipViews)u.dom.style.top=ec}},{eventObservers:{scroll(){this.maybeMeasure()}}}),Jp=ss.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),gd={x:0,y:0},uu=tn.define({enables:[Hc,Jp]}),Bu=tn.define({combine:u=>u.reduce((n,i)=>n.concat(i),[])});class da{static create(n){return new da(n)}constructor(n){this.view=n,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Nc(n,Bu,(i,c)=>this.createHostedView(i,c),i=>i.dom.remove())}createHostedView(n,i){let c=n.create(this.view);return c.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(c.dom,i?i.dom.nextSibling:this.dom.firstChild),this.mounted&&c.mount&&c.mount(this.view),c}mount(n){for(let i of this.manager.tooltipViews)i.mount&&i.mount(n);this.mounted=!0}positioned(n){for(let i of this.manager.tooltipViews)i.positioned&&i.positioned(n)}update(n){this.manager.update(n)}destroy(){var n;for(let i of this.manager.tooltipViews)(n=i.destroy)===null||n===void 0||n.call(i)}passProp(n){let i;for(let c of this.manager.tooltipViews){let d=c[n];if(d!==void 0){if(i===void 0)i=d;else if(i!==d)return}}return i}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const fu=uu.compute([Bu],u=>{let n=u.facet(Bu);return n.length===0?null:{pos:Math.min(...n.map(i=>i.pos)),end:Math.max(...n.map(i=>{var c;return(c=i.end)!==null&&c!==void 0?c:i.pos})),create:da.create,above:n[0].above,arrow:n.some(i=>i.arrow)}});class Vh{constructor(n,i,c,d,m){this.view=n,this.source=i,this.field=c,this.setHover=d,this.hoverTime=m,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:n.dom,time:0},this.checkHover=this.checkHover.bind(this),n.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),n.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let n=Date.now()-this.lastMove.time;n<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-n):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:n,lastMove:i}=this,c=n.docView.nearest(i.target);if(!c)return;let d,m=1;if(c instanceof To)d=c.posAtStart;else{if(d=n.posAtCoords(i),d==null)return;let O=n.coordsAtPos(d);if(!O||i.y<O.top||i.y>O.bottom||i.x<O.left-n.defaultCharacterWidth||i.x>O.right+n.defaultCharacterWidth)return;let G=n.bidiSpans(n.state.doc.lineAt(d)).find(le=>le.from<=d&&le.to>=d),oe=G&&G.dir==ms.RTL?-1:1;m=i.x<O.left?-oe:oe}let C=this.source(n,d,m);if(C!=null&&C.then){let O=this.pending={pos:d};C.then(G=>{this.pending==O&&(this.pending=null,G&&!(Array.isArray(G)&&!G.length)&&n.dispatch({effects:this.setHover.of(Array.isArray(G)?G:[G])}))},G=>al(n.state,G,"hover tooltip"))}else C&&!(Array.isArray(C)&&!C.length)&&n.dispatch({effects:this.setHover.of(Array.isArray(C)?C:[C])})}get tooltip(){let n=this.view.plugin(Hc),i=n?n.manager.tooltips.findIndex(c=>c.create==da.create):-1;return i>-1?n.manager.tooltipViews[i]:null}mousemove(n){var i,c;this.lastMove={x:n.clientX,y:n.clientY,target:n.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:d,tooltip:m}=this;if(d.length&&m&&!Ya(m.dom,n)||this.pending){let{pos:C}=d[0]||this.pending,O=(c=(i=d[0])===null||i===void 0?void 0:i.end)!==null&&c!==void 0?c:C;(C==O?this.view.posAtCoords(this.lastMove)!=C:!Ja(this.view,C,O,n.clientX,n.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(n){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:i}=this;if(i.length){let{tooltip:c}=this;c&&c.dom.contains(n.relatedTarget)?this.watchTooltipLeave(c.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(n){let i=c=>{n.removeEventListener("mouseleave",i),this.active.length&&!this.view.dom.contains(c.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};n.addEventListener("mouseleave",i)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Os=4;function Ya(u,n){let i=u.getBoundingClientRect();return n.clientX>=i.left-Os&&n.clientX<=i.right+Os&&n.clientY>=i.top-Os&&n.clientY<=i.bottom+Os}function Ja(u,n,i,c,d,m){let C=u.scrollDOM.getBoundingClientRect(),O=u.documentTop+u.documentPadding.top+u.contentHeight;if(C.left>c||C.right<c||C.top>d||Math.min(C.bottom,O)<d)return!1;let G=u.posAtCoords({x:c,y:d},!1);return G>=n&&G<=i}function hl(u,n={}){let i=it.define(),c=dr.define({create(){return[]},update(d,m){if(d.length&&(n.hideOnChange&&(m.docChanged||m.selection)?d=[]:n.hideOn&&(d=d.filter(C=>!n.hideOn(m,C))),m.docChanged)){let C=[];for(let O of d){let G=m.changes.mapPos(O.pos,-1,ft.TrackDel);if(G!=null){let oe=Object.assign(Object.create(null),O);oe.pos=G,oe.end!=null&&(oe.end=m.changes.mapPos(oe.end)),C.push(oe)}}d=C}for(let C of m.effects)C.is(i)&&(d=C.value),C.is(Yv)&&(d=[]);return d},provide:d=>Bu.from(d)});return{active:c,extension:[c,fr.define(d=>new Vh(d,u,c,i,n.hoverTime||300)),fu]}}function lh(u,n){let i=u.plugin(Hc);if(!i)return null;let c=i.manager.tooltips.indexOf(n);return c<0?null:i.manager.tooltipViews[c]}function qp(u){return u.facet(Bu).some(n=>n)}const Yv=it.define(),um=null;function fm(u){let n=u.plugin(Hc);n&&n.maybeMeasure()}const Qd=tn.define({combine(u){let n,i;for(let c of u)n=n||c.topContainer,i=i||c.bottomContainer;return{topContainer:n,bottomContainer:i}}});function O0(u){return u?[Qd.of(u)]:[]}function ep(u,n){let i=u.plugin(ch),c=i?i.specs.indexOf(n):-1;return c>-1?i.panels[c]:null}const ch=fr.fromClass(class{constructor(u){this.input=u.state.facet(Zh),this.specs=this.input.filter(i=>i),this.panels=this.specs.map(i=>i(u));let n=u.state.facet(Qd);this.top=new Kc(u,!0,n.topContainer),this.bottom=new Kc(u,!1,n.bottomContainer),this.top.sync(this.panels.filter(i=>i.top)),this.bottom.sync(this.panels.filter(i=>!i.top));for(let i of this.panels)i.dom.classList.add("cm-panel"),i.mount&&i.mount()}update(u){let n=u.state.facet(Qd);this.top.container!=n.topContainer&&(this.top.sync([]),this.top=new Kc(u.view,!0,n.topContainer)),this.bottom.container!=n.bottomContainer&&(this.bottom.sync([]),this.bottom=new Kc(u.view,!1,n.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let i=u.state.facet(Zh);if(i!=this.input){let c=i.filter(G=>G),d=[],m=[],C=[],O=[];for(let G of c){let oe=this.specs.indexOf(G),le;oe<0?(le=G(u.view),O.push(le)):(le=this.panels[oe],le.update&&le.update(u)),d.push(le),(le.top?m:C).push(le)}this.specs=c,this.panels=d,this.top.sync(m),this.bottom.sync(C);for(let G of O)G.dom.classList.add("cm-panel"),G.mount&&G.mount()}else for(let c of this.panels)c.update&&c.update(u)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:u=>ss.scrollMargins.of(n=>{let i=n.plugin(u);return i&&{top:i.top.scrollMargin(),bottom:i.bottom.scrollMargin()}})});class Kc{constructor(n,i,c){this.view=n,this.top=i,this.container=c,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(n){for(let i of this.panels)i.destroy&&n.indexOf(i)<0&&i.destroy();this.panels=n,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let i=this.container||this.view.dom;i.insertBefore(this.dom,this.top?i.firstChild:null)}let n=this.dom.firstChild;for(let i of this.panels)if(i.dom.parentNode==this.dom){for(;n!=i.dom;)n=Qp(n);n=n.nextSibling}else this.dom.insertBefore(i.dom,n);for(;n;)n=Qp(n)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let n of this.classes.split(" "))n&&this.container.classList.remove(n);for(let n of(this.classes=this.view.themeClasses).split(" "))n&&this.container.classList.add(n)}}}function Qp(u){let n=u.nextSibling;return u.remove(),n}const Zh=tn.define({enables:ch});class zu extends Kn{compare(n){return this==n||this.constructor==n.constructor&&this.eq(n)}eq(n){return!1}destroy(n){}}zu.prototype.elementClass="",zu.prototype.toDOM=void 0,zu.prototype.mapMode=ft.TrackBefore,zu.prototype.startSide=zu.prototype.endSide=-1,zu.prototype.point=!0;const md=tn.define(),Jv=tn.define(),jh={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Tr.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},tc=tn.define();function Uh(u){return[nn(),tc.of(Object.assign(Object.assign({},jh),u))]}const Le=tn.define({combine:u=>u.some(n=>n)});function nn(u){let n=[Bn];return u&&u.fixed===!1&&n.push(Le.of(!0)),n}const Bn=fr.fromClass(class{constructor(u){this.view=u,this.prevViewport=u.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=u.state.facet(tc).map(n=>new hi(u,n));for(let n of this.gutters)this.dom.appendChild(n.dom);this.fixed=!u.state.facet(Le),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),u.scrollDOM.insertBefore(this.dom,u.contentDOM)}update(u){if(this.updateGutters(u)){let n=this.prevViewport,i=u.view.viewport,c=Math.min(n.to,i.to)-Math.max(n.from,i.from);this.syncGutters(c<(i.to-i.from)*.8)}u.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Le)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=u.view.viewport}syncGutters(u){let n=this.dom.nextSibling;u&&this.dom.remove();let i=Tr.iter(this.view.state.facet(md),this.view.viewport.from),c=[],d=this.gutters.map(m=>new qr(m,this.view.viewport,-this.view.documentPadding.top));for(let m of this.view.viewportLineBlocks)if(c.length&&(c=[]),Array.isArray(m.type)){let C=!0;for(let O of m.type)if(O.type==gn.Text&&C){Ur(i,c,O.from);for(let G of d)G.line(this.view,O,c);C=!1}else if(O.widget)for(let G of d)G.widget(this.view,O)}else if(m.type==gn.Text){Ur(i,c,m.from);for(let C of d)C.line(this.view,m,c)}else if(m.widget)for(let C of d)C.widget(this.view,m);for(let m of d)m.finish();u&&this.view.scrollDOM.insertBefore(this.dom,n)}updateGutters(u){let n=u.startState.facet(tc),i=u.state.facet(tc),c=u.docChanged||u.heightChanged||u.viewportChanged||!Tr.eq(u.startState.facet(md),u.state.facet(md),u.view.viewport.from,u.view.viewport.to);if(n==i)for(let d of this.gutters)d.update(u)&&(c=!0);else{c=!0;let d=[];for(let m of i){let C=n.indexOf(m);C<0?d.push(new hi(this.view,m)):(this.gutters[C].update(u),d.push(this.gutters[C]))}for(let m of this.gutters)m.dom.remove(),d.indexOf(m)<0&&m.destroy();for(let m of d)this.dom.appendChild(m.dom);this.gutters=d}return c}destroy(){for(let u of this.gutters)u.destroy();this.dom.remove()}},{provide:u=>ss.scrollMargins.of(n=>{let i=n.plugin(u);return!i||i.gutters.length==0||!i.fixed?null:n.textDirection==ms.LTR?{left:i.dom.offsetWidth*n.scaleX}:{right:i.dom.offsetWidth*n.scaleX}})});function ri(u){return Array.isArray(u)?u:[u]}function Ur(u,n,i){for(;u.value&&u.from<=i;)u.from==i&&n.push(u.value),u.next()}class qr{constructor(n,i,c){this.gutter=n,this.height=c,this.i=0,this.cursor=Tr.iter(n.markers,i.from)}addElement(n,i,c){let{gutter:d}=this,m=(i.top-this.height)/n.scaleY,C=i.height/n.scaleY;if(this.i==d.elements.length){let O=new ji(n,C,m,c);d.elements.push(O),d.dom.appendChild(O.dom)}else d.elements[this.i].update(n,C,m,c);this.height=i.bottom,this.i++}line(n,i,c){let d=[];Ur(this.cursor,d,i.from),c.length&&(d=d.concat(c));let m=this.gutter.config.lineMarker(n,i,d);m&&d.unshift(m);let C=this.gutter;d.length==0&&!C.config.renderEmptyElements||this.addElement(n,i,d)}widget(n,i){let c=this.gutter.config.widgetMarker(n,i.widget,i),d=c?[c]:null;for(let m of n.state.facet(Jv)){let C=m(n,i.widget,i);C&&(d||(d=[])).push(C)}d&&this.addElement(n,i,d)}finish(){let n=this.gutter;for(;n.elements.length>this.i;){let i=n.elements.pop();n.dom.removeChild(i.dom),i.destroy()}}}class hi{constructor(n,i){this.view=n,this.config=i,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let c in i.domEventHandlers)this.dom.addEventListener(c,d=>{let m=d.target,C;if(m!=this.dom&&this.dom.contains(m)){for(;m.parentNode!=this.dom;)m=m.parentNode;let G=m.getBoundingClientRect();C=(G.top+G.bottom)/2}else C=d.clientY;let O=n.lineBlockAtHeight(C-n.documentTop);i.domEventHandlers[c](n,O,d)&&d.preventDefault()});this.markers=ri(i.markers(n)),i.initialSpacer&&(this.spacer=new ji(n,0,0,[i.initialSpacer(n)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(n){let i=this.markers;if(this.markers=ri(this.config.markers(n.view)),this.spacer&&this.config.updateSpacer){let d=this.config.updateSpacer(this.spacer.markers[0],n);d!=this.spacer.markers[0]&&this.spacer.update(n.view,0,0,[d])}let c=n.view.viewport;return!Tr.eq(this.markers,i,c.from,c.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(n):!1)}destroy(){for(let n of this.elements)n.destroy()}}class ji{constructor(n,i,c,d){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(n,i,c,d)}update(n,i,c,d){this.height!=i&&(this.height=i,this.dom.style.height=i+"px"),this.above!=c&&(this.dom.style.marginTop=(this.above=c)?c+"px":""),lo(this.markers,d)||this.setMarkers(n,d)}setMarkers(n,i){let c="cm-gutterElement",d=this.dom.firstChild;for(let m=0,C=0;;){let O=C,G=m<i.length?i[m++]:null,oe=!1;if(G){let le=G.elementClass;le&&(c+=" "+le);for(let ke=C;ke<this.markers.length;ke++)if(this.markers[ke].compare(G)){O=ke,oe=!0;break}}else O=this.markers.length;for(;C<O;){let le=this.markers[C++];if(le.toDOM){le.destroy(d);let ke=d.nextSibling;d.remove(),d=ke}}if(!G)break;G.toDOM&&(oe?d=d.nextSibling:this.dom.insertBefore(G.toDOM(n),d)),oe&&C++}this.dom.className=c,this.markers=i}destroy(){this.setMarkers(null,[])}}function lo(u,n){if(u.length!=n.length)return!1;for(let i=0;i<u.length;i++)if(!u[i].compare(n[i]))return!1;return!0}const no=tn.define(),oo=tn.define(),Zi=tn.define({combine(u){return Hn(u,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(n,i){let c=Object.assign({},n);for(let d in i){let m=c[d],C=i[d];c[d]=m?(O,G,oe)=>m(O,G,oe)||C(O,G,oe):C}return c}})}});class Mo extends zu{constructor(n){super(),this.number=n}eq(n){return this.number==n.number}toDOM(){return document.createTextNode(this.number)}}function Yi(u,n){return u.state.facet(Zi).formatNumber(n,u.state)}const yo=tc.compute([Zi],u=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(n){return n.state.facet(no)},lineMarker(n,i,c){return c.some(d=>d.toDOM)?null:new Mo(Yi(n,n.state.doc.lineAt(i.from).number))},widgetMarker:(n,i,c)=>{for(let d of n.state.facet(oo)){let m=d(n,i,c);if(m)return m}return null},lineMarkerChange:n=>n.startState.facet(Zi)!=n.state.facet(Zi),initialSpacer(n){return new Mo(Yi(n,pi(n.state.doc.lines)))},updateSpacer(n,i){let c=Yi(i.view,pi(i.view.state.doc.lines));return c==n.number?n:new Mo(c)},domEventHandlers:u.facet(Zi).domEventHandlers}));function Vr(u={}){return[Zi.of(u),nn(),yo]}function pi(u){let n=9;for(;n<u;)n=n*10+9;return n}const fo=new class extends zu{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},_o=md.compute(["selection"],u=>{let n=[],i=-1;for(let c of u.selection.ranges){let d=u.doc.lineAt(c.head).from;d>i&&(i=d,n.push(fo.range(d)))}return Tr.of(n)});function Vi(){return _o}const Oo=new Map;function Di(u){let n=Oo.get(u);return n||Oo.set(u,n=Pn.mark({attributes:u==="	"?{class:"cm-highlightTab"}:{class:"cm-highlightSpace","data-display":u.replace(/ /g,"\xB7")}})),n}function bo(u){return fr.define(n=>({decorations:u.createDeco(n),update(i){this.decorations=u.updateDeco(i,this.decorations)}}),{decorations:n=>n.decorations})}const Fi=bo(new Dc({regexp:/\t| +/g,decoration:u=>Di(u[0]),boundary:/\S/}));function xo(){return Fi}const Es=bo(new Dc({regexp:/\s+$/g,decoration:Pn.mark({class:"cm-trailingSpace"}),boundary:/\S/}));function Bs(){return Es}const So={HeightMap:mc,HeightOracle:Tf,MeasuredHeights:Up,QueryType:Ta,ChangedRange:Ro,computeOrder:Ho,moveVisually:Hs,clearHeightChangeFlag:jp,getHeightChangeFlag:()=>su},ho=1024;let Bi=0;class vs{constructor(n,i){this.from=n,this.to=i}}class Wo{constructor(n={}){this.id=Bi++,this.perNode=!!n.perNode,this.deserialize=n.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(n){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof n!="function"&&(n=ys.match(n)),i=>{let c=n(i);return c===void 0?null:[this,c]}}}Wo.closedBy=new Wo({deserialize:u=>u.split(" ")}),Wo.openedBy=new Wo({deserialize:u=>u.split(" ")}),Wo.group=new Wo({deserialize:u=>u.split(" ")}),Wo.isolate=new Wo({deserialize:u=>{if(u&&u!="rtl"&&u!="ltr"&&u!="auto")throw new RangeError("Invalid value for isolate: "+u);return u||"auto"}}),Wo.contextHash=new Wo({perNode:!0}),Wo.lookAhead=new Wo({perNode:!0}),Wo.mounted=new Wo({perNode:!0});class Jo{constructor(n,i,c){this.tree=n,this.overlay=i,this.parser=c}static get(n){return n&&n.props&&n.props[Wo.mounted.id]}}const Ys=Object.create(null);class ys{constructor(n,i,c,d=0){this.name=n,this.props=i,this.id=c,this.flags=d}static define(n){let i=n.props&&n.props.length?Object.create(null):Ys,c=(n.top?1:0)|(n.skipped?2:0)|(n.error?4:0)|(n.name==null?8:0),d=new ys(n.name||"",i,n.id,c);if(n.props){for(let m of n.props)if(Array.isArray(m)||(m=m(d)),m){if(m[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");i[m[0].id]=m[1]}}return d}prop(n){return this.props[n.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(n){if(typeof n=="string"){if(this.name==n)return!0;let i=this.prop(Wo.group);return i?i.indexOf(n)>-1:!1}return this.id==n}static match(n){let i=Object.create(null);for(let c in n)for(let d of c.split(" "))i[d]=n[c];return c=>{for(let d=c.prop(Wo.group),m=-1;m<(d?d.length:0);m++){let C=i[m<0?c.name:d[m]];if(C)return C}}}}ys.none=new ys("",Object.create(null),0,8);class js{constructor(n){this.types=n;for(let i=0;i<n.length;i++)if(n[i].id!=i)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...n){let i=[];for(let c of this.types){let d=null;for(let m of n){let C=m(c);C&&(d||(d=Object.assign({},c.props)),d[C[0].id]=C[1])}i.push(d?new ys(c.name,d,c.id,c.flags):c)}return new js(i)}}const ua=new WeakMap,dl=new WeakMap;var ia;(function(u){u[u.ExcludeBuffers=1]="ExcludeBuffers",u[u.IncludeAnonymous=2]="IncludeAnonymous",u[u.IgnoreMounts=4]="IgnoreMounts",u[u.IgnoreOverlays=8]="IgnoreOverlays"})(ia||(ia={}));class As{constructor(n,i,c,d,m){if(this.type=n,this.children=i,this.positions=c,this.length=d,this.props=null,m&&m.length){this.props=Object.create(null);for(let[C,O]of m)this.props[typeof C=="number"?C:C.id]=O}}toString(){let n=Jo.get(this);if(n&&!n.overlay)return n.tree.toString();let i="";for(let c of this.children){let d=c.toString();d&&(i&&(i+=","),i+=d)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(i.length?"("+i+")":""):i}cursor(n=0){return new sa(this.topNode,n)}cursorAt(n,i=0,c=0){let d=ua.get(this)||this.topNode,m=new sa(d);return m.moveTo(n,i),ua.set(this,m._tree),m}get topNode(){return new oa(this,0,0,null)}resolve(n,i=0){let c=qa(ua.get(this)||this.topNode,n,i,!1);return ua.set(this,c),c}resolveInner(n,i=0){let c=qa(dl.get(this)||this.topNode,n,i,!0);return dl.set(this,c),c}resolveStack(n,i=0){return Qs(this,n,i)}iterate(n){let{enter:i,leave:c,from:d=0,to:m=this.length}=n,C=n.mode||0,O=(C&ia.IncludeAnonymous)>0;for(let G=this.cursor(C|ia.IncludeAnonymous);;){let oe=!1;if(G.from<=m&&G.to>=d&&(!O&&G.type.isAnonymous||i(G)!==!1)){if(G.firstChild())continue;oe=!0}for(;oe&&c&&(O||!G.type.isAnonymous)&&c(G),!G.nextSibling();){if(!G.parent())return;oe=!0}}}prop(n){return n.perNode?this.props?this.props[n.id]:void 0:this.type.prop(n)}get propValues(){let n=[];if(this.props)for(let i in this.props)n.push([+i,this.props[i]]);return n}balance(n={}){return this.children.length<=8?this:oi(ys.none,this.children,this.positions,0,this.children.length,0,this.length,(i,c,d)=>new As(this.type,i,c,d,this.propValues),n.makeTree||((i,c,d)=>new As(ys.none,i,c,d)))}static build(n){return Gu(n)}}As.empty=new As(ys.none,[],[],0);class pl{constructor(n,i){this.buffer=n,this.index=i}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new pl(this.buffer,this.index)}}class Pa{constructor(n,i,c){this.buffer=n,this.length=i,this.set=c}get type(){return ys.none}toString(){let n=[];for(let i=0;i<this.buffer.length;)n.push(this.childString(i)),i=this.buffer[i+3];return n.join(",")}childString(n){let i=this.buffer[n],c=this.buffer[n+3],d=this.set.types[i],m=d.name;if(/\W/.test(m)&&!d.isError&&(m=JSON.stringify(m)),n+=4,c==n)return m;let C=[];for(;n<c;)C.push(this.childString(n)),n=this.buffer[n+3];return m+"("+C.join(",")+")"}findChild(n,i,c,d,m){let{buffer:C}=this,O=-1;for(let G=n;G!=i&&!($a(m,d,C[G+1],C[G+2])&&(O=G,c>0));G=C[G+3]);return O}slice(n,i,c){let d=this.buffer,m=new Uint16Array(i-n),C=0;for(let O=n,G=0;O<i;){m[G++]=d[O++],m[G++]=d[O++]-c;let oe=m[G++]=d[O++]-c;m[G++]=d[O++]-n,C=Math.max(C,oe)}return new Pa(m,C,this.set)}}function $a(u,n,i,c){switch(u){case-2:return i<n;case-1:return c>=n&&i<n;case 0:return i<n&&c>n;case 1:return i<=n&&c>n;case 2:return c>n;case 4:return!0}}function qa(u,n,i,c){for(var d;u.from==u.to||(i<1?u.from>=n:u.from>n)||(i>-1?u.to<=n:u.to<n);){let C=!c&&u instanceof oa&&u.index<0?null:u.parent;if(!C)return u;u=C}let m=c?0:ia.IgnoreOverlays;if(c)for(let C=u,O=C.parent;O;C=O,O=C.parent)C instanceof oa&&C.index<0&&((d=O.enter(n,i,m))===null||d===void 0?void 0:d.from)!=C.from&&(u=O);for(;;){let C=u.enter(n,i,m);if(!C)return u;u=C}}class El{cursor(n=0){return new sa(this,n)}getChild(n,i=null,c=null){let d=nl(this,n,i,c);return d.length?d[0]:null}getChildren(n,i=null,c=null){return nl(this,n,i,c)}resolve(n,i=0){return qa(this,n,i,!1)}resolveInner(n,i=0){return qa(this,n,i,!0)}matchContext(n){return gl(this,n)}enterUnfinishedNodesBefore(n){let i=this.childBefore(n),c=this;for(;i;){let d=i.lastChild;if(!d||d.to!=i.to)break;d.type.isError&&d.from==d.to?(c=i,i=d.prevSibling):i=d}return c}get node(){return this}get next(){return this.parent}}class oa extends El{constructor(n,i,c,d){super(),this._tree=n,this.from=i,this.index=c,this._parent=d}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(n,i,c,d,m=0){for(let C=this;;){for(let{children:O,positions:G}=C._tree,oe=i>0?O.length:-1;n!=oe;n+=i){let le=O[n],ke=G[n]+C.from;if($a(d,c,ke,ke+le.length)){if(le instanceof Pa){if(m&ia.ExcludeBuffers)continue;let lt=le.findChild(0,le.buffer.length,i,c-ke,d);if(lt>-1)return new Vs(new Gs(C,le,n,ke),null,lt)}else if(m&ia.IncludeAnonymous||!le.type.isAnonymous||ml(le)){let lt;if(!(m&ia.IgnoreMounts)&&(lt=Jo.get(le))&&!lt.overlay)return new oa(lt.tree,ke,n,C);let Kt=new oa(le,ke,n,C);return m&ia.IncludeAnonymous||!Kt.type.isAnonymous?Kt:Kt.nextChild(i<0?le.children.length-1:0,i,c,d)}}}if(m&ia.IncludeAnonymous||!C.type.isAnonymous||(C.index>=0?n=C.index+i:n=i<0?-1:C._parent._tree.children.length,C=C._parent,!C))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(n){return this.nextChild(0,1,n,2)}childBefore(n){return this.nextChild(this._tree.children.length-1,-1,n,-2)}enter(n,i,c=0){let d;if(!(c&ia.IgnoreOverlays)&&(d=Jo.get(this._tree))&&d.overlay){let m=n-this.from;for(let{from:C,to:O}of d.overlay)if((i>0?C<=m:C<m)&&(i<0?O>=m:O>m))return new oa(d.tree,d.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,n,i,c)}nextSignificantParent(){let n=this;for(;n.type.isAnonymous&&n._parent;)n=n._parent;return n}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function nl(u,n,i,c){let d=u.cursor(),m=[];if(!d.firstChild())return m;if(i!=null){for(let C=!1;!C;)if(C=d.type.is(i),!d.nextSibling())return m}for(;;){if(c!=null&&d.type.is(c))return m;if(d.type.is(n)&&m.push(d.node),!d.nextSibling())return c==null?m:[]}}function gl(u,n,i=n.length-1){for(let c=u.parent;i>=0;c=c.parent){if(!c)return!1;if(!c.type.isAnonymous){if(n[i]&&n[i]!=c.name)return!1;i--}}return!0}class Gs{constructor(n,i,c,d){this.parent=n,this.buffer=i,this.index=c,this.start=d}}class Vs extends El{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(n,i,c){super(),this.context=n,this._parent=i,this.index=c,this.type=n.buffer.set.types[n.buffer.buffer[c]]}child(n,i,c){let{buffer:d}=this.context,m=d.findChild(this.index+4,d.buffer[this.index+3],n,i-this.context.start,c);return m<0?null:new Vs(this.context,this,m)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(n){return this.child(1,n,2)}childBefore(n){return this.child(-1,n,-2)}enter(n,i,c=0){if(c&ia.ExcludeBuffers)return null;let{buffer:d}=this.context,m=d.findChild(this.index+4,d.buffer[this.index+3],i>0?1:-1,n-this.context.start,i);return m<0?null:new Vs(this.context,this,m)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(n){return this._parent?null:this.context.parent.nextChild(this.context.index+n,n,0,4)}get nextSibling(){let{buffer:n}=this.context,i=n.buffer[this.index+3];return i<(this._parent?n.buffer[this._parent.index+3]:n.buffer.length)?new Vs(this.context,this._parent,i):this.externalSibling(1)}get prevSibling(){let{buffer:n}=this.context,i=this._parent?this._parent.index+4:0;return this.index==i?this.externalSibling(-1):new Vs(this.context,this._parent,n.findChild(i,this.index,-1,0,4))}get tree(){return null}toTree(){let n=[],i=[],{buffer:c}=this.context,d=this.index+4,m=c.buffer[this.index+3];if(m>d){let C=c.buffer[this.index+1];n.push(c.slice(d,m,C)),i.push(0)}return new As(this.type,n,i,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Oa(u){if(!u.length)return null;let n=0,i=u[0];for(let m=1;m<u.length;m++){let C=u[m];(C.from>i.from||C.to<i.to)&&(i=C,n=m)}let c=i instanceof oa&&i.index<0?null:i.parent,d=u.slice();return c?d[n]=c:d.splice(n,1),new Is(d,i)}class Is{constructor(n,i){this.heads=n,this.node=i}get next(){return Oa(this.heads)}}function Qs(u,n,i){let c=u.resolveInner(n,i),d=null;for(let m=c instanceof oa?c:c.context.parent;m;m=m.parent)if(m.index<0){let C=m.parent;(d||(d=[c])).push(C.resolve(n,i)),m=C}else{let C=Jo.get(m.tree);if(C&&C.overlay&&C.overlay[0].from<=n&&C.overlay[C.overlay.length-1].to>=n){let O=new oa(C.tree,C.overlay[0].from+m.from,-1,m);(d||(d=[c])).push(qa(O,n,i,!1))}}return d?Oa(d):c}class sa{get name(){return this.type.name}constructor(n,i=0){if(this.mode=i,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,n instanceof oa)this.yieldNode(n);else{this._tree=n.context.parent,this.buffer=n.context;for(let c=n._parent;c;c=c._parent)this.stack.unshift(c.index);this.bufferNode=n,this.yieldBuf(n.index)}}yieldNode(n){return n?(this._tree=n,this.type=n.type,this.from=n.from,this.to=n.to,!0):!1}yieldBuf(n,i){this.index=n;let{start:c,buffer:d}=this.buffer;return this.type=i||d.set.types[d.buffer[n]],this.from=c+d.buffer[n+1],this.to=c+d.buffer[n+2],!0}yield(n){return n?n instanceof oa?(this.buffer=null,this.yieldNode(n)):(this.buffer=n.context,this.yieldBuf(n.index,n.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(n,i,c){if(!this.buffer)return this.yield(this._tree.nextChild(n<0?this._tree._tree.children.length-1:0,n,i,c,this.mode));let{buffer:d}=this.buffer,m=d.findChild(this.index+4,d.buffer[this.index+3],n,i-this.buffer.start,c);return m<0?!1:(this.stack.push(this.index),this.yieldBuf(m))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(n){return this.enterChild(1,n,2)}childBefore(n){return this.enterChild(-1,n,-2)}enter(n,i,c=this.mode){return this.buffer?c&ia.ExcludeBuffers?!1:this.enterChild(1,n,i):this.yield(this._tree.enter(n,i,c))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ia.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let n=this.mode&ia.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(n)}sibling(n){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+n,n,0,4,this.mode)):!1;let{buffer:i}=this.buffer,c=this.stack.length-1;if(n<0){let d=c<0?0:this.stack[c]+4;if(this.index!=d)return this.yieldBuf(i.findChild(d,this.index,-1,0,4))}else{let d=i.buffer[this.index+3];if(d<(c<0?i.buffer.length:i.buffer[this.stack[c]+3]))return this.yieldBuf(d)}return c<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+n,n,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(n){let i,c,{buffer:d}=this;if(d){if(n>0){if(this.index<d.buffer.buffer.length)return!1}else for(let m=0;m<this.index;m++)if(d.buffer.buffer[m+3]<this.index)return!1;({index:i,parent:c}=d)}else({index:i,_parent:c}=this._tree);for(;c;{index:i,_parent:c}=c)if(i>-1)for(let m=i+n,C=n<0?-1:c._tree.children.length;m!=C;m+=n){let O=c._tree.children[m];if(this.mode&ia.IncludeAnonymous||O instanceof Pa||!O.type.isAnonymous||ml(O))return!1}return!0}move(n,i){if(i&&this.enterChild(n,0,4))return!0;for(;;){if(this.sibling(n))return!0;if(this.atLastNode(n)||!this.parent())return!1}}next(n=!0){return this.move(1,n)}prev(n=!0){return this.move(-1,n)}moveTo(n,i=0){for(;(this.from==this.to||(i<1?this.from>=n:this.from>n)||(i>-1?this.to<=n:this.to<n))&&this.parent(););for(;this.enterChild(1,n,i););return this}get node(){if(!this.buffer)return this._tree;let n=this.bufferNode,i=null,c=0;if(n&&n.context==this.buffer)e:for(let d=this.index,m=this.stack.length;m>=0;){for(let C=n;C;C=C._parent)if(C.index==d){if(d==this.index)return C;i=C,c=m+1;break e}d=this.stack[--m]}for(let d=c;d<this.stack.length;d++)i=new Vs(this.buffer,i,this.stack[d]);return this.bufferNode=new Vs(this.buffer,i,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(n,i){for(let c=0;;){let d=!1;if(this.type.isAnonymous||n(this)!==!1){if(this.firstChild()){c++;continue}this.type.isAnonymous||(d=!0)}for(;d&&i&&i(this),d=this.type.isAnonymous,!this.nextSibling();){if(!c)return;this.parent(),c--,d=!0}}}matchContext(n){if(!this.buffer)return gl(this.node,n);let{buffer:i}=this.buffer,{types:c}=i.set;for(let d=n.length-1,m=this.stack.length-1;d>=0;m--){if(m<0)return gl(this.node,n,d);let C=c[i.buffer[this.stack[m]]];if(!C.isAnonymous){if(n[d]&&n[d]!=C.name)return!1;d--}}return!0}}function ml(u){return u.children.some(n=>n instanceof Pa||!n.type.isAnonymous||ml(n))}function Gu(u){var n;let{buffer:i,nodeSet:c,maxBufferLength:d=ho,reused:m=[],minRepeatType:C=c.types.length}=u,O=Array.isArray(i)?new pl(i,i.length):i,G=c.types,oe=0,le=0;function ke(Po,hs,ki,co,Us,pa){let{id:fa,start:qs,end:Qa,size:Da}=O,yl=le;for(;Da<0;)if(O.next(),Da==-1){let Jl=m[fa];ki.push(Jl),co.push(qs-Po);return}else if(Da==-3){oe=fa;return}else if(Da==-4){le=fa;return}else throw new RangeError(`Unrecognized record size: ${Da}`);let Yl=G[fa],ul,Ba,bc=qs-Po;if(Qa-qs<=d&&(Ba=ti(O.pos-hs,Us))){let Jl=new Uint16Array(Ba.size-Ba.skip),yf=O.pos-Ba.size,jf=Jl.length;for(;O.pos>yf;)jf=gi(Ba.start,Jl,jf);ul=new Pa(Jl,Qa-Ba.start,c),bc=Ba.start-Po}else{let Jl=O.pos-Da;O.next();let yf=[],jf=[],Dp=fa>=C?fa:-1,td=0,Mv=Qa;for(;O.pos>Jl;)Dp>=0&&O.id==Dp&&O.size>=0?(O.end<=Mv-d&&(Wn(yf,jf,qs,td,O.end,Mv,Dp,yl),td=yf.length,Mv=O.end),O.next()):pa>2500?lt(qs,Jl,yf,jf):ke(qs,Jl,yf,jf,Dp,pa+1);if(Dp>=0&&td>0&&td<yf.length&&Wn(yf,jf,qs,td,qs,Mv,Dp,yl),yf.reverse(),jf.reverse(),Dp>-1&&td>0){let W1=Kt(Yl);ul=oi(Yl,yf,jf,0,yf.length,0,Qa-qs,W1,W1)}else ul=Br(Yl,yf,jf,Qa-qs,yl-Qa)}ki.push(ul),co.push(bc)}function lt(Po,hs,ki,co){let Us=[],pa=0,fa=-1;for(;O.pos>hs;){let{id:qs,start:Qa,end:Da,size:yl}=O;if(yl>4)O.next();else{if(fa>-1&&Qa<fa)break;fa<0&&(fa=Da-d),Us.push(qs,Qa,Da),pa++,O.next()}}if(pa){let qs=new Uint16Array(pa*4),Qa=Us[Us.length-2];for(let Da=Us.length-3,yl=0;Da>=0;Da-=3)qs[yl++]=Us[Da],qs[yl++]=Us[Da+1]-Qa,qs[yl++]=Us[Da+2]-Qa,qs[yl++]=yl;ki.push(new Pa(qs,Us[2]-Qa,c)),co.push(Qa-Po)}}function Kt(Po){return(hs,ki,co)=>{let Us=0,pa=hs.length-1,fa,qs;if(pa>=0&&(fa=hs[pa])instanceof As){if(!pa&&fa.type==Po&&fa.length==co)return fa;(qs=fa.prop(Wo.lookAhead))&&(Us=ki[pa]+fa.length+qs)}return Br(Po,hs,ki,co,Us)}}function Wn(Po,hs,ki,co,Us,pa,fa,qs){let Qa=[],Da=[];for(;Po.length>co;)Qa.push(Po.pop()),Da.push(hs.pop()+ki-Us);Po.push(Br(c.types[fa],Qa,Da,pa-Us,qs-pa)),hs.push(Us-ki)}function Br(Po,hs,ki,co,Us=0,pa){if(oe){let fa=[Wo.contextHash,oe];pa=pa?[fa].concat(pa):[fa]}if(Us>25){let fa=[Wo.lookAhead,Us];pa=pa?[fa].concat(pa):[fa]}return new As(Po,hs,ki,co,pa)}function ti(Po,hs){let ki=O.fork(),co=0,Us=0,pa=0,fa=ki.end-d,qs={size:0,start:0,skip:0};e:for(let Qa=ki.pos-Po;ki.pos>Qa;){let Da=ki.size;if(ki.id==hs&&Da>=0){qs.size=co,qs.start=Us,qs.skip=pa,pa+=4,co+=4,ki.next();continue}let yl=ki.pos-Da;if(Da<0||yl<Qa||ki.start<fa)break;let Yl=ki.id>=C?4:0,ul=ki.start;for(ki.next();ki.pos>yl;){if(ki.size<0)if(ki.size==-3)Yl+=4;else break e;else ki.id>=C&&(Yl+=4);ki.next()}Us=ul,co+=Da,pa+=Yl}return(hs<0||co==Po)&&(qs.size=co,qs.start=Us,qs.skip=pa),qs.size>4?qs:void 0}function gi(Po,hs,ki){let{id:co,start:Us,end:pa,size:fa}=O;if(O.next(),fa>=0&&co<C){let qs=ki;if(fa>4){let Qa=O.pos-(fa-4);for(;O.pos>Qa;)ki=gi(Po,hs,ki)}hs[--ki]=qs,hs[--ki]=pa-Po,hs[--ki]=Us-Po,hs[--ki]=co}else fa==-3?oe=co:fa==-4&&(le=co);return ki}let wo=[],ns=[];for(;O.pos>0;)ke(u.start||0,u.bufferStart||0,wo,ns,-1,0);let Xo=(n=u.length)!==null&&n!==void 0?n:wo.length?ns[0]+wo[0].length:0;return new As(G[u.topID],wo.reverse(),ns.reverse(),Xo)}const uf=new WeakMap;function Mn(u,n){if(!u.isAnonymous||n instanceof Pa||n.type!=u)return 1;let i=uf.get(n);if(i==null){i=1;for(let c of n.children){if(c.type!=u||!(c instanceof As)){i=1;break}i+=Mn(u,c)}uf.set(n,i)}return i}function oi(u,n,i,c,d,m,C,O,G){let oe=0;for(let Wn=c;Wn<d;Wn++)oe+=Mn(u,n[Wn]);let le=Math.ceil(oe*1.5/8),ke=[],lt=[];function Kt(Wn,Br,ti,gi,wo){for(let ns=ti;ns<gi;){let Xo=ns,Po=Br[ns],hs=Mn(u,Wn[ns]);for(ns++;ns<gi;ns++){let ki=Mn(u,Wn[ns]);if(hs+ki>=le)break;hs+=ki}if(ns==Xo+1){if(hs>le){let ki=Wn[Xo];Kt(ki.children,ki.positions,0,ki.children.length,Br[Xo]+wo);continue}ke.push(Wn[Xo])}else{let ki=Br[ns-1]+Wn[ns-1].length-Po;ke.push(oi(u,Wn,Br,Xo,ns,Po,ki,null,G))}lt.push(Po+wo-m)}}return Kt(n,i,c,d,0),(O||G)(ke,lt,C)}class Qr{constructor(){this.map=new WeakMap}setBuffer(n,i,c){let d=this.map.get(n);d||this.map.set(n,d=new Map),d.set(i,c)}getBuffer(n,i){let c=this.map.get(n);return c&&c.get(i)}set(n,i){n instanceof Vs?this.setBuffer(n.context.buffer,n.index,i):n instanceof oa&&this.map.set(n.tree,i)}get(n){return n instanceof Vs?this.getBuffer(n.context.buffer,n.index):n instanceof oa?this.map.get(n.tree):void 0}cursorSet(n,i){n.buffer?this.setBuffer(n.buffer.buffer,n.index,i):this.map.set(n.tree,i)}cursorGet(n){return n.buffer?this.getBuffer(n.buffer.buffer,n.index):this.map.get(n.tree)}}class Fo{constructor(n,i,c,d,m=!1,C=!1){this.from=n,this.to=i,this.tree=c,this.offset=d,this.open=(m?1:0)|(C?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(n,i=[],c=!1){let d=[new Fo(0,n.length,n,0,!1,c)];for(let m of i)m.to>n.length&&d.push(m);return d}static applyChanges(n,i,c=128){if(!i.length)return n;let d=[],m=1,C=n.length?n[0]:null;for(let O=0,G=0,oe=0;;O++){let le=O<i.length?i[O]:null,ke=le?le.fromA:1e9;if(ke-G>=c)for(;C&&C.from<ke;){let lt=C;if(G>=lt.from||ke<=lt.to||oe){let Kt=Math.max(lt.from,G)-oe,Wn=Math.min(lt.to,ke)-oe;lt=Kt>=Wn?null:new Fo(Kt,Wn,lt.tree,lt.offset+oe,O>0,!!le)}if(lt&&d.push(lt),C.to>ke)break;C=m<n.length?n[m++]:null}if(!le)break;G=le.toA,oe=le.toA-le.toB}return d}}class Xs{startParse(n,i,c){return typeof n=="string"&&(n=new qe(n)),c=c?c.length?c.map(d=>new vs(d.from,d.to)):[new vs(0,0)]:[new vs(0,n.length)],this.createParse(n,i||[],c)}parse(n,i,c){let d=this.startParse(n,i,c);for(;;){let m=d.advance();if(m)return m}}}class qe{constructor(n){this.string=n}get length(){return this.string.length}chunk(n){return this.string.slice(n)}get lineChunks(){return!1}read(n,i){return this.string.slice(n,i)}}function Wt(u){return(n,i,c,d)=>new Jn(n,u,i,c,d)}class rr{constructor(n,i,c,d,m){this.parser=n,this.parse=i,this.overlay=c,this.target=d,this.from=m}}function _r(u){if(!u.length||u.some(n=>n.from>=n.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(u))}class Zr{constructor(n,i,c,d,m,C,O){this.parser=n,this.predicate=i,this.mounts=c,this.index=d,this.start=m,this.target=C,this.prev=O,this.depth=0,this.ranges=[]}}const ur=new Wo({perNode:!0});class Jn{constructor(n,i,c,d,m){this.nest=i,this.input=c,this.fragments=d,this.ranges=m,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=n}advance(){if(this.baseParse){let c=this.baseParse.advance();if(!c)return null;if(this.baseParse=null,this.baseTree=c,this.startInner(),this.stoppedAt!=null)for(let d of this.inner)d.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let c=this.baseTree;return this.stoppedAt!=null&&(c=new As(c.type,c.children,c.positions,c.length,c.propValues.concat([[ur,this.stoppedAt]]))),c}let n=this.inner[this.innerDone],i=n.parse.advance();if(i){this.innerDone++;let c=Object.assign(Object.create(null),n.target.props);c[Wo.mounted.id]=new Jo(i,n.overlay,n.parser),n.target.props=c}return null}get parsedPos(){if(this.baseParse)return 0;let n=this.input.length;for(let i=this.innerDone;i<this.inner.length;i++)this.inner[i].from<n&&(n=Math.min(n,this.inner[i].parse.parsedPos));return n}stopAt(n){if(this.stoppedAt=n,this.baseParse)this.baseParse.stopAt(n);else for(let i=this.innerDone;i<this.inner.length;i++)this.inner[i].parse.stopAt(n)}startInner(){let n=new wr(this.fragments),i=null,c=null,d=new sa(new oa(this.baseTree,this.ranges[0].from,0,null),ia.IncludeAnonymous|ia.IgnoreMounts);e:for(let m,C;;){let O=!0,G;if(this.stoppedAt!=null&&d.from>=this.stoppedAt)O=!1;else if(n.hasNode(d)){if(i){let oe=i.mounts.find(le=>le.frag.from<=d.from&&le.frag.to>=d.to&&le.mount.overlay);if(oe)for(let le of oe.mount.overlay){let ke=le.from+oe.pos,lt=le.to+oe.pos;ke>=d.from&&lt<=d.to&&!i.ranges.some(Kt=>Kt.from<lt&&Kt.to>ke)&&i.ranges.push({from:ke,to:lt})}}O=!1}else if(c&&(C=Ar(c.ranges,d.from,d.to)))O=C!=2;else if(!d.type.isAnonymous&&(m=this.nest(d,this.input))&&(d.from<d.to||!m.overlay)){d.tree||qn(d);let oe=n.findMounts(d.from,m.parser);if(typeof m.overlay=="function")i=new Zr(m.parser,m.overlay,oe,this.inner.length,d.from,d.tree,i);else{let le=Xr(this.ranges,m.overlay||(d.from<d.to?[new vs(d.from,d.to)]:[]));le.length&&_r(le),(le.length||!m.overlay)&&this.inner.push(new rr(m.parser,le.length?m.parser.startParse(this.input,Ii(oe,le),le):m.parser.startParse(""),m.overlay?m.overlay.map(ke=>new vs(ke.from-d.from,ke.to-d.from)):null,d.tree,le.length?le[0].from:d.from)),m.overlay?le.length&&(c={ranges:le,depth:0,prev:c}):O=!1}}else i&&(G=i.predicate(d))&&(G===!0&&(G=new vs(d.from,d.to)),G.from<G.to&&i.ranges.push(G));if(O&&d.firstChild())i&&i.depth++,c&&c.depth++;else for(;!d.nextSibling();){if(!d.parent())break e;if(i&&!--i.depth){let oe=Xr(this.ranges,i.ranges);oe.length&&(_r(oe),this.inner.splice(i.index,0,new rr(i.parser,i.parser.startParse(this.input,Ii(i.mounts,oe),oe),i.ranges.map(le=>new vs(le.from-i.start,le.to-i.start)),i.target,oe[0].from))),i=i.prev}c&&!--c.depth&&(c=c.prev)}}}}function Ar(u,n,i){for(let c of u){if(c.from>=i)break;if(c.to>n)return c.from<=n&&c.to>=i?2:1}return 0}function dn(u,n,i,c,d,m){if(n<i){let C=u.buffer[n+1];c.push(u.slice(n,i,C)),d.push(C-m)}}function qn(u){let{node:n}=u,i=[],c=n.context.buffer;do i.push(u.index),u.parent();while(!u.tree);let d=u.tree,m=d.children.indexOf(c),C=d.children[m],O=C.buffer,G=[m];function oe(le,ke,lt,Kt,Wn,Br){let ti=i[Br],gi=[],wo=[];dn(C,le,ti,gi,wo,Kt);let ns=O[ti+1],Xo=O[ti+2];G.push(gi.length);let Po=Br?oe(ti+4,O[ti+3],C.set.types[O[ti]],ns,Xo-ns,Br-1):n.toTree();return gi.push(Po),wo.push(ns-Kt),dn(C,O[ti+3],ke,gi,wo,Kt),new As(lt,gi,wo,Wn)}d.children[m]=oe(0,O.length,ys.none,0,C.length,i.length-1);for(let le of G){let ke=u.tree.children[le],lt=u.tree.positions[le];u.yield(new oa(ke,lt+u.from,le,u._tree))}}class ln{constructor(n,i){this.offset=i,this.done=!1,this.cursor=n.cursor(ia.IncludeAnonymous|ia.IgnoreMounts)}moveTo(n){let{cursor:i}=this,c=n-this.offset;for(;!this.done&&i.from<c;)i.to>=n&&i.enter(c,1,ia.IgnoreOverlays|ia.ExcludeBuffers)||i.next(!1)||(this.done=!0)}hasNode(n){if(this.moveTo(n.from),!this.done&&this.cursor.from+this.offset==n.from&&this.cursor.tree)for(let i=this.cursor.tree;;){if(i==n.tree)return!0;if(i.children.length&&i.positions[0]==0&&i.children[0]instanceof As)i=i.children[0];else break}return!1}}class wr{constructor(n){var i;if(this.fragments=n,this.curTo=0,this.fragI=0,n.length){let c=this.curFrag=n[0];this.curTo=(i=c.tree.prop(ur))!==null&&i!==void 0?i:c.to,this.inner=new ln(c.tree,-c.offset)}else this.curFrag=this.inner=null}hasNode(n){for(;this.curFrag&&n.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=n.from&&this.curTo>=n.to&&this.inner.hasNode(n)}nextFrag(){var n;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let i=this.curFrag=this.fragments[this.fragI];this.curTo=(n=i.tree.prop(ur))!==null&&n!==void 0?n:i.to,this.inner=new ln(i.tree,-i.offset)}}findMounts(n,i){var c;let d=[];if(this.inner){this.inner.cursor.moveTo(n,1);for(let m=this.inner.cursor.node;m;m=m.parent){let C=(c=m.tree)===null||c===void 0?void 0:c.prop(Wo.mounted);if(C&&C.parser==i)for(let O=this.fragI;O<this.fragments.length;O++){let G=this.fragments[O];if(G.from>=m.to)break;G.tree==this.curFrag.tree&&d.push({frag:G,pos:m.from-G.offset,mount:C})}}}return d}}function Xr(u,n){let i=null,c=n;for(let d=1,m=0;d<u.length;d++){let C=u[d-1].to,O=u[d].from;for(;m<c.length;m++){let G=c[m];if(G.from>=O)break;G.to<=C||(i||(c=i=n.slice()),G.from<C?(i[m]=new vs(G.from,C),G.to>O&&i.splice(m+1,0,new vs(O,G.to))):G.to>O?i[m--]=new vs(O,G.to):i.splice(m--,1))}}return c}function Ti(u,n,i,c){let d=0,m=0,C=!1,O=!1,G=-1e9,oe=[];for(;;){let le=d==u.length?1e9:C?u[d].to:u[d].from,ke=m==n.length?1e9:O?n[m].to:n[m].from;if(C!=O){let lt=Math.max(G,i),Kt=Math.min(le,ke,c);lt<Kt&&oe.push(new vs(lt,Kt))}if(G=Math.min(le,ke),G==1e9)break;le==G&&(C?(C=!1,d++):C=!0),ke==G&&(O?(O=!1,m++):O=!0)}return oe}function Ii(u,n){let i=[];for(let{pos:c,mount:d,frag:m}of u){let C=c+(d.overlay?d.overlay[0].from:0),O=C+d.tree.length,G=Math.max(m.from,C),oe=Math.min(m.to,O);if(d.overlay){let le=d.overlay.map(lt=>new vs(lt.from+c,lt.to+c)),ke=Ti(n,le,G,oe);for(let lt=0,Kt=G;;lt++){let Wn=lt==ke.length,Br=Wn?oe:ke[lt].from;if(Br>Kt&&i.push(new Fo(Kt,Br,d.tree,-C,m.from>=Kt||m.openStart,m.to<=Br||m.openEnd)),Wn)break;Kt=ke[lt].to}}else i.push(new Fo(G,oe,d.tree,-C,m.from>=C||m.openStart,m.to<=O||m.openEnd))}return i}let vi=0;class Ui{constructor(n,i,c){this.set=n,this.base=i,this.modified=c,this.id=vi++}static define(n){if(n!=null&&n.base)throw new Error("Can not derive from a modified tag");let i=new Ui([],null,[]);if(i.set.push(i),n)for(let c of n.set)i.set.push(c);return i}static defineModifier(){let n=new zs;return i=>i.modified.indexOf(n)>-1?i:zs.get(i.base||i,i.modified.concat(n).sort((c,d)=>c.id-d.id))}}let ps=0;class zs{constructor(){this.instances=[],this.id=ps++}static get(n,i){if(!i.length)return n;let c=i[0].instances.find(O=>O.base==n&&Qo(i,O.modified));if(c)return c;let d=[],m=new Ui(d,n,i);for(let O of i)O.instances.push(m);let C=bs(i);for(let O of n.set)if(!O.modified.length)for(let G of C)d.push(zs.get(O,G));return m}}function Qo(u,n){return u.length==n.length&&u.every((i,c)=>i==n[c])}function bs(u){let n=[[]];for(let i=0;i<u.length;i++)for(let c=0,d=n.length;c<d;c++)n.push(n[c].concat(u[i]));return n.sort((i,c)=>c.length-i.length)}function Fs(u){let n=Object.create(null);for(let i in u){let c=u[i];Array.isArray(c)||(c=[c]);for(let d of i.split(" "))if(d){let m=[],C=2,O=d;for(let ke=0;;){if(O=="..."&&ke>0&&ke+3==d.length){C=1;break}let lt=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(O);if(!lt)throw new RangeError("Invalid path: "+d);if(m.push(lt[0]=="*"?"":lt[0][0]=='"'?JSON.parse(lt[0]):lt[0]),ke+=lt[0].length,ke==d.length)break;let Kt=d[ke++];if(ke==d.length&&Kt=="!"){C=0;break}if(Kt!="/")throw new RangeError("Invalid path: "+d);O=d.slice(ke)}let G=m.length-1,oe=m[G];if(!oe)throw new RangeError("Invalid path: "+d);let le=new Ha(c,C,G>0?m.slice(0,G):null);n[oe]=le.sort(n[oe])}}return ma.add(n)}const ma=new Wo;class Ha{constructor(n,i,c,d){this.tags=n,this.mode=i,this.context=c,this.next=d}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(n){return!n||n.depth<this.depth?(this.next=n,this):(n.next=this.sort(n.next),n)}get depth(){return this.context?this.context.length:0}}Ha.empty=new Ha([],2,null);function nc(u,n){let i=Object.create(null);for(let m of u)if(!Array.isArray(m.tag))i[m.tag.id]=m.class;else for(let C of m.tag)i[C.id]=m.class;let{scope:c,all:d=null}=n||{};return{style:m=>{let C=d;for(let O of m)for(let G of O.set){let oe=i[G.id];if(oe){C=C?C+" "+oe:oe;break}}return C},scope:c}}function tp(u,n){let i=null;for(let c of u){let d=c.style(n);d&&(i=i?i+" "+d:d)}return i}function _c(u,n,i,c=0,d=u.length){let m=new Xc(c,Array.isArray(n)?n:[n],i);m.highlightRange(u.cursor(),c,d,"",m.highlighters),m.flush(d)}function I0(u,n,i,c,d,m=0,C=u.length){let O=m;function G(oe,le){if(!(oe<=O)){for(let ke=u.slice(O,oe),lt=0;;){let Kt=ke.indexOf(`
`,lt),Wn=Kt<0?ke.length:Kt;if(Wn>lt&&c(ke.slice(lt,Wn),le),Kt<0)break;d(),lt=Kt+1}O=oe}}_c(n,i,(oe,le,ke)=>{G(oe,""),G(le,ke)},m,C),G(C,"")}class Xc{constructor(n,i,c){this.at=n,this.highlighters=i,this.span=c,this.class=""}startSpan(n,i){i!=this.class&&(this.flush(n),n>this.at&&(this.at=n),this.class=i)}flush(n){n>this.at&&this.class&&this.span(this.at,n,this.class)}highlightRange(n,i,c,d,m){let{type:C,from:O,to:G}=n;if(O>=c||G<=i)return;C.isTop&&(m=this.highlighters.filter(Kt=>!Kt.scope||Kt.scope(C)));let oe=d,le=hm(n)||Ha.empty,ke=tp(m,le.tags);if(ke&&(oe&&(oe+=" "),oe+=ke,le.mode==1&&(d+=(d?" ":"")+ke)),this.startSpan(Math.max(i,O),oe),le.opaque)return;let lt=n.tree&&n.tree.prop(Wo.mounted);if(lt&&lt.overlay){let Kt=n.node.enter(lt.overlay[0].from+O,1),Wn=this.highlighters.filter(ti=>!ti.scope||ti.scope(lt.tree.type)),Br=n.firstChild();for(let ti=0,gi=O;;ti++){let wo=ti<lt.overlay.length?lt.overlay[ti]:null,ns=wo?wo.from+O:G,Xo=Math.max(i,gi),Po=Math.min(c,ns);if(Xo<Po&&Br)for(;n.from<Po&&(this.highlightRange(n,Xo,Po,d,m),this.startSpan(Math.min(Po,n.to),oe),!(n.to>=ns||!n.nextSibling())););if(!wo||ns>c)break;gi=wo.to+O,gi>i&&(this.highlightRange(Kt.cursor(),Math.max(i,wo.from+O),Math.min(c,gi),"",Wn),this.startSpan(Math.min(c,gi),oe))}Br&&n.parent()}else if(n.firstChild()){lt&&(d="");do if(!(n.to<=i)){if(n.from>=c)break;this.highlightRange(n,i,c,d,m),this.startSpan(Math.min(c,n.to),oe)}while(n.nextSibling());n.parent()}}}function hm(u){let n=u.type.prop(ma);for(;n&&n.context&&!u.matchContext(n.context);)n=n.next;return n||null}const as=Ui.define,dm=as(),Nf=as(),qv=as(Nf),R0=as(Nf),Wh=as(),pm=as(Wh),_f=as(Wh),Fl=as(),np=as(Fl),ff=as(),hf=as(),kf=as(),eg=as(kf),D0=as(),ro={comment:dm,lineComment:as(dm),blockComment:as(dm),docComment:as(dm),name:Nf,variableName:as(Nf),typeName:qv,tagName:as(qv),propertyName:R0,attributeName:as(R0),className:as(Nf),labelName:as(Nf),namespace:as(Nf),macroName:as(Nf),literal:Wh,string:pm,docString:as(pm),character:as(pm),attributeValue:as(pm),number:_f,integer:as(_f),float:as(_f),bool:as(Wh),regexp:as(Wh),escape:as(Wh),color:as(Wh),url:as(Wh),keyword:ff,self:as(ff),null:as(ff),atom:as(ff),unit:as(ff),modifier:as(ff),operatorKeyword:as(ff),controlKeyword:as(ff),definitionKeyword:as(ff),moduleKeyword:as(ff),operator:hf,derefOperator:as(hf),arithmeticOperator:as(hf),logicOperator:as(hf),bitwiseOperator:as(hf),compareOperator:as(hf),updateOperator:as(hf),definitionOperator:as(hf),typeOperator:as(hf),controlOperator:as(hf),punctuation:kf,separator:as(kf),bracket:eg,angleBracket:as(eg),squareBracket:as(eg),paren:as(eg),brace:as(eg),content:Fl,heading:np,heading1:as(np),heading2:as(np),heading3:as(np),heading4:as(np),heading5:as(np),heading6:as(np),contentSeparator:as(Fl),list:as(Fl),quote:as(Fl),emphasis:as(Fl),strong:as(Fl),link:as(Fl),monospace:as(Fl),strikethrough:as(Fl),inserted:as(),deleted:as(),changed:as(),invalid:as(),meta:D0,documentMeta:as(D0),annotation:as(D0),processingInstruction:as(D0),definition:Ui.defineModifier(),constant:Ui.defineModifier(),function:Ui.defineModifier(),standard:Ui.defineModifier(),local:Ui.defineModifier(),special:Ui.defineModifier()},_b=nc([{tag:ro.link,class:"tok-link"},{tag:ro.heading,class:"tok-heading"},{tag:ro.emphasis,class:"tok-emphasis"},{tag:ro.strong,class:"tok-strong"},{tag:ro.keyword,class:"tok-keyword"},{tag:ro.atom,class:"tok-atom"},{tag:ro.bool,class:"tok-bool"},{tag:ro.url,class:"tok-url"},{tag:ro.labelName,class:"tok-labelName"},{tag:ro.inserted,class:"tok-inserted"},{tag:ro.deleted,class:"tok-deleted"},{tag:ro.literal,class:"tok-literal"},{tag:ro.string,class:"tok-string"},{tag:ro.number,class:"tok-number"},{tag:[ro.regexp,ro.escape,ro.special(ro.string)],class:"tok-string2"},{tag:ro.variableName,class:"tok-variableName"},{tag:ro.local(ro.variableName),class:"tok-variableName tok-local"},{tag:ro.definition(ro.variableName),class:"tok-variableName tok-definition"},{tag:ro.special(ro.variableName),class:"tok-variableName2"},{tag:ro.definition(ro.propertyName),class:"tok-propertyName tok-definition"},{tag:ro.typeName,class:"tok-typeName"},{tag:ro.namespace,class:"tok-namespace"},{tag:ro.className,class:"tok-className"},{tag:ro.macroName,class:"tok-macroName"},{tag:ro.propertyName,class:"tok-propertyName"},{tag:ro.operator,class:"tok-operator"},{tag:ro.comment,class:"tok-comment"},{tag:ro.meta,class:"tok-meta"},{tag:ro.invalid,class:"tok-invalid"},{tag:ro.punctuation,class:"tok-punctuation"}]);var tg;const Lf=new Wo;function N0(u){return Facet.define({combine:u?n=>n.concat(u):void 0})}const ng=new Wo;class hu{constructor(n,i,c=[],d=""){this.data=n,this.name=d,xn.prototype.hasOwnProperty("tree")||Object.defineProperty(xn.prototype,"tree",{get(){return Hl(this)}}),this.parser=i,this.extension=[bd.of(this),xn.languageData.of((m,C,O)=>{let G=La(m,C,O),oe=G.type.prop(Lf);if(!oe)return[];let le=m.facet(oe),ke=G.type.prop(ng);if(ke){let lt=G.resolve(C-G.from,O);for(let Kt of ke)if(Kt.test(lt,m)){let Wn=m.facet(Kt.facet);return Kt.type=="replace"?Wn:Wn.concat(le)}}return le})].concat(c)}isActiveAt(n,i,c=-1){return La(n,i,c).type.prop(Lf)==this.data}findRegions(n){let i=n.facet(bd);if((i==null?void 0:i.data)==this.data)return[{from:0,to:n.doc.length}];if(!i||!i.allowsNesting)return[];let c=[],d=(m,C)=>{if(m.prop(Lf)==this.data){c.push({from:C,to:C+m.length});return}let O=m.prop(Wo.mounted);if(O){if(O.tree.prop(Lf)==this.data){if(O.overlay)for(let G of O.overlay)c.push({from:G.from+C,to:G.to+C});else c.push({from:C,to:C+m.length});return}else if(O.overlay){let G=c.length;if(d(O.tree,O.overlay[0].from+C),c.length>G)return}}for(let G=0;G<m.children.length;G++){let oe=m.children[G];oe instanceof As&&d(oe,m.positions[G]+C)}};return d(Hl(n),0),c}get allowsNesting(){return!0}}hu.setState=it.define();function La(u,n,i){let c=u.facet(bd),d=Hl(u).topNode;if(!c||c.allowsNesting)for(let m=d;m;m=m.enter(n,i,ia.ExcludeBuffers))m.type.isTop&&(d=m);return d}class vd extends null{constructor(n,i,c){super(n,i,[],c),this.parser=i}static define(n){let i=N0(n.languageData);return new vd(i,n.parser.configure({props:[Lf.add(c=>c.isTop?i:void 0)]}),n.name)}configure(n,i){return new vd(this.data,this.parser.configure(n),i||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Hl(u){let n=u.field(hu.state,!1);return n?n.tree:As.empty}function Qv(u,n,i=50){var c;let d=(c=u.field(hu.state,!1))===null||c===void 0?void 0:c.context;if(!d)return null;let m=d.viewport;d.updateViewport({from:0,to:n});let C=d.isDone(n)||d.work(i,n)?d.tree:null;return d.updateViewport(m),C}function df(u,n=u.doc.length){var i;return((i=u.field(hu.state,!1))===null||i===void 0?void 0:i.context.isDone(n))||!1}function kb(u,n=u.viewport.to,i=100){let c=Qv(u.state,n,i);return c!=Hl(u.state)&&u.dispatch({}),!!c}function Lb(u){var n;return((n=u.plugin(Fb))===null||n===void 0?void 0:n.isWorking())||!1}class ey{constructor(n){this.doc=n,this.cursorPos=0,this.string="",this.cursor=n.iter()}get length(){return this.doc.length}syncTo(n){return this.string=this.cursor.next(n-this.cursorPos).value,this.cursorPos=n+this.string.length,this.cursorPos-this.string.length}chunk(n){return this.syncTo(n),this.string}get lineChunks(){return!0}read(n,i){let c=this.cursorPos-this.string.length;return n<c||i>=this.cursorPos?this.doc.sliceString(n,i):this.string.slice(n-c,i-c)}}let rg=null;class yd{constructor(n,i,c=[],d,m,C,O,G){this.parser=n,this.state=i,this.fragments=c,this.tree=d,this.treeLen=m,this.viewport=C,this.skipped=O,this.scheduleOn=G,this.parse=null,this.tempSkipped=[]}static create(n,i,c){return new yd(n,i,[],As.empty,0,c,[],null)}startParse(){return this.parser.startParse(new ey(this.state.doc),this.fragments)}work(n,i){return i!=null&&i>=this.state.doc.length&&(i=void 0),this.tree!=As.empty&&this.isDone(i!=null?i:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var c;if(typeof n=="number"){let d=Date.now()+n;n=()=>Date.now()>d}for(this.parse||(this.parse=this.startParse()),i!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>i)&&i<this.state.doc.length&&this.parse.stopAt(i);;){let d=this.parse.advance();if(d)if(this.fragments=this.withoutTempSkipped(Fo.addTree(d,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(c=this.parse.stoppedAt)!==null&&c!==void 0?c:this.state.doc.length,this.tree=d,this.parse=null,this.treeLen<(i!=null?i:this.state.doc.length))this.parse=this.startParse();else return!0;if(n())return!1}})}takeTree(){let n,i;this.parse&&(n=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&this.parse.stopAt(n),this.withContext(()=>{for(;!(i=this.parse.advance()););}),this.treeLen=n,this.tree=i,this.fragments=this.withoutTempSkipped(Fo.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(n){let i=rg;rg=this;try{return n()}finally{rg=i}}withoutTempSkipped(n){for(let i;i=this.tempSkipped.pop();)n=gm(n,i.from,i.to);return n}changes(n,i){let{fragments:c,tree:d,treeLen:m,viewport:C,skipped:O}=this;if(this.takeTree(),!n.empty){let G=[];if(n.iterChangedRanges((oe,le,ke,lt)=>G.push({fromA:oe,toA:le,fromB:ke,toB:lt})),c=Fo.applyChanges(c,G),d=As.empty,m=0,C={from:n.mapPos(C.from,-1),to:n.mapPos(C.to,1)},this.skipped.length){O=[];for(let oe of this.skipped){let le=n.mapPos(oe.from,1),ke=n.mapPos(oe.to,-1);le<ke&&O.push({from:le,to:ke})}}}return new yd(this.parser,i,c,d,m,C,O,this.scheduleOn)}updateViewport(n){if(this.viewport.from==n.from&&this.viewport.to==n.to)return!1;this.viewport=n;let i=this.skipped.length;for(let c=0;c<this.skipped.length;c++){let{from:d,to:m}=this.skipped[c];d<n.to&&m>n.from&&(this.fragments=gm(this.fragments,d,m),this.skipped.splice(c--,1))}return this.skipped.length>=i?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(n,i){this.skipped.push({from:n,to:i})}static getSkippingParser(n){return new class extends Xs{createParse(i,c,d){let m=d[0].from,C=d[d.length-1].to;return{parsedPos:m,advance(){let G=rg;if(G){for(let oe of d)G.tempSkipped.push(oe);n&&(G.scheduleOn=G.scheduleOn?Promise.all([G.scheduleOn,n]):n)}return this.parsedPos=C,new As(ys.none,[],[],C-m)},stoppedAt:null,stopAt(){}}}}}isDone(n){n=Math.min(n,this.state.doc.length);let i=this.fragments;return this.treeLen>=n&&i.length&&i[0].from==0&&i[0].to>=n}static get(){return rg}}function gm(u,n,i){return Fo.applyChanges(u,[{fromA:n,toA:i,fromB:n,toB:i}])}class cc{constructor(n){this.context=n,this.tree=n.tree}apply(n){if(!n.docChanged&&this.tree==this.context.tree)return this;let i=this.context.changes(n.changes,n.state),c=this.context.treeLen==n.startState.doc.length?void 0:Math.max(n.changes.mapPos(this.context.treeLen),i.viewport.to);return i.work(20,c)||i.takeTree(),new cc(i)}static init(n){let i=Math.min(3e3,n.doc.length),c=yd.create(n.facet(bd).parser,n,{from:0,to:i});return c.work(20,i)||c.takeTree(),new cc(c)}}hu.state=dr.define({create:cc.init,update(u,n){for(let i of n.effects)if(i.is(hu.setState))return i.value;return n.startState.facet(bd)!=n.state.facet(bd)?cc.init(n.state):u.apply(n)}});let ty=u=>{let n=setTimeout(()=>u(),500);return()=>clearTimeout(n)};typeof requestIdleCallback!="undefined"&&(ty=u=>{let n=-1,i=setTimeout(()=>{n=requestIdleCallback(u,{timeout:400})},100);return()=>n<0?clearTimeout(i):cancelIdleCallback(n)});const ig=typeof navigator!="undefined"&&(!((tg=navigator.scheduling)===null||tg===void 0)&&tg.isInputPending)?()=>navigator.scheduling.isInputPending():null,Fb=fr.fromClass(class{constructor(n){this.view=n,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(n){let i=this.view.state.field(hu.state).context;(i.updateViewport(n.view.viewport)||this.view.viewport.to>i.treeLen)&&this.scheduleWork(),(n.docChanged||n.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(i)}scheduleWork(){if(this.working)return;let{state:n}=this.view,i=n.field(hu.state);(i.tree!=i.context.tree||!i.context.isDone(n.doc.length))&&(this.working=ty(this.work))}work(n){this.working=null;let i=Date.now();if(this.chunkEnd<i&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=i+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:c,viewport:{to:d}}=this.view,m=c.field(hu.state);if(m.tree==m.context.tree&&m.context.isDone(d+1e5))return;let C=Date.now()+Math.min(this.chunkBudget,100,n&&!ig?Math.max(25,n.timeRemaining()-5):1e9),O=m.context.treeLen<d&&c.doc.length>d+1e3,G=m.context.work(()=>ig&&ig()||Date.now()>C,d+(O?0:1e5));this.chunkBudget-=Date.now()-i,(G||this.chunkBudget<=0)&&(m.context.takeTree(),this.view.dispatch({effects:hu.setState.of(new cc(m.context))})),this.chunkBudget>0&&!(G&&!O)&&this.scheduleWork(),this.checkAsyncSchedule(m.context)}checkAsyncSchedule(n){n.scheduleOn&&(this.workScheduled++,n.scheduleOn.then(()=>this.scheduleWork()).catch(i=>al(this.view.state,i)).then(()=>this.workScheduled--),n.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),bd=tn.define({combine(u){return u.length?u[0]:null},enables:u=>[hu.state,Fb,ss.contentAttributes.compute([u],n=>{let i=n.facet(u);return i&&i.name?{"data-language":i.name}:{}})]});class Bb{constructor(n,i=[]){this.language=n,this.support=i,this.extension=[n,i]}}class zb{constructor(n,i,c,d,m,C=void 0){this.name=n,this.alias=i,this.extensions=c,this.filename=d,this.loadFunc=m,this.support=C,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(n=>this.support=n,n=>{throw this.loading=null,n}))}static of(n){let{load:i,support:c}=n;if(!i){if(!c)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");i=()=>Promise.resolve(c)}return new zb(n.name,(n.alias||[]).concat(n.name).map(d=>d.toLowerCase()),n.extensions||[],n.filename,i,c)}static matchFilename(n,i){for(let d of n)if(d.filename&&d.filename.test(i))return d;let c=/\.([^.]+)$/.exec(i);if(c){for(let d of n)if(d.extensions.indexOf(c[1])>-1)return d}return null}static matchLanguageName(n,i,c=!0){i=i.toLowerCase();for(let d of n)if(d.alias.some(m=>m==i))return d;if(c)for(let d of n)for(let m of d.alias){let C=i.indexOf(m);if(C>-1&&(m.length>2||!/\w/.test(i[C-1])&&!/\w/.test(i[C+m.length])))return d}return null}}const rp=tn.define(),mm=tn.define({combine:u=>{if(!u.length)return"  ";let n=u[0];if(!n||/\S/.test(n)||Array.from(n).some(i=>i!=n[0]))throw new Error("Invalid indent unit: "+JSON.stringify(u[0]));return n}});function ip(u){let n=u.facet(mm);return n.charCodeAt(0)==9?u.tabSize*n.length:n.length}function wu(u,n){let i="",c=u.tabSize,d=u.facet(mm)[0];if(d=="	"){for(;n>=c;)i+="	",n-=c;d=" "}for(let m=0;m<n;m++)i+=d;return i}function $h(u,n){u instanceof xn&&(u=new xd(u));for(let c of u.state.facet(rp)){let d=c(u,n);if(d!==void 0)return d}let i=Hl(u.state);return i.length>=n?Vb(u,i,n):null}function Kx(u,n,i){let c=Object.create(null),d=new xd(u,{overrideIndentation:C=>{var O;return(O=c[C])!==null&&O!==void 0?O:-1}}),m=[];for(let C=n;C<=i;){let O=u.doc.lineAt(C);C=O.to+1;let G=$h(d,O.from);if(G==null)continue;/\S/.test(O.text)||(G=0);let oe=/^\s*/.exec(O.text)[0],le=wu(u,G);oe!=le&&(c[O.from]=G,m.push({from:O.from,to:O.from+oe.length,insert:le}))}return u.changes(m)}class xd{constructor(n,i={}){this.state=n,this.options=i,this.unit=ip(n)}lineAt(n,i=1){let c=this.state.doc.lineAt(n),{simulateBreak:d,simulateDoubleBreak:m}=this.options;return d!=null&&d>=c.from&&d<=c.to?m&&d==n?{text:"",from:n}:(i<0?d<n:d<=n)?{text:c.text.slice(d-c.from),from:d}:{text:c.text.slice(0,d-c.from),from:c.from}:c}textAfterPos(n,i=1){if(this.options.simulateDoubleBreak&&n==this.options.simulateBreak)return"";let{text:c,from:d}=this.lineAt(n,i);return c.slice(n-d,Math.min(c.length,n+100-d))}column(n,i=1){let{text:c,from:d}=this.lineAt(n,i),m=this.countColumn(c,n-d),C=this.options.overrideIndentation?this.options.overrideIndentation(d):-1;return C>-1&&(m+=C-this.countColumn(c,c.search(/\S|$/))),m}countColumn(n,i=n.length){return S(n,this.state.tabSize,i)}lineIndent(n,i=1){let{text:c,from:d}=this.lineAt(n,i),m=this.options.overrideIndentation;if(m){let C=m(d);if(C>-1)return C}return this.countColumn(c,c.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Gb=new Wo;function Vb(u,n,i){let c=n.resolveStack(i),d=c.node.enterUnfinishedNodesBefore(i);if(d!=c.node){let m=[];for(let C=d;C!=c.node;C=C.parent)m.push(C);for(let C=m.length-1;C>=0;C--)c={node:m[C],next:c}}return Zb(c,u,i)}function Zb(u,n,i){for(let c=u;c;c=c.next){let d=u2(c.node);if(d)return d(ny.create(n,i,c))}return 0}function c2(u){return u.pos==u.options.simulateBreak&&u.options.simulateDoubleBreak}function u2(u){let n=u.type.prop(Gb);if(n)return n;let i=u.firstChild,c;if(i&&(c=i.type.prop(Wo.closedBy))){let d=u.lastChild,m=d&&c.indexOf(d.name)>-1;return C=>ry(C,!0,1,void 0,m&&!c2(C)?d.from:void 0)}return u.parent==null?f2:null}function f2(){return 0}class ny extends xd{constructor(n,i,c){super(n.state,n.options),this.base=n,this.pos=i,this.context=c}get node(){return this.context.node}static create(n,i,c){return new ny(n,i,c)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(n){let i=this.state.doc.lineAt(n.from);for(;;){let c=n.resolve(i.from);for(;c.parent&&c.parent.from==c.from;)c=c.parent;if(h2(c,n))break;i=this.state.doc.lineAt(c.from)}return this.lineIndent(i.from)}continue(){return Zb(this.context.next,this.base,this.pos)}}function h2(u,n){for(let i=n;i;i=i.parent)if(u==i)return!0;return!1}function d2(u){let n=u.node,i=n.childAfter(n.from),c=n.lastChild;if(!i)return null;let d=u.options.simulateBreak,m=u.state.doc.lineAt(i.from),C=d==null||d<=m.from?m.to:Math.min(m.to,d);for(let O=i.to;;){let G=n.childAfter(O);if(!G||G==c)return null;if(!G.type.isSkipped)return G.from<C?i:null;O=G.to}}function p2({closing:u,align:n=!0,units:i=1}){return c=>ry(c,n,i,u)}function ry(u,n,i,c,d){let m=u.textAfter,C=m.match(/^\s*/)[0].length,O=c&&m.slice(C,C+c.length)==c||d==u.pos+C,G=n?d2(u):null;return G?O?u.column(G.from):u.column(G.to):u.baseIndent+(O?0:u.unit*i)}const Hh=u=>u.baseIndent;function og({except:u,units:n=1}={}){return i=>{let c=u&&u.test(i.textAfter);return i.baseIndent+(c?0:n*i.unit)}}const op=200;function iy(){return xn.transactionFilter.of(u=>{if(!u.docChanged||!u.isUserEvent("input.type")&&!u.isUserEvent("input.complete"))return u;let n=u.startState.languageDataAt("indentOnInput",u.startState.selection.main.head);if(!n.length)return u;let i=u.newDoc,{head:c}=u.newSelection.main,d=i.lineAt(c);if(c>d.from+op)return u;let m=i.sliceString(d.from,c);if(!n.some(oe=>oe.test(m)))return u;let{state:C}=u,O=-1,G=[];for(let{head:oe}of C.selection.ranges){let le=C.doc.lineAt(oe);if(le.from==O)continue;O=le.from;let ke=$h(C,le.from);if(ke==null)continue;let lt=/^\s*/.exec(le.text)[0],Kt=wu(C,ke);lt!=Kt&&G.push({from:le.from,to:le.from+lt.length,insert:Kt})}return G.length?[u,{changes:G,sequential:!0}]:u})}const oy=tn.define(),_0=new Wo;function g2(u){let n=u.firstChild,i=u.lastChild;return n&&n.to<i.from?{from:n.to,to:i.type.isError?u.to:i.from}:null}function sy(u,n,i){let c=Hl(u);if(c.length<i)return null;let d=c.resolveStack(i,1),m=null;for(let C=d;C;C=C.next){let O=C.node;if(O.to<=i||O.from>i)continue;if(m&&O.from<n)break;let G=O.type.prop(_0);if(G&&(O.to<c.length-50||c.length==u.doc.length||!ay(O))){let oe=G(O,u);oe&&oe.from<=i&&oe.from>=n&&oe.to>i&&(m=oe)}}return m}function ay(u){let n=u.lastChild;return n&&n.to==u.to&&n.type.isError}function vm(u,n,i){for(let c of u.facet(oy)){let d=c(u,n,i);if(d)return d}return sy(u,n,i)}function jb(u,n){let i=n.mapPos(u.from,1),c=n.mapPos(u.to,-1);return i>=c?void 0:{from:i,to:c}}const sg=it.define({map:jb}),uh=it.define({map:jb});function ag(u){let n=[];for(let{head:i}of u.state.selection.ranges)n.some(c=>c.from<=i&&c.to>=i)||n.push(u.lineBlockAt(i));return n}const Kh=dr.define({create(){return Pn.none},update(u,n){u=u.map(n.changes);for(let i of n.effects)if(i.is(sg)&&!Ub(u,i.value.from,i.value.to)){let{preparePlaceholder:c}=n.state.facet(ym),d=c?Pn.replace({widget:new uy(c(n.state,i.value))}):B0;u=u.update({add:[d.range(i.value.from,i.value.to)]})}else i.is(uh)&&(u=u.update({filter:(c,d)=>i.value.from!=c||i.value.to!=d,filterFrom:i.value.from,filterTo:i.value.to}));if(n.selection){let i=!1,{head:c}=n.selection.main;u.between(c,c,(d,m)=>{d<c&&m>c&&(i=!0)}),i&&(u=u.update({filterFrom:c,filterTo:c,filter:(d,m)=>m<=c||d>=c}))}return u},provide:u=>ss.decorations.from(u),toJSON(u,n){let i=[];return u.between(0,n.doc.length,(c,d)=>{i.push(c,d)}),i},fromJSON(u){if(!Array.isArray(u)||u.length%2)throw new RangeError("Invalid JSON for fold state");let n=[];for(let i=0;i<u.length;){let c=u[i++],d=u[i++];if(typeof c!="number"||typeof d!="number")throw new RangeError("Invalid JSON for fold state");n.push(B0.range(c,d))}return Pn.set(n,!0)}});function Xx(u){return u.field(Kh,!1)||RangeSet.empty}function sp(u,n,i){var c;let d=null;return(c=u.field(Kh,!1))===null||c===void 0||c.between(n,i,(m,C)=>{(!d||d.from>m)&&(d={from:m,to:C})}),d}function Ub(u,n,i){let c=!1;return u.between(n,n,(d,m)=>{d==n&&m==i&&(c=!0)}),c}function ly(u,n){return u.field(Kh,!1)?n:n.concat(it.appendConfig.of(F0()))}const m2=u=>{for(let n of ag(u)){let i=vm(u.state,n.from,n.to);if(i)return u.dispatch({effects:ly(u.state,[sg.of(i),k0(u,i)])}),!0}return!1},v2=u=>{if(!u.state.field(Kh,!1))return!1;let n=[];for(let i of ag(u)){let c=sp(u.state,i.from,i.to);c&&n.push(uh.of(c),k0(u,c,!1))}return n.length&&u.dispatch({effects:n}),n.length>0};function k0(u,n,i=!0){let c=u.state.doc.lineAt(n.from).number,d=u.state.doc.lineAt(n.to).number;return ss.announce.of(`${u.state.phrase(i?"Folded lines":"Unfolded lines")} ${c} ${u.state.phrase("to")} ${d}.`)}const y2=u=>{let{state:n}=u,i=[];for(let c=0;c<n.doc.length;){let d=u.lineBlockAt(c),m=vm(n,d.from,d.to);m&&i.push(sg.of(m)),c=(m?u.lineBlockAt(m.to):d).to+1}return i.length&&u.dispatch({effects:ly(u.state,i)}),!!i.length},b2=u=>{let n=u.state.field(Kh,!1);if(!n||!n.size)return!1;let i=[];return n.between(0,u.state.doc.length,(c,d)=>{i.push(uh.of({from:c,to:d}))}),u.dispatch({effects:i}),!0};function x2(u,n){for(let i=n;;){let c=vm(u.state,i.from,i.to);if(c&&c.to>n.from)return c;if(!i.from)return null;i=u.lineBlockAt(i.from-1)}}const Yx=u=>{let n=[];for(let i of ag(u)){let c=sp(u.state,i.from,i.to);if(c)n.push(uh.of(c),k0(u,c,!1));else{let d=x2(u,i);d&&n.push(sg.of(d),k0(u,d))}}return n.length>0&&u.dispatch({effects:ly(u.state,n)}),!!n.length},cy=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:m2},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:v2},{key:"Ctrl-Alt-[",run:y2},{key:"Ctrl-Alt-]",run:b2}],L0={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},ym=tn.define({combine(u){return Hn(u,L0)}});function F0(u){let n=[Kh,Yc];return u&&n.push(ym.of(u)),n}function Eu(u,n){let{state:i}=u,c=i.facet(ym),d=C=>{let O=u.lineBlockAt(u.posAtDOM(C.target)),G=sp(u.state,O.from,O.to);G&&u.dispatch({effects:uh.of(G)}),C.preventDefault()};if(c.placeholderDOM)return c.placeholderDOM(u,d,n);let m=document.createElement("span");return m.textContent=c.placeholderText,m.setAttribute("aria-label",i.phrase("folded code")),m.title=i.phrase("unfold"),m.className="cm-foldPlaceholder",m.onclick=d,m}const B0=Pn.replace({widget:new class extends wn{toDOM(u){return Eu(u,null)}}});class uy extends wn{constructor(n){super(),this.value=n}eq(n){return this.value==n.value}toDOM(n){return Eu(n,this.value)}}const fh={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class ta extends zu{constructor(n,i){super(),this.config=n,this.open=i}eq(n){return this.config==n.config&&this.open==n.open}toDOM(n){if(this.config.markerDOM)return this.config.markerDOM(this.open);let i=document.createElement("span");return i.textContent=this.open?this.config.openText:this.config.closedText,i.title=n.state.phrase(this.open?"Fold line":"Unfold line"),i}}function fy(u={}){let n=Object.assign(Object.assign({},fh),u),i=new ta(n,!0),c=new ta(n,!1),d=fr.fromClass(class{constructor(C){this.from=C.viewport.from,this.markers=this.buildMarkers(C)}update(C){(C.docChanged||C.viewportChanged||C.startState.facet(bd)!=C.state.facet(bd)||C.startState.field(Kh,!1)!=C.state.field(Kh,!1)||Hl(C.startState)!=Hl(C.state)||n.foldingChanged(C))&&(this.markers=this.buildMarkers(C.view))}buildMarkers(C){let O=new hn;for(let G of C.viewportLineBlocks){let oe=sp(C.state,G.from,G.to)?c:vm(C.state,G.from,G.to)?i:null;oe&&O.add(G.from,G.from,oe)}return O.finish()}}),{domEventHandlers:m}=n;return[d,Uh({class:"cm-foldGutter",markers(C){var O;return((O=C.plugin(d))===null||O===void 0?void 0:O.markers)||Tr.empty},initialSpacer(){return new ta(n,!1)},domEventHandlers:Object.assign(Object.assign({},m),{click:(C,O,G)=>{if(m.click&&m.click(C,O,G))return!0;let oe=sp(C.state,O.from,O.to);if(oe)return C.dispatch({effects:uh.of(oe)}),!0;let le=vm(C.state,O.from,O.to);return le?(C.dispatch({effects:sg.of(le)}),!0):!1}})}),F0()]}const Yc=ss.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class xl{constructor(n,i){this.specs=n;let c;function d(O){let G=Ee.newName();return(c||(c=Object.create(null)))["."+G]=O,G}const m=typeof i.all=="string"?i.all:i.all?d(i.all):void 0,C=i.scope;this.scope=C instanceof hu?O=>O.prop(Lf)==C.data:C?O=>O==C:void 0,this.style=nc(n.map(O=>({tag:O.tag,class:O.class||d(Object.assign({},O,{tag:null}))})),{all:m}).style,this.module=c?new Ee(c):null,this.themeType=i.themeType}static define(n,i){return new xl(n,i||{})}}const Su=tn.define(),pf=tn.define({combine(u){return u.length?[u[0]]:null}});function lg(u){let n=u.facet(Su);return n.length?n:u.facet(pf)}function z0(u,n){let i=[G0],c;return u instanceof xl&&(u.module&&i.push(ss.styleModule.of(u.module)),c=u.themeType),n!=null&&n.fallback?i.push(pf.of(u)):c?i.push(Su.computeN([ss.darkTheme],d=>d.facet(ss.darkTheme)==(c=="dark")?[u]:[])):i.push(Su.of(u)),i}function Wb(u,n,i){let c=lg(u),d=null;if(c){for(let m of c)if(!m.scope||i&&m.scope(i)){let C=m.style(n);C&&(d=d?d+" "+C:C)}}return d}class hy{constructor(n){this.markCache=Object.create(null),this.tree=Hl(n.state),this.decorations=this.buildDeco(n,lg(n.state)),this.decoratedTo=n.viewport.to}update(n){let i=Hl(n.state),c=lg(n.state),d=c!=lg(n.startState),{viewport:m}=n.view,C=n.changes.mapPos(this.decoratedTo,1);i.length<m.to&&!d&&i.type==this.tree.type&&C>=m.to?(this.decorations=this.decorations.map(n.changes),this.decoratedTo=C):(i!=this.tree||n.viewportChanged||d)&&(this.tree=i,this.decorations=this.buildDeco(n.view,c),this.decoratedTo=m.to)}buildDeco(n,i){if(!i||!this.tree.length)return Pn.none;let c=new hn;for(let{from:d,to:m}of n.visibleRanges)_c(this.tree,i,(C,O,G)=>{c.add(C,O,this.markCache[G]||(this.markCache[G]=Pn.mark({class:G})))},d,m);return c.finish()}}const G0=Lr.high(fr.fromClass(hy,{decorations:u=>u.decorations})),bm=xl.define([{tag:ro.meta,color:"#404740"},{tag:ro.link,textDecoration:"underline"},{tag:ro.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ro.emphasis,fontStyle:"italic"},{tag:ro.strong,fontWeight:"bold"},{tag:ro.strikethrough,textDecoration:"line-through"},{tag:ro.keyword,color:"#708"},{tag:[ro.atom,ro.bool,ro.url,ro.contentSeparator,ro.labelName],color:"#219"},{tag:[ro.literal,ro.inserted],color:"#164"},{tag:[ro.string,ro.deleted],color:"#a11"},{tag:[ro.regexp,ro.escape,ro.special(ro.string)],color:"#e40"},{tag:ro.definition(ro.variableName),color:"#00f"},{tag:ro.local(ro.variableName),color:"#30a"},{tag:[ro.typeName,ro.namespace],color:"#085"},{tag:ro.className,color:"#167"},{tag:[ro.special(ro.variableName),ro.macroName],color:"#256"},{tag:ro.definition(ro.propertyName),color:"#00c"},{tag:ro.comment,color:"#940"},{tag:ro.invalid,color:"#f00"}]),dy=ss.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),gf=1e4,cg="()[]{}",ap=tn.define({combine(u){return Hn(u,{afterCursor:!0,brackets:cg,maxScanDistance:gf,renderMatch:V0})}}),Cl=Pn.mark({class:"cm-matchingBracket"}),Vl=Pn.mark({class:"cm-nonmatchingBracket"});function V0(u){let n=[],i=u.matched?Cl:Vl;return n.push(i.range(u.start.from,u.start.to)),u.end&&n.push(i.range(u.end.from,u.end.to)),n}const py=[dr.define({create(){return Pn.none},update(u,n){if(!n.docChanged&&!n.selection)return u;let i=[],c=n.state.facet(ap);for(let d of n.state.selection.ranges){if(!d.empty)continue;let m=Vu(n.state,d.head,-1,c)||d.head>0&&Vu(n.state,d.head-1,1,c)||c.afterCursor&&(Vu(n.state,d.head,1,c)||d.head<n.state.doc.length&&Vu(n.state,d.head+1,-1,c));m&&(i=i.concat(c.renderMatch(m,n.state)))}return Pn.set(i,!0)},provide:u=>ss.decorations.from(u)}),dy];function gy(u={}){return[ap.of(u),py]}const my=new Wo;function xm(u,n,i){let c=u.prop(n<0?Wo.openedBy:Wo.closedBy);if(c)return c;if(u.name.length==1){let d=i.indexOf(u.name);if(d>-1&&d%2==(n<0?1:0))return[i[d+n]]}return null}function Cm(u){let n=u.type.prop(my);return n?n(u.node):u}function Vu(u,n,i,c={}){let d=c.maxScanDistance||gf,m=c.brackets||cg,C=Hl(u),O=C.resolveInner(n,i);for(let G=O;G;G=G.parent){let oe=xm(G.type,i,m);if(oe&&G.from<G.to){let le=Cm(G);if(le&&(i>0?n>=le.from&&n<le.to:n>le.from&&n<=le.to))return Ff(u,n,i,G,le,oe,m)}}return wm(u,n,i,C,O.type,d,m)}function Ff(u,n,i,c,d,m,C){let O=c.parent,G={from:d.from,to:d.to},oe=0,le=O==null?void 0:O.cursor();if(le&&(i<0?le.childBefore(c.from):le.childAfter(c.to)))do if(i<0?le.to<=c.from:le.from>=c.to){if(oe==0&&m.indexOf(le.type.name)>-1&&le.from<le.to){let ke=Cm(le);return{start:G,end:ke?{from:ke.from,to:ke.to}:void 0,matched:!0}}else if(xm(le.type,i,C))oe++;else if(xm(le.type,-i,C)){if(oe==0){let ke=Cm(le);return{start:G,end:ke&&ke.from<ke.to?{from:ke.from,to:ke.to}:void 0,matched:!1}}oe--}}while(i<0?le.prevSibling():le.nextSibling());return{start:G,matched:!1}}function wm(u,n,i,c,d,m,C){let O=i<0?u.sliceDoc(n-1,n):u.sliceDoc(n,n+1),G=C.indexOf(O);if(G<0||G%2==0!=i>0)return null;let oe={from:i<0?n-1:n,to:i>0?n+1:n},le=u.doc.iterRange(n,i>0?u.doc.length:0),ke=0;for(let lt=0;!le.next().done&&lt<=m;){let Kt=le.value;i<0&&(lt+=Kt.length);let Wn=n+lt*i;for(let Br=i>0?0:Kt.length-1,ti=i>0?Kt.length:-1;Br!=ti;Br+=i){let gi=C.indexOf(Kt[Br]);if(!(gi<0||c.resolveInner(Wn+Br,1).type!=d))if(gi%2==0==i>0)ke++;else{if(ke==1)return{start:oe,end:{from:Wn+Br,to:Wn+Br+1},matched:gi>>1==G>>1};ke--}}i>0&&(lt+=Kt.length)}return le.done?{start:oe,matched:!1}:null}function Z0(u,n,i,c=0,d=0){n==null&&(n=u.search(/[^\s\u00a0]/),n==-1&&(n=u.length));let m=d;for(let C=c;C<n;C++)u.charCodeAt(C)==9?m+=i-m%i:m++;return m}class Em{constructor(n,i,c,d){this.string=n,this.tabSize=i,this.indentUnit=c,this.overrideIndent=d,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(n){let i=this.string.charAt(this.pos),c;if(typeof n=="string"?c=i==n:c=i&&(n instanceof RegExp?n.test(i):n(i)),c)return++this.pos,i}eatWhile(n){let i=this.pos;for(;this.eat(n););return this.pos>i}eatSpace(){let n=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n}skipToEnd(){this.pos=this.string.length}skipTo(n){let i=this.string.indexOf(n,this.pos);if(i>-1)return this.pos=i,!0}backUp(n){this.pos-=n}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Z0(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var n;return(n=this.overrideIndent)!==null&&n!==void 0?n:Z0(this.string,null,this.tabSize)}match(n,i,c){if(typeof n=="string"){let d=C=>c?C.toLowerCase():C,m=this.string.substr(this.pos,n.length);return d(m)==d(n)?(i!==!1&&(this.pos+=n.length),!0):null}else{let d=this.string.slice(this.pos).match(n);return d&&d.index>0?null:(d&&i!==!1&&(this.pos+=d[0].length),d)}}current(){return this.string.slice(this.start,this.pos)}}function fg(u){return{name:u.name||"",token:u.token,blankLine:u.blankLine||(()=>{}),startState:u.startState||(()=>!0),copyState:u.copyState||Ea,indent:u.indent||(()=>null),languageData:u.languageData||{},tokenTable:u.tokenTable||Zu}}function Ea(u){if(typeof u!="object")return u;let n={};for(let i in u){let c=u[i];n[i]=c instanceof Array?c.slice():c}return n}const mf=new WeakMap;class hg extends null{constructor(n){let i=N0(n.languageData),c=fg(n),d,m=new class extends Parser{createParse(C,O,G){return new W0(d,C,O,G)}};super(i,m,[rp.of((C,O)=>this.getIndent(C,O))],n.name),this.topNode=$b(i),d=this,this.streamParser=c,this.stateAfter=new NodeProp({perNode:!0}),this.tokenTable=n.tokenTable?new Za(c.tokenTable):vy}static define(n){return new hg(n)}getIndent(n,i){let c=Hl(n.state),d=c.resolve(i);for(;d&&d.type!=this.topNode;)d=d.parent;if(!d)return null;let m,{overrideIndentation:C}=n.options;C&&(m=mf.get(n.state),m!=null&&m<i-1e4&&(m=void 0));let O=j0(this,c,0,d.from,m!=null?m:i),G,oe;if(O?(oe=O.state,G=O.pos+1):(oe=this.streamParser.startState(n.unit),G=0),i-G>1e4)return null;for(;G<i;){let ke=n.state.doc.lineAt(G),lt=Math.min(i,ke.to);if(ke.length){let Kt=C?C(ke.from):-1,Wn=new Em(ke.text,n.state.tabSize,n.unit,Kt<0?void 0:Kt);for(;Wn.pos<lt-ke.from;)Sm(this.streamParser.token,Wn,oe)}else this.streamParser.blankLine(oe,n.unit);if(lt==i)break;G=ke.to+1}let le=n.lineAt(i);return C&&m==null&&mf.set(n.state,le.from),this.streamParser.indent(oe,/^\s*(.*)/.exec(le.text)[1],n)}get allowsNesting(){return!1}}function j0(u,n,i,c,d){let m=i>=c&&i+n.length<=d&&n.prop(u.stateAfter);if(m)return{state:u.streamParser.copyState(m),pos:i+n.length};for(let C=n.children.length-1;C>=0;C--){let O=n.children[C],G=i+n.positions[C],oe=O instanceof Tree&&G<d&&j0(u,O,G,c,d);if(oe)return oe}return null}function U0(u,n,i,c,d){if(d&&i<=0&&c>=n.length)return n;!d&&n.type==u.topNode&&(d=!0);for(let m=n.children.length-1;m>=0;m--){let C=n.positions[m],O=n.children[m],G;if(C<c&&O instanceof Tree){if(!(G=U0(u,O,i-C,c-C,d)))break;return d?new Tree(n.type,n.children.slice(0,m).concat(G),n.positions.slice(0,m+1),C+G.length):G}}return null}function Xh(u,n,i,c){for(let d of n){let m=d.from+(d.openStart?25:0),C=d.to-(d.openEnd?25:0),O=m<=i&&C>i&&j0(u,d.tree,0-d.offset,i,C),G;if(O&&(G=U0(u,d.tree,i+d.offset,O.pos+d.offset,!1)))return{state:O.state,tree:G}}return{state:u.streamParser.startState(c?ip(c):4),tree:Tree.empty}}class W0{constructor(n,i,c,d){this.lang=n,this.input=i,this.fragments=c,this.ranges=d,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=d[d.length-1].to;let m=yd.get(),C=d[0].from,{state:O,tree:G}=Xh(n,c,C,m==null?void 0:m.state);this.state=O,this.parsedPos=this.chunkStart=C+G.length;for(let oe=0;oe<G.children.length;oe++)this.chunks.push(G.children[oe]),this.chunkPos.push(G.positions[oe]);m&&this.parsedPos<m.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(ip(m.state)),m.skipUntilInView(this.parsedPos,m.viewport.from),this.parsedPos=m.viewport.from),this.moveRangeIndex()}advance(){let n=yd.get(),i=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),c=Math.min(i,this.chunkStart+2048);for(n&&(c=Math.min(c,n.viewport.to));this.parsedPos<c;)this.parseLine(n);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=i?this.finish():n&&this.parsedPos>=n.viewport.to?(n.skipUntilInView(this.parsedPos,i),this.finish()):null}stopAt(n){this.stoppedAt=n}lineAfter(n){let i=this.input.chunk(n);if(this.input.lineChunks)i==`
`&&(i="");else{let c=i.indexOf(`
`);c>-1&&(i=i.slice(0,c))}return n+i.length<=this.to?i:i.slice(0,this.to-n)}nextLine(){let n=this.parsedPos,i=this.lineAfter(n),c=n+i.length;for(let d=this.rangeIndex;;){let m=this.ranges[d].to;if(m>=c||(i=i.slice(0,m-(c-i.length)),d++,d==this.ranges.length))break;let C=this.ranges[d].from,O=this.lineAfter(C);i+=O,c=C+O.length}return{line:i,end:c}}skipGapsTo(n,i,c){for(;;){let d=this.ranges[this.rangeIndex].to,m=n+i;if(c>0?d>m:d>=m)break;let C=this.ranges[++this.rangeIndex].from;i+=C-d}return i}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(n,i,c,d,m){if(this.ranges.length>1){m=this.skipGapsTo(i,m,1),i+=m;let C=this.chunk.length;m=this.skipGapsTo(c,m,-1),c+=m,d+=this.chunk.length-C}return this.chunk.push(n,i,c,d),m}parseLine(n){let{line:i,end:c}=this.nextLine(),d=0,{streamParser:m}=this.lang,C=new Em(i,n?n.state.tabSize:4,n?ip(n.state):2);if(C.eol())m.blankLine(this.state,C.indentUnit);else for(;!C.eol();){let O=Sm(m.token,C,this.state);if(O&&(d=this.emitToken(this.lang.tokenTable.resolve(O),this.parsedPos+C.start,this.parsedPos+C.pos,4,d)),C.start>1e4)break}this.parsedPos=c,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let n=Tree.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:Am,topID:0,maxBufferLength:2048,reused:this.chunkReused});n=new Tree(n.type,n.children,n.positions,n.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(n),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Tree(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function Sm(u,n,i){n.start=n.pos;for(let c=0;c<10;c++){let d=u(n,i);if(n.pos>n.start)return d}throw new Error("Stream parser failed to advance stream.")}const Zu=Object.create(null),Ss=[ys.none],Am=new js(Ss),kc=[],Mm=Object.create(null),Tm=Object.create(null);for(let[u,n]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Tm[u]=dg(Zu,n);class Za{constructor(n){this.extra=n,this.table=Object.assign(Object.create(null),Tm)}resolve(n){return n?this.table[n]||(this.table[n]=dg(this.extra,n)):0}}const vy=new Za(Zu);function Pm(u,n){kc.indexOf(u)>-1||(kc.push(u),console.warn(n))}function dg(u,n){let i=[];for(let O of n.split(" ")){let G=[];for(let oe of O.split(".")){let le=u[oe]||ro[oe];le?typeof le=="function"?G.length?G=G.map(le):Pm(oe,`Modifier ${oe} used at start of tag`):G.length?Pm(oe,`Tag ${oe} used as modifier`):G=Array.isArray(le)?le:[le]:Pm(oe,`Unknown highlighting tag ${oe}`)}for(let oe of G)i.push(oe)}if(!i.length)return 0;let c=n.replace(/ /g,"_"),d=c+" "+i.map(O=>O.id),m=Mm[d];if(m)return m.id;let C=Mm[d]=ys.define({id:Ss.length,name:c,props:[Fs({[c]:i})]});return Ss.push(C),C.id}function $b(u){let n=NodeType.define({id:Ss.length,name:"Document",props:[Lf.add(()=>u)],top:!0});return Ss.push(n),n}function Om(u){return u.length<=4096&&/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/.test(u)}function Cd(u){for(let n=u.iter();!n.next().done;)if(Om(n.value))return!0;return!1}function yy(u){let n=!1;return u.iterChanges((i,c,d,m,C)=>{!n&&Cd(C)&&(n=!0)}),n}const pg=tn.define({combine:u=>u.some(n=>n)});function Hb(u={}){let n=[by];return u.alwaysIsolate&&n.push(pg.of(!0)),n}const by=fr.fromClass(class{constructor(u){this.always=u.state.facet(pg)||u.textDirection!=ms.LTR||u.state.facet(ss.perLineTextDirection),this.hasRTL=!this.always&&Cd(u.state.doc),this.tree=Hl(u.state),this.decorations=this.always||this.hasRTL?lp(u,this.tree,this.always):Pn.none}update(u){let n=u.state.facet(pg)||u.view.textDirection!=ms.LTR||u.state.facet(ss.perLineTextDirection);if(!n&&!this.hasRTL&&yy(u.changes)&&(this.hasRTL=!0),!n&&!this.hasRTL)return;let i=Hl(u.state);(n!=this.always||i!=this.tree||u.docChanged||u.viewportChanged)&&(this.tree=i,this.always=n,this.decorations=lp(u.view,i,n))}},{provide:u=>{function n(i){var c,d;return(d=(c=i.plugin(u))===null||c===void 0?void 0:c.decorations)!==null&&d!==void 0?d:Pn.none}return[ss.outerDecorations.of(n),Lr.lowest(ss.bidiIsolatedRanges.of(n))]}});function lp(u,n,i){let c=new hn,d=u.visibleRanges;i||(d=$0(d,u.state.doc));for(let{from:m,to:C}of d)n.iterate({enter:O=>{let G=O.type.prop(Wo.isolate);G&&c.add(O.from,O.to,xy[G])},from:m,to:C});return c.finish()}function $0(u,n){let i=n.iter(),c=0,d=[],m=null;for(let{from:C,to:O}of u)if(!(m&&m.to>C&&(C=m.to,C>=O)))for(c+i.value.length<C&&(i.next(C-(c+i.value.length)),c=C);;){let G=c,oe=c+i.value.length;if(!i.lineBreak&&Om(i.value)&&(m&&m.to>G-10?m.to=Math.min(O,oe):d.push(m={from:G,to:Math.min(O,oe)})),oe>=O)break;c=oe,i.next()}return d}const xy={rtl:Pn.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:ms.RTL}),ltr:Pn.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:ms.LTR}),auto:Pn.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})},cp=u=>{let{state:n}=u,i=n.doc.lineAt(n.selection.main.from),c=rc(u.state,i.from);return c.line?Rm(u):c.block?Xb(u):!1};function Im(u,n){return({state:i,dispatch:c})=>{if(i.readOnly)return!1;let d=u(n,i);return d?(c(i.update(d)),!0):!1}}const Rm=Im(K0,0),up=null,wd=null,fp=Im(H0,0),Kb=null,C2=null,Xb=Im((u,n)=>H0(u,n,Cy(n)),0);function rc(u,n){let i=u.languageDataAt("commentTokens",n);return i.length?i[0]:{}}const uc=50;function Dm(u,{open:n,close:i},c,d){let m=u.sliceDoc(c-uc,c),C=u.sliceDoc(d,d+uc),O=/\s*$/.exec(m)[0].length,G=/^\s*/.exec(C)[0].length,oe=m.length-O;if(m.slice(oe-n.length,oe)==n&&C.slice(G,G+i.length)==i)return{open:{pos:c-O,margin:O&&1},close:{pos:d+G,margin:G&&1}};let le,ke;d-c<=2*uc?le=ke=u.sliceDoc(c,d):(le=u.sliceDoc(c,c+uc),ke=u.sliceDoc(d-uc,d));let lt=/^\s*/.exec(le)[0].length,Kt=/\s*$/.exec(ke)[0].length,Wn=ke.length-Kt-i.length;return le.slice(lt,lt+n.length)==n&&ke.slice(Wn,Wn+i.length)==i?{open:{pos:c+lt+n.length,margin:/\s/.test(le.charAt(lt+n.length))?1:0},close:{pos:d-Kt-i.length,margin:/\s/.test(ke.charAt(Wn-1))?1:0}}:null}function Cy(u){let n=[];for(let i of u.selection.ranges){let c=u.doc.lineAt(i.from),d=i.to<=c.to?c:u.doc.lineAt(i.to),m=n.length-1;m>=0&&n[m].to>c.from?n[m].to=d.to:n.push({from:c.from+/^\s*/.exec(c.text)[0].length,to:d.to})}return n}function H0(u,n,i=n.selection.ranges){let c=i.map(m=>rc(n,m.from).block);if(!c.every(m=>m))return null;let d=i.map((m,C)=>Dm(n,c[C],m.from,m.to));if(u!=2&&!d.every(m=>m))return{changes:n.changes(i.map((m,C)=>d[C]?[]:[{from:m.from,insert:c[C].open+" "},{from:m.to,insert:" "+c[C].close}]))};if(u!=1&&d.some(m=>m)){let m=[];for(let C=0,O;C<d.length;C++)if(O=d[C]){let G=c[C],{open:oe,close:le}=O;m.push({from:oe.pos-G.open.length,to:oe.pos+oe.margin},{from:le.pos-le.margin,to:le.pos+G.close.length})}return{changes:m}}return null}function K0(u,n,i=n.selection.ranges){let c=[],d=-1;for(let{from:m,to:C}of i){let O=c.length,G=1e9,oe=rc(n,m).line;if(oe){for(let le=m;le<=C;){let ke=n.doc.lineAt(le);if(ke.from>d&&(m==C||C>ke.from)){d=ke.from;let lt=/^\s*/.exec(ke.text)[0].length,Kt=lt==ke.length,Wn=ke.text.slice(lt,lt+oe.length)==oe?lt:-1;lt<ke.text.length&&lt<G&&(G=lt),c.push({line:ke,comment:Wn,token:oe,indent:lt,empty:Kt,single:!1})}le=ke.to+1}if(G<1e9)for(let le=O;le<c.length;le++)c[le].indent<c[le].line.text.length&&(c[le].indent=G);c.length==O+1&&(c[O].single=!0)}}if(u!=2&&c.some(m=>m.comment<0&&(!m.empty||m.single))){let m=[];for(let{line:O,token:G,indent:oe,empty:le,single:ke}of c)(ke||!le)&&m.push({from:O.from+oe,insert:G+" "});let C=n.changes(m);return{changes:C,selection:n.selection.map(C,1)}}else if(u!=1&&c.some(m=>m.comment>=0)){let m=[];for(let{line:C,comment:O,token:G}of c)if(O>=0){let oe=C.from+O,le=oe+G.length;C.text[le-C.from]==" "&&le++,m.push({from:oe,to:le})}return{changes:m}}return null}const Yh=_n.define(),wy=_n.define(),Ey=tn.define(),gg=tn.define({combine(u){return Hn(u,{minDepth:100,newGroupDelay:500,joinToEvent:(n,i)=>i},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(n,i)=>(c,d)=>n(c,d)||i(c,d)})}}),Nm=dr.define({create(){return Wu.empty},update(u,n){let i=n.state.facet(gg),c=n.annotation(Yh);if(c){let G=Au.fromTransaction(n,c.selection),oe=c.side,le=oe==0?u.undone:u.done;return G?le=km(le,le.length,i.minDepth,G):le=qb(le,n.startState.selection),new Wu(oe==0?c.rest:le,oe==0?le:c.rest)}let d=n.annotation(wy);if((d=="full"||d=="before")&&(u=u.isolate()),n.annotation(mn.addToHistory)===!1)return n.changes.empty?u:u.addMapping(n.changes.desc);let m=Au.fromTransaction(n),C=n.annotation(mn.time),O=n.annotation(mn.userEvent);return m?u=u.addChanges(m,C,O,i,n):n.selection&&(u=u.addSelection(n.startState.selection,C,O,i.newGroupDelay)),(d=="full"||d=="after")&&(u=u.isolate()),u},toJSON(u){return{done:u.done.map(n=>n.toJSON()),undone:u.undone.map(n=>n.toJSON())}},fromJSON(u){return new Wu(u.done.map(Au.fromJSON),u.undone.map(Au.fromJSON))}});function Yb(u={}){return[Nm,gg.of(u),ss.domEventHandlers({beforeinput(n,i){let c=n.inputType=="historyUndo"?hh:n.inputType=="historyRedo"?Sy:null;return c?(n.preventDefault(),c(i)):!1}})]}const vc=null;function mg(u,n){return function({state:i,dispatch:c}){if(!n&&i.readOnly)return!1;let d=i.field(Nm,!1);if(!d)return!1;let m=d.pop(u,i,n);return m?(c(m),!0):!1}}const hh=mg(0,!1),Sy=mg(1,!1),w2=mg(0,!0),ju=mg(1,!0);function Ay(u){return function(n){let i=n.field(Nm,!1);if(!i)return 0;let c=u==0?i.done:i.undone;return c.length-(c.length&&!c[0].changes?1:0)}}const _m=null,Jx=null;class Au{constructor(n,i,c,d,m){this.changes=n,this.effects=i,this.mapped=c,this.startSelection=d,this.selectionsAfter=m}setSelAfter(n){return new Au(this.changes,this.effects,this.mapped,this.startSelection,n)}toJSON(){var n,i,c;return{changes:(n=this.changes)===null||n===void 0?void 0:n.toJSON(),mapped:(i=this.mapped)===null||i===void 0?void 0:i.toJSON(),startSelection:(c=this.startSelection)===null||c===void 0?void 0:c.toJSON(),selectionsAfter:this.selectionsAfter.map(d=>d.toJSON())}}static fromJSON(n){return new Au(n.changes&&Cn.fromJSON(n.changes),[],n.mapped&&Ye.fromJSON(n.mapped),n.startSelection&&$e.fromJSON(n.startSelection),n.selectionsAfter.map($e.fromJSON))}static fromTransaction(n,i){let c=Uu;for(let d of n.startState.facet(Ey)){let m=d(n);m.length&&(c=c.concat(m))}return!c.length&&n.changes.empty?null:new Au(n.changes.invert(n.startState.doc),c,void 0,i||n.startState.selection,Uu)}static selection(n){return new Au(void 0,Uu,void 0,void 0,n)}}function km(u,n,i,c){let d=n+1>i+20?n-i-1:0,m=u.slice(d,n);return m.push(c),m}function Jb(u,n){let i=[],c=!1;return u.iterChangedRanges((d,m)=>i.push(d,m)),n.iterChangedRanges((d,m,C,O)=>{for(let G=0;G<i.length;){let oe=i[G++],le=i[G++];O>=oe&&C<=le&&(c=!0)}}),c}function E2(u,n){return u.ranges.length==n.ranges.length&&u.ranges.filter((i,c)=>i.empty!=n.ranges[c].empty).length===0}function Ed(u,n){return u.length?n.length?u.concat(n):u:n}const Uu=[],My=200;function qb(u,n){if(u.length){let i=u[u.length-1],c=i.selectionsAfter.slice(Math.max(0,i.selectionsAfter.length-My));return c.length&&c[c.length-1].eq(n)?u:(c.push(n),km(u,u.length-1,1e9,i.setSelAfter(c)))}else return[Au.selection([n])]}function Qb(u){let n=u[u.length-1],i=u.slice();return i[u.length-1]=n.setSelAfter(n.selectionsAfter.slice(0,n.selectionsAfter.length-1)),i}function vg(u,n){if(!u.length)return u;let i=u.length,c=Uu;for(;i;){let d=hp(u[i-1],n,c);if(d.changes&&!d.changes.empty||d.effects.length){let m=u.slice(0,i);return m[i-1]=d,m}else n=d.mapped,i--,c=d.selectionsAfter}return c.length?[Au.selection(c)]:Uu}function hp(u,n,i){let c=Ed(u.selectionsAfter.length?u.selectionsAfter.map(O=>O.map(n)):Uu,i);if(!u.changes)return Au.selection(c);let d=u.changes.map(n),m=n.mapDesc(u.changes,!0),C=u.mapped?u.mapped.composeDesc(m):m;return new Au(d,it.mapEffects(u.effects,n),C,u.startSelection.map(m),c)}const e1=/^(input\.type|delete)($|\.)/;class Wu{constructor(n,i,c=0,d=void 0){this.done=n,this.undone=i,this.prevTime=c,this.prevUserEvent=d}isolate(){return this.prevTime?new Wu(this.done,this.undone):this}addChanges(n,i,c,d,m){let C=this.done,O=C[C.length-1];return O&&O.changes&&!O.changes.empty&&n.changes&&(!c||e1.test(c))&&(!O.selectionsAfter.length&&i-this.prevTime<d.newGroupDelay&&d.joinToEvent(m,Jb(O.changes,n.changes))||c=="input.type.compose")?C=km(C,C.length-1,d.minDepth,new Au(n.changes.compose(O.changes),Ed(n.effects,O.effects),O.mapped,O.startSelection,Uu)):C=km(C,C.length,d.minDepth,n),new Wu(C,Uu,i,c)}addSelection(n,i,c,d){let m=this.done.length?this.done[this.done.length-1].selectionsAfter:Uu;return m.length>0&&i-this.prevTime<d&&c==this.prevUserEvent&&c&&/^select($|\.)/.test(c)&&E2(m[m.length-1],n)?this:new Wu(qb(this.done,n),this.undone,i,c)}addMapping(n){return new Wu(vg(this.done,n),vg(this.undone,n),this.prevTime,this.prevUserEvent)}pop(n,i,c){let d=n==0?this.done:this.undone;if(d.length==0)return null;let m=d[d.length-1],C=m.selectionsAfter[0]||i.selection;if(c&&m.selectionsAfter.length)return i.update({selection:m.selectionsAfter[m.selectionsAfter.length-1],annotations:Yh.of({side:n,rest:Qb(d),selection:C}),userEvent:n==0?"select.undo":"select.redo",scrollIntoView:!0});if(m.changes){let O=d.length==1?Uu:d.slice(0,d.length-1);return m.mapped&&(O=vg(O,m.mapped)),i.update({changes:m.changes,selection:m.startSelection,effects:m.effects,annotations:Yh.of({side:n,rest:O,selection:C}),filter:!1,userEvent:n==0?"undo":"redo",scrollIntoView:!0})}else return null}}Wu.empty=new Wu(Uu,Uu);const yg=[{key:"Mod-z",run:hh,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Sy,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Sy,preventDefault:!0},{key:"Mod-u",run:w2,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:ju,preventDefault:!0}];function Sd(u,n){return $e.create(u.ranges.map(n),u.mainIndex)}function dh(u,n){return u.update({selection:n,scrollIntoView:!0,userEvent:"select"})}function Kl({state:u,dispatch:n},i){let c=Sd(u.selection,i);return c.eq(u.selection,!0)?!1:(n(dh(u,c)),!0)}function bg(u,n){return $e.cursor(n?u.to:u.from)}function Lm(u,n){return Kl(u,i=>i.empty?u.moveByChar(i,n):bg(i,n))}function Jc(u){return u.textDirectionAt(u.state.selection.main.head)==ms.LTR}const t1=u=>Lm(u,!Jc(u)),n1=u=>Lm(u,Jc(u)),qx=u=>Lm(u,!0),Qx=u=>Lm(u,!1);function $u(u,n){return Kl(u,i=>i.empty?u.moveByGroup(i,n):bg(i,n))}const S2=u=>$u(u,!Jc(u)),A2=u=>$u(u,Jc(u)),eC=u=>$u(u,!0),tC=u=>$u(u,!1),r1=typeof Intl!="undefined"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;function Ty(u,n,i){let c=u.state.charCategorizer(n.from),d=CharCategory.Space,m=n.from,C=0,O=!1,G=!1,oe=!1,le=lt=>{if(O)return!1;m+=i?lt.length:-lt.length;let Kt=c(lt),Wn;if(Kt==CharCategory.Word&&lt.charCodeAt(0)<128&&/[\W_]/.test(lt)&&(Kt=-1),d==CharCategory.Space&&(d=Kt),d!=Kt)return!1;if(d==CharCategory.Word)if(lt.toLowerCase()==lt){if(!i&&G)return!1;oe=!0}else if(oe){if(i)return!1;O=!0}else{if(G&&i&&c(Wn=u.state.sliceDoc(m,m+1))==CharCategory.Word&&Wn.toLowerCase()==Wn)return!1;G=!0}return C++,!0},ke=u.moveByChar(n,i,lt=>(le(lt),le));if(r1&&d==CharCategory.Word&&ke.from==n.from+C*(i?1:-1)){let lt=Math.min(n.head,ke.head),Kt=Math.max(n.head,ke.head),Wn=u.state.sliceDoc(lt,Kt);if(Wn.length>1&&/[\u4E00-\uffff]/.test(Wn)){let Br=Array.from(r1.segment(Wn));if(Br.length>1)return i?EditorSelection.cursor(n.head+Br[1].index,-1):EditorSelection.cursor(ke.head+Br[Br.length-1].index,1)}}return ke}function Fm(u,n){return Kl(u,i=>i.empty?Ty(u,i,n):bg(i,n))}const Py=u=>Fm(u,!0),i1=u=>Fm(u,!1);function Ad(u,n,i){if(n.type.prop(i))return!0;let c=n.to-n.from;return c&&(c>2||/[^\s,.;:]/.test(u.sliceDoc(n.from,n.to)))||n.firstChild}function xg(u,n,i){let c=Hl(u).resolveInner(n.head),d=i?Wo.closedBy:Wo.openedBy;for(let G=n.head;;){let oe=i?c.childAfter(G):c.childBefore(G);if(!oe)break;Ad(u,oe,d)?c=oe:G=i?oe.to:oe.from}let m=c.type.prop(d),C,O;return m&&(C=i?Vu(u,c.from,1):Vu(u,c.to,-1))&&C.matched?O=i?C.end.to:C.end.from:O=i?c.to:c.from,$e.cursor(O,i?-1:1)}const Oy=u=>Kl(u,n=>xg(u.state,n,!Jc(u))),Cg=u=>Kl(u,n=>xg(u.state,n,Jc(u)));function Bm(u,n){return Kl(u,i=>{if(!i.empty)return bg(i,n);let c=u.moveVertically(i,n);return c.head!=i.head?c:u.moveToLineBoundary(i,n)})}const X0=u=>Bm(u,!1),Y0=u=>Bm(u,!0);function qc(u){let n=u.scrollDOM.clientHeight<u.scrollDOM.scrollHeight-2,i=0,c=0,d;if(n){for(let m of u.state.facet(ss.scrollMargins)){let C=m(u);C!=null&&C.top&&(i=Math.max(C==null?void 0:C.top,i)),C!=null&&C.bottom&&(c=Math.max(C==null?void 0:C.bottom,c))}d=u.scrollDOM.clientHeight-i-c}else d=(u.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:i,marginBottom:c,selfScroll:n,height:Math.max(u.defaultLineHeight,d-5)}}function zm(u,n){let i=qc(u),{state:c}=u,d=Sd(c.selection,C=>C.empty?u.moveVertically(C,n,i.height):bg(C,n));if(d.eq(c.selection))return!1;let m;if(i.selfScroll){let C=u.coordsAtPos(c.selection.main.head),O=u.scrollDOM.getBoundingClientRect(),G=O.top+i.marginTop,oe=O.bottom-i.marginBottom;C&&C.top>G&&C.bottom<oe&&(m=ss.scrollIntoView(d.main.head,{y:"start",yMargin:C.top-G}))}return u.dispatch(dh(c,d),{effects:m}),!0}const J0=u=>zm(u,!1),Gm=u=>zm(u,!0);function ph(u,n,i){let c=u.lineBlockAt(n.head),d=u.moveToLineBoundary(n,i);if(d.head==n.head&&d.head!=(i?c.to:c.from)&&(d=u.moveToLineBoundary(n,i,!1)),!i&&d.head==c.from&&c.length){let m=/^\s*/.exec(u.state.sliceDoc(c.from,Math.min(c.from+100,c.to)))[0].length;m&&n.head!=c.from+m&&(d=$e.cursor(c.from+m))}return d}const Iy=u=>Kl(u,n=>ph(u,n,!0)),q0=u=>Kl(u,n=>ph(u,n,!1)),Ry=u=>Kl(u,n=>ph(u,n,!Jc(u))),Vm=u=>Kl(u,n=>ph(u,n,Jc(u))),Zm=u=>Kl(u,n=>$e.cursor(u.lineBlockAt(n.head).from,1)),Q0=u=>Kl(u,n=>$e.cursor(u.lineBlockAt(n.head).to,-1));function Dy(u,n,i){let c=!1,d=Sd(u.selection,m=>{let C=Vu(u,m.head,-1)||Vu(u,m.head,1)||m.head>0&&Vu(u,m.head-1,1)||m.head<u.doc.length&&Vu(u,m.head+1,-1);if(!C||!C.end)return m;c=!0;let O=C.start.from==m.head?C.end.to:C.end.from;return i?$e.range(m.anchor,O):$e.cursor(O)});return c?(n(dh(u,d)),!0):!1}const Ny=({state:u,dispatch:n})=>Dy(u,n,!1),ev=({state:u,dispatch:n})=>Dy(u,n,!0);function du(u,n){let i=Sd(u.state.selection,c=>{let d=n(c);return $e.range(c.anchor,d.head,d.goalColumn,d.bidiLevel||void 0)});return i.eq(u.state.selection)?!1:(u.dispatch(dh(u.state,i)),!0)}function wg(u,n){return du(u,i=>u.moveByChar(i,n))}const jm=u=>wg(u,!Jc(u)),dp=u=>wg(u,Jc(u)),tv=u=>wg(u,!0),Um=u=>wg(u,!1);function Wm(u,n){return du(u,i=>u.moveByGroup(i,n))}const o1=u=>Wm(u,!Jc(u)),s1=u=>Wm(u,Jc(u)),M2=u=>Wm(u,!0),T2=u=>Wm(u,!1);function Eg(u,n){return du(u,i=>Ty(u,i,n))}const P2=u=>Eg(u,!0),gh=u=>Eg(u,!1),_y=u=>du(u,n=>xg(u.state,n,!Jc(u))),O2=u=>du(u,n=>xg(u.state,n,Jc(u)));function a1(u,n){return du(u,i=>u.moveVertically(i,n))}const ky=u=>a1(u,!1),pp=u=>a1(u,!0);function Qc(u,n){return du(u,i=>u.moveVertically(i,n,qc(u).height))}const l1=u=>Qc(u,!1),c1=u=>Qc(u,!0),I2=u=>du(u,n=>ph(u,n,!0)),u1=u=>du(u,n=>ph(u,n,!1)),R2=u=>du(u,n=>ph(u,n,!Jc(u))),D2=u=>du(u,n=>ph(u,n,Jc(u))),b=u=>du(u,n=>$e.cursor(u.lineBlockAt(n.head).from)),P=u=>du(u,n=>$e.cursor(u.lineBlockAt(n.head).to)),q=({state:u,dispatch:n})=>(n(dh(u,{anchor:0})),!0),Me=({state:u,dispatch:n})=>(n(dh(u,{anchor:u.doc.length})),!0),bt=({state:u,dispatch:n})=>(n(dh(u,{anchor:u.selection.main.anchor,head:0})),!0),un=({state:u,dispatch:n})=>(n(dh(u,{anchor:u.selection.main.anchor,head:u.doc.length})),!0),ar=({state:u,dispatch:n})=>(n(u.update({selection:{anchor:0,head:u.doc.length},userEvent:"select"})),!0),Ir=({state:u,dispatch:n})=>{let i=rv(u).map(({from:c,to:d})=>$e.range(c,Math.min(d+1,u.doc.length)));return n(u.update({selection:$e.create(i),userEvent:"select"})),!0},ei=({state:u,dispatch:n})=>{let i=Sd(u.selection,c=>{var d;let m=Hl(u).resolveStack(c.from,1);for(let C=m;C;C=C.next){let{node:O}=C;if((O.from<c.from&&O.to>=c.to||O.to>c.to&&O.from<=c.from)&&(!((d=O.parent)===null||d===void 0)&&d.parent))return $e.range(O.to,O.from)}return c});return n(dh(u,i)),!0},uo=({state:u,dispatch:n})=>{let i=u.selection,c=null;return i.ranges.length>1?c=$e.create([i.main]):i.main.empty||(c=$e.create([$e.cursor(i.main.head)])),c?(n(dh(u,c)),!0):!1};function so(u,n){if(u.state.readOnly)return!1;let i="delete.selection",{state:c}=u,d=c.changeByRange(m=>{let{from:C,to:O}=m;if(C==O){let G=n(m);G<C?(i="delete.backward",G=Co(u,G,!1)):G>C&&(i="delete.forward",G=Co(u,G,!0)),C=Math.min(C,G),O=Math.max(O,G)}else C=Co(u,C,!1),O=Co(u,O,!0);return C==O?{range:m}:{changes:{from:C,to:O},range:$e.cursor(C,C<m.head?-1:1)}});return d.changes.empty?!1:(u.dispatch(c.update(d,{scrollIntoView:!0,userEvent:i,effects:i=="delete.selection"?ss.announce.of(c.phrase("Selection deleted")):void 0})),!0)}function Co(u,n,i){if(u instanceof ss)for(let c of u.state.facet(ss.atomicRanges).map(d=>d(u)))c.between(n,n,(d,m)=>{d<n&&m>n&&(n=i?m:d)});return n}const us=(u,n,i)=>so(u,c=>{let d=c.from,{state:m}=u,C=m.doc.lineAt(d),O,G;if(i&&!n&&d>C.from&&d<C.from+200&&!/[^ \t]/.test(O=C.text.slice(0,d-C.from))){if(O[O.length-1]=="	")return d-1;let oe=S(O,m.tabSize),le=oe%ip(m)||ip(m);for(let ke=0;ke<le&&O[O.length-1-ke]==" ";ke++)d--;G=d}else G=ie(C.text,d-C.from,n,n)+C.from,G==d&&C.number!=(n?m.doc.lines:1)?G+=n?1:-1:!n&&/[\ufe00-\ufe0f]/.test(C.text.slice(G-C.from,d-C.from))&&(G=ie(C.text,G-C.from,!1,!1)+C.from);return G}),_s=u=>us(u,!1,!0),Js=u=>us(u,!1,!1),ea=u=>us(u,!0,!1),Zs=(u,n)=>so(u,i=>{let c=i.head,{state:d}=u,m=d.doc.lineAt(c),C=d.charCategorizer(c);for(let O=null;;){if(c==(n?m.to:m.from)){c==i.head&&m.number!=(n?d.doc.lines:1)&&(c+=n?1:-1);break}let G=ie(m.text,c-m.from,n)+m.from,oe=m.text.slice(Math.min(c,G)-m.from,Math.max(c,G)-m.from),le=C(oe);if(O!=null&&le!=O)break;(oe!=" "||c!=i.head)&&(O=le),c=G}return c}),aa=u=>Zs(u,!1),Sa=u=>Zs(u,!0),Mu=u=>so(u,n=>{let i=u.lineBlockAt(n.head).to;return n.head<i?i:Math.min(u.state.doc.length,n.head+1)}),ic=u=>so(u,n=>{let i=u.lineBlockAt(n.head).from;return n.head>i?i:Math.max(0,n.head-1)}),Xl=u=>so(u,n=>{let i=u.moveToLineBoundary(n,!1).head;return n.head>i?i:Math.max(0,n.head-1)}),vl=u=>so(u,n=>{let i=u.moveToLineBoundary(n,!0).head;return n.head<i?i:Math.min(u.state.doc.length,n.head+1)}),pu=({state:u,dispatch:n})=>{if(u.readOnly)return!1;let i=[];for(let c=0,d="",m=u.doc.iter();;){if(m.next(),m.lineBreak||m.done){let C=d.search(/\s+$/);if(C>-1&&i.push({from:c-(d.length-C),to:c}),m.done)break;d=""}else d=m.value;c+=m.value.length}return i.length?(n(u.update({changes:i,userEvent:"delete"})),!0):!1},Bf=({state:u,dispatch:n})=>{if(u.readOnly)return!1;let i=u.changeByRange(c=>({changes:{from:c.from,to:c.to,insert:R.of(["",""])},range:$e.cursor(c.from)}));return n(u.update(i,{scrollIntoView:!0,userEvent:"input"})),!0},nv=({state:u,dispatch:n})=>{if(u.readOnly)return!1;let i=u.changeByRange(c=>{if(!c.empty||c.from==0||c.from==u.doc.length)return{range:c};let d=c.from,m=u.doc.lineAt(d),C=d==m.from?d-1:ie(m.text,d-m.from,!1)+m.from,O=d==m.to?d+1:ie(m.text,d-m.from,!0)+m.from;return{changes:{from:C,to:O,insert:u.doc.slice(d,O).append(u.doc.slice(C,d))},range:$e.cursor(O)}});return i.changes.empty?!1:(n(u.update(i,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function rv(u){let n=[],i=-1;for(let c of u.selection.ranges){let d=u.doc.lineAt(c.from),m=u.doc.lineAt(c.to);if(!c.empty&&c.to==m.from&&(m=u.doc.lineAt(c.to-1)),i>=d.number){let C=n[n.length-1];C.to=m.to,C.ranges.push(c)}else n.push({from:d.from,to:m.to,ranges:[c]});i=m.number+1}return n}function Ly(u,n,i){if(u.readOnly)return!1;let c=[],d=[];for(let m of rv(u)){if(i?m.to==u.doc.length:m.from==0)continue;let C=u.doc.lineAt(i?m.to+1:m.from-1),O=C.length+1;if(i){c.push({from:m.to,to:C.to},{from:m.from,insert:C.text+u.lineBreak});for(let G of m.ranges)d.push($e.range(Math.min(u.doc.length,G.anchor+O),Math.min(u.doc.length,G.head+O)))}else{c.push({from:C.from,to:m.from},{from:m.to,insert:u.lineBreak+C.text});for(let G of m.ranges)d.push($e.range(G.anchor-O,G.head-O))}}return c.length?(n(u.update({changes:c,scrollIntoView:!0,selection:$e.create(d,u.selection.mainIndex),userEvent:"move.line"})),!0):!1}const N2=({state:u,dispatch:n})=>Ly(u,n,!1),_2=({state:u,dispatch:n})=>Ly(u,n,!0);function f1(u,n,i){if(u.readOnly)return!1;let c=[];for(let d of rv(u))i?c.push({from:d.from,insert:u.doc.slice(d.from,d.to)+u.lineBreak}):c.push({from:d.to,insert:u.lineBreak+u.doc.slice(d.from,d.to)});return n(u.update({changes:c,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const cl=({state:u,dispatch:n})=>f1(u,n,!1),Fy=({state:u,dispatch:n})=>f1(u,n,!0),Sg=u=>{if(u.state.readOnly)return!1;let{state:n}=u,i=n.changes(rv(n).map(({from:d,to:m})=>(d>0?d--:m<n.doc.length&&m++,{from:d,to:m}))),c=Sd(n.selection,d=>{let m;if(u.lineWrapping){let C=u.lineBlockAt(d.head),O=u.coordsAtPos(d.head,d.assoc||1);O&&(m=C.bottom+u.documentTop-O.bottom+u.defaultLineHeight/2)}return u.moveVertically(d,!0,m)}).map(i);return u.dispatch({changes:i,selection:c,scrollIntoView:!0,userEvent:"delete.line"}),!0},gp=({state:u,dispatch:n})=>(n(u.update(u.replaceSelection(u.lineBreak),{scrollIntoView:!0,userEvent:"input"})),!0),Ag=({state:u,dispatch:n})=>(n(u.update(u.changeByRange(i=>{let c=/^\s*/.exec(u.doc.lineAt(i.from).text)[0];return{changes:{from:i.from,to:i.to,insert:u.lineBreak+c},range:EditorSelection.cursor(i.from+c.length+1)}}),{scrollIntoView:!0,userEvent:"input"})),!0);function k2(u,n){if(/\(\)|\[\]|\{\}/.test(u.sliceDoc(n-1,n+1)))return{from:n,to:n};let i=Hl(u).resolveInner(n),c=i.childBefore(n),d=i.childAfter(n),m;return c&&d&&c.to<=n&&d.from>=n&&(m=c.type.prop(Wo.closedBy))&&m.indexOf(d.name)>-1&&u.doc.lineAt(c.to).from==u.doc.lineAt(d.from).from&&!/\S/.test(u.sliceDoc(c.to,d.from))?{from:c.to,to:d.from}:null}const L2=d1(!1),h1=d1(!0);function d1(u){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let c=n.changeByRange(d=>{let{from:m,to:C}=d,O=n.doc.lineAt(m),G=!u&&m==C&&k2(n,m);u&&(m=C=(C<=O.to?O:n.doc.lineAt(C)).to);let oe=new xd(n,{simulateBreak:m,simulateDoubleBreak:!!G}),le=$h(oe,m);for(le==null&&(le=S(/^\s*/.exec(n.doc.lineAt(m).text)[0],n.tabSize));C<O.to&&/\s/.test(O.text[C-O.from]);)C++;G?{from:m,to:C}=G:m>O.from&&m<O.from+100&&!/\S/.test(O.text.slice(0,m))&&(m=O.from);let ke=["",wu(n,le)];return G&&ke.push(wu(n,oe.lineIndent(O.from,-1))),{changes:{from:m,to:C,insert:R.of(ke)},range:$e.cursor(m+1+ke[1].length)}});return i(n.update(c,{scrollIntoView:!0,userEvent:"input"})),!0}}function iv(u,n){let i=-1;return u.changeByRange(c=>{let d=[];for(let C=c.from;C<=c.to;){let O=u.doc.lineAt(C);O.number>i&&(c.empty||c.to>O.from)&&(n(O,d,c),i=O.number),C=O.to+1}let m=u.changes(d);return{changes:d,range:$e.range(m.mapPos(c.anchor,1),m.mapPos(c.head,1))}})}const F2=({state:u,dispatch:n})=>{if(u.readOnly)return!1;let i=Object.create(null),c=new xd(u,{overrideIndentation:m=>{let C=i[m];return C==null?-1:C}}),d=iv(u,(m,C,O)=>{let G=$h(c,m.from);if(G==null)return;/\S/.test(m.text)||(G=0);let oe=/^\s*/.exec(m.text)[0],le=wu(u,G);(oe!=le||O.from<m.from+oe.length)&&(i[m.from]=G,C.push({from:m.from,to:m.from+oe.length,insert:le}))});return d.changes.empty||n(u.update(d,{userEvent:"indent"})),!0},mp=({state:u,dispatch:n})=>u.readOnly?!1:(n(u.update(iv(u,(i,c)=>{c.push({from:i.from,insert:u.facet(mm)})}),{userEvent:"input.indent"})),!0),p1=({state:u,dispatch:n})=>u.readOnly?!1:(n(u.update(iv(u,(i,c)=>{let d=/^\s*/.exec(i.text)[0];if(!d)return;let m=S(d,u.tabSize),C=0,O=wu(u,Math.max(0,m-ip(u)));for(;C<d.length&&C<O.length&&d.charCodeAt(C)==O.charCodeAt(C);)C++;c.push({from:i.from+C,to:i.from+d.length,insert:O.slice(C)})}),{userEvent:"delete.dedent"})),!0),vp=u=>(u.setTabFocusMode(),!0),Go=u=>(u.setTabFocusMode(2e3),!0),nC=({state:u,dispatch:n})=>u.selection.ranges.some(i=>!i.empty)?mp({state:u,dispatch:n}):(n(u.update(u.replaceSelection("	"),{scrollIntoView:!0,userEvent:"input"})),!0),B2=[{key:"Ctrl-b",run:t1,shift:jm,preventDefault:!0},{key:"Ctrl-f",run:n1,shift:dp},{key:"Ctrl-p",run:X0,shift:ky},{key:"Ctrl-n",run:Y0,shift:pp},{key:"Ctrl-a",run:Zm,shift:b},{key:"Ctrl-e",run:Q0,shift:P},{key:"Ctrl-d",run:ea},{key:"Ctrl-h",run:_s},{key:"Ctrl-k",run:Mu},{key:"Ctrl-Alt-h",run:aa},{key:"Ctrl-o",run:Bf},{key:"Ctrl-t",run:nv},{key:"Ctrl-v",run:Gm}],rC=[{key:"ArrowLeft",run:t1,shift:jm,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:S2,shift:o1,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Ry,shift:R2,preventDefault:!0},{key:"ArrowRight",run:n1,shift:dp,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:A2,shift:s1,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Vm,shift:D2,preventDefault:!0},{key:"ArrowUp",run:X0,shift:ky,preventDefault:!0},{mac:"Cmd-ArrowUp",run:q,shift:bt},{mac:"Ctrl-ArrowUp",run:J0,shift:l1},{key:"ArrowDown",run:Y0,shift:pp,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Me,shift:un},{mac:"Ctrl-ArrowDown",run:Gm,shift:c1},{key:"PageUp",run:J0,shift:l1},{key:"PageDown",run:Gm,shift:c1},{key:"Home",run:q0,shift:u1,preventDefault:!0},{key:"Mod-Home",run:q,shift:bt},{key:"End",run:Iy,shift:I2,preventDefault:!0},{key:"Mod-End",run:Me,shift:un},{key:"Enter",run:L2},{key:"Mod-a",run:ar},{key:"Backspace",run:_s,shift:_s},{key:"Delete",run:ea},{key:"Mod-Backspace",mac:"Alt-Backspace",run:aa},{key:"Mod-Delete",mac:"Alt-Delete",run:Sa},{mac:"Mod-Backspace",run:Xl},{mac:"Mod-Delete",run:vl}].concat(B2.map(u=>({mac:u.key,run:u.run,shift:u.shift}))),iC=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Oy,shift:_y},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Cg,shift:O2},{key:"Alt-ArrowUp",run:N2},{key:"Shift-Alt-ArrowUp",run:cl},{key:"Alt-ArrowDown",run:_2},{key:"Shift-Alt-ArrowDown",run:Fy},{key:"Escape",run:uo},{key:"Mod-Enter",run:h1},{key:"Alt-l",mac:"Ctrl-l",run:Ir},{key:"Mod-i",run:ei,preventDefault:!0},{key:"Mod-[",run:p1},{key:"Mod-]",run:mp},{key:"Mod-Alt-\\",run:F2},{key:"Shift-Mod-k",run:Sg},{key:"Shift-Mod-\\",run:Ny},{key:"Mod-/",run:cp},{key:"Alt-A",run:fp},{key:"Ctrl-m",mac:"Shift-Alt-m",run:vp}].concat(rC),z2={key:"Tab",run:mp,shift:p1};function Nl(){var u=arguments[0];typeof u=="string"&&(u=document.createElement(u));var n=1,i=arguments[1];if(i&&typeof i=="object"&&i.nodeType==null&&!Array.isArray(i)){for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){var d=i[c];typeof d=="string"?u.setAttribute(c,d):d!=null&&(u[c]=d)}n++}for(;n<arguments.length;n++)G2(u,arguments[n]);return u}function G2(u,n){if(typeof n=="string")u.appendChild(document.createTextNode(n));else if(n!=null)if(n.nodeType!=null)u.appendChild(n);else if(Array.isArray(n))for(var i=0;i<n.length;i++)G2(u,n[i]);else throw new RangeError("Unsupported child node: "+n)}const V2=typeof String.prototype.normalize=="function"?u=>u.normalize("NFKD"):u=>u;class $m{constructor(n,i,c=0,d=n.length,m,C){this.test=C,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=n.iterRange(c,d),this.bufferStart=c,this.normalize=m?O=>m(V2(O)):V2,this.query=this.normalize(i)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return U(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let n=this.peek();if(n<0)return this.done=!0,this;let i=tt(n),c=this.bufferStart+this.bufferPos;this.bufferPos+=ut(n);let d=this.normalize(i);for(let m=0,C=c;;m++){let O=d.charCodeAt(m),G=this.match(O,C,this.bufferPos+this.bufferStart);if(m==d.length-1){if(G)return this.value=G,this;break}C==c&&m<i.length&&i.charCodeAt(m)==O&&C++}}}match(n,i,c){let d=null;for(let m=0;m<this.matches.length;m+=2){let C=this.matches[m],O=!1;this.query.charCodeAt(C)==n&&(C==this.query.length-1?d={from:this.matches[m+1],to:c}:(this.matches[m]++,O=!0)),O||(this.matches.splice(m,2),m-=2)}return this.query.charCodeAt(0)==n&&(this.query.length==1?d={from:i,to:c}:this.matches.push(1,i)),d&&this.test&&!this.test(d.from,d.to,this.buffer,this.bufferStart)&&(d=null),d}}typeof Symbol!="undefined"&&($m.prototype[Symbol.iterator]=function(){return this});const g1={from:-1,to:-1,match:/.*/.exec("")},m1="gm"+(/x/.unicode==null?"":"u");class Z2{constructor(n,i,c,d=0,m=n.length){if(this.text=n,this.to=m,this.curLine="",this.done=!1,this.value=g1,/\\[sWDnr]|\n|\r|\[\^/.test(i))return new j2(n,i,c,d,m);this.re=new RegExp(i,m1+(c!=null&&c.ignoreCase?"i":"")),this.test=c==null?void 0:c.test,this.iter=n.iter();let C=n.lineAt(d);this.curLineStart=C.from,this.matchPos=By(n,d),this.getLine(this.curLineStart)}getLine(n){this.iter.next(n),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let n=this.matchPos-this.curLineStart;;){this.re.lastIndex=n;let i=this.matchPos<=this.to&&this.re.exec(this.curLine);if(i){let c=this.curLineStart+i.index,d=c+i[0].length;if(this.matchPos=By(this.text,d+(c==d?1:0)),c==this.curLineStart+this.curLine.length&&this.nextLine(),(c<d||c>this.value.to)&&(!this.test||this.test(c,d,i)))return this.value={from:c,to:d,match:i},this;n=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),n=0;else return this.done=!0,this}}}const v1=new WeakMap;class Hm{constructor(n,i){this.from=n,this.text=i}get to(){return this.from+this.text.length}static get(n,i,c){let d=v1.get(n);if(!d||d.from>=c||d.to<=i){let O=new Hm(i,n.sliceString(i,c));return v1.set(n,O),O}if(d.from==i&&d.to==c)return d;let{text:m,from:C}=d;return C>i&&(m=n.sliceString(i,C)+m,C=i),d.to<c&&(m+=n.sliceString(d.to,c)),v1.set(n,new Hm(C,m)),new Hm(i,m.slice(i-C,c-C))}}class j2{constructor(n,i,c,d,m){this.text=n,this.to=m,this.done=!1,this.value=g1,this.matchPos=By(n,d),this.re=new RegExp(i,m1+(c!=null&&c.ignoreCase?"i":"")),this.test=c==null?void 0:c.test,this.flat=Hm.get(n,d,this.chunkEnd(d+5e3))}chunkEnd(n){return n>=this.to?this.to:this.text.lineAt(n).to}next(){for(;;){let n=this.re.lastIndex=this.matchPos-this.flat.from,i=this.re.exec(this.flat.text);if(i&&!i[0]&&i.index==n&&(this.re.lastIndex=n+1,i=this.re.exec(this.flat.text)),i){let c=this.flat.from+i.index,d=c+i[0].length;if((this.flat.to>=this.to||i.index+i[0].length<=this.flat.text.length-10)&&(!this.test||this.test(c,d,i)))return this.value={from:c,to:d,match:i},this.matchPos=By(this.text,d+(c==d?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Hm.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol!="undefined"&&(Z2.prototype[Symbol.iterator]=j2.prototype[Symbol.iterator]=function(){return this});function U2(u){try{return new RegExp(u,m1),!0}catch(n){return!1}}function By(u,n){if(n>=u.length)return n;let i=u.lineAt(n),c;for(;n<i.to&&(c=i.text.charCodeAt(n-i.from))>=56320&&c<57344;)n++;return n}function y1(u){let n=String(u.state.doc.lineAt(u.state.selection.main.head).number),i=Nl("input",{class:"cm-textfield",name:"line",value:n}),c=Nl("form",{class:"cm-gotoLine",onkeydown:m=>{m.keyCode==27?(m.preventDefault(),u.dispatch({effects:zy.of(!1)}),u.focus()):m.keyCode==13&&(m.preventDefault(),d())},onsubmit:m=>{m.preventDefault(),d()}},Nl("label",u.state.phrase("Go to line"),": ",i)," ",Nl("button",{class:"cm-button",type:"submit"},u.state.phrase("go")));function d(){let m=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(i.value);if(!m)return;let{state:C}=u,O=C.doc.lineAt(C.selection.main.head),[,G,oe,le,ke]=m,lt=le?+le.slice(1):0,Kt=oe?+oe:O.number;if(oe&&ke){let ti=Kt/100;G&&(ti=ti*(G=="-"?-1:1)+O.number/C.doc.lines),Kt=Math.round(C.doc.lines*ti)}else oe&&G&&(Kt=Kt*(G=="-"?-1:1)+O.number);let Wn=C.doc.line(Math.max(1,Math.min(C.doc.lines,Kt))),Br=$e.cursor(Wn.from+Math.max(0,Math.min(lt,Wn.length)));u.dispatch({effects:[zy.of(!1),ss.scrollIntoView(Br.from,{y:"center"})],selection:Br}),u.focus()}return{dom:c}}const zy=it.define(),W2=dr.define({create(){return!0},update(u,n){for(let i of n.effects)i.is(zy)&&(u=i.value);return u},provide:u=>Zh.from(u,n=>n?y1:null)}),oC=u=>{let n=ep(u,y1);if(!n){let i=[zy.of(!0)];u.state.field(W2,!1)==null&&i.push(it.appendConfig.of([W2,sC])),u.dispatch({effects:i}),n=ep(u,y1)}return n&&n.dom.querySelector("input").select(),!0},sC=ss.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Gy={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},$2=tn.define({combine(u){return Hn(u,Gy,{highlightWordAroundCursor:(n,i)=>n||i,minSelectionLength:Math.min,maxMatches:Math.min})}});function aC(u){let n=[_l,uC];return u&&n.push($2.of(u)),n}const H2=Pn.mark({class:"cm-selectionMatch"}),lC=Pn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function yp(u,n,i,c){return(i==0||u(n.sliceDoc(i-1,i))!=Ut.Word)&&(c==n.doc.length||u(n.sliceDoc(c,c+1))!=Ut.Word)}function cC(u,n,i,c){return u(n.sliceDoc(i,i+1))==Ut.Word&&u(n.sliceDoc(c-1,c))==Ut.Word}const uC=fr.fromClass(class{constructor(u){this.decorations=this.getDeco(u)}update(u){(u.selectionSet||u.docChanged||u.viewportChanged)&&(this.decorations=this.getDeco(u.view))}getDeco(u){let n=u.state.facet($2),{state:i}=u,c=i.selection;if(c.ranges.length>1)return Pn.none;let d=c.main,m,C=null;if(d.empty){if(!n.highlightWordAroundCursor)return Pn.none;let G=i.wordAt(d.head);if(!G)return Pn.none;C=i.charCategorizer(d.head),m=i.sliceDoc(G.from,G.to)}else{let G=d.to-d.from;if(G<n.minSelectionLength||G>200)return Pn.none;if(n.wholeWords){if(m=i.sliceDoc(d.from,d.to),C=i.charCategorizer(d.head),!(yp(C,i,d.from,d.to)&&cC(C,i,d.from,d.to)))return Pn.none}else if(m=i.sliceDoc(d.from,d.to),!m)return Pn.none}let O=[];for(let G of u.visibleRanges){let oe=new $m(i.doc,m,G.from,G.to);for(;!oe.next().done;){let{from:le,to:ke}=oe.value;if((!C||yp(C,i,le,ke))&&(d.empty&&le<=d.from&&ke>=d.to?O.push(lC.range(le,ke)):(le>=d.to||ke<=d.from)&&O.push(H2.range(le,ke)),O.length>n.maxMatches))return Pn.none}}return Pn.set(O)}},{decorations:u=>u.decorations}),_l=ss.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),ww=({state:u,dispatch:n})=>{let{selection:i}=u,c=$e.create(i.ranges.map(d=>u.wordAt(d.head)||$e.cursor(d.head)),i.mainIndex);return c.eq(i)?!1:(n(u.update({selection:c})),!0)};function fC(u,n){let{main:i,ranges:c}=u.selection,d=u.wordAt(i.head),m=d&&d.from==i.from&&d.to==i.to;for(let C=!1,O=new $m(u.doc,n,c[c.length-1].to);;)if(O.next(),O.done){if(C)return null;O=new $m(u.doc,n,0,Math.max(0,c[c.length-1].from-1)),C=!0}else{if(C&&c.some(G=>G.from==O.value.from))continue;if(m){let G=u.wordAt(O.value.from);if(!G||G.from!=O.value.from||G.to!=O.value.to)continue}return O.value}}const hC=({state:u,dispatch:n})=>{let{ranges:i}=u.selection;if(i.some(m=>m.from===m.to))return ww({state:u,dispatch:n});let c=u.sliceDoc(i[0].from,i[0].to);if(u.selection.ranges.some(m=>u.sliceDoc(m.from,m.to)!=c))return!1;let d=fC(u,c);return d?(n(u.update({selection:u.selection.addRange($e.range(d.from,d.to),!1),effects:ss.scrollIntoView(d.to)})),!0):!1},Mg=tn.define({combine(u){return Hn(u,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:n=>new av(n),scrollToMatch:n=>ss.scrollIntoView(n)})}});function Ew(u){return u?[Mg.of(u),vh]:vh}class K2{constructor(n){this.search=n.search,this.caseSensitive=!!n.caseSensitive,this.literal=!!n.literal,this.regexp=!!n.regexp,this.replace=n.replace||"",this.valid=!!this.search&&(!this.regexp||U2(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!n.wholeWord}unquote(n){return this.literal?n:n.replace(/\\([nrt\\])/g,(i,c)=>c=="n"?`
`:c=="r"?"\r":c=="t"?"	":"\\")}eq(n){return this.search==n.search&&this.replace==n.replace&&this.caseSensitive==n.caseSensitive&&this.regexp==n.regexp&&this.wholeWord==n.wholeWord}create(){return this.regexp?new q2(this):new Y2(this)}getCursor(n,i=0,c){let d=n.doc?n:xn.create({doc:n});return c==null&&(c=d.doc.length),this.regexp?Pg(this,d,i,c):Tg(this,d,i,c)}}class b1{constructor(n){this.spec=n}}function Tg(u,n,i,c){return new $m(n.doc,u.unquoted,i,c,u.caseSensitive?void 0:d=>d.toLowerCase(),u.wholeWord?X2(n.doc,n.charCategorizer(n.selection.main.head)):void 0)}function X2(u,n){return(i,c,d,m)=>((m>i||m+d.length<c)&&(m=Math.max(0,i-2),d=u.sliceString(m,Math.min(u.length,c+2))),(n(Og(d,i-m))!=Ut.Word||n(ov(d,i-m))!=Ut.Word)&&(n(ov(d,c-m))!=Ut.Word||n(Og(d,c-m))!=Ut.Word))}class Y2 extends b1{constructor(n){super(n)}nextMatch(n,i,c){let d=Tg(this.spec,n,c,n.doc.length).nextOverlapping();return d.done&&(d=Tg(this.spec,n,0,i).nextOverlapping()),d.done?null:d.value}prevMatchInRange(n,i,c){for(let d=c;;){let m=Math.max(i,d-1e4-this.spec.unquoted.length),C=Tg(this.spec,n,m,d),O=null;for(;!C.nextOverlapping().done;)O=C.value;if(O)return O;if(m==i)return null;d-=1e4}}prevMatch(n,i,c){return this.prevMatchInRange(n,0,i)||this.prevMatchInRange(n,c,n.doc.length)}getReplacement(n){return this.spec.unquote(this.spec.replace)}matchAll(n,i){let c=Tg(this.spec,n,0,n.doc.length),d=[];for(;!c.next().done;){if(d.length>=i)return null;d.push(c.value)}return d}highlight(n,i,c,d){let m=Tg(this.spec,n,Math.max(0,i-this.spec.unquoted.length),Math.min(c+this.spec.unquoted.length,n.doc.length));for(;!m.next().done;)d(m.value.from,m.value.to)}}function Pg(u,n,i,c){return new Z2(n.doc,u.search,{ignoreCase:!u.caseSensitive,test:u.wholeWord?J2(n.charCategorizer(n.selection.main.head)):void 0},i,c)}function Og(u,n){return u.slice(ie(u,n,!1),n)}function ov(u,n){return u.slice(n,ie(u,n))}function J2(u){return(n,i,c)=>!c[0].length||(u(Og(c.input,c.index))!=Ut.Word||u(ov(c.input,c.index))!=Ut.Word)&&(u(ov(c.input,c.index+c[0].length))!=Ut.Word||u(Og(c.input,c.index+c[0].length))!=Ut.Word)}class q2 extends b1{nextMatch(n,i,c){let d=Pg(this.spec,n,c,n.doc.length).next();return d.done&&(d=Pg(this.spec,n,0,i).next()),d.done?null:d.value}prevMatchInRange(n,i,c){for(let d=1;;d++){let m=Math.max(i,c-d*1e4),C=Pg(this.spec,n,m,c),O=null;for(;!C.next().done;)O=C.value;if(O&&(m==i||O.from>m+10))return O;if(m==i)return null}}prevMatch(n,i,c){return this.prevMatchInRange(n,0,i)||this.prevMatchInRange(n,c,n.doc.length)}getReplacement(n){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(i,c)=>c=="$"?"$":c=="&"?n.match[0]:c!="0"&&+c<n.match.length?n.match[c]:i)}matchAll(n,i){let c=Pg(this.spec,n,0,n.doc.length),d=[];for(;!c.next().done;){if(d.length>=i)return null;d.push(c.value)}return d}highlight(n,i,c,d){let m=Pg(this.spec,n,Math.max(0,i-250),Math.min(c+250,n.doc.length));for(;!m.next().done;)d(m.value.from,m.value.to)}}const Km=it.define(),Vy=it.define(),mh=dr.define({create(u){return new Zy(Jm(u).create(),null)},update(u,n){for(let i of n.effects)i.is(Km)?u=new Zy(i.value.create(),u.panel):i.is(Vy)&&(u=new Zy(u.query,i.value?Uy:null));return u},provide:u=>Zh.from(u,n=>n.panel)});function dC(u){let n=u.field(mh,!1);return n?n.query.spec:Jm(u)}function pC(u){var n;return((n=u.field(mh,!1))===null||n===void 0?void 0:n.panel)!=null}class Zy{constructor(n,i){this.query=n,this.panel=i}}const jy=Pn.mark({class:"cm-searchMatch"}),Q2=Pn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),ex=fr.fromClass(class{constructor(u){this.view=u,this.decorations=this.highlight(u.state.field(mh))}update(u){let n=u.state.field(mh);(n!=u.startState.field(mh)||u.docChanged||u.selectionSet||u.viewportChanged)&&(this.decorations=this.highlight(n))}highlight({query:u,panel:n}){if(!n||!u.spec.valid)return Pn.none;let{view:i}=this,c=new hn;for(let d=0,m=i.visibleRanges,C=m.length;d<C;d++){let{from:O,to:G}=m[d];for(;d<C-1&&G>m[d+1].from-2*250;)G=m[++d].to;u.highlight(i.state,O,G,(oe,le)=>{let ke=i.state.selection.ranges.some(lt=>lt.from==oe&&lt.to==le);c.add(oe,le,ke?Q2:jy)})}return c.finish()}},{decorations:u=>u.decorations});function Xm(u){return n=>{let i=n.state.field(mh,!1);return i&&i.query.spec.valid?u(n,i):$y(n)}}const sv=Xm((u,{query:n})=>{let{to:i}=u.state.selection.main,c=n.nextMatch(u.state,i,i);if(!c)return!1;let d=$e.single(c.from,c.to),m=u.state.facet(Mg);return u.dispatch({selection:d,effects:[w1(u,c),m.scrollToMatch(d.main,u)],userEvent:"select.search"}),Wy(u),!0}),Ym=Xm((u,{query:n})=>{let{state:i}=u,{from:c}=i.selection.main,d=n.prevMatch(i,c,c);if(!d)return!1;let m=$e.single(d.from,d.to),C=u.state.facet(Mg);return u.dispatch({selection:m,effects:[w1(u,d),C.scrollToMatch(m.main,u)],userEvent:"select.search"}),Wy(u),!0}),x1=Xm((u,{query:n})=>{let i=n.matchAll(u.state,1e3);return!i||!i.length?!1:(u.dispatch({selection:$e.create(i.map(c=>$e.range(c.from,c.to))),userEvent:"select.search.matches"}),!0)}),tx=({state:u,dispatch:n})=>{let i=u.selection;if(i.ranges.length>1||i.main.empty)return!1;let{from:c,to:d}=i.main,m=[],C=0;for(let O=new $m(u.doc,u.sliceDoc(c,d));!O.next().done;){if(m.length>1e3)return!1;O.value.from==c&&(C=m.length),m.push($e.range(O.value.from,O.value.to))}return n(u.update({selection:$e.create(m,C),userEvent:"select.search.matches"})),!0},C1=Xm((u,{query:n})=>{let{state:i}=u,{from:c,to:d}=i.selection.main;if(i.readOnly)return!1;let m=n.nextMatch(i,c,c);if(!m)return!1;let C=[],O,G,oe=[];if(m.from==c&&m.to==d&&(G=i.toText(n.getReplacement(m)),C.push({from:m.from,to:m.to,insert:G}),m=n.nextMatch(i,m.from,m.to),oe.push(ss.announce.of(i.phrase("replaced match on line $",i.doc.lineAt(c).number)+"."))),m){let le=C.length==0||C[0].from>=m.to?0:m.to-m.from-G.length;O=$e.single(m.from-le,m.to-le),oe.push(w1(u,m)),oe.push(i.facet(Mg).scrollToMatch(O.main,u))}return u.dispatch({changes:C,selection:O,effects:oe,userEvent:"input.replace"}),!0}),nx=Xm((u,{query:n})=>{if(u.state.readOnly)return!1;let i=n.matchAll(u.state,1e9).map(d=>{let{from:m,to:C}=d;return{from:m,to:C,insert:n.getReplacement(d)}});if(!i.length)return!1;let c=u.state.phrase("replaced $ matches",i.length)+".";return u.dispatch({changes:i,effects:ss.announce.of(c),userEvent:"input.replace.all"}),!0});function Uy(u){return u.state.facet(Mg).createPanel(u)}function Jm(u,n){var i,c,d,m,C;let O=u.selection.main,G=O.empty||O.to>O.from+100?"":u.sliceDoc(O.from,O.to);if(n&&!G)return n;let oe=u.facet(Mg);return new K2({search:((i=n==null?void 0:n.literal)!==null&&i!==void 0?i:oe.literal)?G:G.replace(/\n/g,"\\n"),caseSensitive:(c=n==null?void 0:n.caseSensitive)!==null&&c!==void 0?c:oe.caseSensitive,literal:(d=n==null?void 0:n.literal)!==null&&d!==void 0?d:oe.literal,regexp:(m=n==null?void 0:n.regexp)!==null&&m!==void 0?m:oe.regexp,wholeWord:(C=n==null?void 0:n.wholeWord)!==null&&C!==void 0?C:oe.wholeWord})}function Ig(u){let n=ep(u,Uy);return n&&n.dom.querySelector("[main-field]")}function Wy(u){let n=Ig(u);n&&n==u.root.activeElement&&n.select()}const $y=u=>{let n=u.state.field(mh,!1);if(n&&n.panel){let i=Ig(u);if(i&&i!=u.root.activeElement){let c=Jm(u.state,n.query.spec);c.valid&&u.dispatch({effects:Km.of(c)}),i.focus(),i.select()}}else u.dispatch({effects:[Vy.of(!0),n?Km.of(Jm(u.state,n.query.spec)):it.appendConfig.of(vh)]});return!0},Hy=u=>{let n=u.state.field(mh,!1);if(!n||!n.panel)return!1;let i=ep(u,Uy);return i&&i.dom.contains(u.root.activeElement)&&u.focus(),u.dispatch({effects:Vy.of(!1)}),!0},rx=[{key:"Mod-f",run:$y,scope:"editor search-panel"},{key:"F3",run:sv,shift:Ym,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:sv,shift:Ym,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Hy,scope:"editor search-panel"},{key:"Mod-Shift-l",run:tx},{key:"Mod-Alt-g",run:oC},{key:"Mod-d",run:hC,preventDefault:!0}];class av{constructor(n){this.view=n;let i=this.query=n.state.field(mh).query.spec;this.commit=this.commit.bind(this),this.searchField=Nl("input",{value:i.search,placeholder:Hu(n,"Find"),"aria-label":Hu(n,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Nl("input",{value:i.replace,placeholder:Hu(n,"Replace"),"aria-label":Hu(n,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Nl("input",{type:"checkbox",name:"case",form:"",checked:i.caseSensitive,onchange:this.commit}),this.reField=Nl("input",{type:"checkbox",name:"re",form:"",checked:i.regexp,onchange:this.commit}),this.wordField=Nl("input",{type:"checkbox",name:"word",form:"",checked:i.wholeWord,onchange:this.commit});function c(d,m,C){return Nl("button",{class:"cm-button",name:d,onclick:m,type:"button"},C)}this.dom=Nl("div",{onkeydown:d=>this.keydown(d),class:"cm-search"},[this.searchField,c("next",()=>sv(n),[Hu(n,"next")]),c("prev",()=>Ym(n),[Hu(n,"previous")]),c("select",()=>x1(n),[Hu(n,"all")]),Nl("label",null,[this.caseField,Hu(n,"match case")]),Nl("label",null,[this.reField,Hu(n,"regexp")]),Nl("label",null,[this.wordField,Hu(n,"by word")]),...n.state.readOnly?[]:[Nl("br"),this.replaceField,c("replace",()=>C1(n),[Hu(n,"replace")]),c("replaceAll",()=>nx(n),[Hu(n,"replace all")])],Nl("button",{name:"close",onclick:()=>Hy(n),"aria-label":Hu(n,"close"),type:"button"},["\xD7"])])}commit(){let n=new K2({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});n.eq(this.query)||(this.query=n,this.view.dispatch({effects:Km.of(n)}))}keydown(n){_u(this.view,n,"search-panel")?n.preventDefault():n.keyCode==13&&n.target==this.searchField?(n.preventDefault(),(n.shiftKey?Ym:sv)(this.view)):n.keyCode==13&&n.target==this.replaceField&&(n.preventDefault(),C1(this.view))}update(n){for(let i of n.transactions)for(let c of i.effects)c.is(Km)&&!c.value.eq(this.query)&&this.setQuery(c.value)}setQuery(n){this.query=n,this.searchField.value=n.search,this.replaceField.value=n.replace,this.caseField.checked=n.caseSensitive,this.reField.checked=n.regexp,this.wordField.checked=n.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Mg).top}}function Hu(u,n){return u.state.phrase(n)}const zf=30,lv=/[\s\.,:;?!]/;function w1(u,{from:n,to:i}){let c=u.state.doc.lineAt(n),d=u.state.doc.lineAt(i).to,m=Math.max(c.from,n-zf),C=Math.min(d,i+zf),O=u.state.sliceDoc(m,C);if(m!=c.from){for(let G=0;G<zf;G++)if(!lv.test(O[G+1])&&lv.test(O[G])){O=O.slice(G);break}}if(C!=d){for(let G=O.length-1;G>O.length-zf;G--)if(!lv.test(O[G-1])&&lv.test(O[G])){O=O.slice(0,G);break}}return ss.announce.of(`${u.state.phrase("current match")}. ${O} ${u.state.phrase("on line")} ${c.number}.`)}const gC=ss.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),vh=[mh,Lr.low(ex),gC];class Rg{constructor(n,i,c,d){this.state=n,this.pos=i,this.explicit=c,this.view=d,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(n){let i=Hl(this.state).resolveInner(this.pos,-1);for(;i&&n.indexOf(i.name)<0;)i=i.parent;return i?{from:i.from,to:this.pos,text:this.state.sliceDoc(i.from,this.pos),type:i.type}:null}matchBefore(n){let i=this.state.doc.lineAt(this.pos),c=Math.max(i.from,this.pos-250),d=i.text.slice(c-i.from,this.pos-i.from),m=d.search(Md(n,!1));return m<0?null:{from:c+m,to:this.pos,text:d.slice(m)}}get aborted(){return this.abortListeners==null}addEventListener(n,i,c){n=="abort"&&this.abortListeners&&(this.abortListeners.push(i),c&&c.onDocChange&&(this.abortOnDocChange=!0))}}function yh(u){let n=Object.keys(u).join(""),i=/\w/.test(n);return i&&(n=n.replace(/\w/g,"")),`[${i?"\\w":""}${n.replace(/[^\w\s]/g,"\\$&")}]`}function eu(u){let n=Object.create(null),i=Object.create(null);for(let{label:d}of u){n[d[0]]=!0;for(let m=1;m<d.length;m++)i[d[m]]=!0}let c=yh(n)+yh(i)+"*$";return[new RegExp("^"+c),new RegExp(c)]}function cv(u){let n=u.map(d=>typeof d=="string"?{label:d}:d),[i,c]=n.every(d=>/^\w+$/.test(d.label))?[/\w*$/,/\w+$/]:eu(n);return d=>{let m=d.matchBefore(c);return m||d.explicit?{from:m?m.from:d.pos,options:n,validFor:i}:null}}function bp(u,n){return i=>{for(let c=syntaxTree(i.state).resolveInner(i.pos,-1);c;c=c.parent){if(u.indexOf(c.name)>-1)return n(i);if(c.type.isTop)break}return null}}function Ky(u,n){return i=>{for(let c=syntaxTree(i.state).resolveInner(i.pos,-1);c;c=c.parent){if(u.indexOf(c.name)>-1)return null;if(c.type.isTop)break}return n(i)}}class qm{constructor(n,i,c,d){this.completion=n,this.source=i,this.match=c,this.score=d}}function Lc(u){return u.selection.main.from}function Md(u,n){var i;let{source:c}=u,d=n&&c[0]!="^",m=c[c.length-1]!="$";return!d&&!m?u:new RegExp(`${d?"^":""}(?:${c})${m?"$":""}`,(i=u.flags)!==null&&i!==void 0?i:u.ignoreCase?"i":"")}const yc=_n.define();function Jh(u,n,i,c){let{main:d}=u.selection,m=i-d.from,C=c-d.from;return Object.assign(Object.assign({},u.changeByRange(O=>O!=d&&i!=c&&u.sliceDoc(O.from+m,O.from+C)!=u.sliceDoc(i,c)?{range:O}:{changes:{from:O.from+m,to:c==d.from?O.to:O.from+C,insert:n},range:$e.cursor(O.from+m+n.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const bh=new WeakMap;function Xy(u){if(!Array.isArray(u))return u;let n=bh.get(u);return n||bh.set(u,n=cv(u)),n}const Yy=it.define(),Qm=it.define();class E1{constructor(n){this.pattern=n,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let i=0;i<n.length;){let c=U(n,i),d=ut(c);this.chars.push(c);let m=n.slice(i,i+d),C=m.toUpperCase();this.folded.push(U(C==m?m.toLowerCase():C,0)),i+=d}this.astral=n.length!=this.chars.length}ret(n,i){return this.score=n,this.matched=i,this}match(n){if(this.pattern.length==0)return this.ret(-100,[]);if(n.length<this.pattern.length)return null;let{chars:i,folded:c,any:d,precise:m,byWord:C}=this;if(i.length==1){let wo=U(n,0),ns=ut(wo),Xo=ns==n.length?0:-100;if(wo!=i[0])if(wo==c[0])Xo+=-200;else return null;return this.ret(Xo,[0,ns])}let O=n.indexOf(this.pattern);if(O==0)return this.ret(n.length==this.pattern.length?0:-100,[0,this.pattern.length]);let G=i.length,oe=0;if(O<0){for(let wo=0,ns=Math.min(n.length,200);wo<ns&&oe<G;){let Xo=U(n,wo);(Xo==i[oe]||Xo==c[oe])&&(d[oe++]=wo),wo+=ut(Xo)}if(oe<G)return null}let le=0,ke=0,lt=!1,Kt=0,Wn=-1,Br=-1,ti=/[a-z]/.test(n),gi=!0;for(let wo=0,ns=Math.min(n.length,200),Xo=0;wo<ns&&ke<G;){let Po=U(n,wo);O<0&&(le<G&&Po==i[le]&&(m[le++]=wo),Kt<G&&(Po==i[Kt]||Po==c[Kt]?(Kt==0&&(Wn=wo),Br=wo+1,Kt++):Kt=0));let hs,ki=Po<255?Po>=48&&Po<=57||Po>=97&&Po<=122?2:Po>=65&&Po<=90?1:0:(hs=tt(Po))!=hs.toLowerCase()?1:hs!=hs.toUpperCase()?2:0;(!wo||ki==1&&ti||Xo==0&&ki!=0)&&(i[ke]==Po||c[ke]==Po&&(lt=!0)?C[ke++]=wo:C.length&&(gi=!1)),Xo=ki,wo+=ut(Po)}return ke==G&&C[0]==0&&gi?this.result(-100+(lt?-200:0),C,n):Kt==G&&Wn==0?this.ret(-200-n.length+(Br==n.length?0:-100),[0,Br]):O>-1?this.ret(-700-n.length,[O,O+this.pattern.length]):Kt==G?this.ret(-900-n.length,[Wn,Br]):ke==G?this.result(-100+(lt?-200:0)+-700+(gi?0:-1100),C,n):i.length==2?null:this.result((d[0]?-700:0)+-200+-1100,d,n)}result(n,i,c){let d=[],m=0;for(let C of i){let O=C+(this.astral?ut(U(c,C)):1);m&&d[m-1]==C?d[m-1]=O:(d[m++]=C,d[m++]=O)}return this.ret(n-c.length,d)}}class mC{constructor(n){this.pattern=n,this.matched=[],this.score=0,this.folded=n.toLowerCase()}match(n){if(n.length<this.pattern.length)return null;let i=n.slice(0,this.pattern.length),c=i==this.pattern?0:i.toLowerCase()==this.folded?-200:null;return c==null?null:(this.matched=[0,i.length],this.score=c+(n.length==this.pattern.length?0:-100),this)}}const tu=tn.define({combine(u){return Hn(u,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:ix,filterStrict:!1,compareCompletions:(n,i)=>n.label.localeCompare(i.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(n,i)=>n&&i,closeOnBlur:(n,i)=>n&&i,icons:(n,i)=>n&&i,tooltipClass:(n,i)=>c=>S1(n(c),i(c)),optionClass:(n,i)=>c=>S1(n(c),i(c)),addToOptions:(n,i)=>n.concat(i),filterStrict:(n,i)=>n||i})}});function S1(u,n){return u?n?u+" "+n:u:n}function ix(u,n,i,c,d,m){let C=u.textDirection==ms.RTL,O=C,G=!1,oe="top",le,ke,lt=n.left-d.left,Kt=d.right-n.right,Wn=c.right-c.left,Br=c.bottom-c.top;if(O&&lt<Math.min(Wn,Kt)?O=!1:!O&&Kt<Math.min(Wn,lt)&&(O=!0),Wn<=(O?lt:Kt))le=Math.max(d.top,Math.min(i.top,d.bottom-Br))-n.top,ke=Math.min(400,O?lt:Kt);else{G=!0,ke=Math.min(400,(C?n.right:d.right-n.left)-30);let wo=d.bottom-n.bottom;wo>=Br||wo>n.top?le=i.bottom-n.top:(oe="bottom",le=n.bottom-i.top)}let ti=(n.bottom-n.top)/m.offsetHeight,gi=(n.right-n.left)/m.offsetWidth;return{style:`${oe}: ${le/ti}px; max-width: ${ke/gi}px`,class:"cm-completionInfo-"+(G?C?"left-narrow":"right-narrow":O?"left":"right")}}function vC(u){let n=u.addToOptions.slice();return u.icons&&n.push({render(i){let c=document.createElement("div");return c.classList.add("cm-completionIcon"),i.type&&c.classList.add(...i.type.split(/\s+/g).map(d=>"cm-completionIcon-"+d)),c.setAttribute("aria-hidden","true"),c},position:20}),n.push({render(i,c,d,m){let C=document.createElement("span");C.className="cm-completionLabel";let O=i.displayLabel||i.label,G=0;for(let oe=0;oe<m.length;){let le=m[oe++],ke=m[oe++];le>G&&C.appendChild(document.createTextNode(O.slice(G,le)));let lt=C.appendChild(document.createElement("span"));lt.appendChild(document.createTextNode(O.slice(le,ke))),lt.className="cm-completionMatchedText",G=ke}return G<O.length&&C.appendChild(document.createTextNode(O.slice(G))),C},position:50},{render(i){if(!i.detail)return null;let c=document.createElement("span");return c.className="cm-completionDetail",c.textContent=i.detail,c},position:80}),n.sort((i,c)=>i.position-c.position).map(i=>i.render)}function A1(u,n,i){if(u<=i)return{from:0,to:u};if(n<0&&(n=0),n<=u>>1){let d=Math.floor(n/i);return{from:d*i,to:(d+1)*i}}let c=Math.floor((u-n)/i);return{from:u-(c+1)*i,to:u-c*i}}class ox{constructor(n,i,c){this.view=n,this.stateField=i,this.applyCompletion=c,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:G=>this.placeInfo(G),key:this},this.space=null,this.currentClass="";let d=n.state.field(i),{options:m,selected:C}=d.open,O=n.state.facet(tu);this.optionContent=vC(O),this.optionClass=O.optionClass,this.tooltipClass=O.tooltipClass,this.range=A1(m.length,C,O.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(n.state),this.dom.addEventListener("mousedown",G=>{let{options:oe}=n.state.field(i).open;for(let le=G.target,ke;le&&le!=this.dom;le=le.parentNode)if(le.nodeName=="LI"&&(ke=/-(\d+)$/.exec(le.id))&&+ke[1]<oe.length){this.applyCompletion(n,oe[+ke[1]]),G.preventDefault();return}}),this.dom.addEventListener("focusout",G=>{let oe=n.state.field(this.stateField,!1);oe&&oe.tooltip&&n.state.facet(tu).closeOnBlur&&G.relatedTarget!=n.contentDOM&&n.dispatch({effects:Qm.of(null)})}),this.showOptions(m,d.id)}mount(){this.updateSel()}showOptions(n,i){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n,i,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(n){var i;let c=n.state.field(this.stateField),d=n.startState.field(this.stateField);if(this.updateTooltipClass(n.state),c!=d){let{options:m,selected:C,disabled:O}=c.open;(!d.open||d.open.options!=m)&&(this.range=A1(m.length,C,n.state.facet(tu).maxRenderedOptions),this.showOptions(m,c.id)),this.updateSel(),O!=((i=d.open)===null||i===void 0?void 0:i.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!O)}}updateTooltipClass(n){let i=this.tooltipClass(n);if(i!=this.currentClass){for(let c of this.currentClass.split(" "))c&&this.dom.classList.remove(c);for(let c of i.split(" "))c&&this.dom.classList.add(c);this.currentClass=i}}positioned(n){this.space=n,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let n=this.view.state.field(this.stateField),i=n.open;if((i.selected>-1&&i.selected<this.range.from||i.selected>=this.range.to)&&(this.range=A1(i.options.length,i.selected,this.view.state.facet(tu).maxRenderedOptions),this.showOptions(i.options,n.id)),this.updateSelectedOption(i.selected)){this.destroyInfo();let{completion:c}=i.options[i.selected],{info:d}=c;if(!d)return;let m=typeof d=="string"?document.createTextNode(d):d(c);if(!m)return;"then"in m?m.then(C=>{C&&this.view.state.field(this.stateField,!1)==n&&this.addInfoPane(C,c)}).catch(C=>al(this.view.state,C,"completion info")):this.addInfoPane(m,c)}}addInfoPane(n,i){this.destroyInfo();let c=this.info=document.createElement("div");if(c.className="cm-tooltip cm-completionInfo",n.nodeType!=null)c.appendChild(n),this.infoDestroy=null;else{let{dom:d,destroy:m}=n;c.appendChild(d),this.infoDestroy=m||null}this.dom.appendChild(c),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(n){let i=null;for(let c=this.list.firstChild,d=this.range.from;c;c=c.nextSibling,d++)c.nodeName!="LI"||!c.id?d--:d==n?c.hasAttribute("aria-selected")||(c.setAttribute("aria-selected","true"),i=c):c.hasAttribute("aria-selected")&&c.removeAttribute("aria-selected");return i&&yC(this.list,i),i}measureInfo(){let n=this.dom.querySelector("[aria-selected]");if(!n||!this.info)return null;let i=this.dom.getBoundingClientRect(),c=this.info.getBoundingClientRect(),d=n.getBoundingClientRect(),m=this.space;if(!m){let C=this.dom.ownerDocument.defaultView||window;m={left:0,top:0,right:C.innerWidth,bottom:C.innerHeight}}return d.top>Math.min(m.bottom,i.bottom)-10||d.bottom<Math.max(m.top,i.top)+10?null:this.view.state.facet(tu).positionInfo(this.view,i,d,c,m,this.dom)}placeInfo(n){this.info&&(n?(n.style&&(this.info.style.cssText=n.style),this.info.className="cm-tooltip cm-completionInfo "+(n.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(n,i,c){const d=document.createElement("ul");d.id=i,d.setAttribute("role","listbox"),d.setAttribute("aria-expanded","true"),d.setAttribute("aria-label",this.view.state.phrase("Completions"));let m=null;for(let C=c.from;C<c.to;C++){let{completion:O,match:G}=n[C],{section:oe}=O;if(oe){let lt=typeof oe=="string"?oe:oe.name;if(lt!=m&&(C>c.from||c.from==0))if(m=lt,typeof oe!="string"&&oe.header)d.appendChild(oe.header(oe));else{let Kt=d.appendChild(document.createElement("completion-section"));Kt.textContent=lt}}const le=d.appendChild(document.createElement("li"));le.id=i+"-"+C,le.setAttribute("role","option");let ke=this.optionClass(O);ke&&(le.className=ke);for(let lt of this.optionContent){let Kt=lt(O,this.view.state,this.view,G);Kt&&le.appendChild(Kt)}}return c.from&&d.classList.add("cm-completionListIncompleteTop"),c.to<n.length&&d.classList.add("cm-completionListIncompleteBottom"),d}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Dg(u,n){return i=>new ox(i,u,n)}function yC(u,n){let i=u.getBoundingClientRect(),c=n.getBoundingClientRect(),d=i.height/u.offsetHeight;c.top<i.top?u.scrollTop-=(i.top-c.top)/d:c.bottom>i.bottom&&(u.scrollTop+=(c.bottom-i.bottom)/d)}function xp(u){return(u.boost||0)*100+(u.apply?10:0)+(u.info?5:0)+(u.type?1:0)}function bC(u,n){let i=[],c=null,d=oe=>{i.push(oe);let{section:le}=oe.completion;if(le){c||(c=[]);let ke=typeof le=="string"?le:le.name;c.some(lt=>lt.name==ke)||c.push(typeof le=="string"?{name:ke}:le)}},m=n.facet(tu);for(let oe of u)if(oe.hasResult()){let le=oe.result.getMatch;if(oe.result.filter===!1)for(let ke of oe.result.options)d(new qm(ke,oe.source,le?le(ke):[],1e9-i.length));else{let ke=n.sliceDoc(oe.from,oe.to),lt,Kt=m.filterStrict?new mC(ke):new E1(ke);for(let Wn of oe.result.options)if(lt=Kt.match(Wn.label)){let Br=Wn.displayLabel?le?le(Wn,lt.matched):[]:lt.matched;d(new qm(Wn,oe.source,Br,lt.score+(Wn.boost||0)))}}}if(c){let oe=Object.create(null),le=0,ke=(lt,Kt)=>{var Wn,Br;return((Wn=lt.rank)!==null&&Wn!==void 0?Wn:1e9)-((Br=Kt.rank)!==null&&Br!==void 0?Br:1e9)||(lt.name<Kt.name?-1:1)};for(let lt of c.sort(ke))le-=1e5,oe[lt.name]=le;for(let lt of i){let{section:Kt}=lt.completion;Kt&&(lt.score+=oe[typeof Kt=="string"?Kt:Kt.name])}}let C=[],O=null,G=m.compareCompletions;for(let oe of i.sort((le,ke)=>ke.score-le.score||G(le.completion,ke.completion))){let le=oe.completion;!O||O.label!=le.label||O.detail!=le.detail||O.type!=null&&le.type!=null&&O.type!=le.type||O.apply!=le.apply||O.boost!=le.boost?C.push(oe):xp(oe.completion)>xp(O)&&(C[C.length-1]=oe),O=oe.completion}return C}class xh{constructor(n,i,c,d,m,C){this.options=n,this.attrs=i,this.tooltip=c,this.timestamp=d,this.selected=m,this.disabled=C}setSelected(n,i){return n==this.selected||n>=this.options.length?this:new xh(this.options,ax(i,n),this.tooltip,this.timestamp,n,this.disabled)}static build(n,i,c,d,m){let C=bC(n,i);if(!C.length)return d&&n.some(G=>G.state==1)?new xh(d.options,d.attrs,d.tooltip,d.timestamp,d.selected,!0):null;let O=i.facet(tu).selectOnOpen?0:-1;if(d&&d.selected!=O&&d.selected!=-1){let G=d.options[d.selected].completion;for(let oe=0;oe<C.length;oe++)if(C[oe].completion==G){O=oe;break}}return new xh(C,ax(c,O),{pos:n.reduce((G,oe)=>oe.hasResult()?Math.min(G,oe.from):G,1e8),create:qy,above:m.aboveCursor},d?d.timestamp:Date.now(),O,!1)}map(n){return new xh(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:n.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Zl{constructor(n,i,c){this.active=n,this.id=i,this.open=c}static start(){return new Zl(uv,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(n){let{state:i}=n,c=i.facet(tu),m=(c.override||i.languageDataAt("autocomplete",Lc(i)).map(Xy)).map(O=>(this.active.find(oe=>oe.source==O)||new vf(O,this.active.some(oe=>oe.state!=0)?1:0)).update(n,c));m.length==this.active.length&&m.every((O,G)=>O==this.active[G])&&(m=this.active);let C=this.open;C&&n.docChanged&&(C=C.map(n.changes)),n.selection||m.some(O=>O.hasResult()&&n.changes.touchesRange(O.from,O.to))||!sx(m,this.active)?C=xh.build(m,i,this.id,C,c):C&&C.disabled&&!m.some(O=>O.state==1)&&(C=null),!C&&m.every(O=>O.state!=1)&&m.some(O=>O.hasResult())&&(m=m.map(O=>O.hasResult()?new vf(O.source,0):O));for(let O of n.effects)O.is(Jy)&&(C=C&&C.setSelected(O.value,this.id));return m==this.active&&C==this.open?this:new Zl(m,this.id,C)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?xC:CC}}function sx(u,n){if(u==n)return!0;for(let i=0,c=0;;){for(;i<u.length&&!u[i].hasResult;)i++;for(;c<n.length&&!n[c].hasResult;)c++;let d=i==u.length,m=c==n.length;if(d||m)return d==m;if(u[i++].result!=n[c++].result)return!1}}const xC={"aria-autocomplete":"list"},CC={};function ax(u,n){let i={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":u};return n>-1&&(i["aria-activedescendant"]=u+"-"+n),i}const uv=[];function lx(u,n){if(u.isUserEvent("input.complete")){let c=u.annotation(yc);if(c&&n.activateOnCompletion(c))return 12}let i=u.isUserEvent("input.type");return i&&n.activateOnTyping?5:i?1:u.isUserEvent("delete.backward")?2:u.selection?8:u.docChanged?16:0}class vf{constructor(n,i,c=-1){this.source=n,this.state=i,this.explicitPos=c}hasResult(){return!1}update(n,i){let c=lx(n,i),d=this;(c&8||c&16&&this.touches(n))&&(d=new vf(d.source,0)),c&4&&d.state==0&&(d=new vf(this.source,1)),d=d.updateFor(n,c);for(let m of n.effects)if(m.is(Yy))d=new vf(d.source,1,m.value?Lc(n.state):-1);else if(m.is(Qm))d=new vf(d.source,0);else if(m.is(cx))for(let C of m.value)C.source==d.source&&(d=C);return d}updateFor(n,i){return this.map(n.changes)}map(n){return n.empty||this.explicitPos<0?this:new vf(this.source,this.state,n.mapPos(this.explicitPos))}touches(n){return n.changes.touchesRange(Lc(n.state))}}class e0 extends vf{constructor(n,i,c,d,m){super(n,2,i),this.result=c,this.from=d,this.to=m}hasResult(){return!0}updateFor(n,i){var c;if(!(i&3))return this.map(n.changes);let d=this.result;d.map&&!n.changes.empty&&(d=d.map(d,n.changes));let m=n.changes.mapPos(this.from),C=n.changes.mapPos(this.to,1),O=Lc(n.state);if((this.explicitPos<0?O<=m:O<this.from)||O>C||!d||i&2&&Lc(n.startState)==this.from)return new vf(this.source,i&4?1:0);let G=this.explicitPos<0?-1:n.changes.mapPos(this.explicitPos);return M1(d.validFor,n.state,m,C)?new e0(this.source,G,d,m,C):d.update&&(d=d.update(d,m,C,new Rg(n.state,O,G>=0)))?new e0(this.source,G,d,d.from,(c=d.to)!==null&&c!==void 0?c:Lc(n.state)):new vf(this.source,1,G)}map(n){return n.empty?this:(this.result.map?this.result.map(this.result,n):this.result)?new e0(this.source,this.explicitPos<0?-1:n.mapPos(this.explicitPos),this.result,n.mapPos(this.from),n.mapPos(this.to,1)):new vf(this.source,0)}touches(n){return n.changes.touchesRange(this.from,this.to)}}function M1(u,n,i,c){if(!u)return!1;let d=n.sliceDoc(i,c);return typeof u=="function"?u(d,i,c,n):Md(u,!0).test(d)}const cx=it.define({map(u,n){return u.map(i=>i.map(n))}}),Jy=it.define(),jl=dr.define({create(){return Zl.start()},update(u,n){return u.update(n)},provide:u=>[uu.from(u,n=>n.tooltip),ss.contentAttributes.from(u,n=>n.attrs)]});function fv(u,n){const i=n.completion.apply||n.completion.label;let c=u.state.field(jl).active.find(d=>d.source==n.source);return c instanceof e0?(typeof i=="string"?u.dispatch(Object.assign(Object.assign({},Jh(u.state,i,c.from,c.to)),{annotations:yc.of(n.completion)})):i(u,n.completion,c.from,c.to),!0):!1}const qy=Dg(jl,fv);function Qy(u,n="option"){return i=>{let c=i.state.field(jl,!1);if(!c||!c.open||c.open.disabled||Date.now()-c.open.timestamp<i.state.facet(tu).interactionDelay)return!1;let d=1,m;n=="page"&&(m=lh(i,c.open.tooltip))&&(d=Math.max(2,Math.floor(m.dom.offsetHeight/m.dom.querySelector("li").offsetHeight)-1));let{length:C}=c.open.options,O=c.open.selected>-1?c.open.selected+d*(u?1:-1):u?0:C-1;return O<0?O=n=="page"?0:C-1:O>=C&&(O=n=="page"?C-1:0),i.dispatch({effects:Jy.of(O)}),!0}}const wC=u=>{let n=u.state.field(jl,!1);return u.state.readOnly||!n||!n.open||n.open.selected<0||n.open.disabled||Date.now()-n.open.timestamp<u.state.facet(tu).interactionDelay?!1:fv(u,n.open.options[n.open.selected])},EC=u=>u.state.field(jl,!1)?(u.dispatch({effects:Yy.of(!0)}),!0):!1,SC=u=>{let n=u.state.field(jl,!1);return!n||!n.active.some(i=>i.state!=0)?!1:(u.dispatch({effects:Qm.of(null)}),!0)};class AC{constructor(n,i){this.active=n,this.context=i,this.time=Date.now(),this.updates=[],this.done=void 0}}const eb=50,tb=1e3,T1=fr.fromClass(class{constructor(u){this.view=u,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let n of u.state.field(jl).active)n.state==1&&this.startQuery(n)}update(u){let n=u.state.field(jl),i=u.state.facet(tu);if(!u.selectionSet&&!u.docChanged&&u.startState.field(jl)==n)return;let c=u.transactions.some(m=>{let C=lx(m,i);return C&8||(m.selection||m.docChanged)&&!(C&3)});for(let m=0;m<this.running.length;m++){let C=this.running[m];if(c||C.context.abortOnDocChange&&u.docChanged||C.updates.length+u.transactions.length>eb&&Date.now()-C.time>tb){for(let O of C.context.abortListeners)try{O()}catch(G){al(this.view.state,G)}C.context.abortListeners=null,this.running.splice(m--,1)}else C.updates.push(...u.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),u.transactions.some(m=>m.effects.some(C=>C.is(Yy)))&&(this.pendingStart=!0);let d=this.pendingStart?50:i.activateOnTypingDelay;if(this.debounceUpdate=n.active.some(m=>m.state==1&&!this.running.some(C=>C.active.source==m.source))?setTimeout(()=>this.startUpdate(),d):-1,this.composing!=0)for(let m of u.transactions)m.isUserEvent("input.type")?this.composing=2:this.composing==2&&m.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:u}=this.view,n=u.field(jl);for(let i of n.active)i.state==1&&!this.running.some(c=>c.active.source==i.source)&&this.startQuery(i)}startQuery(u){let{state:n}=this.view,i=Lc(n),c=new Rg(n,i,u.explicitPos==i,this.view),d=new AC(u,c);this.running.push(d),Promise.resolve(u.source(c)).then(m=>{d.context.aborted||(d.done=m||null,this.scheduleAccept())},m=>{this.view.dispatch({effects:Qm.of(null)}),al(this.view.state,m)})}scheduleAccept(){this.running.every(u=>u.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(tu).updateSyncTime))}accept(){var u;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let n=[],i=this.view.state.facet(tu);for(let c=0;c<this.running.length;c++){let d=this.running[c];if(d.done===void 0)continue;if(this.running.splice(c--,1),d.done){let C=new e0(d.active.source,d.active.explicitPos,d.done,d.done.from,(u=d.done.to)!==null&&u!==void 0?u:Lc(d.updates.length?d.updates[0].startState:this.view.state));for(let O of d.updates)C=C.update(O,i);if(C.hasResult()){n.push(C);continue}}let m=this.view.state.field(jl).active.find(C=>C.source==d.active.source);if(m&&m.state==1)if(d.done==null){let C=new vf(d.active.source,0);for(let O of d.updates)C=C.update(O,i);C.state!=1&&n.push(C)}else this.startQuery(m)}n.length&&this.view.dispatch({effects:cx.of(n)})}},{eventHandlers:{blur(u){let n=this.view.state.field(jl,!1);if(n&&n.tooltip&&this.view.state.facet(tu).closeOnBlur){let i=n.open&&lh(this.view,n.open.tooltip);(!i||!i.dom.contains(u.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Qm.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Yy.of(!1)}),20),this.composing=0}}}),ux=typeof navigator=="object"&&/Win/.test(navigator.platform),MC=Lr.highest(ss.domEventHandlers({keydown(u,n){let i=n.state.field(jl,!1);if(!i||!i.open||i.open.disabled||i.open.selected<0||u.key.length>1||u.ctrlKey&&!(ux&&u.altKey)||u.metaKey)return!1;let c=i.open.options[i.open.selected],d=i.active.find(C=>C.source==c.source),m=c.completion.commitCharacters||d.result.commitCharacters;return m&&m.indexOf(u.key)>-1&&fv(n,c),!1}})),fx=ss.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class Bl{constructor(n,i,c,d){this.field=n,this.line=i,this.from=c,this.to=d}}class nb{constructor(n,i,c){this.field=n,this.from=i,this.to=c}map(n){let i=n.mapPos(this.from,-1,MapMode.TrackDel),c=n.mapPos(this.to,1,MapMode.TrackDel);return i==null||c==null?null:new nb(this.field,i,c)}}class P1{constructor(n,i){this.lines=n,this.fieldPositions=i}instantiate(n,i){let c=[],d=[i],m=n.doc.lineAt(i),C=/^\s*/.exec(m.text)[0];for(let G of this.lines){if(c.length){let oe=C,le=/^\t*/.exec(G)[0].length;for(let ke=0;ke<le;ke++)oe+=n.facet(indentUnit);d.push(i+oe.length-le),G=oe+G.slice(le)}c.push(G),i+=G.length+1}let O=this.fieldPositions.map(G=>new nb(G.field,d[G.line]+G.from,d[G.line]+G.to));return{text:c,ranges:O}}static parse(n){let i=[],c=[],d=[],m;for(let C of n.split(/\r\n?|\n/)){for(;m=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(C);){let O=m[1]?+m[1]:null,G=m[2]||m[3]||"",oe=-1,le=G.replace(/\\[{}]/g,ke=>ke[1]);for(let ke=0;ke<i.length;ke++)(O!=null?i[ke].seq==O:le&&i[ke].name==le)&&(oe=ke);if(oe<0){let ke=0;for(;ke<i.length&&(O==null||i[ke].seq!=null&&i[ke].seq<O);)ke++;i.splice(ke,0,{seq:O,name:le}),oe=ke;for(let lt of d)lt.field>=oe&&lt.field++}d.push(new Bl(oe,c.length,m.index,m.index+le.length)),C=C.slice(0,m.index)+G+C.slice(m.index+m[0].length)}C=C.replace(/\\([{}])/g,(O,G,oe)=>{for(let le of d)le.line==c.length&&le.from>oe&&(le.from--,le.to--);return G}),c.push(C)}return new P1(c,d)}}let Sw=Pn.widget({widget:new class extends wn{toDOM(){let u=document.createElement("span");return u.className="cm-snippetFieldPosition",u}ignoreEvent(){return!1}}}),TC=Pn.mark({class:"cm-snippetField"});class t0{constructor(n,i){this.ranges=n,this.active=i,this.deco=Pn.set(n.map(c=>(c.from==c.to?Sw:TC).range(c.from,c.to)))}map(n){let i=[];for(let c of this.ranges){let d=c.map(n);if(!d)return null;i.push(d)}return new t0(i,this.active)}selectionInsideField(n){return n.ranges.every(i=>this.ranges.some(c=>c.field==this.active&&c.from<=i.from&&c.to>=i.to))}}const rb=it.define({map(u,n){return u&&u.map(n)}}),O1=it.define(),Cp=dr.define({create(){return null},update(u,n){for(let i of n.effects){if(i.is(rb))return i.value;if(i.is(O1)&&u)return new t0(u.ranges,i.value)}return u&&n.docChanged&&(u=u.map(n.changes)),u&&n.selection&&!u.selectionInsideField(n.selection)&&(u=null),u},provide:u=>ss.decorations.from(u,n=>n?n.deco:Pn.none)});function hv(u,n){return $e.create(u.filter(i=>i.field==n).map(i=>$e.range(i.from,i.to)))}function PC(u){let n=P1.parse(u);return(i,c,d,m)=>{let{text:C,ranges:O}=n.instantiate(i.state,d),G={changes:{from:d,to:m,insert:Text.of(C)},scrollIntoView:!0,annotations:c?[yc.of(c),Transaction.userEvent.of("input.complete")]:void 0};if(O.length&&(G.selection=hv(O,0)),O.some(oe=>oe.field>0)){let oe=new t0(O,0),le=G.effects=[rb.of(oe)];i.state.field(Cp,!1)===void 0&&le.push(StateEffect.appendConfig.of([Cp,IC,RC,fx]))}i.dispatch(i.state.update(G))}}function hx(u){return({state:n,dispatch:i})=>{let c=n.field(Cp,!1);if(!c||u<0&&c.active==0)return!1;let d=c.active+u,m=u>0&&!c.ranges.some(C=>C.field==d+u);return i(n.update({selection:hv(c.ranges,d),effects:rb.of(m?null:new t0(c.ranges,d)),scrollIntoView:!0})),!0}}const ib=({state:u,dispatch:n})=>u.field(Cp,!1)?(n(u.update({effects:rb.of(null)})),!0):!1,Tu=hx(1),OC=hx(-1);function Aw(u){let n=u.field(Cp,!1);return!!(n&&n.ranges.some(i=>i.field==n.active+1))}function Mw(u){let n=u.field(Cp,!1);return!!(n&&n.active>0)}const dv=[{key:"Tab",run:Tu,shift:OC},{key:"Escape",run:ib}],ob=tn.define({combine(u){return u.length?u[0]:dv}}),IC=Lr.highest(If.compute([ob],u=>u.facet(ob)));function n0(u,n){return Object.assign(Object.assign({},n),{apply:PC(u)})}const RC=ss.domEventHandlers({mousedown(u,n){let i=n.state.field(Cp,!1),c;if(!i||(c=n.posAtCoords({x:u.clientX,y:u.clientY}))==null)return!1;let d=i.ranges.find(m=>m.from<=c&&m.to>=c);return!d||d.field==i.active?!1:(n.dispatch({selection:hv(i.ranges,d.field),effects:rb.of(i.ranges.some(m=>m.field>d.field)?new t0(i.ranges,d.field):null),scrollIntoView:!0}),!0)}});function Tw(u){let n=u.replace(/[\]\-\\]/g,"\\$&");try{return new RegExp(`[\\p{Alphabetic}\\p{Number}_${n}]+`,"ug")}catch(i){return new RegExp(`[w${n}]`,"g")}}function I1(u,n){return new RegExp(n(u.source),u.unicode?"u":"")}const R1=null;function dx(u){return R1[u]||(R1[u]=new WeakMap)}function DC(u,n,i,c,d){for(let m=u.iterLines(),C=0;!m.next().done;){let{value:O}=m,G;for(n.lastIndex=0;G=n.exec(O);)if(!c[G[0]]&&C+G.index!=d&&(i.push({type:"text",label:G[0]}),c[G[0]]=!0,i.length>=2e3))return;C+=O.length+1}}function NC(u,n,i,c,d){let m=u.length>=1e3,C=m&&n.get(u);if(C)return C;let O=[],G=Object.create(null);if(u.children){let oe=0;for(let le of u.children){if(le.length>=1e3)for(let ke of NC(le,n,i,c-oe,d-oe))G[ke.label]||(G[ke.label]=!0,O.push(ke));else DC(le,i,O,G,d-oe);oe+=le.length+1}}else DC(u,i,O,G,d);return m&&O.length<2e3&&n.set(u,O),O}const Pw=u=>{let n=u.state.languageDataAt("wordChars",u.pos).join(""),i=Tw(n),c=u.matchBefore(I1(i,C=>C+"$"));if(!c&&!u.explicit)return null;let d=c?c.from:u.pos,m=NC(u.state.doc,dx(n),i,5e4,d);return{from:d,options:m,validFor:I1(i,C=>"^"+C)}},sb={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Td=it.define({map(u,n){let i=n.mapPos(u,-1,ft.TrackAfter);return i==null?void 0:i}}),Gf=new class extends Kn{};Gf.startSide=1,Gf.endSide=-1;const Ku=dr.define({create(){return Tr.empty},update(u,n){if(u=u.map(n.changes),n.selection){let i=n.state.doc.lineAt(n.selection.main.head);u=u.update({filter:c=>c>=i.from&&c<=i.to})}for(let i of n.effects)i.is(Td)&&(u=u.update({add:[Gf.range(i.value,i.value+1)]}));return u}});function _C(){return[LC,Ku]}const fc="()[]{}<>";function px(u){for(let n=0;n<fc.length;n+=2)if(fc.charCodeAt(n)==u)return fc.charAt(n+1);return tt(u<128?u:u+1)}function gx(u,n){return u.languageDataAt("closeBrackets",n)[0]||sb}const kC=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),LC=ss.inputHandler.of((u,n,i,c)=>{if((kC?u.composing:u.compositionStarted)||u.state.readOnly)return!1;let d=u.state.selection.main;if(c.length>2||c.length==2&&ut(U(c,0))==1||n!=d.from||i!=d.to)return!1;let m=Pd(u.state,c);return m?(u.dispatch(m),!0):!1}),qh=[{key:"Backspace",run:({state:u,dispatch:n})=>{if(u.readOnly)return!1;let c=gx(u,u.selection.main.head).brackets||sb.brackets,d=null,m=u.changeByRange(C=>{if(C.empty){let O=ab(u.doc,C.head);for(let G of c)if(G==O&&Od(u.doc,C.head)==px(U(G,0)))return{changes:{from:C.head-G.length,to:C.head+G.length},range:$e.cursor(C.head-G.length)}}return{range:d=C}});return d||n(u.update(m,{scrollIntoView:!0,userEvent:"delete.backward"})),!d}}];function Pd(u,n){let i=gx(u,u.selection.main.head),c=i.brackets||sb.brackets;for(let d of c){let m=px(U(d,0));if(n==d)return m==d?FC(u,d,c.indexOf(d+d+d)>-1,i):pv(u,d,m,i.before||sb.before);if(n==m&&gu(u,u.selection.main.from))return D1(u,d,m)}return null}function gu(u,n){let i=!1;return u.field(Ku).between(0,u.doc.length,c=>{c==n&&(i=!0)}),i}function Od(u,n){let i=u.sliceString(n,n+2);return i.slice(0,ut(U(i,0)))}function ab(u,n){let i=u.sliceString(n-2,n);return ut(U(i,0))==i.length?i:i.slice(1)}function pv(u,n,i,c){let d=null,m=u.changeByRange(C=>{if(!C.empty)return{changes:[{insert:n,from:C.from},{insert:i,from:C.to}],effects:Td.of(C.to+n.length),range:$e.range(C.anchor+n.length,C.head+n.length)};let O=Od(u.doc,C.head);return!O||/\s/.test(O)||c.indexOf(O)>-1?{changes:{insert:n+i,from:C.head},effects:Td.of(C.head+n.length),range:$e.cursor(C.head+n.length)}:{range:d=C}});return d?null:u.update(m,{scrollIntoView:!0,userEvent:"input.type"})}function D1(u,n,i){let c=null,d=u.changeByRange(m=>m.empty&&Od(u.doc,m.head)==i?{changes:{from:m.head,to:m.head+i.length,insert:i},range:$e.cursor(m.head+i.length)}:c={range:m});return c?null:u.update(d,{scrollIntoView:!0,userEvent:"input.type"})}function FC(u,n,i,c){let d=c.stringPrefixes||sb.stringPrefixes,m=null,C=u.changeByRange(O=>{if(!O.empty)return{changes:[{insert:n,from:O.from},{insert:n,from:O.to}],effects:Td.of(O.to+n.length),range:$e.range(O.anchor+n.length,O.head+n.length)};let G=O.head,oe=Od(u.doc,G),le;if(oe==n){if(N1(u,G))return{changes:{insert:n+n,from:G},effects:Td.of(G+n.length),range:$e.cursor(G+n.length)};if(gu(u,G)){let lt=i&&u.sliceDoc(G,G+n.length*3)==n+n+n?n+n+n:n;return{changes:{from:G,to:G+lt.length,insert:lt},range:$e.cursor(G+lt.length)}}}else{if(i&&u.sliceDoc(G-2*n.length,G)==n+n&&(le=mx(u,G-2*n.length,d))>-1&&N1(u,le))return{changes:{insert:n+n+n+n,from:G},effects:Td.of(G+n.length),range:$e.cursor(G+n.length)};if(u.charCategorizer(G)(oe)!=Ut.Word&&mx(u,G,d)>-1&&!lb(u,G,n,d))return{changes:{insert:n+n,from:G},effects:Td.of(G+n.length),range:$e.cursor(G+n.length)}}return{range:m=O}});return m?null:u.update(C,{scrollIntoView:!0,userEvent:"input.type"})}function N1(u,n){let i=Hl(u).resolveInner(n+1);return i.parent&&i.from==n}function lb(u,n,i,c){let d=Hl(u).resolveInner(n,-1),m=c.reduce((C,O)=>Math.max(C,O.length),0);for(let C=0;C<5;C++){let O=u.sliceDoc(d.from,Math.min(d.to,d.from+i.length+m)),G=O.indexOf(i);if(!G||G>-1&&c.indexOf(O.slice(0,G))>-1){let le=d.firstChild;for(;le&&le.from==d.from&&le.to-le.from>i.length+G;){if(u.sliceDoc(le.to-i.length,le.to)==i)return!1;le=le.firstChild}return!0}let oe=d.to==n&&d.parent;if(!oe)break;d=oe}return!1}function mx(u,n,i){let c=u.charCategorizer(n);if(c(u.sliceDoc(n-1,n))!=Ut.Word)return n;for(let d of i){let m=n-d.length;if(u.sliceDoc(m,n)==d&&c(u.sliceDoc(m-1,m))!=Ut.Word)return m}return-1}function _1(u={}){return[MC,jl,tu.of(u),T1,fs,fx]}const Ng=[{key:"Ctrl-Space",run:EC},{key:"Escape",run:SC},{key:"ArrowDown",run:Qy(!0)},{key:"ArrowUp",run:Qy(!1)},{key:"PageDown",run:Qy(!0,"page")},{key:"PageUp",run:Qy(!1,"page")},{key:"Enter",run:wC}],fs=Lr.highest(If.computeN([tu],u=>u.facet(tu).defaultKeymap?[Ng]:[]));function Ow(u){let n=u.field(jl,!1);return n&&n.active.some(i=>i.state==1)?"pending":n&&n.active.some(i=>i.state!=0)?"active":null}const vx=new WeakMap;function yx(u){var n;let i=(n=u.field(jl,!1))===null||n===void 0?void 0:n.open;if(!i||i.disabled)return[];let c=vx.get(i.options);return c||vx.set(i.options,c=i.options.map(d=>d.completion)),c}function Ep(u){var n;let i=(n=u.field(jl,!1))===null||n===void 0?void 0:n.open;return i&&!i.disabled&&i.selected>=0?i.options[i.selected].completion:null}function k1(u){var n;let i=(n=u.field(jl,!1))===null||n===void 0?void 0:n.open;return i&&!i.disabled&&i.selected>=0?i.selected:null}function BC(u){return Jy.of(u)}class L1{constructor(n,i,c){this.from=n,this.to=i,this.diagnostic=c}}class Qh{constructor(n,i,c){this.diagnostics=n,this.panel=i,this.selected=c}static init(n,i,c){let d=n,m=c.facet(Rd).markerFilter;m&&(d=m(d,c));let C=Pn.set(d.map(O=>O.from==O.to||O.from==O.to-1&&c.doc.lineAt(O.from).to==O.from?Pn.widget({widget:new Ch(O),diagnostic:O}).range(O.from):Pn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+O.severity+(O.markClass?" "+O.markClass:"")},diagnostic:O}).range(O.from,O.to)),!0);return new Qh(C,i,Vf(C))}}function Vf(u,n=null,i=0){let c=null;return u.between(i,1e9,(d,m,{spec:C})=>{if(!(n&&C.diagnostic!=n))return c=new L1(d,m,C.diagnostic),!1}),c}function Id(u,n){let i=n.pos,c=n.end||i,d=u.state.facet(Rd).hideOn(u,i,c);if(d!=null)return d;let m=u.startState.doc.lineAt(n.pos);return!!(u.effects.some(C=>C.is(nu))||u.changes.touchesRange(m.from,Math.max(m.to,c)))}function _g(u,n){return u.field(Sc,!1)?n:n.concat(it.appendConfig.of(Fg))}function ja(u,n){return{effects:_g(u,[nu.of(n)])}}const nu=it.define(),gv=it.define(),F1=it.define(),Sc=dr.define({create(){return new Qh(Pn.none,null,null)},update(u,n){if(n.docChanged&&u.diagnostics.size){let i=u.diagnostics.map(n.changes),c=null,d=u.panel;if(u.selected){let m=n.changes.mapPos(u.selected.from,1);c=Vf(i,u.selected.diagnostic,m)||Vf(i,null,m)}!i.size&&d&&n.state.facet(Rd).autoPanel&&(d=null),u=new Qh(i,d,c)}for(let i of n.effects)if(i.is(nu)){let c=n.state.facet(Rd).autoPanel?i.value.length?ed.open:null:u.panel;u=Qh.init(i.value,c,n.state)}else i.is(gv)?u=new Qh(u.diagnostics,i.value?ed.open:null,u.selected):i.is(F1)&&(u=new Qh(u.diagnostics,u.panel,i.value));return u},provide:u=>[Zh.from(u,n=>n.panel),ss.decorations.from(u,n=>n.diagnostics)]});function mv(u){let n=u.field(Sc,!1);return n?n.diagnostics.size:0}const Sp=Pn.mark({class:"cm-lintRange cm-lintRange-active"});function hc(u,n,i){let{diagnostics:c}=u.state.field(Sc),d=[],m=2e8,C=0;c.between(n-(i<0?1:0),n+(i>0?1:0),(G,oe,{spec:le})=>{n>=G&&n<=oe&&(G==oe||(n>G||i>0)&&(n<oe||i<0))&&(d.push(le.diagnostic),m=Math.min(G,m),C=Math.max(oe,C))});let O=u.state.facet(Rd).tooltipFilter;return O&&(d=O(d,u.state)),d.length?{pos:m,end:C,above:u.state.doc.lineAt(m).to<C,create(){return{dom:vv(u,d)}}}:null}function vv(u,n){return Nl("ul",{class:"cm-tooltip-lint"},n.map(i=>i0(u,i,!1)))}const cb=u=>{let n=u.state.field(Sc,!1);(!n||!n.panel)&&u.dispatch({effects:_g(u.state,[gv.of(!0)])});let i=ep(u,ed.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0},yv=u=>{let n=u.state.field(Sc,!1);return!n||!n.panel?!1:(u.dispatch({effects:gv.of(!1)}),!0)},Pu=u=>{let n=u.state.field(Sc,!1);if(!n)return!1;let i=u.state.selection.main,c=n.diagnostics.iter(i.to+1);return!c.value&&(c=n.diagnostics.iter(0),!c.value||c.from==i.from&&c.to==i.to)?!1:(u.dispatch({selection:{anchor:c.from,head:c.to},scrollIntoView:!0}),!0)},ub=u=>{let{state:n}=u,i=n.field(Sc,!1);if(!i)return!1;let c=n.selection.main,d,m,C,O;return i.diagnostics.between(0,n.doc.length,(G,oe)=>{oe<c.to&&(d==null||d<G)&&(d=G,m=oe),(C==null||G>C)&&(C=G,O=oe)}),C==null||d==null&&C==c.from?!1:(u.dispatch({selection:{anchor:d!=null?d:C,head:m!=null?m:O},scrollIntoView:!0}),!0)},fb=[{key:"Mod-Shift-m",run:cb,preventDefault:!0},{key:"F8",run:Pu}],r0=null,Rd=tn.define({combine(u){return Object.assign({sources:u.map(n=>n.source).filter(n=>n!=null)},Hn(u.map(n=>n.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(n,i)=>n?i?c=>n(c)||i(c):n:i}))}});function zC(u,n={}){return[Rd.of({source:u,config:n}),r0,Fg]}function B1(u){let n=u.plugin(r0);n&&n.force()}function bv(u){let n=[];if(u)e:for(let{name:i}of u){for(let c=0;c<i.length;c++){let d=i[c];if(/[a-zA-Z]/.test(d)&&!n.some(m=>m.toLowerCase()==d.toLowerCase())){n.push(d);continue e}}n.push("")}return n}function i0(u,n,i){var c;let d=i?bv(n.actions):[];return Nl("li",{class:"cm-diagnostic cm-diagnostic-"+n.severity},Nl("span",{class:"cm-diagnosticText"},n.renderMessage?n.renderMessage(u):n.message),(c=n.actions)===null||c===void 0?void 0:c.map((m,C)=>{let O=!1,G=lt=>{if(lt.preventDefault(),O)return;O=!0;let Kt=Vf(u.state.field(Sc).diagnostics,n);Kt&&m.apply(u,Kt.from,Kt.to)},{name:oe}=m,le=d[C]?oe.indexOf(d[C]):-1,ke=le<0?oe:[oe.slice(0,le),Nl("u",oe.slice(le,le+1)),oe.slice(le+1)];return Nl("button",{type:"button",class:"cm-diagnosticAction",onclick:G,onmousedown:G,"aria-label":` Action: ${oe}${le<0?"":` (access key "${d[C]})"`}.`},ke)}),n.source&&Nl("div",{class:"cm-diagnosticSource"},n.source))}class Ch extends wn{constructor(n){super(),this.diagnostic=n}eq(n){return n.diagnostic==this.diagnostic}toDOM(){return Nl("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class xv{constructor(n,i){this.diagnostic=i,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=i0(n,i,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class ed{constructor(n){this.view=n,this.items=[];let i=d=>{if(d.keyCode==27)yv(this.view),this.view.focus();else if(d.keyCode==38||d.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(d.keyCode==40||d.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(d.keyCode==36)this.moveSelection(0);else if(d.keyCode==35)this.moveSelection(this.items.length-1);else if(d.keyCode==13)this.view.focus();else if(d.keyCode>=65&&d.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:m}=this.items[this.selectedIndex],C=bv(m.actions);for(let O=0;O<C.length;O++)if(C[O].toUpperCase().charCodeAt(0)==d.keyCode){let G=Vf(this.view.state.field(Sc).diagnostics,m);G&&m.actions[O].apply(n,G.from,G.to)}}else return;d.preventDefault()},c=d=>{for(let m=0;m<this.items.length;m++)this.items[m].dom.contains(d.target)&&this.moveSelection(m)};this.list=Nl("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:i,onclick:c}),this.dom=Nl("div",{class:"cm-panel-lint"},this.list,Nl("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>yv(this.view)},"\xD7")),this.update()}get selectedIndex(){let n=this.view.state.field(Sc).selected;if(!n)return-1;for(let i=0;i<this.items.length;i++)if(this.items[i].diagnostic==n.diagnostic)return i;return-1}update(){let{diagnostics:n,selected:i}=this.view.state.field(Sc),c=0,d=!1,m=null;for(n.between(0,this.view.state.doc.length,(C,O,{spec:G})=>{let oe=-1,le;for(let ke=c;ke<this.items.length;ke++)if(this.items[ke].diagnostic==G.diagnostic){oe=ke;break}oe<0?(le=new xv(this.view,G.diagnostic),this.items.splice(c,0,le),d=!0):(le=this.items[oe],oe>c&&(this.items.splice(c,oe-c),d=!0)),i&&le.diagnostic==i.diagnostic?le.dom.hasAttribute("aria-selected")||(le.dom.setAttribute("aria-selected","true"),m=le):le.dom.hasAttribute("aria-selected")&&le.dom.removeAttribute("aria-selected"),c++});c<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)d=!0,this.items.pop();this.items.length==0&&(this.items.push(new xv(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),d=!0),m?(this.list.setAttribute("aria-activedescendant",m.id),this.view.requestMeasure({key:this,read:()=>({sel:m.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:C,panel:O})=>{let G=O.height/this.list.offsetHeight;C.top<O.top?this.list.scrollTop-=(O.top-C.top)/G:C.bottom>O.bottom&&(this.list.scrollTop+=(C.bottom-O.bottom)/G)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),d&&this.sync()}sync(){let n=this.list.firstChild;function i(){let c=n;n=c.nextSibling,c.remove()}for(let c of this.items)if(c.dom.parentNode==this.list){for(;n!=c.dom;)i();n=c.dom.nextSibling}else this.list.insertBefore(c.dom,n);for(;n;)i()}moveSelection(n){if(this.selectedIndex<0)return;let i=this.view.state.field(Sc),c=Vf(i.diagnostics,this.items[n].diagnostic);c&&this.view.dispatch({selection:{anchor:c.from,head:c.to},scrollIntoView:!0,effects:F1.of(c)})}static open(n){return new ed(n)}}function o0(u,n='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${n}>${encodeURIComponent(u)}</svg>')`}function Ap(u){return o0(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${u}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const z1=ss.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Ap("#d11")},".cm-lintRange-warning":{backgroundImage:Ap("orange")},".cm-lintRange-info":{backgroundImage:Ap("#999")},".cm-lintRange-hint":{backgroundImage:Ap("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function kg(u){return u=="error"?4:u=="warning"?3:u=="info"?2:1}class Lg extends zu{constructor(n){super(),this.diagnostics=n,this.severity=n.reduce((i,c)=>kg(i)<kg(c.severity)?c.severity:i,"hint")}toDOM(n){let i=document.createElement("div");i.className="cm-lint-marker cm-lint-marker-"+this.severity;let c=this.diagnostics,d=n.state.facet(Mp).tooltipFilter;return d&&(c=d(c,n.state)),c.length&&(i.onmouseover=()=>db(n,i,c)),i}}function hb(u,n){let i=c=>{let d=n.getBoundingClientRect();if(!(c.clientX>d.left-10&&c.clientX<d.right+10&&c.clientY>d.top-10&&c.clientY<d.bottom+10)){for(let m=c.target;m;m=m.parentNode)if(m.nodeType==1&&m.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",i),u.state.field(Fa)&&u.dispatch({effects:wv.of(null)})}};window.addEventListener("mousemove",i)}function db(u,n,i){function c(){let C=u.elementAtHeight(n.getBoundingClientRect().top+5-u.documentTop);u.coordsAtPos(C.from)&&u.dispatch({effects:wv.of({pos:C.from,above:!1,create(){return{dom:vv(u,i),getCoords:()=>n.getBoundingClientRect()}}})}),n.onmouseout=n.onmousemove=null,hb(u,n)}let{hoverTime:d}=u.state.facet(Mp),m=setTimeout(c,d);n.onmouseout=()=>{clearTimeout(m),n.onmouseout=n.onmousemove=null},n.onmousemove=()=>{clearTimeout(m),m=setTimeout(c,d)}}function G1(u,n){let i=Object.create(null);for(let d of n){let m=u.lineAt(d.from);(i[m.from]||(i[m.from]=[])).push(d)}let c=[];for(let d in i)c.push(new Lg(i[d]).range(+d));return Tr.of(c,!0)}const V1=Uh({class:"cm-gutter-lint",markers:u=>u.state.field(Cv)}),Cv=dr.define({create(){return Tr.empty},update(u,n){u=u.map(n.changes);let i=n.state.facet(Mp).markerFilter;for(let c of n.effects)if(c.is(nu)){let d=c.value;i&&(d=i(d||[],n.state)),u=G1(n.state.doc,d.slice(0))}return u}}),wv=it.define(),Fa=dr.define({create(){return null},update(u,n){return u&&n.docChanged&&(u=Id(n,u)?null:Object.assign(Object.assign({},u),{pos:n.changes.mapPos(u.pos)})),n.effects.reduce((i,c)=>c.is(wv)?c.value:i,u)},provide:u=>uu.from(u)}),Z1=ss.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:o0('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:o0('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:o0('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),Fg=[Sc,ss.decorations.compute([Sc],u=>{let{selected:n,panel:i}=u.field(Sc);return!n||!i||n.from==n.to?Pn.none:Pn.set([Sp.range(n.from,n.to)])}),hl(hc,{hideOn:Id}),z1],Mp=tn.define({combine(u){return Hn(u,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function pb(u={}){return[Mp.of(u),Cv,V1,Z1,Fa]}function GC(u,n){let i=u.field(Sc,!1);if(i&&i.diagnostics.size)for(let c=RangeSet.iter([i.diagnostics]);c.value;c.next())n(c.value.spec.diagnostic,c.from,c.to)}var bx=function(n){n===void 0&&(n={});var{crosshairCursor:i=!1}=n,c=[];n.closeBracketsKeymap!==!1&&(c=c.concat(qh)),n.defaultKeymap!==!1&&(c=c.concat(iC)),n.searchKeymap!==!1&&(c=c.concat(rx)),n.historyKeymap!==!1&&(c=c.concat(yg)),n.foldKeymap!==!1&&(c=c.concat(cy)),n.completionKeymap!==!1&&(c=c.concat(Ng)),n.lintKeymap!==!1&&(c=c.concat(fb));var d=[];return n.lineNumbers!==!1&&d.push(Vr()),n.highlightActiveLineGutter!==!1&&d.push(Vi()),n.highlightSpecialChars!==!1&&d.push(cu()),n.history!==!1&&d.push(Yb()),n.foldGutter!==!1&&d.push(fy()),n.drawSelection!==!1&&d.push(Kp()),n.dropCursor!==!1&&d.push(M0()),n.allowMultipleSelections!==!1&&d.push(xn.allowMultipleSelections.of(!0)),n.indentOnInput!==!1&&d.push(iy()),n.syntaxHighlighting!==!1&&d.push(z0(bm,{fallback:!0})),n.bracketMatching!==!1&&d.push(gy()),n.closeBrackets!==!1&&d.push(_C()),n.autocompletion!==!1&&d.push(_1()),n.rectangularSelection!==!1&&d.push(qd()),i!==!1&&d.push($c()),n.highlightActiveLine!==!1&&d.push(xu()),n.highlightSelectionMatches!==!1&&d.push(aC()),n.tabSize&&typeof n.tabSize=="number"&&d.push(mm.of(" ".repeat(n.tabSize))),d.concat([If.of(c.flat())]).filter(Boolean)},Iw=function(n){n===void 0&&(n={});var i=[];n.defaultKeymap!==!1&&(i=i.concat(defaultKeymap)),n.historyKeymap!==!1&&(i=i.concat(historyKeymap));var c=[];return n.highlightSpecialChars!==!1&&c.push(highlightSpecialChars()),n.history!==!1&&c.push(history()),n.drawSelection!==!1&&c.push(drawSelection()),n.syntaxHighlighting!==!1&&c.push(syntaxHighlighting(defaultHighlightStyle,{fallback:!0})),c.concat([keymap.of(i.flat())]).filter(Boolean)};const xx="#e5c07b",gb="#e06c75",mb="#56b6c2",Tp="#ffffff",Zf="#abb2bf",Ev="#7d8799",Sv="#61afef",s0="#98c379",a0="#d19a66",Cx="#c678dd",wx="#21252b",Av="#2c313a",vb="#282c34",Pp="#353a42",Op="#3E4451",Bg="#528bff",yb={chalky:xx,coral:gb,cyan:mb,invalid:Tp,ivory:Zf,stone:Ev,malibu:Sv,sage:s0,whiskey:a0,violet:Cx,darkBackground:wx,highlightBackground:Av,background:vb,tooltipBackground:Pp,selection:Op,cursor:Bg},bb=ss.theme({"&":{color:Zf,backgroundColor:vb},".cm-content":{caretColor:Bg},".cm-cursor, .cm-dropCursor":{borderLeftColor:Bg},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Op},".cm-panels":{backgroundColor:wx,color:Zf},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:vb,color:Ev,border:"none"},".cm-activeLineGutter":{backgroundColor:Av},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Pp},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Pp,borderBottomColor:Pp},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Av,color:Zf}}},{dark:!0}),Ex=xl.define([{tag:ro.keyword,color:Cx},{tag:[ro.name,ro.deleted,ro.character,ro.propertyName,ro.macroName],color:gb},{tag:[ro.function(ro.variableName),ro.labelName],color:Sv},{tag:[ro.color,ro.constant(ro.name),ro.standard(ro.name)],color:a0},{tag:[ro.definition(ro.name),ro.separator],color:Zf},{tag:[ro.typeName,ro.className,ro.number,ro.changed,ro.annotation,ro.modifier,ro.self,ro.namespace],color:xx},{tag:[ro.operator,ro.operatorKeyword,ro.url,ro.escape,ro.regexp,ro.link,ro.special(ro.string)],color:mb},{tag:[ro.meta,ro.comment],color:Ev},{tag:ro.strong,fontWeight:"bold"},{tag:ro.emphasis,fontStyle:"italic"},{tag:ro.strikethrough,textDecoration:"line-through"},{tag:ro.link,color:Ev,textDecoration:"underline"},{tag:ro.heading,fontWeight:"bold",color:gb},{tag:[ro.atom,ro.bool,ro.special(ro.variableName)],color:a0},{tag:[ro.processingInstruction,ro.string,ro.inserted],color:s0},{tag:ro.invalid,color:Tp}]),Sx=[bb,z0(Ex)];var wa=ss.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Ip=function(n){n===void 0&&(n={});var{indentWithTab:i=!0,editable:c=!0,readOnly:d=!1,theme:m="light",placeholder:C="",basicSetup:O=!0}=n,G=[];switch(i&&G.unshift(If.of([z2])),O&&(typeof O=="boolean"?G.unshift(bx()):G.unshift(bx(O))),C&&G.unshift(Fh(C)),m){case"light":G.push(wa);break;case"dark":G.push(Sx);break;case"none":break;default:G.push(m);break}return c===!1&&G.push(ss.editable.of(!1)),d&&G.push(xn.readOnly.of(!0)),[...G]},j1=u=>({line:u.state.doc.lineAt(u.state.selection.main.from),lineCount:u.state.doc.lines,lineBreak:u.state.lineBreak,length:u.state.doc.length,readOnly:u.state.readOnly,tabSize:u.state.tabSize,selection:u.state.selection,selectionAsSingle:u.state.selection.asSingle().main,ranges:u.state.selection.ranges,selectionCode:u.state.sliceDoc(u.state.selection.main.from,u.state.selection.main.to),selections:u.state.selection.ranges.map(n=>u.state.sliceDoc(n.from,n.to)),selectedText:u.state.selection.ranges.some(n=>!n.empty)}),Rp=_n.define(),xb=[];function l0(u){var{value:n,selection:i,onChange:c,onStatistics:d,onCreateEditor:m,onUpdate:C,extensions:O=xb,autoFocus:G,theme:oe="light",height:le=null,minHeight:ke=null,maxHeight:lt=null,width:Kt=null,minWidth:Wn=null,maxWidth:Br=null,placeholder:ti="",editable:gi=!0,readOnly:wo=!1,indentWithTab:ns=!0,basicSetup:Xo=!0,root:Po,initialState:hs}=u,[ki,co]=(0,j.useState)(),[Us,pa]=(0,j.useState)(),[fa,qs]=(0,j.useState)(),Qa=ss.theme({"&":{height:le,minHeight:ke,maxHeight:lt,width:Kt,minWidth:Wn,maxWidth:Br},"& .cm-scroller":{height:"100% !important"}}),Da=ss.updateListener.of(ul=>{if(ul.docChanged&&typeof c=="function"&&!ul.transactions.some(Jl=>Jl.annotation(Rp))){var Ba=ul.state.doc,bc=Ba.toString();c(bc,ul)}d&&d(j1(ul))}),yl=Ip({theme:oe,editable:gi,readOnly:wo,placeholder:ti,indentWithTab:ns,basicSetup:Xo}),Yl=[Da,Qa,...yl];return C&&typeof C=="function"&&Yl.push(ss.updateListener.of(C)),Yl=Yl.concat(O),(0,j.useEffect)(()=>{if(ki&&!fa){var ul={doc:n,selection:i,extensions:Yl},Ba=hs?xn.fromJSON(hs.json,ul,hs.fields):xn.create(ul);if(qs(Ba),!Us){var bc=new ss({state:Ba,parent:ki,root:Po});pa(bc),m&&m(bc,Ba)}}return()=>{Us&&(qs(void 0),pa(void 0))}},[ki,fa]),(0,j.useEffect)(()=>co(u.container),[u.container]),(0,j.useEffect)(()=>()=>{Us&&(Us.destroy(),pa(void 0))},[Us]),(0,j.useEffect)(()=>{G&&Us&&Us.focus()},[G,Us]),(0,j.useEffect)(()=>{Us&&Us.dispatch({effects:it.reconfigure.of(Yl)})},[oe,O,le,ke,lt,Kt,Wn,Br,ti,gi,wo,ns,Xo,c,C]),(0,j.useEffect)(()=>{if(n!==void 0){var ul=Us?Us.state.doc.toString():"";Us&&n!==ul&&Us.dispatch({changes:{from:0,to:ul.length,insert:n||""},annotations:[Rp.of(!0)]})}},[n,Us]),{state:fa,setState:qs,view:Us,setView:pa,container:ki,setContainer:co}}var U1=w(85893),Dd=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],Fn=(0,j.forwardRef)((u,n)=>{var{className:i,value:c="",selection:d,extensions:m=[],onChange:C,onStatistics:O,onCreateEditor:G,onUpdate:oe,autoFocus:le,theme:ke="light",height:lt,minHeight:Kt,maxHeight:Wn,width:Br,minWidth:ti,maxWidth:gi,basicSetup:wo,placeholder:ns,indentWithTab:Xo,editable:Po,readOnly:hs,root:ki,initialState:co}=u,Us=(0,M.Z)(u,Dd),pa=(0,j.useRef)(null),{state:fa,view:qs,container:Qa}=l0({container:pa.current,root:ki,value:c,autoFocus:le,theme:ke,height:lt,minHeight:Kt,maxHeight:Wn,width:Br,minWidth:ti,maxWidth:gi,basicSetup:wo,placeholder:ns,indentWithTab:Xo,editable:Po,readOnly:hs,selection:d,onChange:C,onStatistics:O,onCreateEditor:G,onUpdate:oe,extensions:m,initialState:co});if((0,j.useImperativeHandle)(n,()=>({editor:pa.current,state:fa,view:qs}),[pa,Qa,fa,qs]),typeof c!="string")throw new Error("value must be typeof string but got "+typeof c);var Da=typeof ke=="string"?"cm-theme-"+ke:"cm-theme";return(0,U1.jsx)("div",(0,B.Z)({ref:pa,className:""+Da+(i?" "+i:"")},Us))});Fn.displayName="CodeMirror";var Ao=Fn},49612:function(Ne,te,w){"use strict";var B,M=w(28785).default,j=w(48374).default,R=w(29777).default,k=w(25457).default,F=w(33862).default,H=w(25098).default,I=w(31996).default,ee=w(26037).default,ae=w(80363).default,ue=w(9783).default,re=w(74978).default,ge=w(5574).default,Ze=w(64599).default,fe=w(15009).default,Ce=w(52677).default,Ae=w(12444).default,Pe=w(72004).default;B={value:!0};var ie=w(44091),at=w(75823),mt=" ".repeat(2),vt=" ".repeat(4);function Vt(){return U(this)}function U(Y){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=ne.maxRows,S=W===void 0?15:W,A=ne.maxColumns,L=A===void 0?10:A,ce=ne.maxNumSize,ve=ce===void 0?8:ce,pe=ne.padMinus,Ee=pe===void 0?"auto":pe;return"".concat(Y.constructor.name,` {
`).concat(mt,`[
`).concat(vt).concat(tt(Y,S,L,ve,Ee),`
`).concat(mt,`]
`).concat(mt,"rows: ").concat(Y.rows,`
`).concat(mt,"columns: ").concat(Y.columns,`
}`)}function tt(Y,ne,W,S,A){var L=Y.rows,ce=Y.columns,ve=Math.min(L,ne),pe=Math.min(ce,W),Ee=[];if(A==="auto"){A=!1;e:for(var ht=0;ht<ve;ht++)for(var ct=0;ct<pe;ct++)if(Y.get(ht,ct)<0){A=!0;break e}}for(var nt=0;nt<ve;nt++){for(var Rt=[],kt=0;kt<pe;kt++)Rt.push(ut(Y.get(nt,kt),S,A));Ee.push("".concat(Rt.join(" ")))}return pe!==ce&&(Ee[Ee.length-1]+=" ... ".concat(ce-W," more columns")),ve!==L&&Ee.push("... ".concat(L-ne," more rows")),Ee.join(`
`.concat(vt))}function ut(Y,ne,W){return(Y>=0&&W?" ".concat(vn(Y,ne-1)):vn(Y,ne)).padEnd(ne)}function vn(Y,ne){var W=Y.toString();if(W.length<=ne)return W;var S=Y.toFixed(ne);if(S.length>ne&&(S=Y.toFixed(Math.max(0,ne-(S.length-ne)))),S.length<=ne&&!S.startsWith("0.000")&&!S.startsWith("-0.000"))return S;var A=Y.toExponential(ne);return A.length>ne&&(A=Y.toExponential(Math.max(0,ne-(A.length-ne)))),A.slice(0)}function ft(Y,ne){Y.prototype.add=function(S){return typeof S=="number"?this.addS(S):this.addM(S)},Y.prototype.addS=function(S){for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)+S);return this},Y.prototype.addM=function(S){if(S=ne.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)+S.get(A,L));return this},Y.add=function(S,A){var L=new ne(S);return L.add(A)},Y.prototype.sub=function(S){return typeof S=="number"?this.subS(S):this.subM(S)},Y.prototype.subS=function(S){for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)-S);return this},Y.prototype.subM=function(S){if(S=ne.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)-S.get(A,L));return this},Y.sub=function(S,A){var L=new ne(S);return L.sub(A)},Y.prototype.subtract=Y.prototype.sub,Y.prototype.subtractS=Y.prototype.subS,Y.prototype.subtractM=Y.prototype.subM,Y.subtract=Y.sub,Y.prototype.mul=function(S){return typeof S=="number"?this.mulS(S):this.mulM(S)},Y.prototype.mulS=function(S){for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)*S);return this},Y.prototype.mulM=function(S){if(S=ne.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)*S.get(A,L));return this},Y.mul=function(S,A){var L=new ne(S);return L.mul(A)},Y.prototype.multiply=Y.prototype.mul,Y.prototype.multiplyS=Y.prototype.mulS,Y.prototype.multiplyM=Y.prototype.mulM,Y.multiply=Y.mul,Y.prototype.div=function(S){return typeof S=="number"?this.divS(S):this.divM(S)},Y.prototype.divS=function(S){for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)/S);return this},Y.prototype.divM=function(S){if(S=ne.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)/S.get(A,L));return this},Y.div=function(S,A){var L=new ne(S);return L.div(A)},Y.prototype.divide=Y.prototype.div,Y.prototype.divideS=Y.prototype.divS,Y.prototype.divideM=Y.prototype.divM,Y.divide=Y.div,Y.prototype.mod=function(S){return typeof S=="number"?this.modS(S):this.modM(S)},Y.prototype.modS=function(S){for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)%S);return this},Y.prototype.modM=function(S){if(S=ne.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)%S.get(A,L));return this},Y.mod=function(S,A){var L=new ne(S);return L.mod(A)},Y.prototype.modulus=Y.prototype.mod,Y.prototype.modulusS=Y.prototype.modS,Y.prototype.modulusM=Y.prototype.modM,Y.modulus=Y.mod,Y.prototype.and=function(S){return typeof S=="number"?this.andS(S):this.andM(S)},Y.prototype.andS=function(S){for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)&S);return this},Y.prototype.andM=function(S){if(S=ne.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)&S.get(A,L));return this},Y.and=function(S,A){var L=new ne(S);return L.and(A)},Y.prototype.or=function(S){return typeof S=="number"?this.orS(S):this.orM(S)},Y.prototype.orS=function(S){for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)|S);return this},Y.prototype.orM=function(S){if(S=ne.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)|S.get(A,L));return this},Y.or=function(S,A){var L=new ne(S);return L.or(A)},Y.prototype.xor=function(S){return typeof S=="number"?this.xorS(S):this.xorM(S)},Y.prototype.xorS=function(S){for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)^S);return this},Y.prototype.xorM=function(S){if(S=ne.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)^S.get(A,L));return this},Y.xor=function(S,A){var L=new ne(S);return L.xor(A)},Y.prototype.leftShift=function(S){return typeof S=="number"?this.leftShiftS(S):this.leftShiftM(S)},Y.prototype.leftShiftS=function(S){for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)<<S);return this},Y.prototype.leftShiftM=function(S){if(S=ne.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)<<S.get(A,L));return this},Y.leftShift=function(S,A){var L=new ne(S);return L.leftShift(A)},Y.prototype.signPropagatingRightShift=function(S){return typeof S=="number"?this.signPropagatingRightShiftS(S):this.signPropagatingRightShiftM(S)},Y.prototype.signPropagatingRightShiftS=function(S){for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)>>S);return this},Y.prototype.signPropagatingRightShiftM=function(S){if(S=ne.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)>>S.get(A,L));return this},Y.signPropagatingRightShift=function(S,A){var L=new ne(S);return L.signPropagatingRightShift(A)},Y.prototype.rightShift=function(S){return typeof S=="number"?this.rightShiftS(S):this.rightShiftM(S)},Y.prototype.rightShiftS=function(S){for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)>>>S);return this},Y.prototype.rightShiftM=function(S){if(S=ne.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)>>>S.get(A,L));return this},Y.rightShift=function(S,A){var L=new ne(S);return L.rightShift(A)},Y.prototype.zeroFillRightShift=Y.prototype.rightShift,Y.prototype.zeroFillRightShiftS=Y.prototype.rightShiftS,Y.prototype.zeroFillRightShiftM=Y.prototype.rightShiftM,Y.zeroFillRightShift=Y.rightShift,Y.prototype.not=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,~this.get(S,A));return this},Y.not=function(S){var A=new ne(S);return A.not()},Y.prototype.abs=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.abs(this.get(S,A)));return this},Y.abs=function(S){var A=new ne(S);return A.abs()},Y.prototype.acos=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.acos(this.get(S,A)));return this},Y.acos=function(S){var A=new ne(S);return A.acos()},Y.prototype.acosh=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.acosh(this.get(S,A)));return this},Y.acosh=function(S){var A=new ne(S);return A.acosh()},Y.prototype.asin=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.asin(this.get(S,A)));return this},Y.asin=function(S){var A=new ne(S);return A.asin()},Y.prototype.asinh=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.asinh(this.get(S,A)));return this},Y.asinh=function(S){var A=new ne(S);return A.asinh()},Y.prototype.atan=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.atan(this.get(S,A)));return this},Y.atan=function(S){var A=new ne(S);return A.atan()},Y.prototype.atanh=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.atanh(this.get(S,A)));return this},Y.atanh=function(S){var A=new ne(S);return A.atanh()},Y.prototype.cbrt=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.cbrt(this.get(S,A)));return this},Y.cbrt=function(S){var A=new ne(S);return A.cbrt()},Y.prototype.ceil=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.ceil(this.get(S,A)));return this},Y.ceil=function(S){var A=new ne(S);return A.ceil()},Y.prototype.clz32=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.clz32(this.get(S,A)));return this},Y.clz32=function(S){var A=new ne(S);return A.clz32()},Y.prototype.cos=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.cos(this.get(S,A)));return this},Y.cos=function(S){var A=new ne(S);return A.cos()},Y.prototype.cosh=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.cosh(this.get(S,A)));return this},Y.cosh=function(S){var A=new ne(S);return A.cosh()},Y.prototype.exp=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.exp(this.get(S,A)));return this},Y.exp=function(S){var A=new ne(S);return A.exp()},Y.prototype.expm1=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.expm1(this.get(S,A)));return this},Y.expm1=function(S){var A=new ne(S);return A.expm1()},Y.prototype.floor=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.floor(this.get(S,A)));return this},Y.floor=function(S){var A=new ne(S);return A.floor()},Y.prototype.fround=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.fround(this.get(S,A)));return this},Y.fround=function(S){var A=new ne(S);return A.fround()},Y.prototype.log=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.log(this.get(S,A)));return this},Y.log=function(S){var A=new ne(S);return A.log()},Y.prototype.log1p=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.log1p(this.get(S,A)));return this},Y.log1p=function(S){var A=new ne(S);return A.log1p()},Y.prototype.log10=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.log10(this.get(S,A)));return this},Y.log10=function(S){var A=new ne(S);return A.log10()},Y.prototype.log2=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.log2(this.get(S,A)));return this},Y.log2=function(S){var A=new ne(S);return A.log2()},Y.prototype.round=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.round(this.get(S,A)));return this},Y.round=function(S){var A=new ne(S);return A.round()},Y.prototype.sign=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.sign(this.get(S,A)));return this},Y.sign=function(S){var A=new ne(S);return A.sign()},Y.prototype.sin=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.sin(this.get(S,A)));return this},Y.sin=function(S){var A=new ne(S);return A.sin()},Y.prototype.sinh=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.sinh(this.get(S,A)));return this},Y.sinh=function(S){var A=new ne(S);return A.sinh()},Y.prototype.sqrt=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.sqrt(this.get(S,A)));return this},Y.sqrt=function(S){var A=new ne(S);return A.sqrt()},Y.prototype.tan=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.tan(this.get(S,A)));return this},Y.tan=function(S){var A=new ne(S);return A.tan()},Y.prototype.tanh=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.tanh(this.get(S,A)));return this},Y.tanh=function(S){var A=new ne(S);return A.tanh()},Y.prototype.trunc=function(){for(var S=0;S<this.rows;S++)for(var A=0;A<this.columns;A++)this.set(S,A,Math.trunc(this.get(S,A)));return this},Y.trunc=function(S){var A=new ne(S);return A.trunc()},Y.pow=function(S,A){var L=new ne(S);return L.pow(A)},Y.prototype.pow=function(S){return typeof S=="number"?this.powS(S):this.powM(S)},Y.prototype.powS=function(S){for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,Math.pow(this.get(A,L),S));return this},Y.prototype.powM=function(S){if(S=ne.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,Math.pow(this.get(A,L),S.get(A,L)));return this}}function Ye(Y,ne,W){var S=W?Y.rows:Y.rows-1;if(ne<0||ne>S)throw new RangeError("Row index out of range")}function Cn(Y,ne,W){var S=W?Y.columns:Y.columns-1;if(ne<0||ne>S)throw new RangeError("Column index out of range")}function cn(Y,ne){if(ne.to1DArray&&(ne=ne.to1DArray()),ne.length!==Y.columns)throw new RangeError("vector size must be the same as the number of columns");return ne}function mr(Y,ne){if(ne.to1DArray&&(ne=ne.to1DArray()),ne.length!==Y.rows)throw new RangeError("vector size must be the same as the number of rows");return ne}function pr(Y,ne){if(!ie.isAnyArray(ne))throw new TypeError("row indices must be an array");for(var W=0;W<ne.length;W++)if(ne[W]<0||ne[W]>=Y.rows)throw new RangeError("row indices are out of range")}function hr(Y,ne){if(!ie.isAnyArray(ne))throw new TypeError("column indices must be an array");for(var W=0;W<ne.length;W++)if(ne[W]<0||ne[W]>=Y.columns)throw new RangeError("column indices are out of range")}function Mt(Y,ne,W,S,A){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Et("startRow",ne),Et("endRow",W),Et("startColumn",S),Et("endColumn",A),ne>W||S>A||ne<0||ne>=Y.rows||W<0||W>=Y.rows||S<0||S>=Y.columns||A<0||A>=Y.columns)throw new RangeError("Submatrix indices are out of range")}function yt(Y){for(var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=[],S=0;S<Y;S++)W.push(ne);return W}function Et(Y,ne){if(typeof ne!="number")throw new TypeError("".concat(Y," must be a number"))}function $e(Y){if(Y.isEmpty())throw new Error("Empty matrix has no elements to index")}function $t(Y){for(var ne=yt(Y.rows),W=0;W<Y.rows;++W)for(var S=0;S<Y.columns;++S)ne[W]+=Y.get(W,S);return ne}function Jt(Y){for(var ne=yt(Y.columns),W=0;W<Y.rows;++W)for(var S=0;S<Y.columns;++S)ne[S]+=Y.get(W,S);return ne}function tn(Y){for(var ne=0,W=0;W<Y.rows;W++)for(var S=0;S<Y.columns;S++)ne+=Y.get(W,S);return ne}function ir(Y){for(var ne=yt(Y.rows,1),W=0;W<Y.rows;++W)for(var S=0;S<Y.columns;++S)ne[W]*=Y.get(W,S);return ne}function Or(Y){for(var ne=yt(Y.columns,1),W=0;W<Y.rows;++W)for(var S=0;S<Y.columns;++S)ne[S]*=Y.get(W,S);return ne}function Fr(Y){for(var ne=1,W=0;W<Y.rows;W++)for(var S=0;S<Y.columns;S++)ne*=Y.get(W,S);return ne}function lr(Y,ne,W){for(var S=Y.rows,A=Y.columns,L=[],ce=0;ce<S;ce++){for(var ve=0,pe=0,Ee=0,ht=0;ht<A;ht++)Ee=Y.get(ce,ht)-W[ce],ve+=Ee,pe+=Ee*Ee;ne?L.push((pe-ve*ve/A)/(A-1)):L.push((pe-ve*ve/A)/A)}return L}function Yr(Y,ne,W){for(var S=Y.rows,A=Y.columns,L=[],ce=0;ce<A;ce++){for(var ve=0,pe=0,Ee=0,ht=0;ht<S;ht++)Ee=Y.get(ht,ce)-W[ce],ve+=Ee,pe+=Ee*Ee;ne?L.push((pe-ve*ve/S)/(S-1)):L.push((pe-ve*ve/S)/S)}return L}function jn(Y,ne,W){for(var S=Y.rows,A=Y.columns,L=S*A,ce=0,ve=0,pe=0,Ee=0;Ee<S;Ee++)for(var ht=0;ht<A;ht++)pe=Y.get(Ee,ht)-W,ce+=pe,ve+=pe*pe;return ne?(ve-ce*ce/L)/(L-1):(ve-ce*ce/L)/L}function dr(Y,ne){for(var W=0;W<Y.rows;W++)for(var S=0;S<Y.columns;S++)Y.set(W,S,Y.get(W,S)-ne[W])}function br(Y,ne){for(var W=0;W<Y.rows;W++)for(var S=0;S<Y.columns;S++)Y.set(W,S,Y.get(W,S)-ne[S])}function nr(Y,ne){for(var W=0;W<Y.rows;W++)for(var S=0;S<Y.columns;S++)Y.set(W,S,Y.get(W,S)-ne)}function Lr(Y){for(var ne=[],W=0;W<Y.rows;W++){for(var S=0,A=0;A<Y.columns;A++)S+=Math.pow(Y.get(W,A),2)/(Y.columns-1);ne.push(Math.sqrt(S))}return ne}function Ji(Y,ne){for(var W=0;W<Y.rows;W++)for(var S=0;S<Y.columns;S++)Y.set(W,S,Y.get(W,S)/ne[W])}function Ci(Y){for(var ne=[],W=0;W<Y.columns;W++){for(var S=0,A=0;A<Y.rows;A++)S+=Math.pow(Y.get(A,W),2)/(Y.rows-1);ne.push(Math.sqrt(S))}return ne}function $i(Y,ne){for(var W=0;W<Y.rows;W++)for(var S=0;S<Y.columns;S++)Y.set(W,S,Y.get(W,S)/ne[S])}function It(Y){for(var ne=Y.size-1,W=0,S=0;S<Y.columns;S++)for(var A=0;A<Y.rows;A++)W+=Math.pow(Y.get(A,S),2)/ne;return Math.sqrt(W)}function Q(Y,ne){for(var W=0;W<Y.rows;W++)for(var S=0;S<Y.columns;S++)Y.set(W,S,Y.get(W,S)/ne)}var we=function(Y){function ne(){Ae(this,ne)}return Pe(ne,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(S){if(typeof S!="function")throw new TypeError("callback must be a function");for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)S.call(this,A,L);return this}},{key:"to1DArray",value:function(){for(var S=[],A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)S.push(this.get(A,L));return S}},{key:"to2DArray",value:function(){for(var S=[],A=0;A<this.rows;A++){S.push([]);for(var L=0;L<this.columns;L++)S[A].push(this.get(A,L))}return S}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var S=0;S<this.rows;S++)for(var A=0;A<=S;A++)if(this.get(S,A)!==this.get(A,S))return!1;return!0}return!1}},{key:"isDistance",value:function(){if(!this.isSymmetric())return!1;for(var S=0;S<this.rows;S++)if(this.get(S,S)!==0)return!1;return!0}},{key:"isEchelonForm",value:function(){for(var S=0,A=0,L=-1,ce=!0,ve=!1;S<this.rows&&ce;){for(A=0,ve=!1;A<this.columns&&ve===!1;)this.get(S,A)===0?A++:this.get(S,A)===1&&A>L?(ve=!0,L=A):(ce=!1,ve=!0);S++}return ce}},{key:"isReducedEchelonForm",value:function(){for(var S=0,A=0,L=-1,ce=!0,ve=!1;S<this.rows&&ce;){for(A=0,ve=!1;A<this.columns&&ve===!1;)this.get(S,A)===0?A++:this.get(S,A)===1&&A>L?(ve=!0,L=A):(ce=!1,ve=!0);for(var pe=A+1;pe<this.rows;pe++)this.get(S,pe)!==0&&(ce=!1);S++}return ce}},{key:"echelonForm",value:function(){for(var S=this.clone(),A=0,L=0;A<S.rows&&L<S.columns;){for(var ce=A,ve=A;ve<S.rows;ve++)S.get(ve,L)>S.get(ce,L)&&(ce=ve);if(S.get(ce,L)===0)L++;else{S.swapRows(A,ce);for(var pe=S.get(A,L),Ee=L;Ee<S.columns;Ee++)S.set(A,Ee,S.get(A,Ee)/pe);for(var ht=A+1;ht<S.rows;ht++){var ct=S.get(ht,L)/S.get(A,L);S.set(ht,L,0);for(var nt=L+1;nt<S.columns;nt++)S.set(ht,nt,S.get(ht,nt)-S.get(A,nt)*ct)}A++,L++}}return S}},{key:"reducedEchelonForm",value:function(){for(var S=this.echelonForm(),A=S.columns,L=S.rows,ce=L-1;ce>=0;)if(S.maxRow(ce)===0)ce--;else{for(var ve=0,pe=!1;ve<L&&pe===!1;)S.get(ce,ve)===1?pe=!0:ve++;for(var Ee=0;Ee<ce;Ee++)for(var ht=S.get(Ee,ve),ct=ve;ct<A;ct++){var nt=S.get(Ee,ct)-ht*S.get(ce,ct);S.set(Ee,ct,nt)}ce--}return S}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ce(S)!=="object")throw new TypeError("options must be an object");var A=S.rows,L=A===void 0?1:A,ce=S.columns,ve=ce===void 0?1:ce;if(!Number.isInteger(L)||L<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(ve)||ve<=0)throw new TypeError("columns must be a positive integer");for(var pe=new Je(this.rows*L,this.columns*ve),Ee=0;Ee<L;Ee++)for(var ht=0;ht<ve;ht++)pe.setSubMatrix(this,this.rows*Ee,this.columns*ht);return pe}},{key:"fill",value:function(S){for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,S);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(S){Ye(this,S);for(var A=[],L=0;L<this.columns;L++)A.push(this.get(S,L));return A}},{key:"getRowVector",value:function(S){return Je.rowVector(this.getRow(S))}},{key:"setRow",value:function(S,A){Ye(this,S),A=cn(this,A);for(var L=0;L<this.columns;L++)this.set(S,L,A[L]);return this}},{key:"swapRows",value:function(S,A){Ye(this,S),Ye(this,A);for(var L=0;L<this.columns;L++){var ce=this.get(S,L);this.set(S,L,this.get(A,L)),this.set(A,L,ce)}return this}},{key:"getColumn",value:function(S){Cn(this,S);for(var A=[],L=0;L<this.rows;L++)A.push(this.get(L,S));return A}},{key:"getColumnVector",value:function(S){return Je.columnVector(this.getColumn(S))}},{key:"setColumn",value:function(S,A){Cn(this,S),A=mr(this,A);for(var L=0;L<this.rows;L++)this.set(L,S,A[L]);return this}},{key:"swapColumns",value:function(S,A){Cn(this,S),Cn(this,A);for(var L=0;L<this.rows;L++){var ce=this.get(L,S);this.set(L,S,this.get(L,A)),this.set(L,A,ce)}return this}},{key:"addRowVector",value:function(S){S=cn(this,S);for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)+S[L]);return this}},{key:"subRowVector",value:function(S){S=cn(this,S);for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)-S[L]);return this}},{key:"mulRowVector",value:function(S){S=cn(this,S);for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)*S[L]);return this}},{key:"divRowVector",value:function(S){S=cn(this,S);for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)/S[L]);return this}},{key:"addColumnVector",value:function(S){S=mr(this,S);for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)+S[A]);return this}},{key:"subColumnVector",value:function(S){S=mr(this,S);for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)-S[A]);return this}},{key:"mulColumnVector",value:function(S){S=mr(this,S);for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)*S[A]);return this}},{key:"divColumnVector",value:function(S){S=mr(this,S);for(var A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)this.set(A,L,this.get(A,L)/S[A]);return this}},{key:"mulRow",value:function(S,A){Ye(this,S);for(var L=0;L<this.columns;L++)this.set(S,L,this.get(S,L)*A);return this}},{key:"mulColumn",value:function(S,A){Cn(this,S);for(var L=0;L<this.rows;L++)this.set(L,S,this.get(L,S)*A);return this}},{key:"max",value:function(S){if(this.isEmpty())return NaN;switch(S){case"row":{for(var A=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),L=0;L<this.rows;L++)for(var ce=0;ce<this.columns;ce++)this.get(L,ce)>A[L]&&(A[L]=this.get(L,ce));return A}case"column":{for(var ve=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),pe=0;pe<this.rows;pe++)for(var Ee=0;Ee<this.columns;Ee++)this.get(pe,Ee)>ve[Ee]&&(ve[Ee]=this.get(pe,Ee));return ve}case void 0:{for(var ht=this.get(0,0),ct=0;ct<this.rows;ct++)for(var nt=0;nt<this.columns;nt++)this.get(ct,nt)>ht&&(ht=this.get(ct,nt));return ht}default:throw new Error("invalid option: ".concat(S))}}},{key:"maxIndex",value:function(){$e(this);for(var S=this.get(0,0),A=[0,0],L=0;L<this.rows;L++)for(var ce=0;ce<this.columns;ce++)this.get(L,ce)>S&&(S=this.get(L,ce),A[0]=L,A[1]=ce);return A}},{key:"min",value:function(S){if(this.isEmpty())return NaN;switch(S){case"row":{for(var A=new Array(this.rows).fill(Number.POSITIVE_INFINITY),L=0;L<this.rows;L++)for(var ce=0;ce<this.columns;ce++)this.get(L,ce)<A[L]&&(A[L]=this.get(L,ce));return A}case"column":{for(var ve=new Array(this.columns).fill(Number.POSITIVE_INFINITY),pe=0;pe<this.rows;pe++)for(var Ee=0;Ee<this.columns;Ee++)this.get(pe,Ee)<ve[Ee]&&(ve[Ee]=this.get(pe,Ee));return ve}case void 0:{for(var ht=this.get(0,0),ct=0;ct<this.rows;ct++)for(var nt=0;nt<this.columns;nt++)this.get(ct,nt)<ht&&(ht=this.get(ct,nt));return ht}default:throw new Error("invalid option: ".concat(S))}}},{key:"minIndex",value:function(){$e(this);for(var S=this.get(0,0),A=[0,0],L=0;L<this.rows;L++)for(var ce=0;ce<this.columns;ce++)this.get(L,ce)<S&&(S=this.get(L,ce),A[0]=L,A[1]=ce);return A}},{key:"maxRow",value:function(S){if(Ye(this,S),this.isEmpty())return NaN;for(var A=this.get(S,0),L=1;L<this.columns;L++)this.get(S,L)>A&&(A=this.get(S,L));return A}},{key:"maxRowIndex",value:function(S){Ye(this,S),$e(this);for(var A=this.get(S,0),L=[S,0],ce=1;ce<this.columns;ce++)this.get(S,ce)>A&&(A=this.get(S,ce),L[1]=ce);return L}},{key:"minRow",value:function(S){if(Ye(this,S),this.isEmpty())return NaN;for(var A=this.get(S,0),L=1;L<this.columns;L++)this.get(S,L)<A&&(A=this.get(S,L));return A}},{key:"minRowIndex",value:function(S){Ye(this,S),$e(this);for(var A=this.get(S,0),L=[S,0],ce=1;ce<this.columns;ce++)this.get(S,ce)<A&&(A=this.get(S,ce),L[1]=ce);return L}},{key:"maxColumn",value:function(S){if(Cn(this,S),this.isEmpty())return NaN;for(var A=this.get(0,S),L=1;L<this.rows;L++)this.get(L,S)>A&&(A=this.get(L,S));return A}},{key:"maxColumnIndex",value:function(S){Cn(this,S),$e(this);for(var A=this.get(0,S),L=[0,S],ce=1;ce<this.rows;ce++)this.get(ce,S)>A&&(A=this.get(ce,S),L[0]=ce);return L}},{key:"minColumn",value:function(S){if(Cn(this,S),this.isEmpty())return NaN;for(var A=this.get(0,S),L=1;L<this.rows;L++)this.get(L,S)<A&&(A=this.get(L,S));return A}},{key:"minColumnIndex",value:function(S){Cn(this,S),$e(this);for(var A=this.get(0,S),L=[0,S],ce=1;ce<this.rows;ce++)this.get(ce,S)<A&&(A=this.get(ce,S),L[0]=ce);return L}},{key:"diag",value:function(){for(var S=Math.min(this.rows,this.columns),A=[],L=0;L<S;L++)A.push(this.get(L,L));return A}},{key:"norm",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius";switch(S){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError("unknown norm type: ".concat(S))}}},{key:"cumulativeSum",value:function(){for(var S=0,A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)S+=this.get(A,L),this.set(A,L,S);return this}},{key:"dot",value:function(S){ne.isMatrix(S)&&(S=S.to1DArray());var A=this.to1DArray();if(A.length!==S.length)throw new RangeError("vectors do not have the same size");for(var L=0,ce=0;ce<A.length;ce++)L+=A[ce]*S[ce];return L}},{key:"mmul",value:function(S){S=Je.checkMatrix(S);for(var A=this.rows,L=this.columns,ce=S.columns,ve=new Je(A,ce),pe=new Float64Array(L),Ee=0;Ee<ce;Ee++){for(var ht=0;ht<L;ht++)pe[ht]=S.get(ht,Ee);for(var ct=0;ct<A;ct++){for(var nt=0,Rt=0;Rt<L;Rt++)nt+=this.get(ct,Rt)*pe[Rt];ve.set(ct,Ee,nt)}}return ve}},{key:"strassen2x2",value:function(S){S=Je.checkMatrix(S);var A=new Je(2,2),L=this.get(0,0),ce=S.get(0,0),ve=this.get(0,1),pe=S.get(0,1),Ee=this.get(1,0),ht=S.get(1,0),ct=this.get(1,1),nt=S.get(1,1),Rt=(L+ct)*(ce+nt),kt=(Ee+ct)*ce,bn=L*(pe-nt),pn=ct*(ht-ce),Lt=(L+ve)*nt,Bt=(Ee-L)*(ce+pe),In=(ve-ct)*(ht+nt),Zn=Rt+pn-Lt+In,sr=bn+Lt,ni=kt+pn,mi=Rt-kt+bn+Bt;return A.set(0,0,Zn),A.set(0,1,sr),A.set(1,0,ni),A.set(1,1,mi),A}},{key:"strassen3x3",value:function(S){S=Je.checkMatrix(S);var A=new Je(3,3),L=this.get(0,0),ce=this.get(0,1),ve=this.get(0,2),pe=this.get(1,0),Ee=this.get(1,1),ht=this.get(1,2),ct=this.get(2,0),nt=this.get(2,1),Rt=this.get(2,2),kt=S.get(0,0),bn=S.get(0,1),pn=S.get(0,2),Lt=S.get(1,0),Bt=S.get(1,1),In=S.get(1,2),Zn=S.get(2,0),sr=S.get(2,1),ni=S.get(2,2),mi=(L+ce+ve-pe-Ee-nt-Rt)*Bt,Rr=(L-pe)*(-bn+Bt),ai=Ee*(-kt+bn+Lt-Bt-In-Zn+ni),li=(-L+pe+Ee)*(kt-bn+Bt),wi=(pe+Ee)*(-kt+bn),Ct=L*kt,Zt=(-L+ct+nt)*(kt-pn+In),Pr=(-L+ct)*(pn-In),Gn=(ct+nt)*(-kt+pn),vr=(L+ce+ve-Ee-ht-ct-nt)*In,$r=nt*(-kt+pn+Lt-Bt-In-Zn+sr),At=(-ve+nt+Rt)*(Bt+Zn-sr),Be=(ve-Rt)*(Bt-sr),Re=ve*Zn,Fe=(nt+Rt)*(-Zn+sr),Se=(-ve+Ee+ht)*(In+Zn-ni),wt=(ve-ht)*(In-ni),Gt=(Ee+ht)*(-Zn+ni),Sn=ce*Lt,Un=ht*sr,_e=pe*pn,We=ct*bn,Ve=Rt*ni,Dt=Ct+Re+Sn,An=mi+li+wi+Ct+At+Re+Fe,on=Ct+Zt+Gn+vr+Re+Se+Gt,et=Rr+ai+li+Ct+Re+Se+wt,Tn=Rr+li+wi+Ct+Un,zt=Re+Se+wt+Gt+_e,Xn=Ct+Zt+Pr+$r+At+Be+Re,cr=At+Be+Re+Fe+We,ii=Ct+Zt+Pr+Gn+Ve;return A.set(0,0,Dt),A.set(0,1,An),A.set(0,2,on),A.set(1,0,et),A.set(1,1,Tn),A.set(1,2,zt),A.set(2,0,Xn),A.set(2,1,cr),A.set(2,2,ii),A}},{key:"mmulStrassen",value:function(S){S=Je.checkMatrix(S);var A=this.clone(),L=A.rows,ce=A.columns,ve=S.rows,pe=S.columns;ce!==ve&&console.warn("Multiplying ".concat(L," x ").concat(ce," and ").concat(ve," x ").concat(pe," matrix: dimensions do not match."));function Ee(Rt,kt,bn){var pn=Rt.rows,Lt=Rt.columns;if(pn===kt&&Lt===bn)return Rt;var Bt=ne.zeros(kt,bn);return Bt=Bt.setSubMatrix(Rt,0,0),Bt}var ht=Math.max(L,ve),ct=Math.max(ce,pe);A=Ee(A,ht,ct),S=Ee(S,ht,ct);function nt(Rt,kt,bn,pn){if(bn<=512||pn<=512)return Rt.mmul(kt);bn%2===1&&pn%2===1?(Rt=Ee(Rt,bn+1,pn+1),kt=Ee(kt,bn+1,pn+1)):bn%2===1?(Rt=Ee(Rt,bn+1,pn),kt=Ee(kt,bn+1,pn)):pn%2===1&&(Rt=Ee(Rt,bn,pn+1),kt=Ee(kt,bn,pn+1));var Lt=parseInt(Rt.rows/2,10),Bt=parseInt(Rt.columns/2,10),In=Rt.subMatrix(0,Lt-1,0,Bt-1),Zn=kt.subMatrix(0,Lt-1,0,Bt-1),sr=Rt.subMatrix(0,Lt-1,Bt,Rt.columns-1),ni=kt.subMatrix(0,Lt-1,Bt,kt.columns-1),mi=Rt.subMatrix(Lt,Rt.rows-1,0,Bt-1),Rr=kt.subMatrix(Lt,kt.rows-1,0,Bt-1),ai=Rt.subMatrix(Lt,Rt.rows-1,Bt,Rt.columns-1),li=kt.subMatrix(Lt,kt.rows-1,Bt,kt.columns-1),wi=nt(ne.add(In,ai),ne.add(Zn,li),Lt,Bt),Ct=nt(ne.add(mi,ai),Zn,Lt,Bt),Zt=nt(In,ne.sub(ni,li),Lt,Bt),Pr=nt(ai,ne.sub(Rr,Zn),Lt,Bt),Gn=nt(ne.add(In,sr),li,Lt,Bt),vr=nt(ne.sub(mi,In),ne.add(Zn,ni),Lt,Bt),$r=nt(ne.sub(sr,ai),ne.add(Rr,li),Lt,Bt),At=ne.add(wi,Pr);At.sub(Gn),At.add($r);var Be=ne.add(Zt,Gn),Re=ne.add(Ct,Pr),Fe=ne.sub(wi,Ct);Fe.add(Zt),Fe.add(vr);var Se=ne.zeros(2*At.rows,2*At.columns);return Se=Se.setSubMatrix(At,0,0),Se=Se.setSubMatrix(Be,At.rows,0),Se=Se.setSubMatrix(Re,0,At.columns),Se=Se.setSubMatrix(Fe,At.rows,At.columns),Se.subMatrix(0,bn-1,0,pn-1)}return nt(A,S,ht,ct)}},{key:"scaleRows",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ce(S)!=="object")throw new TypeError("options must be an object");var A=S.min,L=A===void 0?0:A,ce=S.max,ve=ce===void 0?1:ce;if(!Number.isFinite(L))throw new TypeError("min must be a number");if(!Number.isFinite(ve))throw new TypeError("max must be a number");if(L>=ve)throw new RangeError("min must be smaller than max");for(var pe=new Je(this.rows,this.columns),Ee=0;Ee<this.rows;Ee++){var ht=this.getRow(Ee);ht.length>0&&at(ht,{min:L,max:ve,output:ht}),pe.setRow(Ee,ht)}return pe}},{key:"scaleColumns",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ce(S)!=="object")throw new TypeError("options must be an object");var A=S.min,L=A===void 0?0:A,ce=S.max,ve=ce===void 0?1:ce;if(!Number.isFinite(L))throw new TypeError("min must be a number");if(!Number.isFinite(ve))throw new TypeError("max must be a number");if(L>=ve)throw new RangeError("min must be smaller than max");for(var pe=new Je(this.rows,this.columns),Ee=0;Ee<this.columns;Ee++){var ht=this.getColumn(Ee);ht.length&&at(ht,{min:L,max:ve,output:ht}),pe.setColumn(Ee,ht)}return pe}},{key:"flipRows",value:function(){for(var S=Math.ceil(this.columns/2),A=0;A<this.rows;A++)for(var L=0;L<S;L++){var ce=this.get(A,L),ve=this.get(A,this.columns-1-L);this.set(A,L,ve),this.set(A,this.columns-1-L,ce)}return this}},{key:"flipColumns",value:function(){for(var S=Math.ceil(this.rows/2),A=0;A<this.columns;A++)for(var L=0;L<S;L++){var ce=this.get(L,A),ve=this.get(this.rows-1-L,A);this.set(L,A,ve),this.set(this.rows-1-L,A,ce)}return this}},{key:"kroneckerProduct",value:function(S){S=Je.checkMatrix(S);for(var A=this.rows,L=this.columns,ce=S.rows,ve=S.columns,pe=new Je(A*ce,L*ve),Ee=0;Ee<A;Ee++)for(var ht=0;ht<L;ht++)for(var ct=0;ct<ce;ct++)for(var nt=0;nt<ve;nt++)pe.set(ce*Ee+ct,ve*ht+nt,this.get(Ee,ht)*S.get(ct,nt));return pe}},{key:"kroneckerSum",value:function(S){if(S=Je.checkMatrix(S),!this.isSquare()||!S.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var A=this.rows,L=S.rows,ce=this.kroneckerProduct(Je.eye(L,L)),ve=Je.eye(A,A).kroneckerProduct(S);return ce.add(ve)}},{key:"transpose",value:function(){for(var S=new Je(this.columns,this.rows),A=0;A<this.rows;A++)for(var L=0;L<this.columns;L++)S.set(L,A,this.get(A,L));return S}},{key:"sortRows",value:function(){for(var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nt,A=0;A<this.rows;A++)this.setRow(A,this.getRow(A).sort(S));return this}},{key:"sortColumns",value:function(){for(var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nt,A=0;A<this.columns;A++)this.setColumn(A,this.getColumn(A).sort(S));return this}},{key:"subMatrix",value:function(S,A,L,ce){Mt(this,S,A,L,ce);for(var ve=new Je(A-S+1,ce-L+1),pe=S;pe<=A;pe++)for(var Ee=L;Ee<=ce;Ee++)ve.set(pe-S,Ee-L,this.get(pe,Ee));return ve}},{key:"subMatrixRow",value:function(S,A,L){if(A===void 0&&(A=0),L===void 0&&(L=this.columns-1),A>L||A<0||A>=this.columns||L<0||L>=this.columns)throw new RangeError("Argument out of range");for(var ce=new Je(S.length,L-A+1),ve=0;ve<S.length;ve++)for(var pe=A;pe<=L;pe++){if(S[ve]<0||S[ve]>=this.rows)throw new RangeError("Row index out of range: ".concat(S[ve]));ce.set(ve,pe-A,this.get(S[ve],pe))}return ce}},{key:"subMatrixColumn",value:function(S,A,L){if(A===void 0&&(A=0),L===void 0&&(L=this.rows-1),A>L||A<0||A>=this.rows||L<0||L>=this.rows)throw new RangeError("Argument out of range");for(var ce=new Je(L-A+1,S.length),ve=0;ve<S.length;ve++)for(var pe=A;pe<=L;pe++){if(S[ve]<0||S[ve]>=this.columns)throw new RangeError("Column index out of range: ".concat(S[ve]));ce.set(pe-A,ve,this.get(pe,S[ve]))}return ce}},{key:"setSubMatrix",value:function(S,A,L){if(S=Je.checkMatrix(S),S.isEmpty())return this;var ce=A+S.rows-1,ve=L+S.columns-1;Mt(this,A,ce,L,ve);for(var pe=0;pe<S.rows;pe++)for(var Ee=0;Ee<S.columns;Ee++)this.set(A+pe,L+Ee,S.get(pe,Ee));return this}},{key:"selection",value:function(S,A){pr(this,S),hr(this,A);for(var L=new Je(S.length,A.length),ce=0;ce<S.length;ce++)for(var ve=S[ce],pe=0;pe<A.length;pe++){var Ee=A[pe];L.set(ce,pe,this.get(ve,Ee))}return L}},{key:"trace",value:function(){for(var S=Math.min(this.rows,this.columns),A=0,L=0;L<S;L++)A+=this.get(L,L);return A}},{key:"clone",value:function(){return this.constructor.copy(this,new Je(this.rows,this.columns))}},{key:"sum",value:function(S){switch(S){case"row":return $t(this);case"column":return Jt(this);case void 0:return tn(this);default:throw new Error("invalid option: ".concat(S))}}},{key:"product",value:function(S){switch(S){case"row":return ir(this);case"column":return Or(this);case void 0:return Fr(this);default:throw new Error("invalid option: ".concat(S))}}},{key:"mean",value:function(S){var A=this.sum(S);switch(S){case"row":{for(var L=0;L<this.rows;L++)A[L]/=this.columns;return A}case"column":{for(var ce=0;ce<this.columns;ce++)A[ce]/=this.rows;return A}case void 0:return A/this.size;default:throw new Error("invalid option: ".concat(S))}}},{key:"variance",value:function(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ce(S)==="object"&&(A=S,S=void 0),Ce(A)!=="object")throw new TypeError("options must be an object");var L=A,ce=L.unbiased,ve=ce===void 0?!0:ce,pe=L.mean,Ee=pe===void 0?this.mean(S):pe;if(typeof ve!="boolean")throw new TypeError("unbiased must be a boolean");switch(S){case"row":{if(!ie.isAnyArray(Ee))throw new TypeError("mean must be an array");return lr(this,ve,Ee)}case"column":{if(!ie.isAnyArray(Ee))throw new TypeError("mean must be an array");return Yr(this,ve,Ee)}case void 0:{if(typeof Ee!="number")throw new TypeError("mean must be a number");return jn(this,ve,Ee)}default:throw new Error("invalid option: ".concat(S))}}},{key:"standardDeviation",value:function(S,A){Ce(S)==="object"&&(A=S,S=void 0);var L=this.variance(S,A);if(S===void 0)return Math.sqrt(L);for(var ce=0;ce<L.length;ce++)L[ce]=Math.sqrt(L[ce]);return L}},{key:"center",value:function(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ce(S)==="object"&&(A=S,S=void 0),Ce(A)!=="object")throw new TypeError("options must be an object");var L=A,ce=L.center,ve=ce===void 0?this.mean(S):ce;switch(S){case"row":{if(!ie.isAnyArray(ve))throw new TypeError("center must be an array");return dr(this,ve),this}case"column":{if(!ie.isAnyArray(ve))throw new TypeError("center must be an array");return br(this,ve),this}case void 0:{if(typeof ve!="number")throw new TypeError("center must be a number");return nr(this,ve),this}default:throw new Error("invalid option: ".concat(S))}}},{key:"scale",value:function(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ce(S)==="object"&&(A=S,S=void 0),Ce(A)!=="object")throw new TypeError("options must be an object");var L=A.scale;switch(S){case"row":{if(L===void 0)L=Lr(this);else if(!ie.isAnyArray(L))throw new TypeError("scale must be an array");return Ji(this,L),this}case"column":{if(L===void 0)L=Ci(this);else if(!ie.isAnyArray(L))throw new TypeError("scale must be an array");return $i(this,L),this}case void 0:{if(L===void 0)L=It(this);else if(typeof L!="number")throw new TypeError("scale must be a number");return Q(this,L),this}default:throw new Error("invalid option: ".concat(S))}}},{key:"toString",value:function(S){return U(this,S)}},{key:Y,value:function(){return this.entries()}},{key:"entries",value:fe().mark(function W(){var S,A;return fe().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:S=0;case 1:if(!(S<this.rows)){ce.next=12;break}A=0;case 3:if(!(A<this.columns)){ce.next=9;break}return ce.next=6,[S,A,this.get(S,A)];case 6:A++,ce.next=3;break;case 9:S++,ce.next=1;break;case 12:case"end":return ce.stop()}},W,this)})},{key:"values",value:fe().mark(function W(){var S,A;return fe().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:S=0;case 1:if(!(S<this.rows)){ce.next=12;break}A=0;case 3:if(!(A<this.columns)){ce.next=9;break}return ce.next=6,this.get(S,A);case 6:A++,ce.next=3;break;case 9:S++,ce.next=1;break;case 12:case"end":return ce.stop()}},W,this)})}],[{key:"from1DArray",value:function(S,A,L){var ce=S*A;if(ce!==L.length)throw new RangeError("data length does not match given dimensions");for(var ve=new Je(S,A),pe=0;pe<S;pe++)for(var Ee=0;Ee<A;Ee++)ve.set(pe,Ee,L[pe*A+Ee]);return ve}},{key:"rowVector",value:function(S){for(var A=new Je(1,S.length),L=0;L<S.length;L++)A.set(0,L,S[L]);return A}},{key:"columnVector",value:function(S){for(var A=new Je(S.length,1),L=0;L<S.length;L++)A.set(L,0,S[L]);return A}},{key:"zeros",value:function(S,A){return new Je(S,A)}},{key:"ones",value:function(S,A){return new Je(S,A).fill(1)}},{key:"rand",value:function(S,A){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Ce(L)!=="object")throw new TypeError("options must be an object");for(var ce=L.random,ve=ce===void 0?Math.random:ce,pe=new Je(S,A),Ee=0;Ee<S;Ee++)for(var ht=0;ht<A;ht++)pe.set(Ee,ht,ve());return pe}},{key:"randInt",value:function(S,A){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Ce(L)!=="object")throw new TypeError("options must be an object");var ce=L.min,ve=ce===void 0?0:ce,pe=L.max,Ee=pe===void 0?1e3:pe,ht=L.random,ct=ht===void 0?Math.random:ht;if(!Number.isInteger(ve))throw new TypeError("min must be an integer");if(!Number.isInteger(Ee))throw new TypeError("max must be an integer");if(ve>=Ee)throw new RangeError("min must be smaller than max");for(var nt=Ee-ve,Rt=new Je(S,A),kt=0;kt<S;kt++)for(var bn=0;bn<A;bn++){var pn=ve+Math.round(ct()*nt);Rt.set(kt,bn,pn)}return Rt}},{key:"eye",value:function(S,A,L){A===void 0&&(A=S),L===void 0&&(L=1);for(var ce=Math.min(S,A),ve=this.zeros(S,A),pe=0;pe<ce;pe++)ve.set(pe,pe,L);return ve}},{key:"diag",value:function(S,A,L){var ce=S.length;A===void 0&&(A=ce),L===void 0&&(L=A);for(var ve=Math.min(ce,A,L),pe=this.zeros(A,L),Ee=0;Ee<ve;Ee++)pe.set(Ee,Ee,S[Ee]);return pe}},{key:"min",value:function(S,A){S=this.checkMatrix(S),A=this.checkMatrix(A);for(var L=S.rows,ce=S.columns,ve=new Je(L,ce),pe=0;pe<L;pe++)for(var Ee=0;Ee<ce;Ee++)ve.set(pe,Ee,Math.min(S.get(pe,Ee),A.get(pe,Ee)));return ve}},{key:"max",value:function(S,A){S=this.checkMatrix(S),A=this.checkMatrix(A);for(var L=S.rows,ce=S.columns,ve=new this(L,ce),pe=0;pe<L;pe++)for(var Ee=0;Ee<ce;Ee++)ve.set(pe,Ee,Math.max(S.get(pe,Ee),A.get(pe,Ee)));return ve}},{key:"checkMatrix",value:function(S){return ne.isMatrix(S)?S:new Je(S)}},{key:"isMatrix",value:function(S){return S!=null&&S.klass==="Matrix"}},{key:"copy",value:function(S,A){var L=Ze(S.entries()),ce;try{for(L.s();!(ce=L.n()).done;){var ve=ge(ce.value,3),pe=ve[0],Ee=ve[1],ht=ve[2];A.set(pe,Ee,ht)}}catch(ct){L.e(ct)}finally{L.f()}return A}}]),ne}(Symbol.iterator);we.prototype.klass="Matrix",typeof Symbol!="undefined"&&(we.prototype[Symbol.for("nodejs.util.inspect.custom")]=Vt);function Nt(Y,ne){return Y-ne}function jt(Y){return Y.every(function(ne){return typeof ne=="number"})}we.random=we.rand,we.randomInt=we.randInt,we.diagonal=we.diag,we.prototype.diagonal=we.prototype.diag,we.identity=we.eye,we.prototype.negate=we.prototype.neg,we.prototype.tensorProduct=we.prototype.kroneckerProduct;var gt=new WeakSet,Je=function(Y){I(W,Y);var ne=ee(W);function W(S,A){var L;if(Ae(this,W),L=ne.call(this),ae(H(L),gt),ue(H(L),"data",void 0),W.isMatrix(S))re(H(L),gt,pt).call(H(L),S.rows,S.columns),W.copy(S,H(L));else if(Number.isInteger(S)&&S>=0)re(H(L),gt,pt).call(H(L),S,A);else if(ie.isAnyArray(S)){var ce=S;if(S=ce.length,A=S?ce[0].length:0,typeof A!="number")throw new TypeError("Data must be a 2D array with at least one element");L.data=[];for(var ve=0;ve<S;ve++){if(ce[ve].length!==A)throw new RangeError("Inconsistent array dimensions");if(!jt(ce[ve]))throw new TypeError("Input data contains non-numeric values");L.data.push(Float64Array.from(ce[ve]))}L.rows=S,L.columns=A}else throw new TypeError("First argument must be a positive number or an array");return L}return Pe(W,[{key:"set",value:function(A,L,ce){return this.data[A][L]=ce,this}},{key:"get",value:function(A,L){return this.data[A][L]}},{key:"removeRow",value:function(A){return Ye(this,A),this.data.splice(A,1),this.rows-=1,this}},{key:"addRow",value:function(A,L){return L===void 0&&(L=A,A=this.rows),Ye(this,A,!0),L=Float64Array.from(cn(this,L)),this.data.splice(A,0,L),this.rows+=1,this}},{key:"removeColumn",value:function(A){Cn(this,A);for(var L=0;L<this.rows;L++){for(var ce=new Float64Array(this.columns-1),ve=0;ve<A;ve++)ce[ve]=this.data[L][ve];for(var pe=A+1;pe<this.columns;pe++)ce[pe-1]=this.data[L][pe];this.data[L]=ce}return this.columns-=1,this}},{key:"addColumn",value:function(A,L){typeof L=="undefined"&&(L=A,A=this.columns),Cn(this,A,!0),L=mr(this,L);for(var ce=0;ce<this.rows;ce++){for(var ve=new Float64Array(this.columns+1),pe=0;pe<A;pe++)ve[pe]=this.data[ce][pe];for(ve[pe++]=L[ce];pe<this.columns+1;pe++)ve[pe]=this.data[ce][pe-1];this.data[ce]=ve}return this.columns+=1,this}}]),W}(we);function pt(Y,ne){if(this.data=[],Number.isInteger(ne)&&ne>=0)for(var W=0;W<Y;W++)this.data.push(new Float64Array(ne));else throw new TypeError("nColumns must be a positive integer");this.rows=Y,this.columns=ne}ft(we,Je);var rt=new WeakMap,qt=function(Y){I(W,Y);var ne=ee(W);function W(S){var A;if(Ae(this,W),A=ne.call(this),R(H(A),rt,{writable:!0,value:void 0}),Je.isMatrix(S)){if(!S.isSymmetric())throw new TypeError("not symmetric data");k(H(A),rt,Je.copy(S,new Je(S.rows,S.rows)))}else if(Number.isInteger(S)&&S>=0)k(H(A),rt,new Je(S,S));else if(k(H(A),rt,new Je(S)),!A.isSymmetric())throw new TypeError("not symmetric data");return A}return Pe(W,[{key:"size",get:function(){return F(this,rt).size}},{key:"rows",get:function(){return F(this,rt).rows}},{key:"columns",get:function(){return F(this,rt).columns}},{key:"diagonalSize",get:function(){return this.rows}},{key:"clone",value:function(){var A=new W(this.diagonalSize),L=Ze(this.upperRightEntries()),ce;try{for(L.s();!(ce=L.n()).done;){var ve=ge(ce.value,3),pe=ve[0],Ee=ve[1],ht=ve[2];A.set(pe,Ee,ht)}}catch(ct){L.e(ct)}finally{L.f()}return A}},{key:"toMatrix",value:function(){return new Je(this)}},{key:"get",value:function(A,L){return F(this,rt).get(A,L)}},{key:"set",value:function(A,L,ce){return F(this,rt).set(A,L,ce),F(this,rt).set(L,A,ce),this}},{key:"removeCross",value:function(A){return F(this,rt).removeRow(A),F(this,rt).removeColumn(A),this}},{key:"addCross",value:function(A,L){L===void 0&&(L=A,A=this.diagonalSize);var ce=L.slice();return ce.splice(A,1),F(this,rt).addRow(A,ce),F(this,rt).addColumn(A,L),this}},{key:"applyMask",value:function(A){if(A.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");var L=[],ce=Ze(A.entries()),ve;try{for(ce.s();!(ve=ce.n()).done;){var pe=ge(ve.value,2),Ee=pe[0],ht=pe[1];ht||L.push(Ee)}}catch(kt){ce.e(kt)}finally{ce.f()}L.reverse();for(var ct=0,nt=L;ct<nt.length;ct++){var Rt=nt[ct];this.removeCross(Rt)}return this}},{key:"toCompact",value:function(){for(var A=this.diagonalSize,L=new Array(A*(A+1)/2),ce=0,ve=0,pe=0;pe<L.length;pe++)L[pe]=this.get(ve,ce),++ce>=A&&(ce=++ve);return L}},{key:"upperRightEntries",value:fe().mark(function S(){var A,L,ce;return fe().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:A=0,L=0;case 1:if(!(A<this.diagonalSize)){pe.next=9;break}return ce=this.get(A,L),pe.next=5,[A,L,ce];case 5:++L>=this.diagonalSize&&(L=++A);case 6:pe.next=1;break;case 9:case"end":return pe.stop()}},S,this)})},{key:"upperRightValues",value:fe().mark(function S(){var A,L,ce;return fe().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:A=0,L=0;case 1:if(!(A<this.diagonalSize)){pe.next=9;break}return ce=this.get(A,L),pe.next=5,ce;case 5:++L>=this.diagonalSize&&(L=++A);case 6:pe.next=1;break;case 9:case"end":return pe.stop()}},S,this)})}],[{key:"isSymmetricMatrix",value:function(A){return Je.isMatrix(A)&&A.klassType==="SymmetricMatrix"}},{key:"zeros",value:function(A){return new this(A)}},{key:"ones",value:function(A){return new this(A).fill(1)}},{key:"fromCompact",value:function(A){var L=A.length,ce=(Math.sqrt(8*L+1)-1)/2;if(!Number.isInteger(ce))throw new TypeError("This array is not a compact representation of a Symmetric Matrix, ".concat(JSON.stringify(A)));for(var ve=new W(ce),pe=0,Ee=0,ht=0;ht<L;ht++)ve.set(pe,Ee,A[ht]),++pe>=ce&&(pe=++Ee);return ve}}]),W}(we);qt.prototype.klassType="SymmetricMatrix";var Dn=function(Y){I(W,Y);var ne=ee(W);function W(S){var A;if(Ae(this,W),A=ne.call(this,S),!A.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix");return A}return Pe(W,[{key:"set",value:function(A,L,ce){return A===L&&(ce=0),M(j(W.prototype),"set",this).call(this,A,L,ce)}},{key:"addCross",value:function(A,L){return L===void 0&&(L=A,A=this.diagonalSize),L=L.slice(),L[A]=0,M(j(W.prototype),"addCross",this).call(this,A,L)}},{key:"toSymmetricMatrix",value:function(){return new qt(this)}},{key:"clone",value:function(){var A=new W(this.diagonalSize),L=Ze(this.upperRightEntries()),ce;try{for(L.s();!(ce=L.n()).done;){var ve=ge(ce.value,3),pe=ve[0],Ee=ve[1],ht=ve[2];pe!==Ee&&A.set(pe,Ee,ht)}}catch(ct){L.e(ct)}finally{L.f()}return A}},{key:"toCompact",value:function(){for(var A=this.diagonalSize,L=(A-1)*A/2,ce=new Array(L),ve=1,pe=0,Ee=0;Ee<ce.length;Ee++)ce[Ee]=this.get(pe,ve),++ve>=A&&(ve=++pe+1);return ce}}],[{key:"isDistanceMatrix",value:function(A){return qt.isSymmetricMatrix(A)&&A.klassSubType==="DistanceMatrix"}},{key:"fromCompact",value:function(A){var L=A.length;if(L===0)return new this(0);var ce=(Math.sqrt(8*L+1)+1)/2;if(!Number.isInteger(ce))throw new TypeError("This array is not a compact representation of a DistanceMatrix, ".concat(JSON.stringify(A)));for(var ve=new this(ce),pe=1,Ee=0,ht=0;ht<L;ht++)ve.set(pe,Ee,A[ht]),++pe>=ce&&(pe=++Ee+1);return ve}}]),W}(qt);Dn.prototype.klassSubType="DistanceMatrix";var _n=function(Y){I(W,Y);var ne=ee(W);function W(S,A,L){var ce;return Ae(this,W),ce=ne.call(this),ce.matrix=S,ce.rows=A,ce.columns=L,ce}return Pe(W)}(we),Wr=function(Y){I(W,Y);var ne=ee(W);function W(S,A){var L;return Ae(this,W),Cn(S,A),L=ne.call(this,S,S.rows,1),L.column=A,L}return Pe(W,[{key:"set",value:function(A,L,ce){return this.matrix.set(A,this.column,ce),this}},{key:"get",value:function(A){return this.matrix.get(A,this.column)}}]),W}(_n),Qn=function(Y){I(W,Y);var ne=ee(W);function W(S,A){var L;return Ae(this,W),hr(S,A),L=ne.call(this,S,S.rows,A.length),L.columnIndices=A,L}return Pe(W,[{key:"set",value:function(A,L,ce){return this.matrix.set(A,this.columnIndices[L],ce),this}},{key:"get",value:function(A,L){return this.matrix.get(A,this.columnIndices[L])}}]),W}(_n),it=function(Y){I(W,Y);var ne=ee(W);function W(S){return Ae(this,W),ne.call(this,S,S.rows,S.columns)}return Pe(W,[{key:"set",value:function(A,L,ce){return this.matrix.set(A,this.columns-L-1,ce),this}},{key:"get",value:function(A,L){return this.matrix.get(A,this.columns-L-1)}}]),W}(_n),mn=function(Y){I(W,Y);var ne=ee(W);function W(S){return Ae(this,W),ne.call(this,S,S.rows,S.columns)}return Pe(W,[{key:"set",value:function(A,L,ce){return this.matrix.set(this.rows-A-1,L,ce),this}},{key:"get",value:function(A,L){return this.matrix.get(this.rows-A-1,L)}}]),W}(_n),kn=function(Y){I(W,Y);var ne=ee(W);function W(S,A){var L;return Ae(this,W),Ye(S,A),L=ne.call(this,S,1,S.columns),L.row=A,L}return Pe(W,[{key:"set",value:function(A,L,ce){return this.matrix.set(this.row,L,ce),this}},{key:"get",value:function(A,L){return this.matrix.get(this.row,L)}}]),W}(_n),gr=function(Y){I(W,Y);var ne=ee(W);function W(S,A){var L;return Ae(this,W),pr(S,A),L=ne.call(this,S,A.length,S.columns),L.rowIndices=A,L}return Pe(W,[{key:"set",value:function(A,L,ce){return this.matrix.set(this.rowIndices[A],L,ce),this}},{key:"get",value:function(A,L){return this.matrix.get(this.rowIndices[A],L)}}]),W}(_n),kr=function(Y){I(W,Y);var ne=ee(W);function W(S,A,L){var ce;return Ae(this,W),pr(S,A),hr(S,L),ce=ne.call(this,S,A.length,L.length),ce.rowIndices=A,ce.columnIndices=L,ce}return Pe(W,[{key:"set",value:function(A,L,ce){return this.matrix.set(this.rowIndices[A],this.columnIndices[L],ce),this}},{key:"get",value:function(A,L){return this.matrix.get(this.rowIndices[A],this.columnIndices[L])}}]),W}(_n),Ei=function(Y){I(W,Y);var ne=ee(W);function W(S,A,L,ce,ve){var pe;return Ae(this,W),Mt(S,A,L,ce,ve),pe=ne.call(this,S,L-A+1,ve-ce+1),pe.startRow=A,pe.startColumn=ce,pe}return Pe(W,[{key:"set",value:function(A,L,ce){return this.matrix.set(this.startRow+A,this.startColumn+L,ce),this}},{key:"get",value:function(A,L){return this.matrix.get(this.startRow+A,this.startColumn+L)}}]),W}(_n),er=function(Y){I(W,Y);var ne=ee(W);function W(S){return Ae(this,W),ne.call(this,S,S.columns,S.rows)}return Pe(W,[{key:"set",value:function(A,L,ce){return this.matrix.set(L,A,ce),this}},{key:"get",value:function(A,L){return this.matrix.get(L,A)}}]),W}(_n),Tt=function(Y){I(W,Y);var ne=ee(W);function W(S){var A,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ae(this,W);var ce=L.rows,ve=ce===void 0?1:ce;if(S.length%ve!==0)throw new Error("the data length is not divisible by the number of rows");return A=ne.call(this),A.rows=ve,A.columns=S.length/ve,A.data=S,A}return Pe(W,[{key:"set",value:function(A,L,ce){var ve=this._calculateIndex(A,L);return this.data[ve]=ce,this}},{key:"get",value:function(A,L){var ce=this._calculateIndex(A,L);return this.data[ce]}},{key:"_calculateIndex",value:function(A,L){return A*this.columns+L}}]),W}(we),sn=function(Y){I(W,Y);var ne=ee(W);function W(S){var A;return Ae(this,W),A=ne.call(this),A.data=S,A.rows=S.length,A.columns=S[0].length,A}return Pe(W,[{key:"set",value:function(A,L,ce){return this.data[A][L]=ce,this}},{key:"get",value:function(A,L){return this.data[A][L]}}]),W}(we);function _t(Y,ne){if(ie.isAnyArray(Y))return Y[0]&&ie.isAnyArray(Y[0])?new sn(Y):new Tt(Y,ne);throw new Error("the argument is not an array")}var Ut=function(){function Y(ne){Ae(this,Y),ne=sn.checkMatrix(ne);var W=ne.clone(),S=W.rows,A=W.columns,L=new Float64Array(S),ce=1,ve,pe,Ee,ht,ct,nt,Rt,kt,bn;for(ve=0;ve<S;ve++)L[ve]=ve;for(kt=new Float64Array(S),pe=0;pe<A;pe++){for(ve=0;ve<S;ve++)kt[ve]=W.get(ve,pe);for(ve=0;ve<S;ve++){for(bn=Math.min(ve,pe),ct=0,Ee=0;Ee<bn;Ee++)ct+=W.get(ve,Ee)*kt[Ee];kt[ve]-=ct,W.set(ve,pe,kt[ve])}for(ht=pe,ve=pe+1;ve<S;ve++)Math.abs(kt[ve])>Math.abs(kt[ht])&&(ht=ve);if(ht!==pe){for(Ee=0;Ee<A;Ee++)nt=W.get(ht,Ee),W.set(ht,Ee,W.get(pe,Ee)),W.set(pe,Ee,nt);Rt=L[ht],L[ht]=L[pe],L[pe]=Rt,ce=-ce}if(pe<S&&W.get(pe,pe)!==0)for(ve=pe+1;ve<S;ve++)W.set(ve,pe,W.get(ve,pe)/W.get(pe,pe))}this.LU=W,this.pivotVector=L,this.pivotSign=ce}return Pe(Y,[{key:"isSingular",value:function(){for(var W=this.LU,S=W.columns,A=0;A<S;A++)if(W.get(A,A)===0)return!0;return!1}},{key:"solve",value:function(W){W=Je.checkMatrix(W);var S=this.LU,A=S.rows;if(A!==W.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var L=W.columns,ce=W.subMatrixRow(this.pivotVector,0,L-1),ve=S.columns,pe,Ee,ht;for(ht=0;ht<ve;ht++)for(pe=ht+1;pe<ve;pe++)for(Ee=0;Ee<L;Ee++)ce.set(pe,Ee,ce.get(pe,Ee)-ce.get(ht,Ee)*S.get(pe,ht));for(ht=ve-1;ht>=0;ht--){for(Ee=0;Ee<L;Ee++)ce.set(ht,Ee,ce.get(ht,Ee)/S.get(ht,ht));for(pe=0;pe<ht;pe++)for(Ee=0;Ee<L;Ee++)ce.set(pe,Ee,ce.get(pe,Ee)-ce.get(ht,Ee)*S.get(pe,ht))}return ce}},{key:"determinant",get:function(){var W=this.LU;if(!W.isSquare())throw new Error("Matrix must be square");for(var S=this.pivotSign,A=W.columns,L=0;L<A;L++)S*=W.get(L,L);return S}},{key:"lowerTriangularMatrix",get:function(){for(var W=this.LU,S=W.rows,A=W.columns,L=new Je(S,A),ce=0;ce<S;ce++)for(var ve=0;ve<A;ve++)ce>ve?L.set(ce,ve,W.get(ce,ve)):ce===ve?L.set(ce,ve,1):L.set(ce,ve,0);return L}},{key:"upperTriangularMatrix",get:function(){for(var W=this.LU,S=W.rows,A=W.columns,L=new Je(S,A),ce=0;ce<S;ce++)for(var ve=0;ve<A;ve++)ce<=ve?L.set(ce,ve,W.get(ce,ve)):L.set(ce,ve,0);return L}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),Y}();function Rn(Y,ne){var W=0;return Math.abs(Y)>Math.abs(ne)?(W=ne/Y,Math.abs(Y)*Math.sqrt(1+W*W)):ne!==0?(W=Y/ne,Math.abs(ne)*Math.sqrt(1+W*W)):0}var Cr=function(){function Y(ne){Ae(this,Y),ne=sn.checkMatrix(ne);var W=ne.clone(),S=ne.rows,A=ne.columns,L=new Float64Array(A),ce,ve,pe,Ee;for(pe=0;pe<A;pe++){var ht=0;for(ce=pe;ce<S;ce++)ht=Rn(ht,W.get(ce,pe));if(ht!==0){for(W.get(pe,pe)<0&&(ht=-ht),ce=pe;ce<S;ce++)W.set(ce,pe,W.get(ce,pe)/ht);for(W.set(pe,pe,W.get(pe,pe)+1),ve=pe+1;ve<A;ve++){for(Ee=0,ce=pe;ce<S;ce++)Ee+=W.get(ce,pe)*W.get(ce,ve);for(Ee=-Ee/W.get(pe,pe),ce=pe;ce<S;ce++)W.set(ce,ve,W.get(ce,ve)+Ee*W.get(ce,pe))}}L[pe]=-ht}this.QR=W,this.Rdiag=L}return Pe(Y,[{key:"solve",value:function(W){W=Je.checkMatrix(W);var S=this.QR,A=S.rows;if(W.rows!==A)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var L=W.columns,ce=W.clone(),ve=S.columns,pe,Ee,ht,ct;for(ht=0;ht<ve;ht++)for(Ee=0;Ee<L;Ee++){for(ct=0,pe=ht;pe<A;pe++)ct+=S.get(pe,ht)*ce.get(pe,Ee);for(ct=-ct/S.get(ht,ht),pe=ht;pe<A;pe++)ce.set(pe,Ee,ce.get(pe,Ee)+ct*S.get(pe,ht))}for(ht=ve-1;ht>=0;ht--){for(Ee=0;Ee<L;Ee++)ce.set(ht,Ee,ce.get(ht,Ee)/this.Rdiag[ht]);for(pe=0;pe<ht;pe++)for(Ee=0;Ee<L;Ee++)ce.set(pe,Ee,ce.get(pe,Ee)-ce.get(ht,Ee)*S.get(pe,ht))}return ce.subMatrix(0,ve-1,0,L-1)}},{key:"isFullRank",value:function(){for(var W=this.QR.columns,S=0;S<W;S++)if(this.Rdiag[S]===0)return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var W=this.QR,S=W.columns,A=new Je(S,S),L,ce;for(L=0;L<S;L++)for(ce=0;ce<S;ce++)L<ce?A.set(L,ce,W.get(L,ce)):L===ce?A.set(L,ce,this.Rdiag[L]):A.set(L,ce,0);return A}},{key:"orthogonalMatrix",get:function(){var W=this.QR,S=W.rows,A=W.columns,L=new Je(S,A),ce,ve,pe,Ee;for(pe=A-1;pe>=0;pe--){for(ce=0;ce<S;ce++)L.set(ce,pe,0);for(L.set(pe,pe,1),ve=pe;ve<A;ve++)if(W.get(pe,pe)!==0){for(Ee=0,ce=pe;ce<S;ce++)Ee+=W.get(ce,pe)*L.get(ce,ve);for(Ee=-Ee/W.get(pe,pe),ce=pe;ce<S;ce++)L.set(ce,ve,L.get(ce,ve)+Ee*W.get(ce,pe))}}return L}}]),Y}(),si=function(){function Y(ne){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ae(this,Y),ne=sn.checkMatrix(ne),ne.isEmpty())throw new Error("Matrix must be non-empty");var S=ne.rows,A=ne.columns,L=W.computeLeftSingularVectors,ce=L===void 0?!0:L,ve=W.computeRightSingularVectors,pe=ve===void 0?!0:ve,Ee=W.autoTranspose,ht=Ee===void 0?!1:Ee,ct=!!ce,nt=!!pe,Rt=!1,kt;if(S<A)if(!ht)kt=ne.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{kt=ne.transpose(),S=kt.rows,A=kt.columns,Rt=!0;var bn=ct;ct=nt,nt=bn}else kt=ne.clone();for(var pn=Math.min(S,A),Lt=Math.min(S+1,A),Bt=new Float64Array(Lt),In=new Je(S,pn),Zn=new Je(A,A),sr=new Float64Array(A),ni=new Float64Array(S),mi=new Float64Array(Lt),Rr=0;Rr<Lt;Rr++)mi[Rr]=Rr;for(var ai=Math.min(S-1,A),li=Math.max(0,Math.min(A-2,S)),wi=Math.max(ai,li),Ct=0;Ct<wi;Ct++){if(Ct<ai){Bt[Ct]=0;for(var Zt=Ct;Zt<S;Zt++)Bt[Ct]=Rn(Bt[Ct],kt.get(Zt,Ct));if(Bt[Ct]!==0){kt.get(Ct,Ct)<0&&(Bt[Ct]=-Bt[Ct]);for(var Pr=Ct;Pr<S;Pr++)kt.set(Pr,Ct,kt.get(Pr,Ct)/Bt[Ct]);kt.set(Ct,Ct,kt.get(Ct,Ct)+1)}Bt[Ct]=-Bt[Ct]}for(var Gn=Ct+1;Gn<A;Gn++){if(Ct<ai&&Bt[Ct]!==0){for(var vr=0,$r=Ct;$r<S;$r++)vr+=kt.get($r,Ct)*kt.get($r,Gn);vr=-vr/kt.get(Ct,Ct);for(var At=Ct;At<S;At++)kt.set(At,Gn,kt.get(At,Gn)+vr*kt.get(At,Ct))}sr[Gn]=kt.get(Ct,Gn)}if(ct&&Ct<ai)for(var Be=Ct;Be<S;Be++)In.set(Be,Ct,kt.get(Be,Ct));if(Ct<li){sr[Ct]=0;for(var Re=Ct+1;Re<A;Re++)sr[Ct]=Rn(sr[Ct],sr[Re]);if(sr[Ct]!==0){sr[Ct+1]<0&&(sr[Ct]=0-sr[Ct]);for(var Fe=Ct+1;Fe<A;Fe++)sr[Fe]/=sr[Ct];sr[Ct+1]+=1}if(sr[Ct]=-sr[Ct],Ct+1<S&&sr[Ct]!==0){for(var Se=Ct+1;Se<S;Se++)ni[Se]=0;for(var wt=Ct+1;wt<S;wt++)for(var Gt=Ct+1;Gt<A;Gt++)ni[wt]+=sr[Gt]*kt.get(wt,Gt);for(var Sn=Ct+1;Sn<A;Sn++)for(var Un=-sr[Sn]/sr[Ct+1],_e=Ct+1;_e<S;_e++)kt.set(_e,Sn,kt.get(_e,Sn)+Un*ni[_e])}if(nt)for(var We=Ct+1;We<A;We++)Zn.set(We,Ct,sr[We])}}var Ve=Math.min(A,S+1);if(ai<A&&(Bt[ai]=kt.get(ai,ai)),S<Ve&&(Bt[Ve-1]=0),li+1<Ve&&(sr[li]=kt.get(li,Ve-1)),sr[Ve-1]=0,ct){for(var Dt=ai;Dt<pn;Dt++){for(var An=0;An<S;An++)In.set(An,Dt,0);In.set(Dt,Dt,1)}for(var on=ai-1;on>=0;on--)if(Bt[on]!==0){for(var et=on+1;et<pn;et++){for(var Tn=0,zt=on;zt<S;zt++)Tn+=In.get(zt,on)*In.get(zt,et);Tn=-Tn/In.get(on,on);for(var Xn=on;Xn<S;Xn++)In.set(Xn,et,In.get(Xn,et)+Tn*In.get(Xn,on))}for(var cr=on;cr<S;cr++)In.set(cr,on,-In.get(cr,on));In.set(on,on,1+In.get(on,on));for(var ii=0;ii<on-1;ii++)In.set(ii,on,0)}else{for(var ui=0;ui<S;ui++)In.set(ui,on,0);In.set(on,on,1)}}if(nt)for(var Mr=A-1;Mr>=0;Mr--){if(Mr<li&&sr[Mr]!==0)for(var jr=Mr+1;jr<A;jr++){for(var eo=0,yi=Mr+1;yi<A;yi++)eo+=Zn.get(yi,Mr)*Zn.get(yi,jr);eo=-eo/Zn.get(Mr+1,Mr);for(var ci=Mr+1;ci<A;ci++)Zn.set(ci,jr,Zn.get(ci,jr)+eo*Zn.get(ci,Mr))}for(var Si=0;Si<A;Si++)Zn.set(Si,Mr,0);Zn.set(Mr,Mr,1)}for(var Li=Ve-1,to=Number.EPSILON;Ve>0;){var Kr=void 0,gs=void 0;for(Kr=Ve-2;Kr>=-1&&Kr!==-1;Kr--){var Cs=Number.MIN_VALUE+to*Math.abs(Bt[Kr]+Math.abs(Bt[Kr+1]));if(Math.abs(sr[Kr])<=Cs||Number.isNaN(sr[Kr])){sr[Kr]=0;break}}if(Kr===Ve-2)gs=4;else{var es=void 0;for(es=Ve-1;es>=Kr&&es!==Kr;es--){var cs=(es!==Ve?Math.abs(sr[es]):0)+(es!==Kr+1?Math.abs(sr[es-1]):0);if(Math.abs(Bt[es])<=to*cs){Bt[es]=0;break}}es===Kr?gs=3:es===Ve-1?gs=1:(gs=2,Kr=es)}switch(Kr++,gs){case 1:{var To=sr[Ve-2];sr[Ve-2]=0;for(var Do=Ve-2;Do>=Kr;Do--){var Ko=Rn(Bt[Do],To),os=Bt[Do]/Ko,_=To/Ko;if(Bt[Do]=Ko,Do!==Kr&&(To=-_*sr[Do-1],sr[Do-1]=os*sr[Do-1]),nt)for(var K=0;K<A;K++)Ko=os*Zn.get(K,Do)+_*Zn.get(K,Ve-1),Zn.set(K,Ve-1,-_*Zn.get(K,Do)+os*Zn.get(K,Ve-1)),Zn.set(K,Do,Ko)}break}case 2:{var he=sr[Kr-1];sr[Kr-1]=0;for(var ye=Kr;ye<Ve;ye++){var Ue=Rn(Bt[ye],he),He=Bt[ye]/Ue,dt=he/Ue;if(Bt[ye]=Ue,he=-dt*sr[ye],sr[ye]=He*sr[ye],ct)for(var wn=0;wn<S;wn++)Ue=He*In.get(wn,ye)+dt*In.get(wn,Kr-1),In.set(wn,Kr-1,-dt*In.get(wn,ye)+He*In.get(wn,Kr-1)),In.set(wn,ye,Ue)}break}case 3:{var gn=Math.max(Math.abs(Bt[Ve-1]),Math.abs(Bt[Ve-2]),Math.abs(sr[Ve-2]),Math.abs(Bt[Kr]),Math.abs(sr[Kr])),Pn=Bt[Ve-1]/gn,zr=Bt[Ve-2]/gn,Gr=sr[Ve-2]/gn,Hr=Bt[Kr]/gn,bi=sr[Kr]/gn,Vo=((zr+Pn)*(zr-Pn)+Gr*Gr)/2,Uo=Pn*Gr*(Pn*Gr),Zo=0;(Vo!==0||Uo!==0)&&(Vo<0?Zo=0-Math.sqrt(Vo*Vo+Uo):Zo=Math.sqrt(Vo*Vo+Uo),Zo=Uo/(Vo+Zo));for(var Ns=(Hr+Pn)*(Hr-Pn)+Zo,Ms=Hr*bi,No=Kr;No<Ve-1;No++){var ws=Rn(Ns,Ms);ws===0&&(ws=Number.MIN_VALUE);var Hi=Ns/ws,ms=Ms/ws;if(No!==Kr&&(sr[No-1]=ws),Ns=Hi*Bt[No]+ms*sr[No],sr[No]=Hi*sr[No]-ms*Bt[No],Ms=ms*Bt[No+1],Bt[No+1]=Hi*Bt[No+1],nt)for(var Pt=0;Pt<A;Pt++)ws=Hi*Zn.get(Pt,No)+ms*Zn.get(Pt,No+1),Zn.set(Pt,No+1,-ms*Zn.get(Pt,No)+Hi*Zn.get(Pt,No+1)),Zn.set(Pt,No,ws);if(ws=Rn(Ns,Ms),ws===0&&(ws=Number.MIN_VALUE),Hi=Ns/ws,ms=Ms/ws,Bt[No]=ws,Ns=Hi*sr[No]+ms*Bt[No+1],Bt[No+1]=-ms*sr[No]+Hi*Bt[No+1],Ms=ms*sr[No+1],sr[No+1]=Hi*sr[No+1],ct&&No<S-1)for(var ot=0;ot<S;ot++)ws=Hi*In.get(ot,No)+ms*In.get(ot,No+1),In.set(ot,No+1,-ms*In.get(ot,No)+Hi*In.get(ot,No+1)),In.set(ot,No,ws)}sr[Ve-2]=Ns;break}case 4:{if(Bt[Kr]<=0&&(Bt[Kr]=Bt[Kr]<0?-Bt[Kr]:0,nt))for(var Ft=0;Ft<=Li;Ft++)Zn.set(Ft,Kr,-Zn.get(Ft,Kr));for(;Kr<Li&&!(Bt[Kr]>=Bt[Kr+1]);){var Qt=Bt[Kr];if(Bt[Kr]=Bt[Kr+1],Bt[Kr+1]=Qt,nt&&Kr<A-1)for(var Ht=0;Ht<A;Ht++)Qt=Zn.get(Ht,Kr+1),Zn.set(Ht,Kr+1,Zn.get(Ht,Kr)),Zn.set(Ht,Kr,Qt);if(ct&&Kr<S-1)for(var $n=0;$n<S;$n++)Qt=In.get($n,Kr+1),In.set($n,Kr+1,In.get($n,Kr)),In.set($n,Kr,Qt);Kr++}Ve--;break}}}if(Rt){var Vn=Zn;Zn=In,In=Vn}this.m=S,this.n=A,this.s=Bt,this.U=In,this.V=Zn}return Pe(Y,[{key:"solve",value:function(W){for(var S=W,A=this.threshold,L=this.s.length,ce=Je.zeros(L,L),ve=0;ve<L;ve++)Math.abs(this.s[ve])<=A?ce.set(ve,ve,0):ce.set(ve,ve,1/this.s[ve]);for(var pe=this.U,Ee=this.rightSingularVectors,ht=Ee.mmul(ce),ct=Ee.rows,nt=pe.rows,Rt=Je.zeros(ct,nt),kt=0;kt<ct;kt++)for(var bn=0;bn<nt;bn++){for(var pn=0,Lt=0;Lt<L;Lt++)pn+=ht.get(kt,Lt)*pe.get(bn,Lt);Rt.set(kt,bn,pn)}return Rt.mmul(S)}},{key:"solveForDiagonal",value:function(W){return this.solve(Je.diag(W))}},{key:"inverse",value:function(){for(var W=this.V,S=this.threshold,A=W.rows,L=W.columns,ce=new Je(A,this.s.length),ve=0;ve<A;ve++)for(var pe=0;pe<L;pe++)Math.abs(this.s[pe])>S&&ce.set(ve,pe,W.get(ve,pe)/this.s[pe]);for(var Ee=this.U,ht=Ee.rows,ct=Ee.columns,nt=new Je(A,ht),Rt=0;Rt<A;Rt++)for(var kt=0;kt<ht;kt++){for(var bn=0,pn=0;pn<ct;pn++)bn+=ce.get(Rt,pn)*Ee.get(kt,pn);nt.set(Rt,kt,bn)}return nt}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var W=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,S=0,A=this.s,L=0,ce=A.length;L<ce;L++)A[L]>W&&S++;return S}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Je.diag(this.s)}}]),Y}();function tr(Y){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Y=sn.checkMatrix(Y),ne?new si(Y).inverse():xn(Y,Je.eye(Y.rows))}function xn(Y,ne){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Y=sn.checkMatrix(Y),ne=sn.checkMatrix(ne),W?new si(Y).solve(ne):Y.isSquare()?new Ut(Y).solve(ne):new Cr(Y).solve(ne)}function Hn(Y){if(Y=Je.checkMatrix(Y),Y.isSquare()){if(Y.columns===0)return 1;var ne,W,S,A;if(Y.columns===2)return ne=Y.get(0,0),W=Y.get(0,1),S=Y.get(1,0),A=Y.get(1,1),ne*A-W*S;if(Y.columns===3){var L,ce,ve;return L=new kr(Y,[1,2],[1,2]),ce=new kr(Y,[1,2],[0,2]),ve=new kr(Y,[1,2],[0,1]),ne=Y.get(0,0),W=Y.get(0,1),S=Y.get(0,2),ne*Hn(L)-W*Hn(ce)+S*Hn(ve)}else return new Ut(Y).determinant}else throw Error("determinant can only be calculated for a square matrix")}function Kn(Y,ne){for(var W=[],S=0;S<Y;S++)S!==ne&&W.push(S);return W}function yn(Y,ne,W){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-9,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-9;if(Y>A)return new Array(ne.rows+1).fill(0);for(var L=ne.addRow(W,[0]),ce=0;ce<L.rows;ce++)Math.abs(L.get(ce,0))<S&&L.set(ce,0,0);return L.to1DArray()}function Sr(Y){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=ne.thresholdValue,S=W===void 0?1e-9:W,A=ne.thresholdError,L=A===void 0?1e-9:A;Y=Je.checkMatrix(Y);for(var ce=Y.rows,ve=new Je(ce,ce),pe=0;pe<ce;pe++){var Ee=Je.columnVector(Y.getRow(pe)),ht=Y.subMatrixRow(Kn(ce,pe)).transpose(),ct=new si(ht),nt=ct.solve(Ee),Rt=Je.sub(Ee,ht.mmul(nt)).abs().max();ve.setRow(pe,yn(Rt,nt,pe,S,L))}return ve}function yr(Y){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.EPSILON;if(Y=Je.checkMatrix(Y),Y.isEmpty())return Y.transpose();for(var W=new si(Y,{autoTranspose:!0}),S=W.leftSingularVectors,A=W.rightSingularVectors,L=W.diagonal,ce=0;ce<L.length;ce++)Math.abs(L[ce])>ne?L[ce]=1/L[ce]:L[ce]=0;return A.mmul(Je.diag(L).mmul(S.transpose()))}function Tr(Y){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Y=new Je(Y);var S=!1;if(Ce(ne)==="object"&&!Je.isMatrix(ne)&&!ie.isAnyArray(ne)?(W=ne,ne=Y,S=!0):ne=new Je(ne),Y.rows!==ne.rows)throw new TypeError("Both matrices must have the same number of rows");var A=W,L=A.center,ce=L===void 0?!0:L;ce&&(Y=Y.center("column"),S||(ne=ne.center("column")));for(var ve=Y.transpose().mmul(ne),pe=0;pe<ve.rows;pe++)for(var Ee=0;Ee<ve.columns;Ee++)ve.set(pe,Ee,ve.get(pe,Ee)*(1/(Y.rows-1)));return ve}function rn(Y){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Y=new Je(Y);var S=!1;if(Ce(ne)==="object"&&!Je.isMatrix(ne)&&!ie.isAnyArray(ne)?(W=ne,ne=Y,S=!0):ne=new Je(ne),Y.rows!==ne.rows)throw new TypeError("Both matrices must have the same number of rows");var A=W,L=A.center,ce=L===void 0?!0:L,ve=A.scale,pe=ve===void 0?!0:ve;ce&&(Y.center("column"),S||ne.center("column")),pe&&(Y.scale("column"),S||ne.scale("column"));for(var Ee=Y.standardDeviation("column",{unbiased:!0}),ht=S?Ee:ne.standardDeviation("column",{unbiased:!0}),ct=Y.transpose().mmul(ne),nt=0;nt<ct.rows;nt++)for(var Rt=0;Rt<ct.columns;Rt++)ct.set(nt,Rt,ct.get(nt,Rt)*(1/(Ee[nt]*ht[Rt]))*(1/(Y.rows-1)));return ct}var hn=function(){function Y(ne){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ae(this,Y);var S=W.assumeSymmetric,A=S===void 0?!1:S;if(ne=sn.checkMatrix(ne),!ne.isSquare())throw new Error("Matrix is not a square matrix");if(ne.isEmpty())throw new Error("Matrix must be non-empty");var L=ne.columns,ce=new Je(L,L),ve=new Float64Array(L),pe=new Float64Array(L),Ee=ne,ht,ct,nt=!1;if(A?nt=!0:nt=ne.isSymmetric(),nt){for(ht=0;ht<L;ht++)for(ct=0;ct<L;ct++)ce.set(ht,ct,Ee.get(ht,ct));or(L,pe,ve,ce),Ke(L,pe,ve,ce)}else{var Rt=new Je(L,L),kt=new Float64Array(L);for(ct=0;ct<L;ct++)for(ht=0;ht<L;ht++)Rt.set(ht,ct,Ee.get(ht,ct));Xe(L,Rt,kt,ce),je(L,pe,ve,ce,Rt)}this.n=L,this.e=pe,this.d=ve,this.V=ce}return Pe(Y,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var W=this.n,S=this.e,A=this.d,L=new Je(W,W),ce,ve;for(ce=0;ce<W;ce++){for(ve=0;ve<W;ve++)L.set(ce,ve,0);L.set(ce,ce,A[ce]),S[ce]>0?L.set(ce,ce+1,S[ce]):S[ce]<0&&L.set(ce,ce-1,S[ce])}return L}}]),Y}();function or(Y,ne,W,S){var A,L,ce,ve,pe,Ee,ht,ct;for(pe=0;pe<Y;pe++)W[pe]=S.get(Y-1,pe);for(ve=Y-1;ve>0;ve--){for(ct=0,ce=0,Ee=0;Ee<ve;Ee++)ct=ct+Math.abs(W[Ee]);if(ct===0)for(ne[ve]=W[ve-1],pe=0;pe<ve;pe++)W[pe]=S.get(ve-1,pe),S.set(ve,pe,0),S.set(pe,ve,0);else{for(Ee=0;Ee<ve;Ee++)W[Ee]/=ct,ce+=W[Ee]*W[Ee];for(A=W[ve-1],L=Math.sqrt(ce),A>0&&(L=-L),ne[ve]=ct*L,ce=ce-A*L,W[ve-1]=A-L,pe=0;pe<ve;pe++)ne[pe]=0;for(pe=0;pe<ve;pe++){for(A=W[pe],S.set(pe,ve,A),L=ne[pe]+S.get(pe,pe)*A,Ee=pe+1;Ee<=ve-1;Ee++)L+=S.get(Ee,pe)*W[Ee],ne[Ee]+=S.get(Ee,pe)*A;ne[pe]=L}for(A=0,pe=0;pe<ve;pe++)ne[pe]/=ce,A+=ne[pe]*W[pe];for(ht=A/(ce+ce),pe=0;pe<ve;pe++)ne[pe]-=ht*W[pe];for(pe=0;pe<ve;pe++){for(A=W[pe],L=ne[pe],Ee=pe;Ee<=ve-1;Ee++)S.set(Ee,pe,S.get(Ee,pe)-(A*ne[Ee]+L*W[Ee]));W[pe]=S.get(ve-1,pe),S.set(ve,pe,0)}}W[ve]=ce}for(ve=0;ve<Y-1;ve++){if(S.set(Y-1,ve,S.get(ve,ve)),S.set(ve,ve,1),ce=W[ve+1],ce!==0){for(Ee=0;Ee<=ve;Ee++)W[Ee]=S.get(Ee,ve+1)/ce;for(pe=0;pe<=ve;pe++){for(L=0,Ee=0;Ee<=ve;Ee++)L+=S.get(Ee,ve+1)*S.get(Ee,pe);for(Ee=0;Ee<=ve;Ee++)S.set(Ee,pe,S.get(Ee,pe)-L*W[Ee])}}for(Ee=0;Ee<=ve;Ee++)S.set(Ee,ve+1,0)}for(pe=0;pe<Y;pe++)W[pe]=S.get(Y-1,pe),S.set(Y-1,pe,0);S.set(Y-1,Y-1,1),ne[0]=0}function Ke(Y,ne,W,S){var A,L,ce,ve,pe,Ee,ht,ct,nt,Rt,kt,bn,pn,Lt,Bt,In;for(ce=1;ce<Y;ce++)ne[ce-1]=ne[ce];ne[Y-1]=0;var Zn=0,sr=0,ni=Number.EPSILON;for(Ee=0;Ee<Y;Ee++){for(sr=Math.max(sr,Math.abs(W[Ee])+Math.abs(ne[Ee])),ht=Ee;ht<Y&&!(Math.abs(ne[ht])<=ni*sr);)ht++;if(ht>Ee)do{for(A=W[Ee],ct=(W[Ee+1]-A)/(2*ne[Ee]),nt=Rn(ct,1),ct<0&&(nt=-nt),W[Ee]=ne[Ee]/(ct+nt),W[Ee+1]=ne[Ee]*(ct+nt),Rt=W[Ee+1],L=A-W[Ee],ce=Ee+2;ce<Y;ce++)W[ce]-=L;for(Zn=Zn+L,ct=W[ht],kt=1,bn=kt,pn=kt,Lt=ne[Ee+1],Bt=0,In=0,ce=ht-1;ce>=Ee;ce--)for(pn=bn,bn=kt,In=Bt,A=kt*ne[ce],L=kt*ct,nt=Rn(ct,ne[ce]),ne[ce+1]=Bt*nt,Bt=ne[ce]/nt,kt=ct/nt,ct=kt*W[ce]-Bt*A,W[ce+1]=L+Bt*(kt*A+Bt*W[ce]),pe=0;pe<Y;pe++)L=S.get(pe,ce+1),S.set(pe,ce+1,Bt*S.get(pe,ce)+kt*L),S.set(pe,ce,kt*S.get(pe,ce)-Bt*L);ct=-Bt*In*pn*Lt*ne[Ee]/Rt,ne[Ee]=Bt*ct,W[Ee]=kt*ct}while(Math.abs(ne[Ee])>ni*sr);W[Ee]=W[Ee]+Zn,ne[Ee]=0}for(ce=0;ce<Y-1;ce++){for(pe=ce,ct=W[ce],ve=ce+1;ve<Y;ve++)W[ve]<ct&&(pe=ve,ct=W[ve]);if(pe!==ce)for(W[pe]=W[ce],W[ce]=ct,ve=0;ve<Y;ve++)ct=S.get(ve,ce),S.set(ve,ce,S.get(ve,pe)),S.set(ve,pe,ct)}}function Xe(Y,ne,W,S){var A=0,L=Y-1,ce,ve,pe,Ee,ht,ct,nt;for(ct=A+1;ct<=L-1;ct++){for(nt=0,Ee=ct;Ee<=L;Ee++)nt=nt+Math.abs(ne.get(Ee,ct-1));if(nt!==0){for(pe=0,Ee=L;Ee>=ct;Ee--)W[Ee]=ne.get(Ee,ct-1)/nt,pe+=W[Ee]*W[Ee];for(ve=Math.sqrt(pe),W[ct]>0&&(ve=-ve),pe=pe-W[ct]*ve,W[ct]=W[ct]-ve,ht=ct;ht<Y;ht++){for(ce=0,Ee=L;Ee>=ct;Ee--)ce+=W[Ee]*ne.get(Ee,ht);for(ce=ce/pe,Ee=ct;Ee<=L;Ee++)ne.set(Ee,ht,ne.get(Ee,ht)-ce*W[Ee])}for(Ee=0;Ee<=L;Ee++){for(ce=0,ht=L;ht>=ct;ht--)ce+=W[ht]*ne.get(Ee,ht);for(ce=ce/pe,ht=ct;ht<=L;ht++)ne.set(Ee,ht,ne.get(Ee,ht)-ce*W[ht])}W[ct]=nt*W[ct],ne.set(ct,ct-1,nt*ve)}}for(Ee=0;Ee<Y;Ee++)for(ht=0;ht<Y;ht++)S.set(Ee,ht,Ee===ht?1:0);for(ct=L-1;ct>=A+1;ct--)if(ne.get(ct,ct-1)!==0){for(Ee=ct+1;Ee<=L;Ee++)W[Ee]=ne.get(Ee,ct-1);for(ht=ct;ht<=L;ht++){for(ve=0,Ee=ct;Ee<=L;Ee++)ve+=W[Ee]*S.get(Ee,ht);for(ve=ve/W[ct]/ne.get(ct,ct-1),Ee=ct;Ee<=L;Ee++)S.set(Ee,ht,S.get(Ee,ht)+ve*W[Ee])}}}function je(Y,ne,W,S,A){var L=Y-1,ce=0,ve=Y-1,pe=Number.EPSILON,Ee=0,ht=0,ct=0,nt=0,Rt=0,kt=0,bn=0,pn=0,Lt,Bt,In,Zn,sr,ni,mi,Rr,ai,li,wi,Ct,Zt,Pr,Gn;for(Lt=0;Lt<Y;Lt++)for((Lt<ce||Lt>ve)&&(W[Lt]=A.get(Lt,Lt),ne[Lt]=0),Bt=Math.max(Lt-1,0);Bt<Y;Bt++)ht=ht+Math.abs(A.get(Lt,Bt));for(;L>=ce;){for(Zn=L;Zn>ce&&(kt=Math.abs(A.get(Zn-1,Zn-1))+Math.abs(A.get(Zn,Zn)),kt===0&&(kt=ht),!(Math.abs(A.get(Zn,Zn-1))<pe*kt));)Zn--;if(Zn===L)A.set(L,L,A.get(L,L)+Ee),W[L]=A.get(L,L),ne[L]=0,L--,pn=0;else if(Zn===L-1){if(mi=A.get(L,L-1)*A.get(L-1,L),ct=(A.get(L-1,L-1)-A.get(L,L))/2,nt=ct*ct+mi,bn=Math.sqrt(Math.abs(nt)),A.set(L,L,A.get(L,L)+Ee),A.set(L-1,L-1,A.get(L-1,L-1)+Ee),Rr=A.get(L,L),nt>=0){for(bn=ct>=0?ct+bn:ct-bn,W[L-1]=Rr+bn,W[L]=W[L-1],bn!==0&&(W[L]=Rr-mi/bn),ne[L-1]=0,ne[L]=0,Rr=A.get(L,L-1),kt=Math.abs(Rr)+Math.abs(bn),ct=Rr/kt,nt=bn/kt,Rt=Math.sqrt(ct*ct+nt*nt),ct=ct/Rt,nt=nt/Rt,Bt=L-1;Bt<Y;Bt++)bn=A.get(L-1,Bt),A.set(L-1,Bt,nt*bn+ct*A.get(L,Bt)),A.set(L,Bt,nt*A.get(L,Bt)-ct*bn);for(Lt=0;Lt<=L;Lt++)bn=A.get(Lt,L-1),A.set(Lt,L-1,nt*bn+ct*A.get(Lt,L)),A.set(Lt,L,nt*A.get(Lt,L)-ct*bn);for(Lt=ce;Lt<=ve;Lt++)bn=S.get(Lt,L-1),S.set(Lt,L-1,nt*bn+ct*S.get(Lt,L)),S.set(Lt,L,nt*S.get(Lt,L)-ct*bn)}else W[L-1]=Rr+ct,W[L]=Rr+ct,ne[L-1]=bn,ne[L]=-bn;L=L-2,pn=0}else{if(Rr=A.get(L,L),ai=0,mi=0,Zn<L&&(ai=A.get(L-1,L-1),mi=A.get(L,L-1)*A.get(L-1,L)),pn===10){for(Ee+=Rr,Lt=ce;Lt<=L;Lt++)A.set(Lt,Lt,A.get(Lt,Lt)-Rr);kt=Math.abs(A.get(L,L-1))+Math.abs(A.get(L-1,L-2)),Rr=ai=.75*kt,mi=-.4375*kt*kt}if(pn===30&&(kt=(ai-Rr)/2,kt=kt*kt+mi,kt>0)){for(kt=Math.sqrt(kt),ai<Rr&&(kt=-kt),kt=Rr-mi/((ai-Rr)/2+kt),Lt=ce;Lt<=L;Lt++)A.set(Lt,Lt,A.get(Lt,Lt)-kt);Ee+=kt,Rr=ai=mi=.964}for(pn=pn+1,sr=L-2;sr>=Zn&&(bn=A.get(sr,sr),Rt=Rr-bn,kt=ai-bn,ct=(Rt*kt-mi)/A.get(sr+1,sr)+A.get(sr,sr+1),nt=A.get(sr+1,sr+1)-bn-Rt-kt,Rt=A.get(sr+2,sr+1),kt=Math.abs(ct)+Math.abs(nt)+Math.abs(Rt),ct=ct/kt,nt=nt/kt,Rt=Rt/kt,!(sr===Zn||Math.abs(A.get(sr,sr-1))*(Math.abs(nt)+Math.abs(Rt))<pe*(Math.abs(ct)*(Math.abs(A.get(sr-1,sr-1))+Math.abs(bn)+Math.abs(A.get(sr+1,sr+1))))));)sr--;for(Lt=sr+2;Lt<=L;Lt++)A.set(Lt,Lt-2,0),Lt>sr+2&&A.set(Lt,Lt-3,0);for(In=sr;In<=L-1&&(Pr=In!==L-1,In!==sr&&(ct=A.get(In,In-1),nt=A.get(In+1,In-1),Rt=Pr?A.get(In+2,In-1):0,Rr=Math.abs(ct)+Math.abs(nt)+Math.abs(Rt),Rr!==0&&(ct=ct/Rr,nt=nt/Rr,Rt=Rt/Rr)),Rr!==0);In++)if(kt=Math.sqrt(ct*ct+nt*nt+Rt*Rt),ct<0&&(kt=-kt),kt!==0){for(In!==sr?A.set(In,In-1,-kt*Rr):Zn!==sr&&A.set(In,In-1,-A.get(In,In-1)),ct=ct+kt,Rr=ct/kt,ai=nt/kt,bn=Rt/kt,nt=nt/ct,Rt=Rt/ct,Bt=In;Bt<Y;Bt++)ct=A.get(In,Bt)+nt*A.get(In+1,Bt),Pr&&(ct=ct+Rt*A.get(In+2,Bt),A.set(In+2,Bt,A.get(In+2,Bt)-ct*bn)),A.set(In,Bt,A.get(In,Bt)-ct*Rr),A.set(In+1,Bt,A.get(In+1,Bt)-ct*ai);for(Lt=0;Lt<=Math.min(L,In+3);Lt++)ct=Rr*A.get(Lt,In)+ai*A.get(Lt,In+1),Pr&&(ct=ct+bn*A.get(Lt,In+2),A.set(Lt,In+2,A.get(Lt,In+2)-ct*Rt)),A.set(Lt,In,A.get(Lt,In)-ct),A.set(Lt,In+1,A.get(Lt,In+1)-ct*nt);for(Lt=ce;Lt<=ve;Lt++)ct=Rr*S.get(Lt,In)+ai*S.get(Lt,In+1),Pr&&(ct=ct+bn*S.get(Lt,In+2),S.set(Lt,In+2,S.get(Lt,In+2)-ct*Rt)),S.set(Lt,In,S.get(Lt,In)-ct),S.set(Lt,In+1,S.get(Lt,In+1)-ct*nt)}}}if(ht!==0){for(L=Y-1;L>=0;L--)if(ct=W[L],nt=ne[L],nt===0)for(Zn=L,A.set(L,L,1),Lt=L-1;Lt>=0;Lt--){for(mi=A.get(Lt,Lt)-ct,Rt=0,Bt=Zn;Bt<=L;Bt++)Rt=Rt+A.get(Lt,Bt)*A.get(Bt,L);if(ne[Lt]<0)bn=mi,kt=Rt;else if(Zn=Lt,ne[Lt]===0?A.set(Lt,L,mi!==0?-Rt/mi:-Rt/(pe*ht)):(Rr=A.get(Lt,Lt+1),ai=A.get(Lt+1,Lt),nt=(W[Lt]-ct)*(W[Lt]-ct)+ne[Lt]*ne[Lt],ni=(Rr*kt-bn*Rt)/nt,A.set(Lt,L,ni),A.set(Lt+1,L,Math.abs(Rr)>Math.abs(bn)?(-Rt-mi*ni)/Rr:(-kt-ai*ni)/bn)),ni=Math.abs(A.get(Lt,L)),pe*ni*ni>1)for(Bt=Lt;Bt<=L;Bt++)A.set(Bt,L,A.get(Bt,L)/ni)}else if(nt<0)for(Zn=L-1,Math.abs(A.get(L,L-1))>Math.abs(A.get(L-1,L))?(A.set(L-1,L-1,nt/A.get(L,L-1)),A.set(L-1,L,-(A.get(L,L)-ct)/A.get(L,L-1))):(Gn=me(0,-A.get(L-1,L),A.get(L-1,L-1)-ct,nt),A.set(L-1,L-1,Gn[0]),A.set(L-1,L,Gn[1])),A.set(L,L-1,0),A.set(L,L,1),Lt=L-2;Lt>=0;Lt--){for(li=0,wi=0,Bt=Zn;Bt<=L;Bt++)li=li+A.get(Lt,Bt)*A.get(Bt,L-1),wi=wi+A.get(Lt,Bt)*A.get(Bt,L);if(mi=A.get(Lt,Lt)-ct,ne[Lt]<0)bn=mi,Rt=li,kt=wi;else if(Zn=Lt,ne[Lt]===0?(Gn=me(-li,-wi,mi,nt),A.set(Lt,L-1,Gn[0]),A.set(Lt,L,Gn[1])):(Rr=A.get(Lt,Lt+1),ai=A.get(Lt+1,Lt),Ct=(W[Lt]-ct)*(W[Lt]-ct)+ne[Lt]*ne[Lt]-nt*nt,Zt=(W[Lt]-ct)*2*nt,Ct===0&&Zt===0&&(Ct=pe*ht*(Math.abs(mi)+Math.abs(nt)+Math.abs(Rr)+Math.abs(ai)+Math.abs(bn))),Gn=me(Rr*Rt-bn*li+nt*wi,Rr*kt-bn*wi-nt*li,Ct,Zt),A.set(Lt,L-1,Gn[0]),A.set(Lt,L,Gn[1]),Math.abs(Rr)>Math.abs(bn)+Math.abs(nt)?(A.set(Lt+1,L-1,(-li-mi*A.get(Lt,L-1)+nt*A.get(Lt,L))/Rr),A.set(Lt+1,L,(-wi-mi*A.get(Lt,L)-nt*A.get(Lt,L-1))/Rr)):(Gn=me(-Rt-ai*A.get(Lt,L-1),-kt-ai*A.get(Lt,L),bn,nt),A.set(Lt+1,L-1,Gn[0]),A.set(Lt+1,L,Gn[1]))),ni=Math.max(Math.abs(A.get(Lt,L-1)),Math.abs(A.get(Lt,L))),pe*ni*ni>1)for(Bt=Lt;Bt<=L;Bt++)A.set(Bt,L-1,A.get(Bt,L-1)/ni),A.set(Bt,L,A.get(Bt,L)/ni)}for(Lt=0;Lt<Y;Lt++)if(Lt<ce||Lt>ve)for(Bt=Lt;Bt<Y;Bt++)S.set(Lt,Bt,A.get(Lt,Bt));for(Bt=Y-1;Bt>=ce;Bt--)for(Lt=ce;Lt<=ve;Lt++){for(bn=0,In=ce;In<=Math.min(Bt,ve);In++)bn=bn+S.get(Lt,In)*A.get(In,Bt);S.set(Lt,Bt,bn)}}}function me(Y,ne,W,S){var A,L;return Math.abs(W)>Math.abs(S)?(A=S/W,L=W+A*S,[(Y+A*ne)/L,(ne-A*Y)/L]):(A=W/S,L=S+A*W,[(A*Y+ne)/L,(A*ne-Y)/L])}var ze=function(){function Y(ne){if(Ae(this,Y),ne=sn.checkMatrix(ne),!ne.isSymmetric())throw new Error("Matrix is not symmetric");var W=ne,S=W.rows,A=new Je(S,S),L=!0,ce,ve,pe;for(ve=0;ve<S;ve++){var Ee=0;for(pe=0;pe<ve;pe++){var ht=0;for(ce=0;ce<pe;ce++)ht+=A.get(pe,ce)*A.get(ve,ce);ht=(W.get(ve,pe)-ht)/A.get(pe,pe),A.set(ve,pe,ht),Ee=Ee+ht*ht}for(Ee=W.get(ve,ve)-Ee,L&=Ee>0,A.set(ve,ve,Math.sqrt(Math.max(Ee,0))),pe=ve+1;pe<S;pe++)A.set(ve,pe,0)}this.L=A,this.positiveDefinite=!!L}return Pe(Y,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(W){W=sn.checkMatrix(W);var S=this.L,A=S.rows;if(W.rows!==A)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");var L=W.columns,ce=W.clone(),ve,pe,Ee;for(Ee=0;Ee<A;Ee++)for(pe=0;pe<L;pe++){for(ve=0;ve<Ee;ve++)ce.set(Ee,pe,ce.get(Ee,pe)-ce.get(ve,pe)*S.get(Ee,ve));ce.set(Ee,pe,ce.get(Ee,pe)/S.get(Ee,Ee))}for(Ee=A-1;Ee>=0;Ee--)for(pe=0;pe<L;pe++){for(ve=Ee+1;ve<A;ve++)ce.set(Ee,pe,ce.get(Ee,pe)-ce.get(ve,pe)*S.get(ve,Ee));ce.set(Ee,pe,ce.get(Ee,pe)/S.get(Ee,Ee))}return ce}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),Y}(),Oe=Pe(function Y(ne){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ae(this,Y),ne=sn.checkMatrix(ne);var S=W.Y,A=W.scaleScores,L=A===void 0?!1:A,ce=W.maxIterations,ve=ce===void 0?1e3:ce,pe=W.terminationCriteria,Ee=pe===void 0?1e-10:pe,ht;if(S){if(ie.isAnyArray(S)&&typeof S[0]=="number"?S=Je.columnVector(S):S=sn.checkMatrix(S),S.rows!==ne.rows)throw new Error("Y should have the same number of rows as X");ht=S.getColumnVector(0)}else ht=ne.getColumnVector(0);for(var ct=1,nt,Rt,kt,bn,pn=0;pn<ve&&ct>Ee;pn++)kt=ne.transpose().mmul(ht).div(ht.transpose().mmul(ht).get(0,0)),kt=kt.div(kt.norm()),nt=ne.mmul(kt).div(kt.transpose().mmul(kt).get(0,0)),pn>0&&(ct=nt.clone().sub(bn).pow(2).sum()),bn=nt.clone(),S?(Rt=S.transpose().mmul(nt).div(nt.transpose().mmul(nt).get(0,0)),Rt=Rt.div(Rt.norm()),ht=S.mmul(Rt).div(Rt.transpose().mmul(Rt).get(0,0))):ht=nt;if(S){var Lt=ne.transpose().mmul(nt).div(nt.transpose().mmul(nt).get(0,0));Lt=Lt.div(Lt.norm());var Bt=ne.clone().sub(nt.clone().mmul(Lt.transpose())),In=ht.transpose().mmul(nt).div(nt.transpose().mmul(nt).get(0,0)),Zn=S.clone().sub(nt.clone().mulS(In.get(0,0)).mmul(Rt.transpose()));this.t=nt,this.p=Lt.transpose(),this.w=kt.transpose(),this.q=Rt,this.u=ht,this.s=nt.transpose().mmul(nt),this.xResidual=Bt,this.yResidual=Zn,this.betas=In}else this.w=kt.transpose(),this.s=nt.transpose().mmul(nt).sqrt(),L?this.t=nt.clone().div(this.s.get(0,0)):this.t=nt,this.xResidual=ne.sub(nt.mmul(kt.transpose()))});te.XA=we,te.a_=ze,te.yQ=ze,te.Hs=Dn,te.Ec=hn,te.dx=hn,te.LU=Ut,te.Rm=Ut,te.y3=Je,te.qK=Qn,te.pb=Wr,te.j=it,te.sO=mn,te.BZ=gr,te.EK=kn,te.Db=kr,te.Fx=Ei,te.tU=er,te.Ym=Oe,te.rs=Oe,te.QR=Cr,te.TB=Cr,te.oH=si,te.Sc=si,te.BN=qt,te.it=Tt,te.$r=sn,te.QM=rn,te.AV=Tr,B=Je,te.GH=Hn,te.SO=tr,te.uZ=Sr,te.yU=yr,te.F1=xn,te.re=_t},24131:function(){"use strict"},73096:function(){"use strict"},49469:function(Ne,te){"use strict";var w;w={value:!0};var B;(function(Ye){Ye.TextureCompressionBC="texture-compression-bc"})(B=te.UX||(te.UX={}));var M;(function(Ye){Ye.ClampToEdge="clamp-to-edge",Ye.Repeat="repeat",Ye.MirrorRepeat="mirror-repeat"})(M=te.OB||(te.OB={}));var j;(function(Ye){Ye.UniformBuffer="uniform-buffer",Ye.StorageBuffer="storage-buffer",Ye.ReadonlyStorageBuffer="readonly-storage-buffer",Ye.Sampler="sampler",Ye.ComparisonSampler="comparison-sampler",Ye.SampledTexture="sampled-texture",Ye.ReadonlyStorageTexture="readonly-storage-texture",Ye.WriteonlyStorageTexture="writeonly-storage-texture"})(j=te.$l||(te.$l={}));var R;(function(Ye){Ye.Zero="zero",Ye.One="one",Ye.SrcColor="src-color",Ye.OneMinusSrcColor="one-minus-src-color",Ye.SrcAlpha="src-alpha",Ye.OneMinusSrcAlpha="one-minus-src-alpha",Ye.DstColor="dst-color",Ye.OneMinusDstColor="one-minus-dst-color",Ye.DstAlpha="dst-alpha",Ye.OneMinusDstAlpha="one-minus-dst-alpha",Ye.SrcAlphaSaturated="src-alpha-saturated",Ye.BlendColor="blend-color",Ye.OneMinusBlendColor="one-minus-blend-color"})(R=te.zi||(te.zi={}));var k;(function(Ye){Ye.Add="add",Ye.Subtract="subtract",Ye.ReverseSubtract="reverse-subtract",Ye.Min="min",Ye.Max="max"})(k=te.db||(te.db={}));var F;(function(Ye){Ye.Never="never",Ye.Less="less",Ye.Equal="equal",Ye.LessEqual="less-equal",Ye.Greater="greater",Ye.NotEqual="not-equal",Ye.GreaterEqual="greater-equal",Ye.Always="always"})(F=te.wb||(te.wb={}));var H;(function(Ye){Ye.None="none",Ye.Front="front",Ye.Back="back"})(H=te.Wf||(te.Wf={}));var I;(function(Ye){Ye.Nearest="nearest",Ye.Linear="linear"})(I=te.X9||(te.X9={}));var ee;(function(Ye){Ye.CCW="ccw",Ye.CW="cw"})(ee=te.zX||(te.zX={}));var ae;(function(Ye){Ye.Uint16="uint16",Ye.Uint32="uint32"})(ae=te.iD||(te.iD={}));var ue;(function(Ye){Ye.Vertex="vertex",Ye.Instance="instance"})(ue=te.V||(te.V={}));var re;(function(Ye){Ye.Load="load"})(re=te.Ws||(te.Ws={}));var ge;(function(Ye){Ye.PointList="point-list",Ye.LineList="line-list",Ye.LineStrip="line-strip",Ye.TriangleList="triangle-list",Ye.TriangleStrip="triangle-strip"})(ge=te.YV||(te.YV={}));var Ze;(function(Ye){Ye.Keep="keep",Ye.Zero="zero",Ye.Replace="replace",Ye.Invert="invert",Ye.IncrementClamp="increment-clamp",Ye.DecrementClamp="decrement-clamp",Ye.IncrementWrap="increment-wrap",Ye.DecrementWrap="decrement-wrap"})(Ze=te.xS||(te.xS={}));var fe;(function(Ye){Ye.Store="store",Ye.Clear="clear"})(fe=te.EG||(te.EG={}));var Ce;(function(Ye){Ye.E1d="1d",Ye.E2d="2d",Ye.E3d="3d"})(Ce=te.kd||(te.kd={}));var Ae;(function(Ye){Ye.R8Unorm="r8unorm",Ye.R8Snorm="r8snorm",Ye.R8Uint="r8uint",Ye.R8Sint="r8sint",Ye.R16Uint="r16uint",Ye.R16Sint="r16sint",Ye.R16Float="r16float",Ye.RG8Unorm="rg8unorm",Ye.RG8Snorm="rg8snorm",Ye.RG8Uint="rg8uint",Ye.RG8Sint="rg8sint",Ye.R32Uint="r32uint",Ye.R32Sint="r32sint",Ye.R32Float="r32float",Ye.RG16Uint="rg16uint",Ye.RG16Sint="rg16sint",Ye.RG16Float="rg16float",Ye.RGBA8Unorm="rgba8unorm",Ye.RGBA8UnormSRGB="rgba8unorm-srgb",Ye.RGBA8Snorm="rgba8snorm",Ye.RGBA8Uint="rgba8uint",Ye.RGBA8Sint="rgba8sint",Ye.BGRA8Unorm="bgra8unorm",Ye.BGRA8UnormSRGB="bgra8unorm-srgb",Ye.RGB10A2Unorm="rgb10a2unorm",Ye.RG11B10Float="rg11b10float",Ye.RG32Uint="rg32uint",Ye.RG32Sint="rg32sint",Ye.RG32Float="rg32float",Ye.RGBA16Uint="rgba16uint",Ye.RGBA16Sint="rgba16sint",Ye.RGBA16Float="rgba16float",Ye.RGBA32Uint="rgba32uint",Ye.RGBA32Sint="rgba32sint",Ye.RGBA32Float="rgba32float",Ye.Depth32Float="depth32float",Ye.Depth24Plus="depth24plus",Ye.Depth24PlusStencil8="depth24plus-stencil8"})(Ae=te.EV||(te.EV={}));var Pe;(function(Ye){Ye.Float="float",Ye.Sint="sint",Ye.Uint="uint"})(Pe=te.Ek||(te.Ek={}));var ie;(function(Ye){Ye.E1d="1d",Ye.E2d="2d",Ye.E2dArray="2d-array",Ye.Cube="cube",Ye.CubeArray="cube-array",Ye.E3d="3d"})(ie=te.p_||(te.p_={}));var at;(function(Ye){Ye.Uchar2="uchar2",Ye.Uchar4="uchar4",Ye.Char2="char2",Ye.Char4="char4",Ye.Uchar2Norm="uchar2norm",Ye.Uchar4Norm="uchar4norm",Ye.Char2Norm="char2norm",Ye.Char4Norm="char4norm",Ye.Ushort2="ushort2",Ye.Ushort4="ushort4",Ye.Short2="short2",Ye.Short4="short4",Ye.Ushort2Norm="ushort2norm",Ye.Ushort4Norm="ushort4norm",Ye.Short2Norm="short2norm",Ye.Short4Norm="short4norm",Ye.Half2="half2",Ye.Half4="half4",Ye.Float="float",Ye.Float2="float2",Ye.Float3="float3",Ye.Float4="float4",Ye.Uint="uint",Ye.Uint2="uint2",Ye.Uint3="uint3",Ye.Uint4="uint4",Ye.Int="int",Ye.Int2="int2",Ye.Int3="int3",Ye.Int4="int4"})(at=te.gB||(te.gB={}));var mt;(function(Ye){Ye.All="all",Ye.StencilOnly="stencil-only",Ye.DepthOnly="depth-only"})(mt=te.H7||(te.H7={}));var vt;(function(Ye){Ye.Error="error",Ye.Warning="warning",Ye.Info="info"})(vt=te.mj||(te.mj={}));var Vt;(function(Ye){Ye.Occlusion="occlusion"})(Vt=te.xL||(te.xL={}));var U;(function(Ye){Ye[Ye.MapRead=1]="MapRead",Ye[Ye.MapWrite=2]="MapWrite",Ye[Ye.CopySrc=4]="CopySrc",Ye[Ye.CopyDst=8]="CopyDst",Ye[Ye.Index=16]="Index",Ye[Ye.Vertex=32]="Vertex",Ye[Ye.Uniform=64]="Uniform",Ye[Ye.Storage=128]="Storage",Ye[Ye.Indirect=256]="Indirect",Ye[Ye.QueryResolve=512]="QueryResolve"})(U=te.FB||(te.FB={}));var tt;(function(Ye){Ye[Ye.Red=1]="Red",Ye[Ye.Green=2]="Green",Ye[Ye.Blue=4]="Blue",Ye[Ye.Alpha=8]="Alpha",Ye[Ye.All=15]="All"})(tt=te.Yw||(te.Yw={}));var ut;(function(Ye){Ye[Ye.Vertex=1]="Vertex",Ye[Ye.Fragment=2]="Fragment",Ye[Ye.Compute=4]="Compute"})(ut=te.$X||(te.$X={}));var vn;(function(Ye){Ye[Ye.CopySrc=1]="CopySrc",Ye[Ye.CopyDst=2]="CopyDst",Ye[Ye.Sampled=4]="Sampled",Ye[Ye.Storage=8]="Storage",Ye[Ye.OutputAttachment=16]="OutputAttachment"})(vn=te.v2||(te.v2={}));var ft;(function(Ye){Ye[Ye.Read=1]="Read",Ye[Ye.Write=2]="Write"})(ft=te.gc||(te.gc={}))},75993:function(Ne,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0});function w(){return!1}function B(){return!0}function M(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}M.prototype={isEventObject:1,constructor:M,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,preventDefault:function(){this.isDefaultPrevented=B},stopPropagation:function(){this.isPropagationStopped=B},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=B,this.stopPropagation()},halt:function(R){R?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},te.default=M,Ne.exports=te.default},53645:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0});function B(fe){return fe&&fe.__esModule?fe:{default:fe}}var M=w(75993),j=B(M),R=w(27418),k=B(R),F=!0,H=!1,I=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"];function ee(fe){return fe==null}var ae=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(Ce,Ae){ee(Ce.which)&&(Ce.which=ee(Ae.charCode)?Ae.keyCode:Ae.charCode),Ce.metaKey===void 0&&(Ce.metaKey=Ce.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(Ce,Ae){var Pe=void 0,ie=void 0,at=void 0,mt=Ae.wheelDelta,vt=Ae.axis,Vt=Ae.wheelDeltaY,U=Ae.wheelDeltaX,tt=Ae.detail;mt&&(at=mt/120),tt&&(at=0-(tt%3===0?tt/3:tt)),vt!==void 0&&(vt===Ce.HORIZONTAL_AXIS?(ie=0,Pe=0-at):vt===Ce.VERTICAL_AXIS&&(Pe=0,ie=at)),Vt!==void 0&&(ie=Vt/120),U!==void 0&&(Pe=-1*U/120),!Pe&&!ie&&(ie=at),Pe!==void 0&&(Ce.deltaX=Pe),ie!==void 0&&(Ce.deltaY=ie),at!==void 0&&(Ce.delta=at)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(Ce,Ae){var Pe=void 0,ie=void 0,at=void 0,mt=Ce.target,vt=Ae.button;return mt&&ee(Ce.pageX)&&!ee(Ae.clientX)&&(Pe=mt.ownerDocument||document,ie=Pe.documentElement,at=Pe.body,Ce.pageX=Ae.clientX+(ie&&ie.scrollLeft||at&&at.scrollLeft||0)-(ie&&ie.clientLeft||at&&at.clientLeft||0),Ce.pageY=Ae.clientY+(ie&&ie.scrollTop||at&&at.scrollTop||0)-(ie&&ie.clientTop||at&&at.clientTop||0)),!Ce.which&&vt!==void 0&&(vt&1?Ce.which=1:vt&2?Ce.which=3:vt&4?Ce.which=2:Ce.which=0),!Ce.relatedTarget&&Ce.fromElement&&(Ce.relatedTarget=Ce.fromElement===mt?Ce.toElement:Ce.fromElement),Ce}}];function ue(){return F}function re(){return H}function ge(fe){var Ce=fe.type,Ae=typeof fe.stopPropagation=="function"||typeof fe.cancelBubble=="boolean";j.default.call(this),this.nativeEvent=fe;var Pe=re;"defaultPrevented"in fe?Pe=fe.defaultPrevented?ue:re:"getPreventDefault"in fe?Pe=fe.getPreventDefault()?ue:re:"returnValue"in fe&&(Pe=fe.returnValue===H?ue:re),this.isDefaultPrevented=Pe;var ie=[],at=void 0,mt=void 0,vt=void 0,Vt=I.concat();for(ae.forEach(function(U){Ce.match(U.reg)&&(Vt=Vt.concat(U.props),U.fix&&ie.push(U.fix))}),mt=Vt.length;mt;)vt=Vt[--mt],this[vt]=fe[vt];for(!this.target&&Ae&&(this.target=fe.srcElement||document),this.target&&this.target.nodeType===3&&(this.target=this.target.parentNode),mt=ie.length;mt;)at=ie[--mt],at(this,fe);this.timeStamp=fe.timeStamp||Date.now()}var Ze=j.default.prototype;(0,k.default)(ge.prototype,Ze,{constructor:ge,preventDefault:function(){var Ce=this.nativeEvent;Ce.preventDefault?Ce.preventDefault():Ce.returnValue=H,Ze.preventDefault.call(this)},stopPropagation:function(){var Ce=this.nativeEvent;Ce.stopPropagation?Ce.stopPropagation():Ce.cancelBubble=F,Ze.stopPropagation.call(this)}}),te.default=ge,Ne.exports=te.default},4953:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.default=R;function B(k){return k&&k.__esModule?k:{default:k}}var M=w(53645),j=B(M);function R(k,F,H,I){function ee(ue){var re=new j.default(ue);H.call(k,re)}if(k.addEventListener){var ae=function(){var ue=!1;return typeof I=="object"?ue=I.capture||!1:typeof I=="boolean"&&(ue=I),k.addEventListener(F,ee,I||!1),{v:{remove:function(){k.removeEventListener(F,ee,ue)}}}}();if(typeof ae=="object")return ae.v}else if(k.attachEvent)return k.attachEvent("on"+F,ee),{remove:function(){k.detachEvent("on"+F,ee)}}}Ne.exports=te.default},98787:function(Ne,te,w){"use strict";w.d(te,{Y:function(){return j}});var B=w(93355),M=(0,B.b)("success","processing","error","default","warning"),j=(0,B.b)("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")},98082:function(Ne,te,w){"use strict";var B=w(97685),M=w(67294),j=w(31808);te.Z=function(){var R=M.useState(!1),k=(0,B.Z)(R,2),F=k[0],H=k[1];return M.useEffect(function(){H((0,j.fk)())},[]),F}},33603:function(Ne,te,w){"use strict";w.d(te,{mL:function(){return ee},q0:function(){return I}});var B=w(93355),M=function(){return{height:0,opacity:0}},j=function(ue){var re=ue.scrollHeight;return{height:re,opacity:1}},R=function(ue){return{height:ue?ue.offsetHeight:0}},k=function(ue,re){return(re==null?void 0:re.deadline)===!0||re.propertyName==="height"},F={motionName:"ant-motion-collapse",onAppearStart:M,onEnterStart:M,onAppearActive:j,onEnterActive:j,onLeaveStart:R,onLeaveActive:M,onAppearEnd:k,onEnterEnd:k,onLeaveEnd:k,motionDeadline:500},H=(0,B.b)("bottomLeft","bottomRight","topLeft","topRight"),I=function(ue){return ue!==void 0&&(ue==="topLeft"||ue==="topRight")?"slide-down":"slide-up"},ee=function(ue,re,ge){return ge!==void 0?ge:"".concat(ue,"-").concat(re)};te.ZP=F},80636:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return H}});var B=w(87462),M=w(43159),j={adjustX:1,adjustY:1},R={adjustX:0,adjustY:0},k=[0,0];function F(I){return typeof I=="boolean"?I?j:R:(0,B.Z)((0,B.Z)({},R),I)}function H(I){var ee=I.arrowWidth,ae=ee===void 0?4:ee,ue=I.horizontalArrowShift,re=ue===void 0?16:ue,ge=I.verticalArrowShift,Ze=ge===void 0?8:ge,fe=I.autoAdjustOverflow,Ce=I.arrowPointAtCenter,Ae={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(re+ae),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(Ze+ae)]},topRight:{points:["br","tc"],offset:[re+ae,-4]},rightTop:{points:["tl","cr"],offset:[4,-(Ze+ae)]},bottomRight:{points:["tr","bc"],offset:[re+ae,4]},rightBottom:{points:["bl","cr"],offset:[4,Ze+ae]},bottomLeft:{points:["tl","bc"],offset:[-(re+ae),4]},leftBottom:{points:["br","cl"],offset:[-4,Ze+ae]}};return Object.keys(Ae).forEach(function(Pe){Ae[Pe]=Ce?(0,B.Z)((0,B.Z)({},Ae[Pe]),{overflow:F(fe),targetOffset:k}):(0,B.Z)((0,B.Z)({},M.C[Pe]),{overflow:F(fe)}),Ae[Pe].ignoreShake=!0}),Ae}},96159:function(Ne,te,w){"use strict";w.d(te,{M2:function(){return j},Tm:function(){return k},l$:function(){return M}});var B=w(67294),M=B.isValidElement;function j(F){return F&&M(F)&&F.type===B.Fragment}function R(F,H,I){return M(F)?B.cloneElement(F,typeof I=="function"?I(F.props||{}):I):H}function k(F,H){return R(F,F,H)}},24308:function(Ne,te,w){"use strict";w.d(te,{c4:function(){return j}});var B=w(4942),M=w(87462),j=["xxl","xl","lg","md","sm","xs"],R={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},k=new Map,F=-1,H={},I={matchHandlers:{},dispatch:function(ae){return H=ae,k.forEach(function(ue){return ue(H)}),k.size>=1},subscribe:function(ae){return k.size||this.register(),F+=1,k.set(F,ae),ae(H),F},unsubscribe:function(ae){k.delete(ae),k.size||this.unregister()},unregister:function(){var ae=this;Object.keys(R).forEach(function(ue){var re=R[ue],ge=ae.matchHandlers[re];ge==null||ge.mql.removeListener(ge==null?void 0:ge.listener)}),k.clear()},register:function(){var ae=this;Object.keys(R).forEach(function(ue){var re=R[ue],ge=function(Ce){var Ae=Ce.matches;ae.dispatch((0,M.Z)((0,M.Z)({},H),(0,B.Z)({},ue,Ae)))},Ze=window.matchMedia(re);Ze.addListener(ge),ae.matchHandlers[re]={mql:Ze,listener:ge},ge(Ze)})}};te.ZP=I},9708:function(Ne,te,w){"use strict";w.d(te,{F:function(){return H},Z:function(){return F}});var B=w(4942),M=w(93967),j=w.n(M),R=w(93355),k=(0,R.b)("warning","error","");function F(I,ee,ae){return j()((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)({},"".concat(I,"-status-success"),ee==="success"),"".concat(I,"-status-warning"),ee==="warning"),"".concat(I,"-status-error"),ee==="error"),"".concat(I,"-status-validating"),ee==="validating"),"".concat(I,"-has-feedback"),ae))}var H=function(ee,ae){return ae||ee}},31808:function(Ne,te,w){"use strict";w.d(te,{fk:function(){return R},jD:function(){return M}});var B=w(98924),M=function(){return(0,B.Z)()&&window.document.documentElement},j,R=function(){if(!M())return!1;if(j!==void 0)return j;var F=document.createElement("div");return F.style.display="flex",F.style.flexDirection="column",F.style.rowGap="1px",F.appendChild(document.createElement("div")),F.appendChild(document.createElement("div")),document.body.appendChild(F),j=F.scrollHeight===1,document.body.removeChild(F),j}},93355:function(Ne,te,w){"use strict";w.d(te,{b:function(){return B}});var B=function(){for(var R=arguments.length,k=new Array(R),F=0;F<R;F++)k[F]=arguments[F];return k},M=function(){for(var R=arguments.length,k=new Array(R),F=0;F<R;F++)k[F]=arguments[F];return k}},63922:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return Vt}});var B=w(4942),M=w(71002),j=w(87462),R=w(93967),k=w.n(R),F=w(29372),H=w(67294),I=w(53124),ee=w(96159),ae=w(98787);function ue(U){return ae.Y.includes(U)}var re=function(tt){var ut=tt.className,vn=tt.prefixCls,ft=tt.style,Ye=tt.color,Cn=tt.children,cn=tt.text,mr=tt.placement,pr=mr===void 0?"end":mr,hr=H.useContext(I.E_),Mt=hr.getPrefixCls,yt=hr.direction,Et=Mt("ribbon",vn),$e=ue(Ye),$t=k()(Et,"".concat(Et,"-placement-").concat(pr),(0,B.Z)((0,B.Z)({},"".concat(Et,"-rtl"),yt==="rtl"),"".concat(Et,"-color-").concat(Ye),$e),ut),Jt={},tn={};return Ye&&!$e&&(Jt.background=Ye,tn.color=Ye),H.createElement("div",{className:"".concat(Et,"-wrapper")},Cn,H.createElement("div",{className:$t,style:(0,j.Z)((0,j.Z)({},Jt),ft)},H.createElement("span",{className:"".concat(Et,"-text")},cn),H.createElement("div",{className:"".concat(Et,"-corner"),style:tn})))},ge=re,Ze=w(97685);function fe(U){var tt=U.prefixCls,ut=U.value,vn=U.current,ft=U.offset,Ye=ft===void 0?0:ft,Cn;return Ye&&(Cn={position:"absolute",top:"".concat(Ye,"00%"),left:0}),H.createElement("span",{style:Cn,className:k()("".concat(tt,"-only-unit"),{current:vn})},ut)}function Ce(U,tt,ut){for(var vn=U,ft=0;(vn+10)%10!==tt;)vn+=ut,ft+=ut;return ft}function Ae(U){var tt=U.prefixCls,ut=U.count,vn=U.value,ft=Number(vn),Ye=Math.abs(ut),Cn=H.useState(ft),cn=(0,Ze.Z)(Cn,2),mr=cn[0],pr=cn[1],hr=H.useState(Ye),Mt=(0,Ze.Z)(hr,2),yt=Mt[0],Et=Mt[1],$e=function(){pr(ft),Et(Ye)};H.useEffect(function(){var Yr=setTimeout(function(){$e()},1e3);return function(){clearTimeout(Yr)}},[ft]);var $t,Jt;if(mr===ft||Number.isNaN(ft)||Number.isNaN(mr))$t=[H.createElement(fe,(0,j.Z)({},U,{key:ft,current:!0}))],Jt={transition:"none"};else{$t=[];for(var tn=ft+10,ir=[],Or=ft;Or<=tn;Or+=1)ir.push(Or);var Fr=ir.findIndex(function(Yr){return Yr%10===mr});$t=ir.map(function(Yr,jn){var dr=Yr%10;return H.createElement(fe,(0,j.Z)({},U,{key:Yr,value:dr,offset:jn-Fr,current:jn===Fr}))});var lr=yt<Ye?1:-1;Jt={transform:"translateY(".concat(-Ce(mr,ft,lr),"00%)")}}return H.createElement("span",{className:"".concat(tt,"-only"),style:Jt,onTransitionEnd:$e},$t)}var Pe=function(U,tt){var ut={};for(var vn in U)Object.prototype.hasOwnProperty.call(U,vn)&&tt.indexOf(vn)<0&&(ut[vn]=U[vn]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ft=0,vn=Object.getOwnPropertySymbols(U);ft<vn.length;ft++)tt.indexOf(vn[ft])<0&&Object.prototype.propertyIsEnumerable.call(U,vn[ft])&&(ut[vn[ft]]=U[vn[ft]]);return ut},ie=function(tt){var ut=tt.prefixCls,vn=tt.count,ft=tt.className,Ye=tt.motionClassName,Cn=tt.style,cn=tt.title,mr=tt.show,pr=tt.component,hr=pr===void 0?"sup":pr,Mt=tt.children,yt=Pe(tt,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),Et=H.useContext(I.E_),$e=Et.getPrefixCls,$t=$e("scroll-number",ut),Jt=(0,j.Z)((0,j.Z)({},yt),{"data-show":mr,style:Cn,className:k()($t,ft,Ye),title:cn}),tn=vn;if(vn&&Number(vn)%1===0){var ir=String(vn).split("");tn=ir.map(function(Or,Fr){return H.createElement(Ae,{prefixCls:$t,count:Number(vn),value:Or,key:ir.length-Fr})})}return Cn&&Cn.borderColor&&(Jt.style=(0,j.Z)((0,j.Z)({},Cn),{boxShadow:"0 0 0 1px ".concat(Cn.borderColor," inset")})),Mt?(0,ee.Tm)(Mt,function(Or){return{className:k()("".concat($t,"-custom-component"),Or==null?void 0:Or.className,Ye)}}):H.createElement(hr,Jt,tn)},at=ie,mt=function(U,tt){var ut={};for(var vn in U)Object.prototype.hasOwnProperty.call(U,vn)&&tt.indexOf(vn)<0&&(ut[vn]=U[vn]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ft=0,vn=Object.getOwnPropertySymbols(U);ft<vn.length;ft++)tt.indexOf(vn[ft])<0&&Object.prototype.propertyIsEnumerable.call(U,vn[ft])&&(ut[vn[ft]]=U[vn[ft]]);return ut},vt=function(tt){var ut=tt.prefixCls,vn=tt.scrollNumberPrefixCls,ft=tt.children,Ye=tt.status,Cn=tt.text,cn=tt.color,mr=tt.count,pr=mr===void 0?null:mr,hr=tt.overflowCount,Mt=hr===void 0?99:hr,yt=tt.dot,Et=yt===void 0?!1:yt,$e=tt.size,$t=$e===void 0?"default":$e,Jt=tt.title,tn=tt.offset,ir=tt.style,Or=tt.className,Fr=tt.showZero,lr=Fr===void 0?!1:Fr,Yr=mt(tt,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),jn=H.useContext(I.E_),dr=jn.getPrefixCls,br=jn.direction,nr=dr("badge",ut),Lr=pr>Mt?"".concat(Mt,"+"):pr,Ji=Lr==="0"||Lr===0,Ci=pr===null||Ji&&!lr,$i=(Ye!=null||cn!=null)&&Ci,It=Et&&!Ji,Q=It?"":Lr,we=(0,H.useMemo)(function(){var kn=Q==null||Q==="";return(kn||Ji&&!lr)&&!It},[Q,Ji,lr,It]),Nt=(0,H.useRef)(pr);we||(Nt.current=pr);var jt=Nt.current,gt=(0,H.useRef)(Q);we||(gt.current=Q);var Je=gt.current,pt=(0,H.useRef)(It);we||(pt.current=It);var rt=(0,H.useMemo)(function(){if(!tn)return(0,j.Z)({},ir);var kn={marginTop:tn[1]};return br==="rtl"?kn.left=parseInt(tn[0],10):kn.right=-parseInt(tn[0],10),(0,j.Z)((0,j.Z)({},kn),ir)},[br,tn,ir]),qt=Jt!=null?Jt:typeof jt=="string"||typeof jt=="number"?jt:void 0,Dn=we||!Cn?null:H.createElement("span",{className:"".concat(nr,"-status-text")},Cn),_n=!jt||(0,M.Z)(jt)!=="object"?void 0:(0,ee.Tm)(jt,function(kn){return{style:(0,j.Z)((0,j.Z)({},rt),kn.style)}}),Wr=k()((0,B.Z)((0,B.Z)((0,B.Z)({},"".concat(nr,"-status-dot"),$i),"".concat(nr,"-status-").concat(Ye),!!Ye),"".concat(nr,"-status-").concat(cn),ue(cn))),Qn={};cn&&!ue(cn)&&(Qn.background=cn);var it=k()(nr,(0,B.Z)((0,B.Z)((0,B.Z)({},"".concat(nr,"-status"),$i),"".concat(nr,"-not-a-wrapper"),!ft),"".concat(nr,"-rtl"),br==="rtl"),Or);if(!ft&&$i){var mn=rt.color;return H.createElement("span",(0,j.Z)({},Yr,{className:it,style:rt}),H.createElement("span",{className:Wr,style:Qn}),Cn&&H.createElement("span",{style:{color:mn},className:"".concat(nr,"-status-text")},Cn))}return H.createElement("span",(0,j.Z)({},Yr,{className:it}),ft,H.createElement(F.ZP,{visible:!we,motionName:"".concat(nr,"-zoom"),motionAppear:!1,motionDeadline:1e3},function(kn){var gr=kn.className,kr=dr("scroll-number",vn),Ei=pt.current,er=k()((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)({},"".concat(nr,"-dot"),Ei),"".concat(nr,"-count"),!Ei),"".concat(nr,"-count-sm"),$t==="small"),"".concat(nr,"-multiple-words"),!Ei&&Je&&Je.toString().length>1),"".concat(nr,"-status-").concat(Ye),!!Ye),"".concat(nr,"-status-").concat(cn),ue(cn))),Tt=(0,j.Z)({},rt);return cn&&!ue(cn)&&(Tt=Tt||{},Tt.background=cn),H.createElement(at,{prefixCls:kr,show:!we,motionClassName:gr,className:er,count:Je,title:qt,style:Tt,key:"scrollNumber"},_n)}),Dn)};vt.Ribbon=ge;var Vt=vt},78045:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return Wr}});var B=w(4942),M=w(87462),j=w(74902),R=w(93967),k=w.n(R),F=w(50344),H=w(67294),I=w(53124),ee=w(99709),ae=w(96159),ue=w(80882),re=w(71002),ge=w(97685),Ze=w(90814),fe=w(1413),Ce=w(45987),Ae=w(11276),Pe={adjustX:1,adjustY:1},ie=[0,0],at={topLeft:{points:["bl","tl"],overflow:Pe,offset:[0,-4],targetOffset:ie},topCenter:{points:["bc","tc"],overflow:Pe,offset:[0,-4],targetOffset:ie},topRight:{points:["br","tr"],overflow:Pe,offset:[0,-4],targetOffset:ie},bottomLeft:{points:["tl","bl"],overflow:Pe,offset:[0,4],targetOffset:ie},bottomCenter:{points:["tc","bc"],overflow:Pe,offset:[0,4],targetOffset:ie},bottomRight:{points:["tr","br"],overflow:Pe,offset:[0,4],targetOffset:ie}},mt=at,vt=w(15105),Vt=w(75164),U=w(88603),tt=vt.Z.ESC,ut=vt.Z.TAB;function vn(Qn){var it=Qn.visible,mn=Qn.setTriggerVisible,kn=Qn.triggerRef,gr=Qn.onVisibleChange,kr=Qn.autoFocus,Ei=H.useRef(!1),er=function(){if(it&&kn.current){var Ut,Rn,Cr,si;(Ut=kn.current)===null||Ut===void 0||(Rn=Ut.triggerRef)===null||Rn===void 0||(Cr=Rn.current)===null||Cr===void 0||(si=Cr.focus)===null||si===void 0||si.call(Cr),mn(!1),typeof gr=="function"&&gr(!1)}},Tt=function(){var Ut,Rn,Cr,si,tr=(0,U.tS)((Ut=kn.current)===null||Ut===void 0||(Rn=Ut.popupRef)===null||Rn===void 0||(Cr=Rn.current)===null||Cr===void 0||(si=Cr.getElement)===null||si===void 0?void 0:si.call(Cr)),xn=tr[0];return xn!=null&&xn.focus?(xn.focus(),Ei.current=!0,!0):!1},sn=function(Ut){switch(Ut.keyCode){case tt:er();break;case ut:{var Rn=!1;Ei.current||(Rn=Tt()),Rn?Ut.preventDefault():er();break}}};H.useEffect(function(){return it?(window.addEventListener("keydown",sn),kr&&(0,Vt.Z)(Tt,3),function(){window.removeEventListener("keydown",sn),Ei.current=!1}):function(){Ei.current=!1}},[it])}var ft=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function Ye(Qn,it){var mn=Qn.arrow,kn=mn===void 0?!1:mn,gr=Qn.prefixCls,kr=gr===void 0?"rc-dropdown":gr,Ei=Qn.transitionName,er=Qn.animation,Tt=Qn.align,sn=Qn.placement,_t=sn===void 0?"bottomLeft":sn,Ut=Qn.placements,Rn=Ut===void 0?mt:Ut,Cr=Qn.getPopupContainer,si=Qn.showAction,tr=Qn.hideAction,xn=Qn.overlayClassName,Hn=Qn.overlayStyle,Kn=Qn.visible,yn=Qn.trigger,Sr=yn===void 0?["hover"]:yn,yr=Qn.autoFocus,Tr=(0,Ce.Z)(Qn,ft),rn=H.useState(),hn=(0,ge.Z)(rn,2),or=hn[0],Ke=hn[1],Xe="visible"in Qn?Kn:or,je=H.useRef(null);H.useImperativeHandle(it,function(){return je.current}),vn({visible:Xe,setTriggerVisible:Ke,triggerRef:je,onVisibleChange:Qn.onVisibleChange,autoFocus:yr});var me=function(){var ve=Qn.overlay,pe;return typeof ve=="function"?pe=ve():pe=ve,pe},ze=function(ve){var pe=Qn.onOverlayClick;Ke(!1),pe&&pe(ve)},Oe=function(ve){var pe=Qn.onVisibleChange;Ke(ve),typeof pe=="function"&&pe(ve)},Y=function(){var ve=me();return H.createElement(H.Fragment,null,kn&&H.createElement("div",{className:"".concat(kr,"-arrow")}),ve)},ne=function(){var ve=Qn.overlay;return typeof ve=="function"?Y:Y()},W=function(){var ve=Qn.minOverlayWidthMatchTrigger,pe=Qn.alignPoint;return"minOverlayWidthMatchTrigger"in Qn?ve:!pe},S=function(){var ve=Qn.openClassName;return ve!==void 0?ve:"".concat(kr,"-open")},A=function(){var ve=Qn.children,pe=ve.props?ve.props:{},Ee=k()(pe.className,S());return Xe&&ve?H.cloneElement(ve,{className:Ee}):ve},L=tr;return!L&&Sr.indexOf("contextMenu")!==-1&&(L=["click"]),H.createElement(Ae.Z,(0,fe.Z)((0,fe.Z)({builtinPlacements:Rn},Tr),{},{prefixCls:kr,ref:je,popupClassName:k()(xn,(0,B.Z)({},"".concat(kr,"-show-arrow"),kn)),popupStyle:Hn,action:Sr,showAction:si,hideAction:L||[],popupPlacement:_t,popupAlign:Tt,popupTransitionName:Ei,popupAnimation:er,popupVisible:Xe,stretch:W()?"minWidth":"",popup:ne(),onPopupVisibleChange:Oe,onPopupClick:ze,getPopupContainer:Cr}),A())}var Cn=H.forwardRef(Ye),cn=Cn,mr=w(66680),pr=w(21770),hr=w(76529),Mt=w(80636),yt=w(93355),Et=w(89705),$e=w(71577),$t=w(4173),Jt=w(98082);function tn(Qn){var it=Qn.className,mn=Qn.direction,kn=Qn.index,gr=Qn.marginDirection,kr=Qn.children,Ei=Qn.split,er=Qn.wrap,Tt=H.useContext(Or),sn=Tt.horizontalSize,_t=Tt.verticalSize,Ut=Tt.latestIndex,Rn=Tt.supportFlexGap,Cr={};return Rn||(mn==="vertical"?kn<Ut&&(Cr={marginBottom:sn/(Ei?2:1)}):Cr=(0,M.Z)((0,M.Z)({},kn<Ut&&(0,B.Z)({},gr,sn/(Ei?2:1))),er&&{paddingBottom:_t})),kr==null?null:H.createElement(H.Fragment,null,H.createElement("div",{className:it,style:Cr},kr),kn<Ut&&Ei&&H.createElement("span",{className:"".concat(it,"-split"),style:Cr},Ei))}var ir=function(Qn,it){var mn={};for(var kn in Qn)Object.prototype.hasOwnProperty.call(Qn,kn)&&it.indexOf(kn)<0&&(mn[kn]=Qn[kn]);if(Qn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gr=0,kn=Object.getOwnPropertySymbols(Qn);gr<kn.length;gr++)it.indexOf(kn[gr])<0&&Object.prototype.propertyIsEnumerable.call(Qn,kn[gr])&&(mn[kn[gr]]=Qn[kn[gr]]);return mn},Or=H.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),Fr={small:8,middle:16,large:24};function lr(Qn){return typeof Qn=="string"?Fr[Qn]:Qn||0}var Yr=function(it){var mn=H.useContext(I.E_),kn=mn.getPrefixCls,gr=mn.space,kr=mn.direction,Ei=it.size,er=Ei===void 0?(gr==null?void 0:gr.size)||"small":Ei,Tt=it.align,sn=it.className,_t=it.children,Ut=it.direction,Rn=Ut===void 0?"horizontal":Ut,Cr=it.prefixCls,si=it.split,tr=it.style,xn=it.wrap,Hn=xn===void 0?!1:xn,Kn=ir(it,["size","align","className","children","direction","prefixCls","split","style","wrap"]),yn=(0,Jt.Z)(),Sr=H.useMemo(function(){return(Array.isArray(er)?er:[er,er]).map(function(W){return lr(W)})},[er]),yr=(0,ge.Z)(Sr,2),Tr=yr[0],rn=yr[1],hn=(0,F.Z)(_t,{keepEmpty:!0}),or=Tt===void 0&&Rn==="horizontal"?"center":Tt,Ke=kn("space",Cr),Xe=k()(Ke,"".concat(Ke,"-").concat(Rn),(0,B.Z)((0,B.Z)({},"".concat(Ke,"-rtl"),kr==="rtl"),"".concat(Ke,"-align-").concat(or),or),sn),je="".concat(Ke,"-item"),me=kr==="rtl"?"marginLeft":"marginRight",ze=0,Oe=hn.map(function(W,S){W!=null&&(ze=S);var A=W&&W.key||"".concat(je,"-").concat(S);return H.createElement(tn,{className:je,key:A,direction:Rn,index:S,marginDirection:me,split:si,wrap:Hn},W)}),Y=H.useMemo(function(){return{horizontalSize:Tr,verticalSize:rn,latestIndex:ze,supportFlexGap:yn}},[Tr,rn,ze,yn]);if(hn.length===0)return null;var ne={};return Hn&&(ne.flexWrap="wrap",yn||(ne.marginBottom=-rn)),yn&&(ne.columnGap=Tr,ne.rowGap=rn),H.createElement("div",(0,M.Z)({className:Xe,style:(0,M.Z)((0,M.Z)({},ne),tr)},Kn),H.createElement(Or.Provider,{value:Y},Oe))},jn=Yr;jn.Compact=$t.ZP;var dr=jn,br=function(Qn,it){var mn={};for(var kn in Qn)Object.prototype.hasOwnProperty.call(Qn,kn)&&it.indexOf(kn)<0&&(mn[kn]=Qn[kn]);if(Qn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gr=0,kn=Object.getOwnPropertySymbols(Qn);gr<kn.length;gr++)it.indexOf(kn[gr])<0&&Object.prototype.propertyIsEnumerable.call(Qn,kn[gr])&&(mn[kn[gr]]=Qn[kn[gr]]);return mn},nr=function(it){var mn=H.useContext(I.E_),kn=mn.getPopupContainer,gr=mn.getPrefixCls,kr=mn.direction,Ei=it.prefixCls,er=it.type,Tt=er===void 0?"default":er,sn=it.danger,_t=it.disabled,Ut=it.loading,Rn=it.onClick,Cr=it.htmlType,si=it.children,tr=it.className,xn=it.menu,Hn=it.arrow,Kn=it.autoFocus,yn=it.overlay,Sr=it.trigger,yr=it.align,Tr=it.visible,rn=it.open,hn=it.onVisibleChange,or=it.onOpenChange,Ke=it.placement,Xe=it.getPopupContainer,je=it.href,me=it.icon,ze=me===void 0?H.createElement(Et.Z,null):me,Oe=it.title,Y=it.buttonsRender,ne=Y===void 0?function(Zn){return Zn}:Y,W=it.mouseEnterDelay,S=it.mouseLeaveDelay,A=it.overlayClassName,L=it.overlayStyle,ce=it.destroyPopupOnHide,ve=br(it,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","visible","open","onVisibleChange","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide"]),pe=gr("dropdown-button",Ei),Ee={menu:xn,arrow:Hn,autoFocus:Kn,align:yr,disabled:_t,trigger:_t?[]:Sr,onOpenChange:or||hn,getPopupContainer:Xe||kn,mouseEnterDelay:W,mouseLeaveDelay:S,overlayClassName:A,overlayStyle:L,destroyPopupOnHide:ce},ht=(0,$t.ri)(pe,kr),ct=ht.compactSize,nt=ht.compactItemClassnames,Rt=k()(pe,nt,tr);"overlay"in it&&(Ee.overlay=yn),"open"in it?Ee.open=rn:"visible"in it&&(Ee.open=Tr),"placement"in it?Ee.placement=Ke:Ee.placement=kr==="rtl"?"bottomLeft":"bottomRight";var kt=H.createElement($e.Z,{type:Tt,danger:sn,disabled:_t,loading:Ut,onClick:Rn,htmlType:Cr,href:je,title:Oe},si),bn=H.createElement($e.Z,{type:Tt,danger:sn,icon:ze}),pn=ne([kt,bn]),Lt=(0,ge.Z)(pn,2),Bt=Lt[0],In=Lt[1];return H.createElement(dr.Compact,(0,M.Z)({className:Rt,size:ct,block:!0},ve),Bt,H.createElement($i,(0,M.Z)({},Ee),In))};nr.__ANT_BUTTON=!0;var Lr=nr,Ji=(0,yt.b)("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight","top","bottom"),Ci=function(it){var mn=H.useContext(I.E_),kn=mn.getPopupContainer,gr=mn.getPrefixCls,kr=mn.direction,Ei=function(){var ht=gr(),ct=it.placement,nt=ct===void 0?"":ct,Rt=it.transitionName;return Rt!==void 0?Rt:nt.includes("top")?"".concat(ht,"-slide-down"):"".concat(ht,"-slide-up")},er=function(){var ht=it.placement;if(!ht)return kr==="rtl"?"bottomRight":"bottomLeft";if(ht.includes("Center")){var ct=ht.slice(0,ht.indexOf("Center"));return ct}return ht},Tt=it.menu,sn=it.arrow,_t=it.prefixCls,Ut=it.children,Rn=it.trigger,Cr=it.disabled,si=it.dropdownRender,tr=it.getPopupContainer,xn=it.overlayClassName,Hn=it.visible,Kn=it.open,yn=it.onVisibleChange,Sr=it.onOpenChange,yr=it.mouseEnterDelay,Tr=yr===void 0?.15:yr,rn=it.mouseLeaveDelay,hn=rn===void 0?.1:rn,or=it.autoAdjustOverflow,Ke=or===void 0?!0:or,Xe=gr("dropdown",_t),je=H.Children.only(Ut),me=(0,ae.Tm)(je,{className:k()("".concat(Xe,"-trigger"),(0,B.Z)({},"".concat(Xe,"-rtl"),kr==="rtl"),je.props.className),disabled:Cr}),ze=Cr?[]:Rn,Oe;ze&&ze.includes("contextMenu")&&(Oe=!0);var Y=(0,pr.Z)(!1,{value:Kn!==void 0?Kn:Hn}),ne=(0,ge.Z)(Y,2),W=ne[0],S=ne[1],A=(0,mr.Z)(function(Ee){yn==null||yn(Ee),Sr==null||Sr(Ee),S(Ee)}),L=k()(xn,(0,B.Z)({},"".concat(Xe,"-rtl"),kr==="rtl")),ce=(0,Mt.Z)({arrowPointAtCenter:(0,re.Z)(sn)==="object"&&sn.pointAtCenter,autoAdjustOverflow:Ke}),ve=H.useCallback(function(){S(!1)},[]),pe=function(){var ht=it.overlay,ct;return Tt!=null&&Tt.items?ct=H.createElement(ee.Z,(0,M.Z)({},Tt)):typeof ht=="function"?ct=ht():ct=ht,si&&(ct=si(ct)),ct=H.Children.only(typeof ct=="string"?H.createElement("span",null,ct):ct),H.createElement(hr.J,{prefixCls:"".concat(Xe,"-menu"),expandIcon:H.createElement("span",{className:"".concat(Xe,"-menu-submenu-arrow")},H.createElement(Ze.Z,{className:"".concat(Xe,"-menu-submenu-arrow-icon")})),mode:"vertical",selectable:!1,onClick:ve,validator:function(Rt){var kt=Rt.mode}},H.createElement($t.BR,null,ct))};return H.createElement(cn,(0,M.Z)({alignPoint:Oe},it,{mouseEnterDelay:Tr,mouseLeaveDelay:hn,visible:W,builtinPlacements:ce,arrow:!!sn,overlayClassName:L,prefixCls:Xe,getPopupContainer:tr||kn,transitionName:Ei(),trigger:ze,overlay:pe,placement:er(),onVisibleChange:A}),me)};Ci.Button=Lr;var $i=Ci,It=function(Qn,it){var mn={};for(var kn in Qn)Object.prototype.hasOwnProperty.call(Qn,kn)&&it.indexOf(kn)<0&&(mn[kn]=Qn[kn]);if(Qn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gr=0,kn=Object.getOwnPropertySymbols(Qn);gr<kn.length;gr++)it.indexOf(kn[gr])<0&&Object.prototype.propertyIsEnumerable.call(Qn,kn[gr])&&(mn[kn[gr]]=Qn[kn[gr]]);return mn},Q=function(it){var mn=it.prefixCls,kn=it.separator,gr=kn===void 0?"/":kn,kr=it.children,Ei=it.menu,er=it.overlay,Tt=it.dropdownProps,sn=It(it,["prefixCls","separator","children","menu","overlay","dropdownProps"]),_t=H.useContext(I.E_),Ut=_t.getPrefixCls,Rn=Ut("breadcrumb",mn),Cr=function(xn){if(Ei||er){var Hn=(0,M.Z)({},Tt);return"overlay"in it&&(Hn.overlay=er),H.createElement($i,(0,M.Z)({menu:Ei,placement:"bottom"},Hn),H.createElement("span",{className:"".concat(Rn,"-overlay-link")},xn,H.createElement(ue.Z,null)))}return xn},si;return"href"in sn?si=H.createElement("a",(0,M.Z)({className:"".concat(Rn,"-link")},sn),kr):si=H.createElement("span",(0,M.Z)({className:"".concat(Rn,"-link")},sn),kr),si=Cr(si),kr!=null?H.createElement("li",null,si,gr&&H.createElement("span",{className:"".concat(Rn,"-separator")},gr)):null};Q.__ANT_BREADCRUMB_ITEM=!0;var we=Q,Nt=function(it){var mn=it.children,kn=H.useContext(I.E_),gr=kn.getPrefixCls,kr=gr("breadcrumb");return H.createElement("span",{className:"".concat(kr,"-separator")},mn||"/")};Nt.__ANT_BREADCRUMB_SEPARATOR=!0;var jt=Nt,gt=function(Qn,it){var mn={};for(var kn in Qn)Object.prototype.hasOwnProperty.call(Qn,kn)&&it.indexOf(kn)<0&&(mn[kn]=Qn[kn]);if(Qn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gr=0,kn=Object.getOwnPropertySymbols(Qn);gr<kn.length;gr++)it.indexOf(kn[gr])<0&&Object.prototype.propertyIsEnumerable.call(Qn,kn[gr])&&(mn[kn[gr]]=Qn[kn[gr]]);return mn};function Je(Qn,it){if(!Qn.breadcrumbName)return null;var mn=Object.keys(it).join("|"),kn=Qn.breadcrumbName.replace(new RegExp(":(".concat(mn,")"),"g"),function(gr,kr){return it[kr]||gr});return kn}function pt(Qn,it,mn,kn){var gr=mn.indexOf(Qn)===mn.length-1,kr=Je(Qn,it);return gr?H.createElement("span",null,kr):H.createElement("a",{href:"#/".concat(kn.join("/"))},kr)}var rt=function(it,mn){return it=(it||"").replace(/^\//,""),Object.keys(mn).forEach(function(kn){it=it.replace(":".concat(kn),mn[kn])}),it},qt=function(it,mn,kn){var gr=(0,j.Z)(it),kr=rt(mn||"",kn);return kr&&gr.push(kr),gr},Dn=function(it){var mn=it.prefixCls,kn=it.separator,gr=kn===void 0?"/":kn,kr=it.style,Ei=it.className,er=it.routes,Tt=it.children,sn=it.itemRender,_t=sn===void 0?pt:sn,Ut=it.params,Rn=Ut===void 0?{}:Ut,Cr=gt(it,["prefixCls","separator","style","className","routes","children","itemRender","params"]),si=H.useContext(I.E_),tr=si.getPrefixCls,xn=si.direction,Hn,Kn=tr("breadcrumb",mn);if(er&&er.length>0){var yn=[];Hn=er.map(function(yr){var Tr=rt(yr.path,Rn);Tr&&yn.push(Tr);var rn;yr.children&&yr.children.length&&(rn=H.createElement(ee.Z,{items:yr.children.map(function(or){return{key:or.path||or.breadcrumbName,label:_t(or,Rn,er,qt(yn,or.path,Rn))}})}));var hn={separator:gr};return rn&&(hn.overlay=rn),H.createElement(we,(0,M.Z)({},hn,{key:Tr||yr.breadcrumbName}),_t(yr,Rn,er,yn))})}else Tt&&(Hn=(0,F.Z)(Tt).map(function(yr,Tr){return yr&&(0,ae.Tm)(yr,{separator:gr,key:Tr})}));var Sr=k()(Kn,(0,B.Z)({},"".concat(Kn,"-rtl"),xn==="rtl"),Ei);return H.createElement("nav",(0,M.Z)({className:Sr,style:kr},Cr),H.createElement("ol",null,Hn))};Dn.Item=we,Dn.Separator=jt;var _n=Dn,Wr=_n},16548:function(Ne,te,w){"use strict";w.d(te,{n:function(){return It},Z:function(){return Nt}});var B=w(87462),M=w(4942),j=w(97685),R=w(71002),k=w(93967),F=w.n(k),H=w(98423),I=w(67294),ee=w(53124),ae=w(98866),ue=w(97647),re=w(4173),ge=w(96159),Ze=w(93355),fe=w(15671),Ce=w(43144),Ae=w(82963),Pe=w(78814),ie=w(61120),at=w(97326),mt=w(32531),vt=w(44958),Vt=w(42550),U=w(75164),tt=0,ut={};function vn(jt){var gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Je=tt++,pt=gt;function rt(){pt-=1,pt<=0?(jt(),delete ut[Je]):ut[Je]=(0,U.Z)(rt)}return ut[Je]=(0,U.Z)(rt),Je}vn.cancel=function(gt){gt!==void 0&&(U.Z.cancel(ut[gt]),delete ut[gt])},vn.ids=ut;function ft(jt,gt,Je){return gt=(0,ie.Z)(gt),(0,Ae.Z)(jt,(0,Pe.Z)()?Reflect.construct(gt,Je||[],(0,ie.Z)(jt).constructor):gt.apply(jt,Je))}var Ye;function Cn(jt){return!jt||jt.offsetParent===null||jt.hidden}function cn(jt){return jt instanceof Document?jt.body:Array.from(jt.childNodes).find(function(gt){return(gt==null?void 0:gt.nodeType)===Node.ELEMENT_NODE})}function mr(jt){var gt=(jt||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return gt&&gt[1]&&gt[2]&&gt[3]?!(gt[1]===gt[2]&&gt[2]===gt[3]):!0}var pr=function(jt){(0,mt.Z)(gt,jt);function gt(){var Je;return(0,fe.Z)(this,gt),Je=ft(this,gt,arguments),Je.containerRef=I.createRef(),Je.animationStart=!1,Je.destroyed=!1,Je.onClick=function(pt,rt){var qt,Dn,_n=Je.props,Wr=_n.insertExtraNode,Qn=_n.disabled;if(!(Qn||!pt||Cn(pt)||pt.className.includes("-leave"))){Je.extraNode=document.createElement("div");var it=(0,at.Z)(Je),mn=it.extraNode,kn=Je.context.getPrefixCls;mn.className="".concat(kn(""),"-click-animating-node");var gr=Je.getAttributeName();if(pt.setAttribute(gr,"true"),rt&&rt!=="#fff"&&rt!=="#ffffff"&&rt!=="rgb(255, 255, 255)"&&rt!=="rgba(255, 255, 255, 1)"&&mr(rt)&&!/rgba\((?:\d*, ){3}0\)/.test(rt)&&rt!=="transparent"){mn.style.borderColor=rt;var kr=((qt=pt.getRootNode)===null||qt===void 0?void 0:qt.call(pt))||pt.ownerDocument,Ei=(Dn=cn(kr))!==null&&Dn!==void 0?Dn:kr;Ye=(0,vt.hq)(`
      [`.concat(kn(""),"-click-animating-without-extra-node='true']::after, .").concat(kn(""),`-click-animating-node {
        --antd-wave-shadow-color: `).concat(rt,`;
      }`),"antd-wave",{csp:Je.csp,attachTo:Ei})}Wr&&pt.appendChild(mn),["transition","animation"].forEach(function(er){pt.addEventListener("".concat(er,"start"),Je.onTransitionStart),pt.addEventListener("".concat(er,"end"),Je.onTransitionEnd)})}},Je.onTransitionStart=function(pt){if(!Je.destroyed){var rt=Je.containerRef.current;!pt||pt.target!==rt||Je.animationStart||Je.resetEffect(rt)}},Je.onTransitionEnd=function(pt){!pt||pt.animationName!=="fadeEffect"||Je.resetEffect(pt.target)},Je.bindAnimationEvent=function(pt){if(!(!pt||!pt.getAttribute||pt.getAttribute("disabled")||pt.className.includes("disabled"))){var rt=function(Dn){if(!(Dn.target.tagName==="INPUT"||Cn(Dn.target))){Je.resetEffect(pt);var _n=getComputedStyle(pt).getPropertyValue("border-top-color")||getComputedStyle(pt).getPropertyValue("border-color")||getComputedStyle(pt).getPropertyValue("background-color");Je.clickWaveTimeoutId=window.setTimeout(function(){return Je.onClick(pt,_n)},0),vn.cancel(Je.animationStartId),Je.animationStart=!0,Je.animationStartId=vn(function(){Je.animationStart=!1},10)}};return pt.addEventListener("click",rt,!0),{cancel:function(){pt.removeEventListener("click",rt,!0)}}}},Je.renderWave=function(pt){var rt=pt.csp,qt=Je.props.children;if(Je.csp=rt,!I.isValidElement(qt))return qt;var Dn=Je.containerRef;return(0,Vt.Yr)(qt)&&(Dn=(0,Vt.sQ)(qt.ref,Je.containerRef)),(0,ge.Tm)(qt,{ref:Dn})},Je}return(0,Ce.Z)(gt,[{key:"componentDidMount",value:function(){this.destroyed=!1;var pt=this.containerRef.current;!pt||pt.nodeType!==1||(this.instance=this.bindAnimationEvent(pt))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var pt=this.context.getPrefixCls,rt=this.props.insertExtraNode;return rt?"".concat(pt(""),"-click-animating"):"".concat(pt(""),"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(pt){var rt=this;if(!(!pt||pt===this.extraNode||!(pt instanceof Element))){var qt=this.props.insertExtraNode,Dn=this.getAttributeName();pt.setAttribute(Dn,"false"),Ye&&(Ye.innerHTML=""),qt&&this.extraNode&&pt.contains(this.extraNode)&&pt.removeChild(this.extraNode),["transition","animation"].forEach(function(_n){pt.removeEventListener("".concat(_n,"start"),rt.onTransitionStart),pt.removeEventListener("".concat(_n,"end"),rt.onTransitionEnd)})}}},{key:"render",value:function(){return I.createElement(ee.C,null,this.renderWave)}}]),gt}(I.Component);pr.contextType=ee.E_;var hr=pr,Mt=function(jt,gt){var Je={};for(var pt in jt)Object.prototype.hasOwnProperty.call(jt,pt)&&gt.indexOf(pt)<0&&(Je[pt]=jt[pt]);if(jt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,pt=Object.getOwnPropertySymbols(jt);rt<pt.length;rt++)gt.indexOf(pt[rt])<0&&Object.prototype.propertyIsEnumerable.call(jt,pt[rt])&&(Je[pt[rt]]=jt[pt[rt]]);return Je},yt=I.createContext(void 0),Et=function(gt){var Je=I.useContext(ee.E_),pt=Je.getPrefixCls,rt=Je.direction,qt=gt.prefixCls,Dn=gt.size,_n=gt.className,Wr=Mt(gt,["prefixCls","size","className"]),Qn=pt("btn-group",qt),it="";switch(Dn){case"large":it="lg";break;case"small":it="sm";break;case"middle":case void 0:break;default:}var mn=F()(Qn,(0,M.Z)((0,M.Z)({},"".concat(Qn,"-").concat(it),it),"".concat(Qn,"-rtl"),rt==="rtl"),_n);return I.createElement(yt.Provider,{value:Dn},I.createElement("div",(0,B.Z)({},Wr,{className:mn})))},$e=Et,$t=w(50888),Jt=w(29372),tn=function(){return{width:0,opacity:0,transform:"scale(0)"}},ir=function(gt){return{width:gt.scrollWidth,opacity:1,transform:"scale(1)"}},Or=function(gt){var Je=gt.prefixCls,pt=gt.loading,rt=gt.existIcon,qt=!!pt;return rt?I.createElement("span",{className:"".concat(Je,"-loading-icon")},I.createElement($t.Z,null)):I.createElement(Jt.ZP,{visible:qt,motionName:"".concat(Je,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:tn,onAppearActive:ir,onEnterStart:tn,onEnterActive:ir,onLeaveStart:ir,onLeaveActive:tn},function(Dn,_n){var Wr=Dn.className,Qn=Dn.style;return I.createElement("span",{className:"".concat(Je,"-loading-icon"),style:Qn,ref:_n},I.createElement($t.Z,{className:Wr}))})},Fr=Or,lr=function(jt,gt){var Je={};for(var pt in jt)Object.prototype.hasOwnProperty.call(jt,pt)&&gt.indexOf(pt)<0&&(Je[pt]=jt[pt]);if(jt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,pt=Object.getOwnPropertySymbols(jt);rt<pt.length;rt++)gt.indexOf(pt[rt])<0&&Object.prototype.propertyIsEnumerable.call(jt,pt[rt])&&(Je[pt[rt]]=jt[pt[rt]]);return Je},Yr=/^[\u4e00-\u9fa5]{2}$/,jn=Yr.test.bind(Yr);function dr(jt){return typeof jt=="string"}function br(jt){return jt==="text"||jt==="link"}function nr(jt,gt){if(jt!=null){var Je=gt?" ":"";return typeof jt!="string"&&typeof jt!="number"&&dr(jt.type)&&jn(jt.props.children)?(0,ge.Tm)(jt,{children:jt.props.children.split("").join(Je)}):typeof jt=="string"?jn(jt)?I.createElement("span",null,jt.split("").join(Je)):I.createElement("span",null,jt):(0,ge.M2)(jt)?I.createElement("span",null,jt):jt}}function Lr(jt,gt){var Je=!1,pt=[];return I.Children.forEach(jt,function(rt){var qt=(0,R.Z)(rt),Dn=qt==="string"||qt==="number";if(Je&&Dn){var _n=pt.length-1,Wr=pt[_n];pt[_n]="".concat(Wr).concat(rt)}else pt.push(rt);Je=Dn}),I.Children.map(pt,function(rt){return nr(rt,gt)})}var Ji=(0,Ze.b)("default","primary","ghost","dashed","link","text"),Ci=(0,Ze.b)("default","circle","round"),$i=(0,Ze.b)("submit","button","reset");function It(jt){return jt==="danger"?{danger:!0}:{type:jt}}var Q=function(gt,Je){var pt,rt=gt.loading,qt=rt===void 0?!1:rt,Dn=gt.prefixCls,_n=gt.type,Wr=_n===void 0?"default":_n,Qn=gt.danger,it=gt.shape,mn=it===void 0?"default":it,kn=gt.size,gr=gt.disabled,kr=gt.className,Ei=gt.children,er=gt.icon,Tt=gt.ghost,sn=Tt===void 0?!1:Tt,_t=gt.block,Ut=_t===void 0?!1:_t,Rn=gt.htmlType,Cr=Rn===void 0?"button":Rn,si=lr(gt,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),tr=I.useContext(ue.Z),xn=I.useContext(ae.Z),Hn=gr!=null?gr:xn,Kn=I.useContext(yt),yn=I.useState(!!qt),Sr=(0,j.Z)(yn,2),yr=Sr[0],Tr=Sr[1],rn=I.useState(!1),hn=(0,j.Z)(rn,2),or=hn[0],Ke=hn[1],Xe=I.useContext(ee.E_),je=Xe.getPrefixCls,me=Xe.autoInsertSpaceInButton,ze=Xe.direction,Oe=Je||I.createRef(),Y=function(){return I.Children.count(Ei)===1&&!er&&!br(Wr)},ne=function(){if(!(!Oe||!Oe.current||me===!1)){var In=Oe.current.textContent;Y()&&jn(In)?or||Ke(!0):or&&Ke(!1)}},W=typeof qt=="boolean"?qt:(qt==null?void 0:qt.delay)||!0;I.useEffect(function(){var Bt=null;return typeof W=="number"?Bt=window.setTimeout(function(){Bt=null,Tr(W)},W):Tr(W),function(){Bt&&(window.clearTimeout(Bt),Bt=null)}},[W]),I.useEffect(ne,[Oe]);var S=function(In){var Zn=gt.onClick;if(yr||Hn){In.preventDefault();return}Zn==null||Zn(In)},A=je("btn",Dn),L=me!==!1,ce=(0,re.ri)(A,ze),ve=ce.compactSize,pe=ce.compactItemClassnames,Ee={large:"lg",small:"sm",middle:void 0},ht=ve||Kn||kn||tr,ct=ht&&Ee[ht]||"",nt=yr?"loading":er,Rt=(0,H.Z)(si,["navigate"]),kt=F()(A,(pt={},(0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)(pt,"".concat(A,"-").concat(mn),mn!=="default"&&mn),"".concat(A,"-").concat(Wr),Wr),"".concat(A,"-").concat(ct),ct),"".concat(A,"-icon-only"),!Ei&&Ei!==0&&!!nt),"".concat(A,"-background-ghost"),sn&&!br(Wr)),"".concat(A,"-loading"),yr),"".concat(A,"-two-chinese-chars"),or&&L&&!yr),"".concat(A,"-block"),Ut),"".concat(A,"-dangerous"),!!Qn),"".concat(A,"-rtl"),ze==="rtl"),(0,M.Z)(pt,"".concat(A,"-disabled"),Rt.href!==void 0&&Hn)),pe,kr),bn=er&&!yr?er:I.createElement(Fr,{existIcon:!!er,prefixCls:A,loading:!!yr}),pn=Ei||Ei===0?Lr(Ei,Y()&&L):null;if(Rt.href!==void 0)return I.createElement("a",(0,B.Z)({},Rt,{className:kt,onClick:S,ref:Oe}),bn,pn);var Lt=I.createElement("button",(0,B.Z)({},si,{type:Cr,className:kt,onClick:S,disabled:Hn,ref:Oe}),bn,pn);return br(Wr)?Lt:I.createElement(hr,{disabled:!!yr},Lt)},we=I.forwardRef(Q);we.Group=$e,we.__ANT_BUTTON=!0;var Nt=we},71577:function(Ne,te,w){"use strict";var B=w(16548);te.Z=B.Z},54907:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return Et}});var B=w(87462),M=w(4942),j=w(90814),R=w(93967),k=w.n(R),F=w(74902),H=w(15671),I=w(43144),ee=w(32531),ae=w(29388),ue=w(71002),re=w(50344),ge=w(67294),Ze=w(96774),fe=w.n(Ze),Ce=w(45987),Ae=w(29372),Pe=w(97685),ie=ge.forwardRef(function($e,$t){var Jt,tn=$e.prefixCls,ir=$e.forceRender,Or=$e.className,Fr=$e.style,lr=$e.children,Yr=$e.isActive,jn=$e.role,dr=ge.useState(Yr||ir),br=(0,Pe.Z)(dr,2),nr=br[0],Lr=br[1];return ge.useEffect(function(){(ir||Yr)&&Lr(!0)},[ir,Yr]),nr?ge.createElement("div",{ref:$t,className:k()("".concat(tn,"-content"),(Jt={},(0,M.Z)(Jt,"".concat(tn,"-content-active"),Yr),(0,M.Z)(Jt,"".concat(tn,"-content-inactive"),!Yr),Jt),Or),style:Fr,role:jn},ge.createElement("div",{className:"".concat(tn,"-content-box")},lr)):null});ie.displayName="PanelContent";var at=ie,mt=["className","id","style","prefixCls","headerClass","children","isActive","destroyInactivePanel","accordion","forceRender","openMotion","extra","collapsible"],vt=function($e){(0,ee.Z)(Jt,$e);var $t=(0,ae.Z)(Jt);function Jt(){var tn;(0,H.Z)(this,Jt);for(var ir=arguments.length,Or=new Array(ir),Fr=0;Fr<ir;Fr++)Or[Fr]=arguments[Fr];return tn=$t.call.apply($t,[this].concat(Or)),tn.onItemClick=function(){var lr=tn.props,Yr=lr.onItemClick,jn=lr.panelKey;typeof Yr=="function"&&Yr(jn)},tn.handleKeyPress=function(lr){(lr.key==="Enter"||lr.keyCode===13||lr.which===13)&&tn.onItemClick()},tn.renderIcon=function(){var lr=tn.props,Yr=lr.showArrow,jn=lr.expandIcon,dr=lr.prefixCls,br=lr.collapsible;if(!Yr)return null;var nr=typeof jn=="function"?jn(tn.props):ge.createElement("i",{className:"arrow"});return nr&&ge.createElement("div",{className:"".concat(dr,"-expand-icon"),onClick:br==="header"||br==="icon"?tn.onItemClick:null},nr)},tn.renderTitle=function(){var lr=tn.props,Yr=lr.header,jn=lr.prefixCls,dr=lr.collapsible;return ge.createElement("span",{className:"".concat(jn,"-header-text"),onClick:dr==="header"?tn.onItemClick:null},Yr)},tn}return(0,I.Z)(Jt,[{key:"shouldComponentUpdate",value:function(ir){return!fe()(this.props,ir)}},{key:"render",value:function(){var ir,Or,Fr=this.props,lr=Fr.className,Yr=Fr.id,jn=Fr.style,dr=Fr.prefixCls,br=Fr.headerClass,nr=Fr.children,Lr=Fr.isActive,Ji=Fr.destroyInactivePanel,Ci=Fr.accordion,$i=Fr.forceRender,It=Fr.openMotion,Q=Fr.extra,we=Fr.collapsible,Nt=(0,Ce.Z)(Fr,mt),jt=we==="disabled",gt=we==="header",Je=we==="icon",pt=k()((ir={},(0,M.Z)(ir,"".concat(dr,"-item"),!0),(0,M.Z)(ir,"".concat(dr,"-item-active"),Lr),(0,M.Z)(ir,"".concat(dr,"-item-disabled"),jt),ir),lr),rt=k()("".concat(dr,"-header"),(Or={},(0,M.Z)(Or,br,br),(0,M.Z)(Or,"".concat(dr,"-header-collapsible-only"),gt),(0,M.Z)(Or,"".concat(dr,"-icon-collapsible-only"),Je),Or)),qt={className:rt,"aria-expanded":Lr,"aria-disabled":jt,onKeyPress:this.handleKeyPress};!gt&&!Je&&(qt.onClick=this.onItemClick,qt.role=Ci?"tab":"button",qt.tabIndex=jt?-1:0);var Dn=Q!=null&&typeof Q!="boolean";return delete Nt.header,delete Nt.panelKey,delete Nt.onItemClick,delete Nt.showArrow,delete Nt.expandIcon,ge.createElement("div",(0,B.Z)({},Nt,{className:pt,style:jn,id:Yr}),ge.createElement("div",qt,this.renderIcon(),this.renderTitle(),Dn&&ge.createElement("div",{className:"".concat(dr,"-extra")},Q)),ge.createElement(Ae.ZP,(0,B.Z)({visible:Lr,leavedClassName:"".concat(dr,"-content-hidden")},It,{forceRender:$i,removeOnLeave:Ji}),function(_n,Wr){var Qn=_n.className,it=_n.style;return ge.createElement(at,{ref:Wr,prefixCls:dr,className:Qn,style:it,isActive:Lr,forceRender:$i,role:Ci?"tabpanel":null},nr)}))}}]),Jt}(ge.Component);vt.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var Vt=vt;function U($e){var $t=$e;if(!Array.isArray($t)){var Jt=(0,ue.Z)($t);$t=Jt==="number"||Jt==="string"?[$t]:[]}return $t.map(function(tn){return String(tn)})}var tt=function($e){(0,ee.Z)(Jt,$e);var $t=(0,ae.Z)(Jt);function Jt(tn){var ir;(0,H.Z)(this,Jt),ir=$t.call(this,tn),ir.onClickItem=function(Yr){var jn=ir.state.activeKey;if(ir.props.accordion)jn=jn[0]===Yr?[]:[Yr];else{jn=(0,F.Z)(jn);var dr=jn.indexOf(Yr),br=dr>-1;br?jn.splice(dr,1):jn.push(Yr)}ir.setActiveKey(jn)},ir.getNewChild=function(Yr,jn){if(!Yr)return null;var dr=ir.state.activeKey,br=ir.props,nr=br.prefixCls,Lr=br.openMotion,Ji=br.accordion,Ci=br.destroyInactivePanel,$i=br.expandIcon,It=br.collapsible,Q=Yr.key||String(jn),we=Yr.props,Nt=we.header,jt=we.headerClass,gt=we.destroyInactivePanel,Je=we.collapsible,pt=!1;Ji?pt=dr[0]===Q:pt=dr.indexOf(Q)>-1;var rt=Je!=null?Je:It,qt={key:Q,panelKey:Q,header:Nt,headerClass:jt,isActive:pt,prefixCls:nr,destroyInactivePanel:gt!=null?gt:Ci,openMotion:Lr,accordion:Ji,children:Yr.props.children,onItemClick:rt==="disabled"?null:ir.onClickItem,expandIcon:$i,collapsible:rt};return typeof Yr.type=="string"?Yr:(Object.keys(qt).forEach(function(Dn){typeof qt[Dn]=="undefined"&&delete qt[Dn]}),ge.cloneElement(Yr,qt))},ir.getItems=function(){var Yr=ir.props.children;return(0,re.Z)(Yr).map(ir.getNewChild)},ir.setActiveKey=function(Yr){"activeKey"in ir.props||ir.setState({activeKey:Yr}),ir.props.onChange(ir.props.accordion?Yr[0]:Yr)};var Or=tn.activeKey,Fr=tn.defaultActiveKey,lr=Fr;return"activeKey"in tn&&(lr=Or),ir.state={activeKey:U(lr)},ir}return(0,I.Z)(Jt,[{key:"shouldComponentUpdate",value:function(ir,Or){return!fe()(this.props,ir)||!fe()(this.state,Or)}},{key:"render",value:function(){var ir,Or=this.props,Fr=Or.prefixCls,lr=Or.className,Yr=Or.style,jn=Or.accordion,dr=k()((ir={},(0,M.Z)(ir,Fr,!0),(0,M.Z)(ir,lr,!!lr),ir));return ge.createElement("div",{className:dr,style:Yr,role:jn?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(ir){var Or={};return"activeKey"in ir&&(Or.activeKey=U(ir.activeKey)),Or}}]),Jt}(ge.Component);tt.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},tt.Panel=Vt;var ut=tt,vn=ut,ft=ut.Panel,Ye=w(98423),Cn=w(53124),cn=w(33603),mr=w(96159),pr=function($t){var Jt=ge.useContext(Cn.E_),tn=Jt.getPrefixCls,ir=$t.prefixCls,Or=$t.className,Fr=Or===void 0?"":Or,lr=$t.showArrow,Yr=lr===void 0?!0:lr,jn=tn("collapse",ir),dr=k()((0,M.Z)({},"".concat(jn,"-no-arrow"),!Yr),Fr);return ge.createElement(vn.Panel,(0,B.Z)({},$t,{prefixCls:jn,className:dr}))},hr=pr,Mt=function($t){var Jt=ge.useContext(Cn.E_),tn=Jt.getPrefixCls,ir=Jt.direction,Or=$t.prefixCls,Fr=$t.className,lr=Fr===void 0?"":Fr,Yr=$t.bordered,jn=Yr===void 0?!0:Yr,dr=$t.ghost,br=$t.expandIconPosition,nr=br===void 0?"start":br,Lr=tn("collapse",Or),Ji=ge.useMemo(function(){return nr==="left"?"start":nr==="right"?"end":nr},[nr]),Ci=function(){var Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},jt=$t.expandIcon,gt=jt?jt(Nt):ge.createElement(j.Z,{rotate:Nt.isActive?90:void 0});return(0,mr.Tm)(gt,function(){return{className:k()(gt.props.className,"".concat(Lr,"-arrow"))}})},$i=k()("".concat(Lr,"-icon-position-").concat(Ji),(0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(Lr,"-borderless"),!jn),"".concat(Lr,"-rtl"),ir==="rtl"),"".concat(Lr,"-ghost"),!!dr),lr),It=(0,B.Z)((0,B.Z)({},cn.ZP),{motionAppear:!1,leavedClassName:"".concat(Lr,"-content-hidden")}),Q=function(){var Nt=$t.children;return(0,re.Z)(Nt).map(function(jt,gt){var Je;if(!((Je=jt.props)===null||Je===void 0)&&Je.disabled){var pt=jt.key||String(gt),rt=jt.props,qt=rt.disabled,Dn=rt.collapsible,_n=(0,B.Z)((0,B.Z)({},(0,Ye.Z)(jt.props,["disabled"])),{key:pt,collapsible:Dn!=null?Dn:qt?"disabled":void 0});return(0,mr.Tm)(jt,_n)}return jt})};return ge.createElement(vn,(0,B.Z)({openMotion:It},$t,{expandIcon:Ci,prefixCls:Lr,className:$i}),Q())};Mt.Panel=hr;var yt=Mt,Et=yt},98866:function(Ne,te,w){"use strict";w.d(te,{n:function(){return j}});var B=w(67294),M=B.createContext(!1),j=function(k){var F=k.children,H=k.disabled,I=B.useContext(M);return B.createElement(M.Provider,{value:H!=null?H:I},F)};te.Z=M},97647:function(Ne,te,w){"use strict";w.d(te,{q:function(){return j}});var B=w(67294),M=B.createContext(void 0),j=function(k){var F=k.children,H=k.size;return B.createElement(M.Consumer,null,function(I){return B.createElement(M.Provider,{value:H||I},F)})};te.Z=M},53124:function(Ne,te,w){"use strict";w.d(te,{C:function(){return R},E_:function(){return j}});var B=w(67294),M=function(H,I){return I||(H?"ant-".concat(H):"ant")},j=B.createContext({getPrefixCls:M}),R=j.Consumer;function k(F){return function(I){var ee=function(ge){return React.createElement(R,null,function(Ze){var fe=F.prefixCls,Ce=Ze.getPrefixCls,Ae=ge.prefixCls,Pe=Ce(fe,Ae);return React.createElement(I,_extends({},Ze,ge,{prefixCls:Pe}))})},ae=I.constructor,ue=ae&&ae.displayName||I.name||"Component";return ee}}},73e3:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return Pe}});var B=w(67294),M=w(53124),j=w(4942),R=w(87462),k=w(93967),F=w.n(k),H=w(23715),I=function(){var at=B.useContext(M.E_),mt=at.getPrefixCls,vt=mt("empty-img-default");return B.createElement("svg",{className:vt,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},B.createElement("g",{fill:"none",fillRule:"evenodd"},B.createElement("g",{transform:"translate(24 31.67)"},B.createElement("ellipse",{className:"".concat(vt,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),B.createElement("path",{className:"".concat(vt,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),B.createElement("path",{className:"".concat(vt,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),B.createElement("path",{className:"".concat(vt,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),B.createElement("path",{className:"".concat(vt,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),B.createElement("path",{className:"".concat(vt,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),B.createElement("g",{className:"".concat(vt,"-g"),transform:"translate(149.65 15.383)"},B.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),B.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},ee=I,ae=function(){var at=B.useContext(M.E_),mt=at.getPrefixCls,vt=mt("empty-img-simple");return B.createElement("svg",{className:vt,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},B.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},B.createElement("ellipse",{className:"".concat(vt,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),B.createElement("g",{className:"".concat(vt,"-g"),fillRule:"nonzero"},B.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),B.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(vt,"-path")}))))},ue=ae,re=function(ie,at){var mt={};for(var vt in ie)Object.prototype.hasOwnProperty.call(ie,vt)&&at.indexOf(vt)<0&&(mt[vt]=ie[vt]);if(ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Vt=0,vt=Object.getOwnPropertySymbols(ie);Vt<vt.length;Vt++)at.indexOf(vt[Vt])<0&&Object.prototype.propertyIsEnumerable.call(ie,vt[Vt])&&(mt[vt[Vt]]=ie[vt[Vt]]);return mt},ge=B.createElement(ee,null),Ze=B.createElement(ue,null),fe=function(at){var mt=at.className,vt=at.prefixCls,Vt=at.image,U=Vt===void 0?ge:Vt,tt=at.description,ut=at.children,vn=at.imageStyle,ft=re(at,["className","prefixCls","image","description","children","imageStyle"]),Ye=B.useContext(M.E_),Cn=Ye.getPrefixCls,cn=Ye.direction;return B.createElement(H.Z,{componentName:"Empty"},function(mr){var pr=Cn("empty",vt),hr=typeof tt!="undefined"?tt:mr.description,Mt=typeof hr=="string"?hr:"empty",yt=null;return typeof U=="string"?yt=B.createElement("img",{alt:Mt,src:U}):yt=U,B.createElement("div",(0,R.Z)({className:F()(pr,(0,j.Z)((0,j.Z)({},"".concat(pr,"-normal"),U===Ze),"".concat(pr,"-rtl"),cn==="rtl"),mt)},ft),B.createElement("div",{className:"".concat(pr,"-image"),style:vn},yt),hr&&B.createElement("div",{className:"".concat(pr,"-description")},hr),ut&&B.createElement("div",{className:"".concat(pr,"-footer")},ut))})};fe.PRESENTED_IMAGE_DEFAULT=ge,fe.PRESENTED_IMAGE_SIMPLE=Ze;var Ce=fe,Ae=function(at){return B.createElement(M.C,null,function(mt){var vt=mt.getPrefixCls,Vt=vt("empty");switch(at){case"Table":case"List":return B.createElement(Ce,{image:Ce.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return B.createElement(Ce,{image:Ce.PRESENTED_IMAGE_SIMPLE,className:"".concat(Vt,"-small")});default:return B.createElement(Ce,null)}})},Pe=Ae},62654:function(Ne,te,w){"use strict";w.d(te,{ZP:function(){return Ei},w6:function(){return kn}});var B=w(87462),M=w(63017),j=w(56982),R=w(67294),k=w(8880),F=w(37920),H=w(83008),I=w(67178),ee="internalMark",ae=function(Tt){var sn=Tt.locale,_t=sn===void 0?{}:sn,Ut=Tt.children,Rn=Tt._ANT_MARK__;R.useEffect(function(){return(0,H.f)(_t&&_t.Modal),function(){(0,H.f)()}},[_t]);var Cr=R.useMemo(function(){return(0,B.Z)((0,B.Z)({},_t),{exist:!0})},[_t]);return R.createElement(I.Z.Provider,{value:Cr},Ut)},ue=ae,re=w(23715),ge=w(6213),Ze=w(16536),fe=w(4942),Ce=w(8751),Ae=w(18429),Pe=w(97937),ie=w(11475),at=w(45605),mt=w(93967),vt=w.n(mt),Vt=w(91127),U=w(97685),tt=w(51550),ut=w(53124);function vn(er,Tt){var sn=function(){var Ut,Rn=null,Cr={add:function(yr,Tr){Rn==null||Rn.component.add(yr,Tr)}},si=(0,tt.Z)(Cr),tr=(0,U.Z)(si,2),xn=tr[0],Hn=tr[1];function Kn(Sr){var yr=Sr.prefixCls,Tr=Ut("notification",yr);er((0,B.Z)((0,B.Z)({},Sr),{prefixCls:Tr}),function(rn){var hn=rn.prefixCls,or=rn.instance;Rn=or,xn(Tt(Sr,hn))})}var yn=R.useRef({});return yn.current.open=Kn,["success","info","warning","error"].forEach(function(Sr){yn.current[Sr]=function(yr){return yn.current.open((0,B.Z)((0,B.Z)({},yr),{type:Sr}))}}),[yn.current,R.createElement(ut.C,{key:"holder"},function(Sr){return Ut=Sr.getPrefixCls,Hn})]};return sn}var ft=function(er,Tt,sn,_t){function Ut(Rn){return Rn instanceof sn?Rn:new sn(function(Cr){Cr(Rn)})}return new(sn||(sn=Promise))(function(Rn,Cr){function si(Hn){try{xn(_t.next(Hn))}catch(Kn){Cr(Kn)}}function tr(Hn){try{xn(_t.throw(Hn))}catch(Kn){Cr(Kn)}}function xn(Hn){Hn.done?Rn(Hn.value):Ut(Hn.value).then(si,tr)}xn((_t=_t.apply(er,Tt||[])).next())})},Ye={},Cn=4.5,cn=24,mr=24,pr="",hr="topRight",Mt,yt,Et=!1,$e;function $t(er){var Tt=er.duration,sn=er.placement,_t=er.bottom,Ut=er.top,Rn=er.getContainer,Cr=er.closeIcon,si=er.prefixCls;si!==void 0&&(pr=si),Tt!==void 0&&(Cn=Tt),sn!==void 0?hr=sn:er.rtl&&(hr="topLeft"),_t!==void 0&&(mr=_t),Ut!==void 0&&(cn=Ut),Rn!==void 0&&(Mt=Rn),Cr!==void 0&&(yt=Cr),er.rtl!==void 0&&(Et=er.rtl),er.maxCount!==void 0&&($e=er.maxCount)}function Jt(er){var Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cn,sn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mr,_t;switch(er){case"top":_t={left:"50%",transform:"translateX(-50%)",right:"auto",top:Tt,bottom:"auto"};break;case"topLeft":_t={left:0,top:Tt,bottom:"auto"};break;case"topRight":_t={right:0,top:Tt,bottom:"auto"};break;case"bottom":_t={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:sn};break;case"bottomLeft":_t={left:0,top:"auto",bottom:sn};break;default:_t={right:0,top:"auto",bottom:sn};break}return _t}function tn(er,Tt){var sn=er.placement,_t=sn===void 0?hr:sn,Ut=er.top,Rn=er.bottom,Cr=er.getContainer,si=Cr===void 0?Mt:Cr,tr=er.prefixCls,xn=kn(),Hn=xn.getPrefixCls,Kn=xn.getIconPrefixCls,yn=Hn("notification",tr||pr),Sr=Kn(),yr="".concat(yn,"-").concat(_t),Tr=Ye[yr];if(Tr){Promise.resolve(Tr).then(function(hn){Tt({prefixCls:"".concat(yn,"-notice"),iconPrefixCls:Sr,instance:hn})});return}var rn=vt()("".concat(yn,"-").concat(_t),(0,fe.Z)({},"".concat(yn,"-rtl"),Et===!0));Ye[yr]=new Promise(function(hn){Vt.Z.newInstance({prefixCls:yn,className:rn,style:Jt(_t,Ut,Rn),getContainer:si,maxCount:$e},function(or){hn(or),Tt({prefixCls:"".concat(yn,"-notice"),iconPrefixCls:Sr,instance:or})})})}var ir={success:Ce.Z,info:at.Z,error:Ae.Z,warning:ie.Z};function Or(er,Tt,sn){var _t=er.duration,Ut=er.icon,Rn=er.type,Cr=er.description,si=er.message,tr=er.btn,xn=er.onClose,Hn=er.onClick,Kn=er.key,yn=er.style,Sr=er.className,yr=er.closeIcon,Tr=yr===void 0?yt:yr,rn=er.props,hn=_t===void 0?Cn:_t,or=null;Ut?or=R.createElement("span",{className:"".concat(Tt,"-icon")},er.icon):Rn&&(or=R.createElement(ir[Rn]||null,{className:"".concat(Tt,"-icon ").concat(Tt,"-icon-").concat(Rn)}));var Ke=typeof Tr=="undefined"?R.createElement("span",{className:"".concat(Tt,"-close-x")},R.createElement(Pe.Z,{className:"".concat(Tt,"-close-icon")})):Tr,Xe=!Cr&&or?R.createElement("span",{className:"".concat(Tt,"-message-single-line-auto-margin")}):null;return{content:R.createElement(Ei,{iconPrefixCls:sn},R.createElement("div",{className:or?"".concat(Tt,"-with-icon"):"",role:"alert"},or,R.createElement("div",{className:"".concat(Tt,"-message")},Xe,si),R.createElement("div",{className:"".concat(Tt,"-description")},Cr),tr?R.createElement("span",{className:"".concat(Tt,"-btn")},tr):null)),duration:hn,closable:!0,closeIcon:Ke,onClose:xn,onClick:Hn,key:Kn,style:yn||{},className:vt()(Sr,(0,fe.Z)({},"".concat(Tt,"-").concat(Rn),!!Rn)),props:rn}}function Fr(er){tn(er,function(Tt){var sn=Tt.prefixCls,_t=Tt.iconPrefixCls,Ut=Tt.instance;Ut.notice(Or(er,sn,_t))})}var lr={open:Fr,close:function(Tt){Object.keys(Ye).forEach(function(sn){return Promise.resolve(Ye[sn]).then(function(_t){_t.removeNotice(Tt)})})},config:$t,destroy:function(){Object.keys(Ye).forEach(function(Tt){Promise.resolve(Ye[Tt]).then(function(sn){sn.destroy()}),delete Ye[Tt]})}};["success","info","warning","error"].forEach(function(er){lr[er]=function(Tt){return lr.open((0,B.Z)((0,B.Z)({},Tt),{type:er}))}}),lr.warn=lr.warning,lr.useNotification=vn(tn,Or);var Yr=function(Tt){return ft(void 0,void 0,void 0,_regeneratorRuntime().mark(function sn(){return _regeneratorRuntime().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:return Ut.abrupt("return",null);case 1:case"end":return Ut.stop()}},sn)}))},jn=lr,dr=w(92138),br=w(86500),nr=w(48701),Lr=w(1350),Ji=w(90279),Ci=function(){function er(Tt,sn){Tt===void 0&&(Tt=""),sn===void 0&&(sn={});var _t;if(Tt instanceof er)return Tt;typeof Tt=="number"&&(Tt=(0,br.Yt)(Tt)),this.originalInput=Tt;var Ut=(0,Lr.uA)(Tt);this.originalInput=Tt,this.r=Ut.r,this.g=Ut.g,this.b=Ut.b,this.a=Ut.a,this.roundA=Math.round(100*this.a)/100,this.format=(_t=sn.format)!==null&&_t!==void 0?_t:Ut.format,this.gradientType=sn.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=Ut.ok}return er.prototype.isDark=function(){return this.getBrightness()<128},er.prototype.isLight=function(){return!this.isDark()},er.prototype.getBrightness=function(){var Tt=this.toRgb();return(Tt.r*299+Tt.g*587+Tt.b*114)/1e3},er.prototype.getLuminance=function(){var Tt=this.toRgb(),sn,_t,Ut,Rn=Tt.r/255,Cr=Tt.g/255,si=Tt.b/255;return Rn<=.03928?sn=Rn/12.92:sn=Math.pow((Rn+.055)/1.055,2.4),Cr<=.03928?_t=Cr/12.92:_t=Math.pow((Cr+.055)/1.055,2.4),si<=.03928?Ut=si/12.92:Ut=Math.pow((si+.055)/1.055,2.4),.2126*sn+.7152*_t+.0722*Ut},er.prototype.getAlpha=function(){return this.a},er.prototype.setAlpha=function(Tt){return this.a=(0,Ji.Yq)(Tt),this.roundA=Math.round(100*this.a)/100,this},er.prototype.isMonochrome=function(){var Tt=this.toHsl().s;return Tt===0},er.prototype.toHsv=function(){var Tt=(0,br.py)(this.r,this.g,this.b);return{h:Tt.h*360,s:Tt.s,v:Tt.v,a:this.a}},er.prototype.toHsvString=function(){var Tt=(0,br.py)(this.r,this.g,this.b),sn=Math.round(Tt.h*360),_t=Math.round(Tt.s*100),Ut=Math.round(Tt.v*100);return this.a===1?"hsv(".concat(sn,", ").concat(_t,"%, ").concat(Ut,"%)"):"hsva(".concat(sn,", ").concat(_t,"%, ").concat(Ut,"%, ").concat(this.roundA,")")},er.prototype.toHsl=function(){var Tt=(0,br.lC)(this.r,this.g,this.b);return{h:Tt.h*360,s:Tt.s,l:Tt.l,a:this.a}},er.prototype.toHslString=function(){var Tt=(0,br.lC)(this.r,this.g,this.b),sn=Math.round(Tt.h*360),_t=Math.round(Tt.s*100),Ut=Math.round(Tt.l*100);return this.a===1?"hsl(".concat(sn,", ").concat(_t,"%, ").concat(Ut,"%)"):"hsla(".concat(sn,", ").concat(_t,"%, ").concat(Ut,"%, ").concat(this.roundA,")")},er.prototype.toHex=function(Tt){return Tt===void 0&&(Tt=!1),(0,br.vq)(this.r,this.g,this.b,Tt)},er.prototype.toHexString=function(Tt){return Tt===void 0&&(Tt=!1),"#"+this.toHex(Tt)},er.prototype.toHex8=function(Tt){return Tt===void 0&&(Tt=!1),(0,br.s)(this.r,this.g,this.b,this.a,Tt)},er.prototype.toHex8String=function(Tt){return Tt===void 0&&(Tt=!1),"#"+this.toHex8(Tt)},er.prototype.toHexShortString=function(Tt){return Tt===void 0&&(Tt=!1),this.a===1?this.toHexString(Tt):this.toHex8String(Tt)},er.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},er.prototype.toRgbString=function(){var Tt=Math.round(this.r),sn=Math.round(this.g),_t=Math.round(this.b);return this.a===1?"rgb(".concat(Tt,", ").concat(sn,", ").concat(_t,")"):"rgba(".concat(Tt,", ").concat(sn,", ").concat(_t,", ").concat(this.roundA,")")},er.prototype.toPercentageRgb=function(){var Tt=function(sn){return"".concat(Math.round((0,Ji.sh)(sn,255)*100),"%")};return{r:Tt(this.r),g:Tt(this.g),b:Tt(this.b),a:this.a}},er.prototype.toPercentageRgbString=function(){var Tt=function(sn){return Math.round((0,Ji.sh)(sn,255)*100)};return this.a===1?"rgb(".concat(Tt(this.r),"%, ").concat(Tt(this.g),"%, ").concat(Tt(this.b),"%)"):"rgba(".concat(Tt(this.r),"%, ").concat(Tt(this.g),"%, ").concat(Tt(this.b),"%, ").concat(this.roundA,")")},er.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var Tt="#"+(0,br.vq)(this.r,this.g,this.b,!1),sn=0,_t=Object.entries(nr.R);sn<_t.length;sn++){var Ut=_t[sn],Rn=Ut[0],Cr=Ut[1];if(Tt===Cr)return Rn}return!1},er.prototype.toString=function(Tt){var sn=!!Tt;Tt=Tt!=null?Tt:this.format;var _t=!1,Ut=this.a<1&&this.a>=0,Rn=!sn&&Ut&&(Tt.startsWith("hex")||Tt==="name");return Rn?Tt==="name"&&this.a===0?this.toName():this.toRgbString():(Tt==="rgb"&&(_t=this.toRgbString()),Tt==="prgb"&&(_t=this.toPercentageRgbString()),(Tt==="hex"||Tt==="hex6")&&(_t=this.toHexString()),Tt==="hex3"&&(_t=this.toHexString(!0)),Tt==="hex4"&&(_t=this.toHex8String(!0)),Tt==="hex8"&&(_t=this.toHex8String()),Tt==="name"&&(_t=this.toName()),Tt==="hsl"&&(_t=this.toHslString()),Tt==="hsv"&&(_t=this.toHsvString()),_t||this.toHexString())},er.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},er.prototype.clone=function(){return new er(this.toString())},er.prototype.lighten=function(Tt){Tt===void 0&&(Tt=10);var sn=this.toHsl();return sn.l+=Tt/100,sn.l=(0,Ji.V2)(sn.l),new er(sn)},er.prototype.brighten=function(Tt){Tt===void 0&&(Tt=10);var sn=this.toRgb();return sn.r=Math.max(0,Math.min(255,sn.r-Math.round(255*-(Tt/100)))),sn.g=Math.max(0,Math.min(255,sn.g-Math.round(255*-(Tt/100)))),sn.b=Math.max(0,Math.min(255,sn.b-Math.round(255*-(Tt/100)))),new er(sn)},er.prototype.darken=function(Tt){Tt===void 0&&(Tt=10);var sn=this.toHsl();return sn.l-=Tt/100,sn.l=(0,Ji.V2)(sn.l),new er(sn)},er.prototype.tint=function(Tt){return Tt===void 0&&(Tt=10),this.mix("white",Tt)},er.prototype.shade=function(Tt){return Tt===void 0&&(Tt=10),this.mix("black",Tt)},er.prototype.desaturate=function(Tt){Tt===void 0&&(Tt=10);var sn=this.toHsl();return sn.s-=Tt/100,sn.s=(0,Ji.V2)(sn.s),new er(sn)},er.prototype.saturate=function(Tt){Tt===void 0&&(Tt=10);var sn=this.toHsl();return sn.s+=Tt/100,sn.s=(0,Ji.V2)(sn.s),new er(sn)},er.prototype.greyscale=function(){return this.desaturate(100)},er.prototype.spin=function(Tt){var sn=this.toHsl(),_t=(sn.h+Tt)%360;return sn.h=_t<0?360+_t:_t,new er(sn)},er.prototype.mix=function(Tt,sn){sn===void 0&&(sn=50);var _t=this.toRgb(),Ut=new er(Tt).toRgb(),Rn=sn/100,Cr={r:(Ut.r-_t.r)*Rn+_t.r,g:(Ut.g-_t.g)*Rn+_t.g,b:(Ut.b-_t.b)*Rn+_t.b,a:(Ut.a-_t.a)*Rn+_t.a};return new er(Cr)},er.prototype.analogous=function(Tt,sn){Tt===void 0&&(Tt=6),sn===void 0&&(sn=30);var _t=this.toHsl(),Ut=360/sn,Rn=[this];for(_t.h=(_t.h-(Ut*Tt>>1)+720)%360;--Tt;)_t.h=(_t.h+Ut)%360,Rn.push(new er(_t));return Rn},er.prototype.complement=function(){var Tt=this.toHsl();return Tt.h=(Tt.h+180)%360,new er(Tt)},er.prototype.monochromatic=function(Tt){Tt===void 0&&(Tt=6);for(var sn=this.toHsv(),_t=sn.h,Ut=sn.s,Rn=sn.v,Cr=[],si=1/Tt;Tt--;)Cr.push(new er({h:_t,s:Ut,v:Rn})),Rn=(Rn+si)%1;return Cr},er.prototype.splitcomplement=function(){var Tt=this.toHsl(),sn=Tt.h;return[this,new er({h:(sn+72)%360,s:Tt.s,l:Tt.l}),new er({h:(sn+216)%360,s:Tt.s,l:Tt.l})]},er.prototype.onBackground=function(Tt){var sn=this.toRgb(),_t=new er(Tt).toRgb(),Ut=sn.a+_t.a*(1-sn.a);return new er({r:(sn.r*sn.a+_t.r*_t.a*(1-sn.a))/Ut,g:(sn.g*sn.a+_t.g*_t.a*(1-sn.a))/Ut,b:(sn.b*sn.a+_t.b*_t.a*(1-sn.a))/Ut,a:Ut})},er.prototype.triad=function(){return this.polyad(3)},er.prototype.tetrad=function(){return this.polyad(4)},er.prototype.polyad=function(Tt){for(var sn=this.toHsl(),_t=sn.h,Ut=[this],Rn=360/Tt,Cr=1;Cr<Tt;Cr++)Ut.push(new er({h:(_t+Cr*Rn)%360,s:sn.s,l:sn.l}));return Ut},er.prototype.equals=function(Tt){return this.toRgbString()===new er(Tt).toRgbString()},er}();function $i(er,Tt){return er===void 0&&(er=""),Tt===void 0&&(Tt={}),new Ci(er,Tt)}var It=w(98924),Q=w(44958),we="-ant-".concat(Date.now(),"-").concat(Math.random());function Nt(er,Tt){var sn={},_t=function(Hn,Kn){var yn=Hn.clone();return yn=(Kn==null?void 0:Kn(yn))||yn,yn.toRgbString()},Ut=function(Hn,Kn){var yn=new Ci(Hn),Sr=(0,dr.R_)(yn.toRgbString());sn["".concat(Kn,"-color")]=_t(yn),sn["".concat(Kn,"-color-disabled")]=Sr[1],sn["".concat(Kn,"-color-hover")]=Sr[4],sn["".concat(Kn,"-color-active")]=Sr[6],sn["".concat(Kn,"-color-outline")]=yn.clone().setAlpha(.2).toRgbString(),sn["".concat(Kn,"-color-deprecated-bg")]=Sr[0],sn["".concat(Kn,"-color-deprecated-border")]=Sr[2]};if(Tt.primaryColor){Ut(Tt.primaryColor,"primary");var Rn=new Ci(Tt.primaryColor),Cr=(0,dr.R_)(Rn.toRgbString());Cr.forEach(function(xn,Hn){sn["primary-".concat(Hn+1)]=xn}),sn["primary-color-deprecated-l-35"]=_t(Rn,function(xn){return xn.lighten(35)}),sn["primary-color-deprecated-l-20"]=_t(Rn,function(xn){return xn.lighten(20)}),sn["primary-color-deprecated-t-20"]=_t(Rn,function(xn){return xn.tint(20)}),sn["primary-color-deprecated-t-50"]=_t(Rn,function(xn){return xn.tint(50)}),sn["primary-color-deprecated-f-12"]=_t(Rn,function(xn){return xn.setAlpha(xn.getAlpha()*.12)});var si=new Ci(Cr[0]);sn["primary-color-active-deprecated-f-30"]=_t(si,function(xn){return xn.setAlpha(xn.getAlpha()*.3)}),sn["primary-color-active-deprecated-d-02"]=_t(si,function(xn){return xn.darken(2)})}Tt.successColor&&Ut(Tt.successColor,"success"),Tt.warningColor&&Ut(Tt.warningColor,"warning"),Tt.errorColor&&Ut(Tt.errorColor,"error"),Tt.infoColor&&Ut(Tt.infoColor,"info");var tr=Object.keys(sn).map(function(xn){return"--".concat(er,"-").concat(xn,": ").concat(sn[xn],";")});return`
  :root {
    `.concat(tr.join(`
`),`
  }
  `).trim()}function jt(er,Tt){var sn=Nt(er,Tt);(0,It.Z)()&&(0,Q.hq)(sn,"".concat(we,"-dynamic-theme"))}var gt=w(98866),Je=w(97647),pt=null,rt=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form"],qt="ant",Dn="anticon",_n,Wr;function Qn(){return _n||qt}function it(){return Wr||Dn}var mn=function(Tt){var sn=Tt.prefixCls,_t=Tt.iconPrefixCls,Ut=Tt.theme;sn!==void 0&&(_n=sn),_t!==void 0&&(Wr=_t),Ut&&jt(Qn(),Ut)},kn=function(){return{getPrefixCls:function(sn,_t){return _t||(sn?"".concat(Qn(),"-").concat(sn):Qn())},getIconPrefixCls:it,getRootPrefixCls:function(sn,_t){return sn||_n||(_t&&_t.includes("-")?_t.replace(/^(.*)-[^-]*$/,"$1"):Qn())}}},gr=function(Tt){var sn=Tt.children,_t=Tt.csp,Ut=Tt.autoInsertSpaceInButton,Rn=Tt.form,Cr=Tt.locale,si=Tt.componentSize,tr=Tt.direction,xn=Tt.space,Hn=Tt.virtual,Kn=Tt.dropdownMatchSelectWidth,yn=Tt.legacyLocale,Sr=Tt.parentContext,yr=Tt.iconPrefixCls,Tr=Tt.componentDisabled,rn=R.useCallback(function(me,ze){var Oe=Tt.prefixCls;if(ze)return ze;var Y=Oe||Sr.getPrefixCls("");return me?"".concat(Y,"-").concat(me):Y},[Sr.getPrefixCls,Tt.prefixCls]),hn=(0,B.Z)((0,B.Z)({},Sr),{csp:_t,autoInsertSpaceInButton:Ut,locale:Cr||yn,direction:tr,space:xn,virtual:Hn,dropdownMatchSelectWidth:Kn,getPrefixCls:rn});rt.forEach(function(me){var ze=Tt[me];ze&&(hn[me]=ze)});var or=(0,j.Z)(function(){return hn},hn,function(me,ze){var Oe=Object.keys(me),Y=Object.keys(ze);return Oe.length!==Y.length||Oe.some(function(ne){return me[ne]!==ze[ne]})}),Ke=R.useMemo(function(){return{prefixCls:yr,csp:_t}},[yr,_t]),Xe=sn,je=R.useMemo(function(){var me,ze,Oe,Y;return(0,k.T)(((me=ge.Z.Form)===null||me===void 0?void 0:me.defaultValidateMessages)||{},((Oe=(ze=or.locale)===null||ze===void 0?void 0:ze.Form)===null||Oe===void 0?void 0:Oe.defaultValidateMessages)||{},((Y=or.form)===null||Y===void 0?void 0:Y.validateMessages)||{},(Rn==null?void 0:Rn.validateMessages)||{})},[or,Rn==null?void 0:Rn.validateMessages]);return Object.keys(je).length>0&&(Xe=R.createElement(F.Z.Provider,{value:je},sn)),Cr&&(Xe=R.createElement(ue,{locale:Cr,_ANT_MARK__:ee},Xe)),(yr||_t)&&(Xe=R.createElement(M.Z.Provider,{value:Ke},Xe)),si&&(Xe=R.createElement(Je.q,{size:si},Xe)),Tr!==void 0&&(Xe=R.createElement(gt.n,{disabled:Tr},Xe)),R.createElement(ut.E_.Provider,{value:or},Xe)},kr=function(Tt){return R.useEffect(function(){Tt.direction&&(Ze.ZP.config({rtl:Tt.direction==="rtl"}),jn.config({rtl:Tt.direction==="rtl"}))},[Tt.direction]),R.createElement(re.Z,null,function(sn,_t,Ut){return R.createElement(ut.C,null,function(Rn){return R.createElement(gr,(0,B.Z)({parentContext:Rn,legacyLocale:Ut},Tt))})})};kr.ConfigContext=ut.E_,kr.SizeContext=Je.Z,kr.config=mn;var Ei=kr},40877:function(Ne,te,w){"use strict";var B=w(87462),M=w(4942),j=w(93967),R=w.n(j),k=w(67294),F=w(53124),H=function(ee,ae){var ue={};for(var re in ee)Object.prototype.hasOwnProperty.call(ee,re)&&ae.indexOf(re)<0&&(ue[re]=ee[re]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ge=0,re=Object.getOwnPropertySymbols(ee);ge<re.length;ge++)ae.indexOf(re[ge])<0&&Object.prototype.propertyIsEnumerable.call(ee,re[ge])&&(ue[re[ge]]=ee[re[ge]]);return ue},I=function(ae){var ue=k.useContext(F.E_),re=ue.getPrefixCls,ge=ue.direction,Ze=ae.prefixCls,fe=ae.type,Ce=fe===void 0?"horizontal":fe,Ae=ae.orientation,Pe=Ae===void 0?"center":Ae,ie=ae.orientationMargin,at=ae.className,mt=ae.children,vt=ae.dashed,Vt=ae.plain,U=H(ae,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),tt=re("divider",Ze),ut=Pe.length>0?"-".concat(Pe):Pe,vn=!!mt,ft=Pe==="left"&&ie!=null,Ye=Pe==="right"&&ie!=null,Cn=R()(tt,"".concat(tt,"-").concat(Ce),(0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(tt,"-with-text"),vn),"".concat(tt,"-with-text").concat(ut),vn),"".concat(tt,"-dashed"),!!vt),"".concat(tt,"-plain"),!!Vt),"".concat(tt,"-rtl"),ge==="rtl"),"".concat(tt,"-no-default-orientation-margin-left"),ft),"".concat(tt,"-no-default-orientation-margin-right"),Ye),at),cn=(0,B.Z)((0,B.Z)({},ft&&{marginLeft:ie}),Ye&&{marginRight:ie});return k.createElement("div",(0,B.Z)({className:Cn},U,{role:"separator"}),mt&&Ce!=="vertical"&&k.createElement("span",{className:"".concat(tt,"-inner-text"),style:cn},mt))};te.Z=I},63463:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return Et}});var B=w(87462),M=w(4942),j=w(97685),R=w(97937),k=w(93967),F=w.n(k),H=w(1413),I=w(67294),ee=w(54535),ae=w(8410),ue=w(29372),re=w(15105),ge=w(64217),Ze=I.createContext(null),fe=Ze,Ce=function($t){var Jt=$t.prefixCls,tn=$t.className,ir=$t.style,Or=$t.children,Fr=$t.containerRef,lr=$t.id,Yr=$t.onMouseEnter,jn=$t.onMouseOver,dr=$t.onMouseLeave,br=$t.onClick,nr=$t.onKeyDown,Lr=$t.onKeyUp,Ji={onMouseEnter:Yr,onMouseOver:jn,onMouseLeave:dr,onClick:br,onKeyDown:nr,onKeyUp:Lr};return I.createElement(I.Fragment,null,I.createElement("div",(0,B.Z)({id:lr,className:F()("".concat(Jt,"-content"),tn),style:(0,H.Z)({},ir),"aria-modal":"true",role:"dialog",ref:Fr},Ji),Or))},Ae=Ce,Pe=w(80334);function ie($e){return typeof $e=="string"&&String(Number($e))===$e?((0,Pe.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number($e)):$e}function at($e){warning(!("wrapperClassName"in $e),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),warning(canUseDom()||!$e.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var mt={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function vt($e,$t){var Jt,tn,ir,Or,Fr=$e.prefixCls,lr=$e.open,Yr=$e.placement,jn=$e.inline,dr=$e.push,br=$e.forceRender,nr=$e.autoFocus,Lr=$e.keyboard,Ji=$e.rootClassName,Ci=$e.rootStyle,$i=$e.zIndex,It=$e.className,Q=$e.id,we=$e.style,Nt=$e.motion,jt=$e.width,gt=$e.height,Je=$e.children,pt=$e.contentWrapperStyle,rt=$e.mask,qt=$e.maskClosable,Dn=$e.maskMotion,_n=$e.maskClassName,Wr=$e.maskStyle,Qn=$e.afterOpenChange,it=$e.onClose,mn=$e.onMouseEnter,kn=$e.onMouseOver,gr=$e.onMouseLeave,kr=$e.onClick,Ei=$e.onKeyDown,er=$e.onKeyUp,Tt=I.useRef(),sn=I.useRef(),_t=I.useRef();I.useImperativeHandle($t,function(){return Tt.current});var Ut=function(Xe){var je=Xe.keyCode,me=Xe.shiftKey;switch(je){case re.Z.TAB:{if(je===re.Z.TAB){if(!me&&document.activeElement===_t.current){var ze;(ze=sn.current)===null||ze===void 0||ze.focus({preventScroll:!0})}else if(me&&document.activeElement===sn.current){var Oe;(Oe=_t.current)===null||Oe===void 0||Oe.focus({preventScroll:!0})}}break}case re.Z.ESC:{it&&Lr&&(Xe.stopPropagation(),it(Xe));break}}};I.useEffect(function(){if(lr&&nr){var Ke;(Ke=Tt.current)===null||Ke===void 0||Ke.focus({preventScroll:!0})}},[lr]);var Rn=I.useState(!1),Cr=(0,j.Z)(Rn,2),si=Cr[0],tr=Cr[1],xn=I.useContext(fe),Hn;dr===!1?Hn={distance:0}:dr===!0?Hn={}:Hn=dr||{};var Kn=(Jt=(tn=(ir=Hn)===null||ir===void 0?void 0:ir.distance)!==null&&tn!==void 0?tn:xn==null?void 0:xn.pushDistance)!==null&&Jt!==void 0?Jt:180,yn=I.useMemo(function(){return{pushDistance:Kn,push:function(){tr(!0)},pull:function(){tr(!1)}}},[Kn]);I.useEffect(function(){if(lr){var Ke;xn==null||(Ke=xn.push)===null||Ke===void 0||Ke.call(xn)}else{var Xe;xn==null||(Xe=xn.pull)===null||Xe===void 0||Xe.call(xn)}},[lr]),I.useEffect(function(){return function(){var Ke;xn==null||(Ke=xn.pull)===null||Ke===void 0||Ke.call(xn)}},[]);var Sr=rt&&I.createElement(ue.ZP,(0,B.Z)({key:"mask"},Dn,{visible:lr}),function(Ke,Xe){var je=Ke.className,me=Ke.style;return I.createElement("div",{className:F()("".concat(Fr,"-mask"),je,_n),style:(0,H.Z)((0,H.Z)({},me),Wr),onClick:qt&&lr?it:void 0,ref:Xe})}),yr=typeof Nt=="function"?Nt(Yr):Nt,Tr={};if(si&&Kn)switch(Yr){case"top":Tr.transform="translateY(".concat(Kn,"px)");break;case"bottom":Tr.transform="translateY(".concat(-Kn,"px)");break;case"left":Tr.transform="translateX(".concat(Kn,"px)");break;default:Tr.transform="translateX(".concat(-Kn,"px)");break}Yr==="left"||Yr==="right"?Tr.width=ie(jt):Tr.height=ie(gt);var rn={onMouseEnter:mn,onMouseOver:kn,onMouseLeave:gr,onClick:kr,onKeyDown:Ei,onKeyUp:er},hn=I.createElement(ue.ZP,(0,B.Z)({key:"panel"},yr,{visible:lr,forceRender:br,onVisibleChanged:function(Xe){Qn==null||Qn(Xe)},removeOnLeave:!1,leavedClassName:"".concat(Fr,"-content-wrapper-hidden")}),function(Ke,Xe){var je=Ke.className,me=Ke.style;return I.createElement("div",(0,B.Z)({className:F()("".concat(Fr,"-content-wrapper"),je),style:(0,H.Z)((0,H.Z)((0,H.Z)({},Tr),me),pt)},(0,ge.Z)($e,{data:!0})),I.createElement(Ae,(0,B.Z)({id:Q,containerRef:Xe,prefixCls:Fr,className:It,style:we},rn),Je))}),or=(0,H.Z)({},Ci);return $i&&(or.zIndex=$i),I.createElement(fe.Provider,{value:yn},I.createElement("div",{className:F()(Fr,"".concat(Fr,"-").concat(Yr),Ji,(Or={},(0,M.Z)(Or,"".concat(Fr,"-open"),lr),(0,M.Z)(Or,"".concat(Fr,"-inline"),jn),Or)),style:or,tabIndex:-1,ref:Tt,onKeyDown:Ut},Sr,I.createElement("div",{tabIndex:0,ref:sn,style:mt,"aria-hidden":"true","data-sentinel":"start"}),hn,I.createElement("div",{tabIndex:0,ref:_t,style:mt,"aria-hidden":"true","data-sentinel":"end"})))}var Vt=I.forwardRef(vt),U=Vt,tt=function($t){var Jt=$t.open,tn=Jt===void 0?!1:Jt,ir=$t.prefixCls,Or=ir===void 0?"rc-drawer":ir,Fr=$t.placement,lr=Fr===void 0?"right":Fr,Yr=$t.autoFocus,jn=Yr===void 0?!0:Yr,dr=$t.keyboard,br=dr===void 0?!0:dr,nr=$t.width,Lr=nr===void 0?378:nr,Ji=$t.mask,Ci=Ji===void 0?!0:Ji,$i=$t.maskClosable,It=$i===void 0?!0:$i,Q=$t.getContainer,we=$t.forceRender,Nt=$t.afterOpenChange,jt=$t.destroyOnClose,gt=$t.onMouseEnter,Je=$t.onMouseOver,pt=$t.onMouseLeave,rt=$t.onClick,qt=$t.onKeyDown,Dn=$t.onKeyUp,_n=I.useState(!1),Wr=(0,j.Z)(_n,2),Qn=Wr[0],it=Wr[1],mn=I.useState(!1),kn=(0,j.Z)(mn,2),gr=kn[0],kr=kn[1];(0,ae.Z)(function(){kr(!0)},[]);var Ei=gr?tn:!1,er=I.useRef(),Tt=I.useRef();(0,ae.Z)(function(){Ei&&(Tt.current=document.activeElement)},[Ei]);var sn=function(Cr){var si;if(it(Cr),Nt==null||Nt(Cr),!Cr&&Tt.current&&!(!((si=er.current)===null||si===void 0)&&si.contains(Tt.current))){var tr;(tr=Tt.current)===null||tr===void 0||tr.focus({preventScroll:!0})}};if(!we&&!Qn&&!Ei&&jt)return null;var _t={onMouseEnter:gt,onMouseOver:Je,onMouseLeave:pt,onClick:rt,onKeyDown:qt,onKeyUp:Dn},Ut=(0,H.Z)((0,H.Z)({},$t),{},{open:Ei,prefixCls:Or,placement:lr,autoFocus:jn,keyboard:br,width:Lr,mask:Ci,maskClosable:It,inline:Q===!1,afterOpenChange:sn,ref:er},_t);return I.createElement(ee.Z,{open:Ei||we||Qn,autoDestroy:!1,getContainer:Q,autoLock:Ci&&(Ei||Qn)},I.createElement(U,Ut))},ut=tt,vn=ut,ft=w(53124),Ye=w(65223),Cn=w(33603),cn=w(93355),mr=w(4173),pr=function($e,$t){var Jt={};for(var tn in $e)Object.prototype.hasOwnProperty.call($e,tn)&&$t.indexOf(tn)<0&&(Jt[tn]=$e[tn]);if($e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,tn=Object.getOwnPropertySymbols($e);ir<tn.length;ir++)$t.indexOf(tn[ir])<0&&Object.prototype.propertyIsEnumerable.call($e,tn[ir])&&(Jt[tn[ir]]=$e[tn[ir]]);return Jt},hr=(0,cn.b)("default","large"),Mt={distance:180};function yt($e){var $t=$e.width,Jt=$e.height,tn=$e.size,ir=tn===void 0?"default":tn,Or=$e.closable,Fr=Or===void 0?!0:Or,lr=$e.mask,Yr=lr===void 0?!0:lr,jn=$e.push,dr=jn===void 0?Mt:jn,br=$e.closeIcon,nr=br===void 0?I.createElement(R.Z,null):br,Lr=$e.bodyStyle,Ji=$e.drawerStyle,Ci=$e.className,$i=$e.visible,It=$e.open,Q=$e.children,we=$e.style,Nt=$e.title,jt=$e.headerStyle,gt=$e.onClose,Je=$e.footer,pt=$e.footerStyle,rt=$e.prefixCls,qt=$e.getContainer,Dn=$e.extra,_n=$e.afterVisibleChange,Wr=$e.afterOpenChange,Qn=pr($e,["width","height","size","closable","mask","push","closeIcon","bodyStyle","drawerStyle","className","visible","open","children","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange","afterOpenChange"]),it=I.useContext(ft.E_),mn=it.getPopupContainer,kn=it.getPrefixCls,gr=it.direction,kr=kn("drawer",rt),Ei=qt===void 0&&mn?function(){return mn(document.body)}:qt,er=Fr&&I.createElement("button",{type:"button",onClick:gt,"aria-label":"Close",className:"".concat(kr,"-close")},nr);[["visible","open"],["afterVisibleChange","afterOpenChange"]].forEach(function(tr){var xn=(0,j.Z)(tr,2),Hn=xn[0],Kn=xn[1]});function Tt(){return!Nt&&!Fr?null:I.createElement("div",{className:F()("".concat(kr,"-header"),(0,M.Z)({},"".concat(kr,"-header-close-only"),Fr&&!Nt&&!Dn)),style:jt},I.createElement("div",{className:"".concat(kr,"-header-title")},er,Nt&&I.createElement("div",{className:"".concat(kr,"-title")},Nt)),Dn&&I.createElement("div",{className:"".concat(kr,"-extra")},Dn))}function sn(){if(!Je)return null;var tr="".concat(kr,"-footer");return I.createElement("div",{className:tr,style:pt},Je)}var _t=F()((0,M.Z)({"no-mask":!Yr},"".concat(kr,"-rtl"),gr==="rtl"),Ci),Ut=I.useMemo(function(){return $t!=null?$t:ir==="large"?736:378},[$t,ir]),Rn=I.useMemo(function(){return Jt!=null?Jt:ir==="large"?736:378},[Jt,ir]),Cr={motionName:(0,Cn.mL)(kr,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},si=function(xn){return{motionName:(0,Cn.mL)(kr,"panel-motion-".concat(xn)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}};return I.createElement(mr.BR,null,I.createElement(Ye.Ux,{status:!0,override:!0},I.createElement(vn,(0,B.Z)({prefixCls:kr,onClose:gt},Qn,{open:It!=null?It:$i,mask:Yr,push:dr,width:Ut,height:Rn,rootClassName:_t,getContainer:Ei,afterOpenChange:function(xn){Wr==null||Wr(xn),_n==null||_n(xn)},maskMotion:Cr,motion:si,rootStyle:we}),I.createElement("div",{className:"".concat(kr,"-wrapper-body"),style:(0,B.Z)({},Ji)},Tt(),I.createElement("div",{className:"".concat(kr,"-body"),style:Lr},Q),sn()))))}var Et=yt},65223:function(Ne,te,w){"use strict";w.d(te,{RV:function(){return H},Rk:function(){return I},Ux:function(){return ae},aM:function(){return ee},q3:function(){return k},qI:function(){return F}});var B=w(87462),M=w(43589),j=w(98423),R=w(67294),k=R.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),F=R.createContext(null),H=function(re){var ge=(0,j.Z)(re,["prefixCls"]);return R.createElement(M.RV,(0,B.Z)({},ge))},I=R.createContext({prefixCls:""}),ee=R.createContext({}),ae=function(re){var ge=re.children,Ze=re.status,fe=re.override,Ce=(0,R.useContext)(ee),Ae=(0,R.useMemo)(function(){var Pe=(0,B.Z)({},Ce);return fe&&delete Pe.isFormItemInput,Ze&&(delete Pe.status,delete Pe.hasFeedback,delete Pe.feedbackIcon),Pe},[Ze,fe,Ce]);return R.createElement(ee.Provider,{value:Ae},ge)}},95239:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return Tr}});var B=w(65223),M=w(4942),j=w(87462),R=w(74902),k=w(93967),F=w.n(k),H=w(29372),I=w(67294),ee=w(53124),ae=w(33603),ue=w(97685);function re(rn){var hn=I.useState(rn),or=(0,ue.Z)(hn,2),Ke=or[0],Xe=or[1];return I.useEffect(function(){var je=setTimeout(function(){Xe(rn)},rn.length?0:10);return function(){clearTimeout(je)}},[rn]),Ke}var ge=[];function Ze(rn,hn,or){var Ke=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof rn=="string"?rn:"".concat(or,"-").concat(Ke),error:rn,errorStatus:hn}}function fe(rn){var hn=rn.help,or=rn.helpStatus,Ke=rn.errors,Xe=Ke===void 0?ge:Ke,je=rn.warnings,me=je===void 0?ge:je,ze=rn.className,Oe=rn.fieldId,Y=rn.onVisibleChanged,ne=I.useContext(B.Rk),W=ne.prefixCls,S=I.useContext(ee.E_),A=S.getPrefixCls,L="".concat(W,"-item-explain"),ce=A(),ve=re(Xe),pe=re(me),Ee=I.useMemo(function(){return hn!=null?[Ze(hn,or,"help")]:[].concat((0,R.Z)(ve.map(function(ct,nt){return Ze(ct,"error","error",nt)})),(0,R.Z)(pe.map(function(ct,nt){return Ze(ct,"warning","warning",nt)})))},[hn,or,ve,pe]),ht={};return Oe&&(ht.id="".concat(Oe,"_help")),I.createElement(H.ZP,{motionDeadline:ae.ZP.motionDeadline,motionName:"".concat(ce,"-show-help"),visible:!!Ee.length,onVisibleChanged:Y},function(ct){var nt=ct.className,Rt=ct.style;return I.createElement("div",(0,j.Z)({},ht,{className:F()(L,nt,ze),style:Rt,role:"alert"}),I.createElement(H.V4,(0,j.Z)({keys:Ee},ae.ZP,{motionName:"".concat(ce,"-show-help-item"),component:!1}),function(kt){var bn=kt.key,pn=kt.error,Lt=kt.errorStatus,Bt=kt.className,In=kt.style;return I.createElement("div",{key:bn,className:F()(Bt,(0,M.Z)({},"".concat(L,"-").concat(Lt),Lt)),style:In},pn)}))})}var Ce=w(71002),Ae=w(43589),Pe=w(98866),ie=w(97647),at=w(37920);function mt(rn){return typeof rn=="object"&&rn!=null&&rn.nodeType===1}function vt(rn,hn){return(!hn||rn!=="hidden")&&rn!=="visible"&&rn!=="clip"}function Vt(rn,hn){if(rn.clientHeight<rn.scrollHeight||rn.clientWidth<rn.scrollWidth){var or=getComputedStyle(rn,null);return vt(or.overflowY,hn)||vt(or.overflowX,hn)||function(Ke){var Xe=function(je){if(!je.ownerDocument||!je.ownerDocument.defaultView)return null;try{return je.ownerDocument.defaultView.frameElement}catch(me){return null}}(Ke);return!!Xe&&(Xe.clientHeight<Ke.scrollHeight||Xe.clientWidth<Ke.scrollWidth)}(rn)}return!1}function U(rn,hn,or,Ke,Xe,je,me,ze){return je<rn&&me>hn||je>rn&&me<hn?0:je<=rn&&ze<=or||me>=hn&&ze>=or?je-rn-Ke:me>hn&&ze<or||je<rn&&ze>or?me-hn+Xe:0}var tt=function(rn,hn){var or=window,Ke=hn.scrollMode,Xe=hn.block,je=hn.inline,me=hn.boundary,ze=hn.skipOverflowHiddenElements,Oe=typeof me=="function"?me:function(Sn){return Sn!==me};if(!mt(rn))throw new TypeError("Invalid target");for(var Y,ne,W=document.scrollingElement||document.documentElement,S=[],A=rn;mt(A)&&Oe(A);){if((A=(ne=(Y=A).parentElement)==null?Y.getRootNode().host||null:ne)===W){S.push(A);break}A!=null&&A===document.body&&Vt(A)&&!Vt(document.documentElement)||A!=null&&Vt(A,ze)&&S.push(A)}for(var L=or.visualViewport?or.visualViewport.width:innerWidth,ce=or.visualViewport?or.visualViewport.height:innerHeight,ve=window.scrollX||pageXOffset,pe=window.scrollY||pageYOffset,Ee=rn.getBoundingClientRect(),ht=Ee.height,ct=Ee.width,nt=Ee.top,Rt=Ee.right,kt=Ee.bottom,bn=Ee.left,pn=Xe==="start"||Xe==="nearest"?nt:Xe==="end"?kt:nt+ht/2,Lt=je==="center"?bn+ct/2:je==="end"?Rt:bn,Bt=[],In=0;In<S.length;In++){var Zn=S[In],sr=Zn.getBoundingClientRect(),ni=sr.height,mi=sr.width,Rr=sr.top,ai=sr.right,li=sr.bottom,wi=sr.left;if(Ke==="if-needed"&&nt>=0&&bn>=0&&kt<=ce&&Rt<=L&&nt>=Rr&&kt<=li&&bn>=wi&&Rt<=ai)return Bt;var Ct=getComputedStyle(Zn),Zt=parseInt(Ct.borderLeftWidth,10),Pr=parseInt(Ct.borderTopWidth,10),Gn=parseInt(Ct.borderRightWidth,10),vr=parseInt(Ct.borderBottomWidth,10),$r=0,At=0,Be="offsetWidth"in Zn?Zn.offsetWidth-Zn.clientWidth-Zt-Gn:0,Re="offsetHeight"in Zn?Zn.offsetHeight-Zn.clientHeight-Pr-vr:0,Fe="offsetWidth"in Zn?Zn.offsetWidth===0?0:mi/Zn.offsetWidth:0,Se="offsetHeight"in Zn?Zn.offsetHeight===0?0:ni/Zn.offsetHeight:0;if(W===Zn)$r=Xe==="start"?pn:Xe==="end"?pn-ce:Xe==="nearest"?U(pe,pe+ce,ce,Pr,vr,pe+pn,pe+pn+ht,ht):pn-ce/2,At=je==="start"?Lt:je==="center"?Lt-L/2:je==="end"?Lt-L:U(ve,ve+L,L,Zt,Gn,ve+Lt,ve+Lt+ct,ct),$r=Math.max(0,$r+pe),At=Math.max(0,At+ve);else{$r=Xe==="start"?pn-Rr-Pr:Xe==="end"?pn-li+vr+Re:Xe==="nearest"?U(Rr,li,ni,Pr,vr+Re,pn,pn+ht,ht):pn-(Rr+ni/2)+Re/2,At=je==="start"?Lt-wi-Zt:je==="center"?Lt-(wi+mi/2)+Be/2:je==="end"?Lt-ai+Gn+Be:U(wi,ai,mi,Zt,Gn+Be,Lt,Lt+ct,ct);var wt=Zn.scrollLeft,Gt=Zn.scrollTop;pn+=Gt-($r=Math.max(0,Math.min(Gt+$r/Se,Zn.scrollHeight-ni/Se+Re))),Lt+=wt-(At=Math.max(0,Math.min(wt+At/Fe,Zn.scrollWidth-mi/Fe+Be)))}Bt.push({el:Zn,top:$r,left:At})}return Bt};function ut(rn){return rn===Object(rn)&&Object.keys(rn).length!==0}function vn(rn,hn){hn===void 0&&(hn="auto");var or="scrollBehavior"in document.body.style;rn.forEach(function(Ke){var Xe=Ke.el,je=Ke.top,me=Ke.left;Xe.scroll&&or?Xe.scroll({top:je,left:me,behavior:hn}):(Xe.scrollTop=je,Xe.scrollLeft=me)})}function ft(rn){return rn===!1?{block:"end",inline:"nearest"}:ut(rn)?rn:{block:"start",inline:"nearest"}}function Ye(rn,hn){var or=rn.isConnected||rn.ownerDocument.documentElement.contains(rn);if(ut(hn)&&typeof hn.behavior=="function")return hn.behavior(or?tt(rn,hn):[]);if(or){var Ke=ft(hn);return vn(tt(rn,Ke),Ke.behavior)}}var Cn=Ye,cn=["parentNode"],mr="form_item";function pr(rn){return rn===void 0||rn===!1?[]:Array.isArray(rn)?rn:[rn]}function hr(rn,hn){if(rn.length){var or=rn.join("_");if(hn)return"".concat(hn,"_").concat(or);var Ke=cn.includes(or);return Ke?"".concat(mr,"_").concat(or):or}}function Mt(rn){var hn=pr(rn);return hn.join("_")}function yt(rn){var hn=(0,Ae.cI)(),or=(0,ue.Z)(hn,1),Ke=or[0],Xe=I.useRef({}),je=I.useMemo(function(){return rn!=null?rn:(0,j.Z)((0,j.Z)({},Ke),{__INTERNAL__:{itemRef:function(ze){return function(Oe){var Y=Mt(ze);Oe?Xe.current[Y]=Oe:delete Xe.current[Y]}}},scrollToField:function(ze){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=pr(ze),ne=hr(Y,je.__INTERNAL__.name),W=ne?document.getElementById(ne):null;W&&Cn(W,(0,j.Z)({scrollMode:"if-needed",block:"nearest"},Oe))},getFieldInstance:function(ze){var Oe=Mt(ze);return Xe.current[Oe]}})},[rn,Ke]);return[je]}var Et=function(rn,hn){var or={};for(var Ke in rn)Object.prototype.hasOwnProperty.call(rn,Ke)&&hn.indexOf(Ke)<0&&(or[Ke]=rn[Ke]);if(rn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xe=0,Ke=Object.getOwnPropertySymbols(rn);Xe<Ke.length;Xe++)hn.indexOf(Ke[Xe])<0&&Object.prototype.propertyIsEnumerable.call(rn,Ke[Xe])&&(or[Ke[Xe]]=rn[Ke[Xe]]);return or},$e=function(hn,or){var Ke=I.useContext(ie.Z),Xe=I.useContext(Pe.Z),je=I.useContext(ee.E_),me=je.getPrefixCls,ze=je.direction,Oe=je.form,Y=hn.prefixCls,ne=hn.className,W=ne===void 0?"":ne,S=hn.size,A=S===void 0?Ke:S,L=hn.disabled,ce=L===void 0?Xe:L,ve=hn.form,pe=hn.colon,Ee=hn.labelAlign,ht=hn.labelWrap,ct=hn.labelCol,nt=hn.wrapperCol,Rt=hn.hideRequiredMark,kt=hn.layout,bn=kt===void 0?"horizontal":kt,pn=hn.scrollToFirstError,Lt=hn.requiredMark,Bt=hn.onFinishFailed,In=hn.name,Zn=Et(hn,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),sr=I.useContext(at.Z),ni=(0,I.useMemo)(function(){return Lt!==void 0?Lt:Oe&&Oe.requiredMark!==void 0?Oe.requiredMark:!Rt},[Rt,Lt,Oe]),mi=pe!=null?pe:Oe==null?void 0:Oe.colon,Rr=me("form",Y),ai=F()(Rr,(0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(Rr,"-").concat(bn),!0),"".concat(Rr,"-hide-required-mark"),ni===!1),"".concat(Rr,"-rtl"),ze==="rtl"),"".concat(Rr,"-").concat(A),A),W),li=yt(ve),wi=(0,ue.Z)(li,1),Ct=wi[0],Zt=Ct.__INTERNAL__;Zt.name=In;var Pr=(0,I.useMemo)(function(){return{name:In,labelAlign:Ee,labelCol:ct,labelWrap:ht,wrapperCol:nt,vertical:bn==="vertical",colon:mi,requiredMark:ni,itemRef:Zt.itemRef,form:Ct}},[In,Ee,ct,nt,bn,mi,ni,Ct]);I.useImperativeHandle(or,function(){return Ct});var Gn=function($r){Bt==null||Bt($r);var At={block:"nearest"};pn&&$r.errorFields.length&&((0,Ce.Z)(pn)==="object"&&(At=pn),Ct.scrollToField($r.errorFields[0].name,At))};return I.createElement(Pe.n,{disabled:ce},I.createElement(ie.q,{size:A},I.createElement(B.RV,(0,j.Z)({},{validateMessages:sr}),I.createElement(B.q3.Provider,{value:Pr},I.createElement(Ae.ZP,(0,j.Z)({id:In},Zn,{name:In,onFinishFailed:Gn,form:Ct,className:ai}))))))},$t=I.forwardRef($e),Jt=$t,tn=w(30470),ir=w(42550),Or=function(){var hn=(0,I.useContext)(B.aM),or=hn.status;return{status:or}},Fr=Or,lr=w(96159),Yr=w(93355),jn=w(75164);function dr(rn){var hn=I.useState(rn),or=(0,ue.Z)(hn,2),Ke=or[0],Xe=or[1],je=(0,I.useRef)(null),me=(0,I.useRef)([]),ze=(0,I.useRef)(!1);I.useEffect(function(){return ze.current=!1,function(){ze.current=!0,jn.Z.cancel(je.current),je.current=null}},[]);function Oe(Y){ze.current||(je.current===null&&(me.current=[],je.current=(0,jn.Z)(function(){je.current=null,Xe(function(ne){var W=ne;return me.current.forEach(function(S){W=S(W)}),W})})),me.current.push(Y))}return[Ke,Oe]}function br(){var rn=I.useContext(B.q3),hn=rn.itemRef,or=I.useRef({});function Ke(Xe,je){var me=je&&(0,Ce.Z)(je)==="object"&&je.ref,ze=Xe.join("_");return(or.current.name!==ze||or.current.originRef!==me)&&(or.current.name=ze,or.current.originRef=me,or.current.ref=(0,ir.sQ)(hn(Xe),me)),or.current.ref}return Ke}var nr=w(89739),Lr=w(4340),Ji=w(21640),Ci=w(50888),$i=w(8410),It=w(98423),Q=w(92820),we=w(1413),Nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},jt=Nt,gt=w(42135),Je=function(hn,or){return I.createElement(gt.Z,(0,we.Z)((0,we.Z)({},hn),{},{ref:or,icon:jt}))},pt=I.forwardRef(Je),rt=pt,qt=w(21584),Dn=w(23715),_n=w(6213),Wr=w(84908),Qn=function(rn,hn){var or={};for(var Ke in rn)Object.prototype.hasOwnProperty.call(rn,Ke)&&hn.indexOf(Ke)<0&&(or[Ke]=rn[Ke]);if(rn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xe=0,Ke=Object.getOwnPropertySymbols(rn);Xe<Ke.length;Xe++)hn.indexOf(Ke[Xe])<0&&Object.prototype.propertyIsEnumerable.call(rn,Ke[Xe])&&(or[Ke[Xe]]=rn[Ke[Xe]]);return or};function it(rn){return rn?(0,Ce.Z)(rn)==="object"&&!I.isValidElement(rn)?rn:{title:rn}:null}var mn=function(hn){var or=hn.prefixCls,Ke=hn.label,Xe=hn.htmlFor,je=hn.labelCol,me=hn.labelAlign,ze=hn.colon,Oe=hn.required,Y=hn.requiredMark,ne=hn.tooltip,W=(0,Dn.E)("Form"),S=(0,ue.Z)(W,1),A=S[0];return Ke?I.createElement(B.q3.Consumer,{key:"label"},function(L){var ce=L.vertical,ve=L.labelAlign,pe=L.labelCol,Ee=L.labelWrap,ht=L.colon,ct,nt=je||pe||{},Rt=me||ve,kt="".concat(or,"-item-label"),bn=F()(kt,Rt==="left"&&"".concat(kt,"-left"),nt.className,(0,M.Z)({},"".concat(kt,"-wrap"),!!Ee)),pn=Ke,Lt=ze===!0||ht!==!1&&ze!==!1,Bt=Lt&&!ce;Bt&&typeof Ke=="string"&&Ke.trim()!==""&&(pn=Ke.replace(/[:|]\s*$/,""));var In=it(ne);if(In){var Zn=In.icon,sr=Zn===void 0?I.createElement(rt,null):Zn,ni=Qn(In,["icon"]),mi=I.createElement(Wr.Z,(0,j.Z)({},ni),I.cloneElement(sr,{className:"".concat(or,"-item-tooltip"),title:"",onClick:function(li){li.preventDefault()},tabIndex:null}));pn=I.createElement(I.Fragment,null,pn,mi)}Y==="optional"&&!Oe&&(pn=I.createElement(I.Fragment,null,pn,I.createElement("span",{className:"".concat(or,"-item-optional"),title:""},(A==null?void 0:A.optional)||((ct=_n.Z.Form)===null||ct===void 0?void 0:ct.optional))));var Rr=F()((0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(or,"-item-required"),Oe),"".concat(or,"-item-required-mark-optional"),Y==="optional"),"".concat(or,"-item-no-colon"),!Lt));return I.createElement(qt.Z,(0,j.Z)({},nt,{className:bn}),I.createElement("label",{htmlFor:Xe,className:Rr,title:typeof Ke=="string"?Ke:""},pn))}):null},kn=mn,gr=function(hn){var or=hn.prefixCls,Ke=hn.status,Xe=hn.wrapperCol,je=hn.children,me=hn.errors,ze=hn.warnings,Oe=hn._internalItemRender,Y=hn.extra,ne=hn.help,W=hn.fieldId,S=hn.marginBottom,A=hn.onErrorVisibleChanged,L="".concat(or,"-item"),ce=I.useContext(B.q3),ve=Xe||ce.wrapperCol||{},pe=F()("".concat(L,"-control"),ve.className),Ee=I.useMemo(function(){return(0,j.Z)({},ce)},[ce]);delete Ee.labelCol,delete Ee.wrapperCol;var ht=I.createElement("div",{className:"".concat(L,"-control-input")},I.createElement("div",{className:"".concat(L,"-control-input-content")},je)),ct=I.useMemo(function(){return{prefixCls:or,status:Ke}},[or,Ke]),nt=S!==null||me.length||ze.length?I.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},I.createElement(B.Rk.Provider,{value:ct},I.createElement(fe,{fieldId:W,errors:me,warnings:ze,help:ne,helpStatus:Ke,className:"".concat(L,"-explain-connected"),onVisibleChanged:A})),!!S&&I.createElement("div",{style:{width:0,height:S}})):null,Rt={};W&&(Rt.id="".concat(W,"_extra"));var kt=Y?I.createElement("div",(0,j.Z)({},Rt,{className:"".concat(L,"-extra")}),Y):null,bn=Oe&&Oe.mark==="pro_table_render"&&Oe.render?Oe.render(hn,{input:ht,errorList:nt,extra:kt}):I.createElement(I.Fragment,null,ht,nt,kt);return I.createElement(B.q3.Provider,{value:Ee},I.createElement(qt.Z,(0,j.Z)({},ve,{className:pe}),bn))},kr=gr,Ei=function(rn,hn){var or={};for(var Ke in rn)Object.prototype.hasOwnProperty.call(rn,Ke)&&hn.indexOf(Ke)<0&&(or[Ke]=rn[Ke]);if(rn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xe=0,Ke=Object.getOwnPropertySymbols(rn);Xe<Ke.length;Xe++)hn.indexOf(Ke[Xe])<0&&Object.prototype.propertyIsEnumerable.call(rn,Ke[Xe])&&(or[Ke[Xe]]=rn[Ke[Xe]]);return or},er={success:nr.Z,warning:Ji.Z,error:Lr.Z,validating:Ci.Z};function Tt(rn){var hn=rn.prefixCls,or=rn.className,Ke=rn.style,Xe=rn.help,je=rn.errors,me=rn.warnings,ze=rn.validateStatus,Oe=rn.meta,Y=rn.hasFeedback,ne=rn.hidden,W=rn.children,S=rn.fieldId,A=rn.isRequired,L=rn.onSubItemMetaChange,ce=Ei(rn,["prefixCls","className","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","isRequired","onSubItemMetaChange"]),ve="".concat(hn,"-item"),pe=I.useContext(B.q3),Ee=pe.requiredMark,ht=I.useRef(null),ct=re(je),nt=re(me),Rt=Xe!=null,kt=!!(Rt||je.length||me.length),bn=I.useState(null),pn=(0,ue.Z)(bn,2),Lt=pn[0],Bt=pn[1];(0,$i.Z)(function(){if(kt&&ht.current){var mi=getComputedStyle(ht.current);Bt(parseInt(mi.marginBottom,10))}},[kt]);var In=function(Rr){Rr||Bt(null)},Zn="";ze!==void 0?Zn=ze:Oe.validating?Zn="validating":ct.length?Zn="error":nt.length?Zn="warning":Oe.touched&&(Zn="success");var sr=I.useMemo(function(){var mi;if(Y){var Rr=Zn&&er[Zn];mi=Rr?I.createElement("span",{className:F()("".concat(ve,"-feedback-icon"),"".concat(ve,"-feedback-icon-").concat(Zn))},I.createElement(Rr,null)):null}return{status:Zn,hasFeedback:Y,feedbackIcon:mi,isFormItemInput:!0}},[Zn,Y]),ni=(0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)({},ve,!0),"".concat(ve,"-with-help"),Rt||ct.length||nt.length),"".concat(or),!!or),"".concat(ve,"-has-feedback"),Zn&&Y),"".concat(ve,"-has-success"),Zn==="success"),"".concat(ve,"-has-warning"),Zn==="warning"),"".concat(ve,"-has-error"),Zn==="error"),"".concat(ve,"-is-validating"),Zn==="validating"),"".concat(ve,"-hidden"),ne);return I.createElement("div",{className:F()(ni),style:Ke,ref:ht},I.createElement(Q.Z,(0,j.Z)({className:"".concat(ve,"-row")},(0,It.Z)(ce,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","required","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol"])),I.createElement(kn,(0,j.Z)({htmlFor:S,required:A,requiredMark:Ee},rn,{prefixCls:hn})),I.createElement(kr,(0,j.Z)({},rn,Oe,{errors:ct,warnings:nt,prefixCls:hn,status:Zn,help:Xe,marginBottom:Lt,onErrorVisibleChanged:In}),I.createElement(B.qI.Provider,{value:L},I.createElement(B.aM.Provider,{value:sr},W)))),!!Lt&&I.createElement("div",{className:"".concat(ve,"-margin-offset"),style:{marginBottom:-Lt}}))}var sn="__SPLIT__",_t=(0,Yr.b)("success","warning","error","validating",""),Ut=I.memo(function(rn){var hn=rn.children;return hn},function(rn,hn){return rn.value===hn.value&&rn.update===hn.update&&rn.childProps.length===hn.childProps.length&&rn.childProps.every(function(or,Ke){return or===hn.childProps[Ke]})});function Rn(rn){return rn!=null}function Cr(){return{errors:[],warnings:[],touched:!1,validating:!1,validated:!1,name:[]}}function si(rn){var hn=rn.name,or=rn.noStyle,Ke=rn.dependencies,Xe=rn.prefixCls,je=rn.shouldUpdate,me=rn.rules,ze=rn.children,Oe=rn.required,Y=rn.label,ne=rn.messageVariables,W=rn.trigger,S=W===void 0?"onChange":W,A=rn.validateTrigger,L=rn.hidden,ce=(0,I.useContext)(ee.E_),ve=ce.getPrefixCls,pe=(0,I.useContext)(B.q3),Ee=pe.name,ht=typeof ze=="function",ct=(0,I.useContext)(B.qI),nt=(0,I.useContext)(Ae.zb),Rt=nt.validateTrigger,kt=A!==void 0?A:Rt,bn=Rn(hn),pn=ve("form",Xe),Lt=I.useContext(Ae.ZM),Bt=I.useRef(),In=dr({}),Zn=(0,ue.Z)(In,2),sr=Zn[0],ni=Zn[1],mi=(0,tn.Z)(function(){return Cr()}),Rr=(0,ue.Z)(mi,2),ai=Rr[0],li=Rr[1],wi=function(Fe){var Se=Lt==null?void 0:Lt.getKey(Fe.name);if(li(Fe.destroy?Cr():Fe,!0),or&&ct){var wt=Fe.name;if(Fe.destroy)wt=Bt.current||wt;else if(Se!==void 0){var Gt=(0,ue.Z)(Se,2),Sn=Gt[0],Un=Gt[1];wt=[Sn].concat((0,R.Z)(Un)),Bt.current=wt}ct(Fe,wt)}},Ct=function(Fe,Se){ni(function(wt){var Gt=(0,j.Z)({},wt),Sn=[].concat((0,R.Z)(Fe.name.slice(0,-1)),(0,R.Z)(Se)),Un=Sn.join(sn);return Fe.destroy?delete Gt[Un]:Gt[Un]=Fe,Gt})},Zt=I.useMemo(function(){var Re=(0,R.Z)(ai.errors),Fe=(0,R.Z)(ai.warnings);return Object.values(sr).forEach(function(Se){Re.push.apply(Re,(0,R.Z)(Se.errors||[])),Fe.push.apply(Fe,(0,R.Z)(Se.warnings||[]))}),[Re,Fe]},[sr,ai.errors,ai.warnings]),Pr=(0,ue.Z)(Zt,2),Gn=Pr[0],vr=Pr[1],$r=br();function At(Re,Fe,Se){return or&&!L?Re:I.createElement(Tt,(0,j.Z)({key:"row"},rn,{prefixCls:pn,fieldId:Fe,isRequired:Se,errors:Gn,warnings:vr,meta:ai,onSubItemMetaChange:Ct}),Re)}if(!bn&&!ht&&!Ke)return At(ze);var Be={};return typeof Y=="string"?Be.label=Y:hn&&(Be.label=String(hn)),ne&&(Be=(0,j.Z)((0,j.Z)({},Be),ne)),I.createElement(Ae.gN,(0,j.Z)({},rn,{messageVariables:Be,trigger:S,validateTrigger:kt,onMetaChange:wi}),function(Re,Fe,Se){var wt=pr(hn).length&&Fe?Fe.name:[],Gt=hr(wt,Ee),Sn=Oe!==void 0?Oe:!!(me&&me.some(function(on){if(on&&(0,Ce.Z)(on)==="object"&&on.required&&!on.warningOnly)return!0;if(typeof on=="function"){var et=on(Se);return et&&et.required&&!et.warningOnly}return!1})),Un=(0,j.Z)({},Re),_e=null;if(Array.isArray(ze)&&bn)_e=ze;else if(!(ht&&(!(je||Ke)||bn))){if(!(Ke&&!ht&&!bn))if((0,lr.l$)(ze)){var We=(0,j.Z)((0,j.Z)({},ze.props),Un);if(We.id||(We.id=Gt),rn.help||Gn.length>0||vr.length>0||rn.extra){var Ve=[];(rn.help||Gn.length>0)&&Ve.push("".concat(Gt,"_help")),rn.extra&&Ve.push("".concat(Gt,"_extra")),We["aria-describedby"]=Ve.join(" ")}Gn.length>0&&(We["aria-invalid"]="true"),Sn&&(We["aria-required"]="true"),(0,ir.Yr)(ze)&&(We.ref=$r(wt,ze));var Dt=new Set([].concat((0,R.Z)(pr(S)),(0,R.Z)(pr(kt))));Dt.forEach(function(on){We[on]=function(){for(var et,Tn,zt,Xn,cr,ii=arguments.length,ui=new Array(ii),Mr=0;Mr<ii;Mr++)ui[Mr]=arguments[Mr];(zt=Un[on])===null||zt===void 0||(et=zt).call.apply(et,[Un].concat(ui)),(cr=(Xn=ze.props)[on])===null||cr===void 0||(Tn=cr).call.apply(Tn,[Xn].concat(ui))}});var An=[We["aria-required"],We["aria-invalid"],We["aria-describedby"]];_e=I.createElement(Ut,{value:Un[rn.valuePropName||"value"],update:ze,childProps:An},(0,lr.Tm)(ze,We))}else ht&&(je||Ke)&&!bn?_e=ze(Se):_e=ze}return At(_e,Gt,Sn)})}var tr=si;tr.useStatus=Fr;var xn=tr,Hn=function(rn,hn){var or={};for(var Ke in rn)Object.prototype.hasOwnProperty.call(rn,Ke)&&hn.indexOf(Ke)<0&&(or[Ke]=rn[Ke]);if(rn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xe=0,Ke=Object.getOwnPropertySymbols(rn);Xe<Ke.length;Xe++)hn.indexOf(Ke[Xe])<0&&Object.prototype.propertyIsEnumerable.call(rn,Ke[Xe])&&(or[Ke[Xe]]=rn[Ke[Xe]]);return or},Kn=function(hn){var or=hn.prefixCls,Ke=hn.children,Xe=Hn(hn,["prefixCls","children"]),je=I.useContext(ee.E_),me=je.getPrefixCls,ze=me("form",or),Oe=I.useMemo(function(){return{prefixCls:ze,status:"error"}},[ze]);return I.createElement(Ae.aV,(0,j.Z)({},Xe),function(Y,ne,W){return I.createElement(B.Rk.Provider,{value:Oe},Ke(Y.map(function(S){return(0,j.Z)((0,j.Z)({},S),{fieldKey:S.key})}),ne,{errors:W.errors,warnings:W.warnings}))})},yn=Kn;function Sr(){var rn=(0,I.useContext)(B.q3),hn=rn.form;return hn}var yr=Jt;yr.Item=xn,yr.List=yn,yr.ErrorList=fe,yr.useForm=yt,yr.useFormInstance=Sr,yr.useWatch=Ae.qo,yr.Provider=B.RV,yr.create=function(){};var Tr=yr},37920:function(Ne,te,w){"use strict";var B=w(67294);te.Z=(0,B.createContext)(void 0)},99134:function(Ne,te,w){"use strict";var B=w(67294),M=(0,B.createContext)({});te.Z=M},21584:function(Ne,te,w){"use strict";var B=w(4942),M=w(87462),j=w(71002),R=w(93967),k=w.n(R),F=w(67294),H=w(53124),I=w(99134),ee=function(ge,Ze){var fe={};for(var Ce in ge)Object.prototype.hasOwnProperty.call(ge,Ce)&&Ze.indexOf(Ce)<0&&(fe[Ce]=ge[Ce]);if(ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,Ce=Object.getOwnPropertySymbols(ge);Ae<Ce.length;Ae++)Ze.indexOf(Ce[Ae])<0&&Object.prototype.propertyIsEnumerable.call(ge,Ce[Ae])&&(fe[Ce[Ae]]=ge[Ce[Ae]]);return fe};function ae(ge){return typeof ge=="number"?"".concat(ge," ").concat(ge," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(ge)?"0 0 ".concat(ge):ge}var ue=["xs","sm","md","lg","xl","xxl"],re=F.forwardRef(function(ge,Ze){var fe=F.useContext(H.E_),Ce=fe.getPrefixCls,Ae=fe.direction,Pe=F.useContext(I.Z),ie=Pe.gutter,at=Pe.wrap,mt=Pe.supportFlexGap,vt=ge.prefixCls,Vt=ge.span,U=ge.order,tt=ge.offset,ut=ge.push,vn=ge.pull,ft=ge.className,Ye=ge.children,Cn=ge.flex,cn=ge.style,mr=ee(ge,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),pr=Ce("col",vt),hr={};ue.forEach(function($t){var Jt={},tn=ge[$t];typeof tn=="number"?Jt.span=tn:(0,j.Z)(tn)==="object"&&(Jt=tn||{}),delete mr[$t],hr=(0,M.Z)((0,M.Z)({},hr),(0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)({},"".concat(pr,"-").concat($t,"-").concat(Jt.span),Jt.span!==void 0),"".concat(pr,"-").concat($t,"-order-").concat(Jt.order),Jt.order||Jt.order===0),"".concat(pr,"-").concat($t,"-offset-").concat(Jt.offset),Jt.offset||Jt.offset===0),"".concat(pr,"-").concat($t,"-push-").concat(Jt.push),Jt.push||Jt.push===0),"".concat(pr,"-").concat($t,"-pull-").concat(Jt.pull),Jt.pull||Jt.pull===0),"".concat(pr,"-rtl"),Ae==="rtl"))});var Mt=k()(pr,(0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)({},"".concat(pr,"-").concat(Vt),Vt!==void 0),"".concat(pr,"-order-").concat(U),U),"".concat(pr,"-offset-").concat(tt),tt),"".concat(pr,"-push-").concat(ut),ut),"".concat(pr,"-pull-").concat(vn),vn),ft,hr),yt={};if(ie&&ie[0]>0){var Et=ie[0]/2;yt.paddingLeft=Et,yt.paddingRight=Et}if(ie&&ie[1]>0&&!mt){var $e=ie[1]/2;yt.paddingTop=$e,yt.paddingBottom=$e}return Cn&&(yt.flex=ae(Cn),at===!1&&!yt.minWidth&&(yt.minWidth=0)),F.createElement("div",(0,M.Z)({},mr,{style:(0,M.Z)((0,M.Z)({},yt),cn),className:Mt,ref:Ze}),Ye)});te.Z=re},92820:function(Ne,te,w){"use strict";var B=w(87462),M=w(4942),j=w(71002),R=w(97685),k=w(93967),F=w.n(k),H=w(67294),I=w(53124),ee=w(98082),ae=w(24308),ue=w(93355),re=w(99134),ge=function(Pe,ie){var at={};for(var mt in Pe)Object.prototype.hasOwnProperty.call(Pe,mt)&&ie.indexOf(mt)<0&&(at[mt]=Pe[mt]);if(Pe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var vt=0,mt=Object.getOwnPropertySymbols(Pe);vt<mt.length;vt++)ie.indexOf(mt[vt])<0&&Object.prototype.propertyIsEnumerable.call(Pe,mt[vt])&&(at[mt[vt]]=Pe[mt[vt]]);return at},Ze=(0,ue.b)("top","middle","bottom","stretch"),fe=(0,ue.b)("start","end","center","space-around","space-between","space-evenly");function Ce(Pe,ie){var at=H.useState(typeof Pe=="string"?Pe:""),mt=(0,R.Z)(at,2),vt=mt[0],Vt=mt[1],U=function(){if(typeof Pe=="string"&&Vt(Pe),(0,j.Z)(Pe)==="object")for(var ut=0;ut<ae.c4.length;ut++){var vn=ae.c4[ut];if(ie[vn]){var ft=Pe[vn];if(ft!==void 0){Vt(ft);return}}}};return H.useEffect(function(){U()},[JSON.stringify(Pe),ie]),vt}var Ae=H.forwardRef(function(Pe,ie){var at=Pe.prefixCls,mt=Pe.justify,vt=Pe.align,Vt=Pe.className,U=Pe.style,tt=Pe.children,ut=Pe.gutter,vn=ut===void 0?0:ut,ft=Pe.wrap,Ye=ge(Pe,["prefixCls","justify","align","className","style","children","gutter","wrap"]),Cn=H.useContext(I.E_),cn=Cn.getPrefixCls,mr=Cn.direction,pr=H.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),hr=(0,R.Z)(pr,2),Mt=hr[0],yt=hr[1],Et=H.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),$e=(0,R.Z)(Et,2),$t=$e[0],Jt=$e[1],tn=Ce(vt,$t),ir=Ce(mt,$t),Or=(0,ee.Z)(),Fr=H.useRef(vn);H.useEffect(function(){var we=ae.ZP.subscribe(function(Nt){Jt(Nt);var jt=Fr.current||0;(!Array.isArray(jt)&&(0,j.Z)(jt)==="object"||Array.isArray(jt)&&((0,j.Z)(jt[0])==="object"||(0,j.Z)(jt[1])==="object"))&&yt(Nt)});return function(){return ae.ZP.unsubscribe(we)}},[]);var lr=function(){var Nt=[void 0,void 0],jt=Array.isArray(vn)?vn:[vn,void 0];return jt.forEach(function(gt,Je){if((0,j.Z)(gt)==="object")for(var pt=0;pt<ae.c4.length;pt++){var rt=ae.c4[pt];if(Mt[rt]&&gt[rt]!==void 0){Nt[Je]=gt[rt];break}}else Nt[Je]=gt}),Nt},Yr=cn("row",at),jn=lr(),dr=F()(Yr,(0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(Yr,"-no-wrap"),ft===!1),"".concat(Yr,"-").concat(ir),ir),"".concat(Yr,"-").concat(tn),tn),"".concat(Yr,"-rtl"),mr==="rtl"),Vt),br={},nr=jn[0]!=null&&jn[0]>0?jn[0]/-2:void 0,Lr=jn[1]!=null&&jn[1]>0?jn[1]/-2:void 0;if(nr&&(br.marginLeft=nr,br.marginRight=nr),Or){var Ji=(0,R.Z)(jn,2);br.rowGap=Ji[1]}else Lr&&(br.marginTop=Lr,br.marginBottom=Lr);var Ci=(0,R.Z)(jn,2),$i=Ci[0],It=Ci[1],Q=H.useMemo(function(){return{gutter:[$i,It],wrap:ft,supportFlexGap:Or}},[$i,It,ft,Or]);return H.createElement(re.Z.Provider,{value:Q},H.createElement("div",(0,B.Z)({},Ye,{className:dr,style:(0,B.Z)((0,B.Z)({},br),U),ref:ie}),tt))});te.Z=Ae},24016:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return je}});var B=w(87462),M=w(4942),j=w(93967),R=w.n(j),k=w(67294),F=w(53124),H=w(65223),I=function(ze){var Oe=(0,k.useContext)(F.E_),Y=Oe.getPrefixCls,ne=Oe.direction,W=ze.prefixCls,S=ze.className,A=S===void 0?"":S,L=Y("input-group",W),ce=R()(L,(0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(L,"-lg"),ze.size==="large"),"".concat(L,"-sm"),ze.size==="small"),"".concat(L,"-compact"),ze.compact),"".concat(L,"-rtl"),ne==="rtl"),A),ve=(0,k.useContext)(H.aM),pe=(0,k.useMemo)(function(){return(0,B.Z)((0,B.Z)({},ve),{isFormItemInput:!1})},[ve]);return k.createElement("span",{className:ce,style:ze.style,onMouseEnter:ze.onMouseEnter,onMouseLeave:ze.onMouseLeave,onFocus:ze.onFocus,onBlur:ze.onBlur},k.createElement(H.aM.Provider,{value:pe},ze.children))},ee=I,ae=w(71002),ue=w(4340);function re(me){return!!(me.addonBefore||me.addonAfter)}function ge(me){return!!(me.prefix||me.suffix||me.allowClear)}function Ze(me,ze,Oe,Y){if(Oe){var ne=ze;if(ze.type==="click"){var W=me.cloneNode(!0);ne=Object.create(ze,{target:{value:W},currentTarget:{value:W}}),W.value="",Oe(ne);return}if(Y!==void 0){ne=Object.create(ze,{target:{value:me},currentTarget:{value:me}}),me.value=Y,Oe(ne);return}Oe(ne)}}function fe(me,ze){if(me){me.focus(ze);var Oe=ze||{},Y=Oe.cursor;if(Y){var ne=me.value.length;switch(Y){case"start":me.setSelectionRange(0,0);break;case"end":me.setSelectionRange(ne,ne);break;default:me.setSelectionRange(0,ne)}}}}function Ce(me){return typeof me=="undefined"||me===null?"":String(me)}var Ae=function(ze){var Oe=ze.inputElement,Y=ze.prefixCls,ne=ze.prefix,W=ze.suffix,S=ze.addonBefore,A=ze.addonAfter,L=ze.className,ce=ze.style,ve=ze.affixWrapperClassName,pe=ze.groupClassName,Ee=ze.wrapperClassName,ht=ze.disabled,ct=ze.readOnly,nt=ze.focused,Rt=ze.triggerFocus,kt=ze.allowClear,bn=ze.value,pn=ze.handleReset,Lt=ze.hidden,Bt=(0,k.useRef)(null),In=function(Gn){var vr;(vr=Bt.current)!==null&&vr!==void 0&&vr.contains(Gn.target)&&(Rt==null||Rt())},Zn=function(){var Gn;if(!kt)return null;var vr=!ht&&!ct&&bn,$r="".concat(Y,"-clear-icon"),At=(0,ae.Z)(kt)==="object"&&kt!==null&&kt!==void 0&&kt.clearIcon?kt.clearIcon:"\u2716";return k.createElement("span",{onClick:pn,onMouseDown:function(Re){return Re.preventDefault()},className:R()($r,(Gn={},(0,M.Z)(Gn,"".concat($r,"-hidden"),!vr),(0,M.Z)(Gn,"".concat($r,"-has-suffix"),!!W),Gn)),role:"button",tabIndex:-1},At)},sr=(0,k.cloneElement)(Oe,{value:bn,hidden:Lt});if(ge(ze)){var ni,mi="".concat(Y,"-affix-wrapper"),Rr=R()(mi,(ni={},(0,M.Z)(ni,"".concat(mi,"-disabled"),ht),(0,M.Z)(ni,"".concat(mi,"-focused"),nt),(0,M.Z)(ni,"".concat(mi,"-readonly"),ct),(0,M.Z)(ni,"".concat(mi,"-input-with-clear-btn"),W&&kt&&bn),ni),!re(ze)&&L,ve),ai=(W||kt)&&k.createElement("span",{className:"".concat(Y,"-suffix")},Zn(),W);sr=k.createElement("span",{className:Rr,style:ce,hidden:!re(ze)&&Lt,onClick:In,ref:Bt},ne&&k.createElement("span",{className:"".concat(Y,"-prefix")},ne),(0,k.cloneElement)(Oe,{style:null,value:bn,hidden:null}),ai)}if(re(ze)){var li="".concat(Y,"-group"),wi="".concat(li,"-addon"),Ct=R()("".concat(Y,"-wrapper"),li,Ee),Zt=R()("".concat(Y,"-group-wrapper"),L,pe);return k.createElement("span",{className:Zt,style:ce,hidden:Lt},k.createElement("span",{className:Ct},S&&k.createElement("span",{className:wi},S),(0,k.cloneElement)(sr,{style:null,hidden:null}),A&&k.createElement("span",{className:wi},A)))}return sr},Pe=Ae,ie=w(74902),at=w(97685),mt=w(45987),vt=w(98423),Vt=w(21770),U=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],tt=(0,k.forwardRef)(function(me,ze){var Oe=me.autoComplete,Y=me.onChange,ne=me.onFocus,W=me.onBlur,S=me.onPressEnter,A=me.onKeyDown,L=me.prefixCls,ce=L===void 0?"rc-input":L,ve=me.disabled,pe=me.htmlSize,Ee=me.className,ht=me.maxLength,ct=me.suffix,nt=me.showCount,Rt=me.type,kt=Rt===void 0?"text":Rt,bn=me.inputClassName,pn=(0,mt.Z)(me,U),Lt=(0,Vt.Z)(me.defaultValue,{value:me.value}),Bt=(0,at.Z)(Lt,2),In=Bt[0],Zn=Bt[1],sr=(0,k.useState)(!1),ni=(0,at.Z)(sr,2),mi=ni[0],Rr=ni[1],ai=(0,k.useRef)(null),li=function(Be){ai.current&&fe(ai.current,Be)};(0,k.useImperativeHandle)(ze,function(){return{focus:li,blur:function(){var Be;(Be=ai.current)===null||Be===void 0||Be.blur()},setSelectionRange:function(Be,Re,Fe){var Se;(Se=ai.current)===null||Se===void 0||Se.setSelectionRange(Be,Re,Fe)},select:function(){var Be;(Be=ai.current)===null||Be===void 0||Be.select()},input:ai.current}}),(0,k.useEffect)(function(){Rr(function(At){return At&&ve?!1:At})},[ve]);var wi=function(Be){me.value===void 0&&Zn(Be.target.value),ai.current&&Ze(ai.current,Be,Y)},Ct=function(Be){S&&Be.key==="Enter"&&S(Be),A==null||A(Be)},Zt=function(Be){Rr(!0),ne==null||ne(Be)},Pr=function(Be){Rr(!1),W==null||W(Be)},Gn=function(Be){Zn(""),li(),ai.current&&Ze(ai.current,Be,Y)},vr=function(){var Be=(0,vt.Z)(me,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return k.createElement("input",(0,B.Z)({autoComplete:Oe},Be,{onChange:wi,onFocus:Zt,onBlur:Pr,onKeyDown:Ct,className:R()(ce,(0,M.Z)({},"".concat(ce,"-disabled"),ve),bn,!re(me)&&!ge(me)&&Ee),ref:ai,size:pe,type:kt}))},$r=function(){var Be=Number(ht)>0;if(ct||nt){var Re=Ce(In),Fe=(0,ie.Z)(Re).length,Se=(0,ae.Z)(nt)==="object"?nt.formatter({value:Re,count:Fe,maxLength:ht}):"".concat(Fe).concat(Be?" / ".concat(ht):"");return k.createElement(k.Fragment,null,!!nt&&k.createElement("span",{className:R()("".concat(ce,"-show-count-suffix"),(0,M.Z)({},"".concat(ce,"-show-count-has-suffix"),!!ct))},Se),ct)}return null};return k.createElement(Pe,(0,B.Z)({},pn,{prefixCls:ce,className:Ee,inputElement:vr(),handleReset:Gn,value:Ce(In),focused:mi,triggerFocus:li,suffix:$r(),disabled:ve}))}),ut=tt,vn=ut,ft=w(42550),Ye=w(98866),Cn=w(97647),cn=w(4173),mr=w(9708);function pr(me,ze){var Oe=(0,k.useRef)([]),Y=function(){Oe.current.push(setTimeout(function(){var W,S,A,L;!((W=me.current)===null||W===void 0)&&W.input&&((S=me.current)===null||S===void 0?void 0:S.input.getAttribute("type"))==="password"&&(!((A=me.current)===null||A===void 0)&&A.input.hasAttribute("value"))&&((L=me.current)===null||L===void 0||L.input.removeAttribute("value"))}))};return(0,k.useEffect)(function(){return ze&&Y(),function(){return Oe.current.forEach(function(ne){ne&&clearTimeout(ne)})}},[]),Y}function hr(me){return!!(me.prefix||me.suffix||me.allowClear)}var Mt=function(me,ze){var Oe={};for(var Y in me)Object.prototype.hasOwnProperty.call(me,Y)&&ze.indexOf(Y)<0&&(Oe[Y]=me[Y]);if(me!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,Y=Object.getOwnPropertySymbols(me);ne<Y.length;ne++)ze.indexOf(Y[ne])<0&&Object.prototype.propertyIsEnumerable.call(me,Y[ne])&&(Oe[Y[ne]]=me[Y[ne]]);return Oe};function yt(me){return typeof me=="undefined"||me===null?"":String(me)}function Et(me,ze,Oe,Y){if(Oe){var ne=ze;if(ze.type==="click"){var W=me.cloneNode(!0);ne=Object.create(ze,{target:{value:W},currentTarget:{value:W}}),W.value="",Oe(ne);return}if(Y!==void 0){ne=Object.create(ze,{target:{value:me},currentTarget:{value:me}}),me.value=Y,Oe(ne);return}Oe(ne)}}function $e(me,ze){if(me){me.focus(ze);var Oe=ze||{},Y=Oe.cursor;if(Y){var ne=me.value.length;switch(Y){case"start":me.setSelectionRange(0,0);break;case"end":me.setSelectionRange(ne,ne);break;default:me.setSelectionRange(0,ne);break}}}}var $t=(0,k.forwardRef)(function(me,ze){var Oe=me.prefixCls,Y=me.bordered,ne=Y===void 0?!0:Y,W=me.status,S=me.size,A=me.disabled,L=me.onBlur,ce=me.onFocus,ve=me.suffix,pe=me.allowClear,Ee=me.addonAfter,ht=me.addonBefore,ct=me.className,nt=me.onChange,Rt=Mt(me,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","onChange"]),kt=k.useContext(F.E_),bn=kt.getPrefixCls,pn=kt.direction,Lt=kt.input,Bt=bn("input",Oe),In=(0,k.useRef)(null),Zn=(0,cn.ri)(Bt,pn),sr=Zn.compactSize,ni=Zn.compactItemClassnames,mi=k.useContext(Cn.Z),Rr=sr||S||mi,ai=k.useContext(Ye.Z),li=A!=null?A:ai,wi=(0,k.useContext)(H.aM),Ct=wi.status,Zt=wi.hasFeedback,Pr=wi.feedbackIcon,Gn=(0,mr.F)(Ct,W),vr=hr(me)||!!Zt,$r=(0,k.useRef)(vr);(0,k.useEffect)(function(){var Gt;vr&&$r.current,$r.current=vr},[vr]);var At=pr(In,!0),Be=function(Sn){At(),L==null||L(Sn)},Re=function(Sn){At(),ce==null||ce(Sn)},Fe=function(Sn){At(),nt==null||nt(Sn)},Se=(Zt||ve)&&k.createElement(k.Fragment,null,ve,Zt&&Pr),wt;return(0,ae.Z)(pe)==="object"&&(pe!=null&&pe.clearIcon)?wt=pe:pe&&(wt={clearIcon:k.createElement(ue.Z,null)}),k.createElement(vn,(0,B.Z)({ref:(0,ft.sQ)(ze,In),prefixCls:Bt,autoComplete:Lt==null?void 0:Lt.autoComplete},Rt,{disabled:li||void 0,onBlur:Be,onFocus:Re,suffix:Se,allowClear:wt,className:R()(ct,ni),onChange:Fe,addonAfter:Ee&&k.createElement(cn.BR,null,k.createElement(H.Ux,{override:!0,status:!0},Ee)),addonBefore:ht&&k.createElement(cn.BR,null,k.createElement(H.Ux,{override:!0,status:!0},ht)),inputClassName:R()((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(Bt,"-sm"),Rr==="small"),"".concat(Bt,"-lg"),Rr==="large"),"".concat(Bt,"-rtl"),pn==="rtl"),"".concat(Bt,"-borderless"),!ne),!vr&&(0,mr.Z)(Bt,Gn)),affixWrapperClassName:R()((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(Bt,"-affix-wrapper-sm"),Rr==="small"),"".concat(Bt,"-affix-wrapper-lg"),Rr==="large"),"".concat(Bt,"-affix-wrapper-rtl"),pn==="rtl"),"".concat(Bt,"-affix-wrapper-borderless"),!ne),(0,mr.Z)("".concat(Bt,"-affix-wrapper"),Gn,Zt)),wrapperClassName:R()((0,M.Z)({},"".concat(Bt,"-group-rtl"),pn==="rtl")),groupClassName:R()((0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(Bt,"-group-wrapper-sm"),Rr==="small"),"".concat(Bt,"-group-wrapper-lg"),Rr==="large"),"".concat(Bt,"-group-wrapper-rtl"),pn==="rtl"),(0,mr.Z)("".concat(Bt,"-group-wrapper"),Gn,Zt))}))}),Jt=$t,tn=w(1413),ir={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Or=ir,Fr=w(42135),lr=function(ze,Oe){return k.createElement(Fr.Z,(0,tn.Z)((0,tn.Z)({},ze),{},{ref:Oe,icon:Or}))},Yr=k.forwardRef(lr),jn=Yr,dr=w(99611),br=function(me,ze){var Oe={};for(var Y in me)Object.prototype.hasOwnProperty.call(me,Y)&&ze.indexOf(Y)<0&&(Oe[Y]=me[Y]);if(me!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,Y=Object.getOwnPropertySymbols(me);ne<Y.length;ne++)ze.indexOf(Y[ne])<0&&Object.prototype.propertyIsEnumerable.call(me,Y[ne])&&(Oe[Y[ne]]=me[Y[ne]]);return Oe},nr=function(ze){return ze?k.createElement(dr.Z,null):k.createElement(jn,null)},Lr={click:"onClick",hover:"onMouseOver"},Ji=k.forwardRef(function(me,ze){var Oe=me.visibilityToggle,Y=Oe===void 0?!0:Oe,ne=(0,ae.Z)(Y)==="object"&&Y.visible!==void 0,W=(0,k.useState)(function(){return ne?Y.visible:!1}),S=(0,at.Z)(W,2),A=S[0],L=S[1],ce=(0,k.useRef)(null);k.useEffect(function(){ne&&L(Y.visible)},[ne,Y]);var ve=pr(ce),pe=function(){var nt=me.disabled;nt||(A&&ve(),L(function(Rt){var kt,bn=!Rt;return(0,ae.Z)(Y)==="object"&&((kt=Y.onVisibleChange)===null||kt===void 0||kt.call(Y,bn)),bn}))},Ee=function(nt){var Rt=me.action,kt=Rt===void 0?"click":Rt,bn=me.iconRender,pn=bn===void 0?nr:bn,Lt=Lr[kt]||"",Bt=pn(A),In=(0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)({},Lt,pe),"className","".concat(nt,"-icon")),"key","passwordIcon"),"onMouseDown",function(sr){sr.preventDefault()}),"onMouseUp",function(sr){sr.preventDefault()});return k.cloneElement(k.isValidElement(Bt)?Bt:k.createElement("span",null,Bt),In)},ht=function(nt){var Rt=nt.getPrefixCls,kt=me.className,bn=me.prefixCls,pn=me.inputPrefixCls,Lt=me.size,Bt=br(me,["className","prefixCls","inputPrefixCls","size"]),In=Rt("input",pn),Zn=Rt("input-password",bn),sr=Y&&Ee(Zn),ni=R()(Zn,kt,(0,M.Z)({},"".concat(Zn,"-").concat(Lt),!!Lt)),mi=(0,B.Z)((0,B.Z)({},(0,vt.Z)(Bt,["suffix","iconRender","visibilityToggle"])),{type:A?"text":"password",className:ni,prefixCls:In,suffix:sr});return Lt&&(mi.size=Lt),k.createElement(Jt,(0,B.Z)({ref:(0,ft.sQ)(ze,ce)},mi))};return k.createElement(F.C,null,ht)}),Ci=Ji,$i=w(68795),It=w(71577),Q=w(96159),we=function(me,ze){var Oe={};for(var Y in me)Object.prototype.hasOwnProperty.call(me,Y)&&ze.indexOf(Y)<0&&(Oe[Y]=me[Y]);if(me!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,Y=Object.getOwnPropertySymbols(me);ne<Y.length;ne++)ze.indexOf(Y[ne])<0&&Object.prototype.propertyIsEnumerable.call(me,Y[ne])&&(Oe[Y[ne]]=me[Y[ne]]);return Oe},Nt=k.forwardRef(function(me,ze){var Oe=me.prefixCls,Y=me.inputPrefixCls,ne=me.className,W=me.size,S=me.suffix,A=me.enterButton,L=A===void 0?!1:A,ce=me.addonAfter,ve=me.loading,pe=me.disabled,Ee=me.onSearch,ht=me.onChange,ct=me.onCompositionStart,nt=me.onCompositionEnd,Rt=we(me,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),kt=k.useContext(F.E_),bn=kt.getPrefixCls,pn=kt.direction,Lt=k.useContext(Cn.Z),Bt=k.useRef(!1),In=bn("input-search",Oe),Zn=bn("input",Y),sr=(0,cn.ri)(In,pn),ni=sr.compactSize,mi=ni||W||Lt,Rr=k.useRef(null),ai=function(Se){Se&&Se.target&&Se.type==="click"&&Ee&&Ee(Se.target.value,Se),ht&&ht(Se)},li=function(Se){var wt;document.activeElement===((wt=Rr.current)===null||wt===void 0?void 0:wt.input)&&Se.preventDefault()},wi=function(Se){var wt,Gt;Ee&&Ee((Gt=(wt=Rr.current)===null||wt===void 0?void 0:wt.input)===null||Gt===void 0?void 0:Gt.value,Se)},Ct=function(Se){Bt.current||ve||wi(Se)},Zt=typeof L=="boolean"?k.createElement($i.Z,null):null,Pr="".concat(In,"-button"),Gn,vr=L||{},$r=vr.type&&vr.type.__ANT_BUTTON===!0;$r||vr.type==="button"?Gn=(0,Q.Tm)(vr,(0,B.Z)({onMouseDown:li,onClick:function(Se){var wt,Gt;(Gt=(wt=vr==null?void 0:vr.props)===null||wt===void 0?void 0:wt.onClick)===null||Gt===void 0||Gt.call(wt,Se),wi(Se)},key:"enterButton"},$r?{className:Pr,size:mi}:{})):Gn=k.createElement(It.Z,{className:Pr,type:L?"primary":void 0,size:mi,disabled:pe,key:"enterButton",onMouseDown:li,onClick:wi,loading:ve,icon:Zt},L),ce&&(Gn=[Gn,(0,Q.Tm)(ce,{key:"addonAfter"})]);var At=R()(In,(0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(In,"-rtl"),pn==="rtl"),"".concat(In,"-").concat(mi),!!mi),"".concat(In,"-with-button"),!!L),ne),Be=function(Se){Bt.current=!0,ct==null||ct(Se)},Re=function(Se){Bt.current=!1,nt==null||nt(Se)};return k.createElement(Jt,(0,B.Z)({ref:(0,ft.sQ)(Rr,ze),onPressEnter:Ct},Rt,{size:mi,onCompositionStart:Be,onCompositionEnd:Re,prefixCls:Zn,addonAfter:Gn,suffix:S,onChange:ai,className:At,disabled:pe}))}),jt=Nt,gt=w(15671),Je=w(43144),pt=w(32531),rt=w(29388),qt=w(48555),Dn=w(8410),_n=w(75164),Wr=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,Qn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],it={},mn;function kn(me){var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Oe=me.getAttribute("id")||me.getAttribute("data-reactid")||me.getAttribute("name");if(ze&&it[Oe])return it[Oe];var Y=window.getComputedStyle(me),ne=Y.getPropertyValue("box-sizing")||Y.getPropertyValue("-moz-box-sizing")||Y.getPropertyValue("-webkit-box-sizing"),W=parseFloat(Y.getPropertyValue("padding-bottom"))+parseFloat(Y.getPropertyValue("padding-top")),S=parseFloat(Y.getPropertyValue("border-bottom-width"))+parseFloat(Y.getPropertyValue("border-top-width")),A=Qn.map(function(ce){return"".concat(ce,":").concat(Y.getPropertyValue(ce))}).join(";"),L={sizingStyle:A,paddingSize:W,borderSize:S,boxSizing:ne};return ze&&Oe&&(it[Oe]=L),L}function gr(me){var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;mn||(mn=document.createElement("textarea"),mn.setAttribute("tab-index","-1"),mn.setAttribute("aria-hidden","true"),document.body.appendChild(mn)),me.getAttribute("wrap")?mn.setAttribute("wrap",me.getAttribute("wrap")):mn.removeAttribute("wrap");var ne=kn(me,ze),W=ne.paddingSize,S=ne.borderSize,A=ne.boxSizing,L=ne.sizingStyle;mn.setAttribute("style","".concat(L,";").concat(Wr)),mn.value=me.value||me.placeholder||"";var ce=void 0,ve=void 0,pe,Ee=mn.scrollHeight;if(A==="border-box"?Ee+=S:A==="content-box"&&(Ee-=W),Oe!==null||Y!==null){mn.value=" ";var ht=mn.scrollHeight-W;Oe!==null&&(ce=ht*Oe,A==="border-box"&&(ce=ce+W+S),Ee=Math.max(ce,Ee)),Y!==null&&(ve=ht*Y,A==="border-box"&&(ve=ve+W+S),pe=Ee>ve?"":"hidden",Ee=Math.min(ve,Ee))}var ct={height:Ee,overflowY:pe,resize:"none"};return ce&&(ct.minHeight=ce),ve&&(ct.maxHeight=ve),ct}var kr=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],Ei=0,er=1,Tt=2,sn=k.forwardRef(function(me,ze){var Oe=me.prefixCls,Y=Oe===void 0?"rc-textarea":Oe,ne=me.onPressEnter,W=me.defaultValue,S=me.value,A=me.autoSize,L=me.onResize,ce=me.className,ve=me.style,pe=me.disabled,Ee=me.onChange,ht=me.onInternalAutoSize,ct=(0,mt.Z)(me,kr),nt=(0,Vt.Z)(W,{value:S,postState:function(wt){return wt!=null?wt:""}}),Rt=(0,at.Z)(nt,2),kt=Rt[0],bn=Rt[1],pn=function(wt){bn(wt.target.value),Ee==null||Ee(wt)},Lt=k.useRef();k.useImperativeHandle(ze,function(){return{textArea:Lt.current}});var Bt=k.useMemo(function(){return A&&(0,ae.Z)(A)==="object"?[A.minRows,A.maxRows]:[]},[A]),In=(0,at.Z)(Bt,2),Zn=In[0],sr=In[1],ni=!!A,mi=function(){try{if(document.activeElement===Lt.current){var wt=Lt.current,Gt=wt.selectionStart,Sn=wt.selectionEnd,Un=wt.scrollTop;Lt.current.setSelectionRange(Gt,Sn),Lt.current.scrollTop=Un}}catch(_e){}},Rr=k.useState(Tt),ai=(0,at.Z)(Rr,2),li=ai[0],wi=ai[1],Ct=k.useState(),Zt=(0,at.Z)(Ct,2),Pr=Zt[0],Gn=Zt[1],vr=function(){wi(Ei)};(0,Dn.Z)(function(){ni&&vr()},[S,Zn,sr,ni]),(0,Dn.Z)(function(){if(li===Ei)wi(er);else if(li===er){var Se=gr(Lt.current,!1,Zn,sr);wi(Tt),Gn(Se)}else mi()},[li]);var $r=k.useRef(),At=function(){_n.Z.cancel($r.current)},Be=function(wt){li===Tt&&(L==null||L(wt),A&&(At(),$r.current=(0,_n.Z)(function(){vr()})))};k.useEffect(function(){return At},[]);var Re=ni?Pr:null,Fe=(0,tn.Z)((0,tn.Z)({},ve),Re);return(li===Ei||li===er)&&(Fe.overflowY="hidden",Fe.overflowX="hidden"),k.createElement(qt.Z,{onResize:Be,disabled:!(A||L)},k.createElement("textarea",(0,B.Z)({},ct,{ref:Lt,style:Fe,className:R()(Y,ce,(0,M.Z)({},"".concat(Y,"-disabled"),pe)),disabled:pe,value:kt,onChange:pn})))}),_t=sn,Ut=function(me){(0,pt.Z)(Oe,me);var ze=(0,rt.Z)(Oe);function Oe(Y){var ne;(0,gt.Z)(this,Oe),ne=ze.call(this,Y),ne.resizableTextArea=void 0,ne.focus=function(){ne.resizableTextArea.textArea.focus()},ne.saveTextArea=function(S){ne.resizableTextArea=S},ne.handleChange=function(S){var A=ne.props.onChange;ne.setValue(S.target.value),A&&A(S)},ne.handleKeyDown=function(S){var A=ne.props,L=A.onPressEnter,ce=A.onKeyDown;S.keyCode===13&&L&&L(S),ce&&ce(S)};var W=typeof Y.value=="undefined"||Y.value===null?Y.defaultValue:Y.value;return ne.state={value:W},ne}return(0,Je.Z)(Oe,[{key:"setValue",value:function(ne,W){"value"in this.props||this.setState({value:ne},W)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return k.createElement(_t,(0,B.Z)({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(ne){return"value"in ne?{value:ne.value}:null}}]),Oe}(k.Component),Rn=Ut,Cr=w(82963),si=w(78814),tr=w(61120),xn=w(93355);function Hn(me,ze,Oe){return ze=(0,tr.Z)(ze),(0,Cr.Z)(me,(0,si.Z)()?Reflect.construct(ze,Oe||[],(0,tr.Z)(me).constructor):ze.apply(me,Oe))}var Kn=(0,xn.b)("text","input");function yn(me){return!!(me.addonBefore||me.addonAfter)}var Sr=function(me){(0,pt.Z)(ze,me);function ze(){return(0,gt.Z)(this,ze),Hn(this,ze,arguments)}return(0,Je.Z)(ze,[{key:"renderClearIcon",value:function(Y){var ne=this.props,W=ne.value,S=ne.disabled,A=ne.readOnly,L=ne.handleReset,ce=ne.suffix,ve=!S&&!A&&W,pe="".concat(Y,"-clear-icon");return k.createElement(ue.Z,{onClick:L,onMouseDown:function(ht){return ht.preventDefault()},className:R()((0,M.Z)((0,M.Z)({},"".concat(pe,"-hidden"),!ve),"".concat(pe,"-has-suffix"),!!ce),pe),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(Y,ne,W){var S=this.props,A=S.value,L=S.allowClear,ce=S.className,ve=S.focused,pe=S.style,Ee=S.direction,ht=S.bordered,ct=S.hidden,nt=S.status,Rt=W.status,kt=W.hasFeedback;if(!L)return(0,Q.Tm)(ne,{value:A});var bn=R()("".concat(Y,"-affix-wrapper"),"".concat(Y,"-affix-wrapper-textarea-with-clear-btn"),(0,mr.Z)("".concat(Y,"-affix-wrapper"),(0,mr.F)(Rt,nt),kt),(0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(Y,"-affix-wrapper-focused"),ve),"".concat(Y,"-affix-wrapper-rtl"),Ee==="rtl"),"".concat(Y,"-affix-wrapper-borderless"),!ht),"".concat(ce),!yn(this.props)&&ce));return k.createElement("span",{className:bn,style:pe,hidden:ct},(0,Q.Tm)(ne,{style:null,value:A}),this.renderClearIcon(Y))}},{key:"render",value:function(){var Y=this;return k.createElement(H.aM.Consumer,null,function(ne){var W=Y.props,S=W.prefixCls,A=W.inputType,L=W.element;if(A===Kn[0])return Y.renderTextAreaWithClearIcon(S,L,ne)})}}]),ze}(k.Component),yr=Sr,Tr=function(me,ze){var Oe={};for(var Y in me)Object.prototype.hasOwnProperty.call(me,Y)&&ze.indexOf(Y)<0&&(Oe[Y]=me[Y]);if(me!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,Y=Object.getOwnPropertySymbols(me);ne<Y.length;ne++)ze.indexOf(Y[ne])<0&&Object.prototype.propertyIsEnumerable.call(me,Y[ne])&&(Oe[Y[ne]]=me[Y[ne]]);return Oe};function rn(me,ze){return(0,ie.Z)(me||"").slice(0,ze).join("")}function hn(me,ze,Oe,Y){var ne=Oe;return me?ne=rn(Oe,Y):(0,ie.Z)(ze||"").length<Oe.length&&(0,ie.Z)(Oe||"").length>Y&&(ne=ze),ne}var or=k.forwardRef(function(me,ze){var Oe=me.prefixCls,Y=me.bordered,ne=Y===void 0?!0:Y,W=me.showCount,S=W===void 0?!1:W,A=me.maxLength,L=me.className,ce=me.style,ve=me.size,pe=me.disabled,Ee=me.onCompositionStart,ht=me.onCompositionEnd,ct=me.onChange,nt=me.onFocus,Rt=me.onBlur,kt=me.status,bn=Tr(me,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","onFocus","onBlur","status"]),pn=k.useContext(F.E_),Lt=pn.getPrefixCls,Bt=pn.direction,In=k.useContext(Cn.Z),Zn=k.useContext(Ye.Z),sr=pe!=null?pe:Zn,ni=k.useContext(H.aM),mi=ni.status,Rr=ni.hasFeedback,ai=ni.isFormItemInput,li=ni.feedbackIcon,wi=(0,mr.F)(mi,kt),Ct=k.useRef(null),Zt=k.useRef(null),Pr=k.useState(!1),Gn=(0,at.Z)(Pr,2),vr=Gn[0],$r=Gn[1],At=k.useState(!1),Be=(0,at.Z)(At,2),Re=Be[0],Fe=Be[1],Se=k.useRef(),wt=k.useRef(0),Gt=(0,Vt.Z)(bn.defaultValue,{value:bn.value}),Sn=(0,at.Z)(Gt,2),Un=Sn[0],_e=Sn[1],We=bn.hidden,Ve=function(ci,Si){bn.value===void 0&&(_e(ci),Si==null||Si())},Dt=Number(A)>0,An=function(ci){$r(!0),Se.current=Un,wt.current=ci.currentTarget.selectionStart,Ee==null||Ee(ci)},on=function(ci){var Si;$r(!1);var Li=ci.currentTarget.value;if(Dt){var to=wt.current>=A+1||wt.current===((Si=Se.current)===null||Si===void 0?void 0:Si.length);Li=hn(to,Se.current,Li,A)}Li!==Un&&(Ve(Li),Et(ci.currentTarget,ci,ct,Li)),ht==null||ht(ci)},et=function(ci){var Si=ci.target.value;if(!vr&&Dt){var Li=ci.target.selectionStart>=A+1||ci.target.selectionStart===Si.length||!ci.target.selectionStart;Si=hn(Li,Un,Si,A)}Ve(Si),Et(ci.currentTarget,ci,ct,Si)},Tn=function(ci){Fe(!1),Rt==null||Rt(ci)},zt=function(ci){Fe(!0),nt==null||nt(ci)};k.useEffect(function(){Fe(function(yi){return!sr&&yi})},[sr]);var Xn=function(ci){var Si,Li,to;Ve(""),(Si=Ct.current)===null||Si===void 0||Si.focus(),Et((to=(Li=Ct.current)===null||Li===void 0?void 0:Li.resizableTextArea)===null||to===void 0?void 0:to.textArea,ci,ct)},cr=Lt("input",Oe);k.useImperativeHandle(ze,function(){var yi;return{resizableTextArea:(yi=Ct.current)===null||yi===void 0?void 0:yi.resizableTextArea,focus:function(Si){var Li,to;$e((to=(Li=Ct.current)===null||Li===void 0?void 0:Li.resizableTextArea)===null||to===void 0?void 0:to.textArea,Si)},blur:function(){var Si;return(Si=Ct.current)===null||Si===void 0?void 0:Si.blur()}}});var ii=k.createElement(Rn,(0,B.Z)({},(0,vt.Z)(bn,["allowClear"]),{disabled:sr,className:R()((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(cr,"-borderless"),!ne),L,L&&!S),"".concat(cr,"-sm"),In==="small"||ve==="small"),"".concat(cr,"-lg"),In==="large"||ve==="large"),(0,mr.Z)(cr,wi)),style:S?{resize:ce==null?void 0:ce.resize}:ce,prefixCls:cr,onCompositionStart:An,onChange:et,onBlur:Tn,onFocus:zt,onCompositionEnd:on,ref:Ct})),ui=yt(Un);!vr&&Dt&&(bn.value===null||bn.value===void 0)&&(ui=rn(ui,A));var Mr=k.createElement(yr,(0,B.Z)({disabled:sr,focused:Re},bn,{prefixCls:cr,direction:Bt,inputType:"text",value:ui,element:ii,handleReset:Xn,ref:Zt,bordered:ne,status:kt,style:S?void 0:ce}));if(S||Rr){var jr=(0,ie.Z)(ui).length,eo="";return(0,ae.Z)(S)==="object"?eo=S.formatter({value:ui,count:jr,maxLength:A}):eo="".concat(jr).concat(Dt?" / ".concat(A):""),k.createElement("div",{hidden:We,className:R()("".concat(cr,"-textarea"),(0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(cr,"-textarea-rtl"),Bt==="rtl"),"".concat(cr,"-textarea-show-count"),S),"".concat(cr,"-textarea-in-form-item"),ai),(0,mr.Z)("".concat(cr,"-textarea"),wi,Rr),L),style:ce,"data-count":eo},Mr,Rr&&k.createElement("span",{className:"".concat(cr,"-textarea-suffix")},li))}return Mr}),Ke=or,Xe=Jt;Xe.Group=ee,Xe.Search=jt,Xe.TextArea=Ke,Xe.Password=Ci;var je=Xe},20048:function(Ne,te,w){"use strict";w.d(te,{ZM:function(){return Ut},ZP:function(){return si}});var B=w(74902),M=w(87462),j=w(4942),R=w(97685),k=w(71002),F=w(93967),H=w.n(F),I=w(67294),ee=w(53124),ae=w(73e3),ue=w(92820);function re(){var tr=I.useReducer(function(Kn){return Kn+1},0),xn=(0,R.Z)(tr,2),Hn=xn[1];return Hn}var ge=w(24308);function Ze(){var tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,xn=(0,I.useRef)({}),Hn=re();return(0,I.useEffect)(function(){var Kn=ge.ZP.subscribe(function(yn){xn.current=yn,tr&&Hn()});return function(){return ge.ZP.unsubscribe(Kn)}},[]),xn.current}var fe=Ze,Ce=w(1413),Ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},Pe=Ae,ie=w(42135),at=function(xn,Hn){return I.createElement(ie.Z,(0,Ce.Z)((0,Ce.Z)({},xn),{},{ref:Hn,icon:Pe}))},mt=I.forwardRef(at),vt=mt,Vt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},U=Vt,tt=function(xn,Hn){return I.createElement(ie.Z,(0,Ce.Z)((0,Ce.Z)({},xn),{},{ref:Hn,icon:U}))},ut=I.forwardRef(tt),vn=ut,ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},Ye=ft,Cn=function(xn,Hn){return I.createElement(ie.Z,(0,Ce.Z)((0,Ce.Z)({},xn),{},{ref:Hn,icon:Ye}))},cn=I.forwardRef(Cn),mr=cn,pr=w(90814),hr=w(15671),Mt=w(43144),yt=w(32531),Et=w(29388),$e=function(xn){var Hn,Kn="".concat(xn.rootPrefixCls,"-item"),yn=H()(Kn,"".concat(Kn,"-").concat(xn.page),(Hn={},(0,j.Z)(Hn,"".concat(Kn,"-active"),xn.active),(0,j.Z)(Hn,"".concat(Kn,"-disabled"),!xn.page),(0,j.Z)(Hn,xn.className,!!xn.className),Hn)),Sr=function(){xn.onClick(xn.page)},yr=function(rn){xn.onKeyPress(rn,xn.onClick,xn.page)};return I.createElement("li",{title:xn.showTitle?xn.page:null,className:yn,onClick:Sr,onKeyPress:yr,tabIndex:"0"},xn.itemRender(xn.page,"page",I.createElement("a",{rel:"nofollow"},xn.page)))},$t=$e,Jt={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},tn=function(tr){(0,yt.Z)(Hn,tr);var xn=(0,Et.Z)(Hn);function Hn(){var Kn;(0,hr.Z)(this,Hn);for(var yn=arguments.length,Sr=new Array(yn),yr=0;yr<yn;yr++)Sr[yr]=arguments[yr];return Kn=xn.call.apply(xn,[this].concat(Sr)),Kn.state={goInputText:""},Kn.buildOptionText=function(Tr){return"".concat(Tr," ").concat(Kn.props.locale.items_per_page)},Kn.changeSize=function(Tr){Kn.props.changeSize(Number(Tr))},Kn.handleChange=function(Tr){Kn.setState({goInputText:Tr.target.value})},Kn.handleBlur=function(Tr){var rn=Kn.props,hn=rn.goButton,or=rn.quickGo,Ke=rn.rootPrefixCls,Xe=Kn.state.goInputText;hn||Xe===""||(Kn.setState({goInputText:""}),!(Tr.relatedTarget&&(Tr.relatedTarget.className.indexOf("".concat(Ke,"-item-link"))>=0||Tr.relatedTarget.className.indexOf("".concat(Ke,"-item"))>=0))&&or(Kn.getValidValue()))},Kn.go=function(Tr){var rn=Kn.state.goInputText;rn!==""&&(Tr.keyCode===Jt.ENTER||Tr.type==="click")&&(Kn.setState({goInputText:""}),Kn.props.quickGo(Kn.getValidValue()))},Kn}return(0,Mt.Z)(Hn,[{key:"getValidValue",value:function(){var yn=this.state.goInputText;return!yn||isNaN(yn)?void 0:Number(yn)}},{key:"getPageSizeOptions",value:function(){var yn=this.props,Sr=yn.pageSize,yr=yn.pageSizeOptions;return yr.some(function(Tr){return Tr.toString()===Sr.toString()})?yr:yr.concat([Sr.toString()]).sort(function(Tr,rn){var hn=isNaN(Number(Tr))?0:Number(Tr),or=isNaN(Number(rn))?0:Number(rn);return hn-or})}},{key:"render",value:function(){var yn=this,Sr=this.props,yr=Sr.pageSize,Tr=Sr.locale,rn=Sr.rootPrefixCls,hn=Sr.changeSize,or=Sr.quickGo,Ke=Sr.goButton,Xe=Sr.selectComponentClass,je=Sr.buildOptionText,me=Sr.selectPrefixCls,ze=Sr.disabled,Oe=this.state.goInputText,Y="".concat(rn,"-options"),ne=Xe,W=null,S=null,A=null;if(!hn&&!or)return null;var L=this.getPageSizeOptions();if(hn&&ne){var ce=L.map(function(ve,pe){return I.createElement(ne.Option,{key:pe,value:ve.toString()},(je||yn.buildOptionText)(ve))});W=I.createElement(ne,{disabled:ze,prefixCls:me,showSearch:!1,className:"".concat(Y,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(yr||L[0]).toString(),onChange:this.changeSize,getPopupContainer:function(pe){return pe.parentNode},"aria-label":Tr.page_size,defaultOpen:!1},ce)}return or&&(Ke&&(A=typeof Ke=="boolean"?I.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:ze,className:"".concat(Y,"-quick-jumper-button")},Tr.jump_to_confirm):I.createElement("span",{onClick:this.go,onKeyUp:this.go},Ke)),S=I.createElement("div",{className:"".concat(Y,"-quick-jumper")},Tr.jump_to,I.createElement("input",{disabled:ze,type:"text",value:Oe,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":Tr.page}),Tr.page,A)),I.createElement("li",{className:"".concat(Y)},W,S)}}]),Hn}(I.Component);tn.defaultProps={pageSizeOptions:["10","20","50","100"]};var ir=tn,Or={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"};function Fr(){}function lr(tr){var xn=Number(tr);return typeof xn=="number"&&!isNaN(xn)&&isFinite(xn)&&Math.floor(xn)===xn}function Yr(tr,xn,Hn){return Hn}function jn(tr,xn,Hn){var Kn=typeof tr=="undefined"?xn.pageSize:tr;return Math.floor((Hn.total-1)/Kn)+1}var dr=function(tr){(0,yt.Z)(Hn,tr);var xn=(0,Et.Z)(Hn);function Hn(Kn){var yn;(0,hr.Z)(this,Hn),yn=xn.call(this,Kn),yn.getJumpPrevPage=function(){return Math.max(1,yn.state.current-(yn.props.showLessItems?3:5))},yn.getJumpNextPage=function(){return Math.min(jn(void 0,yn.state,yn.props),yn.state.current+(yn.props.showLessItems?3:5))},yn.getItemIcon=function(hn,or){var Ke=yn.props.prefixCls,Xe=hn||I.createElement("button",{type:"button","aria-label":or,className:"".concat(Ke,"-item-link")});return typeof hn=="function"&&(Xe=I.createElement(hn,(0,Ce.Z)({},yn.props))),Xe},yn.savePaginationNode=function(hn){yn.paginationNode=hn},yn.isValid=function(hn){var or=yn.props.total;return lr(hn)&&hn!==yn.state.current&&lr(or)&&or>0},yn.shouldDisplayQuickJumper=function(){var hn=yn.props,or=hn.showQuickJumper,Ke=hn.total,Xe=yn.state.pageSize;return Ke<=Xe?!1:or},yn.handleKeyDown=function(hn){(hn.keyCode===Jt.ARROW_UP||hn.keyCode===Jt.ARROW_DOWN)&&hn.preventDefault()},yn.handleKeyUp=function(hn){var or=yn.getValidValue(hn),Ke=yn.state.currentInputValue;or!==Ke&&yn.setState({currentInputValue:or}),hn.keyCode===Jt.ENTER?yn.handleChange(or):hn.keyCode===Jt.ARROW_UP?yn.handleChange(or-1):hn.keyCode===Jt.ARROW_DOWN&&yn.handleChange(or+1)},yn.handleBlur=function(hn){var or=yn.getValidValue(hn);yn.handleChange(or)},yn.changePageSize=function(hn){var or=yn.state.current,Ke=jn(hn,yn.state,yn.props);or=or>Ke?Ke:or,Ke===0&&(or=yn.state.current),typeof hn=="number"&&("pageSize"in yn.props||yn.setState({pageSize:hn}),"current"in yn.props||yn.setState({current:or,currentInputValue:or})),yn.props.onShowSizeChange(or,hn),"onChange"in yn.props&&yn.props.onChange&&yn.props.onChange(or,hn)},yn.handleChange=function(hn){var or=yn.props,Ke=or.disabled,Xe=or.onChange,je=yn.state,me=je.pageSize,ze=je.current,Oe=je.currentInputValue;if(yn.isValid(hn)&&!Ke){var Y=jn(void 0,yn.state,yn.props),ne=hn;return hn>Y?ne=Y:hn<1&&(ne=1),"current"in yn.props||yn.setState({current:ne}),ne!==Oe&&yn.setState({currentInputValue:ne}),Xe(ne,me),ne}return ze},yn.prev=function(){yn.hasPrev()&&yn.handleChange(yn.state.current-1)},yn.next=function(){yn.hasNext()&&yn.handleChange(yn.state.current+1)},yn.jumpPrev=function(){yn.handleChange(yn.getJumpPrevPage())},yn.jumpNext=function(){yn.handleChange(yn.getJumpNextPage())},yn.hasPrev=function(){return yn.state.current>1},yn.hasNext=function(){return yn.state.current<jn(void 0,yn.state,yn.props)},yn.runIfEnter=function(hn,or){if(hn.key==="Enter"||hn.charCode===13){for(var Ke=arguments.length,Xe=new Array(Ke>2?Ke-2:0),je=2;je<Ke;je++)Xe[je-2]=arguments[je];or.apply(void 0,Xe)}},yn.runIfEnterPrev=function(hn){yn.runIfEnter(hn,yn.prev)},yn.runIfEnterNext=function(hn){yn.runIfEnter(hn,yn.next)},yn.runIfEnterJumpPrev=function(hn){yn.runIfEnter(hn,yn.jumpPrev)},yn.runIfEnterJumpNext=function(hn){yn.runIfEnter(hn,yn.jumpNext)},yn.handleGoTO=function(hn){(hn.keyCode===Jt.ENTER||hn.type==="click")&&yn.handleChange(yn.state.currentInputValue)};var Sr=Kn.onChange!==Fr,yr="current"in Kn;yr&&!Sr&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var Tr=Kn.defaultCurrent;"current"in Kn&&(Tr=Kn.current);var rn=Kn.defaultPageSize;return"pageSize"in Kn&&(rn=Kn.pageSize),Tr=Math.min(Tr,jn(rn,void 0,Kn)),yn.state={current:Tr,currentInputValue:Tr,pageSize:rn},yn}return(0,Mt.Z)(Hn,[{key:"componentDidUpdate",value:function(yn,Sr){var yr=this.props.prefixCls;if(Sr.current!==this.state.current&&this.paginationNode){var Tr=this.paginationNode.querySelector(".".concat(yr,"-item-").concat(Sr.current));Tr&&document.activeElement===Tr&&Tr.blur()}}},{key:"getValidValue",value:function(yn){var Sr=yn.target.value,yr=jn(void 0,this.state,this.props),Tr=this.state.currentInputValue,rn;return Sr===""?rn=Sr:isNaN(Number(Sr))?rn=Tr:Sr>=yr?rn=yr:rn=Number(Sr),rn}},{key:"getShowSizeChanger",value:function(){var yn=this.props,Sr=yn.showSizeChanger,yr=yn.total,Tr=yn.totalBoundaryShowSizeChanger;return typeof Sr!="undefined"?Sr:yr>Tr}},{key:"renderPrev",value:function(yn){var Sr=this.props,yr=Sr.prevIcon,Tr=Sr.itemRender,rn=Tr(yn,"prev",this.getItemIcon(yr,"prev page")),hn=!this.hasPrev();return(0,I.isValidElement)(rn)?(0,I.cloneElement)(rn,{disabled:hn}):rn}},{key:"renderNext",value:function(yn){var Sr=this.props,yr=Sr.nextIcon,Tr=Sr.itemRender,rn=Tr(yn,"next",this.getItemIcon(yr,"next page")),hn=!this.hasNext();return(0,I.isValidElement)(rn)?(0,I.cloneElement)(rn,{disabled:hn}):rn}},{key:"render",value:function(){var yn=this,Sr=this.props,yr=Sr.prefixCls,Tr=Sr.className,rn=Sr.style,hn=Sr.disabled,or=Sr.hideOnSinglePage,Ke=Sr.total,Xe=Sr.locale,je=Sr.showQuickJumper,me=Sr.showLessItems,ze=Sr.showTitle,Oe=Sr.showTotal,Y=Sr.simple,ne=Sr.itemRender,W=Sr.showPrevNextJumpers,S=Sr.jumpPrevIcon,A=Sr.jumpNextIcon,L=Sr.selectComponentClass,ce=Sr.selectPrefixCls,ve=Sr.pageSizeOptions,pe=this.state,Ee=pe.current,ht=pe.pageSize,ct=pe.currentInputValue;if(or===!0&&Ke<=ht)return null;var nt=jn(void 0,this.state,this.props),Rt=[],kt=null,bn=null,pn=null,Lt=null,Bt=null,In=je&&je.goButton,Zn=me?1:2,sr=Ee-1>0?Ee-1:0,ni=Ee+1<nt?Ee+1:nt,mi=Object.keys(this.props).reduce(function(Re,Fe){return(Fe.substr(0,5)==="data-"||Fe.substr(0,5)==="aria-"||Fe==="role")&&(Re[Fe]=yn.props[Fe]),Re},{}),Rr=Oe&&I.createElement("li",{className:"".concat(yr,"-total-text")},Oe(Ke,[Ke===0?0:(Ee-1)*ht+1,Ee*ht>Ke?Ke:Ee*ht]));if(Y)return In&&(typeof In=="boolean"?Bt=I.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Xe.jump_to_confirm):Bt=I.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},In),Bt=I.createElement("li",{title:ze?"".concat(Xe.jump_to).concat(Ee,"/").concat(nt):null,className:"".concat(yr,"-simple-pager")},Bt)),I.createElement("ul",(0,M.Z)({className:H()(yr,"".concat(yr,"-simple"),(0,j.Z)({},"".concat(yr,"-disabled"),hn),Tr),style:rn,ref:this.savePaginationNode},mi),Rr,I.createElement("li",{title:ze?Xe.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:H()("".concat(yr,"-prev"),(0,j.Z)({},"".concat(yr,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(sr)),I.createElement("li",{title:ze?"".concat(Ee,"/").concat(nt):null,className:"".concat(yr,"-simple-pager")},I.createElement("input",{type:"text",value:ct,disabled:hn,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),I.createElement("span",{className:"".concat(yr,"-slash")},"/"),nt),I.createElement("li",{title:ze?Xe.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:H()("".concat(yr,"-next"),(0,j.Z)({},"".concat(yr,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(ni)),Bt);if(nt<=3+Zn*2){var ai={locale:Xe,rootPrefixCls:yr,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:ze,itemRender:ne};nt||Rt.push(I.createElement($t,(0,M.Z)({},ai,{key:"noPager",page:1,className:"".concat(yr,"-item-disabled")})));for(var li=1;li<=nt;li+=1){var wi=Ee===li;Rt.push(I.createElement($t,(0,M.Z)({},ai,{key:li,page:li,active:wi})))}}else{var Ct=me?Xe.prev_3:Xe.prev_5,Zt=me?Xe.next_3:Xe.next_5;W&&(kt=I.createElement("li",{title:ze?Ct:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:H()("".concat(yr,"-jump-prev"),(0,j.Z)({},"".concat(yr,"-jump-prev-custom-icon"),!!S))},ne(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(S,"prev page"))),bn=I.createElement("li",{title:ze?Zt:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:H()("".concat(yr,"-jump-next"),(0,j.Z)({},"".concat(yr,"-jump-next-custom-icon"),!!A))},ne(this.getJumpNextPage(),"jump-next",this.getItemIcon(A,"next page")))),Lt=I.createElement($t,{locale:Xe,last:!0,rootPrefixCls:yr,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:nt,page:nt,active:!1,showTitle:ze,itemRender:ne}),pn=I.createElement($t,{locale:Xe,rootPrefixCls:yr,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:ze,itemRender:ne});var Pr=Math.max(1,Ee-Zn),Gn=Math.min(Ee+Zn,nt);Ee-1<=Zn&&(Gn=1+Zn*2),nt-Ee<=Zn&&(Pr=nt-Zn*2);for(var vr=Pr;vr<=Gn;vr+=1){var $r=Ee===vr;Rt.push(I.createElement($t,{locale:Xe,rootPrefixCls:yr,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:vr,page:vr,active:$r,showTitle:ze,itemRender:ne}))}Ee-1>=Zn*2&&Ee!==3&&(Rt[0]=(0,I.cloneElement)(Rt[0],{className:"".concat(yr,"-item-after-jump-prev")}),Rt.unshift(kt)),nt-Ee>=Zn*2&&Ee!==nt-2&&(Rt[Rt.length-1]=(0,I.cloneElement)(Rt[Rt.length-1],{className:"".concat(yr,"-item-before-jump-next")}),Rt.push(bn)),Pr!==1&&Rt.unshift(pn),Gn!==nt&&Rt.push(Lt)}var At=!this.hasPrev()||!nt,Be=!this.hasNext()||!nt;return I.createElement("ul",(0,M.Z)({className:H()(yr,Tr,(0,j.Z)({},"".concat(yr,"-disabled"),hn)),style:rn,ref:this.savePaginationNode},mi),Rr,I.createElement("li",{title:ze?Xe.prev_page:null,onClick:this.prev,tabIndex:At?null:0,onKeyPress:this.runIfEnterPrev,className:H()("".concat(yr,"-prev"),(0,j.Z)({},"".concat(yr,"-disabled"),At)),"aria-disabled":At},this.renderPrev(sr)),Rt,I.createElement("li",{title:ze?Xe.next_page:null,onClick:this.next,tabIndex:Be?null:0,onKeyPress:this.runIfEnterNext,className:H()("".concat(yr,"-next"),(0,j.Z)({},"".concat(yr,"-disabled"),Be)),"aria-disabled":Be},this.renderNext(ni)),I.createElement(ir,{disabled:hn,locale:Xe,rootPrefixCls:yr,selectComponentClass:L,selectPrefixCls:ce,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:Ee,pageSize:ht,pageSizeOptions:ve,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:In}))}}],[{key:"getDerivedStateFromProps",value:function(yn,Sr){var yr={};if("current"in yn&&(yr.current=yn.current,yn.current!==Sr.current&&(yr.currentInputValue=yr.current)),"pageSize"in yn&&yn.pageSize!==Sr.pageSize){var Tr=Sr.current,rn=jn(yn.pageSize,Sr,yn);Tr=Tr>rn?rn:Tr,"current"in yn||(yr.current=Tr,yr.currentInputValue=Tr),yr.pageSize=yn.pageSize}return yr}}]),Hn}(I.Component);dr.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Fr,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Fr,locale:Or,style:{},itemRender:Yr,totalBoundaryShowSizeChanger:50};var br=dr,nr=w(62906),Lr=w(23715),Ji=w(21369),Ci=function(xn){return I.createElement(Ji.Z,(0,M.Z)({},xn,{size:"small"}))},$i=function(xn){return I.createElement(Ji.Z,(0,M.Z)({},xn,{size:"middle"}))};Ci.Option=Ji.Z.Option,$i.Option=Ji.Z.Option;var It=function(tr,xn){var Hn={};for(var Kn in tr)Object.prototype.hasOwnProperty.call(tr,Kn)&&xn.indexOf(Kn)<0&&(Hn[Kn]=tr[Kn]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var yn=0,Kn=Object.getOwnPropertySymbols(tr);yn<Kn.length;yn++)xn.indexOf(Kn[yn])<0&&Object.prototype.propertyIsEnumerable.call(tr,Kn[yn])&&(Hn[Kn[yn]]=tr[Kn[yn]]);return Hn},Q=function(xn){var Hn=xn.prefixCls,Kn=xn.selectPrefixCls,yn=xn.className,Sr=xn.size,yr=xn.locale,Tr=xn.selectComponentClass,rn=xn.responsive,hn=xn.showSizeChanger,or=It(xn,["prefixCls","selectPrefixCls","className","size","locale","selectComponentClass","responsive","showSizeChanger"]),Ke=fe(rn),Xe=Ke.xs,je=I.useContext(ee.E_),me=je.getPrefixCls,ze=je.direction,Oe=je.pagination,Y=Oe===void 0?{}:Oe,ne=me("pagination",Hn),W=hn!=null?hn:Y.showSizeChanger,S=function(){var L=I.createElement("span",{className:"".concat(ne,"-item-ellipsis")},"\u2022\u2022\u2022"),ce=I.createElement("button",{className:"".concat(ne,"-item-link"),type:"button",tabIndex:-1},I.createElement(mr,null)),ve=I.createElement("button",{className:"".concat(ne,"-item-link"),type:"button",tabIndex:-1},I.createElement(pr.Z,null)),pe=I.createElement("a",{className:"".concat(ne,"-item-link")},I.createElement("div",{className:"".concat(ne,"-item-container")},I.createElement(vt,{className:"".concat(ne,"-item-link-icon")}),L)),Ee=I.createElement("a",{className:"".concat(ne,"-item-link")},I.createElement("div",{className:"".concat(ne,"-item-container")},I.createElement(vn,{className:"".concat(ne,"-item-link-icon")}),L));if(ze==="rtl"){var ht=[ve,ce];ce=ht[0],ve=ht[1];var ct=[Ee,pe];pe=ct[0],Ee=ct[1]}return{prevIcon:ce,nextIcon:ve,jumpPrevIcon:pe,jumpNextIcon:Ee}};return I.createElement(Lr.Z,{componentName:"Pagination",defaultLocale:nr.Z},function(A){var L=(0,M.Z)((0,M.Z)({},A),yr),ce=Sr==="small"||!!(Xe&&!Sr&&rn),ve=me("select",Kn),pe=H()((0,j.Z)((0,j.Z)({},"".concat(ne,"-mini"),ce),"".concat(ne,"-rtl"),ze==="rtl"),yn);return I.createElement(br,(0,M.Z)({},S(),or,{prefixCls:ne,selectPrefixCls:ve,className:pe,selectComponentClass:Tr||(ce?Ci:$i),locale:L,showSizeChanger:W}))})},we=Q,Nt=we,jt=w(23279),gt=w.n(jt),Je=w(98423),pt=w(96159),rt=w(93355),qt=function(tr,xn){var Hn={};for(var Kn in tr)Object.prototype.hasOwnProperty.call(tr,Kn)&&xn.indexOf(Kn)<0&&(Hn[Kn]=tr[Kn]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var yn=0,Kn=Object.getOwnPropertySymbols(tr);yn<Kn.length;yn++)xn.indexOf(Kn[yn])<0&&Object.prototype.propertyIsEnumerable.call(tr,Kn[yn])&&(Hn[Kn[yn]]=tr[Kn[yn]]);return Hn},Dn=(0,rt.b)("small","default","large"),_n=null;function Wr(tr,xn){var Hn=xn.indicator,Kn="".concat(tr,"-dot");return Hn===null?null:(0,pt.l$)(Hn)?(0,pt.Tm)(Hn,{className:H()(Hn.props.className,Kn)}):(0,pt.l$)(_n)?(0,pt.Tm)(_n,{className:H()(_n.props.className,Kn)}):I.createElement("span",{className:H()(Kn,"".concat(tr,"-dot-spin"))},I.createElement("i",{className:"".concat(tr,"-dot-item")}),I.createElement("i",{className:"".concat(tr,"-dot-item")}),I.createElement("i",{className:"".concat(tr,"-dot-item")}),I.createElement("i",{className:"".concat(tr,"-dot-item")}))}function Qn(tr,xn){return!!tr&&!!xn&&!isNaN(Number(xn))}var it=function(xn){var Hn=xn.spinPrefixCls,Kn=xn.spinning,yn=Kn===void 0?!0:Kn,Sr=xn.delay,yr=xn.className,Tr=xn.size,rn=Tr===void 0?"default":Tr,hn=xn.tip,or=xn.wrapperClassName,Ke=xn.style,Xe=xn.children,je=qt(xn,["spinPrefixCls","spinning","delay","className","size","tip","wrapperClassName","style","children"]),me=I.useState(function(){return yn&&!Qn(yn,Sr)}),ze=(0,R.Z)(me,2),Oe=ze[0],Y=ze[1];I.useEffect(function(){var S=gt()(function(){Y(yn)},Sr);return S(),function(){var A;(A=S==null?void 0:S.cancel)===null||A===void 0||A.call(S)}},[Sr,yn]);var ne=function(){return typeof Xe!="undefined"},W=function(A){var L=A.direction,ce=H()(Hn,(0,j.Z)((0,j.Z)((0,j.Z)((0,j.Z)((0,j.Z)({},"".concat(Hn,"-sm"),rn==="small"),"".concat(Hn,"-lg"),rn==="large"),"".concat(Hn,"-spinning"),Oe),"".concat(Hn,"-show-text"),!!hn),"".concat(Hn,"-rtl"),L==="rtl"),yr),ve=(0,Je.Z)(je,["indicator","prefixCls"]),pe=I.createElement("div",(0,M.Z)({},ve,{style:Ke,className:ce,"aria-live":"polite","aria-busy":Oe}),Wr(Hn,xn),hn?I.createElement("div",{className:"".concat(Hn,"-text")},hn):null);if(ne()){var Ee=H()("".concat(Hn,"-container"),(0,j.Z)({},"".concat(Hn,"-blur"),Oe));return I.createElement("div",(0,M.Z)({},ve,{className:H()("".concat(Hn,"-nested-loading"),or)}),Oe&&I.createElement("div",{key:"loading"},pe),I.createElement("div",{className:Ee,key:"container"},Xe))}return pe};return I.createElement(ee.C,null,W)},mn=function(xn){var Hn=xn.prefixCls,Kn=I.useContext(ee.E_),yn=Kn.getPrefixCls,Sr=yn("spin",Hn),yr=(0,M.Z)((0,M.Z)({},xn),{spinPrefixCls:Sr});return I.createElement(it,(0,M.Z)({},yr))};mn.setDefaultIndicator=function(tr){_n=tr};var kn=mn,gr=w(21584),kr=function(tr,xn){var Hn={};for(var Kn in tr)Object.prototype.hasOwnProperty.call(tr,Kn)&&xn.indexOf(Kn)<0&&(Hn[Kn]=tr[Kn]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var yn=0,Kn=Object.getOwnPropertySymbols(tr);yn<Kn.length;yn++)xn.indexOf(Kn[yn])<0&&Object.prototype.propertyIsEnumerable.call(tr,Kn[yn])&&(Hn[Kn[yn]]=tr[Kn[yn]]);return Hn},Ei=function(xn){var Hn=xn.prefixCls,Kn=xn.className,yn=xn.avatar,Sr=xn.title,yr=xn.description,Tr=kr(xn,["prefixCls","className","avatar","title","description"]),rn=(0,I.useContext)(ee.E_),hn=rn.getPrefixCls,or=hn("list",Hn),Ke=H()("".concat(or,"-item-meta"),Kn),Xe=I.createElement("div",{className:"".concat(or,"-item-meta-content")},Sr&&I.createElement("h4",{className:"".concat(or,"-item-meta-title")},Sr),yr&&I.createElement("div",{className:"".concat(or,"-item-meta-description")},yr));return I.createElement("div",(0,M.Z)({},Tr,{className:Ke}),yn&&I.createElement("div",{className:"".concat(or,"-item-meta-avatar")},yn),(Sr||yr)&&Xe)},er=function(xn,Hn){var Kn=xn.prefixCls,yn=xn.children,Sr=xn.actions,yr=xn.extra,Tr=xn.className,rn=xn.colStyle,hn=kr(xn,["prefixCls","children","actions","extra","className","colStyle"]),or=(0,I.useContext)(Ut),Ke=or.grid,Xe=or.itemLayout,je=(0,I.useContext)(ee.E_),me=je.getPrefixCls,ze=function(){var L;return I.Children.forEach(yn,function(ce){typeof ce=="string"&&(L=!0)}),L&&I.Children.count(yn)>1},Oe=function(){return Xe==="vertical"?!!yr:!ze()},Y=me("list",Kn),ne=Sr&&Sr.length>0&&I.createElement("ul",{className:"".concat(Y,"-item-action"),key:"actions"},Sr.map(function(A,L){return I.createElement("li",{key:"".concat(Y,"-item-action-").concat(L)},A,L!==Sr.length-1&&I.createElement("em",{className:"".concat(Y,"-item-action-split")}))})),W=Ke?"div":"li",S=I.createElement(W,(0,M.Z)({},hn,Ke?{}:{ref:Hn},{className:H()("".concat(Y,"-item"),(0,j.Z)({},"".concat(Y,"-item-no-flex"),!Oe()),Tr)}),Xe==="vertical"&&yr?[I.createElement("div",{className:"".concat(Y,"-item-main"),key:"content"},yn,ne),I.createElement("div",{className:"".concat(Y,"-item-extra"),key:"extra"},yr)]:[yn,ne,(0,pt.Tm)(yr,{key:"extra"})]);return Ke?I.createElement(gr.Z,{ref:Hn,flex:1,style:rn},S):S},Tt=(0,I.forwardRef)(er);Tt.Meta=Ei;var sn=Tt,_t=function(tr,xn){var Hn={};for(var Kn in tr)Object.prototype.hasOwnProperty.call(tr,Kn)&&xn.indexOf(Kn)<0&&(Hn[Kn]=tr[Kn]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var yn=0,Kn=Object.getOwnPropertySymbols(tr);yn<Kn.length;yn++)xn.indexOf(Kn[yn])<0&&Object.prototype.propertyIsEnumerable.call(tr,Kn[yn])&&(Hn[Kn[yn]]=tr[Kn[yn]]);return Hn},Ut=I.createContext({}),Rn=Ut.Consumer;function Cr(tr){var xn=tr.pagination,Hn=xn===void 0?!1:xn,Kn=tr.prefixCls,yn=tr.bordered,Sr=yn===void 0?!1:yn,yr=tr.split,Tr=yr===void 0?!0:yr,rn=tr.className,hn=tr.children,or=tr.itemLayout,Ke=tr.loadMore,Xe=tr.grid,je=tr.dataSource,me=je===void 0?[]:je,ze=tr.size,Oe=tr.header,Y=tr.footer,ne=tr.loading,W=ne===void 0?!1:ne,S=tr.rowKey,A=tr.renderItem,L=tr.locale,ce=_t(tr,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),ve=Hn&&(0,k.Z)(Hn)==="object"?Hn:{},pe=I.useState(ve.defaultCurrent||1),Ee=(0,R.Z)(pe,2),ht=Ee[0],ct=Ee[1],nt=I.useState(ve.defaultPageSize||10),Rt=(0,R.Z)(nt,2),kt=Rt[0],bn=Rt[1],pn=I.useContext(ee.E_),Lt=pn.getPrefixCls,Bt=pn.renderEmpty,In=pn.direction,Zn={current:1,total:0},sr=function(Ve){return function(Dt,An){ct(Dt),bn(An),Hn&&Hn[Ve]&&Hn[Ve](Dt,An)}},ni=sr("onChange"),mi=sr("onShowSizeChange"),Rr=function(Ve,Dt){if(!A)return null;var An;return typeof S=="function"?An=S(Ve):S?An=Ve[S]:An=Ve.key,An||(An="list-item-".concat(Dt)),I.createElement(I.Fragment,{key:An},A(Ve,Dt))},ai=function(){return!!(Ke||Hn||Y)},li=function(Ve,Dt){return I.createElement("div",{className:"".concat(Ve,"-empty-text")},L&&L.emptyText||Dt("List"))},wi=Lt("list",Kn),Ct=W;typeof Ct=="boolean"&&(Ct={spinning:Ct});var Zt=Ct&&Ct.spinning,Pr="";switch(ze){case"large":Pr="lg";break;case"small":Pr="sm";break;default:break}var Gn=H()(wi,(0,j.Z)((0,j.Z)((0,j.Z)((0,j.Z)((0,j.Z)((0,j.Z)((0,j.Z)((0,j.Z)({},"".concat(wi,"-vertical"),or==="vertical"),"".concat(wi,"-").concat(Pr),Pr),"".concat(wi,"-split"),Tr),"".concat(wi,"-bordered"),Sr),"".concat(wi,"-loading"),Zt),"".concat(wi,"-grid"),!!Xe),"".concat(wi,"-something-after-last-item"),ai()),"".concat(wi,"-rtl"),In==="rtl"),rn),vr=(0,M.Z)((0,M.Z)((0,M.Z)({},Zn),{total:me.length,current:ht,pageSize:kt}),Hn||{}),$r=Math.ceil(vr.total/vr.pageSize);vr.current>$r&&(vr.current=$r);var At=Hn?I.createElement("div",{className:"".concat(wi,"-pagination")},I.createElement(Nt,(0,M.Z)({},vr,{onChange:ni,onShowSizeChange:mi}))):null,Be=(0,B.Z)(me);Hn&&me.length>(vr.current-1)*vr.pageSize&&(Be=(0,B.Z)(me).splice((vr.current-1)*vr.pageSize,vr.pageSize));var Re=Object.keys(Xe||{}).some(function(We){return["xs","sm","md","lg","xl","xxl"].includes(We)}),Fe=fe(Re),Se=I.useMemo(function(){for(var We=0;We<ge.c4.length;We+=1){var Ve=ge.c4[We];if(Fe[Ve])return Ve}},[Fe]),wt=I.useMemo(function(){if(Xe){var We=Se&&Xe[Se]?Xe[Se]:Xe.column;if(We)return{width:"".concat(100/We,"%"),maxWidth:"".concat(100/We,"%")}}},[Xe==null?void 0:Xe.column,Se]),Gt=Zt&&I.createElement("div",{style:{minHeight:53}});if(Be.length>0){var Sn=Be.map(function(We,Ve){return Rr(We,Ve)});Gt=Xe?I.createElement(ue.Z,{gutter:Xe.gutter},I.Children.map(Sn,function(We){return I.createElement("div",{key:We==null?void 0:We.key,style:wt},We)})):I.createElement("ul",{className:"".concat(wi,"-items")},Sn)}else!hn&&!Zt&&(Gt=li(wi,Bt||ae.Z));var Un=vr.position||"bottom",_e=I.useMemo(function(){return{grid:Xe,itemLayout:or}},[JSON.stringify(Xe),or]);return I.createElement(Ut.Provider,{value:_e},I.createElement("div",(0,M.Z)({className:Gn},ce),(Un==="top"||Un==="both")&&At,Oe&&I.createElement("div",{className:"".concat(wi,"-header")},Oe),I.createElement(kn,(0,M.Z)({},Ct),Gt,hn),Y&&I.createElement("div",{className:"".concat(wi,"-footer")},Y),Ke||(Un==="bottom"||Un==="both")&&At))}Cr.Item=sn;var si=Cr},23715:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return H},E:function(){return I}});var B=w(87462),M=w(67294),j=w(67178),R=w(6213),k=R.Z,F=function(ae){var ue=ae.componentName,re=ue===void 0?"global":ue,ge=ae.defaultLocale,Ze=ae.children,fe=M.useContext(j.Z),Ce=M.useMemo(function(){var Pe,ie=ge||k[re],at=(Pe=fe==null?void 0:fe[re])!==null&&Pe!==void 0?Pe:{};return(0,B.Z)((0,B.Z)({},ie instanceof Function?ie():ie),at||{})},[re,ge,fe]),Ae=M.useMemo(function(){var Pe=fe&&fe.locale;return fe&&fe.exist&&!Pe?k.locale:Pe},[fe]);return Ze(Ce,Ae,fe)},H=F,I=function(ae,ue){var re=M.useContext(j.Z),ge=M.useMemo(function(){var Ze,fe=ue||k[ae],Ce=(Ze=re==null?void 0:re[ae])!==null&&Ze!==void 0?Ze:{};return(0,B.Z)((0,B.Z)({},typeof fe=="function"?fe():fe),Ce||{})},[ae,ue,re]);return[ge]}},67178:function(Ne,te,w){"use strict";var B=w(67294),M=(0,B.createContext)(void 0);te.Z=M},6213:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return re}});var B=w(62906),M=w(87462),j={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},R=j,k={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},F=k,H={lang:(0,M.Z)({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},R),timePickerLocale:(0,M.Z)({},F)},I=H,ee=I,ae="${label} is not a valid ${type}",ue={locale:"en",Pagination:B.Z,DatePicker:I,TimePicker:F,Calendar:ee,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:ae,method:ae,array:ae,object:ae,number:ae,date:ae,boolean:ae,integer:ae,float:ae,regexp:ae,email:ae,url:ae,hex:ae},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},re=ue},76529:function(Ne,te,w){"use strict";w.d(te,{J:function(){return k}});var B=w(87462),M=w(67294),j=function(F,H){var I={};for(var ee in F)Object.prototype.hasOwnProperty.call(F,ee)&&H.indexOf(ee)<0&&(I[ee]=F[ee]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ae=0,ee=Object.getOwnPropertySymbols(F);ae<ee.length;ae++)H.indexOf(ee[ae])<0&&Object.prototype.propertyIsEnumerable.call(F,ee[ae])&&(I[ee[ae]]=F[ee[ae]]);return I},R=M.createContext(null),k=function(H){var I=H.children,ee=j(H,["children"]),ae=M.useContext(R),ue=M.useMemo(function(){return(0,B.Z)((0,B.Z)({},ae),ee)},[ae,ee.prefixCls,ee.mode,ee.selectable]);return M.createElement(R.Provider,{value:ue},I)};te.Z=R},99709:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return Yr}});var B=w(15671),M=w(43144),j=w(82963),R=w(78814),k=w(61120),F=w(32531),H=w(87462),I=w(89705),ee=w(93967),ae=w.n(ee),ue=w(97868),re=w(66680),ge=w(98423),Ze=w(67294),fe=w(53124),Ce=function(jn,dr){var br={};for(var nr in jn)Object.prototype.hasOwnProperty.call(jn,nr)&&dr.indexOf(nr)<0&&(br[nr]=jn[nr]);if(jn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Lr=0,nr=Object.getOwnPropertySymbols(jn);Lr<nr.length;Lr++)dr.indexOf(nr[Lr])<0&&Object.prototype.propertyIsEnumerable.call(jn,nr[Lr])&&(br[nr[Lr]]=jn[nr[Lr]]);return br},Ae={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},Pe=Ze.createContext({}),ie=function(){var jn=0;return function(){var dr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return jn+=1,"".concat(dr).concat(jn)}}(),at=null,mt=null,vt=w(33603),Vt=w(96159),U=w(71002),tt=w(4942),ut=function(jn,dr){var br={};for(var nr in jn)Object.prototype.hasOwnProperty.call(jn,nr)&&dr.indexOf(nr)<0&&(br[nr]=jn[nr]);if(jn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Lr=0,nr=Object.getOwnPropertySymbols(jn);Lr<nr.length;Lr++)dr.indexOf(nr[Lr])<0&&Object.prototype.propertyIsEnumerable.call(jn,nr[Lr])&&(br[nr[Lr]]=jn[nr[Lr]]);return br},vn=function(dr){var br=dr.prefixCls,nr=dr.className,Lr=dr.dashed,Ji=ut(dr,["prefixCls","className","dashed"]),Ci=Ze.useContext(fe.E_),$i=Ci.getPrefixCls,It=$i("menu",br),Q=ae()((0,tt.Z)({},"".concat(It,"-item-divider-dashed"),!!Lr),nr);return Ze.createElement(ue.iz,(0,H.Z)({className:Q},Ji))},ft=vn,Ye=w(50344),Cn=w(84908),cn=(0,Ze.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),mr=cn;function pr(jn,dr,br){return dr=(0,k.Z)(dr),(0,j.Z)(jn,(0,R.Z)()?Reflect.construct(dr,br||[],(0,k.Z)(jn).constructor):dr.apply(jn,br))}var hr=function(jn,dr){var br={};for(var nr in jn)Object.prototype.hasOwnProperty.call(jn,nr)&&dr.indexOf(nr)<0&&(br[nr]=jn[nr]);if(jn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Lr=0,nr=Object.getOwnPropertySymbols(jn);Lr<nr.length;Lr++)dr.indexOf(nr[Lr])<0&&Object.prototype.propertyIsEnumerable.call(jn,nr[Lr])&&(br[nr[Lr]]=jn[nr[Lr]]);return br},Mt=function(jn){(0,F.Z)(dr,jn);function dr(){var br;return(0,B.Z)(this,dr),br=pr(this,dr,arguments),br.renderItem=function(nr){var Lr=nr.siderCollapsed,Ji,Ci=br.context,$i=Ci.prefixCls,It=Ci.firstLevel,Q=Ci.inlineCollapsed,we=Ci.direction,Nt=Ci.disableMenuItemTitleTooltip,jt=br.props,gt=jt.className,Je=jt.children,pt=br.props,rt=pt.title,qt=pt.icon,Dn=pt.danger,_n=hr(pt,["title","icon","danger"]),Wr=rt;typeof rt=="undefined"?Wr=It?Je:"":rt===!1&&(Wr="");var Qn={title:Wr};!Lr&&!Q&&(Qn.title=null,Qn.open=!1);var it=(0,Ye.Z)(Je).length,mn=Ze.createElement(ue.ck,(0,H.Z)({},_n,{className:ae()((0,tt.Z)((0,tt.Z)({},"".concat($i,"-item-danger"),Dn),"".concat($i,"-item-only-child"),(qt?it+1:it)===1),gt),title:typeof rt=="string"?rt:void 0}),(0,Vt.Tm)(qt,{className:ae()((0,Vt.l$)(qt)?(Ji=qt.props)===null||Ji===void 0?void 0:Ji.className:"","".concat($i,"-item-icon"))}),br.renderItemChildren(Q));return Nt||(mn=Ze.createElement(Cn.Z,(0,H.Z)({},Qn,{placement:we==="rtl"?"left":"right",overlayClassName:"".concat($i,"-inline-collapsed-tooltip")}),mn)),mn},br}return(0,M.Z)(dr,[{key:"renderItemChildren",value:function(nr){var Lr=this.context,Ji=Lr.prefixCls,Ci=Lr.firstLevel,$i=this.props,It=$i.icon,Q=$i.children,we=Ze.createElement("span",{className:"".concat(Ji,"-title-content")},Q);return(!It||(0,Vt.l$)(Q)&&Q.type==="span")&&Q&&nr&&Ci&&typeof Q=="string"?Ze.createElement("div",{className:"".concat(Ji,"-inline-collapsed-noicon")},Q.charAt(0)):we}},{key:"render",value:function(){return Ze.createElement(Pe.Consumer,null,this.renderItem)}}]),dr}(Ze.Component);Mt.contextType=mr;function yt(jn){var dr,br=jn.popupClassName,nr=jn.icon,Lr=jn.title,Ji=jn.theme,Ci=Ze.useContext(mr),$i=Ci.prefixCls,It=Ci.inlineCollapsed,Q=Ci.antdMenuTheme,we=(0,ue.Xl)(),Nt;if(!nr)Nt=It&&!we.length&&Lr&&typeof Lr=="string"?Ze.createElement("div",{className:"".concat($i,"-inline-collapsed-noicon")},Lr.charAt(0)):Ze.createElement("span",{className:"".concat($i,"-title-content")},Lr);else{var jt=(0,Vt.l$)(Lr)&&Lr.type==="span";Nt=Ze.createElement(Ze.Fragment,null,(0,Vt.Tm)(nr,{className:ae()((0,Vt.l$)(nr)?(dr=nr.props)===null||dr===void 0?void 0:dr.className:"","".concat($i,"-item-icon"))}),jt?Lr:Ze.createElement("span",{className:"".concat($i,"-title-content")},Lr))}var gt=Ze.useMemo(function(){return(0,H.Z)((0,H.Z)({},Ci),{firstLevel:!1})},[Ci]);return Ze.createElement(mr.Provider,{value:gt},Ze.createElement(ue.Wd,(0,H.Z)({},(0,ge.Z)(jn,["icon"]),{title:Nt,popupClassName:ae()($i,"".concat($i,"-").concat(Ji||Q),br)})))}var Et=yt,$e=function(jn,dr){var br={};for(var nr in jn)Object.prototype.hasOwnProperty.call(jn,nr)&&dr.indexOf(nr)<0&&(br[nr]=jn[nr]);if(jn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Lr=0,nr=Object.getOwnPropertySymbols(jn);Lr<nr.length;Lr++)dr.indexOf(nr[Lr])<0&&Object.prototype.propertyIsEnumerable.call(jn,nr[Lr])&&(br[nr[Lr]]=jn[nr[Lr]]);return br};function $t(jn){return(jn||[]).map(function(dr,br){if(dr&&(0,U.Z)(dr)==="object"){var nr=dr,Lr=nr.label,Ji=nr.children,Ci=nr.key,$i=nr.type,It=$e(nr,["label","children","key","type"]),Q=Ci!=null?Ci:"tmp-".concat(br);return Ji||$i==="group"?$i==="group"?Ze.createElement(ue.BW,(0,H.Z)({key:Q},It,{title:Lr}),$t(Ji)):Ze.createElement(Et,(0,H.Z)({key:Q},It,{title:Lr}),$t(Ji)):$i==="divider"?Ze.createElement(ft,(0,H.Z)({key:Q},It)):Ze.createElement(Mt,(0,H.Z)({key:Q},It),Lr)}return null}).filter(function(dr){return dr})}function Jt(jn){return Ze.useMemo(function(){return jn&&$t(jn)},[jn])}var tn=w(76529);function ir(jn,dr,br){return dr=(0,k.Z)(dr),(0,j.Z)(jn,(0,R.Z)()?Reflect.construct(dr,br||[],(0,k.Z)(jn).constructor):dr.apply(jn,br))}var Or=function(jn,dr){var br={};for(var nr in jn)Object.prototype.hasOwnProperty.call(jn,nr)&&dr.indexOf(nr)<0&&(br[nr]=jn[nr]);if(jn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Lr=0,nr=Object.getOwnPropertySymbols(jn);Lr<nr.length;Lr++)dr.indexOf(nr[Lr])<0&&Object.prototype.propertyIsEnumerable.call(jn,nr[Lr])&&(br[nr[Lr]]=jn[nr[Lr]]);return br},Fr=(0,Ze.forwardRef)(function(jn,dr){var br,nr=Ze.useContext(tn.Z)||{},Lr=Ze.useContext(fe.E_),Ji=Lr.getPrefixCls,Ci=Lr.getPopupContainer,$i=Lr.direction,It=Ji(),Q=jn.prefixCls,we=jn.className,Nt=jn.theme,jt=Nt===void 0?"light":Nt,gt=jn.expandIcon,Je=jn._internalDisableMenuItemTitleTooltip,pt=jn.inlineCollapsed,rt=jn.siderCollapsed,qt=jn.items,Dn=jn.children,_n=jn.mode,Wr=jn.selectable,Qn=jn.onClick,it=Or(jn,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","mode","selectable","onClick"]),mn=(0,ge.Z)(it,["collapsedWidth"]),kn=Jt(qt)||Dn;(br=nr.validator)===null||br===void 0||br.call(nr,{mode:_n});var gr=(0,re.Z)(function(){var Cr;Qn==null||Qn.apply(void 0,arguments),(Cr=nr==null?void 0:nr.onClick)===null||Cr===void 0||Cr.call(nr)}),kr=nr.mode||_n,Ei=Wr!=null?Wr:nr.selectable,er=Ze.useMemo(function(){return rt!==void 0?rt:pt},[pt,rt]),Tt={horizontal:{motionName:"".concat(It,"-slide-up")},inline:vt.ZP,other:{motionName:"".concat(It,"-zoom-big")}},sn=Ji("menu",Q||nr.prefixCls),_t=ae()("".concat(sn,"-").concat(jt),we),Ut;typeof gt=="function"?Ut=gt:Ut=(0,Vt.Tm)(gt||nr.expandIcon,{className:"".concat(sn,"-submenu-expand-icon")});var Rn=Ze.useMemo(function(){return{prefixCls:sn,inlineCollapsed:er||!1,antdMenuTheme:jt,direction:$i,firstLevel:!0,disableMenuItemTitleTooltip:Je}},[sn,er,jt,$i,Je]);return Ze.createElement(tn.Z.Provider,{value:null},Ze.createElement(mr.Provider,{value:Rn},Ze.createElement(ue.ZP,(0,H.Z)({getPopupContainer:Ci,overflowedIndicator:Ze.createElement(I.Z,null),overflowedIndicatorPopupClassName:"".concat(sn,"-").concat(jt),mode:kr,selectable:Ei,onClick:gr},mn,{inlineCollapsed:er,className:_t,prefixCls:sn,direction:$i,defaultMotions:Tt,expandIcon:Ut,ref:dr}),kn)))}),lr=function(jn){(0,F.Z)(dr,jn);function dr(){var br;return(0,B.Z)(this,dr),br=ir(this,dr,arguments),br.focus=function(nr){var Lr;(Lr=br.menu)===null||Lr===void 0||Lr.focus(nr)},br}return(0,M.Z)(dr,[{key:"render",value:function(){var nr=this;return Ze.createElement(Pe.Consumer,null,function(Lr){return Ze.createElement(Fr,(0,H.Z)({ref:function(Ci){nr.menu=Ci}},nr.props,Lr))})}}]),dr}(Ze.Component);lr.Divider=ft,lr.Item=Mt,lr.SubMenu=Et,lr.ItemGroup=ue.BW;var Yr=lr},16536:function(Ne,te,w){"use strict";w.d(te,{Df:function(){return ir},ZP:function(){return Fr},S$:function(){return pr},z$:function(){return Et}});var B=w(87462),M=w(4942),j=w(89739),R=w(4340),k=w(21640),F=w(1413),H=w(67294),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},ee=I,ae=w(42135),ue=function(Yr,jn){return H.createElement(ae.Z,(0,F.Z)((0,F.Z)({},Yr),{},{ref:jn,icon:ee}))},re=H.forwardRef(ue),ge=re,Ze=w(50888),fe=w(93967),Ce=w.n(fe),Ae=w(91127),Pe=w(62654),ie=w(97685),at=w(51550),mt=w(53124);function vt(lr,Yr){var jn=function(){var br,nr,Lr=null,Ji={add:function(gt,Je){Lr==null||Lr.component.add(gt,Je)}},Ci=(0,at.Z)(Ji),$i=(0,ie.Z)(Ci,2),It=$i[0],Q=$i[1];function we(jt){var gt=jt.prefixCls,Je=br("message",gt),pt=br(),rt=jt.key||pr(),qt=new Promise(function(_n){var Wr=function(){return typeof jt.onClose=="function"&&jt.onClose(),_n(!0)};lr((0,B.Z)((0,B.Z)({},jt),{prefixCls:Je,rootPrefixCls:pt,getPopupContainer:nr}),function(Qn){var it=Qn.prefixCls,mn=Qn.instance;Lr=mn,It(Yr((0,B.Z)((0,B.Z)({},jt),{key:rt,onClose:Wr}),it))})}),Dn=function(){Lr&&Lr.removeNotice(rt)};return Dn.then=function(_n,Wr){return qt.then(_n,Wr)},Dn.promise=qt,Dn}var Nt=H.useRef({});return Nt.current.open=we,Et.forEach(function(jt){return ir(Nt.current,jt)}),[Nt.current,H.createElement(mt.C,{key:"holder"},function(jt){return br=jt.getPrefixCls,nr=jt.getPopupContainer,Q})]};return jn}var Vt,U=3,tt,ut=1,vn="",ft="move-up",Ye=!1,Cn,cn,mr=!1;function pr(){return ut++}function hr(lr){lr.top!==void 0&&(tt=lr.top,Vt=null),lr.duration!==void 0&&(U=lr.duration),lr.prefixCls!==void 0&&(vn=lr.prefixCls),lr.getContainer!==void 0&&(Cn=lr.getContainer,Vt=null),lr.transitionName!==void 0&&(ft=lr.transitionName,Vt=null,Ye=!0),lr.maxCount!==void 0&&(cn=lr.maxCount,Vt=null),lr.rtl!==void 0&&(mr=lr.rtl)}function Mt(lr,Yr){var jn=lr.prefixCls,dr=lr.getPopupContainer,br=(0,Pe.w6)(),nr=br.getPrefixCls,Lr=br.getRootPrefixCls,Ji=br.getIconPrefixCls,Ci=nr("message",jn||vn),$i=Lr(lr.rootPrefixCls,Ci),It=Ji();if(Vt){Yr({prefixCls:Ci,rootPrefixCls:$i,iconPrefixCls:It,instance:Vt});return}var Q={prefixCls:Ci,transitionName:Ye?ft:"".concat($i,"-").concat(ft),style:{top:tt},getContainer:Cn||dr,maxCount:cn};Ae.Z.newInstance(Q,function(we){if(Vt){Yr({prefixCls:Ci,rootPrefixCls:$i,iconPrefixCls:It,instance:Vt});return}Vt=we,Yr({prefixCls:Ci,rootPrefixCls:$i,iconPrefixCls:It,instance:we})})}var yt={info:ge,success:j.Z,error:R.Z,warning:k.Z,loading:Ze.Z},Et=Object.keys(yt);function $e(lr,Yr,jn){var dr=lr.duration!==void 0?lr.duration:U,br=yt[lr.type],nr=Ce()("".concat(Yr,"-custom-content"),(0,M.Z)((0,M.Z)({},"".concat(Yr,"-").concat(lr.type),lr.type),"".concat(Yr,"-rtl"),mr===!0));return{key:lr.key,duration:dr,style:lr.style||{},className:lr.className,content:H.createElement(Pe.ZP,{iconPrefixCls:jn},H.createElement("div",{className:nr},lr.icon||br&&H.createElement(br,null),H.createElement("span",null,lr.content))),onClose:lr.onClose,onClick:lr.onClick}}function $t(lr){var Yr=lr.key||pr(),jn=new Promise(function(br){var nr=function(){return typeof lr.onClose=="function"&&lr.onClose(),br(!0)};Mt(lr,function(Lr){var Ji=Lr.prefixCls,Ci=Lr.iconPrefixCls,$i=Lr.instance;$i.notice($e((0,B.Z)((0,B.Z)({},lr),{key:Yr,onClose:nr}),Ji,Ci))})}),dr=function(){var nr;Vt&&(Vt.removeNotice(Yr),(nr=lr.onClose)===null||nr===void 0||nr.call(lr))};return dr.then=function(br,nr){return jn.then(br,nr)},dr.promise=jn,dr}function Jt(lr){return Object.prototype.toString.call(lr)==="[object Object]"&&!!lr.content}var tn={open:$t,config:hr,destroy:function(Yr){if(Vt)if(Yr){var jn=Vt,dr=jn.removeNotice;dr(Yr)}else{var br=Vt,nr=br.destroy;nr(),Vt=null}}};function ir(lr,Yr){lr[Yr]=function(jn,dr,br){return Jt(jn)?lr.open((0,B.Z)((0,B.Z)({},jn),{type:Yr})):(typeof dr=="function"&&(br=dr,dr=void 0),lr.open({content:jn,duration:dr,type:Yr,onClose:br}))}}Et.forEach(function(lr){return ir(tn,lr)}),tn.warn=tn.warning,tn.useMessage=vt(Mt,$e);var Or=function(){return null},Fr=tn},88993:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return sn}});var B=w(74902),M=w(87462),j=w(8751),R=w(18429),k=w(11475),F=w(45605),H=w(38135),I=w(67294),ee=w(62654),ae=w(4942),ue=w(93967),re=w.n(ue),ge=w(97685),Ze=w(30470),fe=w(71577),Ce=w(16548);function Ae(_t){return!!(_t&&_t.then)}var Pe=function(Ut){var Rn=I.useRef(!1),Cr=I.useRef(null),si=(0,Ze.Z)(!1),tr=(0,ge.Z)(si,2),xn=tr[0],Hn=tr[1],Kn=Ut.close,yn=function(){Kn==null||Kn.apply(void 0,arguments)};I.useEffect(function(){var Ke=null;return Ut.autoFocus&&(Ke=setTimeout(function(){var Xe;(Xe=Cr.current)===null||Xe===void 0||Xe.focus()})),function(){Ke&&clearTimeout(Ke)}},[]);var Sr=function(Xe){Ae(Xe)&&(Hn(!0),Xe.then(function(){Hn(!1,!0),yn.apply(void 0,arguments),Rn.current=!1},function(je){return Hn(!1,!0),Rn.current=!1,Promise.reject(je)}))},yr=function(Xe){var je=Ut.actionFn;if(!Rn.current){if(Rn.current=!0,!je){yn();return}var me;if(Ut.emitEvent){if(me=je(Xe),Ut.quitOnNullishReturnValue&&!Ae(me)){Rn.current=!1,yn(Xe);return}}else if(je.length)me=je(Kn),Rn.current=!1;else if(me=je(),!me){yn();return}Sr(me)}},Tr=Ut.type,rn=Ut.children,hn=Ut.prefixCls,or=Ut.buttonProps;return I.createElement(fe.Z,(0,M.Z)({},(0,Ce.n)(Tr),{onClick:yr,loading:xn,prefixCls:hn},or,{ref:Cr}),rn)},ie=Pe,at=w(33603),mt=w(97937),vt=w(54535),Vt=w(1413),U=w(15105),tt=w(7028),ut=w(94999),vn=w(64217),ft=w(29372);function Ye(_t){var Ut=_t.prefixCls,Rn=_t.style,Cr=_t.visible,si=_t.maskProps,tr=_t.motionName;return I.createElement(ft.ZP,{key:"mask",visible:Cr,motionName:tr,leavedClassName:"".concat(Ut,"-mask-hidden")},function(xn,Hn){var Kn=xn.className,yn=xn.style;return I.createElement("div",(0,M.Z)({ref:Hn,style:(0,Vt.Z)((0,Vt.Z)({},yn),Rn),className:re()("".concat(Ut,"-mask"),Kn)},si))})}function Cn(_t,Ut,Rn){var Cr=Ut;return!Cr&&Rn&&(Cr="".concat(_t,"-").concat(Rn)),Cr}function cn(_t,Ut){var Rn=_t["page".concat(Ut?"Y":"X","Offset")],Cr="scroll".concat(Ut?"Top":"Left");if(typeof Rn!="number"){var si=_t.document;Rn=si.documentElement[Cr],typeof Rn!="number"&&(Rn=si.body[Cr])}return Rn}function mr(_t){var Ut=_t.getBoundingClientRect(),Rn={left:Ut.left,top:Ut.top},Cr=_t.ownerDocument,si=Cr.defaultView||Cr.parentWindow;return Rn.left+=cn(si),Rn.top+=cn(si,!0),Rn}var pr=I.memo(function(_t){var Ut=_t.children;return Ut},function(_t,Ut){var Rn=Ut.shouldUpdate;return!Rn}),hr={width:0,height:0,overflow:"hidden",outline:"none"},Mt=I.forwardRef(function(_t,Ut){var Rn=_t.prefixCls,Cr=_t.className,si=_t.style,tr=_t.title,xn=_t.ariaId,Hn=_t.footer,Kn=_t.closable,yn=_t.closeIcon,Sr=_t.onClose,yr=_t.children,Tr=_t.bodyStyle,rn=_t.bodyProps,hn=_t.modalRender,or=_t.onMouseDown,Ke=_t.onMouseUp,Xe=_t.holderRef,je=_t.visible,me=_t.forceRender,ze=_t.width,Oe=_t.height,Y=(0,I.useRef)(),ne=(0,I.useRef)();I.useImperativeHandle(Ut,function(){return{focus:function(){var pe;(pe=Y.current)===null||pe===void 0||pe.focus({preventScroll:!0})},changeActive:function(pe){var Ee=document,ht=Ee.activeElement;pe&&ht===ne.current?Y.current.focus({preventScroll:!0}):!pe&&ht===Y.current&&ne.current.focus({preventScroll:!0})}}});var W={};ze!==void 0&&(W.width=ze),Oe!==void 0&&(W.height=Oe);var S;Hn&&(S=I.createElement("div",{className:"".concat(Rn,"-footer")},Hn));var A;tr&&(A=I.createElement("div",{className:"".concat(Rn,"-header")},I.createElement("div",{className:"".concat(Rn,"-title"),id:xn},tr)));var L;Kn&&(L=I.createElement("button",{type:"button",onClick:Sr,"aria-label":"Close",className:"".concat(Rn,"-close")},yn||I.createElement("span",{className:"".concat(Rn,"-close-x")})));var ce=I.createElement("div",{className:"".concat(Rn,"-content")},L,A,I.createElement("div",(0,M.Z)({className:"".concat(Rn,"-body"),style:Tr},rn),yr),S);return I.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":tr?xn:null,"aria-modal":"true",ref:Xe,style:(0,Vt.Z)((0,Vt.Z)({},si),W),className:re()(Rn,Cr),onMouseDown:or,onMouseUp:Ke},I.createElement("div",{tabIndex:0,ref:Y,style:hr}),I.createElement(pr,{shouldUpdate:je||me},hn?hn(ce):ce),I.createElement("div",{tabIndex:0,ref:ne,style:hr}))}),yt=Mt,Et=I.forwardRef(function(_t,Ut){var Rn=_t.prefixCls,Cr=_t.title,si=_t.style,tr=_t.className,xn=_t.visible,Hn=_t.forceRender,Kn=_t.destroyOnClose,yn=_t.motionName,Sr=_t.ariaId,yr=_t.onVisibleChanged,Tr=_t.mousePosition,rn=(0,I.useRef)(),hn=I.useState(),or=(0,ge.Z)(hn,2),Ke=or[0],Xe=or[1],je={};Ke&&(je.transformOrigin=Ke);function me(){var ze=mr(rn.current);Xe(Tr?"".concat(Tr.x-ze.left,"px ").concat(Tr.y-ze.top,"px"):"")}return I.createElement(ft.ZP,{visible:xn,onVisibleChanged:yr,onAppearPrepare:me,onEnterPrepare:me,forceRender:Hn,motionName:yn,removeOnLeave:Kn,ref:rn},function(ze,Oe){var Y=ze.className,ne=ze.style;return I.createElement(yt,(0,M.Z)({},_t,{ref:Ut,title:Cr,ariaId:Sr,prefixCls:Rn,holderRef:Oe,style:(0,Vt.Z)((0,Vt.Z)((0,Vt.Z)({},ne),si),je),className:re()(tr,Y)}))})});Et.displayName="Content";var $e=Et;function $t(_t){var Ut=_t.prefixCls,Rn=Ut===void 0?"rc-dialog":Ut,Cr=_t.zIndex,si=_t.visible,tr=si===void 0?!1:si,xn=_t.keyboard,Hn=xn===void 0?!0:xn,Kn=_t.focusTriggerAfterClose,yn=Kn===void 0?!0:Kn,Sr=_t.wrapStyle,yr=_t.wrapClassName,Tr=_t.wrapProps,rn=_t.onClose,hn=_t.afterClose,or=_t.transitionName,Ke=_t.animation,Xe=_t.closable,je=Xe===void 0?!0:Xe,me=_t.mask,ze=me===void 0?!0:me,Oe=_t.maskTransitionName,Y=_t.maskAnimation,ne=_t.maskClosable,W=ne===void 0?!0:ne,S=_t.maskStyle,A=_t.maskProps,L=_t.rootClassName,ce=(0,I.useRef)(),ve=(0,I.useRef)(),pe=(0,I.useRef)(),Ee=I.useState(tr),ht=(0,ge.Z)(Ee,2),ct=ht[0],nt=ht[1],Rt=(0,tt.Z)();function kt(){(0,ut.Z)(ve.current,document.activeElement)||(ce.current=document.activeElement)}function bn(){if(!(0,ut.Z)(ve.current,document.activeElement)){var Rr;(Rr=pe.current)===null||Rr===void 0||Rr.focus()}}function pn(Rr){if(Rr)bn();else{if(nt(!1),ze&&ce.current&&yn){try{ce.current.focus({preventScroll:!0})}catch(ai){}ce.current=null}ct&&(hn==null||hn())}}function Lt(Rr){rn==null||rn(Rr)}var Bt=(0,I.useRef)(!1),In=(0,I.useRef)(),Zn=function(){clearTimeout(In.current),Bt.current=!0},sr=function(){In.current=setTimeout(function(){Bt.current=!1})},ni=null;W&&(ni=function(ai){Bt.current?Bt.current=!1:ve.current===ai.target&&Lt(ai)});function mi(Rr){if(Hn&&Rr.keyCode===U.Z.ESC){Rr.stopPropagation(),Lt(Rr);return}tr&&Rr.keyCode===U.Z.TAB&&pe.current.changeActive(!Rr.shiftKey)}return(0,I.useEffect)(function(){tr&&(nt(!0),kt())},[tr]),(0,I.useEffect)(function(){return function(){clearTimeout(In.current)}},[]),I.createElement("div",(0,M.Z)({className:re()("".concat(Rn,"-root"),L)},(0,vn.Z)(_t,{data:!0})),I.createElement(Ye,{prefixCls:Rn,visible:ze&&tr,motionName:Cn(Rn,Oe,Y),style:(0,Vt.Z)({zIndex:Cr},S),maskProps:A}),I.createElement("div",(0,M.Z)({tabIndex:-1,onKeyDown:mi,className:re()("".concat(Rn,"-wrap"),yr),ref:ve,onClick:ni,style:(0,Vt.Z)((0,Vt.Z)({zIndex:Cr},Sr),{},{display:ct?null:"none"})},Tr),I.createElement($e,(0,M.Z)({},_t,{onMouseDown:Zn,onMouseUp:sr,ref:pe,closable:je,ariaId:Rt,prefixCls:Rn,visible:tr&&ct,onClose:Lt,onVisibleChanged:pn,motionName:Cn(Rn,or,Ke)}))))}var Jt=function(Ut){var Rn=Ut.visible,Cr=Ut.getContainer,si=Ut.forceRender,tr=Ut.destroyOnClose,xn=tr===void 0?!1:tr,Hn=Ut.afterClose,Kn=I.useState(Rn),yn=(0,ge.Z)(Kn,2),Sr=yn[0],yr=yn[1];return I.useEffect(function(){Rn&&yr(!0)},[Rn]),!si&&xn&&!Sr?null:I.createElement(vt.Z,{open:Rn||si||Sr,autoDestroy:!1,getContainer:Cr,autoLock:Rn||Sr},I.createElement($t,(0,M.Z)({},Ut,{destroyOnClose:xn,afterClose:function(){Hn==null||Hn(),yr(!1)}})))};Jt.displayName="Dialog";var tn=Jt,ir=tn,Or=w(53124),Fr=w(65223),lr=w(23715),Yr=w(4173),jn=w(31808),dr=w(83008),br=function(_t,Ut){var Rn={};for(var Cr in _t)Object.prototype.hasOwnProperty.call(_t,Cr)&&Ut.indexOf(Cr)<0&&(Rn[Cr]=_t[Cr]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var si=0,Cr=Object.getOwnPropertySymbols(_t);si<Cr.length;si++)Ut.indexOf(Cr[si])<0&&Object.prototype.propertyIsEnumerable.call(_t,Cr[si])&&(Rn[Cr[si]]=_t[Cr[si]]);return Rn},nr,Lr=function(Ut){nr={x:Ut.pageX,y:Ut.pageY},setTimeout(function(){nr=null},100)};(0,jn.jD)()&&document.documentElement.addEventListener("click",Lr,!0);var Ji=function(Ut){var Rn,Cr=I.useContext(Or.E_),si=Cr.getPopupContainer,tr=Cr.getPrefixCls,xn=Cr.direction,Hn=function(ve){var pe=Ut.onCancel;pe==null||pe(ve)},Kn=function(ve){var pe=Ut.onOk;pe==null||pe(ve)},yn=Ut.prefixCls,Sr=Ut.footer,yr=Ut.visible,Tr=Ut.open,rn=Tr===void 0?!1:Tr,hn=Ut.wrapClassName,or=Ut.centered,Ke=Ut.getContainer,Xe=Ut.closeIcon,je=Ut.focusTriggerAfterClose,me=je===void 0?!0:je,ze=Ut.width,Oe=ze===void 0?520:ze,Y=br(Ut,["prefixCls","footer","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","width"]),ne=tr("modal",yn),W=tr(),S=I.createElement(lr.Z,{componentName:"Modal",defaultLocale:(0,dr.A)()},function(ce){var ve=Ut.okText,pe=Ut.okType,Ee=pe===void 0?"primary":pe,ht=Ut.cancelText,ct=Ut.confirmLoading,nt=ct===void 0?!1:ct;return I.createElement(I.Fragment,null,I.createElement(fe.Z,(0,M.Z)({onClick:Hn},Ut.cancelButtonProps),ht||ce.cancelText),I.createElement(fe.Z,(0,M.Z)({},(0,Ce.n)(Ee),{loading:nt,onClick:Kn},Ut.okButtonProps),ve!=null?ve:ce.okText))}),A=I.createElement("span",{className:"".concat(ne,"-close-x")},Xe||I.createElement(mt.Z,{className:"".concat(ne,"-close-icon")})),L=re()(hn,(0,ae.Z)((0,ae.Z)({},"".concat(ne,"-centered"),!!or),"".concat(ne,"-wrap-rtl"),xn==="rtl"));return I.createElement(Yr.BR,null,I.createElement(Fr.Ux,{status:!0,override:!0},I.createElement(ir,(0,M.Z)({width:Oe},Y,{getContainer:Ke===void 0?si:Ke,prefixCls:ne,wrapClassName:L,footer:Sr===void 0?S:Sr,visible:rn||yr,mousePosition:(Rn=Y.mousePosition)!==null&&Rn!==void 0?Rn:nr,onClose:Hn,closeIcon:A,focusTriggerAfterClose:me,transitionName:(0,at.mL)(W,"zoom",Ut.transitionName),maskTransitionName:(0,at.mL)(W,"fade",Ut.maskTransitionName)}))))},Ci=Ji,$i=function(Ut){var Rn=Ut.icon,Cr=Ut.onCancel,si=Ut.onOk,tr=Ut.close,xn=Ut.zIndex,Hn=Ut.afterClose,Kn=Ut.visible,yn=Ut.open,Sr=Ut.keyboard,yr=Ut.centered,Tr=Ut.getContainer,rn=Ut.maskStyle,hn=Ut.okText,or=Ut.okButtonProps,Ke=Ut.cancelText,Xe=Ut.cancelButtonProps,je=Ut.direction,me=Ut.prefixCls,ze=Ut.wrapClassName,Oe=Ut.rootPrefixCls,Y=Ut.iconPrefixCls,ne=Ut.bodyStyle,W=Ut.closable,S=W===void 0?!1:W,A=Ut.closeIcon,L=Ut.modalRender,ce=Ut.focusTriggerAfterClose,ve=Ut.okType||"primary",pe="".concat(me,"-confirm"),Ee="okCancel"in Ut?Ut.okCancel:!0,ht=Ut.width||416,ct=Ut.style||{},nt=Ut.mask===void 0?!0:Ut.mask,Rt=Ut.maskClosable===void 0?!1:Ut.maskClosable,kt=Ut.autoFocusButton===null?!1:Ut.autoFocusButton||"ok",bn=re()(pe,"".concat(pe,"-").concat(Ut.type),(0,ae.Z)({},"".concat(pe,"-rtl"),je==="rtl"),Ut.className),pn=Ee&&I.createElement(ie,{actionFn:Cr,close:tr,autoFocus:kt==="cancel",buttonProps:Xe,prefixCls:"".concat(Oe,"-btn")},Ke);return I.createElement(ee.ZP,{prefixCls:Oe,iconPrefixCls:Y,direction:je},I.createElement(Ci,{prefixCls:me,className:bn,wrapClassName:re()((0,ae.Z)({},"".concat(pe,"-centered"),!!Ut.centered),ze),onCancel:function(){return tr==null?void 0:tr({triggerCancel:!0})},open:yn||Kn,title:"",footer:"",transitionName:(0,at.mL)(Oe,"zoom",Ut.transitionName),maskTransitionName:(0,at.mL)(Oe,"fade",Ut.maskTransitionName),mask:nt,maskClosable:Rt,maskStyle:rn,style:ct,bodyStyle:ne,width:ht,zIndex:xn,afterClose:Hn,keyboard:Sr,centered:yr,getContainer:Tr,closable:S,closeIcon:A,modalRender:L,focusTriggerAfterClose:ce},I.createElement("div",{className:"".concat(pe,"-body-wrapper")},I.createElement("div",{className:"".concat(pe,"-body")},Rn,Ut.title===void 0?null:I.createElement("span",{className:"".concat(pe,"-title")},Ut.title),I.createElement("div",{className:"".concat(pe,"-content")},Ut.content)),I.createElement("div",{className:"".concat(pe,"-btns")},pn,I.createElement(ie,{type:ve,actionFn:si,close:tr,autoFocus:kt==="ok",buttonProps:or,prefixCls:"".concat(Oe,"-btn")},hn)))))},It=$i,Q=[],we=Q,Nt=function(_t,Ut){var Rn={};for(var Cr in _t)Object.prototype.hasOwnProperty.call(_t,Cr)&&Ut.indexOf(Cr)<0&&(Rn[Cr]=_t[Cr]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var si=0,Cr=Object.getOwnPropertySymbols(_t);si<Cr.length;si++)Ut.indexOf(Cr[si])<0&&Object.prototype.propertyIsEnumerable.call(_t,Cr[si])&&(Rn[Cr[si]]=_t[Cr[si]]);return Rn},jt="";function gt(){return jt}function Je(_t){var Ut=document.createDocumentFragment(),Rn=(0,M.Z)((0,M.Z)({},_t),{close:xn,open:!0}),Cr;function si(){for(var Kn=arguments.length,yn=new Array(Kn),Sr=0;Sr<Kn;Sr++)yn[Sr]=arguments[Sr];var yr=yn.some(function(hn){return hn&&hn.triggerCancel});_t.onCancel&&yr&&_t.onCancel.apply(_t,[function(){}].concat((0,B.Z)(yn.slice(1))));for(var Tr=0;Tr<we.length;Tr++){var rn=we[Tr];if(rn===xn){we.splice(Tr,1);break}}(0,H.v)(Ut)}function tr(Kn){var yn=Kn.okText,Sr=Kn.cancelText,yr=Kn.prefixCls,Tr=Nt(Kn,["okText","cancelText","prefixCls"]);clearTimeout(Cr),Cr=setTimeout(function(){var rn=(0,dr.A)(),hn=(0,ee.w6)(),or=hn.getPrefixCls,Ke=hn.getIconPrefixCls,Xe=or(void 0,gt()),je=yr||"".concat(Xe,"-modal"),me=Ke();(0,H.s)(I.createElement(It,(0,M.Z)({},Tr,{prefixCls:je,rootPrefixCls:Xe,iconPrefixCls:me,okText:yn||(Tr.okCancel?rn.okText:rn.justOkText),cancelText:Sr||rn.cancelText})),Ut)})}function xn(){for(var Kn=this,yn=arguments.length,Sr=new Array(yn),yr=0;yr<yn;yr++)Sr[yr]=arguments[yr];Rn=(0,M.Z)((0,M.Z)({},Rn),{open:!1,afterClose:function(){typeof _t.afterClose=="function"&&_t.afterClose(),si.apply(Kn,Sr)}}),Rn.visible&&delete Rn.visible,tr(Rn)}function Hn(Kn){typeof Kn=="function"?Rn=Kn(Rn):Rn=(0,M.Z)((0,M.Z)({},Rn),Kn),tr(Rn)}return tr(Rn),we.push(xn),{destroy:xn,update:Hn}}function pt(_t){return(0,M.Z)((0,M.Z)({icon:I.createElement(k.Z,null),okCancel:!1},_t),{type:"warning"})}function rt(_t){return(0,M.Z)((0,M.Z)({icon:I.createElement(F.Z,null),okCancel:!1},_t),{type:"info"})}function qt(_t){return(0,M.Z)((0,M.Z)({icon:I.createElement(j.Z,null),okCancel:!1},_t),{type:"success"})}function Dn(_t){return(0,M.Z)((0,M.Z)({icon:I.createElement(R.Z,null),okCancel:!1},_t),{type:"error"})}function _n(_t){return(0,M.Z)((0,M.Z)({icon:I.createElement(k.Z,null),okCancel:!0},_t),{type:"confirm"})}function Wr(_t){var Ut=_t.rootPrefixCls;jt=Ut}function Qn(){var _t=I.useState([]),Ut=(0,ge.Z)(_t,2),Rn=Ut[0],Cr=Ut[1],si=I.useCallback(function(tr){return Cr(function(xn){return[].concat((0,B.Z)(xn),[tr])}),function(){Cr(function(xn){return xn.filter(function(Hn){return Hn!==tr})})}},[]);return[Rn,si]}var it=w(6213),mn=function(Ut,Rn){var Cr=Ut.afterClose,si=Ut.config,tr=I.useState(!0),xn=(0,ge.Z)(tr,2),Hn=xn[0],Kn=xn[1],yn=I.useState(si),Sr=(0,ge.Z)(yn,2),yr=Sr[0],Tr=Sr[1],rn=I.useContext(Or.E_),hn=rn.direction,or=rn.getPrefixCls,Ke=or("modal"),Xe=or(),je=function(){Kn(!1);for(var ze=arguments.length,Oe=new Array(ze),Y=0;Y<ze;Y++)Oe[Y]=arguments[Y];var ne=Oe.some(function(W){return W&&W.triggerCancel});yr.onCancel&&ne&&yr.onCancel.apply(yr,[function(){}].concat((0,B.Z)(Oe.slice(1))))};return I.useImperativeHandle(Rn,function(){return{destroy:je,update:function(ze){Tr(function(Oe){return(0,M.Z)((0,M.Z)({},Oe),ze)})}}}),I.createElement(lr.Z,{componentName:"Modal",defaultLocale:it.Z.Modal},function(me){return I.createElement(It,(0,M.Z)({prefixCls:Ke,rootPrefixCls:Xe},yr,{close:je,open:Hn,afterClose:Cr,okText:yr.okText||(yr.okCancel?me.okText:me.justOkText),direction:hn,cancelText:yr.cancelText||me.cancelText}))})},kn=I.forwardRef(mn),gr=0,kr=I.memo(I.forwardRef(function(_t,Ut){var Rn=Qn(),Cr=(0,ge.Z)(Rn,2),si=Cr[0],tr=Cr[1];return I.useImperativeHandle(Ut,function(){return{patchElement:tr}},[]),I.createElement(I.Fragment,null,si)}));function Ei(){var _t=I.useRef(null),Ut=I.useState([]),Rn=(0,ge.Z)(Ut,2),Cr=Rn[0],si=Rn[1];I.useEffect(function(){if(Cr.length){var Hn=(0,B.Z)(Cr);Hn.forEach(function(Kn){Kn()}),si([])}},[Cr]);var tr=I.useCallback(function(Hn){return function(yn){var Sr;gr+=1;var yr=I.createRef(),Tr,rn=I.createElement(kn,{key:"modal-".concat(gr),config:Hn(yn),ref:yr,afterClose:function(){Tr==null||Tr()}});return Tr=(Sr=_t.current)===null||Sr===void 0?void 0:Sr.patchElement(rn),{destroy:function(){function or(){var Ke;(Ke=yr.current)===null||Ke===void 0||Ke.destroy()}yr.current?or():si(function(Ke){return[].concat((0,B.Z)(Ke),[or])})},update:function(or){function Ke(){var Xe;(Xe=yr.current)===null||Xe===void 0||Xe.update(or)}yr.current?Ke():si(function(Xe){return[].concat((0,B.Z)(Xe),[Ke])})}}}},[]),xn=I.useMemo(function(){return{info:tr(rt),success:tr(qt),error:tr(Dn),warning:tr(pt),confirm:tr(_n)}},[]);return[xn,I.createElement(kr,{ref:_t})]}function er(_t){return Je(pt(_t))}var Tt=Ci;Tt.useModal=Ei,Tt.info=function(Ut){return Je(rt(Ut))},Tt.success=function(Ut){return Je(qt(Ut))},Tt.error=function(Ut){return Je(Dn(Ut))},Tt.warning=er,Tt.warn=er,Tt.confirm=function(Ut){return Je(_n(Ut))},Tt.destroyAll=function(){for(;we.length;){var Ut=we.pop();Ut&&Ut()}},Tt.config=Wr;var sn=Tt},83008:function(Ne,te,w){"use strict";w.d(te,{A:function(){return k},f:function(){return R}});var B=w(87462),M=w(6213),j=(0,B.Z)({},M.Z.Modal);function R(F){F?j=(0,B.Z)((0,B.Z)({},j),F):j=(0,B.Z)({},M.Z.Modal)}function k(){return j}},21369:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return wi}});var B=w(4942),M=w(87462),j=w(93967),R=w.n(j),k=w(74902),F=w(1413),H=w(97685),I=w(45987),ee=w(71002),ae=w(21770),ue=w(80334),re=w(67294),ge=w(8410),Ze=w(31131),fe=w(15105),Ce=w(42550),Ae=re.createContext(null);function Pe(){return re.useContext(Ae)}function ie(){var Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,Zt=re.useState(!1),Pr=(0,H.Z)(Zt,2),Gn=Pr[0],vr=Pr[1],$r=re.useRef(null),At=function(){window.clearTimeout($r.current)};re.useEffect(function(){return At},[]);var Be=function(Fe,Se){At(),$r.current=window.setTimeout(function(){vr(Fe),Se&&Se()},Ct)};return[Gn,Be,At]}function at(){var Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,Zt=re.useRef(null),Pr=re.useRef(null);re.useEffect(function(){return function(){window.clearTimeout(Pr.current)}},[]);function Gn(vr){(vr||Zt.current===null)&&(Zt.current=vr),window.clearTimeout(Pr.current),Pr.current=window.setTimeout(function(){Zt.current=null},Ct)}return[function(){return Zt.current},Gn]}function mt(Ct,Zt,Pr,Gn){var vr=re.useRef(null);vr.current={open:Zt,triggerOpen:Pr,customizedTrigger:Gn},re.useEffect(function(){function $r(At){var Be;if(!((Be=vr.current)!==null&&Be!==void 0&&Be.customizedTrigger)){var Re=At.target;Re.shadowRoot&&At.composed&&(Re=At.composedPath()[0]||Re),vr.current.open&&Ct().filter(function(Fe){return Fe}).every(function(Fe){return!Fe.contains(Re)&&Fe!==Re})&&vr.current.triggerOpen(!1)}}return window.addEventListener("mousedown",$r),function(){return window.removeEventListener("mousedown",$r)}},[])}var vt=w(64217),Vt=w(39983),U=function(Zt){var Pr=Zt.className,Gn=Zt.customizeIcon,vr=Zt.customizeIconProps,$r=Zt.onMouseDown,At=Zt.onClick,Be=Zt.children,Re;return typeof Gn=="function"?Re=Gn(vr):Re=Gn,re.createElement("span",{className:Pr,onMouseDown:function(Se){Se.preventDefault(),$r&&$r(Se)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:At,"aria-hidden":!0},Re!==void 0?Re:re.createElement("span",{className:R()(Pr.split(/\s+/).map(function(Fe){return"".concat(Fe,"-icon")}))},Be))},tt=U,ut=function(Zt,Pr){var Gn,vr,$r=Zt.prefixCls,At=Zt.id,Be=Zt.inputElement,Re=Zt.disabled,Fe=Zt.tabIndex,Se=Zt.autoFocus,wt=Zt.autoComplete,Gt=Zt.editable,Sn=Zt.activeDescendantId,Un=Zt.value,_e=Zt.maxLength,We=Zt.onKeyDown,Ve=Zt.onMouseDown,Dt=Zt.onChange,An=Zt.onPaste,on=Zt.onCompositionStart,et=Zt.onCompositionEnd,Tn=Zt.open,zt=Zt.attrs,Xn=Be||re.createElement("input",null),cr=Xn,ii=cr.ref,ui=cr.props,Mr=ui.onKeyDown,jr=ui.onChange,eo=ui.onMouseDown,yi=ui.onCompositionStart,ci=ui.onCompositionEnd,Si=ui.style;return(0,ue.Kp)(!("maxLength"in Xn.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),Xn=re.cloneElement(Xn,(0,F.Z)((0,F.Z)((0,F.Z)({type:"search"},ui),{},{id:At,ref:(0,Ce.sQ)(Pr,ii),disabled:Re,tabIndex:Fe,autoComplete:wt||"off",autoFocus:Se,className:R()("".concat($r,"-selection-search-input"),(Gn=Xn)===null||Gn===void 0||(vr=Gn.props)===null||vr===void 0?void 0:vr.className),role:"combobox","aria-expanded":Tn,"aria-haspopup":"listbox","aria-owns":"".concat(At,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(At,"_list"),"aria-activedescendant":Sn},zt),{},{value:Gt?Un:"",maxLength:_e,readOnly:!Gt,unselectable:Gt?null:"on",style:(0,F.Z)((0,F.Z)({},Si),{},{opacity:Gt?null:0}),onKeyDown:function(to){We(to),Mr&&Mr(to)},onMouseDown:function(to){Ve(to),eo&&eo(to)},onChange:function(to){Dt(to),jr&&jr(to)},onCompositionStart:function(to){on(to),yi&&yi(to)},onCompositionEnd:function(to){et(to),ci&&ci(to)},onPaste:An})),Xn},vn=re.forwardRef(ut);vn.displayName="Input";var ft=vn;function Ye(Ct){return Array.isArray(Ct)?Ct:Ct!==void 0?[Ct]:[]}var Cn=typeof window!="undefined"&&window.document&&window.document.documentElement,cn=Cn;function mr(Ct){return Ct!=null}function pr(Ct){return["string","number"].includes((0,ee.Z)(Ct))}function hr(Ct){var Zt=void 0;return Ct&&(pr(Ct.title)?Zt=Ct.title.toString():pr(Ct.label)&&(Zt=Ct.label.toString())),Zt}function Mt(Ct,Zt){cn?re.useLayoutEffect(Ct,Zt):re.useEffect(Ct,Zt)}function yt(Ct){var Zt;return(Zt=Ct.key)!==null&&Zt!==void 0?Zt:Ct.value}var Et=function(Zt){Zt.preventDefault(),Zt.stopPropagation()},$e=function(Zt){var Pr=Zt.id,Gn=Zt.prefixCls,vr=Zt.values,$r=Zt.open,At=Zt.searchValue,Be=Zt.autoClearSearchValue,Re=Zt.inputRef,Fe=Zt.placeholder,Se=Zt.disabled,wt=Zt.mode,Gt=Zt.showSearch,Sn=Zt.autoFocus,Un=Zt.autoComplete,_e=Zt.activeDescendantId,We=Zt.tabIndex,Ve=Zt.removeIcon,Dt=Zt.maxTagCount,An=Zt.maxTagTextLength,on=Zt.maxTagPlaceholder,et=on===void 0?function(Ue){return"+ ".concat(Ue.length," ...")}:on,Tn=Zt.tagRender,zt=Zt.onToggleOpen,Xn=Zt.onRemove,cr=Zt.onInputChange,ii=Zt.onInputPaste,ui=Zt.onInputKeyDown,Mr=Zt.onInputMouseDown,jr=Zt.onInputCompositionStart,eo=Zt.onInputCompositionEnd,yi=re.useRef(null),ci=(0,re.useState)(0),Si=(0,H.Z)(ci,2),Li=Si[0],to=Si[1],Kr=(0,re.useState)(!1),gs=(0,H.Z)(Kr,2),Cs=gs[0],es=gs[1],cs="".concat(Gn,"-selection"),To=$r||wt==="multiple"&&Be===!1||wt==="tags"?At:"",Do=wt==="tags"||wt==="multiple"&&Be===!1||Gt&&($r||Cs);Mt(function(){to(yi.current.scrollWidth)},[To]);function Ko(Ue,He,dt,wn,gn){return re.createElement("span",{className:R()("".concat(cs,"-item"),(0,B.Z)({},"".concat(cs,"-item-disabled"),dt)),title:hr(Ue)},re.createElement("span",{className:"".concat(cs,"-item-content")},He),wn&&re.createElement(tt,{className:"".concat(cs,"-item-remove"),onMouseDown:Et,onClick:gn,customizeIcon:Ve},"\xD7"))}function os(Ue,He,dt,wn,gn){var Pn=function(Gr){Et(Gr),zt(!$r)};return re.createElement("span",{onMouseDown:Pn},Tn({label:He,value:Ue,disabled:dt,closable:wn,onClose:gn}))}function _(Ue){var He=Ue.disabled,dt=Ue.label,wn=Ue.value,gn=!Se&&!He,Pn=dt;if(typeof An=="number"&&(typeof dt=="string"||typeof dt=="number")){var zr=String(Pn);zr.length>An&&(Pn="".concat(zr.slice(0,An),"..."))}var Gr=function(bi){bi&&bi.stopPropagation(),Xn(Ue)};return typeof Tn=="function"?os(wn,Pn,He,gn,Gr):Ko(Ue,Pn,He,gn,Gr)}function K(Ue){var He=typeof et=="function"?et(Ue):et;return Ko({title:He},He,!1)}var he=re.createElement("div",{className:"".concat(cs,"-search"),style:{width:Li},onFocus:function(){es(!0)},onBlur:function(){es(!1)}},re.createElement(ft,{ref:Re,open:$r,prefixCls:Gn,id:Pr,inputElement:null,disabled:Se,autoFocus:Sn,autoComplete:Un,editable:Do,activeDescendantId:_e,value:To,onKeyDown:ui,onMouseDown:Mr,onChange:cr,onPaste:ii,onCompositionStart:jr,onCompositionEnd:eo,tabIndex:We,attrs:(0,vt.Z)(Zt,!0)}),re.createElement("span",{ref:yi,className:"".concat(cs,"-search-mirror"),"aria-hidden":!0},To,"\xA0")),ye=re.createElement(Vt.Z,{prefixCls:"".concat(cs,"-overflow"),data:vr,renderItem:_,renderRest:K,suffix:he,itemKey:yt,maxCount:Dt});return re.createElement(re.Fragment,null,ye,!vr.length&&!To&&re.createElement("span",{className:"".concat(cs,"-placeholder")},Fe))},$t=$e,Jt=function(Zt){var Pr=Zt.inputElement,Gn=Zt.prefixCls,vr=Zt.id,$r=Zt.inputRef,At=Zt.disabled,Be=Zt.autoFocus,Re=Zt.autoComplete,Fe=Zt.activeDescendantId,Se=Zt.mode,wt=Zt.open,Gt=Zt.values,Sn=Zt.placeholder,Un=Zt.tabIndex,_e=Zt.showSearch,We=Zt.searchValue,Ve=Zt.activeValue,Dt=Zt.maxLength,An=Zt.onInputKeyDown,on=Zt.onInputMouseDown,et=Zt.onInputChange,Tn=Zt.onInputPaste,zt=Zt.onInputCompositionStart,Xn=Zt.onInputCompositionEnd,cr=re.useState(!1),ii=(0,H.Z)(cr,2),ui=ii[0],Mr=ii[1],jr=Se==="combobox",eo=jr||_e,yi=Gt[0],ci=We||"";jr&&Ve&&!ui&&(ci=Ve),re.useEffect(function(){jr&&Mr(!1)},[jr,Ve]);var Si=Se!=="combobox"&&!wt&&!_e?!1:!!ci,Li=hr(yi),to=function(){if(yi)return null;var gs=Si?{visibility:"hidden"}:void 0;return re.createElement("span",{className:"".concat(Gn,"-selection-placeholder"),style:gs},Sn)};return re.createElement(re.Fragment,null,re.createElement("span",{className:"".concat(Gn,"-selection-search")},re.createElement(ft,{ref:$r,prefixCls:Gn,id:vr,open:wt,inputElement:Pr,disabled:At,autoFocus:Be,autoComplete:Re,editable:eo,activeDescendantId:Fe,value:ci,onKeyDown:An,onMouseDown:on,onChange:function(gs){Mr(!0),et(gs)},onPaste:Tn,onCompositionStart:zt,onCompositionEnd:Xn,tabIndex:Un,attrs:(0,vt.Z)(Zt,!0),maxLength:jr?Dt:void 0})),!jr&&yi?re.createElement("span",{className:"".concat(Gn,"-selection-item"),title:Li,style:Si?{visibility:"hidden"}:void 0},yi.label):null,to())},tn=Jt;function ir(Ct){return![fe.Z.ESC,fe.Z.SHIFT,fe.Z.BACKSPACE,fe.Z.TAB,fe.Z.WIN_KEY,fe.Z.ALT,fe.Z.META,fe.Z.WIN_KEY_RIGHT,fe.Z.CTRL,fe.Z.SEMICOLON,fe.Z.EQUALS,fe.Z.CAPS_LOCK,fe.Z.CONTEXT_MENU,fe.Z.F1,fe.Z.F2,fe.Z.F3,fe.Z.F4,fe.Z.F5,fe.Z.F6,fe.Z.F7,fe.Z.F8,fe.Z.F9,fe.Z.F10,fe.Z.F11,fe.Z.F12].includes(Ct)}var Or=function(Zt,Pr){var Gn=(0,re.useRef)(null),vr=(0,re.useRef)(!1),$r=Zt.prefixCls,At=Zt.open,Be=Zt.mode,Re=Zt.showSearch,Fe=Zt.tokenWithEnter,Se=Zt.autoClearSearchValue,wt=Zt.onSearch,Gt=Zt.onSearchSubmit,Sn=Zt.onToggleOpen,Un=Zt.onInputKeyDown,_e=Zt.domRef;re.useImperativeHandle(Pr,function(){return{focus:function(){Gn.current.focus()},blur:function(){Gn.current.blur()}}});var We=at(0),Ve=(0,H.Z)(We,2),Dt=Ve[0],An=Ve[1],on=function(Si){var Li=Si.which;(Li===fe.Z.UP||Li===fe.Z.DOWN)&&Si.preventDefault(),Un&&Un(Si),Li===fe.Z.ENTER&&Be==="tags"&&!vr.current&&!At&&(Gt==null||Gt(Si.target.value)),ir(Li)&&Sn(!0)},et=function(){An(!0)},Tn=(0,re.useRef)(null),zt=function(Si){wt(Si,!0,vr.current)!==!1&&Sn(!0)},Xn=function(){vr.current=!0},cr=function(Si){vr.current=!1,Be!=="combobox"&&zt(Si.target.value)},ii=function(Si){var Li=Si.target.value;if(Fe&&Tn.current&&/[\r\n]/.test(Tn.current)){var to=Tn.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");Li=Li.replace(to,Tn.current)}Tn.current=null,zt(Li)},ui=function(Si){var Li=Si.clipboardData,to=Li.getData("text");Tn.current=to},Mr=function(Si){var Li=Si.target;if(Li!==Gn.current){var to=document.body.style.msTouchAction!==void 0;to?setTimeout(function(){Gn.current.focus()}):Gn.current.focus()}},jr=function(Si){var Li=Dt();Si.target!==Gn.current&&!Li&&Be!=="combobox"&&Si.preventDefault(),(Be!=="combobox"&&(!Re||!Li)||!At)&&(At&&Se!==!1&&wt("",!0,!1),Sn())},eo={inputRef:Gn,onInputKeyDown:on,onInputMouseDown:et,onInputChange:ii,onInputPaste:ui,onInputCompositionStart:Xn,onInputCompositionEnd:cr},yi=Be==="multiple"||Be==="tags"?re.createElement($t,(0,M.Z)({},Zt,eo)):re.createElement(tn,(0,M.Z)({},Zt,eo));return re.createElement("div",{ref:_e,className:"".concat($r,"-selector"),onClick:Mr,onMouseDown:jr},yi)},Fr=re.forwardRef(Or);Fr.displayName="Selector";var lr=Fr,Yr=w(11276),jn=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],dr=function(Zt){var Pr=Zt===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:Pr,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:Pr,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:Pr,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:Pr,adjustY:1}}}},br=function(Zt,Pr){var Gn=Zt.prefixCls,vr=Zt.disabled,$r=Zt.visible,At=Zt.children,Be=Zt.popupElement,Re=Zt.containerWidth,Fe=Zt.animation,Se=Zt.transitionName,wt=Zt.dropdownStyle,Gt=Zt.dropdownClassName,Sn=Zt.direction,Un=Sn===void 0?"ltr":Sn,_e=Zt.placement,We=Zt.dropdownMatchSelectWidth,Ve=Zt.dropdownRender,Dt=Zt.dropdownAlign,An=Zt.getPopupContainer,on=Zt.empty,et=Zt.getTriggerDOMNode,Tn=Zt.onPopupVisibleChange,zt=Zt.onPopupMouseEnter,Xn=(0,I.Z)(Zt,jn),cr="".concat(Gn,"-dropdown"),ii=Be;Ve&&(ii=Ve(Be));var ui=re.useMemo(function(){return dr(We)},[We]),Mr=Fe?"".concat(cr,"-").concat(Fe):Se,jr=re.useRef(null);re.useImperativeHandle(Pr,function(){return{getPopupElement:function(){return jr.current}}});var eo=(0,F.Z)({minWidth:Re},wt);return typeof We=="number"?eo.width=We:We&&(eo.width=Re),re.createElement(Yr.Z,(0,M.Z)({},Xn,{showAction:Tn?["click"]:[],hideAction:Tn?["click"]:[],popupPlacement:_e||(Un==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:ui,prefixCls:cr,popupTransitionName:Mr,popup:re.createElement("div",{ref:jr,onMouseEnter:zt},ii),popupAlign:Dt,popupVisible:$r,getPopupContainer:An,popupClassName:R()(Gt,(0,B.Z)({},"".concat(cr,"-empty"),on)),popupStyle:eo,getTriggerDOMNode:et,onPopupVisibleChange:Tn}),At)},nr=re.forwardRef(br);nr.displayName="SelectTrigger";var Lr=nr,Ji=w(84506);function Ci(Ct,Zt){var Pr=Ct.key,Gn;return"value"in Ct&&(Gn=Ct.value),Pr!=null?Pr:Gn!==void 0?Gn:"rc-index-key-".concat(Zt)}function $i(Ct,Zt){var Pr=Ct||{},Gn=Pr.label,vr=Pr.value,$r=Pr.options;return{label:Gn||(Zt?"children":"label"),value:vr||"value",options:$r||"options"}}function It(Ct){var Zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Pr=Zt.fieldNames,Gn=Zt.childrenAsData,vr=[],$r=$i(Pr,!1),At=$r.label,Be=$r.value,Re=$r.options;function Fe(Se,wt){Se.forEach(function(Gt){var Sn=Gt[At];if(wt||!(Re in Gt)){var Un=Gt[Be];vr.push({key:Ci(Gt,vr.length),groupOption:wt,data:Gt,label:Sn,value:Un})}else{var _e=Sn;_e===void 0&&Gn&&(_e=Gt.label),vr.push({key:Ci(Gt,vr.length),group:!0,data:Gt,label:_e}),Fe(Gt[Re],!0)}})}return Fe(Ct,!1),vr}function Q(Ct){var Zt=(0,F.Z)({},Ct);return"props"in Zt||Object.defineProperty(Zt,"props",{get:function(){return(0,ue.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),Zt}}),Zt}function we(Ct,Zt){if(!Zt||!Zt.length)return null;var Pr=!1;function Gn($r,At){var Be=(0,Ji.Z)(At),Re=Be[0],Fe=Be.slice(1);if(!Re)return[$r];var Se=$r.split(Re);return Pr=Pr||Se.length>1,Se.reduce(function(wt,Gt){return[].concat((0,k.Z)(wt),(0,k.Z)(Gn(Gt,Fe)))},[]).filter(function(wt){return wt})}var vr=Gn(Ct,Zt);return Pr?vr:null}var Nt=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],jt=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function gt(Ct){return Ct==="tags"||Ct==="multiple"}var Je=re.forwardRef(function(Ct,Zt){var Pr,Gn,vr=Ct.id,$r=Ct.prefixCls,At=Ct.className,Be=Ct.showSearch,Re=Ct.tagRender,Fe=Ct.direction,Se=Ct.omitDomProps,wt=Ct.displayValues,Gt=Ct.onDisplayValuesChange,Sn=Ct.emptyOptions,Un=Ct.notFoundContent,_e=Un===void 0?"Not Found":Un,We=Ct.onClear,Ve=Ct.mode,Dt=Ct.disabled,An=Ct.loading,on=Ct.getInputElement,et=Ct.getRawInputElement,Tn=Ct.open,zt=Ct.defaultOpen,Xn=Ct.onDropdownVisibleChange,cr=Ct.activeValue,ii=Ct.onActiveValueChange,ui=Ct.activeDescendantId,Mr=Ct.searchValue,jr=Ct.autoClearSearchValue,eo=Ct.onSearch,yi=Ct.onSearchSplit,ci=Ct.tokenSeparators,Si=Ct.allowClear,Li=Ct.showArrow,to=Ct.inputIcon,Kr=Ct.clearIcon,gs=Ct.OptionList,Cs=Ct.animation,es=Ct.transitionName,cs=Ct.dropdownStyle,To=Ct.dropdownClassName,Do=Ct.dropdownMatchSelectWidth,Ko=Ct.dropdownRender,os=Ct.dropdownAlign,_=Ct.placement,K=Ct.getPopupContainer,he=Ct.showAction,ye=he===void 0?[]:he,Ue=Ct.onFocus,He=Ct.onBlur,dt=Ct.onKeyUp,wn=Ct.onKeyDown,gn=Ct.onMouseDown,Pn=(0,I.Z)(Ct,Nt),zr=gt(Ve),Gr=(Be!==void 0?Be:zr)||Ve==="combobox",Hr=(0,F.Z)({},Pn);jt.forEach(function(Lo){delete Hr[Lo]}),Se==null||Se.forEach(function(Lo){delete Hr[Lo]});var bi=re.useState(!1),Vo=(0,H.Z)(bi,2),Uo=Vo[0],Zo=Vo[1];re.useEffect(function(){Zo((0,Ze.Z)())},[]);var Ns=re.useRef(null),Ms=re.useRef(null),No=re.useRef(null),ws=re.useRef(null),Hi=re.useRef(null),ms=ie(),Pt=(0,H.Z)(ms,3),ot=Pt[0],Ft=Pt[1],Qt=Pt[2];re.useImperativeHandle(Zt,function(){var Lo,jo;return{focus:(Lo=ws.current)===null||Lo===void 0?void 0:Lo.focus,blur:(jo=ws.current)===null||jo===void 0?void 0:jo.blur,scrollTo:function($s){var ya;return(ya=Hi.current)===null||ya===void 0?void 0:ya.scrollTo($s)}}});var Ht=re.useMemo(function(){var Lo;if(Ve!=="combobox")return Mr;var jo=(Lo=wt[0])===null||Lo===void 0?void 0:Lo.value;return typeof jo=="string"||typeof jo=="number"?String(jo):""},[Mr,Ve,wt]),$n=Ve==="combobox"&&typeof on=="function"&&on()||null,Vn=typeof et=="function"&&et(),Er=(0,Ce.x1)(Ms,Vn==null||(Pr=Vn.props)===null||Pr===void 0?void 0:Pr.ref),io=(0,ae.Z)(void 0,{defaultValue:zt,value:Tn}),Mi=(0,H.Z)(io,2),Ki=Mi[0],qi=Mi[1],Ri=Ki,Ts=!_e&&Sn;(Dt||Ts&&Ri&&Ve==="combobox")&&(Ri=!1);var rs=Ts?!1:Ri,po=re.useCallback(function(Lo){var jo=Lo!==void 0?Lo:!Ri;Dt||(qi(jo),Ri!==jo&&(Xn==null||Xn(jo)))},[Dt,Ri,qi,Xn]),xi=re.useMemo(function(){return(ci||[]).some(function(Lo){return[`
`,`\r
`].includes(Lo)})},[ci]),Ho=function(jo,Ro,$s){var ya=!0,ha=jo;ii==null||ii(null);var Wa=$s?null:we(jo,ci);return Ve!=="combobox"&&Wa&&(ha="",yi==null||yi(Wa),po(!1),ya=!1),eo&&Ht!==ha&&eo(ha,{source:Ro?"typing":"effect"}),ya},ls=function(jo){!jo||!jo.trim()||eo(jo,{source:"submit"})};re.useEffect(function(){!Ri&&!zr&&Ve!=="combobox"&&Ho("",!1,!1)},[Ri]),re.useEffect(function(){Ki&&Dt&&qi(!1),Dt&&Ft(!1)},[Dt]);var Yo=at(),Hs=(0,H.Z)(Yo,2),Ol=Hs[0],xa=Hs[1],Ca=function(jo){var Ro=Ol(),$s=jo.which;if($s===fe.Z.ENTER&&(Ve!=="combobox"&&jo.preventDefault(),Ri||po(!0)),xa(!!Ht),$s===fe.Z.BACKSPACE&&!Ro&&zr&&!Ht&&wt.length){for(var ya=(0,k.Z)(wt),ha=null,Wa=ya.length-1;Wa>=0;Wa-=1){var bl=ya[Wa];if(!bl.disabled){ya.splice(Wa,1),ha=bl;break}}ha&&Gt(ya,{type:"remove",values:[ha]})}for(var Ls=arguments.length,Xa=new Array(Ls>1?Ls-1:0),ou=1;ou<Ls;ou++)Xa[ou-1]=arguments[ou];if(Ri&&Hi.current){var $f;($f=Hi.current).onKeyDown.apply($f,[jo].concat(Xa))}wn==null||wn.apply(void 0,[jo].concat(Xa))},ra=function(jo){for(var Ro=arguments.length,$s=new Array(Ro>1?Ro-1:0),ya=1;ya<Ro;ya++)$s[ya-1]=arguments[ya];if(Ri&&Hi.current){var ha;(ha=Hi.current).onKeyUp.apply(ha,[jo].concat($s))}dt==null||dt.apply(void 0,[jo].concat($s))},Aa=function(jo){var Ro=wt.filter(function($s){return $s!==jo});Gt(Ro,{type:"remove",values:[jo]})},Il=re.useRef(!1),Ra=function(){Ft(!0),Dt||(Ue&&!Il.current&&Ue.apply(void 0,arguments),ye.includes("focus")&&po(!0)),Il.current=!0},Rl=function(){Ft(!1,function(){Il.current=!1,po(!1)}),!Dt&&(Ht&&(Ve==="tags"?eo(Ht,{source:"submit"}):Ve==="multiple"&&eo("",{source:"blur"})),He&&He.apply(void 0,arguments))},Ka=[];re.useEffect(function(){return function(){Ka.forEach(function(Lo){return clearTimeout(Lo)}),Ka.splice(0,Ka.length)}},[]);var ol=function(jo){var Ro,$s=jo.target,ya=(Ro=No.current)===null||Ro===void 0?void 0:Ro.getPopupElement();if(ya&&ya.contains($s)){var ha=setTimeout(function(){var Xa=Ka.indexOf(ha);if(Xa!==-1&&Ka.splice(Xa,1),Qt(),!Uo&&!ya.contains(document.activeElement)){var ou;(ou=ws.current)===null||ou===void 0||ou.focus()}});Ka.push(ha)}for(var Wa=arguments.length,bl=new Array(Wa>1?Wa-1:0),Ls=1;Ls<Wa;Ls++)bl[Ls-1]=arguments[Ls];gn==null||gn.apply(void 0,[jo].concat(bl))},Wl=re.useState(null),sl=(0,H.Z)(Wl,2),Ia=sl[0],pc=sl[1],al=re.useState({}),kl=(0,H.Z)(al,2),Bc=kl[1];function En(){Bc({})}(0,ge.Z)(function(){if(rs){var Lo,jo=Math.ceil((Lo=Ns.current)===null||Lo===void 0?void 0:Lo.offsetWidth);Ia!==jo&&!Number.isNaN(jo)&&pc(jo)}},[rs]);var fr;Vn&&(fr=function(jo){po(jo)}),mt(function(){var Lo;return[Ns.current,(Lo=No.current)===null||Lo===void 0?void 0:Lo.getPopupElement()]},rs,po,!!Vn);var Nr=re.useMemo(function(){return(0,F.Z)((0,F.Z)({},Ct),{},{notFoundContent:_e,open:Ri,triggerOpen:rs,id:vr,showSearch:Gr,multiple:zr,toggleOpen:po})},[Ct,_e,rs,Ri,vr,Gr,zr,po]),Ot=Li!==void 0?Li:An||!zr&&Ve!=="combobox",On;Ot&&(On=re.createElement(tt,{className:R()("".concat($r,"-arrow"),(0,B.Z)({},"".concat($r,"-arrow-loading"),An)),customizeIcon:to,customizeIconProps:{loading:An,searchValue:Ht,open:Ri,focused:ot,showSearch:Gr}}));var Yn,di=function(){var jo;We==null||We(),(jo=ws.current)===null||jo===void 0||jo.focus(),Gt([],{type:"clear",values:wt}),Ho("",!1,!1)};!Dt&&Si&&(wt.length||Ht)&&!(Ve==="combobox"&&Ht==="")&&(Yn=re.createElement(tt,{className:"".concat($r,"-clear"),onMouseDown:di,customizeIcon:Kr},"\xD7"));var Qi=re.createElement(gs,{ref:Hi}),ao=R()($r,At,(Gn={},(0,B.Z)(Gn,"".concat($r,"-focused"),ot),(0,B.Z)(Gn,"".concat($r,"-multiple"),zr),(0,B.Z)(Gn,"".concat($r,"-single"),!zr),(0,B.Z)(Gn,"".concat($r,"-allow-clear"),Si),(0,B.Z)(Gn,"".concat($r,"-show-arrow"),Ot),(0,B.Z)(Gn,"".concat($r,"-disabled"),Dt),(0,B.Z)(Gn,"".concat($r,"-loading"),An),(0,B.Z)(Gn,"".concat($r,"-open"),Ri),(0,B.Z)(Gn,"".concat($r,"-customize-input"),$n),(0,B.Z)(Gn,"".concat($r,"-show-search"),Gr),Gn)),Ps=re.createElement(Lr,{ref:No,disabled:Dt,prefixCls:$r,visible:rs,popupElement:Qi,containerWidth:Ia,animation:Cs,transitionName:es,dropdownStyle:cs,dropdownClassName:To,direction:Fe,dropdownMatchSelectWidth:Do,dropdownRender:Ko,dropdownAlign:os,placement:_,getPopupContainer:K,empty:Sn,getTriggerDOMNode:function(){return Ms.current},onPopupVisibleChange:fr,onPopupMouseEnter:En},Vn?re.cloneElement(Vn,{ref:Er}):re.createElement(lr,(0,M.Z)({},Ct,{domRef:Ms,prefixCls:$r,inputElement:$n,ref:ws,id:vr,showSearch:Gr,autoClearSearchValue:jr,mode:Ve,activeDescendantId:ui,tagRender:Re,values:wt,open:Ri,onToggleOpen:po,activeValue:cr,searchValue:Ht,onSearch:Ho,onSearchSubmit:ls,onRemove:Aa,tokenWithEnter:xi}))),ts;return Vn?ts=Ps:ts=re.createElement("div",(0,M.Z)({className:ao},Hr,{ref:Ns,onMouseDown:ol,onKeyDown:Ca,onKeyUp:ra,onFocus:Ra,onBlur:Rl}),ot&&!Ri&&re.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(wt.map(function(Lo){var jo=Lo.label,Ro=Lo.value;return["number","string"].includes((0,ee.Z)(jo))?jo:Ro}).join(", "))),Ps,On,Yn),re.createElement(Ae.Provider,{value:Nr},ts)}),pt=Je,rt=function(Ct,Zt){var Pr=re.useRef({values:new Map,options:new Map}),Gn=re.useMemo(function(){var $r=Pr.current,At=$r.values,Be=$r.options,Re=Ct.map(function(wt){if(wt.label===void 0){var Gt;return(0,F.Z)((0,F.Z)({},wt),{},{label:(Gt=At.get(wt.value))===null||Gt===void 0?void 0:Gt.label})}return wt}),Fe=new Map,Se=new Map;return Re.forEach(function(wt){Fe.set(wt.value,wt),Se.set(wt.value,Zt.get(wt.value)||Be.get(wt.value))}),Pr.current.values=Fe,Pr.current.options=Se,Re},[Ct,Zt]),vr=re.useCallback(function($r){return Zt.get($r)||Pr.current.options.get($r)},[Zt]);return[Gn,vr]};function qt(Ct,Zt){return Ye(Ct).join("").toUpperCase().includes(Zt)}var Dn=function(Ct,Zt,Pr,Gn,vr){return re.useMemo(function(){if(!Pr||Gn===!1)return Ct;var $r=Zt.options,At=Zt.label,Be=Zt.value,Re=[],Fe=typeof Gn=="function",Se=Pr.toUpperCase(),wt=Fe?Gn:function(Sn,Un){return vr?qt(Un[vr],Se):Un[$r]?qt(Un[At!=="children"?At:"label"],Se):qt(Un[Be],Se)},Gt=Fe?function(Sn){return Q(Sn)}:function(Sn){return Sn};return Ct.forEach(function(Sn){if(Sn[$r]){var Un=wt(Pr,Gt(Sn));if(Un)Re.push(Sn);else{var _e=Sn[$r].filter(function(We){return wt(Pr,Gt(We))});_e.length&&Re.push((0,F.Z)((0,F.Z)({},Sn),{},(0,B.Z)({},$r,_e)))}return}wt(Pr,Gt(Sn))&&Re.push(Sn)}),Re},[Ct,Gn,vr,Pr,Zt])},_n=w(98924),Wr=0,Qn=(0,_n.Z)();function it(){var Ct;return Qn?(Ct=Wr,Wr+=1):Ct="TEST_OR_SSR",Ct}function mn(Ct){var Zt=re.useState(),Pr=(0,H.Z)(Zt,2),Gn=Pr[0],vr=Pr[1];return re.useEffect(function(){vr("rc_select_".concat(it()))},[]),Ct||Gn}var kn=w(50344),gr=["children","value"],kr=["children"];function Ei(Ct){var Zt=Ct,Pr=Zt.key,Gn=Zt.props,vr=Gn.children,$r=Gn.value,At=(0,I.Z)(Gn,gr);return(0,F.Z)({key:Pr,value:$r!==void 0?$r:Pr,children:vr},At)}function er(Ct){var Zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,kn.Z)(Ct).map(function(Pr,Gn){if(!re.isValidElement(Pr)||!Pr.type)return null;var vr=Pr,$r=vr.type.isSelectOptGroup,At=vr.key,Be=vr.props,Re=Be.children,Fe=(0,I.Z)(Be,kr);return Zt||!$r?Ei(Pr):(0,F.Z)((0,F.Z)({key:"__RC_SELECT_GRP__".concat(At===null?Gn:At,"__"),label:At},Fe),{},{options:er(Re)})}).filter(function(Pr){return Pr})}function Tt(Ct,Zt,Pr,Gn,vr){return re.useMemo(function(){var $r=Ct,At=!Ct;At&&($r=er(Zt));var Be=new Map,Re=new Map,Fe=function(Gt,Sn,Un){Un&&typeof Un=="string"&&Gt.set(Sn[Un],Sn)};function Se(wt){for(var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Sn=0;Sn<wt.length;Sn+=1){var Un=wt[Sn];!Un[Pr.options]||Gt?(Be.set(Un[Pr.value],Un),Fe(Re,Un,Pr.label),Fe(Re,Un,Gn),Fe(Re,Un,vr)):Se(Un[Pr.options],!0)}}return Se($r),{options:$r,valueOptions:Be,labelOptions:Re}},[Ct,Zt,Pr,Gn,vr])}function sn(Ct){var Zt=re.useRef();Zt.current=Ct;var Pr=re.useCallback(function(){return Zt.current.apply(Zt,arguments)},[]);return Pr}var _t=function(){return null};_t.isSelectOptGroup=!0;var Ut=_t,Rn=function(){return null};Rn.isSelectOption=!0;var Cr=Rn,si=w(98423),tr=w(56982),xn=w(85344);function Hn(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Kn=re.createContext(null),yn=Kn,Sr=["disabled","title","children","style","className"];function yr(Ct){return typeof Ct=="string"||typeof Ct=="number"}var Tr=function(Zt,Pr){var Gn=Pe(),vr=Gn.prefixCls,$r=Gn.id,At=Gn.open,Be=Gn.multiple,Re=Gn.mode,Fe=Gn.searchValue,Se=Gn.toggleOpen,wt=Gn.notFoundContent,Gt=Gn.onPopupScroll,Sn=re.useContext(yn),Un=Sn.flattenOptions,_e=Sn.onActiveValue,We=Sn.defaultActiveFirstOption,Ve=Sn.onSelect,Dt=Sn.menuItemSelectedIcon,An=Sn.rawValues,on=Sn.fieldNames,et=Sn.virtual,Tn=Sn.listHeight,zt=Sn.listItemHeight,Xn="".concat(vr,"-item"),cr=(0,tr.Z)(function(){return Un},[At,Un],function(cs,To){return To[0]&&cs[1]!==To[1]}),ii=re.useRef(null),ui=function(To){To.preventDefault()},Mr=function(To){ii.current&&ii.current.scrollTo(typeof To=="number"?{index:To}:To)},jr=function(To){for(var Do=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Ko=cr.length,os=0;os<Ko;os+=1){var _=(To+os*Do+Ko)%Ko,K=cr[_],he=K.group,ye=K.data;if(!he&&!ye.disabled)return _}return-1},eo=re.useState(function(){return jr(0)}),yi=(0,H.Z)(eo,2),ci=yi[0],Si=yi[1],Li=function(To){var Do=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Si(To);var Ko={source:Do?"keyboard":"mouse"},os=cr[To];if(!os){_e(null,-1,Ko);return}_e(os.value,To,Ko)};(0,re.useEffect)(function(){Li(We!==!1?jr(0):-1)},[cr.length,Fe]);var to=re.useCallback(function(cs){return An.has(cs)&&Re!=="combobox"},[Re,(0,k.Z)(An).toString(),An.size]);(0,re.useEffect)(function(){var cs=setTimeout(function(){if(!Be&&At&&An.size===1){var Do=Array.from(An)[0],Ko=cr.findIndex(function(os){var _=os.data;return _.value===Do});Ko!==-1&&(Li(Ko),Mr(Ko))}});if(At){var To;(To=ii.current)===null||To===void 0||To.scrollTo(void 0)}return function(){return clearTimeout(cs)}},[At,Fe]);var Kr=function(To){To!==void 0&&Ve(To,{selected:!An.has(To)}),Be||Se(!1)};if(re.useImperativeHandle(Pr,function(){return{onKeyDown:function(To){var Do=To.which,Ko=To.ctrlKey;switch(Do){case fe.Z.N:case fe.Z.P:case fe.Z.UP:case fe.Z.DOWN:{var os=0;if(Do===fe.Z.UP?os=-1:Do===fe.Z.DOWN?os=1:Hn()&&Ko&&(Do===fe.Z.N?os=1:Do===fe.Z.P&&(os=-1)),os!==0){var _=jr(ci+os,os);Mr(_),Li(_,!0)}break}case fe.Z.ENTER:{var K=cr[ci];K&&!K.data.disabled?Kr(K.value):Kr(void 0),At&&To.preventDefault();break}case fe.Z.ESC:Se(!1),At&&To.stopPropagation()}},onKeyUp:function(){},scrollTo:function(To){Mr(To)}}}),cr.length===0)return re.createElement("div",{role:"listbox",id:"".concat($r,"_list"),className:"".concat(Xn,"-empty"),onMouseDown:ui},wt);var gs=Object.keys(on).map(function(cs){return on[cs]}),Cs=function(To){return To.label},es=function(To){var Do=cr[To];if(!Do)return null;var Ko=Do.data||{},os=Ko.value,_=Do.group,K=(0,vt.Z)(Ko,!0),he=Cs(Do);return Do?re.createElement("div",(0,M.Z)({"aria-label":typeof he=="string"&&!_?he:null},K,{key:To,role:_?"presentation":"option",id:"".concat($r,"_list_").concat(To),"aria-selected":to(os)}),os):null};return re.createElement(re.Fragment,null,re.createElement("div",{role:"listbox",id:"".concat($r,"_list"),style:{height:0,width:0,overflow:"hidden"}},es(ci-1),es(ci),es(ci+1)),re.createElement(xn.Z,{itemKey:"key",ref:ii,data:cr,height:Tn,itemHeight:zt,fullHeight:!1,onMouseDown:ui,onScroll:Gt,virtual:et},function(cs,To){var Do,Ko=cs.group,os=cs.groupOption,_=cs.data,K=cs.label,he=cs.value,ye=_.key;if(Ko){var Ue,He=(Ue=_.title)!==null&&Ue!==void 0?Ue:yr(K)?K.toString():void 0;return re.createElement("div",{className:R()(Xn,"".concat(Xn,"-group")),title:He},K!==void 0?K:ye)}var dt=_.disabled,wn=_.title,gn=_.children,Pn=_.style,zr=_.className,Gr=(0,I.Z)(_,Sr),Hr=(0,si.Z)(Gr,gs),bi=to(he),Vo="".concat(Xn,"-option"),Uo=R()(Xn,Vo,zr,(Do={},(0,B.Z)(Do,"".concat(Vo,"-grouped"),os),(0,B.Z)(Do,"".concat(Vo,"-active"),ci===To&&!dt),(0,B.Z)(Do,"".concat(Vo,"-disabled"),dt),(0,B.Z)(Do,"".concat(Vo,"-selected"),bi),Do)),Zo=Cs(cs),Ns=!Dt||typeof Dt=="function"||bi,Ms=typeof Zo=="number"?Zo:Zo||he,No=yr(Ms)?Ms.toString():void 0;return wn!==void 0&&(No=wn),re.createElement("div",(0,M.Z)({},(0,vt.Z)(Hr),{"aria-selected":bi,className:Uo,title:No,onMouseMove:function(){ci===To||dt||Li(To)},onClick:function(){dt||Kr(he)},style:Pn}),re.createElement("div",{className:"".concat(Vo,"-content")},Ms),re.isValidElement(Dt)||bi,Ns&&re.createElement(tt,{className:"".concat(Xn,"-option-state"),customizeIcon:Dt,customizeIconProps:{isSelected:bi}},bi?"\u2713":null))}))},rn=re.forwardRef(Tr);rn.displayName="OptionList";var hn=rn;function or(Ct){var Zt=Ct.mode,Pr=Ct.options,Gn=Ct.children,vr=Ct.backfill,$r=Ct.allowClear,At=Ct.placeholder,Be=Ct.getInputElement,Re=Ct.showSearch,Fe=Ct.onSearch,Se=Ct.defaultOpen,wt=Ct.autoFocus,Gt=Ct.labelInValue,Sn=Ct.value,Un=Ct.inputValue,_e=Ct.optionLabelProp,We=isMultiple(Zt),Ve=Re!==void 0?Re:We||Zt==="combobox",Dt=Pr||convertChildrenToData(Gn);if(warning(Zt!=="tags"||Dt.every(function(Tn){return!Tn.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),Zt==="tags"||Zt==="combobox"){var An=Dt.some(function(Tn){return Tn.options?Tn.options.some(function(zt){return typeof("value"in zt?zt.value:zt.key)=="number"}):typeof("value"in Tn?Tn.value:Tn.key)=="number"});warning(!An,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(Zt!=="combobox"||!_e,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(Zt==="combobox"||!vr,"`backfill` only works with `combobox` mode."),warning(Zt==="combobox"||!Be,"`getInputElement` only work with `combobox` mode."),noteOnce(Zt!=="combobox"||!Be||!$r||!At,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),Fe&&!Ve&&Zt!=="combobox"&&Zt!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!Se||wt,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),Sn!=null){var on=toArray(Sn);warning(!Gt||on.every(function(Tn){return _typeof(Tn)==="object"&&("key"in Tn||"value"in Tn)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!We||Array.isArray(Sn),"`value` should be array when `mode` is `multiple` or `tags`")}if(Gn){var et=null;toNodeArray(Gn).some(function(Tn){if(!React.isValidElement(Tn)||!Tn.type)return!1;var zt=Tn,Xn=zt.type;if(Xn.isSelectOption)return!1;if(Xn.isSelectOptGroup){var cr=toNodeArray(Tn.props.children).every(function(ii){return!React.isValidElement(ii)||!Tn.type||ii.type.isSelectOption?!0:(et=ii.type,!1)});return!cr}return et=Xn,!0}),et&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(et.displayName||et.name||et,"`.")),warning(Un===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function Ke(Ct,Zt){if(Ct){var Pr=function Gn(vr){for(var $r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,At=0;At<vr.length;At++){var Be=vr[At];if(Be[Zt==null?void 0:Zt.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!$r&&Array.isArray(Be[Zt==null?void 0:Zt.options])&&Gn(Be[Zt==null?void 0:Zt.options],!0))break}};Pr(Ct)}}var Xe=null,je=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],me=["inputValue"];function ze(Ct){return!Ct||(0,ee.Z)(Ct)!=="object"}var Oe=re.forwardRef(function(Ct,Zt){var Pr=Ct.id,Gn=Ct.mode,vr=Ct.prefixCls,$r=vr===void 0?"rc-select":vr,At=Ct.backfill,Be=Ct.fieldNames,Re=Ct.inputValue,Fe=Ct.searchValue,Se=Ct.onSearch,wt=Ct.autoClearSearchValue,Gt=wt===void 0?!0:wt,Sn=Ct.onSelect,Un=Ct.onDeselect,_e=Ct.dropdownMatchSelectWidth,We=_e===void 0?!0:_e,Ve=Ct.filterOption,Dt=Ct.filterSort,An=Ct.optionFilterProp,on=Ct.optionLabelProp,et=Ct.options,Tn=Ct.children,zt=Ct.defaultActiveFirstOption,Xn=Ct.menuItemSelectedIcon,cr=Ct.virtual,ii=Ct.listHeight,ui=ii===void 0?200:ii,Mr=Ct.listItemHeight,jr=Mr===void 0?20:Mr,eo=Ct.value,yi=Ct.defaultValue,ci=Ct.labelInValue,Si=Ct.onChange,Li=(0,I.Z)(Ct,je),to=mn(Pr),Kr=gt(Gn),gs=!!(!et&&Tn),Cs=re.useMemo(function(){return Ve===void 0&&Gn==="combobox"?!1:Ve},[Ve,Gn]),es=re.useMemo(function(){return $i(Be,gs)},[JSON.stringify(Be),gs]),cs=(0,ae.Z)("",{value:Fe!==void 0?Fe:Re,postState:function(xi){return xi||""}}),To=(0,H.Z)(cs,2),Do=To[0],Ko=To[1],os=Tt(et,Tn,es,An,on),_=os.valueOptions,K=os.labelOptions,he=os.options,ye=re.useCallback(function(po){var xi=Ye(po);return xi.map(function(Ho){var ls,Yo,Hs,Ol,xa;if(ze(Ho))ls=Ho;else{var Ca;Hs=Ho.key,Yo=Ho.label,ls=(Ca=Ho.value)!==null&&Ca!==void 0?Ca:Hs}var ra=_.get(ls);if(ra){var Aa;if(Yo===void 0&&(Yo=ra==null?void 0:ra[on||es.label]),Hs===void 0&&(Hs=(Aa=ra==null?void 0:ra.key)!==null&&Aa!==void 0?Aa:ls),Ol=ra==null?void 0:ra.disabled,xa=ra==null?void 0:ra.title,0)var Il}return{label:Yo,value:ls,key:Hs,disabled:Ol,title:xa}})},[es,on,_]),Ue=(0,ae.Z)(yi,{value:eo}),He=(0,H.Z)(Ue,2),dt=He[0],wn=He[1],gn=re.useMemo(function(){var po,xi=ye(dt);return Gn==="combobox"&&!((po=xi[0])!==null&&po!==void 0&&po.value)?[]:xi},[dt,ye,Gn]),Pn=rt(gn,_),zr=(0,H.Z)(Pn,2),Gr=zr[0],Hr=zr[1],bi=re.useMemo(function(){if(!Gn&&Gr.length===1){var po=Gr[0];if(po.value===null&&(po.label===null||po.label===void 0))return[]}return Gr.map(function(xi){var Ho;return(0,F.Z)((0,F.Z)({},xi),{},{label:(Ho=xi.label)!==null&&Ho!==void 0?Ho:xi.value})})},[Gn,Gr]),Vo=re.useMemo(function(){return new Set(Gr.map(function(po){return po.value}))},[Gr]);re.useEffect(function(){if(Gn==="combobox"){var po,xi=(po=Gr[0])===null||po===void 0?void 0:po.value;Ko(mr(xi)?String(xi):"")}},[Gr]);var Uo=sn(function(po,xi){var Ho,ls=xi!=null?xi:po;return Ho={},(0,B.Z)(Ho,es.value,po),(0,B.Z)(Ho,es.label,ls),Ho}),Zo=re.useMemo(function(){if(Gn!=="tags")return he;var po=(0,k.Z)(he),xi=function(ls){return _.has(ls)};return(0,k.Z)(Gr).sort(function(Ho,ls){return Ho.value<ls.value?-1:1}).forEach(function(Ho){var ls=Ho.value;xi(ls)||po.push(Uo(ls,Ho.label))}),po},[Uo,he,_,Gr,Gn]),Ns=Dn(Zo,es,Do,Cs,An),Ms=re.useMemo(function(){return Gn!=="tags"||!Do||Ns.some(function(po){return po[An||"value"]===Do})?Ns:[Uo(Do)].concat((0,k.Z)(Ns))},[Uo,An,Gn,Ns,Do]),No=re.useMemo(function(){return Dt?(0,k.Z)(Ms).sort(function(po,xi){return Dt(po,xi)}):Ms},[Ms,Dt]),ws=re.useMemo(function(){return It(No,{fieldNames:es,childrenAsData:gs})},[No,es,gs]),Hi=function(xi){var Ho=ye(xi);if(wn(Ho),Si&&(Ho.length!==Gr.length||Ho.some(function(Hs,Ol){var xa;return((xa=Gr[Ol])===null||xa===void 0?void 0:xa.value)!==(Hs==null?void 0:Hs.value)}))){var ls=ci?Ho:Ho.map(function(Hs){return Hs.value}),Yo=Ho.map(function(Hs){return Q(Hr(Hs.value))});Si(Kr?ls:ls[0],Kr?Yo:Yo[0])}},ms=re.useState(null),Pt=(0,H.Z)(ms,2),ot=Pt[0],Ft=Pt[1],Qt=re.useState(0),Ht=(0,H.Z)(Qt,2),$n=Ht[0],Vn=Ht[1],Er=zt!==void 0?zt:Gn!=="combobox",io=re.useCallback(function(po,xi){var Ho=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ls=Ho.source,Yo=ls===void 0?"keyboard":ls;Vn(xi),At&&Gn==="combobox"&&po!==null&&Yo==="keyboard"&&Ft(String(po))},[At,Gn]),Mi=function(xi,Ho,ls){var Yo=function(){var Ka,ol=Hr(xi);return[ci?{label:ol==null?void 0:ol[es.label],value:xi,key:(Ka=ol==null?void 0:ol.key)!==null&&Ka!==void 0?Ka:xi}:xi,Q(ol)]};if(Ho&&Sn){var Hs=Yo(),Ol=(0,H.Z)(Hs,2),xa=Ol[0],Ca=Ol[1];Sn(xa,Ca)}else if(!Ho&&Un&&ls!=="clear"){var ra=Yo(),Aa=(0,H.Z)(ra,2),Il=Aa[0],Ra=Aa[1];Un(Il,Ra)}},Ki=sn(function(po,xi){var Ho,ls=Kr?xi.selected:!0;ls?Ho=Kr?[].concat((0,k.Z)(Gr),[po]):[po]:Ho=Gr.filter(function(Yo){return Yo.value!==po}),Hi(Ho),Mi(po,ls),Gn==="combobox"?Ft(""):(!gt||Gt)&&(Ko(""),Ft(""))}),qi=function(xi,Ho){Hi(xi);var ls=Ho.type,Yo=Ho.values;(ls==="remove"||ls==="clear")&&Yo.forEach(function(Hs){Mi(Hs.value,!1,ls)})},Ri=function(xi,Ho){if(Ko(xi),Ft(null),Ho.source==="submit"){var ls=(xi||"").trim();if(ls){var Yo=Array.from(new Set([].concat((0,k.Z)(Vo),[ls])));Hi(Yo),Mi(ls,!0),Ko("")}return}Ho.source!=="blur"&&(Gn==="combobox"&&Hi(xi),Se==null||Se(xi))},Ts=function(xi){var Ho=xi;Gn!=="tags"&&(Ho=xi.map(function(Yo){var Hs=K.get(Yo);return Hs==null?void 0:Hs.value}).filter(function(Yo){return Yo!==void 0}));var ls=Array.from(new Set([].concat((0,k.Z)(Vo),(0,k.Z)(Ho))));Hi(ls),ls.forEach(function(Yo){Mi(Yo,!0)})},rs=re.useMemo(function(){var po=cr!==!1&&We!==!1;return(0,F.Z)((0,F.Z)({},os),{},{flattenOptions:ws,onActiveValue:io,defaultActiveFirstOption:Er,onSelect:Ki,menuItemSelectedIcon:Xn,rawValues:Vo,fieldNames:es,virtual:po,listHeight:ui,listItemHeight:jr,childrenAsData:gs})},[os,ws,io,Er,Ki,Xn,Vo,es,cr,We,ui,jr,gs]);return re.createElement(yn.Provider,{value:rs},re.createElement(pt,(0,M.Z)({},Li,{id:to,prefixCls:$r,ref:Zt,omitDomProps:me,mode:Gn,displayValues:bi,onDisplayValuesChange:qi,searchValue:Do,onSearch:Ri,autoClearSearchValue:Gt,onSearchSplit:Ts,dropdownMatchSelectWidth:We,OptionList:hn,emptyOptions:!ws.length,activeValue:ot,activeDescendantId:"".concat(to,"_list_").concat($n)})))}),Y=Oe;Y.Option=Cr,Y.OptGroup=Ut;var ne=Y,W=ne,S=w(53124),A=w(73e3),L=w(98866),ce=w(97647),ve=w(65223),pe=w(33603),Ee=w(9708),ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},ct=ht,nt=w(42135),Rt=function(Zt,Pr){return re.createElement(nt.Z,(0,F.Z)((0,F.Z)({},Zt),{},{ref:Pr,icon:ct}))},kt=re.forwardRef(Rt),bn=kt,pn=w(4340),Lt=w(97937),Bt=w(80882),In=w(50888),Zn=w(68795);function sr(Ct){var Zt=Ct.suffixIcon,Pr=Ct.clearIcon,Gn=Ct.menuItemSelectedIcon,vr=Ct.removeIcon,$r=Ct.loading,At=Ct.multiple,Be=Ct.hasFeedback,Re=Ct.prefixCls,Fe=Ct.showArrow,Se=Ct.feedbackIcon,wt=Pr!=null?Pr:re.createElement(pn.Z,null),Gt=function(Dt){return re.createElement(re.Fragment,null,Fe!==!1&&Dt,Be&&Se)},Sn=null;if(Zt!==void 0)Sn=Gt(Zt);else if($r)Sn=Gt(re.createElement(In.Z,{spin:!0}));else{var Un="".concat(Re,"-suffix");Sn=function(Dt){var An=Dt.open,on=Dt.showSearch;return Gt(An&&on?re.createElement(Zn.Z,{className:Un}):re.createElement(Bt.Z,{className:Un}))}}var _e=null;Gn!==void 0?_e=Gn:At?_e=re.createElement(bn,null):_e=null;var We=null;return vr!==void 0?We=vr:We=re.createElement(Lt.Z,null),{clearIcon:wt,suffixIcon:Sn,itemIcon:_e,removeIcon:We}}var ni=w(4173),mi=function(Ct,Zt){var Pr={};for(var Gn in Ct)Object.prototype.hasOwnProperty.call(Ct,Gn)&&Zt.indexOf(Gn)<0&&(Pr[Gn]=Ct[Gn]);if(Ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var vr=0,Gn=Object.getOwnPropertySymbols(Ct);vr<Gn.length;vr++)Zt.indexOf(Gn[vr])<0&&Object.prototype.propertyIsEnumerable.call(Ct,Gn[vr])&&(Pr[Gn[vr]]=Ct[Gn[vr]]);return Pr},Rr="SECRET_COMBOBOX_MODE_DO_NOT_USE",ai=function(Zt,Pr){var Gn=Zt.prefixCls,vr=Zt.bordered,$r=vr===void 0?!0:vr,At=Zt.className,Be=Zt.getPopupContainer,Re=Zt.dropdownClassName,Fe=Zt.popupClassName,Se=Zt.listHeight,wt=Se===void 0?256:Se,Gt=Zt.placement,Sn=Zt.listItemHeight,Un=Sn===void 0?32:Sn,_e=Zt.size,We=Zt.disabled,Ve=Zt.notFoundContent,Dt=Zt.status,An=Zt.showArrow,on=mi(Zt,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","popupClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","showArrow"]),et=re.useContext(S.E_),Tn=et.getPopupContainer,zt=et.getPrefixCls,Xn=et.renderEmpty,cr=et.direction,ii=et.virtual,ui=et.dropdownMatchSelectWidth,Mr=re.useContext(ce.Z),jr=zt("select",Gn),eo=zt(),yi=(0,ni.ri)(jr,cr),ci=yi.compactSize,Si=yi.compactItemClassnames,Li=re.useMemo(function(){var Gr=on.mode;if(Gr!=="combobox")return Gr===Rr?"combobox":Gr},[on.mode]),to=Li==="multiple"||Li==="tags",Kr=An!==void 0?An:on.loading||!(to||Li==="combobox"),gs=(0,re.useContext)(ve.aM),Cs=gs.status,es=gs.hasFeedback,cs=gs.isFormItemInput,To=gs.feedbackIcon,Do=(0,Ee.F)(Cs,Dt),Ko;Ve!==void 0?Ko=Ve:Li==="combobox"?Ko=null:Ko=(Xn||A.Z)("Select");var os=sr((0,M.Z)((0,M.Z)({},on),{multiple:to,hasFeedback:es,feedbackIcon:To,showArrow:Kr,prefixCls:jr})),_=os.suffixIcon,K=os.itemIcon,he=os.removeIcon,ye=os.clearIcon,Ue=(0,si.Z)(on,["suffixIcon","itemIcon"]),He=R()(Fe||Re,(0,B.Z)({},"".concat(jr,"-dropdown-").concat(cr),cr==="rtl")),dt=ci||_e||Mr,wn=re.useContext(L.Z),gn=We!=null?We:wn,Pn=R()((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)({},"".concat(jr,"-lg"),dt==="large"),"".concat(jr,"-sm"),dt==="small"),"".concat(jr,"-rtl"),cr==="rtl"),"".concat(jr,"-borderless"),!$r),"".concat(jr,"-in-form-item"),cs),(0,Ee.Z)(jr,Do,es),Si,At),zr=function(){return Gt!==void 0?Gt:cr==="rtl"?"bottomRight":"bottomLeft"};return re.createElement(W,(0,M.Z)({ref:Pr,virtual:ii,dropdownMatchSelectWidth:ui},Ue,{transitionName:(0,pe.mL)(eo,(0,pe.q0)(Gt),on.transitionName),listHeight:wt,listItemHeight:Un,mode:Li,prefixCls:jr,placement:zr(),direction:cr,inputIcon:_,menuItemSelectedIcon:K,removeIcon:he,clearIcon:ye,notFoundContent:Ko,className:Pn,getPopupContainer:Be||Tn,dropdownClassName:He,showArrow:es||An,disabled:gn}))},li=re.forwardRef(ai);li.SECRET_COMBOBOX_MODE_DO_NOT_USE=Rr,li.Option=Cr,li.OptGroup=Ut;var wi=li},4173:function(Ne,te,w){"use strict";w.d(te,{BR:function(){return ue},ri:function(){return ae}});var B=w(87462),M=w(4942),j=w(93967),R=w.n(j),k=w(50344),F=w(67294),H=w(53124),I=function(Ze,fe){var Ce={};for(var Ae in Ze)Object.prototype.hasOwnProperty.call(Ze,Ae)&&fe.indexOf(Ae)<0&&(Ce[Ae]=Ze[Ae]);if(Ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Pe=0,Ae=Object.getOwnPropertySymbols(Ze);Pe<Ae.length;Pe++)fe.indexOf(Ae[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Ze,Ae[Pe])&&(Ce[Ae[Pe]]=Ze[Ae[Pe]]);return Ce},ee=F.createContext(null),ae=function(fe,Ce){var Ae=F.useContext(ee),Pe=F.useMemo(function(){if(!Ae)return"";var ie=Ae.compactDirection,at=Ae.isFirstItem,mt=Ae.isLastItem,vt=ie==="vertical"?"-vertical-":"-";return R()((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(fe,"-compact").concat(vt,"item"),!0),"".concat(fe,"-compact").concat(vt,"first-item"),at),"".concat(fe,"-compact").concat(vt,"last-item"),mt),"".concat(fe,"-compact").concat(vt,"item-rtl"),Ce==="rtl"))},[fe,Ce,Ae]);return{compactSize:Ae==null?void 0:Ae.compactSize,compactDirection:Ae==null?void 0:Ae.compactDirection,compactItemClassnames:Pe}},ue=function(fe){var Ce=fe.children;return F.createElement(ee.Provider,{value:null},Ce)},re=function(fe){var Ce=fe.children,Ae=I(fe,["children"]);return F.createElement(ee.Provider,{value:Ae},Ce)},ge=function(fe){var Ce=F.useContext(H.E_),Ae=Ce.getPrefixCls,Pe=Ce.direction,ie=fe.size,at=ie===void 0?"middle":ie,mt=fe.direction,vt=fe.block,Vt=fe.prefixCls,U=fe.className,tt=fe.children,ut=I(fe,["size","direction","block","prefixCls","className","children"]),vn=Ae("space-compact",Vt),ft=R()(vn,(0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(vn,"-rtl"),Pe==="rtl"),"".concat(vn,"-block"),vt),"".concat(vn,"-vertical"),mt==="vertical"),U),Ye=F.useContext(ee),Cn=(0,k.Z)(tt),cn=F.useMemo(function(){return Cn.map(function(mr,pr){var hr=mr&&mr.key||"".concat(vn,"-item-").concat(pr);return F.createElement(re,{key:hr,compactSize:at,compactDirection:mt,isFirstItem:pr===0&&(!Ye||(Ye==null?void 0:Ye.isFirstItem)),isLastItem:pr===Cn.length-1&&(!Ye||(Ye==null?void 0:Ye.isLastItem))},mr)})},[at,Cn,Ye]);return Cn.length===0?null:F.createElement("div",(0,B.Z)({className:ft},ut),cn)};te.ZP=ge},28004:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return ze}});var B=w(4942),M=w(87462),j=w(97937),R=w(89705),k=w(1413),F=w(67294),H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},I=H,ee=w(42135),ae=function(Y,ne){return F.createElement(ee.Z,(0,k.Z)((0,k.Z)({},Y),{},{ref:ne,icon:I}))},ue=F.forwardRef(ae),re=ue,ge=w(93967),Ze=w.n(ge),fe=w(97685),Ce=w(71002),Ae=w(45987),Pe=w(31131),ie=w(21770),at=w(29372),mt=(0,F.createContext)(null),vt=F.forwardRef(function(Oe,Y){var ne=Oe.prefixCls,W=Oe.className,S=Oe.style,A=Oe.id,L=Oe.active,ce=Oe.tabKey,ve=Oe.children;return F.createElement("div",{id:A&&"".concat(A,"-panel-").concat(ce),role:"tabpanel",tabIndex:L?0:-1,"aria-labelledby":A&&"".concat(A,"-tab-").concat(ce),"aria-hidden":!L,style:S,className:Ze()(ne,L&&"".concat(ne,"-active"),W),ref:Y},ve)}),Vt=vt,U=["key","forceRender","style","className"];function tt(Oe){var Y=Oe.id,ne=Oe.activeKey,W=Oe.animated,S=Oe.tabPosition,A=Oe.destroyInactiveTabPane,L=F.useContext(mt),ce=L.prefixCls,ve=L.tabs,pe=W.tabPane,Ee="".concat(ce,"-tabpane");return F.createElement("div",{className:Ze()("".concat(ce,"-content-holder"))},F.createElement("div",{className:Ze()("".concat(ce,"-content"),"".concat(ce,"-content-").concat(S),(0,B.Z)({},"".concat(ce,"-content-animated"),pe))},ve.map(function(ht){var ct=ht.key,nt=ht.forceRender,Rt=ht.style,kt=ht.className,bn=(0,Ae.Z)(ht,U),pn=ct===ne;return F.createElement(at.ZP,(0,M.Z)({key:ct,visible:pn,forceRender:nt,removeOnLeave:!!A,leavedClassName:"".concat(Ee,"-hidden")},W.tabPaneMotion),function(Lt,Bt){var In=Lt.style,Zn=Lt.className;return F.createElement(Vt,(0,M.Z)({},bn,{prefixCls:Ee,id:Y,tabKey:ct,animated:pe,active:pn,style:(0,k.Z)((0,k.Z)({},Rt),In),className:Ze()(kt,Zn),ref:Bt}))})})))}var ut=w(74902),vn=w(48555),ft=w(66680),Ye=w(75164),Cn=w(42550),cn={width:0,height:0,left:0,top:0};function mr(Oe,Y,ne){return(0,F.useMemo)(function(){for(var W,S=new Map,A=Y.get((W=Oe[0])===null||W===void 0?void 0:W.key)||cn,L=A.left+A.width,ce=0;ce<Oe.length;ce+=1){var ve=Oe[ce].key,pe=Y.get(ve);if(!pe){var Ee;pe=Y.get((Ee=Oe[ce-1])===null||Ee===void 0?void 0:Ee.key)||cn}var ht=S.get(ve)||(0,k.Z)({},pe);ht.right=L-ht.left-ht.width,S.set(ve,ht)}return S},[Oe.map(function(W){return W.key}).join("_"),Y,ne])}function pr(Oe,Y){var ne=F.useRef(Oe),W=F.useState({}),S=(0,fe.Z)(W,2),A=S[1];function L(ce){var ve=typeof ce=="function"?ce(ne.current):ce;ve!==ne.current&&Y(ve,ne.current),ne.current=ve,A({})}return[ne.current,L]}var hr=.1,Mt=.01,yt=20,Et=Math.pow(.995,yt);function $e(Oe,Y){var ne=(0,F.useState)(),W=(0,fe.Z)(ne,2),S=W[0],A=W[1],L=(0,F.useState)(0),ce=(0,fe.Z)(L,2),ve=ce[0],pe=ce[1],Ee=(0,F.useState)(0),ht=(0,fe.Z)(Ee,2),ct=ht[0],nt=ht[1],Rt=(0,F.useState)(),kt=(0,fe.Z)(Rt,2),bn=kt[0],pn=kt[1],Lt=(0,F.useRef)();function Bt(Rr){var ai=Rr.touches[0],li=ai.screenX,wi=ai.screenY;A({x:li,y:wi}),window.clearInterval(Lt.current)}function In(Rr){if(S){Rr.preventDefault();var ai=Rr.touches[0],li=ai.screenX,wi=ai.screenY;A({x:li,y:wi});var Ct=li-S.x,Zt=wi-S.y;Y(Ct,Zt);var Pr=Date.now();pe(Pr),nt(Pr-ve),pn({x:Ct,y:Zt})}}function Zn(){if(S&&(A(null),pn(null),bn)){var Rr=bn.x/ct,ai=bn.y/ct,li=Math.abs(Rr),wi=Math.abs(ai);if(Math.max(li,wi)<hr)return;var Ct=Rr,Zt=ai;Lt.current=window.setInterval(function(){if(Math.abs(Ct)<Mt&&Math.abs(Zt)<Mt){window.clearInterval(Lt.current);return}Ct*=Et,Zt*=Et,Y(Ct*yt,Zt*yt)},yt)}}var sr=(0,F.useRef)();function ni(Rr){var ai=Rr.deltaX,li=Rr.deltaY,wi=0,Ct=Math.abs(ai),Zt=Math.abs(li);Ct===Zt?wi=sr.current==="x"?ai:li:Ct>Zt?(wi=ai,sr.current="x"):(wi=li,sr.current="y"),Y(-wi,-wi)&&Rr.preventDefault()}var mi=(0,F.useRef)(null);mi.current={onTouchStart:Bt,onTouchMove:In,onTouchEnd:Zn,onWheel:ni},F.useEffect(function(){function Rr(Ct){mi.current.onTouchStart(Ct)}function ai(Ct){mi.current.onTouchMove(Ct)}function li(Ct){mi.current.onTouchEnd(Ct)}function wi(Ct){mi.current.onWheel(Ct)}return document.addEventListener("touchmove",ai,{passive:!1}),document.addEventListener("touchend",li,{passive:!1}),Oe.current.addEventListener("touchstart",Rr,{passive:!1}),Oe.current.addEventListener("wheel",wi),function(){document.removeEventListener("touchmove",ai),document.removeEventListener("touchend",li)}},[])}var $t=w(8410);function Jt(Oe){var Y=(0,F.useState)(0),ne=(0,fe.Z)(Y,2),W=ne[0],S=ne[1],A=(0,F.useRef)(0),L=(0,F.useRef)();return L.current=Oe,(0,$t.o)(function(){var ce;(ce=L.current)===null||ce===void 0||ce.call(L)},[W]),function(){A.current===W&&(A.current+=1,S(A.current))}}function tn(Oe){var Y=(0,F.useRef)([]),ne=(0,F.useState)({}),W=(0,fe.Z)(ne,2),S=W[1],A=(0,F.useRef)(typeof Oe=="function"?Oe():Oe),L=Jt(function(){var ve=A.current;Y.current.forEach(function(pe){ve=pe(ve)}),Y.current=[],A.current=ve,S({})});function ce(ve){Y.current.push(ve),L()}return[A.current,ce]}var ir={width:0,height:0,left:0,top:0,right:0};function Or(Oe,Y,ne,W,S,A,L){var ce=L.tabs,ve=L.tabPosition,pe=L.rtl,Ee,ht,ct;return["top","bottom"].includes(ve)?(Ee="width",ht=pe?"right":"left",ct=Math.abs(ne)):(Ee="height",ht="top",ct=-ne),(0,F.useMemo)(function(){if(!ce.length)return[0,0];for(var nt=ce.length,Rt=nt,kt=0;kt<nt;kt+=1){var bn=Oe.get(ce[kt].key)||ir;if(bn[ht]+bn[Ee]>ct+Y){Rt=kt-1;break}}for(var pn=0,Lt=nt-1;Lt>=0;Lt-=1){var Bt=Oe.get(ce[Lt].key)||ir;if(Bt[ht]<ct){pn=Lt+1;break}}return[pn,Rt]},[Oe,Y,W,S,A,ct,ve,ce.map(function(nt){return nt.key}).join("_"),pe])}function Fr(Oe){var Y;return Oe instanceof Map?(Y={},Oe.forEach(function(ne,W){Y[W]=ne})):Y=Oe,JSON.stringify(Y)}var lr="TABS_DQ";function Yr(Oe){return String(Oe).replace(/"/g,lr)}function jn(Oe,Y){var ne=Oe.prefixCls,W=Oe.editable,S=Oe.locale,A=Oe.style;return!W||W.showAdd===!1?null:F.createElement("button",{ref:Y,type:"button",className:"".concat(ne,"-nav-add"),style:A,"aria-label":(S==null?void 0:S.addAriaLabel)||"Add tab",onClick:function(ce){W.onEdit("add",{event:ce})}},W.addIcon||"+")}var dr=F.forwardRef(jn),br=F.forwardRef(function(Oe,Y){var ne=Oe.position,W=Oe.prefixCls,S=Oe.extra;if(!S)return null;var A,L={};return(0,Ce.Z)(S)==="object"&&!F.isValidElement(S)?L=S:L.right=S,ne==="right"&&(A=L.right),ne==="left"&&(A=L.left),A?F.createElement("div",{className:"".concat(W,"-extra-content"),ref:Y},A):null}),nr=br,Lr=w(11276),Ji={adjustX:1,adjustY:1},Ci=[0,0],$i={topLeft:{points:["bl","tl"],overflow:Ji,offset:[0,-4],targetOffset:Ci},topCenter:{points:["bc","tc"],overflow:Ji,offset:[0,-4],targetOffset:Ci},topRight:{points:["br","tr"],overflow:Ji,offset:[0,-4],targetOffset:Ci},bottomLeft:{points:["tl","bl"],overflow:Ji,offset:[0,4],targetOffset:Ci},bottomCenter:{points:["tc","bc"],overflow:Ji,offset:[0,4],targetOffset:Ci},bottomRight:{points:["tr","br"],overflow:Ji,offset:[0,4],targetOffset:Ci}},It=$i,Q=w(15105),we=w(88603),Nt=Q.Z.ESC,jt=Q.Z.TAB;function gt(Oe){var Y=Oe.visible,ne=Oe.setTriggerVisible,W=Oe.triggerRef,S=Oe.onVisibleChange,A=Oe.autoFocus,L=F.useRef(!1),ce=function(){if(Y&&W.current){var ht,ct,nt,Rt;(ht=W.current)===null||ht===void 0||(ct=ht.triggerRef)===null||ct===void 0||(nt=ct.current)===null||nt===void 0||(Rt=nt.focus)===null||Rt===void 0||Rt.call(nt),ne(!1),typeof S=="function"&&S(!1)}},ve=function(){var ht,ct,nt,Rt,kt=(0,we.tS)((ht=W.current)===null||ht===void 0||(ct=ht.popupRef)===null||ct===void 0||(nt=ct.current)===null||nt===void 0||(Rt=nt.getElement)===null||Rt===void 0?void 0:Rt.call(nt)),bn=kt[0];return bn!=null&&bn.focus?(bn.focus(),L.current=!0,!0):!1},pe=function(ht){switch(ht.keyCode){case Nt:ce();break;case jt:{var ct=!1;L.current||(ct=ve()),ct?ht.preventDefault():ce();break}}};F.useEffect(function(){return Y?(window.addEventListener("keydown",pe),A&&(0,Ye.Z)(ve,3),function(){window.removeEventListener("keydown",pe),L.current=!1}):function(){L.current=!1}},[Y])}var Je=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function pt(Oe,Y){var ne=Oe.arrow,W=ne===void 0?!1:ne,S=Oe.prefixCls,A=S===void 0?"rc-dropdown":S,L=Oe.transitionName,ce=Oe.animation,ve=Oe.align,pe=Oe.placement,Ee=pe===void 0?"bottomLeft":pe,ht=Oe.placements,ct=ht===void 0?It:ht,nt=Oe.getPopupContainer,Rt=Oe.showAction,kt=Oe.hideAction,bn=Oe.overlayClassName,pn=Oe.overlayStyle,Lt=Oe.visible,Bt=Oe.trigger,In=Bt===void 0?["hover"]:Bt,Zn=Oe.autoFocus,sr=(0,Ae.Z)(Oe,Je),ni=F.useState(),mi=(0,fe.Z)(ni,2),Rr=mi[0],ai=mi[1],li="visible"in Oe?Lt:Rr,wi=F.useRef(null);F.useImperativeHandle(Y,function(){return wi.current}),gt({visible:li,setTriggerVisible:ai,triggerRef:wi,onVisibleChange:Oe.onVisibleChange,autoFocus:Zn});var Ct=function(){var Se=Oe.overlay,wt;return typeof Se=="function"?wt=Se():wt=Se,wt},Zt=function(Se){var wt=Oe.onOverlayClick;ai(!1),wt&&wt(Se)},Pr=function(Se){var wt=Oe.onVisibleChange;ai(Se),typeof wt=="function"&&wt(Se)},Gn=function(){var Se=Ct();return F.createElement(F.Fragment,null,W&&F.createElement("div",{className:"".concat(A,"-arrow")}),Se)},vr=function(){var Se=Oe.overlay;return typeof Se=="function"?Gn:Gn()},$r=function(){var Se=Oe.minOverlayWidthMatchTrigger,wt=Oe.alignPoint;return"minOverlayWidthMatchTrigger"in Oe?Se:!wt},At=function(){var Se=Oe.openClassName;return Se!==void 0?Se:"".concat(A,"-open")},Be=function(){var Se=Oe.children,wt=Se.props?Se.props:{},Gt=Ze()(wt.className,At());return li&&Se?F.cloneElement(Se,{className:Gt}):Se},Re=kt;return!Re&&In.indexOf("contextMenu")!==-1&&(Re=["click"]),F.createElement(Lr.Z,(0,k.Z)((0,k.Z)({builtinPlacements:ct},sr),{},{prefixCls:A,ref:wi,popupClassName:Ze()(bn,(0,B.Z)({},"".concat(A,"-show-arrow"),W)),popupStyle:pn,action:In,showAction:Rt,hideAction:Re||[],popupPlacement:Ee,popupAlign:ve,popupTransitionName:L,popupAnimation:ce,popupVisible:li,stretch:$r()?"minWidth":"",popup:vr(),onPopupVisibleChange:Pr,onPopupClick:Zt,getPopupContainer:nt}),Be())}var rt=F.forwardRef(pt),qt=rt,Dn=w(97868);function _n(Oe,Y){var ne=Oe.prefixCls,W=Oe.id,S=Oe.tabs,A=Oe.locale,L=Oe.mobile,ce=Oe.moreIcon,ve=ce===void 0?"More":ce,pe=Oe.moreTransitionName,Ee=Oe.style,ht=Oe.className,ct=Oe.editable,nt=Oe.tabBarGutter,Rt=Oe.rtl,kt=Oe.removeAriaLabel,bn=Oe.onTabClick,pn=Oe.getPopupContainer,Lt=Oe.popupClassName,Bt=(0,F.useState)(!1),In=(0,fe.Z)(Bt,2),Zn=In[0],sr=In[1],ni=(0,F.useState)(null),mi=(0,fe.Z)(ni,2),Rr=mi[0],ai=mi[1],li="".concat(W,"-more-popup"),wi="".concat(ne,"-dropdown"),Ct=Rr!==null?"".concat(li,"-").concat(Rr):null,Zt=A==null?void 0:A.dropdownAriaLabel;function Pr(Fe,Se){Fe.preventDefault(),Fe.stopPropagation(),ct.onEdit("remove",{key:Se,event:Fe})}var Gn=F.createElement(Dn.ZP,{onClick:function(Se){var wt=Se.key,Gt=Se.domEvent;bn(wt,Gt),sr(!1)},prefixCls:"".concat(wi,"-menu"),id:li,tabIndex:-1,role:"listbox","aria-activedescendant":Ct,selectedKeys:[Rr],"aria-label":Zt!==void 0?Zt:"expanded dropdown"},S.map(function(Fe){var Se=ct&&Fe.closable!==!1&&!Fe.disabled;return F.createElement(Dn.sN,{key:Fe.key,id:"".concat(li,"-").concat(Fe.key),role:"option","aria-controls":W&&"".concat(W,"-panel-").concat(Fe.key),disabled:Fe.disabled},F.createElement("span",null,Fe.label),Se&&F.createElement("button",{type:"button","aria-label":kt||"remove",tabIndex:0,className:"".concat(wi,"-menu-item-remove"),onClick:function(Gt){Gt.stopPropagation(),Pr(Gt,Fe.key)}},Fe.closeIcon||ct.removeIcon||"\xD7"))}));function vr(Fe){for(var Se=S.filter(function(_e){return!_e.disabled}),wt=Se.findIndex(function(_e){return _e.key===Rr})||0,Gt=Se.length,Sn=0;Sn<Gt;Sn+=1){wt=(wt+Fe+Gt)%Gt;var Un=Se[wt];if(!Un.disabled){ai(Un.key);return}}}function $r(Fe){var Se=Fe.which;if(!Zn){[Q.Z.DOWN,Q.Z.SPACE,Q.Z.ENTER].includes(Se)&&(sr(!0),Fe.preventDefault());return}switch(Se){case Q.Z.UP:vr(-1),Fe.preventDefault();break;case Q.Z.DOWN:vr(1),Fe.preventDefault();break;case Q.Z.ESC:sr(!1);break;case Q.Z.SPACE:case Q.Z.ENTER:Rr!==null&&bn(Rr,Fe);break}}(0,F.useEffect)(function(){var Fe=document.getElementById(Ct);Fe&&Fe.scrollIntoView&&Fe.scrollIntoView(!1)},[Rr]),(0,F.useEffect)(function(){Zn||ai(null)},[Zn]);var At=(0,B.Z)({},Rt?"marginRight":"marginLeft",nt);S.length||(At.visibility="hidden",At.order=1);var Be=Ze()((0,B.Z)({},"".concat(wi,"-rtl"),Rt)),Re=L?null:F.createElement(qt,{prefixCls:wi,overlay:Gn,trigger:["hover"],visible:S.length?Zn:!1,transitionName:pe,onVisibleChange:sr,overlayClassName:Ze()(Be,Lt),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:pn},F.createElement("button",{type:"button",className:"".concat(ne,"-nav-more"),style:At,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":li,id:"".concat(W,"-more"),"aria-expanded":Zn,onKeyDown:$r},ve));return F.createElement("div",{className:Ze()("".concat(ne,"-nav-operations"),ht),style:Ee,ref:Y},Re,F.createElement(dr,{prefixCls:ne,locale:A,editable:ct}))}var Wr=F.memo(F.forwardRef(_n),function(Oe,Y){return Y.tabMoving});function Qn(Oe){var Y,ne=Oe.prefixCls,W=Oe.id,S=Oe.active,A=Oe.tab,L=A.key,ce=A.label,ve=A.disabled,pe=A.closeIcon,Ee=Oe.closable,ht=Oe.renderWrapper,ct=Oe.removeAriaLabel,nt=Oe.editable,Rt=Oe.onClick,kt=Oe.onFocus,bn=Oe.style,pn="".concat(ne,"-tab"),Lt=nt&&Ee!==!1&&!ve;function Bt(sr){ve||Rt(sr)}function In(sr){sr.preventDefault(),sr.stopPropagation(),nt.onEdit("remove",{key:L,event:sr})}var Zn=F.createElement("div",{key:L,"data-node-key":Yr(L),className:Ze()(pn,(Y={},(0,B.Z)(Y,"".concat(pn,"-with-remove"),Lt),(0,B.Z)(Y,"".concat(pn,"-active"),S),(0,B.Z)(Y,"".concat(pn,"-disabled"),ve),Y)),style:bn,onClick:Bt},F.createElement("div",{role:"tab","aria-selected":S,id:W&&"".concat(W,"-tab-").concat(L),className:"".concat(pn,"-btn"),"aria-controls":W&&"".concat(W,"-panel-").concat(L),"aria-disabled":ve,tabIndex:ve?null:0,onClick:function(ni){ni.stopPropagation(),Bt(ni)},onKeyDown:function(ni){[Q.Z.SPACE,Q.Z.ENTER].includes(ni.which)&&(ni.preventDefault(),Bt(ni))},onFocus:kt},ce),Lt&&F.createElement("button",{type:"button","aria-label":ct||"remove",tabIndex:0,className:"".concat(pn,"-remove"),onClick:function(ni){ni.stopPropagation(),In(ni)}},pe||nt.removeIcon||"\xD7"));return ht?ht(Zn):Zn}var it=Qn,mn=function(Y){var ne=Y.current||{},W=ne.offsetWidth,S=W===void 0?0:W,A=ne.offsetHeight,L=A===void 0?0:A;return[S,L]},kn=function(Y,ne){return Y[ne?0:1]};function gr(Oe,Y){var ne,W=F.useContext(mt),S=W.prefixCls,A=W.tabs,L=Oe.className,ce=Oe.style,ve=Oe.id,pe=Oe.animated,Ee=Oe.activeKey,ht=Oe.rtl,ct=Oe.extra,nt=Oe.editable,Rt=Oe.locale,kt=Oe.tabPosition,bn=Oe.tabBarGutter,pn=Oe.children,Lt=Oe.onTabClick,Bt=Oe.onTabScroll,In=(0,F.useRef)(),Zn=(0,F.useRef)(),sr=(0,F.useRef)(),ni=(0,F.useRef)(),mi=(0,F.useRef)(),Rr=(0,F.useRef)(),ai=(0,F.useRef)(),li=kt==="top"||kt==="bottom",wi=pr(0,function(Ft,Qt){li&&Bt&&Bt({direction:Ft>Qt?"left":"right"})}),Ct=(0,fe.Z)(wi,2),Zt=Ct[0],Pr=Ct[1],Gn=pr(0,function(Ft,Qt){!li&&Bt&&Bt({direction:Ft>Qt?"top":"bottom"})}),vr=(0,fe.Z)(Gn,2),$r=vr[0],At=vr[1],Be=(0,F.useState)([0,0]),Re=(0,fe.Z)(Be,2),Fe=Re[0],Se=Re[1],wt=(0,F.useState)([0,0]),Gt=(0,fe.Z)(wt,2),Sn=Gt[0],Un=Gt[1],_e=(0,F.useState)([0,0]),We=(0,fe.Z)(_e,2),Ve=We[0],Dt=We[1],An=(0,F.useState)([0,0]),on=(0,fe.Z)(An,2),et=on[0],Tn=on[1],zt=tn(new Map),Xn=(0,fe.Z)(zt,2),cr=Xn[0],ii=Xn[1],ui=mr(A,cr,Sn[0]),Mr=kn(Fe,li),jr=kn(Sn,li),eo=kn(Ve,li),yi=kn(et,li),ci=Mr<jr+eo,Si=ci?Mr-yi:Mr-eo,Li="".concat(S,"-nav-operations-hidden"),to=0,Kr=0;li&&ht?(to=0,Kr=Math.max(0,jr-Si)):(to=Math.min(0,Si-jr),Kr=0);function gs(Ft){return Ft<to?to:Ft>Kr?Kr:Ft}var Cs=(0,F.useRef)(),es=(0,F.useState)(),cs=(0,fe.Z)(es,2),To=cs[0],Do=cs[1];function Ko(){Do(Date.now())}function os(){window.clearTimeout(Cs.current)}$e(ni,function(Ft,Qt){function Ht($n,Vn){$n(function(Er){var io=gs(Er+Vn);return io})}return ci?(li?Ht(Pr,Ft):Ht(At,Qt),os(),Ko(),!0):!1}),(0,F.useEffect)(function(){return os(),To&&(Cs.current=window.setTimeout(function(){Do(0)},100)),os},[To]);var _=Or(ui,Si,li?Zt:$r,jr,eo,yi,(0,k.Z)((0,k.Z)({},Oe),{},{tabs:A})),K=(0,fe.Z)(_,2),he=K[0],ye=K[1],Ue=(0,ft.Z)(function(){var Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ee,Qt=ui.get(Ft)||{width:0,height:0,left:0,right:0,top:0};if(li){var Ht=Zt;ht?Qt.right<Zt?Ht=Qt.right:Qt.right+Qt.width>Zt+Si&&(Ht=Qt.right+Qt.width-Si):Qt.left<-Zt?Ht=-Qt.left:Qt.left+Qt.width>-Zt+Si&&(Ht=-(Qt.left+Qt.width-Si)),At(0),Pr(gs(Ht))}else{var $n=$r;Qt.top<-$r?$n=-Qt.top:Qt.top+Qt.height>-$r+Si&&($n=-(Qt.top+Qt.height-Si)),Pr(0),At(gs($n))}}),He={};kt==="top"||kt==="bottom"?He[ht?"marginRight":"marginLeft"]=bn:He.marginTop=bn;var dt=A.map(function(Ft,Qt){var Ht=Ft.key;return F.createElement(it,{id:ve,prefixCls:S,key:Ht,tab:Ft,style:Qt===0?void 0:He,closable:Ft.closable,editable:nt,active:Ht===Ee,renderWrapper:pn,removeAriaLabel:Rt==null?void 0:Rt.removeAriaLabel,onClick:function(Vn){Lt(Ht,Vn)},onFocus:function(){Ue(Ht),Ko(),ni.current&&(ht||(ni.current.scrollLeft=0),ni.current.scrollTop=0)}})}),wn=function(){return ii(function(){var Qt=new Map;return A.forEach(function(Ht){var $n,Vn=Ht.key,Er=($n=mi.current)===null||$n===void 0?void 0:$n.querySelector('[data-node-key="'.concat(Yr(Vn),'"]'));Er&&Qt.set(Vn,{width:Er.offsetWidth,height:Er.offsetHeight,left:Er.offsetLeft,top:Er.offsetTop})}),Qt})};(0,F.useEffect)(function(){wn()},[A.map(function(Ft){return Ft.key}).join("_")]);var gn=Jt(function(){var Ft=mn(In),Qt=mn(Zn),Ht=mn(sr);Se([Ft[0]-Qt[0]-Ht[0],Ft[1]-Qt[1]-Ht[1]]);var $n=mn(ai);Dt($n);var Vn=mn(Rr);Tn(Vn);var Er=mn(mi);Un([Er[0]-$n[0],Er[1]-$n[1]]),wn()}),Pn=A.slice(0,he),zr=A.slice(ye+1),Gr=[].concat((0,ut.Z)(Pn),(0,ut.Z)(zr)),Hr=(0,F.useState)(),bi=(0,fe.Z)(Hr,2),Vo=bi[0],Uo=bi[1],Zo=ui.get(Ee),Ns=(0,F.useRef)();function Ms(){Ye.Z.cancel(Ns.current)}(0,F.useEffect)(function(){var Ft={};return Zo&&(li?(ht?Ft.right=Zo.right:Ft.left=Zo.left,Ft.width=Zo.width):(Ft.top=Zo.top,Ft.height=Zo.height)),Ms(),Ns.current=(0,Ye.Z)(function(){Uo(Ft)}),Ms},[Zo,li,ht]),(0,F.useEffect)(function(){Ue()},[Ee,to,Kr,Fr(Zo),Fr(ui),li]),(0,F.useEffect)(function(){gn()},[ht]);var No=!!Gr.length,ws="".concat(S,"-nav-wrap"),Hi,ms,Pt,ot;return li?ht?(ms=Zt>0,Hi=Zt!==Kr):(Hi=Zt<0,ms=Zt!==to):(Pt=$r<0,ot=$r!==to),F.createElement(vn.Z,{onResize:gn},F.createElement("div",{ref:(0,Cn.x1)(Y,In),role:"tablist",className:Ze()("".concat(S,"-nav"),L),style:ce,onKeyDown:function(){Ko()}},F.createElement(nr,{ref:Zn,position:"left",extra:ct,prefixCls:S}),F.createElement("div",{className:Ze()(ws,(ne={},(0,B.Z)(ne,"".concat(ws,"-ping-left"),Hi),(0,B.Z)(ne,"".concat(ws,"-ping-right"),ms),(0,B.Z)(ne,"".concat(ws,"-ping-top"),Pt),(0,B.Z)(ne,"".concat(ws,"-ping-bottom"),ot),ne)),ref:ni},F.createElement(vn.Z,{onResize:gn},F.createElement("div",{ref:mi,className:"".concat(S,"-nav-list"),style:{transform:"translate(".concat(Zt,"px, ").concat($r,"px)"),transition:To?"none":void 0}},dt,F.createElement(dr,{ref:ai,prefixCls:S,locale:Rt,editable:nt,style:(0,k.Z)((0,k.Z)({},dt.length===0?void 0:He),{},{visibility:No?"hidden":null})}),F.createElement("div",{className:Ze()("".concat(S,"-ink-bar"),(0,B.Z)({},"".concat(S,"-ink-bar-animated"),pe.inkBar)),style:Vo})))),F.createElement(Wr,(0,M.Z)({},Oe,{removeAriaLabel:Rt==null?void 0:Rt.removeAriaLabel,ref:Rr,prefixCls:S,tabs:Gr,className:!No&&Li,tabMoving:!!To})),F.createElement(nr,{ref:sr,position:"right",extra:ct,prefixCls:S})))}var kr=F.forwardRef(gr),Ei=["renderTabBar"],er=["label","key"];function Tt(Oe){var Y=Oe.renderTabBar,ne=(0,Ae.Z)(Oe,Ei),W=F.useContext(mt),S=W.tabs;if(Y){var A=(0,k.Z)((0,k.Z)({},ne),{},{panes:S.map(function(L){var ce=L.label,ve=L.key,pe=(0,Ae.Z)(L,er);return F.createElement(Vt,(0,M.Z)({tab:ce,key:ve,tabKey:ve},pe))})});return Y(A,kr)}return F.createElement(kr,ne)}var sn=w(80334);function _t(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},Y;return Oe===!1?Y={inkBar:!1,tabPane:!1}:Oe===!0?Y={inkBar:!0,tabPane:!1}:Y=(0,k.Z)({inkBar:!0},(0,Ce.Z)(Oe)==="object"?Oe:{}),Y.tabPaneMotion&&Y.tabPane===void 0&&(Y.tabPane=!0),!Y.tabPaneMotion&&Y.tabPane&&(Y.tabPane=!1),Y}var Ut=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],Rn=0;function Cr(Oe,Y){var ne,W=Oe.id,S=Oe.prefixCls,A=S===void 0?"rc-tabs":S,L=Oe.className,ce=Oe.items,ve=Oe.direction,pe=Oe.activeKey,Ee=Oe.defaultActiveKey,ht=Oe.editable,ct=Oe.animated,nt=Oe.tabPosition,Rt=nt===void 0?"top":nt,kt=Oe.tabBarGutter,bn=Oe.tabBarStyle,pn=Oe.tabBarExtraContent,Lt=Oe.locale,Bt=Oe.moreIcon,In=Oe.moreTransitionName,Zn=Oe.destroyInactiveTabPane,sr=Oe.renderTabBar,ni=Oe.onChange,mi=Oe.onTabClick,Rr=Oe.onTabScroll,ai=Oe.getPopupContainer,li=Oe.popupClassName,wi=(0,Ae.Z)(Oe,Ut),Ct=F.useMemo(function(){return(ce||[]).filter(function(zt){return zt&&(0,Ce.Z)(zt)==="object"&&"key"in zt})},[ce]),Zt=ve==="rtl",Pr=_t(ct),Gn=(0,F.useState)(!1),vr=(0,fe.Z)(Gn,2),$r=vr[0],At=vr[1];(0,F.useEffect)(function(){At((0,Pe.Z)())},[]);var Be=(0,ie.Z)(function(){var zt;return(zt=Ct[0])===null||zt===void 0?void 0:zt.key},{value:pe,defaultValue:Ee}),Re=(0,fe.Z)(Be,2),Fe=Re[0],Se=Re[1],wt=(0,F.useState)(function(){return Ct.findIndex(function(zt){return zt.key===Fe})}),Gt=(0,fe.Z)(wt,2),Sn=Gt[0],Un=Gt[1];(0,F.useEffect)(function(){var zt=Ct.findIndex(function(cr){return cr.key===Fe});if(zt===-1){var Xn;zt=Math.max(0,Math.min(Sn,Ct.length-1)),Se((Xn=Ct[zt])===null||Xn===void 0?void 0:Xn.key)}Un(zt)},[Ct.map(function(zt){return zt.key}).join("_"),Fe,Sn]);var _e=(0,ie.Z)(null,{value:W}),We=(0,fe.Z)(_e,2),Ve=We[0],Dt=We[1];(0,F.useEffect)(function(){W||(Dt("rc-tabs-".concat(Rn)),Rn+=1)},[]);function An(zt,Xn){mi==null||mi(zt,Xn);var cr=zt!==Fe;Se(zt),cr&&(ni==null||ni(zt))}var on={id:Ve,activeKey:Fe,animated:Pr,tabPosition:Rt,rtl:Zt,mobile:$r},et,Tn=(0,k.Z)((0,k.Z)({},on),{},{editable:ht,locale:Lt,moreIcon:Bt,moreTransitionName:In,tabBarGutter:kt,onTabClick:An,onTabScroll:Rr,extra:pn,style:bn,panes:null,getPopupContainer:ai,popupClassName:li});return F.createElement(mt.Provider,{value:{tabs:Ct,prefixCls:A}},F.createElement("div",(0,M.Z)({ref:Y,id:W,className:Ze()(A,"".concat(A,"-").concat(Rt),(ne={},(0,B.Z)(ne,"".concat(A,"-mobile"),$r),(0,B.Z)(ne,"".concat(A,"-editable"),ht),(0,B.Z)(ne,"".concat(A,"-rtl"),Zt),ne),L)},wi),et,F.createElement(Tt,(0,M.Z)({},Tn,{renderTabBar:sr})),F.createElement(tt,(0,M.Z)({destroyInactiveTabPane:Zn},on,{animated:Pr}))))}var si=F.forwardRef(Cr),tr=si,xn=tr,Hn=w(53124),Kn=w(97647),yn=w(33603),Sr={motionAppear:!1,motionEnter:!0,motionLeave:!0};function yr(Oe){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},ne;return Y===!1?ne={inkBar:!1,tabPane:!1}:Y===!0?ne={inkBar:!0,tabPane:!0}:ne=(0,M.Z)({inkBar:!0},(0,Ce.Z)(Y)==="object"?Y:{}),ne.tabPane&&(ne.tabPaneMotion=(0,M.Z)((0,M.Z)({},Sr),{motionName:(0,yn.mL)(Oe,"switch")})),ne}var Tr=w(50344),rn=function(Oe,Y){var ne={};for(var W in Oe)Object.prototype.hasOwnProperty.call(Oe,W)&&Y.indexOf(W)<0&&(ne[W]=Oe[W]);if(Oe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,W=Object.getOwnPropertySymbols(Oe);S<W.length;S++)Y.indexOf(W[S])<0&&Object.prototype.propertyIsEnumerable.call(Oe,W[S])&&(ne[W[S]]=Oe[W[S]]);return ne};function hn(Oe){return Oe.filter(function(Y){return Y})}function or(Oe,Y){if(Oe)return Oe;var ne=(0,Tr.Z)(Y).map(function(W){if(F.isValidElement(W)){var S=W.key,A=W.props,L=A||{},ce=L.tab,ve=rn(L,["tab"]),pe=(0,M.Z)((0,M.Z)({key:String(S)},ve),{label:ce});return pe}return null});return hn(ne)}var Ke=function(){return null},Xe=Ke,je=function(Oe,Y){var ne={};for(var W in Oe)Object.prototype.hasOwnProperty.call(Oe,W)&&Y.indexOf(W)<0&&(ne[W]=Oe[W]);if(Oe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,W=Object.getOwnPropertySymbols(Oe);S<W.length;S++)Y.indexOf(W[S])<0&&Object.prototype.propertyIsEnumerable.call(Oe,W[S])&&(ne[W[S]]=Oe[W[S]]);return ne};function me(Oe){var Y=Oe.type,ne=Oe.className,W=Oe.size,S=Oe.onEdit,A=Oe.hideAdd,L=Oe.centered,ce=Oe.addIcon,ve=Oe.children,pe=Oe.items,Ee=Oe.animated,ht=je(Oe,["type","className","size","onEdit","hideAdd","centered","addIcon","children","items","animated"]),ct=ht.prefixCls,nt=ht.moreIcon,Rt=nt===void 0?F.createElement(R.Z,null):nt,kt=F.useContext(Hn.E_),bn=kt.getPrefixCls,pn=kt.direction,Lt=kt.getPopupContainer,Bt=bn("tabs",ct),In;Y==="editable-card"&&(In={onEdit:function(Rr,ai){var li=ai.key,wi=ai.event;S==null||S(Rr==="add"?wi:li,Rr)},removeIcon:F.createElement(j.Z,null),addIcon:ce||F.createElement(re,null),showAdd:A!==!0});var Zn=bn(),sr=or(pe,ve),ni=yr(Bt,Ee);return F.createElement(Kn.Z.Consumer,null,function(mi){var Rr=W!==void 0?W:mi;return F.createElement(xn,(0,M.Z)({direction:pn,getPopupContainer:Lt,moreTransitionName:"".concat(Zn,"-slide-up")},ht,{items:sr,className:Ze()((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)({},"".concat(Bt,"-").concat(Rr),Rr),"".concat(Bt,"-card"),["card","editable-card"].includes(Y)),"".concat(Bt,"-editable-card"),Y==="editable-card"),"".concat(Bt,"-centered"),L),ne),editable:In,moreIcon:Rt,prefixCls:Bt,animated:ni}))})}me.TabPane=Xe;var ze=me},84908:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return vn}});var B=w(4942),M=w(97685),j=w(87462),R=w(93967),k=w.n(R),F=w(71002),H=w(1413),I=w(45987),ee=w(67294),ae=w(11276),ue=w(43159);function re(ft){var Ye=ft.showArrow,Cn=ft.arrowContent,cn=ft.children,mr=ft.prefixCls,pr=ft.id,hr=ft.overlayInnerStyle,Mt=ft.className,yt=ft.style;return ee.createElement("div",{className:k()("".concat(mr,"-content"),Mt),style:yt},Ye!==!1&&ee.createElement("div",{className:"".concat(mr,"-arrow"),key:"arrow"},Cn),ee.createElement("div",{className:"".concat(mr,"-inner"),id:pr,role:"tooltip",style:hr},typeof cn=="function"?cn():cn))}var ge=function(Ye,Cn){var cn=Ye.overlayClassName,mr=Ye.trigger,pr=mr===void 0?["hover"]:mr,hr=Ye.mouseEnterDelay,Mt=hr===void 0?0:hr,yt=Ye.mouseLeaveDelay,Et=yt===void 0?.1:yt,$e=Ye.overlayStyle,$t=Ye.prefixCls,Jt=$t===void 0?"rc-tooltip":$t,tn=Ye.children,ir=Ye.onVisibleChange,Or=Ye.afterVisibleChange,Fr=Ye.transitionName,lr=Ye.animation,Yr=Ye.motion,jn=Ye.placement,dr=jn===void 0?"right":jn,br=Ye.align,nr=br===void 0?{}:br,Lr=Ye.destroyTooltipOnHide,Ji=Lr===void 0?!1:Lr,Ci=Ye.defaultVisible,$i=Ye.getTooltipContainer,It=Ye.overlayInnerStyle,Q=Ye.arrowContent,we=Ye.overlay,Nt=Ye.id,jt=Ye.showArrow,gt=(0,I.Z)(Ye,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),Je=(0,ee.useRef)(null);(0,ee.useImperativeHandle)(Cn,function(){return Je.current});var pt=(0,H.Z)({},gt);"visible"in Ye&&(pt.popupVisible=Ye.visible);var rt=function(){return ee.createElement(re,{showArrow:jt,arrowContent:Q,key:"content",prefixCls:Jt,id:Nt,overlayInnerStyle:It},we)},qt=!1,Dn=!1;if(typeof Ji=="boolean")qt=Ji;else if(Ji&&(0,F.Z)(Ji)==="object"){var _n=Ji.keepParent;qt=_n===!0,Dn=_n===!1}return ee.createElement(ae.Z,(0,j.Z)({popupClassName:cn,prefixCls:Jt,popup:rt,action:pr,builtinPlacements:ue.C,popupPlacement:dr,ref:Je,popupAlign:nr,getPopupContainer:$i,onPopupVisibleChange:ir,afterPopupVisibleChange:Or,popupTransitionName:Fr,popupAnimation:lr,popupMotion:Yr,defaultPopupVisible:Ci,destroyPopupOnHide:qt,autoDestroy:Dn,mouseLeaveDelay:Et,popupStyle:$e,mouseEnterDelay:Mt},pt),tn)},Ze=(0,ee.forwardRef)(ge),fe=Ze,Ce=w(21770),Ae=w(53124),Pe=w(98787),ie=w(33603),at=w(80636),mt=w(96159),vt=function(ft,Ye){var Cn={};for(var cn in ft)Object.prototype.hasOwnProperty.call(ft,cn)&&Ye.indexOf(cn)<0&&(Cn[cn]=ft[cn]);if(ft!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mr=0,cn=Object.getOwnPropertySymbols(ft);mr<cn.length;mr++)Ye.indexOf(cn[mr])<0&&Object.prototype.propertyIsEnumerable.call(ft,cn[mr])&&(Cn[cn[mr]]=ft[cn[mr]]);return Cn},Vt=function(Ye,Cn){var cn={},mr=(0,j.Z)({},Ye);return Cn.forEach(function(pr){Ye&&pr in Ye&&(cn[pr]=Ye[pr],delete mr[pr])}),{picked:cn,omitted:mr}},U=new RegExp("^(".concat(Pe.Y.join("|"),")(-inverse)?$"));function tt(ft,Ye){var Cn=ft.type;if((Cn.__ANT_BUTTON===!0||ft.type==="button")&&ft.props.disabled||Cn.__ANT_SWITCH===!0&&(ft.props.disabled||ft.props.loading)||Cn.__ANT_RADIO===!0&&ft.props.disabled){var cn=Vt(ft.props.style,["position","left","right","top","bottom","float","display","zIndex"]),mr=cn.picked,pr=cn.omitted,hr=(0,j.Z)((0,j.Z)({display:"inline-block"},mr),{cursor:"not-allowed",width:ft.props.block?"100%":void 0}),Mt=(0,j.Z)((0,j.Z)({},pr),{pointerEvents:"none"}),yt=(0,mt.Tm)(ft,{style:Mt,className:null});return ee.createElement("span",{style:hr,className:k()(ft.props.className,"".concat(Ye,"-disabled-compatible-wrapper"))},yt)}return ft}var ut=ee.forwardRef(function(ft,Ye){var Cn=ee.useContext(Ae.E_),cn=Cn.getPopupContainer,mr=Cn.getPrefixCls,pr=Cn.direction,hr=(0,Ce.Z)(!1,{value:ft.open!==void 0?ft.open:ft.visible,defaultValue:ft.defaultOpen!==void 0?ft.defaultOpen:ft.defaultVisible}),Mt=(0,M.Z)(hr,2),yt=Mt[0],Et=Mt[1],$e=function(){var Qn=ft.title,it=ft.overlay;return!Qn&&!it&&Qn!==0},$t=function(Qn){var it,mn;Et($e()?!1:Qn),$e()||((it=ft.onOpenChange)===null||it===void 0||it.call(ft,Qn),(mn=ft.onVisibleChange)===null||mn===void 0||mn.call(ft,Qn))},Jt=function(){var Qn=ft.builtinPlacements,it=ft.arrowPointAtCenter,mn=it===void 0?!1:it,kn=ft.autoAdjustOverflow,gr=kn===void 0?!0:kn;return Qn||(0,at.Z)({arrowPointAtCenter:mn,autoAdjustOverflow:gr})},tn=function(Qn,it){var mn=Jt(),kn=Object.keys(mn).find(function(Ei){var er,Tt;return mn[Ei].points[0]===((er=it.points)===null||er===void 0?void 0:er[0])&&mn[Ei].points[1]===((Tt=it.points)===null||Tt===void 0?void 0:Tt[1])});if(kn){var gr=Qn.getBoundingClientRect(),kr={top:"50%",left:"50%"};/top|Bottom/.test(kn)?kr.top="".concat(gr.height-it.offset[1],"px"):/Top|bottom/.test(kn)&&(kr.top="".concat(-it.offset[1],"px")),/left|Right/.test(kn)?kr.left="".concat(gr.width-it.offset[0],"px"):/right|Left/.test(kn)&&(kr.left="".concat(-it.offset[0],"px")),Qn.style.transformOrigin="".concat(kr.left," ").concat(kr.top)}},ir=function(){var Qn=ft.title,it=ft.overlay;return Qn===0?Qn:it||Qn||""},Or=ft.getPopupContainer,Fr=ft.placement,lr=Fr===void 0?"top":Fr,Yr=ft.mouseEnterDelay,jn=Yr===void 0?.1:Yr,dr=ft.mouseLeaveDelay,br=dr===void 0?.1:dr,nr=vt(ft,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay"]),Lr=ft.prefixCls,Ji=ft.openClassName,Ci=ft.getTooltipContainer,$i=ft.overlayClassName,It=ft.color,Q=ft.overlayInnerStyle,we=ft.children,Nt=mr("tooltip",Lr),jt=mr(),gt=yt;!("open"in ft)&&!("visible"in ft)&&$e()&&(gt=!1);var Je=tt((0,mt.l$)(we)&&!(0,mt.M2)(we)?we:ee.createElement("span",null,we),Nt),pt=Je.props,rt=!pt.className||typeof pt.className=="string"?k()(pt.className,(0,B.Z)({},Ji||"".concat(Nt,"-open"),!0)):pt.className,qt=k()($i,(0,B.Z)((0,B.Z)({},"".concat(Nt,"-rtl"),pr==="rtl"),"".concat(Nt,"-").concat(It),It&&U.test(It))),Dn=Q,_n={};return It&&!U.test(It)&&(Dn=(0,j.Z)((0,j.Z)({},Q),{background:It}),_n={"--antd-arrow-background-color":It}),ee.createElement(fe,(0,j.Z)({},nr,{placement:lr,mouseEnterDelay:jn,mouseLeaveDelay:br,prefixCls:Nt,overlayClassName:qt,getTooltipContainer:Or||Ci||cn,ref:Ye,builtinPlacements:Jt(),overlay:ir(),visible:gt,onVisibleChange:$t,onPopupAlign:tn,overlayInnerStyle:Dn,arrowContent:ee.createElement("span",{className:"".concat(Nt,"-arrow-content"),style:_n}),motion:{motionName:(0,ie.mL)(jt,"zoom-big-fast",ft.transitionName),motionDeadline:1e3}}),gt?(0,mt.Tm)(Je,{className:rt}):Je)}),vn=ut},51783:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return it}});var B=w(61257),M=w(4942),j=w(71002),R=w(87462),k=w(1413),F=w(67294),H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},I=H,ee=w(42135),ae=function(kn,gr){return F.createElement(ee.Z,(0,k.Z)((0,k.Z)({},kn),{},{ref:gr,icon:I}))},ue=F.forwardRef(ae),re=ue,ge=w(93967),Ze=w.n(ge),fe=w(53124),Ce=w(33603),Ae=4;function Pe(mn){var kn=mn.dropPosition,gr=mn.dropLevelOffset,kr=mn.prefixCls,Ei=mn.indent,er=mn.direction,Tt=er===void 0?"ltr":er,sn=Tt==="ltr"?"left":"right",_t=Tt==="ltr"?"right":"left",Ut=(0,M.Z)((0,M.Z)({},sn,-gr*Ei+Ae),_t,0);switch(kn){case-1:Ut.top=-3;break;case 1:Ut.bottom=-3;break;default:Ut.bottom=-3,Ut[sn]=Ei+Ae;break}return F.createElement("div",{style:Ut,className:"".concat(kr,"-drop-indicator")})}var ie={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},at=ie,mt=function(kn,gr){return F.createElement(ee.Z,(0,k.Z)((0,k.Z)({},kn),{},{ref:gr,icon:at}))},vt=F.forwardRef(mt),Vt=vt,U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},tt=U,ut=function(kn,gr){return F.createElement(ee.Z,(0,k.Z)((0,k.Z)({},kn),{},{ref:gr,icon:tt}))},vn=F.forwardRef(ut),ft=vn,Ye=w(50888),Cn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},cn=Cn,mr=function(kn,gr){return F.createElement(ee.Z,(0,k.Z)((0,k.Z)({},kn),{},{ref:gr,icon:cn}))},pr=F.forwardRef(mr),hr=pr,Mt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},yt=Mt,Et=function(kn,gr){return F.createElement(ee.Z,(0,k.Z)((0,k.Z)({},kn),{},{ref:gr,icon:yt}))},$e=F.forwardRef(Et),$t=$e,Jt=w(96159);function tn(mn,kn,gr,kr){var Ei=kr.isLeaf,er=kr.expanded,Tt=kr.loading;if(Tt)return F.createElement(Ye.Z,{className:"".concat(mn,"-switcher-loading-icon")});var sn;if(gr&&(0,j.Z)(gr)==="object"&&(sn=gr.showLeafIcon),Ei){if(!gr)return null;if(typeof sn!="boolean"&&sn){var _t=typeof sn=="function"?sn(kr):sn,Ut="".concat(mn,"-switcher-line-custom-icon");return(0,Jt.l$)(_t)?(0,Jt.Tm)(_t,{className:Ze()(_t.props.className||"",Ut)}):_t}return sn?F.createElement(ft,{className:"".concat(mn,"-switcher-line-icon")}):F.createElement("span",{className:"".concat(mn,"-switcher-leaf-line")})}var Rn="".concat(mn,"-switcher-icon"),Cr=typeof kn=="function"?kn(kr):kn;return(0,Jt.l$)(Cr)?(0,Jt.Tm)(Cr,{className:Ze()(Cr.props.className||"",Rn)}):Cr||(gr?er?F.createElement(hr,{className:"".concat(mn,"-switcher-line-icon")}):F.createElement($t,{className:"".concat(mn,"-switcher-line-icon")}):F.createElement(Vt,{className:Rn}))}var ir=F.forwardRef(function(mn,kn){var gr=F.useContext(fe.E_),kr=gr.getPrefixCls,Ei=gr.direction,er=gr.virtual,Tt=mn.prefixCls,sn=mn.className,_t=mn.showIcon,Ut=_t===void 0?!1:_t,Rn=mn.showLine,Cr=mn.switcherIcon,si=mn.blockNode,tr=si===void 0?!1:si,xn=mn.children,Hn=mn.checkable,Kn=Hn===void 0?!1:Hn,yn=mn.selectable,Sr=yn===void 0?!0:yn,yr=mn.draggable,Tr=mn.motion,rn=Tr===void 0?(0,R.Z)((0,R.Z)({},Ce.ZP),{motionAppear:!1}):Tr,hn=kr("tree",Tt),or=(0,R.Z)((0,R.Z)({},mn),{checkable:Kn,selectable:Sr,showIcon:Ut,motion:rn,blockNode:tr,showLine:!!Rn,dropIndicatorRender:Pe}),Ke=F.useMemo(function(){if(!yr)return!1;var Xe={};switch((0,j.Z)(yr)){case"function":Xe.nodeDraggable=yr;break;case"object":Xe=(0,R.Z)({},yr);break;default:break}return Xe.icon!==!1&&(Xe.icon=Xe.icon||F.createElement(re,null)),Xe},[yr]);return F.createElement(B.Z,(0,R.Z)({itemHeight:20,ref:kn,virtual:er},or,{prefixCls:hn,className:Ze()((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(hn,"-icon-hide"),!Ut),"".concat(hn,"-block-node"),tr),"".concat(hn,"-unselectable"),!Sr),"".concat(hn,"-rtl"),Ei==="rtl"),sn),direction:Ei,checkable:Kn&&F.createElement("span",{className:"".concat(hn,"-checkbox-inner")}),selectable:Sr,switcherIcon:function(je){return tn(hn,Cr,Rn,je)},draggable:Ke}),xn)}),Or=ir,Fr=w(74902),lr=w(97685),Yr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},jn=Yr,dr=function(kn,gr){return F.createElement(ee.Z,(0,k.Z)((0,k.Z)({},kn),{},{ref:gr,icon:jn}))},br=F.forwardRef(dr),nr=br,Lr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},Ji=Lr,Ci=function(kn,gr){return F.createElement(ee.Z,(0,k.Z)((0,k.Z)({},kn),{},{ref:gr,icon:Ji}))},$i=F.forwardRef(Ci),It=$i,Q=w(10225),we=w(1089),Nt;(function(mn){mn[mn.None=0]="None",mn[mn.Start=1]="Start",mn[mn.End=2]="End"})(Nt||(Nt={}));function jt(mn,kn){function gr(kr){var Ei=kr.key,er=kr.children;kn(Ei,kr)!==!1&&jt(er||[],kn)}mn.forEach(gr)}function gt(mn){var kn=mn.treeData,gr=mn.expandedKeys,kr=mn.startKey,Ei=mn.endKey,er=[],Tt=Nt.None;if(kr&&kr===Ei)return[kr];if(!kr||!Ei)return[];function sn(_t){return _t===kr||_t===Ei}return jt(kn,function(_t){if(Tt===Nt.End)return!1;if(sn(_t)){if(er.push(_t),Tt===Nt.None)Tt=Nt.Start;else if(Tt===Nt.Start)return Tt=Nt.End,!1}else Tt===Nt.Start&&er.push(_t);return gr.includes(_t)}),er}function Je(mn,kn){var gr=(0,Fr.Z)(kn),kr=[];return jt(mn,function(Ei,er){var Tt=gr.indexOf(Ei);return Tt!==-1&&(kr.push(er),gr.splice(Tt,1)),!!gr.length}),kr}var pt=function(mn,kn){var gr={};for(var kr in mn)Object.prototype.hasOwnProperty.call(mn,kr)&&kn.indexOf(kr)<0&&(gr[kr]=mn[kr]);if(mn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ei=0,kr=Object.getOwnPropertySymbols(mn);Ei<kr.length;Ei++)kn.indexOf(kr[Ei])<0&&Object.prototype.propertyIsEnumerable.call(mn,kr[Ei])&&(gr[kr[Ei]]=mn[kr[Ei]]);return gr};function rt(mn){var kn=mn.isLeaf,gr=mn.expanded;return kn?F.createElement(ft,null):gr?F.createElement(nr,null):F.createElement(It,null)}function qt(mn){var kn=mn.treeData,gr=mn.children;return kn||(0,we.zn)(gr)}var Dn=function(kn,gr){var kr=kn.defaultExpandAll,Ei=kn.defaultExpandParent,er=kn.defaultExpandedKeys,Tt=pt(kn,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),sn=F.useRef(),_t=F.useRef(),Ut=function(){var S=(0,we.I8)(qt(Tt)),A=S.keyEntities,L;return kr?L=Object.keys(A):Ei?L=(0,Q.r7)(Tt.expandedKeys||er||[],A):L=Tt.expandedKeys||er,L},Rn=F.useState(Tt.selectedKeys||Tt.defaultSelectedKeys||[]),Cr=(0,lr.Z)(Rn,2),si=Cr[0],tr=Cr[1],xn=F.useState(function(){return Ut()}),Hn=(0,lr.Z)(xn,2),Kn=Hn[0],yn=Hn[1];F.useEffect(function(){"selectedKeys"in Tt&&tr(Tt.selectedKeys)},[Tt.selectedKeys]),F.useEffect(function(){"expandedKeys"in Tt&&yn(Tt.expandedKeys)},[Tt.expandedKeys]);var Sr=function(S,A){var L;return"expandedKeys"in Tt||yn(S),(L=Tt.onExpand)===null||L===void 0?void 0:L.call(Tt,S,A)},yr=function(S,A){var L,ce=Tt.multiple,ve=A.node,pe=A.nativeEvent,Ee=ve.key,ht=Ee===void 0?"":Ee,ct=qt(Tt),nt=(0,R.Z)((0,R.Z)({},A),{selected:!0}),Rt=(pe==null?void 0:pe.ctrlKey)||(pe==null?void 0:pe.metaKey),kt=pe==null?void 0:pe.shiftKey,bn;ce&&Rt?(bn=S,sn.current=ht,_t.current=bn,nt.selectedNodes=Je(ct,bn)):ce&&kt?(bn=Array.from(new Set([].concat((0,Fr.Z)(_t.current||[]),(0,Fr.Z)(gt({treeData:ct,expandedKeys:Kn,startKey:ht,endKey:sn.current}))))),nt.selectedNodes=Je(ct,bn)):(bn=[ht],sn.current=ht,_t.current=bn,nt.selectedNodes=Je(ct,bn)),(L=Tt.onSelect)===null||L===void 0||L.call(Tt,bn,nt),"selectedKeys"in Tt||tr(bn)},Tr=F.useContext(fe.E_),rn=Tr.getPrefixCls,hn=Tr.direction,or=Tt.prefixCls,Ke=Tt.className,Xe=Tt.showIcon,je=Xe===void 0?!0:Xe,me=Tt.expandAction,ze=me===void 0?"click":me,Oe=pt(Tt,["prefixCls","className","showIcon","expandAction"]),Y=rn("tree",or),ne=Ze()("".concat(Y,"-directory"),(0,M.Z)({},"".concat(Y,"-directory-rtl"),hn==="rtl"),Ke);return F.createElement(Or,(0,R.Z)({icon:rt,ref:gr,blockNode:!0},Oe,{showIcon:je,expandAction:ze,prefixCls:Y,className:ne,expandedKeys:Kn,selectedKeys:si,onSelect:yr,onExpand:Sr}))},_n=F.forwardRef(Dn),Wr=_n,Qn=Or;Qn.DirectoryTree=Wr,Qn.TreeNode=B.O;var it=Qn},79742:function(Ne,te){"use strict";te.byteLength=H,te.toByteArray=ee,te.fromByteArray=re;for(var w=[],B=[],M=typeof Uint8Array!="undefined"?Uint8Array:Array,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=0,k=j.length;R<k;++R)w[R]=j[R],B[j.charCodeAt(R)]=R;B[45]=62,B[95]=63;function F(ge){var Ze=ge.length;if(Ze%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var fe=ge.indexOf("=");fe===-1&&(fe=Ze);var Ce=fe===Ze?0:4-fe%4;return[fe,Ce]}function H(ge){var Ze=F(ge),fe=Ze[0],Ce=Ze[1];return(fe+Ce)*3/4-Ce}function I(ge,Ze,fe){return(Ze+fe)*3/4-fe}function ee(ge){var Ze,fe=F(ge),Ce=fe[0],Ae=fe[1],Pe=new M(I(ge,Ce,Ae)),ie=0,at=Ae>0?Ce-4:Ce,mt;for(mt=0;mt<at;mt+=4)Ze=B[ge.charCodeAt(mt)]<<18|B[ge.charCodeAt(mt+1)]<<12|B[ge.charCodeAt(mt+2)]<<6|B[ge.charCodeAt(mt+3)],Pe[ie++]=Ze>>16&255,Pe[ie++]=Ze>>8&255,Pe[ie++]=Ze&255;return Ae===2&&(Ze=B[ge.charCodeAt(mt)]<<2|B[ge.charCodeAt(mt+1)]>>4,Pe[ie++]=Ze&255),Ae===1&&(Ze=B[ge.charCodeAt(mt)]<<10|B[ge.charCodeAt(mt+1)]<<4|B[ge.charCodeAt(mt+2)]>>2,Pe[ie++]=Ze>>8&255,Pe[ie++]=Ze&255),Pe}function ae(ge){return w[ge>>18&63]+w[ge>>12&63]+w[ge>>6&63]+w[ge&63]}function ue(ge,Ze,fe){for(var Ce,Ae=[],Pe=Ze;Pe<fe;Pe+=3)Ce=(ge[Pe]<<16&16711680)+(ge[Pe+1]<<8&65280)+(ge[Pe+2]&255),Ae.push(ae(Ce));return Ae.join("")}function re(ge){for(var Ze,fe=ge.length,Ce=fe%3,Ae=[],Pe=16383,ie=0,at=fe-Ce;ie<at;ie+=Pe)Ae.push(ue(ge,ie,ie+Pe>at?at:ie+Pe));return Ce===1?(Ze=ge[fe-1],Ae.push(w[Ze>>2]+w[Ze<<4&63]+"==")):Ce===2&&(Ze=(ge[fe-2]<<8)+ge[fe-1],Ae.push(w[Ze>>10]+w[Ze>>4&63]+w[Ze<<2&63]+"=")),Ae.join("")}},48764:function(Ne,te,w){"use strict";var B;var M=w(79742),j=w(80645),R=w(5826);te.lW=I,B=Pe,te.h2=50,I.TYPED_ARRAY_SUPPORT=w.g.TYPED_ARRAY_SUPPORT!==void 0?w.g.TYPED_ARRAY_SUPPORT:k(),B=F();function k(){try{var It=new Uint8Array(1);return It.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},It.foo()===42&&typeof It.subarray=="function"&&It.subarray(1,1).byteLength===0}catch(Q){return!1}}function F(){return I.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function H(It,Q){if(F()<Q)throw new RangeError("Invalid typed array length");return I.TYPED_ARRAY_SUPPORT?(It=new Uint8Array(Q),It.__proto__=I.prototype):(It===null&&(It=new I(Q)),It.length=Q),It}function I(It,Q,we){if(!I.TYPED_ARRAY_SUPPORT&&!(this instanceof I))return new I(It,Q,we);if(typeof It=="number"){if(typeof Q=="string")throw new Error("If encoding is specified then the first argument must be a string");return re(this,It)}return ee(this,It,Q,we)}I.poolSize=8192,I._augment=function(It){return It.__proto__=I.prototype,It};function ee(It,Q,we,Nt){if(typeof Q=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&Q instanceof ArrayBuffer?fe(It,Q,we,Nt):typeof Q=="string"?ge(It,Q,we):Ce(It,Q)}I.from=function(It,Q,we){return ee(null,It,Q,we)},I.TYPED_ARRAY_SUPPORT&&(I.prototype.__proto__=Uint8Array.prototype,I.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&I[Symbol.species]===I&&Object.defineProperty(I,Symbol.species,{value:null,configurable:!0}));function ae(It){if(typeof It!="number")throw new TypeError('"size" argument must be a number');if(It<0)throw new RangeError('"size" argument must not be negative')}function ue(It,Q,we,Nt){return ae(Q),Q<=0?H(It,Q):we!==void 0?typeof Nt=="string"?H(It,Q).fill(we,Nt):H(It,Q).fill(we):H(It,Q)}I.alloc=function(It,Q,we){return ue(null,It,Q,we)};function re(It,Q){if(ae(Q),It=H(It,Q<0?0:Ae(Q)|0),!I.TYPED_ARRAY_SUPPORT)for(var we=0;we<Q;++we)It[we]=0;return It}I.allocUnsafe=function(It){return re(null,It)},I.allocUnsafeSlow=function(It){return re(null,It)};function ge(It,Q,we){if((typeof we!="string"||we==="")&&(we="utf8"),!I.isEncoding(we))throw new TypeError('"encoding" must be a valid string encoding');var Nt=ie(Q,we)|0;It=H(It,Nt);var jt=It.write(Q,we);return jt!==Nt&&(It=It.slice(0,jt)),It}function Ze(It,Q){var we=Q.length<0?0:Ae(Q.length)|0;It=H(It,we);for(var Nt=0;Nt<we;Nt+=1)It[Nt]=Q[Nt]&255;return It}function fe(It,Q,we,Nt){if(Q.byteLength,we<0||Q.byteLength<we)throw new RangeError("'offset' is out of bounds");if(Q.byteLength<we+(Nt||0))throw new RangeError("'length' is out of bounds");return we===void 0&&Nt===void 0?Q=new Uint8Array(Q):Nt===void 0?Q=new Uint8Array(Q,we):Q=new Uint8Array(Q,we,Nt),I.TYPED_ARRAY_SUPPORT?(It=Q,It.__proto__=I.prototype):It=Ze(It,Q),It}function Ce(It,Q){if(I.isBuffer(Q)){var we=Ae(Q.length)|0;return It=H(It,we),It.length===0||Q.copy(It,0,0,we),It}if(Q){if(typeof ArrayBuffer!="undefined"&&Q.buffer instanceof ArrayBuffer||"length"in Q)return typeof Q.length!="number"||$i(Q.length)?H(It,0):Ze(It,Q);if(Q.type==="Buffer"&&R(Q.data))return Ze(It,Q.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Ae(It){if(It>=F())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+F().toString(16)+" bytes");return It|0}function Pe(It){return+It!=It&&(It=0),I.alloc(+It)}I.isBuffer=function(Q){return!!(Q!=null&&Q._isBuffer)},I.compare=function(Q,we){if(!I.isBuffer(Q)||!I.isBuffer(we))throw new TypeError("Arguments must be Buffers");if(Q===we)return 0;for(var Nt=Q.length,jt=we.length,gt=0,Je=Math.min(Nt,jt);gt<Je;++gt)if(Q[gt]!==we[gt]){Nt=Q[gt],jt=we[gt];break}return Nt<jt?-1:jt<Nt?1:0},I.isEncoding=function(Q){switch(String(Q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},I.concat=function(Q,we){if(!R(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(Q.length===0)return I.alloc(0);var Nt;if(we===void 0)for(we=0,Nt=0;Nt<Q.length;++Nt)we+=Q[Nt].length;var jt=I.allocUnsafe(we),gt=0;for(Nt=0;Nt<Q.length;++Nt){var Je=Q[Nt];if(!I.isBuffer(Je))throw new TypeError('"list" argument must be an Array of Buffers');Je.copy(jt,gt),gt+=Je.length}return jt};function ie(It,Q){if(I.isBuffer(It))return It.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(It)||It instanceof ArrayBuffer))return It.byteLength;typeof It!="string"&&(It=""+It);var we=It.length;if(we===0)return 0;for(var Nt=!1;;)switch(Q){case"ascii":case"latin1":case"binary":return we;case"utf8":case"utf-8":case void 0:return br(It).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we*2;case"hex":return we>>>1;case"base64":return Ji(It).length;default:if(Nt)return br(It).length;Q=(""+Q).toLowerCase(),Nt=!0}}I.byteLength=ie;function at(It,Q,we){var Nt=!1;if((Q===void 0||Q<0)&&(Q=0),Q>this.length||((we===void 0||we>this.length)&&(we=this.length),we<=0)||(we>>>=0,Q>>>=0,we<=Q))return"";for(It||(It="utf8");;)switch(It){case"hex":return yt(this,Q,we);case"utf8":case"utf-8":return cn(this,Q,we);case"ascii":return hr(this,Q,we);case"latin1":case"binary":return Mt(this,Q,we);case"base64":return Cn(this,Q,we);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Et(this,Q,we);default:if(Nt)throw new TypeError("Unknown encoding: "+It);It=(It+"").toLowerCase(),Nt=!0}}I.prototype._isBuffer=!0;function mt(It,Q,we){var Nt=It[Q];It[Q]=It[we],It[we]=Nt}I.prototype.swap16=function(){var Q=this.length;if(Q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var we=0;we<Q;we+=2)mt(this,we,we+1);return this},I.prototype.swap32=function(){var Q=this.length;if(Q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var we=0;we<Q;we+=4)mt(this,we,we+3),mt(this,we+1,we+2);return this},I.prototype.swap64=function(){var Q=this.length;if(Q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var we=0;we<Q;we+=8)mt(this,we,we+7),mt(this,we+1,we+6),mt(this,we+2,we+5),mt(this,we+3,we+4);return this},I.prototype.toString=function(){var Q=this.length|0;return Q===0?"":arguments.length===0?cn(this,0,Q):at.apply(this,arguments)},I.prototype.equals=function(Q){if(!I.isBuffer(Q))throw new TypeError("Argument must be a Buffer");return this===Q?!0:I.compare(this,Q)===0},I.prototype.inspect=function(){var Q="",we=te.h2;return this.length>0&&(Q=this.toString("hex",0,we).match(/.{2}/g).join(" "),this.length>we&&(Q+=" ... ")),"<Buffer "+Q+">"},I.prototype.compare=function(Q,we,Nt,jt,gt){if(!I.isBuffer(Q))throw new TypeError("Argument must be a Buffer");if(we===void 0&&(we=0),Nt===void 0&&(Nt=Q?Q.length:0),jt===void 0&&(jt=0),gt===void 0&&(gt=this.length),we<0||Nt>Q.length||jt<0||gt>this.length)throw new RangeError("out of range index");if(jt>=gt&&we>=Nt)return 0;if(jt>=gt)return-1;if(we>=Nt)return 1;if(we>>>=0,Nt>>>=0,jt>>>=0,gt>>>=0,this===Q)return 0;for(var Je=gt-jt,pt=Nt-we,rt=Math.min(Je,pt),qt=this.slice(jt,gt),Dn=Q.slice(we,Nt),_n=0;_n<rt;++_n)if(qt[_n]!==Dn[_n]){Je=qt[_n],pt=Dn[_n];break}return Je<pt?-1:pt<Je?1:0};function vt(It,Q,we,Nt,jt){if(It.length===0)return-1;if(typeof we=="string"?(Nt=we,we=0):we>2147483647?we=2147483647:we<-2147483648&&(we=-2147483648),we=+we,isNaN(we)&&(we=jt?0:It.length-1),we<0&&(we=It.length+we),we>=It.length){if(jt)return-1;we=It.length-1}else if(we<0)if(jt)we=0;else return-1;if(typeof Q=="string"&&(Q=I.from(Q,Nt)),I.isBuffer(Q))return Q.length===0?-1:Vt(It,Q,we,Nt,jt);if(typeof Q=="number")return Q=Q&255,I.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?jt?Uint8Array.prototype.indexOf.call(It,Q,we):Uint8Array.prototype.lastIndexOf.call(It,Q,we):Vt(It,[Q],we,Nt,jt);throw new TypeError("val must be string, number or Buffer")}function Vt(It,Q,we,Nt,jt){var gt=1,Je=It.length,pt=Q.length;if(Nt!==void 0&&(Nt=String(Nt).toLowerCase(),Nt==="ucs2"||Nt==="ucs-2"||Nt==="utf16le"||Nt==="utf-16le")){if(It.length<2||Q.length<2)return-1;gt=2,Je/=2,pt/=2,we/=2}function rt(Qn,it){return gt===1?Qn[it]:Qn.readUInt16BE(it*gt)}var qt;if(jt){var Dn=-1;for(qt=we;qt<Je;qt++)if(rt(It,qt)===rt(Q,Dn===-1?0:qt-Dn)){if(Dn===-1&&(Dn=qt),qt-Dn+1===pt)return Dn*gt}else Dn!==-1&&(qt-=qt-Dn),Dn=-1}else for(we+pt>Je&&(we=Je-pt),qt=we;qt>=0;qt--){for(var _n=!0,Wr=0;Wr<pt;Wr++)if(rt(It,qt+Wr)!==rt(Q,Wr)){_n=!1;break}if(_n)return qt}return-1}I.prototype.includes=function(Q,we,Nt){return this.indexOf(Q,we,Nt)!==-1},I.prototype.indexOf=function(Q,we,Nt){return vt(this,Q,we,Nt,!0)},I.prototype.lastIndexOf=function(Q,we,Nt){return vt(this,Q,we,Nt,!1)};function U(It,Q,we,Nt){we=Number(we)||0;var jt=It.length-we;Nt?(Nt=Number(Nt),Nt>jt&&(Nt=jt)):Nt=jt;var gt=Q.length;if(gt%2!==0)throw new TypeError("Invalid hex string");Nt>gt/2&&(Nt=gt/2);for(var Je=0;Je<Nt;++Je){var pt=parseInt(Q.substr(Je*2,2),16);if(isNaN(pt))return Je;It[we+Je]=pt}return Je}function tt(It,Q,we,Nt){return Ci(br(Q,It.length-we),It,we,Nt)}function ut(It,Q,we,Nt){return Ci(nr(Q),It,we,Nt)}function vn(It,Q,we,Nt){return ut(It,Q,we,Nt)}function ft(It,Q,we,Nt){return Ci(Ji(Q),It,we,Nt)}function Ye(It,Q,we,Nt){return Ci(Lr(Q,It.length-we),It,we,Nt)}I.prototype.write=function(Q,we,Nt,jt){if(we===void 0)jt="utf8",Nt=this.length,we=0;else if(Nt===void 0&&typeof we=="string")jt=we,Nt=this.length,we=0;else if(isFinite(we))we=we|0,isFinite(Nt)?(Nt=Nt|0,jt===void 0&&(jt="utf8")):(jt=Nt,Nt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var gt=this.length-we;if((Nt===void 0||Nt>gt)&&(Nt=gt),Q.length>0&&(Nt<0||we<0)||we>this.length)throw new RangeError("Attempt to write outside buffer bounds");jt||(jt="utf8");for(var Je=!1;;)switch(jt){case"hex":return U(this,Q,we,Nt);case"utf8":case"utf-8":return tt(this,Q,we,Nt);case"ascii":return ut(this,Q,we,Nt);case"latin1":case"binary":return vn(this,Q,we,Nt);case"base64":return ft(this,Q,we,Nt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ye(this,Q,we,Nt);default:if(Je)throw new TypeError("Unknown encoding: "+jt);jt=(""+jt).toLowerCase(),Je=!0}},I.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Cn(It,Q,we){return Q===0&&we===It.length?M.fromByteArray(It):M.fromByteArray(It.slice(Q,we))}function cn(It,Q,we){we=Math.min(It.length,we);for(var Nt=[],jt=Q;jt<we;){var gt=It[jt],Je=null,pt=gt>239?4:gt>223?3:gt>191?2:1;if(jt+pt<=we){var rt,qt,Dn,_n;switch(pt){case 1:gt<128&&(Je=gt);break;case 2:rt=It[jt+1],(rt&192)===128&&(_n=(gt&31)<<6|rt&63,_n>127&&(Je=_n));break;case 3:rt=It[jt+1],qt=It[jt+2],(rt&192)===128&&(qt&192)===128&&(_n=(gt&15)<<12|(rt&63)<<6|qt&63,_n>2047&&(_n<55296||_n>57343)&&(Je=_n));break;case 4:rt=It[jt+1],qt=It[jt+2],Dn=It[jt+3],(rt&192)===128&&(qt&192)===128&&(Dn&192)===128&&(_n=(gt&15)<<18|(rt&63)<<12|(qt&63)<<6|Dn&63,_n>65535&&_n<1114112&&(Je=_n))}}Je===null?(Je=65533,pt=1):Je>65535&&(Je-=65536,Nt.push(Je>>>10&1023|55296),Je=56320|Je&1023),Nt.push(Je),jt+=pt}return pr(Nt)}var mr=4096;function pr(It){var Q=It.length;if(Q<=mr)return String.fromCharCode.apply(String,It);for(var we="",Nt=0;Nt<Q;)we+=String.fromCharCode.apply(String,It.slice(Nt,Nt+=mr));return we}function hr(It,Q,we){var Nt="";we=Math.min(It.length,we);for(var jt=Q;jt<we;++jt)Nt+=String.fromCharCode(It[jt]&127);return Nt}function Mt(It,Q,we){var Nt="";we=Math.min(It.length,we);for(var jt=Q;jt<we;++jt)Nt+=String.fromCharCode(It[jt]);return Nt}function yt(It,Q,we){var Nt=It.length;(!Q||Q<0)&&(Q=0),(!we||we<0||we>Nt)&&(we=Nt);for(var jt="",gt=Q;gt<we;++gt)jt+=dr(It[gt]);return jt}function Et(It,Q,we){for(var Nt=It.slice(Q,we),jt="",gt=0;gt<Nt.length;gt+=2)jt+=String.fromCharCode(Nt[gt]+Nt[gt+1]*256);return jt}I.prototype.slice=function(Q,we){var Nt=this.length;Q=~~Q,we=we===void 0?Nt:~~we,Q<0?(Q+=Nt,Q<0&&(Q=0)):Q>Nt&&(Q=Nt),we<0?(we+=Nt,we<0&&(we=0)):we>Nt&&(we=Nt),we<Q&&(we=Q);var jt;if(I.TYPED_ARRAY_SUPPORT)jt=this.subarray(Q,we),jt.__proto__=I.prototype;else{var gt=we-Q;jt=new I(gt,void 0);for(var Je=0;Je<gt;++Je)jt[Je]=this[Je+Q]}return jt};function $e(It,Q,we){if(It%1!==0||It<0)throw new RangeError("offset is not uint");if(It+Q>we)throw new RangeError("Trying to access beyond buffer length")}I.prototype.readUIntLE=function(Q,we,Nt){Q=Q|0,we=we|0,Nt||$e(Q,we,this.length);for(var jt=this[Q],gt=1,Je=0;++Je<we&&(gt*=256);)jt+=this[Q+Je]*gt;return jt},I.prototype.readUIntBE=function(Q,we,Nt){Q=Q|0,we=we|0,Nt||$e(Q,we,this.length);for(var jt=this[Q+--we],gt=1;we>0&&(gt*=256);)jt+=this[Q+--we]*gt;return jt},I.prototype.readUInt8=function(Q,we){return we||$e(Q,1,this.length),this[Q]},I.prototype.readUInt16LE=function(Q,we){return we||$e(Q,2,this.length),this[Q]|this[Q+1]<<8},I.prototype.readUInt16BE=function(Q,we){return we||$e(Q,2,this.length),this[Q]<<8|this[Q+1]},I.prototype.readUInt32LE=function(Q,we){return we||$e(Q,4,this.length),(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+this[Q+3]*16777216},I.prototype.readUInt32BE=function(Q,we){return we||$e(Q,4,this.length),this[Q]*16777216+(this[Q+1]<<16|this[Q+2]<<8|this[Q+3])},I.prototype.readIntLE=function(Q,we,Nt){Q=Q|0,we=we|0,Nt||$e(Q,we,this.length);for(var jt=this[Q],gt=1,Je=0;++Je<we&&(gt*=256);)jt+=this[Q+Je]*gt;return gt*=128,jt>=gt&&(jt-=Math.pow(2,8*we)),jt},I.prototype.readIntBE=function(Q,we,Nt){Q=Q|0,we=we|0,Nt||$e(Q,we,this.length);for(var jt=we,gt=1,Je=this[Q+--jt];jt>0&&(gt*=256);)Je+=this[Q+--jt]*gt;return gt*=128,Je>=gt&&(Je-=Math.pow(2,8*we)),Je},I.prototype.readInt8=function(Q,we){return we||$e(Q,1,this.length),this[Q]&128?(255-this[Q]+1)*-1:this[Q]},I.prototype.readInt16LE=function(Q,we){we||$e(Q,2,this.length);var Nt=this[Q]|this[Q+1]<<8;return Nt&32768?Nt|4294901760:Nt},I.prototype.readInt16BE=function(Q,we){we||$e(Q,2,this.length);var Nt=this[Q+1]|this[Q]<<8;return Nt&32768?Nt|4294901760:Nt},I.prototype.readInt32LE=function(Q,we){return we||$e(Q,4,this.length),this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24},I.prototype.readInt32BE=function(Q,we){return we||$e(Q,4,this.length),this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]},I.prototype.readFloatLE=function(Q,we){return we||$e(Q,4,this.length),j.read(this,Q,!0,23,4)},I.prototype.readFloatBE=function(Q,we){return we||$e(Q,4,this.length),j.read(this,Q,!1,23,4)},I.prototype.readDoubleLE=function(Q,we){return we||$e(Q,8,this.length),j.read(this,Q,!0,52,8)},I.prototype.readDoubleBE=function(Q,we){return we||$e(Q,8,this.length),j.read(this,Q,!1,52,8)};function $t(It,Q,we,Nt,jt,gt){if(!I.isBuffer(It))throw new TypeError('"buffer" argument must be a Buffer instance');if(Q>jt||Q<gt)throw new RangeError('"value" argument is out of bounds');if(we+Nt>It.length)throw new RangeError("Index out of range")}I.prototype.writeUIntLE=function(Q,we,Nt,jt){if(Q=+Q,we=we|0,Nt=Nt|0,!jt){var gt=Math.pow(2,8*Nt)-1;$t(this,Q,we,Nt,gt,0)}var Je=1,pt=0;for(this[we]=Q&255;++pt<Nt&&(Je*=256);)this[we+pt]=Q/Je&255;return we+Nt},I.prototype.writeUIntBE=function(Q,we,Nt,jt){if(Q=+Q,we=we|0,Nt=Nt|0,!jt){var gt=Math.pow(2,8*Nt)-1;$t(this,Q,we,Nt,gt,0)}var Je=Nt-1,pt=1;for(this[we+Je]=Q&255;--Je>=0&&(pt*=256);)this[we+Je]=Q/pt&255;return we+Nt},I.prototype.writeUInt8=function(Q,we,Nt){return Q=+Q,we=we|0,Nt||$t(this,Q,we,1,255,0),I.TYPED_ARRAY_SUPPORT||(Q=Math.floor(Q)),this[we]=Q&255,we+1};function Jt(It,Q,we,Nt){Q<0&&(Q=65535+Q+1);for(var jt=0,gt=Math.min(It.length-we,2);jt<gt;++jt)It[we+jt]=(Q&255<<8*(Nt?jt:1-jt))>>>(Nt?jt:1-jt)*8}I.prototype.writeUInt16LE=function(Q,we,Nt){return Q=+Q,we=we|0,Nt||$t(this,Q,we,2,65535,0),I.TYPED_ARRAY_SUPPORT?(this[we]=Q&255,this[we+1]=Q>>>8):Jt(this,Q,we,!0),we+2},I.prototype.writeUInt16BE=function(Q,we,Nt){return Q=+Q,we=we|0,Nt||$t(this,Q,we,2,65535,0),I.TYPED_ARRAY_SUPPORT?(this[we]=Q>>>8,this[we+1]=Q&255):Jt(this,Q,we,!1),we+2};function tn(It,Q,we,Nt){Q<0&&(Q=4294967295+Q+1);for(var jt=0,gt=Math.min(It.length-we,4);jt<gt;++jt)It[we+jt]=Q>>>(Nt?jt:3-jt)*8&255}I.prototype.writeUInt32LE=function(Q,we,Nt){return Q=+Q,we=we|0,Nt||$t(this,Q,we,4,4294967295,0),I.TYPED_ARRAY_SUPPORT?(this[we+3]=Q>>>24,this[we+2]=Q>>>16,this[we+1]=Q>>>8,this[we]=Q&255):tn(this,Q,we,!0),we+4},I.prototype.writeUInt32BE=function(Q,we,Nt){return Q=+Q,we=we|0,Nt||$t(this,Q,we,4,4294967295,0),I.TYPED_ARRAY_SUPPORT?(this[we]=Q>>>24,this[we+1]=Q>>>16,this[we+2]=Q>>>8,this[we+3]=Q&255):tn(this,Q,we,!1),we+4},I.prototype.writeIntLE=function(Q,we,Nt,jt){if(Q=+Q,we=we|0,!jt){var gt=Math.pow(2,8*Nt-1);$t(this,Q,we,Nt,gt-1,-gt)}var Je=0,pt=1,rt=0;for(this[we]=Q&255;++Je<Nt&&(pt*=256);)Q<0&&rt===0&&this[we+Je-1]!==0&&(rt=1),this[we+Je]=(Q/pt>>0)-rt&255;return we+Nt},I.prototype.writeIntBE=function(Q,we,Nt,jt){if(Q=+Q,we=we|0,!jt){var gt=Math.pow(2,8*Nt-1);$t(this,Q,we,Nt,gt-1,-gt)}var Je=Nt-1,pt=1,rt=0;for(this[we+Je]=Q&255;--Je>=0&&(pt*=256);)Q<0&&rt===0&&this[we+Je+1]!==0&&(rt=1),this[we+Je]=(Q/pt>>0)-rt&255;return we+Nt},I.prototype.writeInt8=function(Q,we,Nt){return Q=+Q,we=we|0,Nt||$t(this,Q,we,1,127,-128),I.TYPED_ARRAY_SUPPORT||(Q=Math.floor(Q)),Q<0&&(Q=255+Q+1),this[we]=Q&255,we+1},I.prototype.writeInt16LE=function(Q,we,Nt){return Q=+Q,we=we|0,Nt||$t(this,Q,we,2,32767,-32768),I.TYPED_ARRAY_SUPPORT?(this[we]=Q&255,this[we+1]=Q>>>8):Jt(this,Q,we,!0),we+2},I.prototype.writeInt16BE=function(Q,we,Nt){return Q=+Q,we=we|0,Nt||$t(this,Q,we,2,32767,-32768),I.TYPED_ARRAY_SUPPORT?(this[we]=Q>>>8,this[we+1]=Q&255):Jt(this,Q,we,!1),we+2},I.prototype.writeInt32LE=function(Q,we,Nt){return Q=+Q,we=we|0,Nt||$t(this,Q,we,4,2147483647,-2147483648),I.TYPED_ARRAY_SUPPORT?(this[we]=Q&255,this[we+1]=Q>>>8,this[we+2]=Q>>>16,this[we+3]=Q>>>24):tn(this,Q,we,!0),we+4},I.prototype.writeInt32BE=function(Q,we,Nt){return Q=+Q,we=we|0,Nt||$t(this,Q,we,4,2147483647,-2147483648),Q<0&&(Q=4294967295+Q+1),I.TYPED_ARRAY_SUPPORT?(this[we]=Q>>>24,this[we+1]=Q>>>16,this[we+2]=Q>>>8,this[we+3]=Q&255):tn(this,Q,we,!1),we+4};function ir(It,Q,we,Nt,jt,gt){if(we+Nt>It.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("Index out of range")}function Or(It,Q,we,Nt,jt){return jt||ir(It,Q,we,4,34028234663852886e22,-34028234663852886e22),j.write(It,Q,we,Nt,23,4),we+4}I.prototype.writeFloatLE=function(Q,we,Nt){return Or(this,Q,we,!0,Nt)},I.prototype.writeFloatBE=function(Q,we,Nt){return Or(this,Q,we,!1,Nt)};function Fr(It,Q,we,Nt,jt){return jt||ir(It,Q,we,8,17976931348623157e292,-17976931348623157e292),j.write(It,Q,we,Nt,52,8),we+8}I.prototype.writeDoubleLE=function(Q,we,Nt){return Fr(this,Q,we,!0,Nt)},I.prototype.writeDoubleBE=function(Q,we,Nt){return Fr(this,Q,we,!1,Nt)},I.prototype.copy=function(Q,we,Nt,jt){if(Nt||(Nt=0),!jt&&jt!==0&&(jt=this.length),we>=Q.length&&(we=Q.length),we||(we=0),jt>0&&jt<Nt&&(jt=Nt),jt===Nt||Q.length===0||this.length===0)return 0;if(we<0)throw new RangeError("targetStart out of bounds");if(Nt<0||Nt>=this.length)throw new RangeError("sourceStart out of bounds");if(jt<0)throw new RangeError("sourceEnd out of bounds");jt>this.length&&(jt=this.length),Q.length-we<jt-Nt&&(jt=Q.length-we+Nt);var gt=jt-Nt,Je;if(this===Q&&Nt<we&&we<jt)for(Je=gt-1;Je>=0;--Je)Q[Je+we]=this[Je+Nt];else if(gt<1e3||!I.TYPED_ARRAY_SUPPORT)for(Je=0;Je<gt;++Je)Q[Je+we]=this[Je+Nt];else Uint8Array.prototype.set.call(Q,this.subarray(Nt,Nt+gt),we);return gt},I.prototype.fill=function(Q,we,Nt,jt){if(typeof Q=="string"){if(typeof we=="string"?(jt=we,we=0,Nt=this.length):typeof Nt=="string"&&(jt=Nt,Nt=this.length),Q.length===1){var gt=Q.charCodeAt(0);gt<256&&(Q=gt)}if(jt!==void 0&&typeof jt!="string")throw new TypeError("encoding must be a string");if(typeof jt=="string"&&!I.isEncoding(jt))throw new TypeError("Unknown encoding: "+jt)}else typeof Q=="number"&&(Q=Q&255);if(we<0||this.length<we||this.length<Nt)throw new RangeError("Out of range index");if(Nt<=we)return this;we=we>>>0,Nt=Nt===void 0?this.length:Nt>>>0,Q||(Q=0);var Je;if(typeof Q=="number")for(Je=we;Je<Nt;++Je)this[Je]=Q;else{var pt=I.isBuffer(Q)?Q:br(new I(Q,jt).toString()),rt=pt.length;for(Je=0;Je<Nt-we;++Je)this[Je+we]=pt[Je%rt]}return this};var lr=/[^+\/0-9A-Za-z-_]/g;function Yr(It){if(It=jn(It).replace(lr,""),It.length<2)return"";for(;It.length%4!==0;)It=It+"=";return It}function jn(It){return It.trim?It.trim():It.replace(/^\s+|\s+$/g,"")}function dr(It){return It<16?"0"+It.toString(16):It.toString(16)}function br(It,Q){Q=Q||1/0;for(var we,Nt=It.length,jt=null,gt=[],Je=0;Je<Nt;++Je){if(we=It.charCodeAt(Je),we>55295&&we<57344){if(!jt){if(we>56319){(Q-=3)>-1&&gt.push(239,191,189);continue}else if(Je+1===Nt){(Q-=3)>-1&&gt.push(239,191,189);continue}jt=we;continue}if(we<56320){(Q-=3)>-1&&gt.push(239,191,189),jt=we;continue}we=(jt-55296<<10|we-56320)+65536}else jt&&(Q-=3)>-1&&gt.push(239,191,189);if(jt=null,we<128){if((Q-=1)<0)break;gt.push(we)}else if(we<2048){if((Q-=2)<0)break;gt.push(we>>6|192,we&63|128)}else if(we<65536){if((Q-=3)<0)break;gt.push(we>>12|224,we>>6&63|128,we&63|128)}else if(we<1114112){if((Q-=4)<0)break;gt.push(we>>18|240,we>>12&63|128,we>>6&63|128,we&63|128)}else throw new Error("Invalid code point")}return gt}function nr(It){for(var Q=[],we=0;we<It.length;++we)Q.push(It.charCodeAt(we)&255);return Q}function Lr(It,Q){for(var we,Nt,jt,gt=[],Je=0;Je<It.length&&!((Q-=2)<0);++Je)we=It.charCodeAt(Je),Nt=we>>8,jt=we%256,gt.push(jt),gt.push(Nt);return gt}function Ji(It){return M.toByteArray(Yr(It))}function Ci(It,Q,we,Nt){for(var jt=0;jt<Nt&&!(jt+we>=Q.length||jt>=It.length);++jt)Q[jt+we]=It[jt];return jt}function $i(It){return It!==It}},5627:function(Ne){Ne.exports=te;function te(w,B,M){return B<M?w<B?B:w>M?M:w:w<M?M:w>B?B:w}},89550:function(Ne){Ne.exports=te;function te(w,B,M){return w[0]=B[0]+M[0],w[1]=B[1]+M[1],w}},62189:function(Ne){Ne.exports=te;function te(w,B){return w[0]=Math.ceil(B[0]),w[1]=Math.ceil(B[1]),w}},76057:function(Ne){Ne.exports=te;function te(w){var B=new Float32Array(2);return B[0]=w[0],B[1]=w[1],B}},3492:function(Ne){Ne.exports=te;function te(w,B){return w[0]=B[0],w[1]=B[1],w}},61589:function(Ne){Ne.exports=te;function te(){var w=new Float32Array(2);return w[0]=0,w[1]=0,w}},77741:function(Ne){Ne.exports=te;function te(w,B,M){var j=B[0]*M[1]-B[1]*M[0];return w[0]=w[1]=0,w[2]=j,w}},80278:function(Ne,te,w){Ne.exports=w(27953)},27953:function(Ne){Ne.exports=te;function te(w,B){var M=B[0]-w[0],j=B[1]-w[1];return Math.sqrt(M*M+j*j)}},49973:function(Ne,te,w){Ne.exports=w(6773)},6773:function(Ne){Ne.exports=te;function te(w,B,M){return w[0]=B[0]/M[0],w[1]=B[1]/M[1],w}},56601:function(Ne){Ne.exports=te;function te(w,B){return w[0]*B[0]+w[1]*B[1]}},89936:function(Ne){Ne.exports=1e-6},51232:function(Ne,te,w){Ne.exports=M;var B=w(89936);function M(j,R){var k=j[0],F=j[1],H=R[0],I=R[1];return Math.abs(k-H)<=B*Math.max(1,Math.abs(k),Math.abs(H))&&Math.abs(F-I)<=B*Math.max(1,Math.abs(F),Math.abs(I))}},39546:function(Ne){Ne.exports=te;function te(w,B){return w[0]===B[0]&&w[1]===B[1]}},67744:function(Ne){Ne.exports=te;function te(w,B){return w[0]=Math.floor(B[0]),w[1]=Math.floor(B[1]),w}},49002:function(Ne,te,w){Ne.exports=M;var B=w(61589)();function M(j,R,k,F,H,I){var ee,ae;for(R||(R=2),k||(k=0),F?ae=Math.min(F*R+k,j.length):ae=j.length,ee=k;ee<ae;ee+=R)B[0]=j[ee],B[1]=j[ee+1],H(B,B,I),j[ee]=B[0],j[ee+1]=B[1];return j}},31649:function(Ne){Ne.exports=te;function te(w,B){var M=new Float32Array(2);return M[0]=w,M[1]=B,M}},32644:function(Ne,te,w){Ne.exports={EPSILON:w(89936),create:w(61589),clone:w(76057),fromValues:w(31649),copy:w(3492),set:w(68854),equals:w(51232),exactEquals:w(39546),add:w(89550),subtract:w(43650),sub:w(45222),multiply:w(79920),mul:w(23113),divide:w(6773),div:w(49973),inverse:w(83793),min:w(20676),max:w(97899),rotate:w(48677),floor:w(67744),ceil:w(62189),round:w(57074),scale:w(47838),scaleAndAdd:w(21066),distance:w(27953),dist:w(80278),squaredDistance:w(14290),sqrDist:w(79569),length:w(37781),len:w(8123),squaredLength:w(26791),sqrLen:w(1791),negate:w(90549),normalize:w(36820),dot:w(56601),cross:w(77741),lerp:w(20577),random:w(85773),transformMat2:w(904),transformMat2d:w(60736),transformMat3:w(60221),transformMat4:w(37674),forEach:w(49002),limit:w(82418)}},83793:function(Ne){Ne.exports=te;function te(w,B){return w[0]=1/B[0],w[1]=1/B[1],w}},8123:function(Ne,te,w){Ne.exports=w(37781)},37781:function(Ne){Ne.exports=te;function te(w){var B=w[0],M=w[1];return Math.sqrt(B*B+M*M)}},20577:function(Ne){Ne.exports=te;function te(w,B,M,j){var R=B[0],k=B[1];return w[0]=R+j*(M[0]-R),w[1]=k+j*(M[1]-k),w}},82418:function(Ne){Ne.exports=te;function te(w,B,M){var j=B[0]*B[0]+B[1]*B[1];if(j>M*M){var R=Math.sqrt(j);w[0]=B[0]/R*M,w[1]=B[1]/R*M}else w[0]=B[0],w[1]=B[1];return w}},97899:function(Ne){Ne.exports=te;function te(w,B,M){return w[0]=Math.max(B[0],M[0]),w[1]=Math.max(B[1],M[1]),w}},20676:function(Ne){Ne.exports=te;function te(w,B,M){return w[0]=Math.min(B[0],M[0]),w[1]=Math.min(B[1],M[1]),w}},23113:function(Ne,te,w){Ne.exports=w(79920)},79920:function(Ne){Ne.exports=te;function te(w,B,M){return w[0]=B[0]*M[0],w[1]=B[1]*M[1],w}},90549:function(Ne){Ne.exports=te;function te(w,B){return w[0]=-B[0],w[1]=-B[1],w}},36820:function(Ne){Ne.exports=te;function te(w,B){var M=B[0],j=B[1],R=M*M+j*j;return R>0&&(R=1/Math.sqrt(R),w[0]=B[0]*R,w[1]=B[1]*R),w}},85773:function(Ne){Ne.exports=te;function te(w,B){B=B||1;var M=Math.random()*2*Math.PI;return w[0]=Math.cos(M)*B,w[1]=Math.sin(M)*B,w}},48677:function(Ne){Ne.exports=te;function te(w,B,M){var j=Math.cos(M),R=Math.sin(M),k=B[0],F=B[1];return w[0]=k*j-F*R,w[1]=k*R+F*j,w}},57074:function(Ne){Ne.exports=te;function te(w,B){return w[0]=Math.round(B[0]),w[1]=Math.round(B[1]),w}},47838:function(Ne){Ne.exports=te;function te(w,B,M){return w[0]=B[0]*M,w[1]=B[1]*M,w}},21066:function(Ne){Ne.exports=te;function te(w,B,M,j){return w[0]=B[0]+M[0]*j,w[1]=B[1]+M[1]*j,w}},68854:function(Ne){Ne.exports=te;function te(w,B,M){return w[0]=B,w[1]=M,w}},79569:function(Ne,te,w){Ne.exports=w(14290)},1791:function(Ne,te,w){Ne.exports=w(26791)},14290:function(Ne){Ne.exports=te;function te(w,B){var M=B[0]-w[0],j=B[1]-w[1];return M*M+j*j}},26791:function(Ne){Ne.exports=te;function te(w){var B=w[0],M=w[1];return B*B+M*M}},45222:function(Ne,te,w){Ne.exports=w(43650)},43650:function(Ne){Ne.exports=te;function te(w,B,M){return w[0]=B[0]-M[0],w[1]=B[1]-M[1],w}},904:function(Ne){Ne.exports=te;function te(w,B,M){var j=B[0],R=B[1];return w[0]=M[0]*j+M[2]*R,w[1]=M[1]*j+M[3]*R,w}},60736:function(Ne){Ne.exports=te;function te(w,B,M){var j=B[0],R=B[1];return w[0]=M[0]*j+M[2]*R+M[4],w[1]=M[1]*j+M[3]*R+M[5],w}},60221:function(Ne){Ne.exports=te;function te(w,B,M){var j=B[0],R=B[1];return w[0]=M[0]*j+M[3]*R+M[6],w[1]=M[1]*j+M[4]*R+M[7],w}},37674:function(Ne){Ne.exports=te;function te(w,B,M){var j=B[0],R=B[1];return w[0]=M[0]*j+M[4]*R+M[12],w[1]=M[1]*j+M[5]*R+M[13],w}},80645:function(Ne,te){te.read=function(w,B,M,j,R){var k,F,H=R*8-j-1,I=(1<<H)-1,ee=I>>1,ae=-7,ue=M?R-1:0,re=M?-1:1,ge=w[B+ue];for(ue+=re,k=ge&(1<<-ae)-1,ge>>=-ae,ae+=H;ae>0;k=k*256+w[B+ue],ue+=re,ae-=8);for(F=k&(1<<-ae)-1,k>>=-ae,ae+=j;ae>0;F=F*256+w[B+ue],ue+=re,ae-=8);if(k===0)k=1-ee;else{if(k===I)return F?NaN:(ge?-1:1)*(1/0);F=F+Math.pow(2,j),k=k-ee}return(ge?-1:1)*F*Math.pow(2,k-j)},te.write=function(w,B,M,j,R,k){var F,H,I,ee=k*8-R-1,ae=(1<<ee)-1,ue=ae>>1,re=R===23?Math.pow(2,-24)-Math.pow(2,-77):0,ge=j?0:k-1,Ze=j?1:-1,fe=B<0||B===0&&1/B<0?1:0;for(B=Math.abs(B),isNaN(B)||B===1/0?(H=isNaN(B)?1:0,F=ae):(F=Math.floor(Math.log(B)/Math.LN2),B*(I=Math.pow(2,-F))<1&&(F--,I*=2),F+ue>=1?B+=re/I:B+=re*Math.pow(2,1-ue),B*I>=2&&(F++,I/=2),F+ue>=ae?(H=0,F=ae):F+ue>=1?(H=(B*I-1)*Math.pow(2,R),F=F+ue):(H=B*Math.pow(2,ue-1)*Math.pow(2,R),F=0));R>=8;w[M+ge]=H&255,ge+=Ze,H/=256,R-=8);for(F=F<<R|H,ee+=R;ee>0;w[M+ge]=F&255,ge+=Ze,F/=256,ee-=8);w[M+ge-Ze]|=fe*128}},7375:function(Ne,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0});var w=Symbol.for("INJECTION");function B(F,H,I,ee){function ae(){return ee&&!Reflect.hasMetadata(w,this,H)&&Reflect.defineMetadata(w,I(),this,H),Reflect.hasMetadata(w,this,H)?Reflect.getMetadata(w,this,H):I()}function ue(re){Reflect.defineMetadata(w,re,this,H)}Object.defineProperty(F,H,{configurable:!0,enumerable:!0,get:ae,set:ue})}function M(F,H){return function(I){return function(ee,ae){var ue=function(){return F.get(I)};B(ee,ae,ue,H)}}}te.makePropertyInjectDecorator=M;function j(F,H){return function(I,ee){return function(ae,ue){var re=function(){return F.getNamed(I,ee)};B(ae,ue,re,H)}}}te.makePropertyInjectNamedDecorator=j;function R(F,H){return function(I,ee,ae){return function(ue,re){var ge=function(){return F.getTagged(I,ee,ae)};B(ue,re,ge,H)}}}te.makePropertyInjectTaggedDecorator=R;function k(F,H){return function(I){return function(ee,ae){var ue=function(){return F.getAll(I)};B(ee,ae,ue,H)}}}te.makePropertyMultiInjectDecorator=k},84879:function(Ne,te,w){"use strict";var B;B={value:!0};var M=w(7375);function j(R,k){k===void 0&&(k=!0);var F=M.makePropertyInjectDecorator(R,k),H=M.makePropertyInjectNamedDecorator(R,k),I=M.makePropertyInjectTaggedDecorator(R,k),ee=M.makePropertyMultiInjectDecorator(R,k);return{lazyInject:F,lazyInjectNamed:H,lazyInjectTagged:I,lazyMultiInject:ee}}te.Z=j},99934:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.tagProperty=te.tagParameter=te.decorate=void 0;var B=w(16674),M=w(6867);function j(ee,ae,ue,re){var ge=M.TAGGED;k(ge,ee,ae,re,ue)}te.tagParameter=j;function R(ee,ae,ue){var re=M.TAGGED_PROP;k(re,ee.constructor,ae,ue)}te.tagProperty=R;function k(ee,ae,ue,re,ge){var Ze={},fe=typeof ge=="number",Ce=ge!==void 0&&fe?ge.toString():ue;if(fe&&ue!==void 0)throw new Error(B.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(ee,ae)&&(Ze=Reflect.getMetadata(ee,ae));var Ae=Ze[Ce];if(!Array.isArray(Ae))Ae=[];else for(var Pe=0,ie=Ae;Pe<ie.length;Pe++){var at=ie[Pe];if(at.key===re.key)throw new Error(B.DUPLICATED_METADATA+" "+at.key.toString())}Ae.push(re),Ze[Ce]=Ae,Reflect.defineMetadata(ee,Ze,ae)}function F(ee,ae){Reflect.decorate(ee,ae)}function H(ee,ae){return function(ue,re){ae(ue,re,ee)}}function I(ee,ae,ue){typeof ue=="number"?F([H(ue,ee)],ae):typeof ue=="string"?Reflect.decorate([ee],ae,ue):F([ee],ae)}te.decorate=I},5744:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.inject=te.LazyServiceIdentifer=void 0;var B=w(16674),M=w(6867),j=w(47738),R=w(99934),k=function(){function H(I){this._cb=I}return H.prototype.unwrap=function(){return this._cb()},H}();te.LazyServiceIdentifer=k;function F(H){return function(I,ee,ae){if(H===void 0)throw new Error(B.UNDEFINED_INJECT_ANNOTATION(I.name));var ue=new j.Metadata(M.INJECT_TAG,H);typeof ae=="number"?R.tagParameter(I,ee,ae,ue):R.tagProperty(I,ee,ue)}}te.inject=F},64315:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.injectable=void 0;var B=w(16674),M=w(6867);function j(){return function(R){if(Reflect.hasOwnMetadata(M.PARAM_TYPES,R))throw new Error(B.DUPLICATED_INJECTABLE_DECORATOR);var k=Reflect.getMetadata(M.DESIGN_PARAM_TYPES,R)||[];return Reflect.defineMetadata(M.PARAM_TYPES,k,R),R}}te.injectable=j},71693:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.multiInject=void 0;var B=w(6867),M=w(47738),j=w(99934);function R(k){return function(F,H,I){var ee=new M.Metadata(B.MULTI_INJECT_TAG,k);typeof I=="number"?j.tagParameter(F,H,I,ee):j.tagProperty(F,H,ee)}}te.multiInject=R},38085:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.named=void 0;var B=w(6867),M=w(47738),j=w(99934);function R(k){return function(F,H,I){var ee=new M.Metadata(B.NAMED_TAG,k);typeof I=="number"?j.tagParameter(F,H,I,ee):j.tagProperty(F,H,ee)}}te.named=R},6515:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.optional=void 0;var B=w(6867),M=w(47738),j=w(99934);function R(){return function(k,F,H){var I=new M.Metadata(B.OPTIONAL_TAG,!0);typeof H=="number"?j.tagParameter(k,F,H,I):j.tagProperty(k,F,I)}}te.optional=R},7014:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.postConstruct=void 0;var B=w(16674),M=w(6867),j=w(47738);function R(){return function(k,F,H){var I=new j.Metadata(M.POST_CONSTRUCT,F);if(Reflect.hasOwnMetadata(M.POST_CONSTRUCT,k.constructor))throw new Error(B.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(M.POST_CONSTRUCT,I,k.constructor)}}te.postConstruct=R},32052:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.tagged=void 0;var B=w(47738),M=w(99934);function j(R,k){return function(F,H,I){var ee=new B.Metadata(R,k);typeof I=="number"?M.tagParameter(F,H,I,ee):M.tagProperty(F,H,ee)}}te.tagged=j},55638:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.targetName=void 0;var B=w(6867),M=w(47738),j=w(99934);function R(k){return function(F,H,I){var ee=new M.Metadata(B.NAME_TAG,k);j.tagParameter(F,H,I,ee)}}te.targetName=R},86757:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.unmanaged=void 0;var B=w(6867),M=w(47738),j=w(99934);function R(){return function(k,F,H){var I=new M.Metadata(B.UNMANAGED_TAG,!0);j.tagParameter(k,F,H,I)}}te.unmanaged=R},44290:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.Binding=void 0;var B=w(28421),M=w(37791),j=function(){function R(k,F){this.id=M.id(),this.activated=!1,this.serviceIdentifier=k,this.scope=F,this.type=B.BindingTypeEnum.Invalid,this.constraint=function(H){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return R.prototype.clone=function(){var k=new R(this.serviceIdentifier,this.scope);return k.activated=k.scope===B.BindingScopeEnum.Singleton?this.activated:!1,k.implementationType=this.implementationType,k.dynamicValue=this.dynamicValue,k.scope=this.scope,k.type=this.type,k.factory=this.factory,k.provider=this.provider,k.constraint=this.constraint,k.onActivation=this.onActivation,k.cache=this.cache,k},R}();te.Binding=j},23184:function(Ne,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.BindingCount=void 0;var w={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};te.BindingCount=w},16674:function(Ne,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.STACK_OVERFLOW=te.CIRCULAR_DEPENDENCY_IN_FACTORY=te.POST_CONSTRUCT_ERROR=te.MULTIPLE_POST_CONSTRUCT_METHODS=te.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=te.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=te.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=te.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=te.ARGUMENTS_LENGTH_MISMATCH=te.INVALID_DECORATOR_OPERATION=te.INVALID_TO_SELF_VALUE=te.INVALID_FUNCTION_BINDING=te.INVALID_MIDDLEWARE_RETURN=te.NO_MORE_SNAPSHOTS_AVAILABLE=te.INVALID_BINDING_TYPE=te.NOT_IMPLEMENTED=te.CIRCULAR_DEPENDENCY=te.UNDEFINED_INJECT_ANNOTATION=te.MISSING_INJECT_ANNOTATION=te.MISSING_INJECTABLE_ANNOTATION=te.NOT_REGISTERED=te.CANNOT_UNBIND=te.AMBIGUOUS_MATCH=te.KEY_NOT_FOUND=te.NULL_ARGUMENT=te.DUPLICATED_METADATA=te.DUPLICATED_INJECTABLE_DECORATOR=void 0,te.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",te.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",te.NULL_ARGUMENT="NULL argument",te.KEY_NOT_FOUND="Key Not Found",te.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",te.CANNOT_UNBIND="Could not unbind serviceIdentifier:",te.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",te.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",te.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var w=function(R){return"@inject called with undefined this could mean that the class "+R+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};te.UNDEFINED_INJECT_ANNOTATION=w,te.CIRCULAR_DEPENDENCY="Circular dependency found:",te.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",te.INVALID_BINDING_TYPE="Invalid binding type:",te.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",te.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",te.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",te.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",te.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var B=function(){for(var R=[],k=0;k<arguments.length;k++)R[k]=arguments[k];return"The number of constructor arguments in the derived class "+(R[0]+" must be >= than the number of constructor arguments of its base class.")};te.ARGUMENTS_LENGTH_MISMATCH=B,te.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",te.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",te.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",te.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",te.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";var M=function(){for(var R=[],k=0;k<arguments.length;k++)R[k]=arguments[k];return"@postConstruct error in class "+R[0]+": "+R[1]};te.POST_CONSTRUCT_ERROR=M;var j=function(){for(var R=[],k=0;k<arguments.length;k++)R[k]=arguments[k];return"It looks like there is a circular dependency "+("in one of the '"+R[0]+"' bindings. Please investigate bindings with")+("service identifier '"+R[1]+"'.")};te.CIRCULAR_DEPENDENCY_IN_FACTORY=j,te.STACK_OVERFLOW="Maximum call stack size exceeded"},28421:function(Ne,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.TargetTypeEnum=te.BindingTypeEnum=te.BindingScopeEnum=void 0;var w={Request:"Request",Singleton:"Singleton",Transient:"Transient"};te.BindingScopeEnum=w;var B={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};te.BindingTypeEnum=B;var M={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};te.TargetTypeEnum=M},6867:function(Ne,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.NON_CUSTOM_TAG_KEYS=te.POST_CONSTRUCT=te.DESIGN_PARAM_TYPES=te.PARAM_TYPES=te.TAGGED_PROP=te.TAGGED=te.MULTI_INJECT_TAG=te.INJECT_TAG=te.OPTIONAL_TAG=te.UNMANAGED_TAG=te.NAME_TAG=te.NAMED_TAG=void 0,te.NAMED_TAG="named",te.NAME_TAG="name",te.UNMANAGED_TAG="unmanaged",te.OPTIONAL_TAG="optional",te.INJECT_TAG="inject",te.MULTI_INJECT_TAG="multi_inject",te.TAGGED="inversify:tagged",te.TAGGED_PROP="inversify:tagged_props",te.PARAM_TYPES="inversify:paramtypes",te.DESIGN_PARAM_TYPES="design:paramtypes",te.POST_CONSTRUCT="post_construct";function w(){return[te.INJECT_TAG,te.MULTI_INJECT_TAG,te.NAME_TAG,te.UNMANAGED_TAG,te.NAMED_TAG,te.OPTIONAL_TAG]}te.NON_CUSTOM_TAG_KEYS=w()},51389:function(Ne,te,w){"use strict";var B=this&&this.__awaiter||function(Ae,Pe,ie,at){function mt(vt){return vt instanceof ie?vt:new ie(function(Vt){Vt(vt)})}return new(ie||(ie=Promise))(function(vt,Vt){function U(vn){try{ut(at.next(vn))}catch(ft){Vt(ft)}}function tt(vn){try{ut(at.throw(vn))}catch(ft){Vt(ft)}}function ut(vn){vn.done?vt(vn.value):mt(vn.value).then(U,tt)}ut((at=at.apply(Ae,Pe||[])).next())})},M=this&&this.__generator||function(Ae,Pe){var ie={label:0,sent:function(){if(vt[0]&1)throw vt[1];return vt[1]},trys:[],ops:[]},at,mt,vt,Vt;return Vt={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(Vt[Symbol.iterator]=function(){return this}),Vt;function U(ut){return function(vn){return tt([ut,vn])}}function tt(ut){if(at)throw new TypeError("Generator is already executing.");for(;ie;)try{if(at=1,mt&&(vt=ut[0]&2?mt.return:ut[0]?mt.throw||((vt=mt.return)&&vt.call(mt),0):mt.next)&&!(vt=vt.call(mt,ut[1])).done)return vt;switch(mt=0,vt&&(ut=[ut[0]&2,vt.value]),ut[0]){case 0:case 1:vt=ut;break;case 4:return ie.label++,{value:ut[1],done:!1};case 5:ie.label++,mt=ut[1],ut=[0];continue;case 7:ut=ie.ops.pop(),ie.trys.pop();continue;default:if(vt=ie.trys,!(vt=vt.length>0&&vt[vt.length-1])&&(ut[0]===6||ut[0]===2)){ie=0;continue}if(ut[0]===3&&(!vt||ut[1]>vt[0]&&ut[1]<vt[3])){ie.label=ut[1];break}if(ut[0]===6&&ie.label<vt[1]){ie.label=vt[1],vt=ut;break}if(vt&&ie.label<vt[2]){ie.label=vt[2],ie.ops.push(ut);break}vt[2]&&ie.ops.pop(),ie.trys.pop();continue}ut=Pe.call(Ae,ie)}catch(vn){ut=[6,vn],mt=0}finally{at=vt=0}if(ut[0]&5)throw ut[1];return{value:ut[0]?ut[1]:void 0,done:!0}}},j=this&&this.__spreadArray||function(Ae,Pe){for(var ie=0,at=Pe.length,mt=Ae.length;ie<at;ie++,mt++)Ae[mt]=Pe[ie];return Ae};Object.defineProperty(te,"__esModule",{value:!0}),te.Container=void 0;var R=w(44290),k=w(16674),F=w(28421),H=w(6867),I=w(51377),ee=w(86311),ae=w(7478),ue=w(51860),re=w(37791),ge=w(55800),Ze=w(85700),fe=w(80175),Ce=function(){function Ae(Pe){this._appliedMiddleware=[];var ie=Pe||{};if(typeof ie!="object")throw new Error(""+k.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(ie.defaultScope===void 0)ie.defaultScope=F.BindingScopeEnum.Transient;else if(ie.defaultScope!==F.BindingScopeEnum.Singleton&&ie.defaultScope!==F.BindingScopeEnum.Transient&&ie.defaultScope!==F.BindingScopeEnum.Request)throw new Error(""+k.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(ie.autoBindInjectable===void 0)ie.autoBindInjectable=!1;else if(typeof ie.autoBindInjectable!="boolean")throw new Error(""+k.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(ie.skipBaseClassChecks===void 0)ie.skipBaseClassChecks=!1;else if(typeof ie.skipBaseClassChecks!="boolean")throw new Error(""+k.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:ie.autoBindInjectable,defaultScope:ie.defaultScope,skipBaseClassChecks:ie.skipBaseClassChecks},this.id=re.id(),this._bindingDictionary=new fe.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new I.MetadataReader}return Ae.merge=function(Pe,ie){for(var at=[],mt=2;mt<arguments.length;mt++)at[mt-2]=arguments[mt];var vt=new Ae,Vt=j([Pe,ie],at).map(function(ut){return ee.getBindingDictionary(ut)}),U=ee.getBindingDictionary(vt);function tt(ut,vn){ut.traverse(function(ft,Ye){Ye.forEach(function(Cn){vn.add(Cn.serviceIdentifier,Cn.clone())})})}return Vt.forEach(function(ut){tt(ut,U)}),vt},Ae.prototype.load=function(){for(var Pe=[],ie=0;ie<arguments.length;ie++)Pe[ie]=arguments[ie];for(var at=this._getContainerModuleHelpersFactory(),mt=0,vt=Pe;mt<vt.length;mt++){var Vt=vt[mt],U=at(Vt.id);Vt.registry(U.bindFunction,U.unbindFunction,U.isboundFunction,U.rebindFunction)}},Ae.prototype.loadAsync=function(){for(var Pe=[],ie=0;ie<arguments.length;ie++)Pe[ie]=arguments[ie];return B(this,void 0,void 0,function(){var at,mt,vt,Vt,U;return M(this,function(tt){switch(tt.label){case 0:at=this._getContainerModuleHelpersFactory(),mt=0,vt=Pe,tt.label=1;case 1:return mt<vt.length?(Vt=vt[mt],U=at(Vt.id),[4,Vt.registry(U.bindFunction,U.unbindFunction,U.isboundFunction,U.rebindFunction)]):[3,4];case 2:tt.sent(),tt.label=3;case 3:return mt++,[3,1];case 4:return[2]}})})},Ae.prototype.unload=function(){for(var Pe=this,ie=[],at=0;at<arguments.length;at++)ie[at]=arguments[at];var mt=function(vt){return function(Vt){return Vt.moduleId===vt}};ie.forEach(function(vt){var Vt=mt(vt.id);Pe._bindingDictionary.removeByCondition(Vt)})},Ae.prototype.bind=function(Pe){var ie=this.options.defaultScope||F.BindingScopeEnum.Transient,at=new R.Binding(Pe,ie);return this._bindingDictionary.add(Pe,at),new ue.BindingToSyntax(at)},Ae.prototype.rebind=function(Pe){return this.unbind(Pe),this.bind(Pe)},Ae.prototype.unbind=function(Pe){try{this._bindingDictionary.remove(Pe)}catch(ie){throw new Error(k.CANNOT_UNBIND+" "+ge.getServiceIdentifierAsString(Pe))}},Ae.prototype.unbindAll=function(){this._bindingDictionary=new fe.Lookup},Ae.prototype.isBound=function(Pe){var ie=this._bindingDictionary.hasKey(Pe);return!ie&&this.parent&&(ie=this.parent.isBound(Pe)),ie},Ae.prototype.isBoundNamed=function(Pe,ie){return this.isBoundTagged(Pe,H.NAMED_TAG,ie)},Ae.prototype.isBoundTagged=function(Pe,ie,at){var mt=!1;if(this._bindingDictionary.hasKey(Pe)){var vt=this._bindingDictionary.get(Pe),Vt=ee.createMockRequest(this,Pe,ie,at);mt=vt.some(function(U){return U.constraint(Vt)})}return!mt&&this.parent&&(mt=this.parent.isBoundTagged(Pe,ie,at)),mt},Ae.prototype.snapshot=function(){this._snapshots.push(Ze.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},Ae.prototype.restore=function(){var Pe=this._snapshots.pop();if(Pe===void 0)throw new Error(k.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=Pe.bindings,this._middleware=Pe.middleware},Ae.prototype.createChild=function(Pe){var ie=new Ae(Pe||this.options);return ie.parent=this,ie},Ae.prototype.applyMiddleware=function(){for(var Pe=[],ie=0;ie<arguments.length;ie++)Pe[ie]=arguments[ie];this._appliedMiddleware=this._appliedMiddleware.concat(Pe);var at=this._middleware?this._middleware:this._planAndResolve();this._middleware=Pe.reduce(function(mt,vt){return vt(mt)},at)},Ae.prototype.applyCustomMetadataReader=function(Pe){this._metadataReader=Pe},Ae.prototype.get=function(Pe){return this._get(!1,!1,F.TargetTypeEnum.Variable,Pe)},Ae.prototype.getTagged=function(Pe,ie,at){return this._get(!1,!1,F.TargetTypeEnum.Variable,Pe,ie,at)},Ae.prototype.getNamed=function(Pe,ie){return this.getTagged(Pe,H.NAMED_TAG,ie)},Ae.prototype.getAll=function(Pe){return this._get(!0,!0,F.TargetTypeEnum.Variable,Pe)},Ae.prototype.getAllTagged=function(Pe,ie,at){return this._get(!1,!0,F.TargetTypeEnum.Variable,Pe,ie,at)},Ae.prototype.getAllNamed=function(Pe,ie){return this.getAllTagged(Pe,H.NAMED_TAG,ie)},Ae.prototype.resolve=function(Pe){var ie=this.createChild();return ie.bind(Pe).toSelf(),this._appliedMiddleware.forEach(function(at){ie.applyMiddleware(at)}),ie.get(Pe)},Ae.prototype._getContainerModuleHelpersFactory=function(){var Pe=this,ie=function(U,tt){U._binding.moduleId=tt},at=function(U){return function(tt){var ut=Pe.bind.bind(Pe),vn=ut(tt);return ie(vn,U),vn}},mt=function(U){return function(tt){var ut=Pe.unbind.bind(Pe);ut(tt)}},vt=function(U){return function(tt){var ut=Pe.isBound.bind(Pe);return ut(tt)}},Vt=function(U){return function(tt){var ut=Pe.rebind.bind(Pe),vn=ut(tt);return ie(vn,U),vn}};return function(U){return{bindFunction:at(U),isboundFunction:vt(U),rebindFunction:Vt(U),unbindFunction:mt(U)}}},Ae.prototype._get=function(Pe,ie,at,mt,vt,Vt){var U=null,tt={avoidConstraints:Pe,contextInterceptor:function(ut){return ut},isMultiInject:ie,key:vt,serviceIdentifier:mt,targetType:at,value:Vt};if(this._middleware){if(U=this._middleware(tt),U==null)throw new Error(k.INVALID_MIDDLEWARE_RETURN)}else U=this._planAndResolve()(tt);return U},Ae.prototype._planAndResolve=function(){var Pe=this;return function(ie){var at=ee.plan(Pe._metadataReader,Pe,ie.isMultiInject,ie.targetType,ie.serviceIdentifier,ie.key,ie.value,ie.avoidConstraints);at=ie.contextInterceptor(at);var mt=ae.resolve(at);return mt}},Ae}();te.Container=Ce},33244:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.AsyncContainerModule=te.ContainerModule=void 0;var B=w(37791),M=function(){function R(k){this.id=B.id(),this.registry=k}return R}();te.ContainerModule=M;var j=function(){function R(k){this.id=B.id(),this.registry=k}return R}();te.AsyncContainerModule=j},85700:function(Ne,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.ContainerSnapshot=void 0;var w=function(){function B(){}return B.of=function(M,j){var R=new B;return R.bindings=M,R.middleware=j,R},B}();te.ContainerSnapshot=w},80175:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.Lookup=void 0;var B=w(16674),M=function(){function j(){this._map=new Map}return j.prototype.getMap=function(){return this._map},j.prototype.add=function(R,k){if(R==null)throw new Error(B.NULL_ARGUMENT);if(k==null)throw new Error(B.NULL_ARGUMENT);var F=this._map.get(R);F!==void 0?(F.push(k),this._map.set(R,F)):this._map.set(R,[k])},j.prototype.get=function(R){if(R==null)throw new Error(B.NULL_ARGUMENT);var k=this._map.get(R);if(k!==void 0)return k;throw new Error(B.KEY_NOT_FOUND)},j.prototype.remove=function(R){if(R==null)throw new Error(B.NULL_ARGUMENT);if(!this._map.delete(R))throw new Error(B.KEY_NOT_FOUND)},j.prototype.removeByCondition=function(R){var k=this;this._map.forEach(function(F,H){var I=F.filter(function(ee){return!R(ee)});I.length>0?k._map.set(H,I):k._map.delete(H)})},j.prototype.hasKey=function(R){if(R==null)throw new Error(B.NULL_ARGUMENT);return this._map.has(R)},j.prototype.clone=function(){var R=new j;return this._map.forEach(function(k,F){k.forEach(function(H){return R.add(F,H.clone())})}),R},j.prototype.traverse=function(R){this._map.forEach(function(k,F){R(F,k)})},j}();te.Lookup=M},86700:function(Ne,te,w){"use strict";var B;B={value:!0},B=B=B=B=B=B=B=B=B=B=B=B=B=B=B=te.f3=te.t6=B=te.b2=B=B=B=B=B=te.W2=B=void 0;var M=w(6867);B=M;var j=w(51389);Object.defineProperty(te,"W2",{enumerable:!0,get:function(){return j.Container}});var R=w(28421);B={enumerable:!0,get:function(){return R.BindingScopeEnum}},B={enumerable:!0,get:function(){return R.BindingTypeEnum}},B={enumerable:!0,get:function(){return R.TargetTypeEnum}};var k=w(33244);B={enumerable:!0,get:function(){return k.AsyncContainerModule}},B={enumerable:!0,get:function(){return k.ContainerModule}};var F=w(64315);Object.defineProperty(te,"b2",{enumerable:!0,get:function(){return F.injectable}});var H=w(32052);B={enumerable:!0,get:function(){return H.tagged}};var I=w(38085);Object.defineProperty(te,"t6",{enumerable:!0,get:function(){return I.named}});var ee=w(5744);Object.defineProperty(te,"f3",{enumerable:!0,get:function(){return ee.inject}}),B={enumerable:!0,get:function(){return ee.LazyServiceIdentifer}};var ae=w(6515);B={enumerable:!0,get:function(){return ae.optional}};var ue=w(86757);B={enumerable:!0,get:function(){return ue.unmanaged}};var re=w(71693);B={enumerable:!0,get:function(){return re.multiInject}};var ge=w(55638);B={enumerable:!0,get:function(){return ge.targetName}};var Ze=w(7014);B={enumerable:!0,get:function(){return Ze.postConstruct}};var fe=w(51377);B={enumerable:!0,get:function(){return fe.MetadataReader}};var Ce=w(37791);B={enumerable:!0,get:function(){return Ce.id}};var Ae=w(99934);B={enumerable:!0,get:function(){return Ae.decorate}};var Pe=w(80758);B={enumerable:!0,get:function(){return Pe.traverseAncerstors}},B={enumerable:!0,get:function(){return Pe.taggedConstraint}},B={enumerable:!0,get:function(){return Pe.namedConstraint}},B={enumerable:!0,get:function(){return Pe.typeConstraint}};var ie=w(55800);B={enumerable:!0,get:function(){return ie.getServiceIdentifierAsString}};var at=w(70600);B={enumerable:!0,get:function(){return at.multiBindToService}}},95228:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.Context=void 0;var B=w(37791),M=function(){function j(R){this.id=B.id(),this.container=R}return j.prototype.addPlan=function(R){this.plan=R},j.prototype.setCurrentRequest=function(R){this.currentRequest=R},j}();te.Context=M},47738:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.Metadata=void 0;var B=w(6867),M=function(){function j(R,k){this.key=R,this.value=k}return j.prototype.toString=function(){return this.key===B.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},j}();te.Metadata=M},51377:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.MetadataReader=void 0;var B=w(6867),M=function(){function j(){}return j.prototype.getConstructorMetadata=function(R){var k=Reflect.getMetadata(B.PARAM_TYPES,R),F=Reflect.getMetadata(B.TAGGED,R);return{compilerGeneratedMetadata:k,userGeneratedMetadata:F||{}}},j.prototype.getPropertiesMetadata=function(R){var k=Reflect.getMetadata(B.TAGGED_PROP,R)||[];return k},j}();te.MetadataReader=M},55314:function(Ne,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.Plan=void 0;var w=function(){function B(M,j){this.parentContext=M,this.rootRequest=j}return B}();te.Plan=w},86311:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.getBindingDictionary=te.createMockRequest=te.plan=void 0;var B=w(23184),M=w(16674),j=w(28421),R=w(6867),k=w(85265),F=w(55800),H=w(95228),I=w(47738),ee=w(55314),ae=w(6e3),ue=w(6748),re=w(18924);function ge(mt){return mt._bindingDictionary}te.getBindingDictionary=ge;function Ze(mt,vt,Vt,U,tt,ut){var vn=mt?R.MULTI_INJECT_TAG:R.INJECT_TAG,ft=new I.Metadata(vn,Vt),Ye=new re.Target(vt,U,Vt,ft);if(tt!==void 0){var Cn=new I.Metadata(tt,ut);Ye.metadata.push(Cn)}return Ye}function fe(mt,vt,Vt,U,tt){var ut=Pe(Vt.container,tt.serviceIdentifier),vn=[];return ut.length===B.BindingCount.NoBindingsAvailable&&Vt.container.options.autoBindInjectable&&typeof tt.serviceIdentifier=="function"&&mt.getConstructorMetadata(tt.serviceIdentifier).compilerGeneratedMetadata&&(Vt.container.bind(tt.serviceIdentifier).toSelf(),ut=Pe(Vt.container,tt.serviceIdentifier)),vt?vn=ut:vn=ut.filter(function(ft){var Ye=new ue.Request(ft.serviceIdentifier,Vt,U,ft,tt);return ft.constraint(Ye)}),Ce(tt.serviceIdentifier,vn,tt,Vt.container),vn}function Ce(mt,vt,Vt,U){switch(vt.length){case B.BindingCount.NoBindingsAvailable:if(Vt.isOptional())return vt;var tt=F.getServiceIdentifierAsString(mt),ut=M.NOT_REGISTERED;throw ut+=F.listMetadataForTarget(tt,Vt),ut+=F.listRegisteredBindingsForServiceIdentifier(U,tt,Pe),new Error(ut);case B.BindingCount.OnlyOneBindingAvailable:if(!Vt.isArray())return vt;case B.BindingCount.MultipleBindingsAvailable:default:if(Vt.isArray())return vt;var tt=F.getServiceIdentifierAsString(mt),ut=M.AMBIGUOUS_MATCH+" "+tt;throw ut+=F.listRegisteredBindingsForServiceIdentifier(U,tt,Pe),new Error(ut)}}function Ae(mt,vt,Vt,U,tt,ut){var vn,ft;if(tt===null){vn=fe(mt,vt,U,null,ut),ft=new ue.Request(Vt,U,null,vn,ut);var Ye=new ee.Plan(U,ft);U.addPlan(Ye)}else vn=fe(mt,vt,U,tt,ut),ft=tt.addChildRequest(ut.serviceIdentifier,vn,ut);vn.forEach(function(Cn){var cn=null;if(ut.isArray())cn=ft.addChildRequest(Cn.serviceIdentifier,Cn,ut);else{if(Cn.cache)return;cn=ft}if(Cn.type===j.BindingTypeEnum.Instance&&Cn.implementationType!==null){var mr=ae.getDependencies(mt,Cn.implementationType);if(!U.container.options.skipBaseClassChecks){var pr=ae.getBaseClassDependencyCount(mt,Cn.implementationType);if(mr.length<pr){var hr=M.ARGUMENTS_LENGTH_MISMATCH(ae.getFunctionName(Cn.implementationType));throw new Error(hr)}}mr.forEach(function(Mt){Ae(mt,!1,Mt.serviceIdentifier,U,cn,Mt)})}})}function Pe(mt,vt){var Vt=[],U=ge(mt);return U.hasKey(vt)?Vt=U.get(vt):mt.parent!==null&&(Vt=Pe(mt.parent,vt)),Vt}function ie(mt,vt,Vt,U,tt,ut,vn,ft){ft===void 0&&(ft=!1);var Ye=new H.Context(vt),Cn=Ze(Vt,U,tt,"",ut,vn);try{return Ae(mt,ft,tt,Ye,null,Cn),Ye}catch(cn){throw k.isStackOverflowExeption(cn)&&Ye.plan&&F.circularDependencyToException(Ye.plan.rootRequest),cn}}te.plan=ie;function at(mt,vt,Vt,U){var tt=new re.Target(j.TargetTypeEnum.Variable,"",vt,new I.Metadata(Vt,U)),ut=new H.Context(mt),vn=new ue.Request(vt,ut,null,[],tt);return vn}te.createMockRequest=at},88460:function(Ne,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.QueryableString=void 0;var w=function(){function B(M){this.str=M}return B.prototype.startsWith=function(M){return this.str.indexOf(M)===0},B.prototype.endsWith=function(M){var j="",R=M.split("").reverse().join("");return j=this.str.split("").reverse().join(""),this.startsWith.call({str:j},R)},B.prototype.contains=function(M){return this.str.indexOf(M)!==-1},B.prototype.equals=function(M){return this.str===M},B.prototype.value=function(){return this.str},B}();te.QueryableString=w},6e3:function(Ne,te,w){"use strict";var B=this&&this.__spreadArray||function(fe,Ce){for(var Ae=0,Pe=Ce.length,ie=fe.length;Ae<Pe;Ae++,ie++)fe[ie]=Ce[Ae];return fe};Object.defineProperty(te,"__esModule",{value:!0}),te.getFunctionName=te.getBaseClassDependencyCount=te.getDependencies=void 0;var M=w(5744),j=w(16674),R=w(28421),k=w(6867),F=w(55800);Object.defineProperty(te,"getFunctionName",{enumerable:!0,get:function(){return F.getFunctionName}});var H=w(18924);function I(fe,Ce){var Ae=F.getFunctionName(Ce),Pe=ee(fe,Ae,Ce,!1);return Pe}te.getDependencies=I;function ee(fe,Ce,Ae,Pe){var ie=fe.getConstructorMetadata(Ae),at=ie.compilerGeneratedMetadata;if(at===void 0){var mt=j.MISSING_INJECTABLE_ANNOTATION+" "+Ce+".";throw new Error(mt)}var vt=ie.userGeneratedMetadata,Vt=Object.keys(vt),U=Ae.length===0&&Vt.length>0,tt=Vt.length>Ae.length,ut=U||tt?Vt.length:Ae.length,vn=ue(Pe,Ce,at,vt,ut),ft=re(fe,Ae),Ye=B(B([],vn),ft);return Ye}function ae(fe,Ce,Ae,Pe,ie){var at=ie[fe.toString()]||[],mt=Ze(at),vt=mt.unmanaged!==!0,Vt=Pe[fe],U=mt.inject||mt.multiInject;if(Vt=U||Vt,Vt instanceof M.LazyServiceIdentifer&&(Vt=Vt.unwrap()),vt){var tt=Vt===Object,ut=Vt===Function,vn=Vt===void 0,ft=tt||ut||vn;if(!Ce&&ft){var Ye=j.MISSING_INJECT_ANNOTATION+" argument "+fe+" in class "+Ae+".";throw new Error(Ye)}var Cn=new H.Target(R.TargetTypeEnum.ConstructorArgument,mt.targetName,Vt);return Cn.metadata=at,Cn}return null}function ue(fe,Ce,Ae,Pe,ie){for(var at=[],mt=0;mt<ie;mt++){var vt=mt,Vt=ae(vt,fe,Ce,Ae,Pe);Vt!==null&&at.push(Vt)}return at}function re(fe,Ce){for(var Ae=fe.getPropertiesMetadata(Ce),Pe=[],ie=Object.keys(Ae),at=0,mt=ie;at<mt.length;at++){var vt=mt[at],Vt=Ae[vt],U=Ze(Ae[vt]),tt=U.targetName||vt,ut=U.inject||U.multiInject,vn=new H.Target(R.TargetTypeEnum.ClassProperty,tt,ut);vn.metadata=Vt,Pe.push(vn)}var ft=Object.getPrototypeOf(Ce.prototype).constructor;if(ft!==Object){var Ye=re(fe,ft);Pe=B(B([],Pe),Ye)}return Pe}function ge(fe,Ce){var Ae=Object.getPrototypeOf(Ce.prototype).constructor;if(Ae!==Object){var Pe=F.getFunctionName(Ae),ie=ee(fe,Pe,Ae,!0),at=ie.map(function(Vt){return Vt.metadata.filter(function(U){return U.key===k.UNMANAGED_TAG})}),mt=[].concat.apply([],at).length,vt=ie.length-mt;return vt>0?vt:ge(fe,Ae)}else return 0}te.getBaseClassDependencyCount=ge;function Ze(fe){var Ce={};return fe.forEach(function(Ae){Ce[Ae.key.toString()]=Ae.value}),{inject:Ce[k.INJECT_TAG],multiInject:Ce[k.MULTI_INJECT_TAG],targetName:Ce[k.NAME_TAG],unmanaged:Ce[k.UNMANAGED_TAG]}}},6748:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.Request=void 0;var B=w(37791),M=function(){function j(R,k,F,H,I){this.id=B.id(),this.serviceIdentifier=R,this.parentContext=k,this.parentRequest=F,this.target=I,this.childRequests=[],this.bindings=Array.isArray(H)?H:[H],this.requestScope=F===null?new Map:null}return j.prototype.addChildRequest=function(R,k,F){var H=new j(R,this.parentContext,this,k,F);return this.childRequests.push(H),H},j}();te.Request=M},18924:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.Target=void 0;var B=w(6867),M=w(37791),j=w(47738),R=w(88460),k=function(){function F(H,I,ee,ae){this.id=M.id(),this.type=H,this.serviceIdentifier=ee,this.name=new R.QueryableString(I||""),this.metadata=new Array;var ue=null;typeof ae=="string"?ue=new j.Metadata(B.NAMED_TAG,ae):ae instanceof j.Metadata&&(ue=ae),ue!==null&&this.metadata.push(ue)}return F.prototype.hasTag=function(H){for(var I=0,ee=this.metadata;I<ee.length;I++){var ae=ee[I];if(ae.key===H)return!0}return!1},F.prototype.isArray=function(){return this.hasTag(B.MULTI_INJECT_TAG)},F.prototype.matchesArray=function(H){return this.matchesTag(B.MULTI_INJECT_TAG)(H)},F.prototype.isNamed=function(){return this.hasTag(B.NAMED_TAG)},F.prototype.isTagged=function(){return this.metadata.some(function(H){return B.NON_CUSTOM_TAG_KEYS.every(function(I){return H.key!==I})})},F.prototype.isOptional=function(){return this.matchesTag(B.OPTIONAL_TAG)(!0)},F.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(H){return H.key===B.NAMED_TAG})[0]:null},F.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(H){return B.NON_CUSTOM_TAG_KEYS.every(function(I){return H.key!==I})}):null},F.prototype.matchesNamedTag=function(H){return this.matchesTag(B.NAMED_TAG)(H)},F.prototype.matchesTag=function(H){var I=this;return function(ee){for(var ae=0,ue=I.metadata;ae<ue.length;ae++){var re=ue[ae];if(re.key===H&&re.value===ee)return!0}return!1}},F}();te.Target=k},52279:function(Ne,te,w){"use strict";var B=this&&this.__spreadArray||function(ee,ae){for(var ue=0,re=ae.length,ge=ee.length;ue<re;ue++,ge++)ee[ge]=ae[ue];return ee};Object.defineProperty(te,"__esModule",{value:!0}),te.resolveInstance=void 0;var M=w(16674),j=w(28421),R=w(6867);function k(ee,ae,ue){var re=ae.filter(function(Ze){return Ze.target!==null&&Ze.target.type===j.TargetTypeEnum.ClassProperty}),ge=re.map(ue);return re.forEach(function(Ze,fe){var Ce="";Ce=Ze.target.name.value();var Ae=ge[fe];ee[Ce]=Ae}),ee}function F(ee,ae){return new(ee.bind.apply(ee,B([void 0],ae)))}function H(ee,ae){if(Reflect.hasMetadata(R.POST_CONSTRUCT,ee)){var ue=Reflect.getMetadata(R.POST_CONSTRUCT,ee);try{ae[ue.value]()}catch(re){throw new Error(M.POST_CONSTRUCT_ERROR(ee.name,re.message))}}}function I(ee,ae,ue){var re=null;if(ae.length>0){var ge=ae.filter(function(fe){return fe.target!==null&&fe.target.type===j.TargetTypeEnum.ConstructorArgument}),Ze=ge.map(ue);re=F(ee,Ze),re=k(re,ae,ue)}else re=new ee;return H(ee,re),re}te.resolveInstance=I},7478:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.resolve=void 0;var B=w(16674),M=w(28421),j=w(85265),R=w(55800),k=w(52279),F=function(ee,ae,ue){try{return ue()}catch(re){throw j.isStackOverflowExeption(re)?new Error(B.CIRCULAR_DEPENDENCY_IN_FACTORY(ee,ae.toString())):re}},H=function(ee){return function(ae){ae.parentContext.setCurrentRequest(ae);var ue=ae.bindings,re=ae.childRequests,ge=ae.target&&ae.target.isArray(),Ze=!ae.parentRequest||!ae.parentRequest.target||!ae.target||!ae.parentRequest.target.matchesArray(ae.target.serviceIdentifier);if(ge&&Ze)return re.map(function(at){var mt=H(ee);return mt(at)});var fe=null;if(ae.target.isOptional()&&ue.length===0)return;var Ce=ue[0],Ae=Ce.scope===M.BindingScopeEnum.Singleton,Pe=Ce.scope===M.BindingScopeEnum.Request;if(Ae&&Ce.activated)return Ce.cache;if(Pe&&ee!==null&&ee.has(Ce.id))return ee.get(Ce.id);if(Ce.type===M.BindingTypeEnum.ConstantValue)fe=Ce.cache,Ce.activated=!0;else if(Ce.type===M.BindingTypeEnum.Function)fe=Ce.cache,Ce.activated=!0;else if(Ce.type===M.BindingTypeEnum.Constructor)fe=Ce.implementationType;else if(Ce.type===M.BindingTypeEnum.DynamicValue&&Ce.dynamicValue!==null)fe=F("toDynamicValue",Ce.serviceIdentifier,function(){return Ce.dynamicValue(ae.parentContext)});else if(Ce.type===M.BindingTypeEnum.Factory&&Ce.factory!==null)fe=F("toFactory",Ce.serviceIdentifier,function(){return Ce.factory(ae.parentContext)});else if(Ce.type===M.BindingTypeEnum.Provider&&Ce.provider!==null)fe=F("toProvider",Ce.serviceIdentifier,function(){return Ce.provider(ae.parentContext)});else if(Ce.type===M.BindingTypeEnum.Instance&&Ce.implementationType!==null)fe=k.resolveInstance(Ce.implementationType,re,H(ee));else{var ie=R.getServiceIdentifierAsString(ae.serviceIdentifier);throw new Error(B.INVALID_BINDING_TYPE+" "+ie)}return typeof Ce.onActivation=="function"&&(fe=Ce.onActivation(ae.parentContext,fe)),Ae&&(Ce.cache=fe,Ce.activated=!0),Pe&&ee!==null&&!ee.has(Ce.id)&&ee.set(Ce.id,fe),fe}};function I(ee){var ae=H(ee.plan.rootRequest.requestScope);return ae(ee.plan.rootRequest)}te.resolve=I},83366:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.BindingInSyntax=void 0;var B=w(28421),M=w(71325),j=function(){function R(k){this._binding=k}return R.prototype.inRequestScope=function(){return this._binding.scope=B.BindingScopeEnum.Request,new M.BindingWhenOnSyntax(this._binding)},R.prototype.inSingletonScope=function(){return this._binding.scope=B.BindingScopeEnum.Singleton,new M.BindingWhenOnSyntax(this._binding)},R.prototype.inTransientScope=function(){return this._binding.scope=B.BindingScopeEnum.Transient,new M.BindingWhenOnSyntax(this._binding)},R}();te.BindingInSyntax=j},99812:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.BindingInWhenOnSyntax=void 0;var B=w(83366),M=w(51811),j=w(98370),R=function(){function k(F){this._binding=F,this._bindingWhenSyntax=new j.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new M.BindingOnSyntax(this._binding),this._bindingInSyntax=new B.BindingInSyntax(F)}return k.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},k.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},k.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},k.prototype.when=function(F){return this._bindingWhenSyntax.when(F)},k.prototype.whenTargetNamed=function(F){return this._bindingWhenSyntax.whenTargetNamed(F)},k.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},k.prototype.whenTargetTagged=function(F,H){return this._bindingWhenSyntax.whenTargetTagged(F,H)},k.prototype.whenInjectedInto=function(F){return this._bindingWhenSyntax.whenInjectedInto(F)},k.prototype.whenParentNamed=function(F){return this._bindingWhenSyntax.whenParentNamed(F)},k.prototype.whenParentTagged=function(F,H){return this._bindingWhenSyntax.whenParentTagged(F,H)},k.prototype.whenAnyAncestorIs=function(F){return this._bindingWhenSyntax.whenAnyAncestorIs(F)},k.prototype.whenNoAncestorIs=function(F){return this._bindingWhenSyntax.whenNoAncestorIs(F)},k.prototype.whenAnyAncestorNamed=function(F){return this._bindingWhenSyntax.whenAnyAncestorNamed(F)},k.prototype.whenAnyAncestorTagged=function(F,H){return this._bindingWhenSyntax.whenAnyAncestorTagged(F,H)},k.prototype.whenNoAncestorNamed=function(F){return this._bindingWhenSyntax.whenNoAncestorNamed(F)},k.prototype.whenNoAncestorTagged=function(F,H){return this._bindingWhenSyntax.whenNoAncestorTagged(F,H)},k.prototype.whenAnyAncestorMatches=function(F){return this._bindingWhenSyntax.whenAnyAncestorMatches(F)},k.prototype.whenNoAncestorMatches=function(F){return this._bindingWhenSyntax.whenNoAncestorMatches(F)},k.prototype.onActivation=function(F){return this._bindingOnSyntax.onActivation(F)},k}();te.BindingInWhenOnSyntax=R},51811:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.BindingOnSyntax=void 0;var B=w(98370),M=function(){function j(R){this._binding=R}return j.prototype.onActivation=function(R){return this._binding.onActivation=R,new B.BindingWhenSyntax(this._binding)},j}();te.BindingOnSyntax=M},51860:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.BindingToSyntax=void 0;var B=w(16674),M=w(28421),j=w(99812),R=w(71325),k=function(){function F(H){this._binding=H}return F.prototype.to=function(H){return this._binding.type=M.BindingTypeEnum.Instance,this._binding.implementationType=H,new j.BindingInWhenOnSyntax(this._binding)},F.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+B.INVALID_TO_SELF_VALUE);var H=this._binding.serviceIdentifier;return this.to(H)},F.prototype.toConstantValue=function(H){return this._binding.type=M.BindingTypeEnum.ConstantValue,this._binding.cache=H,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=M.BindingScopeEnum.Singleton,new R.BindingWhenOnSyntax(this._binding)},F.prototype.toDynamicValue=function(H){return this._binding.type=M.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=H,this._binding.implementationType=null,new j.BindingInWhenOnSyntax(this._binding)},F.prototype.toConstructor=function(H){return this._binding.type=M.BindingTypeEnum.Constructor,this._binding.implementationType=H,this._binding.scope=M.BindingScopeEnum.Singleton,new R.BindingWhenOnSyntax(this._binding)},F.prototype.toFactory=function(H){return this._binding.type=M.BindingTypeEnum.Factory,this._binding.factory=H,this._binding.scope=M.BindingScopeEnum.Singleton,new R.BindingWhenOnSyntax(this._binding)},F.prototype.toFunction=function(H){if(typeof H!="function")throw new Error(B.INVALID_FUNCTION_BINDING);var I=this.toConstantValue(H);return this._binding.type=M.BindingTypeEnum.Function,this._binding.scope=M.BindingScopeEnum.Singleton,I},F.prototype.toAutoFactory=function(H){return this._binding.type=M.BindingTypeEnum.Factory,this._binding.factory=function(I){var ee=function(){return I.container.get(H)};return ee},this._binding.scope=M.BindingScopeEnum.Singleton,new R.BindingWhenOnSyntax(this._binding)},F.prototype.toProvider=function(H){return this._binding.type=M.BindingTypeEnum.Provider,this._binding.provider=H,this._binding.scope=M.BindingScopeEnum.Singleton,new R.BindingWhenOnSyntax(this._binding)},F.prototype.toService=function(H){this.toDynamicValue(function(I){return I.container.get(H)})},F}();te.BindingToSyntax=k},71325:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.BindingWhenOnSyntax=void 0;var B=w(51811),M=w(98370),j=function(){function R(k){this._binding=k,this._bindingWhenSyntax=new M.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new B.BindingOnSyntax(this._binding)}return R.prototype.when=function(k){return this._bindingWhenSyntax.when(k)},R.prototype.whenTargetNamed=function(k){return this._bindingWhenSyntax.whenTargetNamed(k)},R.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},R.prototype.whenTargetTagged=function(k,F){return this._bindingWhenSyntax.whenTargetTagged(k,F)},R.prototype.whenInjectedInto=function(k){return this._bindingWhenSyntax.whenInjectedInto(k)},R.prototype.whenParentNamed=function(k){return this._bindingWhenSyntax.whenParentNamed(k)},R.prototype.whenParentTagged=function(k,F){return this._bindingWhenSyntax.whenParentTagged(k,F)},R.prototype.whenAnyAncestorIs=function(k){return this._bindingWhenSyntax.whenAnyAncestorIs(k)},R.prototype.whenNoAncestorIs=function(k){return this._bindingWhenSyntax.whenNoAncestorIs(k)},R.prototype.whenAnyAncestorNamed=function(k){return this._bindingWhenSyntax.whenAnyAncestorNamed(k)},R.prototype.whenAnyAncestorTagged=function(k,F){return this._bindingWhenSyntax.whenAnyAncestorTagged(k,F)},R.prototype.whenNoAncestorNamed=function(k){return this._bindingWhenSyntax.whenNoAncestorNamed(k)},R.prototype.whenNoAncestorTagged=function(k,F){return this._bindingWhenSyntax.whenNoAncestorTagged(k,F)},R.prototype.whenAnyAncestorMatches=function(k){return this._bindingWhenSyntax.whenAnyAncestorMatches(k)},R.prototype.whenNoAncestorMatches=function(k){return this._bindingWhenSyntax.whenNoAncestorMatches(k)},R.prototype.onActivation=function(k){return this._bindingOnSyntax.onActivation(k)},R}();te.BindingWhenOnSyntax=j},98370:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.BindingWhenSyntax=void 0;var B=w(51811),M=w(80758),j=function(){function R(k){this._binding=k}return R.prototype.when=function(k){return this._binding.constraint=k,new B.BindingOnSyntax(this._binding)},R.prototype.whenTargetNamed=function(k){return this._binding.constraint=M.namedConstraint(k),new B.BindingOnSyntax(this._binding)},R.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(k){var F=k.target!==null&&!k.target.isNamed()&&!k.target.isTagged();return F},new B.BindingOnSyntax(this._binding)},R.prototype.whenTargetTagged=function(k,F){return this._binding.constraint=M.taggedConstraint(k)(F),new B.BindingOnSyntax(this._binding)},R.prototype.whenInjectedInto=function(k){return this._binding.constraint=function(F){return M.typeConstraint(k)(F.parentRequest)},new B.BindingOnSyntax(this._binding)},R.prototype.whenParentNamed=function(k){return this._binding.constraint=function(F){return M.namedConstraint(k)(F.parentRequest)},new B.BindingOnSyntax(this._binding)},R.prototype.whenParentTagged=function(k,F){return this._binding.constraint=function(H){return M.taggedConstraint(k)(F)(H.parentRequest)},new B.BindingOnSyntax(this._binding)},R.prototype.whenAnyAncestorIs=function(k){return this._binding.constraint=function(F){return M.traverseAncerstors(F,M.typeConstraint(k))},new B.BindingOnSyntax(this._binding)},R.prototype.whenNoAncestorIs=function(k){return this._binding.constraint=function(F){return!M.traverseAncerstors(F,M.typeConstraint(k))},new B.BindingOnSyntax(this._binding)},R.prototype.whenAnyAncestorNamed=function(k){return this._binding.constraint=function(F){return M.traverseAncerstors(F,M.namedConstraint(k))},new B.BindingOnSyntax(this._binding)},R.prototype.whenNoAncestorNamed=function(k){return this._binding.constraint=function(F){return!M.traverseAncerstors(F,M.namedConstraint(k))},new B.BindingOnSyntax(this._binding)},R.prototype.whenAnyAncestorTagged=function(k,F){return this._binding.constraint=function(H){return M.traverseAncerstors(H,M.taggedConstraint(k)(F))},new B.BindingOnSyntax(this._binding)},R.prototype.whenNoAncestorTagged=function(k,F){return this._binding.constraint=function(H){return!M.traverseAncerstors(H,M.taggedConstraint(k)(F))},new B.BindingOnSyntax(this._binding)},R.prototype.whenAnyAncestorMatches=function(k){return this._binding.constraint=function(F){return M.traverseAncerstors(F,k)},new B.BindingOnSyntax(this._binding)},R.prototype.whenNoAncestorMatches=function(k){return this._binding.constraint=function(F){return!M.traverseAncerstors(F,k)},new B.BindingOnSyntax(this._binding)},R}();te.BindingWhenSyntax=j},80758:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.typeConstraint=te.namedConstraint=te.taggedConstraint=te.traverseAncerstors=void 0;var B=w(6867),M=w(47738),j=function(H,I){var ee=H.parentRequest;return ee!==null?I(ee)?!0:j(ee,I):!1};te.traverseAncerstors=j;var R=function(H){return function(I){var ee=function(ae){return ae!==null&&ae.target!==null&&ae.target.matchesTag(H)(I)};return ee.metaData=new M.Metadata(H,I),ee}};te.taggedConstraint=R;var k=R(B.NAMED_TAG);te.namedConstraint=k;var F=function(H){return function(I){var ee=null;if(I!==null)if(ee=I.bindings[0],typeof H=="string"){var ae=ee.serviceIdentifier;return ae===H}else{var ue=I.bindings[0].implementationType;return H===ue}return!1}};te.typeConstraint=F},70600:function(Ne,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.multiBindToService=void 0;var w=function(B){return function(M){return function(){for(var j=[],R=0;R<arguments.length;R++)j[R]=arguments[R];return j.forEach(function(k){return B.bind(k).toService(M)})}}};te.multiBindToService=w},85265:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.isStackOverflowExeption=void 0;var B=w(16674);function M(j){return j instanceof RangeError||j.message===B.STACK_OVERFLOW}te.isStackOverflowExeption=M},37791:function(Ne,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.id=void 0;var w=0;function B(){return w++}te.id=B},55800:function(Ne,te,w){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.circularDependencyToException=te.listMetadataForTarget=te.listRegisteredBindingsForServiceIdentifier=te.getServiceIdentifierAsString=te.getFunctionName=void 0;var B=w(16674);function M(ee){if(typeof ee=="function"){var ae=ee;return ae.name}else{if(typeof ee=="symbol")return ee.toString();var ae=ee;return ae}}te.getServiceIdentifierAsString=M;function j(ee,ae,ue){var re="",ge=ue(ee,ae);return ge.length!==0&&(re=`
Registered bindings:`,ge.forEach(function(Ze){var fe="Object";Ze.implementationType!==null&&(fe=I(Ze.implementationType)),re=re+`
 `+fe,Ze.constraint.metaData&&(re=re+" - "+Ze.constraint.metaData)})),re}te.listRegisteredBindingsForServiceIdentifier=j;function R(ee,ae){return ee.parentRequest===null?!1:ee.parentRequest.serviceIdentifier===ae?!0:R(ee.parentRequest,ae)}function k(ee){function ae(re,ge){ge===void 0&&(ge=[]);var Ze=M(re.serviceIdentifier);return ge.push(Ze),re.parentRequest!==null?ae(re.parentRequest,ge):ge}var ue=ae(ee);return ue.reverse().join(" --> ")}function F(ee){ee.childRequests.forEach(function(ae){if(R(ae,ae.serviceIdentifier)){var ue=k(ae);throw new Error(B.CIRCULAR_DEPENDENCY+" "+ue)}else F(ae)})}te.circularDependencyToException=F;function H(ee,ae){if(ae.isTagged()||ae.isNamed()){var ue="",re=ae.getNamedTag(),ge=ae.getCustomTags();return re!==null&&(ue+=re.toString()+`
`),ge!==null&&ge.forEach(function(Ze){ue+=Ze.toString()+`
`})," "+ee+`
 `+ee+" - "+ue}else return" "+ee}te.listMetadataForTarget=H;function I(ee){if(ee.name)return ee.name;var ae=ee.toString(),ue=ae.match(/^function\s*([^\s(]+)/);return ue?ue[1]:"Anonymous function: "+ae}te.getFunctionName=I},44091:function(Ne,te,w){"use strict";w.r(te),w.d(te,{isAnyArray:function(){return M}});const B=Object.prototype.toString;function M(j){const R=B.call(j);return R.endsWith("Array]")&&!R.includes("Big")}},5826:function(Ne){var te={}.toString;Ne.exports=Array.isArray||function(w){return te.call(w)=="[object Array]"}},50450:function(Ne,te,w){var B,M,j;(function(R){M=[w(19755)],B=R,j=typeof B=="function"?B.apply(te,M):B,j!==void 0&&(Ne.exports=j)})(function(R){var k=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],F="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],H=Array.prototype.slice,I,ee;if(R.event.fixHooks)for(var ae=k.length;ae;)R.event.fixHooks[k[--ae]]=R.event.mouseHooks;var ue=R.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var fe=F.length;fe;)this.addEventListener(F[--fe],re,!1);else this.onmousewheel=re;R.data(this,"mousewheel-line-height",ue.getLineHeight(this)),R.data(this,"mousewheel-page-height",ue.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var fe=F.length;fe;)this.removeEventListener(F[--fe],re,!1);else this.onmousewheel=null;R.removeData(this,"mousewheel-line-height"),R.removeData(this,"mousewheel-page-height")},getLineHeight:function(fe){var Ce=R(fe),Ae=Ce["offsetParent"in R.fn?"offsetParent":"parent"]();return Ae.length||(Ae=R("body")),parseInt(Ae.css("fontSize"),10)||parseInt(Ce.css("fontSize"),10)||16},getPageHeight:function(fe){return R(fe).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};R.fn.extend({mousewheel:function(fe){return fe?this.bind("mousewheel",fe):this.trigger("mousewheel")},unmousewheel:function(fe){return this.unbind("mousewheel",fe)}});function re(fe){var Ce=fe||window.event,Ae=H.call(arguments,1),Pe=0,ie=0,at=0,mt=0,vt=0,Vt=0;if(fe=R.event.fix(Ce),fe.type="mousewheel","detail"in Ce&&(at=Ce.detail*-1),"wheelDelta"in Ce&&(at=Ce.wheelDelta),"wheelDeltaY"in Ce&&(at=Ce.wheelDeltaY),"wheelDeltaX"in Ce&&(ie=Ce.wheelDeltaX*-1),"axis"in Ce&&Ce.axis===Ce.HORIZONTAL_AXIS&&(ie=at*-1,at=0),Pe=at===0?ie:at,"deltaY"in Ce&&(at=Ce.deltaY*-1,Pe=at),"deltaX"in Ce&&(ie=Ce.deltaX,at===0&&(Pe=ie*-1)),!(at===0&&ie===0)){if(Ce.deltaMode===1){var U=R.data(this,"mousewheel-line-height");Pe*=U,at*=U,ie*=U}else if(Ce.deltaMode===2){var tt=R.data(this,"mousewheel-page-height");Pe*=tt,at*=tt,ie*=tt}if(mt=Math.max(Math.abs(at),Math.abs(ie)),(!ee||mt<ee)&&(ee=mt,Ze(Ce,mt)&&(ee/=40)),Ze(Ce,mt)&&(Pe/=40,ie/=40,at/=40),Pe=Math[Pe>=1?"floor":"ceil"](Pe/ee),ie=Math[ie>=1?"floor":"ceil"](ie/ee),at=Math[at>=1?"floor":"ceil"](at/ee),ue.settings.normalizeOffset&&this.getBoundingClientRect){var ut=this.getBoundingClientRect();vt=fe.clientX-ut.left,Vt=fe.clientY-ut.top}return fe.deltaX=ie,fe.deltaY=at,fe.deltaFactor=ee,fe.offsetX=vt,fe.offsetY=Vt,fe.deltaMode=0,Ae.unshift(fe,Pe,ie,at),I&&clearTimeout(I),I=setTimeout(ge,200),(R.event.dispatch||R.event.handle).apply(this,Ae)}}function ge(){ee=null}function Ze(fe,Ce){return ue.settings.adjustOldDeltas&&fe.type==="mousewheel"&&Ce%120===0}})},19755:function(Ne,te){var w,B;(function(M,j){"use strict";typeof Ne.exports=="object"?Ne.exports=M.document?j(M,!0):function(R){if(!R.document)throw new Error("jQuery requires a window with a document");return j(R)}:j(M)})(typeof window!="undefined"?window:this,function(M,j){"use strict";var R=[],k=Object.getPrototypeOf,F=R.slice,H=R.flat?function(_){return R.flat.call(_)}:function(_){return R.concat.apply([],_)},I=R.push,ee=R.indexOf,ae={},ue=ae.toString,re=ae.hasOwnProperty,ge=re.toString,Ze=ge.call(Object),fe={},Ce=function(K){return typeof K=="function"&&typeof K.nodeType!="number"&&typeof K.item!="function"},Ae=function(K){return K!=null&&K===K.window},Pe=M.document,ie={type:!0,src:!0,nonce:!0,noModule:!0};function at(_,K,he){he=he||Pe;var ye,Ue,He=he.createElement("script");if(He.text=_,K)for(ye in ie)Ue=K[ye]||K.getAttribute&&K.getAttribute(ye),Ue&&He.setAttribute(ye,Ue);he.head.appendChild(He).parentNode.removeChild(He)}function mt(_){return _==null?_+"":typeof _=="object"||typeof _=="function"?ae[ue.call(_)]||"object":typeof _}var vt="3.7.1",Vt=/HTML$/i,U=function(_,K){return new U.fn.init(_,K)};U.fn=U.prototype={jquery:vt,constructor:U,length:0,toArray:function(){return F.call(this)},get:function(_){return _==null?F.call(this):_<0?this[_+this.length]:this[_]},pushStack:function(_){var K=U.merge(this.constructor(),_);return K.prevObject=this,K},each:function(_){return U.each(this,_)},map:function(_){return this.pushStack(U.map(this,function(K,he){return _.call(K,he,K)}))},slice:function(){return this.pushStack(F.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(U.grep(this,function(_,K){return(K+1)%2}))},odd:function(){return this.pushStack(U.grep(this,function(_,K){return K%2}))},eq:function(_){var K=this.length,he=+_+(_<0?K:0);return this.pushStack(he>=0&&he<K?[this[he]]:[])},end:function(){return this.prevObject||this.constructor()},push:I,sort:R.sort,splice:R.splice},U.extend=U.fn.extend=function(){var _,K,he,ye,Ue,He,dt=arguments[0]||{},wn=1,gn=arguments.length,Pn=!1;for(typeof dt=="boolean"&&(Pn=dt,dt=arguments[wn]||{},wn++),typeof dt!="object"&&!Ce(dt)&&(dt={}),wn===gn&&(dt=this,wn--);wn<gn;wn++)if((_=arguments[wn])!=null)for(K in _)ye=_[K],!(K==="__proto__"||dt===ye)&&(Pn&&ye&&(U.isPlainObject(ye)||(Ue=Array.isArray(ye)))?(he=dt[K],Ue&&!Array.isArray(he)?He=[]:!Ue&&!U.isPlainObject(he)?He={}:He=he,Ue=!1,dt[K]=U.extend(Pn,He,ye)):ye!==void 0&&(dt[K]=ye));return dt},U.extend({expando:"jQuery"+(vt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(_){throw new Error(_)},noop:function(){},isPlainObject:function(_){var K,he;return!_||ue.call(_)!=="[object Object]"?!1:(K=k(_),K?(he=re.call(K,"constructor")&&K.constructor,typeof he=="function"&&ge.call(he)===Ze):!0)},isEmptyObject:function(_){var K;for(K in _)return!1;return!0},globalEval:function(_,K,he){at(_,{nonce:K&&K.nonce},he)},each:function(_,K){var he,ye=0;if(tt(_))for(he=_.length;ye<he&&K.call(_[ye],ye,_[ye])!==!1;ye++);else for(ye in _)if(K.call(_[ye],ye,_[ye])===!1)break;return _},text:function(_){var K,he="",ye=0,Ue=_.nodeType;if(!Ue)for(;K=_[ye++];)he+=U.text(K);return Ue===1||Ue===11?_.textContent:Ue===9?_.documentElement.textContent:Ue===3||Ue===4?_.nodeValue:he},makeArray:function(_,K){var he=K||[];return _!=null&&(tt(Object(_))?U.merge(he,typeof _=="string"?[_]:_):I.call(he,_)),he},inArray:function(_,K,he){return K==null?-1:ee.call(K,_,he)},isXMLDoc:function(_){var K=_&&_.namespaceURI,he=_&&(_.ownerDocument||_).documentElement;return!Vt.test(K||he&&he.nodeName||"HTML")},merge:function(_,K){for(var he=+K.length,ye=0,Ue=_.length;ye<he;ye++)_[Ue++]=K[ye];return _.length=Ue,_},grep:function(_,K,he){for(var ye,Ue=[],He=0,dt=_.length,wn=!he;He<dt;He++)ye=!K(_[He],He),ye!==wn&&Ue.push(_[He]);return Ue},map:function(_,K,he){var ye,Ue,He=0,dt=[];if(tt(_))for(ye=_.length;He<ye;He++)Ue=K(_[He],He,he),Ue!=null&&dt.push(Ue);else for(He in _)Ue=K(_[He],He,he),Ue!=null&&dt.push(Ue);return H(dt)},guid:1,support:fe}),typeof Symbol=="function"&&(U.fn[Symbol.iterator]=R[Symbol.iterator]),U.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(_,K){ae["[object "+K+"]"]=K.toLowerCase()});function tt(_){var K=!!_&&"length"in _&&_.length,he=mt(_);return Ce(_)||Ae(_)?!1:he==="array"||K===0||typeof K=="number"&&K>0&&K-1 in _}function ut(_,K){return _.nodeName&&_.nodeName.toLowerCase()===K.toLowerCase()}var vn=R.pop,ft=R.sort,Ye=R.splice,Cn="[\\x20\\t\\r\\n\\f]",cn=new RegExp("^"+Cn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Cn+"+$","g");U.contains=function(_,K){var he=K&&K.parentNode;return _===he||!!(he&&he.nodeType===1&&(_.contains?_.contains(he):_.compareDocumentPosition&&_.compareDocumentPosition(he)&16))};var mr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function pr(_,K){return K?_==="\0"?"\uFFFD":_.slice(0,-1)+"\\"+_.charCodeAt(_.length-1).toString(16)+" ":"\\"+_}U.escapeSelector=function(_){return(_+"").replace(mr,pr)};var hr=Pe,Mt=I;(function(){var _,K,he,ye,Ue,He=Mt,dt,wn,gn,Pn,zr,Gr=U.expando,Hr=0,bi=0,Vo=Ho(),Uo=Ho(),Zo=Ho(),Ns=Ho(),Ms=function(En,fr){return En===fr&&(Ue=!0),0},No="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ws="(?:\\\\[\\da-fA-F]{1,6}"+Cn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Hi="\\["+Cn+"*("+ws+")(?:"+Cn+"*([*^$|!~]?=)"+Cn+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ws+"))|)"+Cn+"*\\]",ms=":("+ws+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Hi+")*)|.*)\\)|)",Pt=new RegExp(Cn+"+","g"),ot=new RegExp("^"+Cn+"*,"+Cn+"*"),Ft=new RegExp("^"+Cn+"*([>+~]|"+Cn+")"+Cn+"*"),Qt=new RegExp(Cn+"|>"),Ht=new RegExp(ms),$n=new RegExp("^"+ws+"$"),Vn={ID:new RegExp("^#("+ws+")"),CLASS:new RegExp("^\\.("+ws+")"),TAG:new RegExp("^("+ws+"|[*])"),ATTR:new RegExp("^"+Hi),PSEUDO:new RegExp("^"+ms),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Cn+"*(even|odd|(([+-]|)(\\d*)n|)"+Cn+"*(?:([+-]|)"+Cn+"*(\\d+)|))"+Cn+"*\\)|)","i"),bool:new RegExp("^(?:"+No+")$","i"),needsContext:new RegExp("^"+Cn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Cn+"*((?:-\\d)?\\d*)"+Cn+"*\\)|)(?=[^-]|$)","i")},Er=/^(?:input|select|textarea|button)$/i,io=/^h\d$/i,Mi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ki=/[+~]/,qi=new RegExp("\\\\[\\da-fA-F]{1,6}"+Cn+"?|\\\\([^\\r\\n\\f])","g"),Ri=function(En,fr){var Nr="0x"+En.slice(1)-65536;return fr||(Nr<0?String.fromCharCode(Nr+65536):String.fromCharCode(Nr>>10|55296,Nr&1023|56320))},Ts=function(){Aa()},rs=Ka(function(En){return En.disabled===!0&&ut(En,"fieldset")},{dir:"parentNode",next:"legend"});function po(){try{return dt.activeElement}catch(En){}}try{He.apply(R=F.call(hr.childNodes),hr.childNodes),R[hr.childNodes.length].nodeType}catch(En){He={apply:function(fr,Nr){Mt.apply(fr,F.call(Nr))},call:function(fr){Mt.apply(fr,F.call(arguments,1))}}}function xi(En,fr,Nr,Ot){var On,Yn,di,Qi,ao,Ps,ts,Lo=fr&&fr.ownerDocument,jo=fr?fr.nodeType:9;if(Nr=Nr||[],typeof En!="string"||!En||jo!==1&&jo!==9&&jo!==11)return Nr;if(!Ot&&(Aa(fr),fr=fr||dt,gn)){if(jo!==11&&(ao=Mi.exec(En)))if(On=ao[1]){if(jo===9)if(di=fr.getElementById(On)){if(di.id===On)return He.call(Nr,di),Nr}else return Nr;else if(Lo&&(di=Lo.getElementById(On))&&xi.contains(fr,di)&&di.id===On)return He.call(Nr,di),Nr}else{if(ao[2])return He.apply(Nr,fr.getElementsByTagName(En)),Nr;if((On=ao[3])&&fr.getElementsByClassName)return He.apply(Nr,fr.getElementsByClassName(On)),Nr}if(!Ns[En+" "]&&(!Pn||!Pn.test(En))){if(ts=En,Lo=fr,jo===1&&(Qt.test(En)||Ft.test(En))){for(Lo=Ki.test(En)&&ra(fr.parentNode)||fr,(Lo!=fr||!fe.scope)&&((Qi=fr.getAttribute("id"))?Qi=U.escapeSelector(Qi):fr.setAttribute("id",Qi=Gr)),Ps=Ra(En),Yn=Ps.length;Yn--;)Ps[Yn]=(Qi?"#"+Qi:":scope")+" "+Rl(Ps[Yn]);ts=Ps.join(",")}try{return He.apply(Nr,Lo.querySelectorAll(ts)),Nr}catch(Ro){Ns(En,!0)}finally{Qi===Gr&&fr.removeAttribute("id")}}}return Bc(En.replace(cn,"$1"),fr,Nr,Ot)}function Ho(){var En=[];function fr(Nr,Ot){return En.push(Nr+" ")>K.cacheLength&&delete fr[En.shift()],fr[Nr+" "]=Ot}return fr}function ls(En){return En[Gr]=!0,En}function Yo(En){var fr=dt.createElement("fieldset");try{return!!En(fr)}catch(Nr){return!1}finally{fr.parentNode&&fr.parentNode.removeChild(fr),fr=null}}function Hs(En){return function(fr){return ut(fr,"input")&&fr.type===En}}function Ol(En){return function(fr){return(ut(fr,"input")||ut(fr,"button"))&&fr.type===En}}function xa(En){return function(fr){return"form"in fr?fr.parentNode&&fr.disabled===!1?"label"in fr?"label"in fr.parentNode?fr.parentNode.disabled===En:fr.disabled===En:fr.isDisabled===En||fr.isDisabled!==!En&&rs(fr)===En:fr.disabled===En:"label"in fr?fr.disabled===En:!1}}function Ca(En){return ls(function(fr){return fr=+fr,ls(function(Nr,Ot){for(var On,Yn=En([],Nr.length,fr),di=Yn.length;di--;)Nr[On=Yn[di]]&&(Nr[On]=!(Ot[On]=Nr[On]))})})}function ra(En){return En&&typeof En.getElementsByTagName!="undefined"&&En}function Aa(En){var fr,Nr=En?En.ownerDocument||En:hr;return Nr==dt||Nr.nodeType!==9||!Nr.documentElement||(dt=Nr,wn=dt.documentElement,gn=!U.isXMLDoc(dt),zr=wn.matches||wn.webkitMatchesSelector||wn.msMatchesSelector,wn.msMatchesSelector&&hr!=dt&&(fr=dt.defaultView)&&fr.top!==fr&&fr.addEventListener("unload",Ts),fe.getById=Yo(function(Ot){return wn.appendChild(Ot).id=U.expando,!dt.getElementsByName||!dt.getElementsByName(U.expando).length}),fe.disconnectedMatch=Yo(function(Ot){return zr.call(Ot,"*")}),fe.scope=Yo(function(){return dt.querySelectorAll(":scope")}),fe.cssHas=Yo(function(){try{return dt.querySelector(":has(*,:jqfake)"),!1}catch(Ot){return!0}}),fe.getById?(K.filter.ID=function(Ot){var On=Ot.replace(qi,Ri);return function(Yn){return Yn.getAttribute("id")===On}},K.find.ID=function(Ot,On){if(typeof On.getElementById!="undefined"&&gn){var Yn=On.getElementById(Ot);return Yn?[Yn]:[]}}):(K.filter.ID=function(Ot){var On=Ot.replace(qi,Ri);return function(Yn){var di=typeof Yn.getAttributeNode!="undefined"&&Yn.getAttributeNode("id");return di&&di.value===On}},K.find.ID=function(Ot,On){if(typeof On.getElementById!="undefined"&&gn){var Yn,di,Qi,ao=On.getElementById(Ot);if(ao){if(Yn=ao.getAttributeNode("id"),Yn&&Yn.value===Ot)return[ao];for(Qi=On.getElementsByName(Ot),di=0;ao=Qi[di++];)if(Yn=ao.getAttributeNode("id"),Yn&&Yn.value===Ot)return[ao]}return[]}}),K.find.TAG=function(Ot,On){return typeof On.getElementsByTagName!="undefined"?On.getElementsByTagName(Ot):On.querySelectorAll(Ot)},K.find.CLASS=function(Ot,On){if(typeof On.getElementsByClassName!="undefined"&&gn)return On.getElementsByClassName(Ot)},Pn=[],Yo(function(Ot){var On;wn.appendChild(Ot).innerHTML="<a id='"+Gr+"' href='' disabled='disabled'></a><select id='"+Gr+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ot.querySelectorAll("[selected]").length||Pn.push("\\["+Cn+"*(?:value|"+No+")"),Ot.querySelectorAll("[id~="+Gr+"-]").length||Pn.push("~="),Ot.querySelectorAll("a#"+Gr+"+*").length||Pn.push(".#.+[+~]"),Ot.querySelectorAll(":checked").length||Pn.push(":checked"),On=dt.createElement("input"),On.setAttribute("type","hidden"),Ot.appendChild(On).setAttribute("name","D"),wn.appendChild(Ot).disabled=!0,Ot.querySelectorAll(":disabled").length!==2&&Pn.push(":enabled",":disabled"),On=dt.createElement("input"),On.setAttribute("name",""),Ot.appendChild(On),Ot.querySelectorAll("[name='']").length||Pn.push("\\["+Cn+"*name"+Cn+"*="+Cn+`*(?:''|"")`)}),fe.cssHas||Pn.push(":has"),Pn=Pn.length&&new RegExp(Pn.join("|")),Ms=function(Ot,On){if(Ot===On)return Ue=!0,0;var Yn=!Ot.compareDocumentPosition-!On.compareDocumentPosition;return Yn||(Yn=(Ot.ownerDocument||Ot)==(On.ownerDocument||On)?Ot.compareDocumentPosition(On):1,Yn&1||!fe.sortDetached&&On.compareDocumentPosition(Ot)===Yn?Ot===dt||Ot.ownerDocument==hr&&xi.contains(hr,Ot)?-1:On===dt||On.ownerDocument==hr&&xi.contains(hr,On)?1:ye?ee.call(ye,Ot)-ee.call(ye,On):0:Yn&4?-1:1)}),dt}xi.matches=function(En,fr){return xi(En,null,null,fr)},xi.matchesSelector=function(En,fr){if(Aa(En),gn&&!Ns[fr+" "]&&(!Pn||!Pn.test(fr)))try{var Nr=zr.call(En,fr);if(Nr||fe.disconnectedMatch||En.document&&En.document.nodeType!==11)return Nr}catch(Ot){Ns(fr,!0)}return xi(fr,dt,null,[En]).length>0},xi.contains=function(En,fr){return(En.ownerDocument||En)!=dt&&Aa(En),U.contains(En,fr)},xi.attr=function(En,fr){(En.ownerDocument||En)!=dt&&Aa(En);var Nr=K.attrHandle[fr.toLowerCase()],Ot=Nr&&re.call(K.attrHandle,fr.toLowerCase())?Nr(En,fr,!gn):void 0;return Ot!==void 0?Ot:En.getAttribute(fr)},xi.error=function(En){throw new Error("Syntax error, unrecognized expression: "+En)},U.uniqueSort=function(En){var fr,Nr=[],Ot=0,On=0;if(Ue=!fe.sortStable,ye=!fe.sortStable&&F.call(En,0),ft.call(En,Ms),Ue){for(;fr=En[On++];)fr===En[On]&&(Ot=Nr.push(On));for(;Ot--;)Ye.call(En,Nr[Ot],1)}return ye=null,En},U.fn.uniqueSort=function(){return this.pushStack(U.uniqueSort(F.apply(this)))},K=U.expr={cacheLength:50,createPseudo:ls,match:Vn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(En){return En[1]=En[1].replace(qi,Ri),En[3]=(En[3]||En[4]||En[5]||"").replace(qi,Ri),En[2]==="~="&&(En[3]=" "+En[3]+" "),En.slice(0,4)},CHILD:function(En){return En[1]=En[1].toLowerCase(),En[1].slice(0,3)==="nth"?(En[3]||xi.error(En[0]),En[4]=+(En[4]?En[5]+(En[6]||1):2*(En[3]==="even"||En[3]==="odd")),En[5]=+(En[7]+En[8]||En[3]==="odd")):En[3]&&xi.error(En[0]),En},PSEUDO:function(En){var fr,Nr=!En[6]&&En[2];return Vn.CHILD.test(En[0])?null:(En[3]?En[2]=En[4]||En[5]||"":Nr&&Ht.test(Nr)&&(fr=Ra(Nr,!0))&&(fr=Nr.indexOf(")",Nr.length-fr)-Nr.length)&&(En[0]=En[0].slice(0,fr),En[2]=Nr.slice(0,fr)),En.slice(0,3))}},filter:{TAG:function(En){var fr=En.replace(qi,Ri).toLowerCase();return En==="*"?function(){return!0}:function(Nr){return ut(Nr,fr)}},CLASS:function(En){var fr=Vo[En+" "];return fr||(fr=new RegExp("(^|"+Cn+")"+En+"("+Cn+"|$)"))&&Vo(En,function(Nr){return fr.test(typeof Nr.className=="string"&&Nr.className||typeof Nr.getAttribute!="undefined"&&Nr.getAttribute("class")||"")})},ATTR:function(En,fr,Nr){return function(Ot){var On=xi.attr(Ot,En);return On==null?fr==="!=":fr?(On+="",fr==="="?On===Nr:fr==="!="?On!==Nr:fr==="^="?Nr&&On.indexOf(Nr)===0:fr==="*="?Nr&&On.indexOf(Nr)>-1:fr==="$="?Nr&&On.slice(-Nr.length)===Nr:fr==="~="?(" "+On.replace(Pt," ")+" ").indexOf(Nr)>-1:fr==="|="?On===Nr||On.slice(0,Nr.length+1)===Nr+"-":!1):!0}},CHILD:function(En,fr,Nr,Ot,On){var Yn=En.slice(0,3)!=="nth",di=En.slice(-4)!=="last",Qi=fr==="of-type";return Ot===1&&On===0?function(ao){return!!ao.parentNode}:function(ao,Ps,ts){var Lo,jo,Ro,$s,ya,ha=Yn!==di?"nextSibling":"previousSibling",Wa=ao.parentNode,bl=Qi&&ao.nodeName.toLowerCase(),Ls=!ts&&!Qi,Xa=!1;if(Wa){if(Yn){for(;ha;){for(Ro=ao;Ro=Ro[ha];)if(Qi?ut(Ro,bl):Ro.nodeType===1)return!1;ya=ha=En==="only"&&!ya&&"nextSibling"}return!0}if(ya=[di?Wa.firstChild:Wa.lastChild],di&&Ls){for(jo=Wa[Gr]||(Wa[Gr]={}),Lo=jo[En]||[],$s=Lo[0]===Hr&&Lo[1],Xa=$s&&Lo[2],Ro=$s&&Wa.childNodes[$s];Ro=++$s&&Ro&&Ro[ha]||(Xa=$s=0)||ya.pop();)if(Ro.nodeType===1&&++Xa&&Ro===ao){jo[En]=[Hr,$s,Xa];break}}else if(Ls&&(jo=ao[Gr]||(ao[Gr]={}),Lo=jo[En]||[],$s=Lo[0]===Hr&&Lo[1],Xa=$s),Xa===!1)for(;(Ro=++$s&&Ro&&Ro[ha]||(Xa=$s=0)||ya.pop())&&!((Qi?ut(Ro,bl):Ro.nodeType===1)&&++Xa&&(Ls&&(jo=Ro[Gr]||(Ro[Gr]={}),jo[En]=[Hr,Xa]),Ro===ao)););return Xa-=On,Xa===Ot||Xa%Ot===0&&Xa/Ot>=0}}},PSEUDO:function(En,fr){var Nr,Ot=K.pseudos[En]||K.setFilters[En.toLowerCase()]||xi.error("unsupported pseudo: "+En);return Ot[Gr]?Ot(fr):Ot.length>1?(Nr=[En,En,"",fr],K.setFilters.hasOwnProperty(En.toLowerCase())?ls(function(On,Yn){for(var di,Qi=Ot(On,fr),ao=Qi.length;ao--;)di=ee.call(On,Qi[ao]),On[di]=!(Yn[di]=Qi[ao])}):function(On){return Ot(On,0,Nr)}):Ot}},pseudos:{not:ls(function(En){var fr=[],Nr=[],Ot=kl(En.replace(cn,"$1"));return Ot[Gr]?ls(function(On,Yn,di,Qi){for(var ao,Ps=Ot(On,null,Qi,[]),ts=On.length;ts--;)(ao=Ps[ts])&&(On[ts]=!(Yn[ts]=ao))}):function(On,Yn,di){return fr[0]=On,Ot(fr,null,di,Nr),fr[0]=null,!Nr.pop()}}),has:ls(function(En){return function(fr){return xi(En,fr).length>0}}),contains:ls(function(En){return En=En.replace(qi,Ri),function(fr){return(fr.textContent||U.text(fr)).indexOf(En)>-1}}),lang:ls(function(En){return $n.test(En||"")||xi.error("unsupported lang: "+En),En=En.replace(qi,Ri).toLowerCase(),function(fr){var Nr;do if(Nr=gn?fr.lang:fr.getAttribute("xml:lang")||fr.getAttribute("lang"))return Nr=Nr.toLowerCase(),Nr===En||Nr.indexOf(En+"-")===0;while((fr=fr.parentNode)&&fr.nodeType===1);return!1}}),target:function(En){var fr=M.location&&M.location.hash;return fr&&fr.slice(1)===En.id},root:function(En){return En===wn},focus:function(En){return En===po()&&dt.hasFocus()&&!!(En.type||En.href||~En.tabIndex)},enabled:xa(!1),disabled:xa(!0),checked:function(En){return ut(En,"input")&&!!En.checked||ut(En,"option")&&!!En.selected},selected:function(En){return En.parentNode&&En.parentNode.selectedIndex,En.selected===!0},empty:function(En){for(En=En.firstChild;En;En=En.nextSibling)if(En.nodeType<6)return!1;return!0},parent:function(En){return!K.pseudos.empty(En)},header:function(En){return io.test(En.nodeName)},input:function(En){return Er.test(En.nodeName)},button:function(En){return ut(En,"input")&&En.type==="button"||ut(En,"button")},text:function(En){var fr;return ut(En,"input")&&En.type==="text"&&((fr=En.getAttribute("type"))==null||fr.toLowerCase()==="text")},first:Ca(function(){return[0]}),last:Ca(function(En,fr){return[fr-1]}),eq:Ca(function(En,fr,Nr){return[Nr<0?Nr+fr:Nr]}),even:Ca(function(En,fr){for(var Nr=0;Nr<fr;Nr+=2)En.push(Nr);return En}),odd:Ca(function(En,fr){for(var Nr=1;Nr<fr;Nr+=2)En.push(Nr);return En}),lt:Ca(function(En,fr,Nr){var Ot;for(Nr<0?Ot=Nr+fr:Nr>fr?Ot=fr:Ot=Nr;--Ot>=0;)En.push(Ot);return En}),gt:Ca(function(En,fr,Nr){for(var Ot=Nr<0?Nr+fr:Nr;++Ot<fr;)En.push(Ot);return En})}},K.pseudos.nth=K.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})K.pseudos[_]=Hs(_);for(_ in{submit:!0,reset:!0})K.pseudos[_]=Ol(_);function Il(){}Il.prototype=K.filters=K.pseudos,K.setFilters=new Il;function Ra(En,fr){var Nr,Ot,On,Yn,di,Qi,ao,Ps=Uo[En+" "];if(Ps)return fr?0:Ps.slice(0);for(di=En,Qi=[],ao=K.preFilter;di;){(!Nr||(Ot=ot.exec(di)))&&(Ot&&(di=di.slice(Ot[0].length)||di),Qi.push(On=[])),Nr=!1,(Ot=Ft.exec(di))&&(Nr=Ot.shift(),On.push({value:Nr,type:Ot[0].replace(cn," ")}),di=di.slice(Nr.length));for(Yn in K.filter)(Ot=Vn[Yn].exec(di))&&(!ao[Yn]||(Ot=ao[Yn](Ot)))&&(Nr=Ot.shift(),On.push({value:Nr,type:Yn,matches:Ot}),di=di.slice(Nr.length));if(!Nr)break}return fr?di.length:di?xi.error(En):Uo(En,Qi).slice(0)}function Rl(En){for(var fr=0,Nr=En.length,Ot="";fr<Nr;fr++)Ot+=En[fr].value;return Ot}function Ka(En,fr,Nr){var Ot=fr.dir,On=fr.next,Yn=On||Ot,di=Nr&&Yn==="parentNode",Qi=bi++;return fr.first?function(ao,Ps,ts){for(;ao=ao[Ot];)if(ao.nodeType===1||di)return En(ao,Ps,ts);return!1}:function(ao,Ps,ts){var Lo,jo,Ro=[Hr,Qi];if(ts){for(;ao=ao[Ot];)if((ao.nodeType===1||di)&&En(ao,Ps,ts))return!0}else for(;ao=ao[Ot];)if(ao.nodeType===1||di)if(jo=ao[Gr]||(ao[Gr]={}),On&&ut(ao,On))ao=ao[Ot]||ao;else{if((Lo=jo[Yn])&&Lo[0]===Hr&&Lo[1]===Qi)return Ro[2]=Lo[2];if(jo[Yn]=Ro,Ro[2]=En(ao,Ps,ts))return!0}return!1}}function ol(En){return En.length>1?function(fr,Nr,Ot){for(var On=En.length;On--;)if(!En[On](fr,Nr,Ot))return!1;return!0}:En[0]}function Wl(En,fr,Nr){for(var Ot=0,On=fr.length;Ot<On;Ot++)xi(En,fr[Ot],Nr);return Nr}function sl(En,fr,Nr,Ot,On){for(var Yn,di=[],Qi=0,ao=En.length,Ps=fr!=null;Qi<ao;Qi++)(Yn=En[Qi])&&(!Nr||Nr(Yn,Ot,On))&&(di.push(Yn),Ps&&fr.push(Qi));return di}function Ia(En,fr,Nr,Ot,On,Yn){return Ot&&!Ot[Gr]&&(Ot=Ia(Ot)),On&&!On[Gr]&&(On=Ia(On,Yn)),ls(function(di,Qi,ao,Ps){var ts,Lo,jo,Ro,$s=[],ya=[],ha=Qi.length,Wa=di||Wl(fr||"*",ao.nodeType?[ao]:ao,[]),bl=En&&(di||!fr)?sl(Wa,$s,En,ao,Ps):Wa;if(Nr?(Ro=On||(di?En:ha||Ot)?[]:Qi,Nr(bl,Ro,ao,Ps)):Ro=bl,Ot)for(ts=sl(Ro,ya),Ot(ts,[],ao,Ps),Lo=ts.length;Lo--;)(jo=ts[Lo])&&(Ro[ya[Lo]]=!(bl[ya[Lo]]=jo));if(di){if(On||En){if(On){for(ts=[],Lo=Ro.length;Lo--;)(jo=Ro[Lo])&&ts.push(bl[Lo]=jo);On(null,Ro=[],ts,Ps)}for(Lo=Ro.length;Lo--;)(jo=Ro[Lo])&&(ts=On?ee.call(di,jo):$s[Lo])>-1&&(di[ts]=!(Qi[ts]=jo))}}else Ro=sl(Ro===Qi?Ro.splice(ha,Ro.length):Ro),On?On(null,Qi,Ro,Ps):He.apply(Qi,Ro)})}function pc(En){for(var fr,Nr,Ot,On=En.length,Yn=K.relative[En[0].type],di=Yn||K.relative[" "],Qi=Yn?1:0,ao=Ka(function(Lo){return Lo===fr},di,!0),Ps=Ka(function(Lo){return ee.call(fr,Lo)>-1},di,!0),ts=[function(Lo,jo,Ro){var $s=!Yn&&(Ro||jo!=he)||((fr=jo).nodeType?ao(Lo,jo,Ro):Ps(Lo,jo,Ro));return fr=null,$s}];Qi<On;Qi++)if(Nr=K.relative[En[Qi].type])ts=[Ka(ol(ts),Nr)];else{if(Nr=K.filter[En[Qi].type].apply(null,En[Qi].matches),Nr[Gr]){for(Ot=++Qi;Ot<On&&!K.relative[En[Ot].type];Ot++);return Ia(Qi>1&&ol(ts),Qi>1&&Rl(En.slice(0,Qi-1).concat({value:En[Qi-2].type===" "?"*":""})).replace(cn,"$1"),Nr,Qi<Ot&&pc(En.slice(Qi,Ot)),Ot<On&&pc(En=En.slice(Ot)),Ot<On&&Rl(En))}ts.push(Nr)}return ol(ts)}function al(En,fr){var Nr=fr.length>0,Ot=En.length>0,On=function(Yn,di,Qi,ao,Ps){var ts,Lo,jo,Ro=0,$s="0",ya=Yn&&[],ha=[],Wa=he,bl=Yn||Ot&&K.find.TAG("*",Ps),Ls=Hr+=Wa==null?1:Math.random()||.1,Xa=bl.length;for(Ps&&(he=di==dt||di||Ps);$s!==Xa&&(ts=bl[$s])!=null;$s++){if(Ot&&ts){for(Lo=0,!di&&ts.ownerDocument!=dt&&(Aa(ts),Qi=!gn);jo=En[Lo++];)if(jo(ts,di||dt,Qi)){He.call(ao,ts);break}Ps&&(Hr=Ls)}Nr&&((ts=!jo&&ts)&&Ro--,Yn&&ya.push(ts))}if(Ro+=$s,Nr&&$s!==Ro){for(Lo=0;jo=fr[Lo++];)jo(ya,ha,di,Qi);if(Yn){if(Ro>0)for(;$s--;)ya[$s]||ha[$s]||(ha[$s]=vn.call(ao));ha=sl(ha)}He.apply(ao,ha),Ps&&!Yn&&ha.length>0&&Ro+fr.length>1&&U.uniqueSort(ao)}return Ps&&(Hr=Ls,he=Wa),ya};return Nr?ls(On):On}function kl(En,fr){var Nr,Ot=[],On=[],Yn=Zo[En+" "];if(!Yn){for(fr||(fr=Ra(En)),Nr=fr.length;Nr--;)Yn=pc(fr[Nr]),Yn[Gr]?Ot.push(Yn):On.push(Yn);Yn=Zo(En,al(On,Ot)),Yn.selector=En}return Yn}function Bc(En,fr,Nr,Ot){var On,Yn,di,Qi,ao,Ps=typeof En=="function"&&En,ts=!Ot&&Ra(En=Ps.selector||En);if(Nr=Nr||[],ts.length===1){if(Yn=ts[0]=ts[0].slice(0),Yn.length>2&&(di=Yn[0]).type==="ID"&&fr.nodeType===9&&gn&&K.relative[Yn[1].type]){if(fr=(K.find.ID(di.matches[0].replace(qi,Ri),fr)||[])[0],fr)Ps&&(fr=fr.parentNode);else return Nr;En=En.slice(Yn.shift().value.length)}for(On=Vn.needsContext.test(En)?0:Yn.length;On--&&(di=Yn[On],!K.relative[Qi=di.type]);)if((ao=K.find[Qi])&&(Ot=ao(di.matches[0].replace(qi,Ri),Ki.test(Yn[0].type)&&ra(fr.parentNode)||fr))){if(Yn.splice(On,1),En=Ot.length&&Rl(Yn),!En)return He.apply(Nr,Ot),Nr;break}}return(Ps||kl(En,ts))(Ot,fr,!gn,Nr,!fr||Ki.test(En)&&ra(fr.parentNode)||fr),Nr}fe.sortStable=Gr.split("").sort(Ms).join("")===Gr,Aa(),fe.sortDetached=Yo(function(En){return En.compareDocumentPosition(dt.createElement("fieldset"))&1}),U.find=xi,U.expr[":"]=U.expr.pseudos,U.unique=U.uniqueSort,xi.compile=kl,xi.select=Bc,xi.setDocument=Aa,xi.tokenize=Ra,xi.escape=U.escapeSelector,xi.getText=U.text,xi.isXML=U.isXMLDoc,xi.selectors=U.expr,xi.support=U.support,xi.uniqueSort=U.uniqueSort})();var yt=function(_,K,he){for(var ye=[],Ue=he!==void 0;(_=_[K])&&_.nodeType!==9;)if(_.nodeType===1){if(Ue&&U(_).is(he))break;ye.push(_)}return ye},Et=function(_,K){for(var he=[];_;_=_.nextSibling)_.nodeType===1&&_!==K&&he.push(_);return he},$e=U.expr.match.needsContext,$t=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Jt(_,K,he){return Ce(K)?U.grep(_,function(ye,Ue){return!!K.call(ye,Ue,ye)!==he}):K.nodeType?U.grep(_,function(ye){return ye===K!==he}):typeof K!="string"?U.grep(_,function(ye){return ee.call(K,ye)>-1!==he}):U.filter(K,_,he)}U.filter=function(_,K,he){var ye=K[0];return he&&(_=":not("+_+")"),K.length===1&&ye.nodeType===1?U.find.matchesSelector(ye,_)?[ye]:[]:U.find.matches(_,U.grep(K,function(Ue){return Ue.nodeType===1}))},U.fn.extend({find:function(_){var K,he,ye=this.length,Ue=this;if(typeof _!="string")return this.pushStack(U(_).filter(function(){for(K=0;K<ye;K++)if(U.contains(Ue[K],this))return!0}));for(he=this.pushStack([]),K=0;K<ye;K++)U.find(_,Ue[K],he);return ye>1?U.uniqueSort(he):he},filter:function(_){return this.pushStack(Jt(this,_||[],!1))},not:function(_){return this.pushStack(Jt(this,_||[],!0))},is:function(_){return!!Jt(this,typeof _=="string"&&$e.test(_)?U(_):_||[],!1).length}});var tn,ir=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Or=U.fn.init=function(_,K,he){var ye,Ue;if(!_)return this;if(he=he||tn,typeof _=="string")if(_[0]==="<"&&_[_.length-1]===">"&&_.length>=3?ye=[null,_,null]:ye=ir.exec(_),ye&&(ye[1]||!K))if(ye[1]){if(K=K instanceof U?K[0]:K,U.merge(this,U.parseHTML(ye[1],K&&K.nodeType?K.ownerDocument||K:Pe,!0)),$t.test(ye[1])&&U.isPlainObject(K))for(ye in K)Ce(this[ye])?this[ye](K[ye]):this.attr(ye,K[ye]);return this}else return Ue=Pe.getElementById(ye[2]),Ue&&(this[0]=Ue,this.length=1),this;else return!K||K.jquery?(K||he).find(_):this.constructor(K).find(_);else{if(_.nodeType)return this[0]=_,this.length=1,this;if(Ce(_))return he.ready!==void 0?he.ready(_):_(U)}return U.makeArray(_,this)};Or.prototype=U.fn,tn=U(Pe);var Fr=/^(?:parents|prev(?:Until|All))/,lr={children:!0,contents:!0,next:!0,prev:!0};U.fn.extend({has:function(_){var K=U(_,this),he=K.length;return this.filter(function(){for(var ye=0;ye<he;ye++)if(U.contains(this,K[ye]))return!0})},closest:function(_,K){var he,ye=0,Ue=this.length,He=[],dt=typeof _!="string"&&U(_);if(!$e.test(_)){for(;ye<Ue;ye++)for(he=this[ye];he&&he!==K;he=he.parentNode)if(he.nodeType<11&&(dt?dt.index(he)>-1:he.nodeType===1&&U.find.matchesSelector(he,_))){He.push(he);break}}return this.pushStack(He.length>1?U.uniqueSort(He):He)},index:function(_){return _?typeof _=="string"?ee.call(U(_),this[0]):ee.call(this,_.jquery?_[0]:_):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(_,K){return this.pushStack(U.uniqueSort(U.merge(this.get(),U(_,K))))},addBack:function(_){return this.add(_==null?this.prevObject:this.prevObject.filter(_))}});function Yr(_,K){for(;(_=_[K])&&_.nodeType!==1;);return _}U.each({parent:function(_){var K=_.parentNode;return K&&K.nodeType!==11?K:null},parents:function(_){return yt(_,"parentNode")},parentsUntil:function(_,K,he){return yt(_,"parentNode",he)},next:function(_){return Yr(_,"nextSibling")},prev:function(_){return Yr(_,"previousSibling")},nextAll:function(_){return yt(_,"nextSibling")},prevAll:function(_){return yt(_,"previousSibling")},nextUntil:function(_,K,he){return yt(_,"nextSibling",he)},prevUntil:function(_,K,he){return yt(_,"previousSibling",he)},siblings:function(_){return Et((_.parentNode||{}).firstChild,_)},children:function(_){return Et(_.firstChild)},contents:function(_){return _.contentDocument!=null&&k(_.contentDocument)?_.contentDocument:(ut(_,"template")&&(_=_.content||_),U.merge([],_.childNodes))}},function(_,K){U.fn[_]=function(he,ye){var Ue=U.map(this,K,he);return _.slice(-5)!=="Until"&&(ye=he),ye&&typeof ye=="string"&&(Ue=U.filter(ye,Ue)),this.length>1&&(lr[_]||U.uniqueSort(Ue),Fr.test(_)&&Ue.reverse()),this.pushStack(Ue)}});var jn=/[^\x20\t\r\n\f]+/g;function dr(_){var K={};return U.each(_.match(jn)||[],function(he,ye){K[ye]=!0}),K}U.Callbacks=function(_){_=typeof _=="string"?dr(_):U.extend({},_);var K,he,ye,Ue,He=[],dt=[],wn=-1,gn=function(){for(Ue=Ue||_.once,ye=K=!0;dt.length;wn=-1)for(he=dt.shift();++wn<He.length;)He[wn].apply(he[0],he[1])===!1&&_.stopOnFalse&&(wn=He.length,he=!1);_.memory||(he=!1),K=!1,Ue&&(he?He=[]:He="")},Pn={add:function(){return He&&(he&&!K&&(wn=He.length-1,dt.push(he)),function zr(Gr){U.each(Gr,function(Hr,bi){Ce(bi)?(!_.unique||!Pn.has(bi))&&He.push(bi):bi&&bi.length&&mt(bi)!=="string"&&zr(bi)})}(arguments),he&&!K&&gn()),this},remove:function(){return U.each(arguments,function(zr,Gr){for(var Hr;(Hr=U.inArray(Gr,He,Hr))>-1;)He.splice(Hr,1),Hr<=wn&&wn--}),this},has:function(zr){return zr?U.inArray(zr,He)>-1:He.length>0},empty:function(){return He&&(He=[]),this},disable:function(){return Ue=dt=[],He=he="",this},disabled:function(){return!He},lock:function(){return Ue=dt=[],!he&&!K&&(He=he=""),this},locked:function(){return!!Ue},fireWith:function(zr,Gr){return Ue||(Gr=Gr||[],Gr=[zr,Gr.slice?Gr.slice():Gr],dt.push(Gr),K||gn()),this},fire:function(){return Pn.fireWith(this,arguments),this},fired:function(){return!!ye}};return Pn};function br(_){return _}function nr(_){throw _}function Lr(_,K,he,ye){var Ue;try{_&&Ce(Ue=_.promise)?Ue.call(_).done(K).fail(he):_&&Ce(Ue=_.then)?Ue.call(_,K,he):K.apply(void 0,[_].slice(ye))}catch(He){he.apply(void 0,[He])}}U.extend({Deferred:function(_){var K=[["notify","progress",U.Callbacks("memory"),U.Callbacks("memory"),2],["resolve","done",U.Callbacks("once memory"),U.Callbacks("once memory"),0,"resolved"],["reject","fail",U.Callbacks("once memory"),U.Callbacks("once memory"),1,"rejected"]],he="pending",ye={state:function(){return he},always:function(){return Ue.done(arguments).fail(arguments),this},catch:function(He){return ye.then(null,He)},pipe:function(){var He=arguments;return U.Deferred(function(dt){U.each(K,function(wn,gn){var Pn=Ce(He[gn[4]])&&He[gn[4]];Ue[gn[1]](function(){var zr=Pn&&Pn.apply(this,arguments);zr&&Ce(zr.promise)?zr.promise().progress(dt.notify).done(dt.resolve).fail(dt.reject):dt[gn[0]+"With"](this,Pn?[zr]:arguments)})}),He=null}).promise()},then:function(He,dt,wn){var gn=0;function Pn(zr,Gr,Hr,bi){return function(){var Vo=this,Uo=arguments,Zo=function(){var Ms,No;if(!(zr<gn)){if(Ms=Hr.apply(Vo,Uo),Ms===Gr.promise())throw new TypeError("Thenable self-resolution");No=Ms&&(typeof Ms=="object"||typeof Ms=="function")&&Ms.then,Ce(No)?bi?No.call(Ms,Pn(gn,Gr,br,bi),Pn(gn,Gr,nr,bi)):(gn++,No.call(Ms,Pn(gn,Gr,br,bi),Pn(gn,Gr,nr,bi),Pn(gn,Gr,br,Gr.notifyWith))):(Hr!==br&&(Vo=void 0,Uo=[Ms]),(bi||Gr.resolveWith)(Vo,Uo))}},Ns=bi?Zo:function(){try{Zo()}catch(Ms){U.Deferred.exceptionHook&&U.Deferred.exceptionHook(Ms,Ns.error),zr+1>=gn&&(Hr!==nr&&(Vo=void 0,Uo=[Ms]),Gr.rejectWith(Vo,Uo))}};zr?Ns():(U.Deferred.getErrorHook?Ns.error=U.Deferred.getErrorHook():U.Deferred.getStackHook&&(Ns.error=U.Deferred.getStackHook()),M.setTimeout(Ns))}}return U.Deferred(function(zr){K[0][3].add(Pn(0,zr,Ce(wn)?wn:br,zr.notifyWith)),K[1][3].add(Pn(0,zr,Ce(He)?He:br)),K[2][3].add(Pn(0,zr,Ce(dt)?dt:nr))}).promise()},promise:function(He){return He!=null?U.extend(He,ye):ye}},Ue={};return U.each(K,function(He,dt){var wn=dt[2],gn=dt[5];ye[dt[1]]=wn.add,gn&&wn.add(function(){he=gn},K[3-He][2].disable,K[3-He][3].disable,K[0][2].lock,K[0][3].lock),wn.add(dt[3].fire),Ue[dt[0]]=function(){return Ue[dt[0]+"With"](this===Ue?void 0:this,arguments),this},Ue[dt[0]+"With"]=wn.fireWith}),ye.promise(Ue),_&&_.call(Ue,Ue),Ue},when:function(_){var K=arguments.length,he=K,ye=Array(he),Ue=F.call(arguments),He=U.Deferred(),dt=function(wn){return function(gn){ye[wn]=this,Ue[wn]=arguments.length>1?F.call(arguments):gn,--K||He.resolveWith(ye,Ue)}};if(K<=1&&(Lr(_,He.done(dt(he)).resolve,He.reject,!K),He.state()==="pending"||Ce(Ue[he]&&Ue[he].then)))return He.then();for(;he--;)Lr(Ue[he],dt(he),He.reject);return He.promise()}});var Ji=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;U.Deferred.exceptionHook=function(_,K){M.console&&M.console.warn&&_&&Ji.test(_.name)&&M.console.warn("jQuery.Deferred exception: "+_.message,_.stack,K)},U.readyException=function(_){M.setTimeout(function(){throw _})};var Ci=U.Deferred();U.fn.ready=function(_){return Ci.then(_).catch(function(K){U.readyException(K)}),this},U.extend({isReady:!1,readyWait:1,ready:function(_){(_===!0?--U.readyWait:U.isReady)||(U.isReady=!0,!(_!==!0&&--U.readyWait>0)&&Ci.resolveWith(Pe,[U]))}}),U.ready.then=Ci.then;function $i(){Pe.removeEventListener("DOMContentLoaded",$i),M.removeEventListener("load",$i),U.ready()}Pe.readyState==="complete"||Pe.readyState!=="loading"&&!Pe.documentElement.doScroll?M.setTimeout(U.ready):(Pe.addEventListener("DOMContentLoaded",$i),M.addEventListener("load",$i));var It=function(_,K,he,ye,Ue,He,dt){var wn=0,gn=_.length,Pn=he==null;if(mt(he)==="object"){Ue=!0;for(wn in he)It(_,K,wn,he[wn],!0,He,dt)}else if(ye!==void 0&&(Ue=!0,Ce(ye)||(dt=!0),Pn&&(dt?(K.call(_,ye),K=null):(Pn=K,K=function(zr,Gr,Hr){return Pn.call(U(zr),Hr)})),K))for(;wn<gn;wn++)K(_[wn],he,dt?ye:ye.call(_[wn],wn,K(_[wn],he)));return Ue?_:Pn?K.call(_):gn?K(_[0],he):He},Q=/^-ms-/,we=/-([a-z])/g;function Nt(_,K){return K.toUpperCase()}function jt(_){return _.replace(Q,"ms-").replace(we,Nt)}var gt=function(_){return _.nodeType===1||_.nodeType===9||!+_.nodeType};function Je(){this.expando=U.expando+Je.uid++}Je.uid=1,Je.prototype={cache:function(_){var K=_[this.expando];return K||(K={},gt(_)&&(_.nodeType?_[this.expando]=K:Object.defineProperty(_,this.expando,{value:K,configurable:!0}))),K},set:function(_,K,he){var ye,Ue=this.cache(_);if(typeof K=="string")Ue[jt(K)]=he;else for(ye in K)Ue[jt(ye)]=K[ye];return Ue},get:function(_,K){return K===void 0?this.cache(_):_[this.expando]&&_[this.expando][jt(K)]},access:function(_,K,he){return K===void 0||K&&typeof K=="string"&&he===void 0?this.get(_,K):(this.set(_,K,he),he!==void 0?he:K)},remove:function(_,K){var he,ye=_[this.expando];if(ye!==void 0){if(K!==void 0)for(Array.isArray(K)?K=K.map(jt):(K=jt(K),K=K in ye?[K]:K.match(jn)||[]),he=K.length;he--;)delete ye[K[he]];(K===void 0||U.isEmptyObject(ye))&&(_.nodeType?_[this.expando]=void 0:delete _[this.expando])}},hasData:function(_){var K=_[this.expando];return K!==void 0&&!U.isEmptyObject(K)}};var pt=new Je,rt=new Je,qt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Dn=/[A-Z]/g;function _n(_){return _==="true"?!0:_==="false"?!1:_==="null"?null:_===+_+""?+_:qt.test(_)?JSON.parse(_):_}function Wr(_,K,he){var ye;if(he===void 0&&_.nodeType===1)if(ye="data-"+K.replace(Dn,"-$&").toLowerCase(),he=_.getAttribute(ye),typeof he=="string"){try{he=_n(he)}catch(Ue){}rt.set(_,K,he)}else he=void 0;return he}U.extend({hasData:function(_){return rt.hasData(_)||pt.hasData(_)},data:function(_,K,he){return rt.access(_,K,he)},removeData:function(_,K){rt.remove(_,K)},_data:function(_,K,he){return pt.access(_,K,he)},_removeData:function(_,K){pt.remove(_,K)}}),U.fn.extend({data:function(_,K){var he,ye,Ue,He=this[0],dt=He&&He.attributes;if(_===void 0){if(this.length&&(Ue=rt.get(He),He.nodeType===1&&!pt.get(He,"hasDataAttrs"))){for(he=dt.length;he--;)dt[he]&&(ye=dt[he].name,ye.indexOf("data-")===0&&(ye=jt(ye.slice(5)),Wr(He,ye,Ue[ye])));pt.set(He,"hasDataAttrs",!0)}return Ue}return typeof _=="object"?this.each(function(){rt.set(this,_)}):It(this,function(wn){var gn;if(He&&wn===void 0)return gn=rt.get(He,_),gn!==void 0||(gn=Wr(He,_),gn!==void 0)?gn:void 0;this.each(function(){rt.set(this,_,wn)})},null,K,arguments.length>1,null,!0)},removeData:function(_){return this.each(function(){rt.remove(this,_)})}}),U.extend({queue:function(_,K,he){var ye;if(_)return K=(K||"fx")+"queue",ye=pt.get(_,K),he&&(!ye||Array.isArray(he)?ye=pt.access(_,K,U.makeArray(he)):ye.push(he)),ye||[]},dequeue:function(_,K){K=K||"fx";var he=U.queue(_,K),ye=he.length,Ue=he.shift(),He=U._queueHooks(_,K),dt=function(){U.dequeue(_,K)};Ue==="inprogress"&&(Ue=he.shift(),ye--),Ue&&(K==="fx"&&he.unshift("inprogress"),delete He.stop,Ue.call(_,dt,He)),!ye&&He&&He.empty.fire()},_queueHooks:function(_,K){var he=K+"queueHooks";return pt.get(_,he)||pt.access(_,he,{empty:U.Callbacks("once memory").add(function(){pt.remove(_,[K+"queue",he])})})}}),U.fn.extend({queue:function(_,K){var he=2;return typeof _!="string"&&(K=_,_="fx",he--),arguments.length<he?U.queue(this[0],_):K===void 0?this:this.each(function(){var ye=U.queue(this,_,K);U._queueHooks(this,_),_==="fx"&&ye[0]!=="inprogress"&&U.dequeue(this,_)})},dequeue:function(_){return this.each(function(){U.dequeue(this,_)})},clearQueue:function(_){return this.queue(_||"fx",[])},promise:function(_,K){var he,ye=1,Ue=U.Deferred(),He=this,dt=this.length,wn=function(){--ye||Ue.resolveWith(He,[He])};for(typeof _!="string"&&(K=_,_=void 0),_=_||"fx";dt--;)he=pt.get(He[dt],_+"queueHooks"),he&&he.empty&&(ye++,he.empty.add(wn));return wn(),Ue.promise(K)}});var Qn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+Qn+")([a-z%]*)$","i"),mn=["Top","Right","Bottom","Left"],kn=Pe.documentElement,gr=function(_){return U.contains(_.ownerDocument,_)},kr={composed:!0};kn.getRootNode&&(gr=function(_){return U.contains(_.ownerDocument,_)||_.getRootNode(kr)===_.ownerDocument});var Ei=function(_,K){return _=K||_,_.style.display==="none"||_.style.display===""&&gr(_)&&U.css(_,"display")==="none"};function er(_,K,he,ye){var Ue,He,dt=20,wn=ye?function(){return ye.cur()}:function(){return U.css(_,K,"")},gn=wn(),Pn=he&&he[3]||(U.cssNumber[K]?"":"px"),zr=_.nodeType&&(U.cssNumber[K]||Pn!=="px"&&+gn)&&it.exec(U.css(_,K));if(zr&&zr[3]!==Pn){for(gn=gn/2,Pn=Pn||zr[3],zr=+gn||1;dt--;)U.style(_,K,zr+Pn),(1-He)*(1-(He=wn()/gn||.5))<=0&&(dt=0),zr=zr/He;zr=zr*2,U.style(_,K,zr+Pn),he=he||[]}return he&&(zr=+zr||+gn||0,Ue=he[1]?zr+(he[1]+1)*he[2]:+he[2],ye&&(ye.unit=Pn,ye.start=zr,ye.end=Ue)),Ue}var Tt={};function sn(_){var K,he=_.ownerDocument,ye=_.nodeName,Ue=Tt[ye];return Ue||(K=he.body.appendChild(he.createElement(ye)),Ue=U.css(K,"display"),K.parentNode.removeChild(K),Ue==="none"&&(Ue="block"),Tt[ye]=Ue,Ue)}function _t(_,K){for(var he,ye,Ue=[],He=0,dt=_.length;He<dt;He++)ye=_[He],ye.style&&(he=ye.style.display,K?(he==="none"&&(Ue[He]=pt.get(ye,"display")||null,Ue[He]||(ye.style.display="")),ye.style.display===""&&Ei(ye)&&(Ue[He]=sn(ye))):he!=="none"&&(Ue[He]="none",pt.set(ye,"display",he)));for(He=0;He<dt;He++)Ue[He]!=null&&(_[He].style.display=Ue[He]);return _}U.fn.extend({show:function(){return _t(this,!0)},hide:function(){return _t(this)},toggle:function(_){return typeof _=="boolean"?_?this.show():this.hide():this.each(function(){Ei(this)?U(this).show():U(this).hide()})}});var Ut=/^(?:checkbox|radio)$/i,Rn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Cr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var _=Pe.createDocumentFragment(),K=_.appendChild(Pe.createElement("div")),he=Pe.createElement("input");he.setAttribute("type","radio"),he.setAttribute("checked","checked"),he.setAttribute("name","t"),K.appendChild(he),fe.checkClone=K.cloneNode(!0).cloneNode(!0).lastChild.checked,K.innerHTML="<textarea>x</textarea>",fe.noCloneChecked=!!K.cloneNode(!0).lastChild.defaultValue,K.innerHTML="<option></option>",fe.option=!!K.lastChild})();var si={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};si.tbody=si.tfoot=si.colgroup=si.caption=si.thead,si.th=si.td,fe.option||(si.optgroup=si.option=[1,"<select multiple='multiple'>","</select>"]);function tr(_,K){var he;return typeof _.getElementsByTagName!="undefined"?he=_.getElementsByTagName(K||"*"):typeof _.querySelectorAll!="undefined"?he=_.querySelectorAll(K||"*"):he=[],K===void 0||K&&ut(_,K)?U.merge([_],he):he}function xn(_,K){for(var he=0,ye=_.length;he<ye;he++)pt.set(_[he],"globalEval",!K||pt.get(K[he],"globalEval"))}var Hn=/<|&#?\w+;/;function Kn(_,K,he,ye,Ue){for(var He,dt,wn,gn,Pn,zr,Gr=K.createDocumentFragment(),Hr=[],bi=0,Vo=_.length;bi<Vo;bi++)if(He=_[bi],He||He===0)if(mt(He)==="object")U.merge(Hr,He.nodeType?[He]:He);else if(!Hn.test(He))Hr.push(K.createTextNode(He));else{for(dt=dt||Gr.appendChild(K.createElement("div")),wn=(Rn.exec(He)||["",""])[1].toLowerCase(),gn=si[wn]||si._default,dt.innerHTML=gn[1]+U.htmlPrefilter(He)+gn[2],zr=gn[0];zr--;)dt=dt.lastChild;U.merge(Hr,dt.childNodes),dt=Gr.firstChild,dt.textContent=""}for(Gr.textContent="",bi=0;He=Hr[bi++];){if(ye&&U.inArray(He,ye)>-1){Ue&&Ue.push(He);continue}if(Pn=gr(He),dt=tr(Gr.appendChild(He),"script"),Pn&&xn(dt),he)for(zr=0;He=dt[zr++];)Cr.test(He.type||"")&&he.push(He)}return Gr}var yn=/^([^.]*)(?:\.(.+)|)/;function Sr(){return!0}function yr(){return!1}function Tr(_,K,he,ye,Ue,He){var dt,wn;if(typeof K=="object"){typeof he!="string"&&(ye=ye||he,he=void 0);for(wn in K)Tr(_,wn,he,ye,K[wn],He);return _}if(ye==null&&Ue==null?(Ue=he,ye=he=void 0):Ue==null&&(typeof he=="string"?(Ue=ye,ye=void 0):(Ue=ye,ye=he,he=void 0)),Ue===!1)Ue=yr;else if(!Ue)return _;return He===1&&(dt=Ue,Ue=function(gn){return U().off(gn),dt.apply(this,arguments)},Ue.guid=dt.guid||(dt.guid=U.guid++)),_.each(function(){U.event.add(this,K,Ue,ye,he)})}U.event={global:{},add:function(_,K,he,ye,Ue){var He,dt,wn,gn,Pn,zr,Gr,Hr,bi,Vo,Uo,Zo=pt.get(_);if(gt(_))for(he.handler&&(He=he,he=He.handler,Ue=He.selector),Ue&&U.find.matchesSelector(kn,Ue),he.guid||(he.guid=U.guid++),(gn=Zo.events)||(gn=Zo.events=Object.create(null)),(dt=Zo.handle)||(dt=Zo.handle=function(Ns){return typeof U!="undefined"&&U.event.triggered!==Ns.type?U.event.dispatch.apply(_,arguments):void 0}),K=(K||"").match(jn)||[""],Pn=K.length;Pn--;)wn=yn.exec(K[Pn])||[],bi=Uo=wn[1],Vo=(wn[2]||"").split(".").sort(),bi&&(Gr=U.event.special[bi]||{},bi=(Ue?Gr.delegateType:Gr.bindType)||bi,Gr=U.event.special[bi]||{},zr=U.extend({type:bi,origType:Uo,data:ye,handler:he,guid:he.guid,selector:Ue,needsContext:Ue&&U.expr.match.needsContext.test(Ue),namespace:Vo.join(".")},He),(Hr=gn[bi])||(Hr=gn[bi]=[],Hr.delegateCount=0,(!Gr.setup||Gr.setup.call(_,ye,Vo,dt)===!1)&&_.addEventListener&&_.addEventListener(bi,dt)),Gr.add&&(Gr.add.call(_,zr),zr.handler.guid||(zr.handler.guid=he.guid)),Ue?Hr.splice(Hr.delegateCount++,0,zr):Hr.push(zr),U.event.global[bi]=!0)},remove:function(_,K,he,ye,Ue){var He,dt,wn,gn,Pn,zr,Gr,Hr,bi,Vo,Uo,Zo=pt.hasData(_)&&pt.get(_);if(!(!Zo||!(gn=Zo.events))){for(K=(K||"").match(jn)||[""],Pn=K.length;Pn--;){if(wn=yn.exec(K[Pn])||[],bi=Uo=wn[1],Vo=(wn[2]||"").split(".").sort(),!bi){for(bi in gn)U.event.remove(_,bi+K[Pn],he,ye,!0);continue}for(Gr=U.event.special[bi]||{},bi=(ye?Gr.delegateType:Gr.bindType)||bi,Hr=gn[bi]||[],wn=wn[2]&&new RegExp("(^|\\.)"+Vo.join("\\.(?:.*\\.|)")+"(\\.|$)"),dt=He=Hr.length;He--;)zr=Hr[He],(Ue||Uo===zr.origType)&&(!he||he.guid===zr.guid)&&(!wn||wn.test(zr.namespace))&&(!ye||ye===zr.selector||ye==="**"&&zr.selector)&&(Hr.splice(He,1),zr.selector&&Hr.delegateCount--,Gr.remove&&Gr.remove.call(_,zr));dt&&!Hr.length&&((!Gr.teardown||Gr.teardown.call(_,Vo,Zo.handle)===!1)&&U.removeEvent(_,bi,Zo.handle),delete gn[bi])}U.isEmptyObject(gn)&&pt.remove(_,"handle events")}},dispatch:function(_){var K,he,ye,Ue,He,dt,wn=new Array(arguments.length),gn=U.event.fix(_),Pn=(pt.get(this,"events")||Object.create(null))[gn.type]||[],zr=U.event.special[gn.type]||{};for(wn[0]=gn,K=1;K<arguments.length;K++)wn[K]=arguments[K];if(gn.delegateTarget=this,!(zr.preDispatch&&zr.preDispatch.call(this,gn)===!1)){for(dt=U.event.handlers.call(this,gn,Pn),K=0;(Ue=dt[K++])&&!gn.isPropagationStopped();)for(gn.currentTarget=Ue.elem,he=0;(He=Ue.handlers[he++])&&!gn.isImmediatePropagationStopped();)(!gn.rnamespace||He.namespace===!1||gn.rnamespace.test(He.namespace))&&(gn.handleObj=He,gn.data=He.data,ye=((U.event.special[He.origType]||{}).handle||He.handler).apply(Ue.elem,wn),ye!==void 0&&(gn.result=ye)===!1&&(gn.preventDefault(),gn.stopPropagation()));return zr.postDispatch&&zr.postDispatch.call(this,gn),gn.result}},handlers:function(_,K){var he,ye,Ue,He,dt,wn=[],gn=K.delegateCount,Pn=_.target;if(gn&&Pn.nodeType&&!(_.type==="click"&&_.button>=1)){for(;Pn!==this;Pn=Pn.parentNode||this)if(Pn.nodeType===1&&!(_.type==="click"&&Pn.disabled===!0)){for(He=[],dt={},he=0;he<gn;he++)ye=K[he],Ue=ye.selector+" ",dt[Ue]===void 0&&(dt[Ue]=ye.needsContext?U(Ue,this).index(Pn)>-1:U.find(Ue,this,null,[Pn]).length),dt[Ue]&&He.push(ye);He.length&&wn.push({elem:Pn,handlers:He})}}return Pn=this,gn<K.length&&wn.push({elem:Pn,handlers:K.slice(gn)}),wn},addProp:function(_,K){Object.defineProperty(U.Event.prototype,_,{enumerable:!0,configurable:!0,get:Ce(K)?function(){if(this.originalEvent)return K(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[_]},set:function(he){Object.defineProperty(this,_,{enumerable:!0,configurable:!0,writable:!0,value:he})}})},fix:function(_){return _[U.expando]?_:new U.Event(_)},special:{load:{noBubble:!0},click:{setup:function(_){var K=this||_;return Ut.test(K.type)&&K.click&&ut(K,"input")&&rn(K,"click",!0),!1},trigger:function(_){var K=this||_;return Ut.test(K.type)&&K.click&&ut(K,"input")&&rn(K,"click"),!0},_default:function(_){var K=_.target;return Ut.test(K.type)&&K.click&&ut(K,"input")&&pt.get(K,"click")||ut(K,"a")}},beforeunload:{postDispatch:function(_){_.result!==void 0&&_.originalEvent&&(_.originalEvent.returnValue=_.result)}}}};function rn(_,K,he){if(!he){pt.get(_,K)===void 0&&U.event.add(_,K,Sr);return}pt.set(_,K,!1),U.event.add(_,K,{namespace:!1,handler:function(ye){var Ue,He=pt.get(this,K);if(ye.isTrigger&1&&this[K]){if(He)(U.event.special[K]||{}).delegateType&&ye.stopPropagation();else if(He=F.call(arguments),pt.set(this,K,He),this[K](),Ue=pt.get(this,K),pt.set(this,K,!1),He!==Ue)return ye.stopImmediatePropagation(),ye.preventDefault(),Ue}else He&&(pt.set(this,K,U.event.trigger(He[0],He.slice(1),this)),ye.stopPropagation(),ye.isImmediatePropagationStopped=Sr)}})}U.removeEvent=function(_,K,he){_.removeEventListener&&_.removeEventListener(K,he)},U.Event=function(_,K){if(!(this instanceof U.Event))return new U.Event(_,K);_&&_.type?(this.originalEvent=_,this.type=_.type,this.isDefaultPrevented=_.defaultPrevented||_.defaultPrevented===void 0&&_.returnValue===!1?Sr:yr,this.target=_.target&&_.target.nodeType===3?_.target.parentNode:_.target,this.currentTarget=_.currentTarget,this.relatedTarget=_.relatedTarget):this.type=_,K&&U.extend(this,K),this.timeStamp=_&&_.timeStamp||Date.now(),this[U.expando]=!0},U.Event.prototype={constructor:U.Event,isDefaultPrevented:yr,isPropagationStopped:yr,isImmediatePropagationStopped:yr,isSimulated:!1,preventDefault:function(){var _=this.originalEvent;this.isDefaultPrevented=Sr,_&&!this.isSimulated&&_.preventDefault()},stopPropagation:function(){var _=this.originalEvent;this.isPropagationStopped=Sr,_&&!this.isSimulated&&_.stopPropagation()},stopImmediatePropagation:function(){var _=this.originalEvent;this.isImmediatePropagationStopped=Sr,_&&!this.isSimulated&&_.stopImmediatePropagation(),this.stopPropagation()}},U.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},U.event.addProp),U.each({focus:"focusin",blur:"focusout"},function(_,K){function he(ye){if(Pe.documentMode){var Ue=pt.get(this,"handle"),He=U.event.fix(ye);He.type=ye.type==="focusin"?"focus":"blur",He.isSimulated=!0,Ue(ye),He.target===He.currentTarget&&Ue(He)}else U.event.simulate(K,ye.target,U.event.fix(ye))}U.event.special[_]={setup:function(){var ye;if(rn(this,_,!0),Pe.documentMode)ye=pt.get(this,K),ye||this.addEventListener(K,he),pt.set(this,K,(ye||0)+1);else return!1},trigger:function(){return rn(this,_),!0},teardown:function(){var ye;if(Pe.documentMode)ye=pt.get(this,K)-1,ye?pt.set(this,K,ye):(this.removeEventListener(K,he),pt.remove(this,K));else return!1},_default:function(ye){return pt.get(ye.target,_)},delegateType:K},U.event.special[K]={setup:function(){var ye=this.ownerDocument||this.document||this,Ue=Pe.documentMode?this:ye,He=pt.get(Ue,K);He||(Pe.documentMode?this.addEventListener(K,he):ye.addEventListener(_,he,!0)),pt.set(Ue,K,(He||0)+1)},teardown:function(){var ye=this.ownerDocument||this.document||this,Ue=Pe.documentMode?this:ye,He=pt.get(Ue,K)-1;He?pt.set(Ue,K,He):(Pe.documentMode?this.removeEventListener(K,he):ye.removeEventListener(_,he,!0),pt.remove(Ue,K))}}}),U.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(_,K){U.event.special[_]={delegateType:K,bindType:K,handle:function(he){var ye,Ue=this,He=he.relatedTarget,dt=he.handleObj;return(!He||He!==Ue&&!U.contains(Ue,He))&&(he.type=dt.origType,ye=dt.handler.apply(this,arguments),he.type=K),ye}}}),U.fn.extend({on:function(_,K,he,ye){return Tr(this,_,K,he,ye)},one:function(_,K,he,ye){return Tr(this,_,K,he,ye,1)},off:function(_,K,he){var ye,Ue;if(_&&_.preventDefault&&_.handleObj)return ye=_.handleObj,U(_.delegateTarget).off(ye.namespace?ye.origType+"."+ye.namespace:ye.origType,ye.selector,ye.handler),this;if(typeof _=="object"){for(Ue in _)this.off(Ue,K,_[Ue]);return this}return(K===!1||typeof K=="function")&&(he=K,K=void 0),he===!1&&(he=yr),this.each(function(){U.event.remove(this,_,he,K)})}});var hn=/<script|<style|<link/i,or=/checked\s*(?:[^=]|=\s*.checked.)/i,Ke=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Xe(_,K){return ut(_,"table")&&ut(K.nodeType!==11?K:K.firstChild,"tr")&&U(_).children("tbody")[0]||_}function je(_){return _.type=(_.getAttribute("type")!==null)+"/"+_.type,_}function me(_){return(_.type||"").slice(0,5)==="true/"?_.type=_.type.slice(5):_.removeAttribute("type"),_}function ze(_,K){var he,ye,Ue,He,dt,wn,gn;if(K.nodeType===1){if(pt.hasData(_)&&(He=pt.get(_),gn=He.events,gn)){pt.remove(K,"handle events");for(Ue in gn)for(he=0,ye=gn[Ue].length;he<ye;he++)U.event.add(K,Ue,gn[Ue][he])}rt.hasData(_)&&(dt=rt.access(_),wn=U.extend({},dt),rt.set(K,wn))}}function Oe(_,K){var he=K.nodeName.toLowerCase();he==="input"&&Ut.test(_.type)?K.checked=_.checked:(he==="input"||he==="textarea")&&(K.defaultValue=_.defaultValue)}function Y(_,K,he,ye){K=H(K);var Ue,He,dt,wn,gn,Pn,zr=0,Gr=_.length,Hr=Gr-1,bi=K[0],Vo=Ce(bi);if(Vo||Gr>1&&typeof bi=="string"&&!fe.checkClone&&or.test(bi))return _.each(function(Uo){var Zo=_.eq(Uo);Vo&&(K[0]=bi.call(this,Uo,Zo.html())),Y(Zo,K,he,ye)});if(Gr&&(Ue=Kn(K,_[0].ownerDocument,!1,_,ye),He=Ue.firstChild,Ue.childNodes.length===1&&(Ue=He),He||ye)){for(dt=U.map(tr(Ue,"script"),je),wn=dt.length;zr<Gr;zr++)gn=Ue,zr!==Hr&&(gn=U.clone(gn,!0,!0),wn&&U.merge(dt,tr(gn,"script"))),he.call(_[zr],gn,zr);if(wn)for(Pn=dt[dt.length-1].ownerDocument,U.map(dt,me),zr=0;zr<wn;zr++)gn=dt[zr],Cr.test(gn.type||"")&&!pt.access(gn,"globalEval")&&U.contains(Pn,gn)&&(gn.src&&(gn.type||"").toLowerCase()!=="module"?U._evalUrl&&!gn.noModule&&U._evalUrl(gn.src,{nonce:gn.nonce||gn.getAttribute("nonce")},Pn):at(gn.textContent.replace(Ke,""),gn,Pn))}return _}function ne(_,K,he){for(var ye,Ue=K?U.filter(K,_):_,He=0;(ye=Ue[He])!=null;He++)!he&&ye.nodeType===1&&U.cleanData(tr(ye)),ye.parentNode&&(he&&gr(ye)&&xn(tr(ye,"script")),ye.parentNode.removeChild(ye));return _}U.extend({htmlPrefilter:function(_){return _},clone:function(_,K,he){var ye,Ue,He,dt,wn=_.cloneNode(!0),gn=gr(_);if(!fe.noCloneChecked&&(_.nodeType===1||_.nodeType===11)&&!U.isXMLDoc(_))for(dt=tr(wn),He=tr(_),ye=0,Ue=He.length;ye<Ue;ye++)Oe(He[ye],dt[ye]);if(K)if(he)for(He=He||tr(_),dt=dt||tr(wn),ye=0,Ue=He.length;ye<Ue;ye++)ze(He[ye],dt[ye]);else ze(_,wn);return dt=tr(wn,"script"),dt.length>0&&xn(dt,!gn&&tr(_,"script")),wn},cleanData:function(_){for(var K,he,ye,Ue=U.event.special,He=0;(he=_[He])!==void 0;He++)if(gt(he)){if(K=he[pt.expando]){if(K.events)for(ye in K.events)Ue[ye]?U.event.remove(he,ye):U.removeEvent(he,ye,K.handle);he[pt.expando]=void 0}he[rt.expando]&&(he[rt.expando]=void 0)}}}),U.fn.extend({detach:function(_){return ne(this,_,!0)},remove:function(_){return ne(this,_)},text:function(_){return It(this,function(K){return K===void 0?U.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=K)})},null,_,arguments.length)},append:function(){return Y(this,arguments,function(_){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var K=Xe(this,_);K.appendChild(_)}})},prepend:function(){return Y(this,arguments,function(_){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var K=Xe(this,_);K.insertBefore(_,K.firstChild)}})},before:function(){return Y(this,arguments,function(_){this.parentNode&&this.parentNode.insertBefore(_,this)})},after:function(){return Y(this,arguments,function(_){this.parentNode&&this.parentNode.insertBefore(_,this.nextSibling)})},empty:function(){for(var _,K=0;(_=this[K])!=null;K++)_.nodeType===1&&(U.cleanData(tr(_,!1)),_.textContent="");return this},clone:function(_,K){return _=_==null?!1:_,K=K==null?_:K,this.map(function(){return U.clone(this,_,K)})},html:function(_){return It(this,function(K){var he=this[0]||{},ye=0,Ue=this.length;if(K===void 0&&he.nodeType===1)return he.innerHTML;if(typeof K=="string"&&!hn.test(K)&&!si[(Rn.exec(K)||["",""])[1].toLowerCase()]){K=U.htmlPrefilter(K);try{for(;ye<Ue;ye++)he=this[ye]||{},he.nodeType===1&&(U.cleanData(tr(he,!1)),he.innerHTML=K);he=0}catch(He){}}he&&this.empty().append(K)},null,_,arguments.length)},replaceWith:function(){var _=[];return Y(this,arguments,function(K){var he=this.parentNode;U.inArray(this,_)<0&&(U.cleanData(tr(this)),he&&he.replaceChild(K,this))},_)}}),U.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(_,K){U.fn[_]=function(he){for(var ye,Ue=[],He=U(he),dt=He.length-1,wn=0;wn<=dt;wn++)ye=wn===dt?this:this.clone(!0),U(He[wn])[K](ye),I.apply(Ue,ye.get());return this.pushStack(Ue)}});var W=new RegExp("^("+Qn+")(?!px)[a-z%]+$","i"),S=/^--/,A=function(_){var K=_.ownerDocument.defaultView;return(!K||!K.opener)&&(K=M),K.getComputedStyle(_)},L=function(_,K,he){var ye,Ue,He={};for(Ue in K)He[Ue]=_.style[Ue],_.style[Ue]=K[Ue];ye=he.call(_);for(Ue in K)_.style[Ue]=He[Ue];return ye},ce=new RegExp(mn.join("|"),"i");(function(){function _(){if(Pn){gn.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Pn.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",kn.appendChild(gn).appendChild(Pn);var zr=M.getComputedStyle(Pn);he=zr.top!=="1%",wn=K(zr.marginLeft)===12,Pn.style.right="60%",He=K(zr.right)===36,ye=K(zr.width)===36,Pn.style.position="absolute",Ue=K(Pn.offsetWidth/3)===12,kn.removeChild(gn),Pn=null}}function K(zr){return Math.round(parseFloat(zr))}var he,ye,Ue,He,dt,wn,gn=Pe.createElement("div"),Pn=Pe.createElement("div");Pn.style&&(Pn.style.backgroundClip="content-box",Pn.cloneNode(!0).style.backgroundClip="",fe.clearCloneStyle=Pn.style.backgroundClip==="content-box",U.extend(fe,{boxSizingReliable:function(){return _(),ye},pixelBoxStyles:function(){return _(),He},pixelPosition:function(){return _(),he},reliableMarginLeft:function(){return _(),wn},scrollboxSize:function(){return _(),Ue},reliableTrDimensions:function(){var zr,Gr,Hr,bi;return dt==null&&(zr=Pe.createElement("table"),Gr=Pe.createElement("tr"),Hr=Pe.createElement("div"),zr.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Gr.style.cssText="box-sizing:content-box;border:1px solid",Gr.style.height="1px",Hr.style.height="9px",Hr.style.display="block",kn.appendChild(zr).appendChild(Gr).appendChild(Hr),bi=M.getComputedStyle(Gr),dt=parseInt(bi.height,10)+parseInt(bi.borderTopWidth,10)+parseInt(bi.borderBottomWidth,10)===Gr.offsetHeight,kn.removeChild(zr)),dt}}))})();function ve(_,K,he){var ye,Ue,He,dt,wn=S.test(K),gn=_.style;return he=he||A(_),he&&(dt=he.getPropertyValue(K)||he[K],wn&&dt&&(dt=dt.replace(cn,"$1")||void 0),dt===""&&!gr(_)&&(dt=U.style(_,K)),!fe.pixelBoxStyles()&&W.test(dt)&&ce.test(K)&&(ye=gn.width,Ue=gn.minWidth,He=gn.maxWidth,gn.minWidth=gn.maxWidth=gn.width=dt,dt=he.width,gn.width=ye,gn.minWidth=Ue,gn.maxWidth=He)),dt!==void 0?dt+"":dt}function pe(_,K){return{get:function(){if(_()){delete this.get;return}return(this.get=K).apply(this,arguments)}}}var Ee=["Webkit","Moz","ms"],ht=Pe.createElement("div").style,ct={};function nt(_){for(var K=_[0].toUpperCase()+_.slice(1),he=Ee.length;he--;)if(_=Ee[he]+K,_ in ht)return _}function Rt(_){var K=U.cssProps[_]||ct[_];return K||(_ in ht?_:ct[_]=nt(_)||_)}var kt=/^(none|table(?!-c[ea]).+)/,bn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:"0",fontWeight:"400"};function Lt(_,K,he){var ye=it.exec(K);return ye?Math.max(0,ye[2]-(he||0))+(ye[3]||"px"):K}function Bt(_,K,he,ye,Ue,He){var dt=K==="width"?1:0,wn=0,gn=0,Pn=0;if(he===(ye?"border":"content"))return 0;for(;dt<4;dt+=2)he==="margin"&&(Pn+=U.css(_,he+mn[dt],!0,Ue)),ye?(he==="content"&&(gn-=U.css(_,"padding"+mn[dt],!0,Ue)),he!=="margin"&&(gn-=U.css(_,"border"+mn[dt]+"Width",!0,Ue))):(gn+=U.css(_,"padding"+mn[dt],!0,Ue),he!=="padding"?gn+=U.css(_,"border"+mn[dt]+"Width",!0,Ue):wn+=U.css(_,"border"+mn[dt]+"Width",!0,Ue));return!ye&&He>=0&&(gn+=Math.max(0,Math.ceil(_["offset"+K[0].toUpperCase()+K.slice(1)]-He-gn-wn-.5))||0),gn+Pn}function In(_,K,he){var ye=A(_),Ue=!fe.boxSizingReliable()||he,He=Ue&&U.css(_,"boxSizing",!1,ye)==="border-box",dt=He,wn=ve(_,K,ye),gn="offset"+K[0].toUpperCase()+K.slice(1);if(W.test(wn)){if(!he)return wn;wn="auto"}return(!fe.boxSizingReliable()&&He||!fe.reliableTrDimensions()&&ut(_,"tr")||wn==="auto"||!parseFloat(wn)&&U.css(_,"display",!1,ye)==="inline")&&_.getClientRects().length&&(He=U.css(_,"boxSizing",!1,ye)==="border-box",dt=gn in _,dt&&(wn=_[gn])),wn=parseFloat(wn)||0,wn+Bt(_,K,he||(He?"border":"content"),dt,ye,wn)+"px"}U.extend({cssHooks:{opacity:{get:function(_,K){if(K){var he=ve(_,"opacity");return he===""?"1":he}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(_,K,he,ye){if(!(!_||_.nodeType===3||_.nodeType===8||!_.style)){var Ue,He,dt,wn=jt(K),gn=S.test(K),Pn=_.style;if(gn||(K=Rt(wn)),dt=U.cssHooks[K]||U.cssHooks[wn],he!==void 0){if(He=typeof he,He==="string"&&(Ue=it.exec(he))&&Ue[1]&&(he=er(_,K,Ue),He="number"),he==null||he!==he)return;He==="number"&&!gn&&(he+=Ue&&Ue[3]||(U.cssNumber[wn]?"":"px")),!fe.clearCloneStyle&&he===""&&K.indexOf("background")===0&&(Pn[K]="inherit"),(!dt||!("set"in dt)||(he=dt.set(_,he,ye))!==void 0)&&(gn?Pn.setProperty(K,he):Pn[K]=he)}else return dt&&"get"in dt&&(Ue=dt.get(_,!1,ye))!==void 0?Ue:Pn[K]}},css:function(_,K,he,ye){var Ue,He,dt,wn=jt(K),gn=S.test(K);return gn||(K=Rt(wn)),dt=U.cssHooks[K]||U.cssHooks[wn],dt&&"get"in dt&&(Ue=dt.get(_,!0,he)),Ue===void 0&&(Ue=ve(_,K,ye)),Ue==="normal"&&K in pn&&(Ue=pn[K]),he===""||he?(He=parseFloat(Ue),he===!0||isFinite(He)?He||0:Ue):Ue}}),U.each(["height","width"],function(_,K){U.cssHooks[K]={get:function(he,ye,Ue){if(ye)return kt.test(U.css(he,"display"))&&(!he.getClientRects().length||!he.getBoundingClientRect().width)?L(he,bn,function(){return In(he,K,Ue)}):In(he,K,Ue)},set:function(he,ye,Ue){var He,dt=A(he),wn=!fe.scrollboxSize()&&dt.position==="absolute",gn=wn||Ue,Pn=gn&&U.css(he,"boxSizing",!1,dt)==="border-box",zr=Ue?Bt(he,K,Ue,Pn,dt):0;return Pn&&wn&&(zr-=Math.ceil(he["offset"+K[0].toUpperCase()+K.slice(1)]-parseFloat(dt[K])-Bt(he,K,"border",!1,dt)-.5)),zr&&(He=it.exec(ye))&&(He[3]||"px")!=="px"&&(he.style[K]=ye,ye=U.css(he,K)),Lt(he,ye,zr)}}}),U.cssHooks.marginLeft=pe(fe.reliableMarginLeft,function(_,K){if(K)return(parseFloat(ve(_,"marginLeft"))||_.getBoundingClientRect().left-L(_,{marginLeft:0},function(){return _.getBoundingClientRect().left}))+"px"}),U.each({margin:"",padding:"",border:"Width"},function(_,K){U.cssHooks[_+K]={expand:function(he){for(var ye=0,Ue={},He=typeof he=="string"?he.split(" "):[he];ye<4;ye++)Ue[_+mn[ye]+K]=He[ye]||He[ye-2]||He[0];return Ue}},_!=="margin"&&(U.cssHooks[_+K].set=Lt)}),U.fn.extend({css:function(_,K){return It(this,function(he,ye,Ue){var He,dt,wn={},gn=0;if(Array.isArray(ye)){for(He=A(he),dt=ye.length;gn<dt;gn++)wn[ye[gn]]=U.css(he,ye[gn],!1,He);return wn}return Ue!==void 0?U.style(he,ye,Ue):U.css(he,ye)},_,K,arguments.length>1)}});function Zn(_,K,he,ye,Ue){return new Zn.prototype.init(_,K,he,ye,Ue)}U.Tween=Zn,Zn.prototype={constructor:Zn,init:function(_,K,he,ye,Ue,He){this.elem=_,this.prop=he,this.easing=Ue||U.easing._default,this.options=K,this.start=this.now=this.cur(),this.end=ye,this.unit=He||(U.cssNumber[he]?"":"px")},cur:function(){var _=Zn.propHooks[this.prop];return _&&_.get?_.get(this):Zn.propHooks._default.get(this)},run:function(_){var K,he=Zn.propHooks[this.prop];return this.options.duration?this.pos=K=U.easing[this.easing](_,this.options.duration*_,0,1,this.options.duration):this.pos=K=_,this.now=(this.end-this.start)*K+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),he&&he.set?he.set(this):Zn.propHooks._default.set(this),this}},Zn.prototype.init.prototype=Zn.prototype,Zn.propHooks={_default:{get:function(_){var K;return _.elem.nodeType!==1||_.elem[_.prop]!=null&&_.elem.style[_.prop]==null?_.elem[_.prop]:(K=U.css(_.elem,_.prop,""),!K||K==="auto"?0:K)},set:function(_){U.fx.step[_.prop]?U.fx.step[_.prop](_):_.elem.nodeType===1&&(U.cssHooks[_.prop]||_.elem.style[Rt(_.prop)]!=null)?U.style(_.elem,_.prop,_.now+_.unit):_.elem[_.prop]=_.now}}},Zn.propHooks.scrollTop=Zn.propHooks.scrollLeft={set:function(_){_.elem.nodeType&&_.elem.parentNode&&(_.elem[_.prop]=_.now)}},U.easing={linear:function(_){return _},swing:function(_){return .5-Math.cos(_*Math.PI)/2},_default:"swing"},U.fx=Zn.prototype.init,U.fx.step={};var sr,ni,mi=/^(?:toggle|show|hide)$/,Rr=/queueHooks$/;function ai(){ni&&(Pe.hidden===!1&&M.requestAnimationFrame?M.requestAnimationFrame(ai):M.setTimeout(ai,U.fx.interval),U.fx.tick())}function li(){return M.setTimeout(function(){sr=void 0}),sr=Date.now()}function wi(_,K){var he,ye=0,Ue={height:_};for(K=K?1:0;ye<4;ye+=2-K)he=mn[ye],Ue["margin"+he]=Ue["padding"+he]=_;return K&&(Ue.opacity=Ue.width=_),Ue}function Ct(_,K,he){for(var ye,Ue=(Gn.tweeners[K]||[]).concat(Gn.tweeners["*"]),He=0,dt=Ue.length;He<dt;He++)if(ye=Ue[He].call(he,K,_))return ye}function Zt(_,K,he){var ye,Ue,He,dt,wn,gn,Pn,zr,Gr="width"in K||"height"in K,Hr=this,bi={},Vo=_.style,Uo=_.nodeType&&Ei(_),Zo=pt.get(_,"fxshow");he.queue||(dt=U._queueHooks(_,"fx"),dt.unqueued==null&&(dt.unqueued=0,wn=dt.empty.fire,dt.empty.fire=function(){dt.unqueued||wn()}),dt.unqueued++,Hr.always(function(){Hr.always(function(){dt.unqueued--,U.queue(_,"fx").length||dt.empty.fire()})}));for(ye in K)if(Ue=K[ye],mi.test(Ue)){if(delete K[ye],He=He||Ue==="toggle",Ue===(Uo?"hide":"show"))if(Ue==="show"&&Zo&&Zo[ye]!==void 0)Uo=!0;else continue;bi[ye]=Zo&&Zo[ye]||U.style(_,ye)}if(gn=!U.isEmptyObject(K),!(!gn&&U.isEmptyObject(bi))){Gr&&_.nodeType===1&&(he.overflow=[Vo.overflow,Vo.overflowX,Vo.overflowY],Pn=Zo&&Zo.display,Pn==null&&(Pn=pt.get(_,"display")),zr=U.css(_,"display"),zr==="none"&&(Pn?zr=Pn:(_t([_],!0),Pn=_.style.display||Pn,zr=U.css(_,"display"),_t([_]))),(zr==="inline"||zr==="inline-block"&&Pn!=null)&&U.css(_,"float")==="none"&&(gn||(Hr.done(function(){Vo.display=Pn}),Pn==null&&(zr=Vo.display,Pn=zr==="none"?"":zr)),Vo.display="inline-block")),he.overflow&&(Vo.overflow="hidden",Hr.always(function(){Vo.overflow=he.overflow[0],Vo.overflowX=he.overflow[1],Vo.overflowY=he.overflow[2]})),gn=!1;for(ye in bi)gn||(Zo?"hidden"in Zo&&(Uo=Zo.hidden):Zo=pt.access(_,"fxshow",{display:Pn}),He&&(Zo.hidden=!Uo),Uo&&_t([_],!0),Hr.done(function(){Uo||_t([_]),pt.remove(_,"fxshow");for(ye in bi)U.style(_,ye,bi[ye])})),gn=Ct(Uo?Zo[ye]:0,ye,Hr),ye in Zo||(Zo[ye]=gn.start,Uo&&(gn.end=gn.start,gn.start=0))}}function Pr(_,K){var he,ye,Ue,He,dt;for(he in _)if(ye=jt(he),Ue=K[ye],He=_[he],Array.isArray(He)&&(Ue=He[1],He=_[he]=He[0]),he!==ye&&(_[ye]=He,delete _[he]),dt=U.cssHooks[ye],dt&&"expand"in dt){He=dt.expand(He),delete _[ye];for(he in He)he in _||(_[he]=He[he],K[he]=Ue)}else K[ye]=Ue}function Gn(_,K,he){var ye,Ue,He=0,dt=Gn.prefilters.length,wn=U.Deferred().always(function(){delete gn.elem}),gn=function(){if(Ue)return!1;for(var Gr=sr||li(),Hr=Math.max(0,Pn.startTime+Pn.duration-Gr),bi=Hr/Pn.duration||0,Vo=1-bi,Uo=0,Zo=Pn.tweens.length;Uo<Zo;Uo++)Pn.tweens[Uo].run(Vo);return wn.notifyWith(_,[Pn,Vo,Hr]),Vo<1&&Zo?Hr:(Zo||wn.notifyWith(_,[Pn,1,0]),wn.resolveWith(_,[Pn]),!1)},Pn=wn.promise({elem:_,props:U.extend({},K),opts:U.extend(!0,{specialEasing:{},easing:U.easing._default},he),originalProperties:K,originalOptions:he,startTime:sr||li(),duration:he.duration,tweens:[],createTween:function(Gr,Hr){var bi=U.Tween(_,Pn.opts,Gr,Hr,Pn.opts.specialEasing[Gr]||Pn.opts.easing);return Pn.tweens.push(bi),bi},stop:function(Gr){var Hr=0,bi=Gr?Pn.tweens.length:0;if(Ue)return this;for(Ue=!0;Hr<bi;Hr++)Pn.tweens[Hr].run(1);return Gr?(wn.notifyWith(_,[Pn,1,0]),wn.resolveWith(_,[Pn,Gr])):wn.rejectWith(_,[Pn,Gr]),this}}),zr=Pn.props;for(Pr(zr,Pn.opts.specialEasing);He<dt;He++)if(ye=Gn.prefilters[He].call(Pn,_,zr,Pn.opts),ye)return Ce(ye.stop)&&(U._queueHooks(Pn.elem,Pn.opts.queue).stop=ye.stop.bind(ye)),ye;return U.map(zr,Ct,Pn),Ce(Pn.opts.start)&&Pn.opts.start.call(_,Pn),Pn.progress(Pn.opts.progress).done(Pn.opts.done,Pn.opts.complete).fail(Pn.opts.fail).always(Pn.opts.always),U.fx.timer(U.extend(gn,{elem:_,anim:Pn,queue:Pn.opts.queue})),Pn}U.Animation=U.extend(Gn,{tweeners:{"*":[function(_,K){var he=this.createTween(_,K);return er(he.elem,_,it.exec(K),he),he}]},tweener:function(_,K){Ce(_)?(K=_,_=["*"]):_=_.match(jn);for(var he,ye=0,Ue=_.length;ye<Ue;ye++)he=_[ye],Gn.tweeners[he]=Gn.tweeners[he]||[],Gn.tweeners[he].unshift(K)},prefilters:[Zt],prefilter:function(_,K){K?Gn.prefilters.unshift(_):Gn.prefilters.push(_)}}),U.speed=function(_,K,he){var ye=_&&typeof _=="object"?U.extend({},_):{complete:he||!he&&K||Ce(_)&&_,duration:_,easing:he&&K||K&&!Ce(K)&&K};return U.fx.off?ye.duration=0:typeof ye.duration!="number"&&(ye.duration in U.fx.speeds?ye.duration=U.fx.speeds[ye.duration]:ye.duration=U.fx.speeds._default),(ye.queue==null||ye.queue===!0)&&(ye.queue="fx"),ye.old=ye.complete,ye.complete=function(){Ce(ye.old)&&ye.old.call(this),ye.queue&&U.dequeue(this,ye.queue)},ye},U.fn.extend({fadeTo:function(_,K,he,ye){return this.filter(Ei).css("opacity",0).show().end().animate({opacity:K},_,he,ye)},animate:function(_,K,he,ye){var Ue=U.isEmptyObject(_),He=U.speed(K,he,ye),dt=function(){var wn=Gn(this,U.extend({},_),He);(Ue||pt.get(this,"finish"))&&wn.stop(!0)};return dt.finish=dt,Ue||He.queue===!1?this.each(dt):this.queue(He.queue,dt)},stop:function(_,K,he){var ye=function(Ue){var He=Ue.stop;delete Ue.stop,He(he)};return typeof _!="string"&&(he=K,K=_,_=void 0),K&&this.queue(_||"fx",[]),this.each(function(){var Ue=!0,He=_!=null&&_+"queueHooks",dt=U.timers,wn=pt.get(this);if(He)wn[He]&&wn[He].stop&&ye(wn[He]);else for(He in wn)wn[He]&&wn[He].stop&&Rr.test(He)&&ye(wn[He]);for(He=dt.length;He--;)dt[He].elem===this&&(_==null||dt[He].queue===_)&&(dt[He].anim.stop(he),Ue=!1,dt.splice(He,1));(Ue||!he)&&U.dequeue(this,_)})},finish:function(_){return _!==!1&&(_=_||"fx"),this.each(function(){var K,he=pt.get(this),ye=he[_+"queue"],Ue=he[_+"queueHooks"],He=U.timers,dt=ye?ye.length:0;for(he.finish=!0,U.queue(this,_,[]),Ue&&Ue.stop&&Ue.stop.call(this,!0),K=He.length;K--;)He[K].elem===this&&He[K].queue===_&&(He[K].anim.stop(!0),He.splice(K,1));for(K=0;K<dt;K++)ye[K]&&ye[K].finish&&ye[K].finish.call(this);delete he.finish})}}),U.each(["toggle","show","hide"],function(_,K){var he=U.fn[K];U.fn[K]=function(ye,Ue,He){return ye==null||typeof ye=="boolean"?he.apply(this,arguments):this.animate(wi(K,!0),ye,Ue,He)}}),U.each({slideDown:wi("show"),slideUp:wi("hide"),slideToggle:wi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(_,K){U.fn[_]=function(he,ye,Ue){return this.animate(K,he,ye,Ue)}}),U.timers=[],U.fx.tick=function(){var _,K=0,he=U.timers;for(sr=Date.now();K<he.length;K++)_=he[K],!_()&&he[K]===_&&he.splice(K--,1);he.length||U.fx.stop(),sr=void 0},U.fx.timer=function(_){U.timers.push(_),U.fx.start()},U.fx.interval=13,U.fx.start=function(){ni||(ni=!0,ai())},U.fx.stop=function(){ni=null},U.fx.speeds={slow:600,fast:200,_default:400},U.fn.delay=function(_,K){return _=U.fx&&U.fx.speeds[_]||_,K=K||"fx",this.queue(K,function(he,ye){var Ue=M.setTimeout(he,_);ye.stop=function(){M.clearTimeout(Ue)}})},function(){var _=Pe.createElement("input"),K=Pe.createElement("select"),he=K.appendChild(Pe.createElement("option"));_.type="checkbox",fe.checkOn=_.value!=="",fe.optSelected=he.selected,_=Pe.createElement("input"),_.value="t",_.type="radio",fe.radioValue=_.value==="t"}();var vr,$r=U.expr.attrHandle;U.fn.extend({attr:function(_,K){return It(this,U.attr,_,K,arguments.length>1)},removeAttr:function(_){return this.each(function(){U.removeAttr(this,_)})}}),U.extend({attr:function(_,K,he){var ye,Ue,He=_.nodeType;if(!(He===3||He===8||He===2)){if(typeof _.getAttribute=="undefined")return U.prop(_,K,he);if((He!==1||!U.isXMLDoc(_))&&(Ue=U.attrHooks[K.toLowerCase()]||(U.expr.match.bool.test(K)?vr:void 0)),he!==void 0){if(he===null){U.removeAttr(_,K);return}return Ue&&"set"in Ue&&(ye=Ue.set(_,he,K))!==void 0?ye:(_.setAttribute(K,he+""),he)}return Ue&&"get"in Ue&&(ye=Ue.get(_,K))!==null?ye:(ye=U.find.attr(_,K),ye==null?void 0:ye)}},attrHooks:{type:{set:function(_,K){if(!fe.radioValue&&K==="radio"&&ut(_,"input")){var he=_.value;return _.setAttribute("type",K),he&&(_.value=he),K}}}},removeAttr:function(_,K){var he,ye=0,Ue=K&&K.match(jn);if(Ue&&_.nodeType===1)for(;he=Ue[ye++];)_.removeAttribute(he)}}),vr={set:function(_,K,he){return K===!1?U.removeAttr(_,he):_.setAttribute(he,he),he}},U.each(U.expr.match.bool.source.match(/\w+/g),function(_,K){var he=$r[K]||U.find.attr;$r[K]=function(ye,Ue,He){var dt,wn,gn=Ue.toLowerCase();return He||(wn=$r[gn],$r[gn]=dt,dt=he(ye,Ue,He)!=null?gn:null,$r[gn]=wn),dt}});var At=/^(?:input|select|textarea|button)$/i,Be=/^(?:a|area)$/i;U.fn.extend({prop:function(_,K){return It(this,U.prop,_,K,arguments.length>1)},removeProp:function(_){return this.each(function(){delete this[U.propFix[_]||_]})}}),U.extend({prop:function(_,K,he){var ye,Ue,He=_.nodeType;if(!(He===3||He===8||He===2))return(He!==1||!U.isXMLDoc(_))&&(K=U.propFix[K]||K,Ue=U.propHooks[K]),he!==void 0?Ue&&"set"in Ue&&(ye=Ue.set(_,he,K))!==void 0?ye:_[K]=he:Ue&&"get"in Ue&&(ye=Ue.get(_,K))!==null?ye:_[K]},propHooks:{tabIndex:{get:function(_){var K=U.find.attr(_,"tabindex");return K?parseInt(K,10):At.test(_.nodeName)||Be.test(_.nodeName)&&_.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),fe.optSelected||(U.propHooks.selected={get:function(_){var K=_.parentNode;return K&&K.parentNode&&K.parentNode.selectedIndex,null},set:function(_){var K=_.parentNode;K&&(K.selectedIndex,K.parentNode&&K.parentNode.selectedIndex)}}),U.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){U.propFix[this.toLowerCase()]=this});function Re(_){var K=_.match(jn)||[];return K.join(" ")}function Fe(_){return _.getAttribute&&_.getAttribute("class")||""}function Se(_){return Array.isArray(_)?_:typeof _=="string"?_.match(jn)||[]:[]}U.fn.extend({addClass:function(_){var K,he,ye,Ue,He,dt;return Ce(_)?this.each(function(wn){U(this).addClass(_.call(this,wn,Fe(this)))}):(K=Se(_),K.length?this.each(function(){if(ye=Fe(this),he=this.nodeType===1&&" "+Re(ye)+" ",he){for(He=0;He<K.length;He++)Ue=K[He],he.indexOf(" "+Ue+" ")<0&&(he+=Ue+" ");dt=Re(he),ye!==dt&&this.setAttribute("class",dt)}}):this)},removeClass:function(_){var K,he,ye,Ue,He,dt;return Ce(_)?this.each(function(wn){U(this).removeClass(_.call(this,wn,Fe(this)))}):arguments.length?(K=Se(_),K.length?this.each(function(){if(ye=Fe(this),he=this.nodeType===1&&" "+Re(ye)+" ",he){for(He=0;He<K.length;He++)for(Ue=K[He];he.indexOf(" "+Ue+" ")>-1;)he=he.replace(" "+Ue+" "," ");dt=Re(he),ye!==dt&&this.setAttribute("class",dt)}}):this):this.attr("class","")},toggleClass:function(_,K){var he,ye,Ue,He,dt=typeof _,wn=dt==="string"||Array.isArray(_);return Ce(_)?this.each(function(gn){U(this).toggleClass(_.call(this,gn,Fe(this),K),K)}):typeof K=="boolean"&&wn?K?this.addClass(_):this.removeClass(_):(he=Se(_),this.each(function(){if(wn)for(He=U(this),Ue=0;Ue<he.length;Ue++)ye=he[Ue],He.hasClass(ye)?He.removeClass(ye):He.addClass(ye);else(_===void 0||dt==="boolean")&&(ye=Fe(this),ye&&pt.set(this,"__className__",ye),this.setAttribute&&this.setAttribute("class",ye||_===!1?"":pt.get(this,"__className__")||""))}))},hasClass:function(_){var K,he,ye=0;for(K=" "+_+" ";he=this[ye++];)if(he.nodeType===1&&(" "+Re(Fe(he))+" ").indexOf(K)>-1)return!0;return!1}});var wt=/\r/g;U.fn.extend({val:function(_){var K,he,ye,Ue=this[0];return arguments.length?(ye=Ce(_),this.each(function(He){var dt;this.nodeType===1&&(ye?dt=_.call(this,He,U(this).val()):dt=_,dt==null?dt="":typeof dt=="number"?dt+="":Array.isArray(dt)&&(dt=U.map(dt,function(wn){return wn==null?"":wn+""})),K=U.valHooks[this.type]||U.valHooks[this.nodeName.toLowerCase()],(!K||!("set"in K)||K.set(this,dt,"value")===void 0)&&(this.value=dt))})):Ue?(K=U.valHooks[Ue.type]||U.valHooks[Ue.nodeName.toLowerCase()],K&&"get"in K&&(he=K.get(Ue,"value"))!==void 0?he:(he=Ue.value,typeof he=="string"?he.replace(wt,""):he==null?"":he)):void 0}}),U.extend({valHooks:{option:{get:function(_){var K=U.find.attr(_,"value");return K!=null?K:Re(U.text(_))}},select:{get:function(_){var K,he,ye,Ue=_.options,He=_.selectedIndex,dt=_.type==="select-one",wn=dt?null:[],gn=dt?He+1:Ue.length;for(He<0?ye=gn:ye=dt?He:0;ye<gn;ye++)if(he=Ue[ye],(he.selected||ye===He)&&!he.disabled&&(!he.parentNode.disabled||!ut(he.parentNode,"optgroup"))){if(K=U(he).val(),dt)return K;wn.push(K)}return wn},set:function(_,K){for(var he,ye,Ue=_.options,He=U.makeArray(K),dt=Ue.length;dt--;)ye=Ue[dt],(ye.selected=U.inArray(U.valHooks.option.get(ye),He)>-1)&&(he=!0);return he||(_.selectedIndex=-1),He}}}}),U.each(["radio","checkbox"],function(){U.valHooks[this]={set:function(_,K){if(Array.isArray(K))return _.checked=U.inArray(U(_).val(),K)>-1}},fe.checkOn||(U.valHooks[this].get=function(_){return _.getAttribute("value")===null?"on":_.value})});var Gt=M.location,Sn={guid:Date.now()},Un=/\?/;U.parseXML=function(_){var K,he;if(!_||typeof _!="string")return null;try{K=new M.DOMParser().parseFromString(_,"text/xml")}catch(ye){}return he=K&&K.getElementsByTagName("parsererror")[0],(!K||he)&&U.error("Invalid XML: "+(he?U.map(he.childNodes,function(ye){return ye.textContent}).join(`
`):_)),K};var _e=/^(?:focusinfocus|focusoutblur)$/,We=function(_){_.stopPropagation()};U.extend(U.event,{trigger:function(_,K,he,ye){var Ue,He,dt,wn,gn,Pn,zr,Gr,Hr=[he||Pe],bi=re.call(_,"type")?_.type:_,Vo=re.call(_,"namespace")?_.namespace.split("."):[];if(He=Gr=dt=he=he||Pe,!(he.nodeType===3||he.nodeType===8)&&!_e.test(bi+U.event.triggered)&&(bi.indexOf(".")>-1&&(Vo=bi.split("."),bi=Vo.shift(),Vo.sort()),gn=bi.indexOf(":")<0&&"on"+bi,_=_[U.expando]?_:new U.Event(bi,typeof _=="object"&&_),_.isTrigger=ye?2:3,_.namespace=Vo.join("."),_.rnamespace=_.namespace?new RegExp("(^|\\.)"+Vo.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,_.result=void 0,_.target||(_.target=he),K=K==null?[_]:U.makeArray(K,[_]),zr=U.event.special[bi]||{},!(!ye&&zr.trigger&&zr.trigger.apply(he,K)===!1))){if(!ye&&!zr.noBubble&&!Ae(he)){for(wn=zr.delegateType||bi,_e.test(wn+bi)||(He=He.parentNode);He;He=He.parentNode)Hr.push(He),dt=He;dt===(he.ownerDocument||Pe)&&Hr.push(dt.defaultView||dt.parentWindow||M)}for(Ue=0;(He=Hr[Ue++])&&!_.isPropagationStopped();)Gr=He,_.type=Ue>1?wn:zr.bindType||bi,Pn=(pt.get(He,"events")||Object.create(null))[_.type]&&pt.get(He,"handle"),Pn&&Pn.apply(He,K),Pn=gn&&He[gn],Pn&&Pn.apply&&gt(He)&&(_.result=Pn.apply(He,K),_.result===!1&&_.preventDefault());return _.type=bi,!ye&&!_.isDefaultPrevented()&&(!zr._default||zr._default.apply(Hr.pop(),K)===!1)&&gt(he)&&gn&&Ce(he[bi])&&!Ae(he)&&(dt=he[gn],dt&&(he[gn]=null),U.event.triggered=bi,_.isPropagationStopped()&&Gr.addEventListener(bi,We),he[bi](),_.isPropagationStopped()&&Gr.removeEventListener(bi,We),U.event.triggered=void 0,dt&&(he[gn]=dt)),_.result}},simulate:function(_,K,he){var ye=U.extend(new U.Event,he,{type:_,isSimulated:!0});U.event.trigger(ye,null,K)}}),U.fn.extend({trigger:function(_,K){return this.each(function(){U.event.trigger(_,K,this)})},triggerHandler:function(_,K){var he=this[0];if(he)return U.event.trigger(_,K,he,!0)}});var Ve=/\[\]$/,Dt=/\r?\n/g,An=/^(?:submit|button|image|reset|file)$/i,on=/^(?:input|select|textarea|keygen)/i;function et(_,K,he,ye){var Ue;if(Array.isArray(K))U.each(K,function(He,dt){he||Ve.test(_)?ye(_,dt):et(_+"["+(typeof dt=="object"&&dt!=null?He:"")+"]",dt,he,ye)});else if(!he&&mt(K)==="object")for(Ue in K)et(_+"["+Ue+"]",K[Ue],he,ye);else ye(_,K)}U.param=function(_,K){var he,ye=[],Ue=function(He,dt){var wn=Ce(dt)?dt():dt;ye[ye.length]=encodeURIComponent(He)+"="+encodeURIComponent(wn==null?"":wn)};if(_==null)return"";if(Array.isArray(_)||_.jquery&&!U.isPlainObject(_))U.each(_,function(){Ue(this.name,this.value)});else for(he in _)et(he,_[he],K,Ue);return ye.join("&")},U.fn.extend({serialize:function(){return U.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var _=U.prop(this,"elements");return _?U.makeArray(_):this}).filter(function(){var _=this.type;return this.name&&!U(this).is(":disabled")&&on.test(this.nodeName)&&!An.test(_)&&(this.checked||!Ut.test(_))}).map(function(_,K){var he=U(this).val();return he==null?null:Array.isArray(he)?U.map(he,function(ye){return{name:K.name,value:ye.replace(Dt,`\r
`)}}):{name:K.name,value:he.replace(Dt,`\r
`)}}).get()}});var Tn=/%20/g,zt=/#.*$/,Xn=/([?&])_=[^&]*/,cr=/^(.*?):[ \t]*([^\r\n]*)$/mg,ii=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ui=/^(?:GET|HEAD)$/,Mr=/^\/\//,jr={},eo={},yi="*/".concat("*"),ci=Pe.createElement("a");ci.href=Gt.href;function Si(_){return function(K,he){typeof K!="string"&&(he=K,K="*");var ye,Ue=0,He=K.toLowerCase().match(jn)||[];if(Ce(he))for(;ye=He[Ue++];)ye[0]==="+"?(ye=ye.slice(1)||"*",(_[ye]=_[ye]||[]).unshift(he)):(_[ye]=_[ye]||[]).push(he)}}function Li(_,K,he,ye){var Ue={},He=_===eo;function dt(wn){var gn;return Ue[wn]=!0,U.each(_[wn]||[],function(Pn,zr){var Gr=zr(K,he,ye);if(typeof Gr=="string"&&!He&&!Ue[Gr])return K.dataTypes.unshift(Gr),dt(Gr),!1;if(He)return!(gn=Gr)}),gn}return dt(K.dataTypes[0])||!Ue["*"]&&dt("*")}function to(_,K){var he,ye,Ue=U.ajaxSettings.flatOptions||{};for(he in K)K[he]!==void 0&&((Ue[he]?_:ye||(ye={}))[he]=K[he]);return ye&&U.extend(!0,_,ye),_}function Kr(_,K,he){for(var ye,Ue,He,dt,wn=_.contents,gn=_.dataTypes;gn[0]==="*";)gn.shift(),ye===void 0&&(ye=_.mimeType||K.getResponseHeader("Content-Type"));if(ye){for(Ue in wn)if(wn[Ue]&&wn[Ue].test(ye)){gn.unshift(Ue);break}}if(gn[0]in he)He=gn[0];else{for(Ue in he){if(!gn[0]||_.converters[Ue+" "+gn[0]]){He=Ue;break}dt||(dt=Ue)}He=He||dt}if(He)return He!==gn[0]&&gn.unshift(He),he[He]}function gs(_,K,he,ye){var Ue,He,dt,wn,gn,Pn={},zr=_.dataTypes.slice();if(zr[1])for(dt in _.converters)Pn[dt.toLowerCase()]=_.converters[dt];for(He=zr.shift();He;)if(_.responseFields[He]&&(he[_.responseFields[He]]=K),!gn&&ye&&_.dataFilter&&(K=_.dataFilter(K,_.dataType)),gn=He,He=zr.shift(),He){if(He==="*")He=gn;else if(gn!=="*"&&gn!==He){if(dt=Pn[gn+" "+He]||Pn["* "+He],!dt){for(Ue in Pn)if(wn=Ue.split(" "),wn[1]===He&&(dt=Pn[gn+" "+wn[0]]||Pn["* "+wn[0]],dt)){dt===!0?dt=Pn[Ue]:Pn[Ue]!==!0&&(He=wn[0],zr.unshift(wn[1]));break}}if(dt!==!0)if(dt&&_.throws)K=dt(K);else try{K=dt(K)}catch(Gr){return{state:"parsererror",error:dt?Gr:"No conversion from "+gn+" to "+He}}}}return{state:"success",data:K}}U.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Gt.href,type:"GET",isLocal:ii.test(Gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":U.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(_,K){return K?to(to(_,U.ajaxSettings),K):to(U.ajaxSettings,_)},ajaxPrefilter:Si(jr),ajaxTransport:Si(eo),ajax:function(_,K){typeof _=="object"&&(K=_,_=void 0),K=K||{};var he,ye,Ue,He,dt,wn,gn,Pn,zr,Gr,Hr=U.ajaxSetup({},K),bi=Hr.context||Hr,Vo=Hr.context&&(bi.nodeType||bi.jquery)?U(bi):U.event,Uo=U.Deferred(),Zo=U.Callbacks("once memory"),Ns=Hr.statusCode||{},Ms={},No={},ws="canceled",Hi={readyState:0,getResponseHeader:function(Pt){var ot;if(gn){if(!He)for(He={};ot=cr.exec(Ue);)He[ot[1].toLowerCase()+" "]=(He[ot[1].toLowerCase()+" "]||[]).concat(ot[2]);ot=He[Pt.toLowerCase()+" "]}return ot==null?null:ot.join(", ")},getAllResponseHeaders:function(){return gn?Ue:null},setRequestHeader:function(Pt,ot){return gn==null&&(Pt=No[Pt.toLowerCase()]=No[Pt.toLowerCase()]||Pt,Ms[Pt]=ot),this},overrideMimeType:function(Pt){return gn==null&&(Hr.mimeType=Pt),this},statusCode:function(Pt){var ot;if(Pt)if(gn)Hi.always(Pt[Hi.status]);else for(ot in Pt)Ns[ot]=[Ns[ot],Pt[ot]];return this},abort:function(Pt){var ot=Pt||ws;return he&&he.abort(ot),ms(0,ot),this}};if(Uo.promise(Hi),Hr.url=((_||Hr.url||Gt.href)+"").replace(Mr,Gt.protocol+"//"),Hr.type=K.method||K.type||Hr.method||Hr.type,Hr.dataTypes=(Hr.dataType||"*").toLowerCase().match(jn)||[""],Hr.crossDomain==null){wn=Pe.createElement("a");try{wn.href=Hr.url,wn.href=wn.href,Hr.crossDomain=ci.protocol+"//"+ci.host!=wn.protocol+"//"+wn.host}catch(Pt){Hr.crossDomain=!0}}if(Hr.data&&Hr.processData&&typeof Hr.data!="string"&&(Hr.data=U.param(Hr.data,Hr.traditional)),Li(jr,Hr,K,Hi),gn)return Hi;Pn=U.event&&Hr.global,Pn&&U.active++===0&&U.event.trigger("ajaxStart"),Hr.type=Hr.type.toUpperCase(),Hr.hasContent=!ui.test(Hr.type),ye=Hr.url.replace(zt,""),Hr.hasContent?Hr.data&&Hr.processData&&(Hr.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Hr.data=Hr.data.replace(Tn,"+")):(Gr=Hr.url.slice(ye.length),Hr.data&&(Hr.processData||typeof Hr.data=="string")&&(ye+=(Un.test(ye)?"&":"?")+Hr.data,delete Hr.data),Hr.cache===!1&&(ye=ye.replace(Xn,"$1"),Gr=(Un.test(ye)?"&":"?")+"_="+Sn.guid+++Gr),Hr.url=ye+Gr),Hr.ifModified&&(U.lastModified[ye]&&Hi.setRequestHeader("If-Modified-Since",U.lastModified[ye]),U.etag[ye]&&Hi.setRequestHeader("If-None-Match",U.etag[ye])),(Hr.data&&Hr.hasContent&&Hr.contentType!==!1||K.contentType)&&Hi.setRequestHeader("Content-Type",Hr.contentType),Hi.setRequestHeader("Accept",Hr.dataTypes[0]&&Hr.accepts[Hr.dataTypes[0]]?Hr.accepts[Hr.dataTypes[0]]+(Hr.dataTypes[0]!=="*"?", "+yi+"; q=0.01":""):Hr.accepts["*"]);for(zr in Hr.headers)Hi.setRequestHeader(zr,Hr.headers[zr]);if(Hr.beforeSend&&(Hr.beforeSend.call(bi,Hi,Hr)===!1||gn))return Hi.abort();if(ws="abort",Zo.add(Hr.complete),Hi.done(Hr.success),Hi.fail(Hr.error),he=Li(eo,Hr,K,Hi),!he)ms(-1,"No Transport");else{if(Hi.readyState=1,Pn&&Vo.trigger("ajaxSend",[Hi,Hr]),gn)return Hi;Hr.async&&Hr.timeout>0&&(dt=M.setTimeout(function(){Hi.abort("timeout")},Hr.timeout));try{gn=!1,he.send(Ms,ms)}catch(Pt){if(gn)throw Pt;ms(-1,Pt)}}function ms(Pt,ot,Ft,Qt){var Ht,$n,Vn,Er,io,Mi=ot;gn||(gn=!0,dt&&M.clearTimeout(dt),he=void 0,Ue=Qt||"",Hi.readyState=Pt>0?4:0,Ht=Pt>=200&&Pt<300||Pt===304,Ft&&(Er=Kr(Hr,Hi,Ft)),!Ht&&U.inArray("script",Hr.dataTypes)>-1&&U.inArray("json",Hr.dataTypes)<0&&(Hr.converters["text script"]=function(){}),Er=gs(Hr,Er,Hi,Ht),Ht?(Hr.ifModified&&(io=Hi.getResponseHeader("Last-Modified"),io&&(U.lastModified[ye]=io),io=Hi.getResponseHeader("etag"),io&&(U.etag[ye]=io)),Pt===204||Hr.type==="HEAD"?Mi="nocontent":Pt===304?Mi="notmodified":(Mi=Er.state,$n=Er.data,Vn=Er.error,Ht=!Vn)):(Vn=Mi,(Pt||!Mi)&&(Mi="error",Pt<0&&(Pt=0))),Hi.status=Pt,Hi.statusText=(ot||Mi)+"",Ht?Uo.resolveWith(bi,[$n,Mi,Hi]):Uo.rejectWith(bi,[Hi,Mi,Vn]),Hi.statusCode(Ns),Ns=void 0,Pn&&Vo.trigger(Ht?"ajaxSuccess":"ajaxError",[Hi,Hr,Ht?$n:Vn]),Zo.fireWith(bi,[Hi,Mi]),Pn&&(Vo.trigger("ajaxComplete",[Hi,Hr]),--U.active||U.event.trigger("ajaxStop")))}return Hi},getJSON:function(_,K,he){return U.get(_,K,he,"json")},getScript:function(_,K){return U.get(_,void 0,K,"script")}}),U.each(["get","post"],function(_,K){U[K]=function(he,ye,Ue,He){return Ce(ye)&&(He=He||Ue,Ue=ye,ye=void 0),U.ajax(U.extend({url:he,type:K,dataType:He,data:ye,success:Ue},U.isPlainObject(he)&&he))}}),U.ajaxPrefilter(function(_){var K;for(K in _.headers)K.toLowerCase()==="content-type"&&(_.contentType=_.headers[K]||"")}),U._evalUrl=function(_,K,he){return U.ajax({url:_,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ye){U.globalEval(ye,K,he)}})},U.fn.extend({wrapAll:function(_){var K;return this[0]&&(Ce(_)&&(_=_.call(this[0])),K=U(_,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&K.insertBefore(this[0]),K.map(function(){for(var he=this;he.firstElementChild;)he=he.firstElementChild;return he}).append(this)),this},wrapInner:function(_){return Ce(_)?this.each(function(K){U(this).wrapInner(_.call(this,K))}):this.each(function(){var K=U(this),he=K.contents();he.length?he.wrapAll(_):K.append(_)})},wrap:function(_){var K=Ce(_);return this.each(function(he){U(this).wrapAll(K?_.call(this,he):_)})},unwrap:function(_){return this.parent(_).not("body").each(function(){U(this).replaceWith(this.childNodes)}),this}}),U.expr.pseudos.hidden=function(_){return!U.expr.pseudos.visible(_)},U.expr.pseudos.visible=function(_){return!!(_.offsetWidth||_.offsetHeight||_.getClientRects().length)},U.ajaxSettings.xhr=function(){try{return new M.XMLHttpRequest}catch(_){}};var Cs={0:200,1223:204},es=U.ajaxSettings.xhr();fe.cors=!!es&&"withCredentials"in es,fe.ajax=es=!!es,U.ajaxTransport(function(_){var K,he;if(fe.cors||es&&!_.crossDomain)return{send:function(ye,Ue){var He,dt=_.xhr();if(dt.open(_.type,_.url,_.async,_.username,_.password),_.xhrFields)for(He in _.xhrFields)dt[He]=_.xhrFields[He];_.mimeType&&dt.overrideMimeType&&dt.overrideMimeType(_.mimeType),!_.crossDomain&&!ye["X-Requested-With"]&&(ye["X-Requested-With"]="XMLHttpRequest");for(He in ye)dt.setRequestHeader(He,ye[He]);K=function(wn){return function(){K&&(K=he=dt.onload=dt.onerror=dt.onabort=dt.ontimeout=dt.onreadystatechange=null,wn==="abort"?dt.abort():wn==="error"?typeof dt.status!="number"?Ue(0,"error"):Ue(dt.status,dt.statusText):Ue(Cs[dt.status]||dt.status,dt.statusText,(dt.responseType||"text")!=="text"||typeof dt.responseText!="string"?{binary:dt.response}:{text:dt.responseText},dt.getAllResponseHeaders()))}},dt.onload=K(),he=dt.onerror=dt.ontimeout=K("error"),dt.onabort!==void 0?dt.onabort=he:dt.onreadystatechange=function(){dt.readyState===4&&M.setTimeout(function(){K&&he()})},K=K("abort");try{dt.send(_.hasContent&&_.data||null)}catch(wn){if(K)throw wn}},abort:function(){K&&K()}}}),U.ajaxPrefilter(function(_){_.crossDomain&&(_.contents.script=!1)}),U.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(_){return U.globalEval(_),_}}}),U.ajaxPrefilter("script",function(_){_.cache===void 0&&(_.cache=!1),_.crossDomain&&(_.type="GET")}),U.ajaxTransport("script",function(_){if(_.crossDomain||_.scriptAttrs){var K,he;return{send:function(ye,Ue){K=U("<script>").attr(_.scriptAttrs||{}).prop({charset:_.scriptCharset,src:_.url}).on("load error",he=function(He){K.remove(),he=null,He&&Ue(He.type==="error"?404:200,He.type)}),Pe.head.appendChild(K[0])},abort:function(){he&&he()}}}});var cs=[],To=/(=)\?(?=&|$)|\?\?/;U.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var _=cs.pop()||U.expando+"_"+Sn.guid++;return this[_]=!0,_}}),U.ajaxPrefilter("json jsonp",function(_,K,he){var ye,Ue,He,dt=_.jsonp!==!1&&(To.test(_.url)?"url":typeof _.data=="string"&&(_.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&To.test(_.data)&&"data");if(dt||_.dataTypes[0]==="jsonp")return ye=_.jsonpCallback=Ce(_.jsonpCallback)?_.jsonpCallback():_.jsonpCallback,dt?_[dt]=_[dt].replace(To,"$1"+ye):_.jsonp!==!1&&(_.url+=(Un.test(_.url)?"&":"?")+_.jsonp+"="+ye),_.converters["script json"]=function(){return He||U.error(ye+" was not called"),He[0]},_.dataTypes[0]="json",Ue=M[ye],M[ye]=function(){He=arguments},he.always(function(){Ue===void 0?U(M).removeProp(ye):M[ye]=Ue,_[ye]&&(_.jsonpCallback=K.jsonpCallback,cs.push(ye)),He&&Ce(Ue)&&Ue(He[0]),He=Ue=void 0}),"script"}),fe.createHTMLDocument=function(){var _=Pe.implementation.createHTMLDocument("").body;return _.innerHTML="<form></form><form></form>",_.childNodes.length===2}(),U.parseHTML=function(_,K,he){if(typeof _!="string")return[];typeof K=="boolean"&&(he=K,K=!1);var ye,Ue,He;return K||(fe.createHTMLDocument?(K=Pe.implementation.createHTMLDocument(""),ye=K.createElement("base"),ye.href=Pe.location.href,K.head.appendChild(ye)):K=Pe),Ue=$t.exec(_),He=!he&&[],Ue?[K.createElement(Ue[1])]:(Ue=Kn([_],K,He),He&&He.length&&U(He).remove(),U.merge([],Ue.childNodes))},U.fn.load=function(_,K,he){var ye,Ue,He,dt=this,wn=_.indexOf(" ");return wn>-1&&(ye=Re(_.slice(wn)),_=_.slice(0,wn)),Ce(K)?(he=K,K=void 0):K&&typeof K=="object"&&(Ue="POST"),dt.length>0&&U.ajax({url:_,type:Ue||"GET",dataType:"html",data:K}).done(function(gn){He=arguments,dt.html(ye?U("<div>").append(U.parseHTML(gn)).find(ye):gn)}).always(he&&function(gn,Pn){dt.each(function(){he.apply(this,He||[gn.responseText,Pn,gn])})}),this},U.expr.pseudos.animated=function(_){return U.grep(U.timers,function(K){return _===K.elem}).length},U.offset={setOffset:function(_,K,he){var ye,Ue,He,dt,wn,gn,Pn,zr=U.css(_,"position"),Gr=U(_),Hr={};zr==="static"&&(_.style.position="relative"),wn=Gr.offset(),He=U.css(_,"top"),gn=U.css(_,"left"),Pn=(zr==="absolute"||zr==="fixed")&&(He+gn).indexOf("auto")>-1,Pn?(ye=Gr.position(),dt=ye.top,Ue=ye.left):(dt=parseFloat(He)||0,Ue=parseFloat(gn)||0),Ce(K)&&(K=K.call(_,he,U.extend({},wn))),K.top!=null&&(Hr.top=K.top-wn.top+dt),K.left!=null&&(Hr.left=K.left-wn.left+Ue),"using"in K?K.using.call(_,Hr):Gr.css(Hr)}},U.fn.extend({offset:function(_){if(arguments.length)return _===void 0?this:this.each(function(Ue){U.offset.setOffset(this,_,Ue)});var K,he,ye=this[0];if(ye)return ye.getClientRects().length?(K=ye.getBoundingClientRect(),he=ye.ownerDocument.defaultView,{top:K.top+he.pageYOffset,left:K.left+he.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var _,K,he,ye=this[0],Ue={top:0,left:0};if(U.css(ye,"position")==="fixed")K=ye.getBoundingClientRect();else{for(K=this.offset(),he=ye.ownerDocument,_=ye.offsetParent||he.documentElement;_&&(_===he.body||_===he.documentElement)&&U.css(_,"position")==="static";)_=_.parentNode;_&&_!==ye&&_.nodeType===1&&(Ue=U(_).offset(),Ue.top+=U.css(_,"borderTopWidth",!0),Ue.left+=U.css(_,"borderLeftWidth",!0))}return{top:K.top-Ue.top-U.css(ye,"marginTop",!0),left:K.left-Ue.left-U.css(ye,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var _=this.offsetParent;_&&U.css(_,"position")==="static";)_=_.offsetParent;return _||kn})}}),U.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(_,K){var he=K==="pageYOffset";U.fn[_]=function(ye){return It(this,function(Ue,He,dt){var wn;if(Ae(Ue)?wn=Ue:Ue.nodeType===9&&(wn=Ue.defaultView),dt===void 0)return wn?wn[K]:Ue[He];wn?wn.scrollTo(he?wn.pageXOffset:dt,he?dt:wn.pageYOffset):Ue[He]=dt},_,ye,arguments.length)}}),U.each(["top","left"],function(_,K){U.cssHooks[K]=pe(fe.pixelPosition,function(he,ye){if(ye)return ye=ve(he,K),W.test(ye)?U(he).position()[K]+"px":ye})}),U.each({Height:"height",Width:"width"},function(_,K){U.each({padding:"inner"+_,content:K,"":"outer"+_},function(he,ye){U.fn[ye]=function(Ue,He){var dt=arguments.length&&(he||typeof Ue!="boolean"),wn=he||(Ue===!0||He===!0?"margin":"border");return It(this,function(gn,Pn,zr){var Gr;return Ae(gn)?ye.indexOf("outer")===0?gn["inner"+_]:gn.document.documentElement["client"+_]:gn.nodeType===9?(Gr=gn.documentElement,Math.max(gn.body["scroll"+_],Gr["scroll"+_],gn.body["offset"+_],Gr["offset"+_],Gr["client"+_])):zr===void 0?U.css(gn,Pn,wn):U.style(gn,Pn,zr,wn)},K,dt?Ue:void 0,dt)}})}),U.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(_,K){U.fn[K]=function(he){return this.on(K,he)}}),U.fn.extend({bind:function(_,K,he){return this.on(_,null,K,he)},unbind:function(_,K){return this.off(_,null,K)},delegate:function(_,K,he,ye){return this.on(K,_,he,ye)},undelegate:function(_,K,he){return arguments.length===1?this.off(_,"**"):this.off(K,_||"**",he)},hover:function(_,K){return this.on("mouseenter",_).on("mouseleave",K||_)}}),U.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(_,K){U.fn[K]=function(he,ye){return arguments.length>0?this.on(K,null,he,ye):this.trigger(K)}});var Do=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;U.proxy=function(_,K){var he,ye,Ue;if(typeof K=="string"&&(he=_[K],K=_,_=he),!!Ce(_))return ye=F.call(arguments,2),Ue=function(){return _.apply(K||this,ye.concat(F.call(arguments)))},Ue.guid=_.guid=_.guid||U.guid++,Ue},U.holdReady=function(_){_?U.readyWait++:U.ready(!0)},U.isArray=Array.isArray,U.parseJSON=JSON.parse,U.nodeName=ut,U.isFunction=Ce,U.isWindow=Ae,U.camelCase=jt,U.type=mt,U.now=Date.now,U.isNumeric=function(_){var K=U.type(_);return(K==="number"||K==="string")&&!isNaN(_-parseFloat(_))},U.trim=function(_){return _==null?"":(_+"").replace(Do,"$1")},w=[],B=function(){return U}.apply(te,w),B!==void 0&&(Ne.exports=B);var Ko=M.jQuery,os=M.$;return U.noConflict=function(_){return M.$===U&&(M.$=os),_&&M.jQuery===U&&(M.jQuery=Ko),U},typeof j=="undefined"&&(M.jQuery=M.$=U),U})},62705:function(Ne,te,w){var B=w(55639),M=B.Symbol;Ne.exports=M},29932:function(Ne){function te(w,B){for(var M=-1,j=w==null?0:w.length,R=Array(j);++M<j;)R[M]=B(w[M],M,w);return R}Ne.exports=te},62663:function(Ne){function te(w,B,M,j){var R=-1,k=w==null?0:w.length;for(j&&k&&(M=w[++R]);++R<k;)M=B(M,w[R],R,w);return M}Ne.exports=te},44286:function(Ne){function te(w){return w.split("")}Ne.exports=te},49029:function(Ne){var te=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function w(B){return B.match(te)||[]}Ne.exports=w},44239:function(Ne,te,w){var B=w(62705),M=w(89607),j=w(2333),R="[object Null]",k="[object Undefined]",F=B?B.toStringTag:void 0;function H(I){return I==null?I===void 0?k:R:F&&F in Object(I)?M(I):j(I)}Ne.exports=H},18674:function(Ne){function te(w){return function(B){return w==null?void 0:w[B]}}Ne.exports=te},14259:function(Ne){function te(w,B,M){var j=-1,R=w.length;B<0&&(B=-B>R?0:R+B),M=M>R?R:M,M<0&&(M+=R),R=B>M?0:M-B>>>0,B>>>=0;for(var k=Array(R);++j<R;)k[j]=w[j+B];return k}Ne.exports=te},80531:function(Ne,te,w){var B=w(62705),M=w(29932),j=w(1469),R=w(33448),k=1/0,F=B?B.prototype:void 0,H=F?F.toString:void 0;function I(ee){if(typeof ee=="string")return ee;if(j(ee))return M(ee,I)+"";if(R(ee))return H?H.call(ee):"";var ae=ee+"";return ae=="0"&&1/ee==-k?"-0":ae}Ne.exports=I},27561:function(Ne,te,w){var B=w(67990),M=/^\s+/;function j(R){return R&&R.slice(0,B(R)+1).replace(M,"")}Ne.exports=j},40180:function(Ne,te,w){var B=w(14259);function M(j,R,k){var F=j.length;return k=k===void 0?F:k,!R&&k>=F?j:B(j,R,k)}Ne.exports=M},98805:function(Ne,te,w){var B=w(40180),M=w(62689),j=w(83140),R=w(79833);function k(F){return function(H){H=R(H);var I=M(H)?j(H):void 0,ee=I?I[0]:H.charAt(0),ae=I?B(I,1).join(""):H.slice(1);return ee[F]()+ae}}Ne.exports=k},35393:function(Ne,te,w){var B=w(62663),M=w(53816),j=w(58748),R="['\u2019]",k=RegExp(R,"g");function F(H){return function(I){return B(j(M(I).replace(k,"")),H,"")}}Ne.exports=F},69389:function(Ne,te,w){var B=w(18674),M={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},j=B(M);Ne.exports=j},31957:function(Ne,te,w){var B=typeof w.g=="object"&&w.g&&w.g.Object===Object&&w.g;Ne.exports=B},89607:function(Ne,te,w){var B=w(62705),M=Object.prototype,j=M.hasOwnProperty,R=M.toString,k=B?B.toStringTag:void 0;function F(H){var I=j.call(H,k),ee=H[k];try{H[k]=void 0;var ae=!0}catch(re){}var ue=R.call(H);return ae&&(I?H[k]=ee:delete H[k]),ue}Ne.exports=F},62689:function(Ne){var te="\\ud800-\\udfff",w="\\u0300-\\u036f",B="\\ufe20-\\ufe2f",M="\\u20d0-\\u20ff",j=w+B+M,R="\\ufe0e\\ufe0f",k="\\u200d",F=RegExp("["+k+te+j+R+"]");function H(I){return F.test(I)}Ne.exports=H},93157:function(Ne){var te=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function w(B){return te.test(B)}Ne.exports=w},2333:function(Ne){var te=Object.prototype,w=te.toString;function B(M){return w.call(M)}Ne.exports=B},55639:function(Ne,te,w){var B=w(31957),M=typeof self=="object"&&self&&self.Object===Object&&self,j=B||M||Function("return this")();Ne.exports=j},83140:function(Ne,te,w){var B=w(44286),M=w(62689),j=w(676);function R(k){return M(k)?j(k):B(k)}Ne.exports=R},67990:function(Ne){var te=/\s/;function w(B){for(var M=B.length;M--&&te.test(B.charAt(M)););return M}Ne.exports=w},676:function(Ne){var te="\\ud800-\\udfff",w="\\u0300-\\u036f",B="\\ufe20-\\ufe2f",M="\\u20d0-\\u20ff",j=w+B+M,R="\\ufe0e\\ufe0f",k="["+te+"]",F="["+j+"]",H="\\ud83c[\\udffb-\\udfff]",I="(?:"+F+"|"+H+")",ee="[^"+te+"]",ae="(?:\\ud83c[\\udde6-\\uddff]){2}",ue="[\\ud800-\\udbff][\\udc00-\\udfff]",re="\\u200d",ge=I+"?",Ze="["+R+"]?",fe="(?:"+re+"(?:"+[ee,ae,ue].join("|")+")"+Ze+ge+")*",Ce=Ze+ge+fe,Ae="(?:"+[ee+F+"?",F,ae,ue,k].join("|")+")",Pe=RegExp(H+"(?="+H+")|"+Ae+Ce,"g");function ie(at){return at.match(Pe)||[]}Ne.exports=ie},2757:function(Ne){var te="\\ud800-\\udfff",w="\\u0300-\\u036f",B="\\ufe20-\\ufe2f",M="\\u20d0-\\u20ff",j=w+B+M,R="\\u2700-\\u27bf",k="a-z\\xdf-\\xf6\\xf8-\\xff",F="\\xac\\xb1\\xd7\\xf7",H="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",I="\\u2000-\\u206f",ee=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ae="A-Z\\xc0-\\xd6\\xd8-\\xde",ue="\\ufe0e\\ufe0f",re=F+H+I+ee,ge="['\u2019]",Ze="["+re+"]",fe="["+j+"]",Ce="\\d+",Ae="["+R+"]",Pe="["+k+"]",ie="[^"+te+re+Ce+R+k+ae+"]",at="\\ud83c[\\udffb-\\udfff]",mt="(?:"+fe+"|"+at+")",vt="[^"+te+"]",Vt="(?:\\ud83c[\\udde6-\\uddff]){2}",U="[\\ud800-\\udbff][\\udc00-\\udfff]",tt="["+ae+"]",ut="\\u200d",vn="(?:"+Pe+"|"+ie+")",ft="(?:"+tt+"|"+ie+")",Ye="(?:"+ge+"(?:d|ll|m|re|s|t|ve))?",Cn="(?:"+ge+"(?:D|LL|M|RE|S|T|VE))?",cn=mt+"?",mr="["+ue+"]?",pr="(?:"+ut+"(?:"+[vt,Vt,U].join("|")+")"+mr+cn+")*",hr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yt=mr+cn+pr,Et="(?:"+[Ae,Vt,U].join("|")+")"+yt,$e=RegExp([tt+"?"+Pe+"+"+Ye+"(?="+[Ze,tt,"$"].join("|")+")",ft+"+"+Cn+"(?="+[Ze,tt+vn,"$"].join("|")+")",tt+"?"+vn+"+"+Ye,tt+"+"+Cn,Mt,hr,Ce,Et].join("|"),"g");function $t(Jt){return Jt.match($e)||[]}Ne.exports=$t},68929:function(Ne,te,w){var B=w(48403),M=w(35393),j=M(function(R,k,F){return k=k.toLowerCase(),R+(F?B(k):k)});Ne.exports=j},48403:function(Ne,te,w){var B=w(79833),M=w(11700);function j(R){return M(B(R).toLowerCase())}Ne.exports=j},23279:function(Ne,te,w){var B=w(13218),M=w(7771),j=w(14841),R="Expected a function",k=Math.max,F=Math.min;function H(I,ee,ae){var ue,re,ge,Ze,fe,Ce,Ae=0,Pe=!1,ie=!1,at=!0;if(typeof I!="function")throw new TypeError(R);ee=j(ee)||0,B(ae)&&(Pe=!!ae.leading,ie="maxWait"in ae,ge=ie?k(j(ae.maxWait)||0,ee):ge,at="trailing"in ae?!!ae.trailing:at);function mt(Cn){var cn=ue,mr=re;return ue=re=void 0,Ae=Cn,Ze=I.apply(mr,cn),Ze}function vt(Cn){return Ae=Cn,fe=setTimeout(tt,ee),Pe?mt(Cn):Ze}function Vt(Cn){var cn=Cn-Ce,mr=Cn-Ae,pr=ee-cn;return ie?F(pr,ge-mr):pr}function U(Cn){var cn=Cn-Ce,mr=Cn-Ae;return Ce===void 0||cn>=ee||cn<0||ie&&mr>=ge}function tt(){var Cn=M();if(U(Cn))return ut(Cn);fe=setTimeout(tt,Vt(Cn))}function ut(Cn){return fe=void 0,at&&ue?mt(Cn):(ue=re=void 0,Ze)}function vn(){fe!==void 0&&clearTimeout(fe),Ae=0,ue=Ce=re=fe=void 0}function ft(){return fe===void 0?Ze:ut(M())}function Ye(){var Cn=M(),cn=U(Cn);if(ue=arguments,re=this,Ce=Cn,cn){if(fe===void 0)return vt(Ce);if(ie)return clearTimeout(fe),fe=setTimeout(tt,ee),mt(Ce)}return fe===void 0&&(fe=setTimeout(tt,ee)),Ze}return Ye.cancel=vn,Ye.flush=ft,Ye}Ne.exports=H},53816:function(Ne,te,w){var B=w(69389),M=w(79833),j=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,R="\\u0300-\\u036f",k="\\ufe20-\\ufe2f",F="\\u20d0-\\u20ff",H=R+k+F,I="["+H+"]",ee=RegExp(I,"g");function ae(ue){return ue=M(ue),ue&&ue.replace(j,B).replace(ee,"")}Ne.exports=ae},1469:function(Ne){var te=Array.isArray;Ne.exports=te},13218:function(Ne){function te(w){var B=typeof w;return w!=null&&(B=="object"||B=="function")}Ne.exports=te},37005:function(Ne){function te(w){return w!=null&&typeof w=="object"}Ne.exports=te},33448:function(Ne,te,w){var B=w(44239),M=w(37005),j="[object Symbol]";function R(k){return typeof k=="symbol"||M(k)&&B(k)==j}Ne.exports=R},96486:function(Ne,te,w){Ne=w.nmd(Ne);var B;(function(){var M,j="4.17.21",R=200,k="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",F="Expected a function",H="Invalid `variable` option passed into `_.template`",I="__lodash_hash_undefined__",ee=500,ae="__lodash_placeholder__",ue=1,re=2,ge=4,Ze=1,fe=2,Ce=1,Ae=2,Pe=4,ie=8,at=16,mt=32,vt=64,Vt=128,U=256,tt=512,ut=30,vn="...",ft=800,Ye=16,Cn=1,cn=2,mr=3,pr=1/0,hr=9007199254740991,Mt=17976931348623157e292,yt=NaN,Et=4294967295,$e=Et-1,$t=Et>>>1,Jt=[["ary",Vt],["bind",Ce],["bindKey",Ae],["curry",ie],["curryRight",at],["flip",tt],["partial",mt],["partialRight",vt],["rearg",U]],tn="[object Arguments]",ir="[object Array]",Or="[object AsyncFunction]",Fr="[object Boolean]",lr="[object Date]",Yr="[object DOMException]",jn="[object Error]",dr="[object Function]",br="[object GeneratorFunction]",nr="[object Map]",Lr="[object Number]",Ji="[object Null]",Ci="[object Object]",$i="[object Promise]",It="[object Proxy]",Q="[object RegExp]",we="[object Set]",Nt="[object String]",jt="[object Symbol]",gt="[object Undefined]",Je="[object WeakMap]",pt="[object WeakSet]",rt="[object ArrayBuffer]",qt="[object DataView]",Dn="[object Float32Array]",_n="[object Float64Array]",Wr="[object Int8Array]",Qn="[object Int16Array]",it="[object Int32Array]",mn="[object Uint8Array]",kn="[object Uint8ClampedArray]",gr="[object Uint16Array]",kr="[object Uint32Array]",Ei=/\b__p \+= '';/g,er=/\b(__p \+=) '' \+/g,Tt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,sn=/&(?:amp|lt|gt|quot|#39);/g,_t=/[&<>"']/g,Ut=RegExp(sn.source),Rn=RegExp(_t.source),Cr=/<%-([\s\S]+?)%>/g,si=/<%([\s\S]+?)%>/g,tr=/<%=([\s\S]+?)%>/g,xn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hn=/^\w*$/,Kn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yn=/[\\^$.*+?()[\]{}|]/g,Sr=RegExp(yn.source),yr=/^\s+/,Tr=/\s/,rn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hn=/\{\n\/\* \[wrapped with (.+)\] \*/,or=/,? & /,Ke=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xe=/[()=,{}\[\]\/\s]/,je=/\\(\\)?/g,me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ze=/\w*$/,Oe=/^[-+]0x[0-9a-f]+$/i,Y=/^0b[01]+$/i,ne=/^\[object .+?Constructor\]$/,W=/^0o[0-7]+$/i,S=/^(?:0|[1-9]\d*)$/,A=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,L=/($^)/,ce=/['\n\r\u2028\u2029\\]/g,ve="\\ud800-\\udfff",pe="\\u0300-\\u036f",Ee="\\ufe20-\\ufe2f",ht="\\u20d0-\\u20ff",ct=pe+Ee+ht,nt="\\u2700-\\u27bf",Rt="a-z\\xdf-\\xf6\\xf8-\\xff",kt="\\xac\\xb1\\xd7\\xf7",bn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pn="\\u2000-\\u206f",Lt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bt="A-Z\\xc0-\\xd6\\xd8-\\xde",In="\\ufe0e\\ufe0f",Zn=kt+bn+pn+Lt,sr="['\u2019]",ni="["+ve+"]",mi="["+Zn+"]",Rr="["+ct+"]",ai="\\d+",li="["+nt+"]",wi="["+Rt+"]",Ct="[^"+ve+Zn+ai+nt+Rt+Bt+"]",Zt="\\ud83c[\\udffb-\\udfff]",Pr="(?:"+Rr+"|"+Zt+")",Gn="[^"+ve+"]",vr="(?:\\ud83c[\\udde6-\\uddff]){2}",$r="[\\ud800-\\udbff][\\udc00-\\udfff]",At="["+Bt+"]",Be="\\u200d",Re="(?:"+wi+"|"+Ct+")",Fe="(?:"+At+"|"+Ct+")",Se="(?:"+sr+"(?:d|ll|m|re|s|t|ve))?",wt="(?:"+sr+"(?:D|LL|M|RE|S|T|VE))?",Gt=Pr+"?",Sn="["+In+"]?",Un="(?:"+Be+"(?:"+[Gn,vr,$r].join("|")+")"+Sn+Gt+")*",_e="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",We="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ve=Sn+Gt+Un,Dt="(?:"+[li,vr,$r].join("|")+")"+Ve,An="(?:"+[Gn+Rr+"?",Rr,vr,$r,ni].join("|")+")",on=RegExp(sr,"g"),et=RegExp(Rr,"g"),Tn=RegExp(Zt+"(?="+Zt+")|"+An+Ve,"g"),zt=RegExp([At+"?"+wi+"+"+Se+"(?="+[mi,At,"$"].join("|")+")",Fe+"+"+wt+"(?="+[mi,At+Re,"$"].join("|")+")",At+"?"+Re+"+"+Se,At+"+"+wt,We,_e,ai,Dt].join("|"),"g"),Xn=RegExp("["+Be+ve+ct+In+"]"),cr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ii=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ui=-1,Mr={};Mr[Dn]=Mr[_n]=Mr[Wr]=Mr[Qn]=Mr[it]=Mr[mn]=Mr[kn]=Mr[gr]=Mr[kr]=!0,Mr[tn]=Mr[ir]=Mr[rt]=Mr[Fr]=Mr[qt]=Mr[lr]=Mr[jn]=Mr[dr]=Mr[nr]=Mr[Lr]=Mr[Ci]=Mr[Q]=Mr[we]=Mr[Nt]=Mr[Je]=!1;var jr={};jr[tn]=jr[ir]=jr[rt]=jr[qt]=jr[Fr]=jr[lr]=jr[Dn]=jr[_n]=jr[Wr]=jr[Qn]=jr[it]=jr[nr]=jr[Lr]=jr[Ci]=jr[Q]=jr[we]=jr[Nt]=jr[jt]=jr[mn]=jr[kn]=jr[gr]=jr[kr]=!0,jr[jn]=jr[dr]=jr[Je]=!1;var eo={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},yi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ci={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Si={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Li=parseFloat,to=parseInt,Kr=typeof w.g=="object"&&w.g&&w.g.Object===Object&&w.g,gs=typeof self=="object"&&self&&self.Object===Object&&self,Cs=Kr||gs||Function("return this")(),es=te&&!te.nodeType&&te,cs=es&&!0&&Ne&&!Ne.nodeType&&Ne,To=cs&&cs.exports===es,Do=To&&Kr.process,Ko=function(){try{var Ot=cs&&cs.require&&cs.require("util").types;return Ot||Do&&Do.binding&&Do.binding("util")}catch(On){}}(),os=Ko&&Ko.isArrayBuffer,_=Ko&&Ko.isDate,K=Ko&&Ko.isMap,he=Ko&&Ko.isRegExp,ye=Ko&&Ko.isSet,Ue=Ko&&Ko.isTypedArray;function He(Ot,On,Yn){switch(Yn.length){case 0:return Ot.call(On);case 1:return Ot.call(On,Yn[0]);case 2:return Ot.call(On,Yn[0],Yn[1]);case 3:return Ot.call(On,Yn[0],Yn[1],Yn[2])}return Ot.apply(On,Yn)}function dt(Ot,On,Yn,di){for(var Qi=-1,ao=Ot==null?0:Ot.length;++Qi<ao;){var Ps=Ot[Qi];On(di,Ps,Yn(Ps),Ot)}return di}function wn(Ot,On){for(var Yn=-1,di=Ot==null?0:Ot.length;++Yn<di&&On(Ot[Yn],Yn,Ot)!==!1;);return Ot}function gn(Ot,On){for(var Yn=Ot==null?0:Ot.length;Yn--&&On(Ot[Yn],Yn,Ot)!==!1;);return Ot}function Pn(Ot,On){for(var Yn=-1,di=Ot==null?0:Ot.length;++Yn<di;)if(!On(Ot[Yn],Yn,Ot))return!1;return!0}function zr(Ot,On){for(var Yn=-1,di=Ot==null?0:Ot.length,Qi=0,ao=[];++Yn<di;){var Ps=Ot[Yn];On(Ps,Yn,Ot)&&(ao[Qi++]=Ps)}return ao}function Gr(Ot,On){var Yn=Ot==null?0:Ot.length;return!!Yn&&Pt(Ot,On,0)>-1}function Hr(Ot,On,Yn){for(var di=-1,Qi=Ot==null?0:Ot.length;++di<Qi;)if(Yn(On,Ot[di]))return!0;return!1}function bi(Ot,On){for(var Yn=-1,di=Ot==null?0:Ot.length,Qi=Array(di);++Yn<di;)Qi[Yn]=On(Ot[Yn],Yn,Ot);return Qi}function Vo(Ot,On){for(var Yn=-1,di=On.length,Qi=Ot.length;++Yn<di;)Ot[Qi+Yn]=On[Yn];return Ot}function Uo(Ot,On,Yn,di){var Qi=-1,ao=Ot==null?0:Ot.length;for(di&&ao&&(Yn=Ot[++Qi]);++Qi<ao;)Yn=On(Yn,Ot[Qi],Qi,Ot);return Yn}function Zo(Ot,On,Yn,di){var Qi=Ot==null?0:Ot.length;for(di&&Qi&&(Yn=Ot[--Qi]);Qi--;)Yn=On(Yn,Ot[Qi],Qi,Ot);return Yn}function Ns(Ot,On){for(var Yn=-1,di=Ot==null?0:Ot.length;++Yn<di;)if(On(Ot[Yn],Yn,Ot))return!0;return!1}var Ms=Ht("length");function No(Ot){return Ot.split("")}function ws(Ot){return Ot.match(Ke)||[]}function Hi(Ot,On,Yn){var di;return Yn(Ot,function(Qi,ao,Ps){if(On(Qi,ao,Ps))return di=ao,!1}),di}function ms(Ot,On,Yn,di){for(var Qi=Ot.length,ao=Yn+(di?1:-1);di?ao--:++ao<Qi;)if(On(Ot[ao],ao,Ot))return ao;return-1}function Pt(Ot,On,Yn){return On===On?ol(Ot,On,Yn):ms(Ot,Ft,Yn)}function ot(Ot,On,Yn,di){for(var Qi=Yn-1,ao=Ot.length;++Qi<ao;)if(di(Ot[Qi],On))return Qi;return-1}function Ft(Ot){return Ot!==Ot}function Qt(Ot,On){var Yn=Ot==null?0:Ot.length;return Yn?io(Ot,On)/Yn:yt}function Ht(Ot){return function(On){return On==null?M:On[Ot]}}function $n(Ot){return function(On){return Ot==null?M:Ot[On]}}function Vn(Ot,On,Yn,di,Qi){return Qi(Ot,function(ao,Ps,ts){Yn=di?(di=!1,ao):On(Yn,ao,Ps,ts)}),Yn}function Er(Ot,On){var Yn=Ot.length;for(Ot.sort(On);Yn--;)Ot[Yn]=Ot[Yn].value;return Ot}function io(Ot,On){for(var Yn,di=-1,Qi=Ot.length;++di<Qi;){var ao=On(Ot[di]);ao!==M&&(Yn=Yn===M?ao:Yn+ao)}return Yn}function Mi(Ot,On){for(var Yn=-1,di=Array(Ot);++Yn<Ot;)di[Yn]=On(Yn);return di}function Ki(Ot,On){return bi(On,function(Yn){return[Yn,Ot[Yn]]})}function qi(Ot){return Ot&&Ot.slice(0,pc(Ot)+1).replace(yr,"")}function Ri(Ot){return function(On){return Ot(On)}}function Ts(Ot,On){return bi(On,function(Yn){return Ot[Yn]})}function rs(Ot,On){return Ot.has(On)}function po(Ot,On){for(var Yn=-1,di=Ot.length;++Yn<di&&Pt(On,Ot[Yn],0)>-1;);return Yn}function xi(Ot,On){for(var Yn=Ot.length;Yn--&&Pt(On,Ot[Yn],0)>-1;);return Yn}function Ho(Ot,On){for(var Yn=Ot.length,di=0;Yn--;)Ot[Yn]===On&&++di;return di}var ls=$n(eo),Yo=$n(yi);function Hs(Ot){return"\\"+Si[Ot]}function Ol(Ot,On){return Ot==null?M:Ot[On]}function xa(Ot){return Xn.test(Ot)}function Ca(Ot){return cr.test(Ot)}function ra(Ot){for(var On,Yn=[];!(On=Ot.next()).done;)Yn.push(On.value);return Yn}function Aa(Ot){var On=-1,Yn=Array(Ot.size);return Ot.forEach(function(di,Qi){Yn[++On]=[Qi,di]}),Yn}function Il(Ot,On){return function(Yn){return Ot(On(Yn))}}function Ra(Ot,On){for(var Yn=-1,di=Ot.length,Qi=0,ao=[];++Yn<di;){var Ps=Ot[Yn];(Ps===On||Ps===ae)&&(Ot[Yn]=ae,ao[Qi++]=Yn)}return ao}function Rl(Ot){var On=-1,Yn=Array(Ot.size);return Ot.forEach(function(di){Yn[++On]=di}),Yn}function Ka(Ot){var On=-1,Yn=Array(Ot.size);return Ot.forEach(function(di){Yn[++On]=[di,di]}),Yn}function ol(Ot,On,Yn){for(var di=Yn-1,Qi=Ot.length;++di<Qi;)if(Ot[di]===On)return di;return-1}function Wl(Ot,On,Yn){for(var di=Yn+1;di--;)if(Ot[di]===On)return di;return di}function sl(Ot){return xa(Ot)?kl(Ot):Ms(Ot)}function Ia(Ot){return xa(Ot)?Bc(Ot):No(Ot)}function pc(Ot){for(var On=Ot.length;On--&&Tr.test(Ot.charAt(On)););return On}var al=$n(ci);function kl(Ot){for(var On=Tn.lastIndex=0;Tn.test(Ot);)++On;return On}function Bc(Ot){return Ot.match(Tn)||[]}function En(Ot){return Ot.match(zt)||[]}var fr=function Ot(On){On=On==null?Cs:Nr.defaults(Cs.Object(),On,Nr.pick(Cs,ii));var Yn=On.Array,di=On.Date,Qi=On.Error,ao=On.Function,Ps=On.Math,ts=On.Object,Lo=On.RegExp,jo=On.String,Ro=On.TypeError,$s=Yn.prototype,ya=ao.prototype,ha=ts.prototype,Wa=On["__core-js_shared__"],bl=ya.toString,Ls=ha.hasOwnProperty,Xa=0,ou=function(){var b=/[^.]+$/.exec(Wa&&Wa.keys&&Wa.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}(),$f=ha.toString,Xg=bl.call(ts),Yg=Cs._,Jg=Lo("^"+bl.call(Ls).replace(yn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Iu=To?On.Buffer:M,Cc=On.Symbol,Ru=On.Uint8Array,zl=Iu?Iu.allocUnsafe:M,Hf=Il(ts.getPrototypeOf,ts),Eh=ts.create,qu=ha.propertyIsEnumerable,wf=$s.splice,Bp=Cc?Cc.isConcatSpreadable:M,Ef=Cc?Cc.iterator:M,yu=Cc?Cc.toStringTag:M,kd=function(){try{var b=ji(ts,"defineProperty");return b({},"",{}),b}catch(P){}}(),qg=On.clearTimeout!==Cs.clearTimeout&&On.clearTimeout,zp=di&&di.now!==Cs.Date.now&&di.now,Qg=On.setTimeout!==Cs.setTimeout&&On.setTimeout,Kf=Ps.ceil,Xf=Ps.floor,Sf=ts.getOwnPropertySymbols,m0=Iu?Iu.isBuffer:M,od=On.isFinite,em=$s.join,Af=Il(ts.keys,ts),wl=Ps.max,$l=Ps.min,Ld=di.now,sd=On.parseInt,ad=Ps.random,Fd=$s.reverse,Sh=ji(On,"DataView"),Du=ji(On,"Map"),ca=ji(On,"Promise"),Yf=ji(On,"Set"),Oc=ji(On,"WeakMap"),Ah=ji(ts,"create"),Jf=Oc&&new Oc,gc={},tm=nl(Sh),qf=nl(Du),Gp=nl(ca),bu=nl(Yf),v0=nl(Oc),Bd=Cc?Cc.prototype:M,wc=Bd?Bd.valueOf:M,zc=Bd?Bd.toString:M;function en(b){if(Vl(b)&&!ta(b)&&!(b instanceof Ma)){if(b instanceof Gc)return b;if(Ls.call(b,"__wrapped__"))return Gs(b)}return new Gc(b)}var Mh=function(){function b(){}return function(P){if(!Cl(P))return{};if(Eh)return Eh(P);b.prototype=P;var q=new b;return b.prototype=M,q}}();function zd(){}function Gc(b,P){this.__wrapped__=b,this.__actions__=[],this.__chain__=!!P,this.__index__=0,this.__values__=M}en.templateSettings={escape:Cr,evaluate:si,interpolate:tr,variable:"",imports:{_:en}},en.prototype=zd.prototype,en.prototype.constructor=en,Gc.prototype=Mh(zd.prototype),Gc.prototype.constructor=Gc;function Ma(b){this.__wrapped__=b,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Et,this.__views__=[]}function Zv(){var b=new Ma(this.__wrapped__);return b.__actions__=ec(this.__actions__),b.__dir__=this.__dir__,b.__filtered__=this.__filtered__,b.__iteratees__=ec(this.__iteratees__),b.__takeCount__=this.__takeCount__,b.__views__=ec(this.__views__),b}function Th(){if(this.__filtered__){var b=new Ma(this);b.__dir__=-1,b.__filtered__=!0}else b=this.clone(),b.__dir__*=-1;return b}function y0(){var b=this.__wrapped__.value(),P=this.__dir__,q=ta(b),Me=P<0,bt=q?b.length:0,un=Mo(0,bt,this.__views__),ar=un.start,Ir=un.end,ei=Ir-ar,uo=Me?Ir:ar-1,so=this.__iteratees__,Co=so.length,us=0,_s=$l(ei,this.__takeCount__);if(!q||!Me&&bt==ei&&_s==ei)return Kd(b,this.__actions__);var Js=[];e:for(;ei--&&us<_s;){uo+=P;for(var ea=-1,Zs=b[uo];++ea<Co;){var aa=so[ea],Sa=aa.iteratee,Mu=aa.type,ic=Sa(Zs);if(Mu==cn)Zs=ic;else if(!ic){if(Mu==Cn)continue e;break e}}Js[us++]=Zs}return Js}Ma.prototype=Mh(zd.prototype),Ma.prototype.constructor=Ma;function Mf(b){var P=-1,q=b==null?0:b.length;for(this.clear();++P<q;){var Me=b[P];this.set(Me[0],Me[1])}}function b0(){this.__data__=Ah?Ah(null):{},this.size=0}function Ph(b){var P=this.has(b)&&delete this.__data__[b];return this.size-=P?1:0,P}function Vp(b){var P=this.__data__;if(Ah){var q=P[b];return q===I?M:q}return Ls.call(P,b)?P[b]:M}function Zp(b){var P=this.__data__;return Ah?P[b]!==M:Ls.call(P,b)}function jv(b,P){var q=this.__data__;return this.size+=this.has(b)?0:1,q[b]=Ah&&P===M?I:P,this}Mf.prototype.clear=b0,Mf.prototype.delete=Ph,Mf.prototype.get=Vp,Mf.prototype.has=Zp,Mf.prototype.set=jv;function Qu(b){var P=-1,q=b==null?0:b.length;for(this.clear();++P<q;){var Me=b[P];this.set(Me[0],Me[1])}}function Uv(){this.__data__=[],this.size=0}function Wv(b){var P=this.__data__,q=Ks(P,b);if(q<0)return!1;var Me=P.length-1;return q==Me?P.pop():wf.call(P,q,1),--this.size,!0}function nm(b){var P=this.__data__,q=Ks(P,b);return q<0?M:P[q][1]}function rm(b){return Ks(this.__data__,b)>-1}function x0(b,P){var q=this.__data__,Me=Ks(q,b);return Me<0?(++this.size,q.push([b,P])):q[Me][1]=P,this}Qu.prototype.clear=Uv,Qu.prototype.delete=Wv,Qu.prototype.get=nm,Qu.prototype.has=rm,Qu.prototype.set=x0;function ef(b){var P=-1,q=b==null?0:b.length;for(this.clear();++P<q;){var Me=b[P];this.set(Me[0],Me[1])}}function C0(){this.size=0,this.__data__={hash:new Mf,map:new(Du||Qu),string:new Mf}}function $v(b){var P=qr(this,b).delete(b);return this.size-=P?1:0,P}function im(b){return qr(this,b).get(b)}function su(b){return qr(this,b).has(b)}function jp(b,P){var q=qr(this,b),Me=q.size;return q.set(b,P),this.size+=q.size==Me?0:1,this}ef.prototype.clear=C0,ef.prototype.delete=$v,ef.prototype.get=im,ef.prototype.has=su,ef.prototype.set=jp;function Tf(b){var P=-1,q=b==null?0:b.length;for(this.__data__=new ef;++P<q;)this.add(b[P])}function Up(b){return this.__data__.set(b,I),this}function Vc(b){return this.__data__.has(b)}Tf.prototype.add=Tf.prototype.push=Up,Tf.prototype.has=Vc;function Ta(b){var P=this.__data__=new Qu(b);this.size=P.size}function ld(){this.__data__=new Qu,this.size=0}function mc(b){var P=this.__data__,q=P.delete(b);return this.size=P.size,q}function Gd(b){return this.__data__.get(b)}function om(b){return this.__data__.has(b)}function ds(b,P){var q=this.__data__;if(q instanceof Qu){var Me=q.__data__;if(!Du||Me.length<R-1)return Me.push([b,P]),this.size=++q.size,this;q=this.__data__=new ef(Me)}return q.set(b,P),this.size=q.size,this}Ta.prototype.clear=ld,Ta.prototype.delete=mc,Ta.prototype.get=Gd,Ta.prototype.has=om,Ta.prototype.set=ds;function mo(b,P){var q=ta(b),Me=!q&&fh(b),bt=!q&&!Me&&pf(b),un=!q&&!Me&&!bt&&mf(b),ar=q||Me||bt||un,Ir=ar?Mi(b.length,jo):[],ei=Ir.length;for(var uo in b)(P||Ls.call(b,uo))&&!(ar&&(uo=="length"||bt&&(uo=="offset"||uo=="parent")||un&&(uo=="buffer"||uo=="byteLength"||uo=="byteOffset")||Oo(uo,ei)))&&Ir.push(uo);return Ir}function Rs(b){var P=b.length;return P?b[Wd(0,P-1)]:M}function Ds(b,P){return qa(ec(b),Ec(P,0,b.length))}function Wp(b){return qa(ec(b))}function Nu(b,P,q){(q!==M&&!Eu(b[P],q)||q===M&&!(P in b))&&el(b,P,q)}function qo(b,P,q){var Me=b[P];(!(Ls.call(b,P)&&Eu(Me,q))||q===M&&!(P in b))&&el(b,P,q)}function Ks(b,P){for(var q=b.length;q--;)if(Eu(b[q][0],P))return q;return-1}function w0(b,P,q,Me){return ll(b,function(bt,un,ar){P(Me,bt,q(bt),ar)}),Me}function tf(b,P){return b&&Nc(P,rc(P),b)}function Zc(b,P){return b&&Nc(P,uc(P),b)}function el(b,P,q){P=="__proto__"&&kd?kd(b,P,{configurable:!0,enumerable:!0,value:q,writable:!0}):b[P]=q}function jc(b,P){for(var q=-1,Me=P.length,bt=Yn(Me),un=b==null;++q<Me;)bt[q]=un?M:up(b,P[q]);return bt}function Ec(b,P,q){return b===b&&(q!==M&&(b=b<=q?b:q),P!==M&&(b=b>=P?b:P)),b}function Xi(b,P,q,Me,bt,un){var ar,Ir=P&ue,ei=P&re,uo=P&ge;if(q&&(ar=bt?q(b,Me,bt,un):q(b)),ar!==M)return ar;if(!Cl(b))return b;var so=ta(b);if(so){if(ar=Vr(b),!Ir)return ec(b,ar)}else{var Co=Zi(b),us=Co==dr||Co==br;if(pf(b))return Fh(b,Ir);if(Co==Ci||Co==tn||us&&!bt){if(ar=ei||us?{}:pi(b),!Ir)return ei?Xv(b,Zc(ar,b)):Kv(b,tf(ar,b))}else{if(!jr[Co])return bt?b:{};ar=fo(b,Co,Ir)}}un||(un=new Ta);var _s=un.get(b);if(_s)return _s;un.set(b,ar),Em(b)?b.forEach(function(Zs){ar.add(Xi(Zs,P,q,Zs,b,un))}):V0(b)&&b.forEach(function(Zs,aa){ar.set(aa,Xi(Zs,P,q,aa,b,un))});var Js=uo?ei?Le:Uh:ei?uc:rc,ea=so?M:Js(b);return wn(ea||b,function(Zs,aa){ea&&(aa=Zs,Zs=b[aa]),qo(ar,aa,Xi(Zs,P,q,aa,b,un))}),ar}function zi(b){var P=rc(b);return function(q){return Qf(q,b,P)}}function Qf(b,P,q){var Me=q.length;if(b==null)return!Me;for(b=ts(b);Me--;){var bt=q[Me],un=P[bt],ar=b[bt];if(ar===M&&!(bt in b)||!un(ar))return!1}return!0}function cd(b,P,q){if(typeof b!="function")throw new Ro(F);return As(function(){b.apply(M,q)},P)}function Pf(b,P,q,Me){var bt=-1,un=Gr,ar=!0,Ir=b.length,ei=[],uo=P.length;if(!Ir)return ei;q&&(P=bi(P,Ri(q))),Me?(un=Hr,ar=!1):P.length>=R&&(un=rs,ar=!1,P=new Tf(P));e:for(;++bt<Ir;){var so=b[bt],Co=q==null?so:q(so);if(so=Me||so!==0?so:0,ar&&Co===Co){for(var us=uo;us--;)if(P[us]===Co)continue e;ei.push(so)}else un(P,Co,Me)||ei.push(so)}return ei}var ll=Hc(au),Dl=Hc(th,!0);function ba(b,P){var q=!0;return ll(b,function(Me,bt,un){return q=!!P(Me,bt,un),q}),q}function eh(b,P,q){for(var Me=-1,bt=b.length;++Me<bt;){var un=b[Me],ar=P(un);if(ar!=null&&(Ir===M?ar===ar&&!Ea(ar):q(ar,Ir)))var Ir=ar,ei=un}return ei}function Oh(b,P,q,Me){var bt=b.length;for(q=Ss(q),q<0&&(q=-q>bt?0:bt+q),Me=Me===M||Me>bt?bt:Ss(Me),Me<0&&(Me+=bt),Me=q>Me?0:Am(Me);q<Me;)b[q++]=P;return b}function ud(b,P){var q=[];return ll(b,function(Me,bt,un){P(Me,bt,un)&&q.push(Me)}),q}function Gl(b,P,q,Me,bt){var un=-1,ar=b.length;for(q||(q=Vi),bt||(bt=[]);++un<ar;){var Ir=b[un];P>0&&q(Ir)?P>1?Gl(Ir,P-1,q,Me,bt):Vo(bt,Ir):Me||(bt[bt.length]=Ir)}return bt}var fd=Jp(),Ih=Jp(!0);function au(b,P){return b&&fd(b,P,rc)}function th(b,P){return b&&Ih(b,P,rc)}function nf(b,P){return zr(P,function(q){return gf(b[q])})}function Ic(b,P){P=xu(P,b);for(var q=0,Me=P.length;b!=null&&q<Me;)b=b[oa(P[q++])];return q&&q==Me?b:M}function Rh(b,P,q){var Me=P(b);return ta(b)?Me:Vo(Me,q(b))}function Va(b){return b==null?b===M?gt:Ji:yu&&yu in ts(b)?lo(b):Ys(b)}function Vd(b,P){return b>P}function Zd(b,P){return b!=null&&Ls.call(b,P)}function ss(b,P){return b!=null&&P in ts(b)}function Pi(b,P,q){return b>=$l(P,q)&&b<wl(P,q)}function tl(b,P,q){for(var Me=q?Hr:Gr,bt=b[0].length,un=b.length,ar=un,Ir=Yn(un),ei=1/0,uo=[];ar--;){var so=b[ar];ar&&P&&(so=bi(so,Ri(P))),ei=$l(so.length,ei),Ir[ar]=!q&&(P||bt>=120&&so.length>=120)?new Tf(ar&&so):M}so=b[0];var Co=-1,us=Ir[0];e:for(;++Co<bt&&uo.length<ei;){var _s=so[Co],Js=P?P(_s):_s;if(_s=q||_s!==0?_s:0,!(us?rs(us,Js):Me(uo,Js,q))){for(ar=un;--ar;){var ea=Ir[ar];if(!(ea?rs(ea,Js):Me(b[ar],Js,q)))continue e}us&&us.push(Js),uo.push(_s)}}return uo}function Uc(b,P,q,Me){return au(b,function(bt,un,ar){P(Me,q(bt),un,ar)}),Me}function fl(b,P,q){P=xu(P,b),b=js(b,P);var Me=b==null?b:b[oa(wr(P))];return Me==null?M:He(Me,b,q)}function $p(b){return Vl(b)&&Va(b)==tn}function jd(b){return Vl(b)&&Va(b)==rt}function Of(b){return Vl(b)&&Va(b)==lr}function nh(b,P,q,Me,bt){return b===P?!0:b==null||P==null||!Vl(b)&&!Vl(P)?b!==b&&P!==P:If(b,P,q,Me,nh,bt)}function If(b,P,q,Me,bt,un){var ar=ta(b),Ir=ta(P),ei=ar?ir:Zi(b),uo=Ir?ir:Zi(P);ei=ei==tn?Ci:ei,uo=uo==tn?Ci:uo;var so=ei==Ci,Co=uo==Ci,us=ei==uo;if(us&&pf(b)){if(!pf(P))return!1;ar=!0,so=!1}if(us&&!so)return un||(un=new Ta),ar||mf(b)?md(b,P,q,Me,bt,un):Jv(b,P,ei,q,Me,bt,un);if(!(q&Ze)){var _s=so&&Ls.call(b,"__wrapped__"),Js=Co&&Ls.call(P,"__wrapped__");if(_s||Js){var ea=_s?b.value():b,Zs=Js?P.value():P;return un||(un=new Ta),bt(ea,Zs,q,Me,un)}}return us?(un||(un=new Ta),jh(b,P,q,Me,bt,un)):!1}function Rc(b){return Vl(b)&&Zi(b)==nr}function rf(b,P,q,Me){var bt=q.length,un=bt,ar=!Me;if(b==null)return!un;for(b=ts(b);bt--;){var Ir=q[bt];if(ar&&Ir[2]?Ir[1]!==b[Ir[0]]:!(Ir[0]in b))return!1}for(;++bt<un;){Ir=q[bt];var ei=Ir[0],uo=b[ei],so=Ir[1];if(ar&&Ir[2]){if(uo===M&&!(ei in b))return!1}else{var Co=new Ta;if(Me)var us=Me(uo,so,ei,b,P,Co);if(!(us===M?nh(so,uo,Ze|fe,Me,Co):us))return!1}}return!0}function _u(b){if(!Cl(b)||Es(b))return!1;var P=gf(b)?Jg:ne;return P.test(nl(b))}function Wc(b){return Vl(b)&&Va(b)==Q}function Dh(b){return Vl(b)&&Zi(b)==we}function rh(b){return Vl(b)&&ap(b.length)&&!!Mr[Va(b)]}function of(b){return typeof b=="function"?b:b==null?qc:typeof b=="object"?ta(b)?Hp(b[0],b[1]):Rf(b):ev(b)}function sf(b){if(!So(b))return Af(b);var P=[];for(var q in ts(b))Ls.call(b,q)&&q!="constructor"&&P.push(q);return P}function ih(b){if(!Cl(b))return Jo(b);var P=So(b),q=[];for(var Me in b)Me=="constructor"&&(P||!Ls.call(b,Me))||q.push(Me);return q}function Nh(b,P){return b<P}function lu(b,P){var q=-1,Me=Yc(b)?Yn(b.length):[];return ll(b,function(bt,un,ar){Me[++q]=P(bt,un,ar)}),Me}function Rf(b){var P=hi(b);return P.length==1&&P[0][2]?Bi(P[0][0],P[0][1]):function(q){return q===b||rf(q,b,P)}}function Hp(b,P){return bo(b)&&ho(P)?Bi(oa(b),P):function(q){var Me=up(q,b);return Me===M&&Me===P?fp(q,b):nh(P,Me,Ze|fe)}}function af(b,P,q,Me,bt){b!==P&&fd(P,function(un,ar){if(bt||(bt=new Ta),Cl(un))ku(b,P,ar,q,af,Me,bt);else{var Ir=Me?Me(dl(b,ar),un,ar+"",b,P,bt):M;Ir===M&&(Ir=un),Nu(b,ar,Ir)}},uc)}function ku(b,P,q,Me,bt,un,ar){var Ir=dl(b,q),ei=dl(P,q),uo=ar.get(ei);if(uo){Nu(b,q,uo);return}var so=un?un(Ir,ei,q+"",b,P,ar):M,Co=so===M;if(Co){var us=ta(ei),_s=!us&&pf(ei),Js=!us&&!_s&&mf(ei);so=ei,us||_s||Js?ta(Ir)?so=Ir:xl(Ir)?so=ec(Ir):_s?(Co=!1,so=Fh(ei,!0)):Js?(Co=!1,so=Yp(ei,!0)):so=[]:Ff(ei)||fh(ei)?(so=Ir,fh(Ir)?so=Mm(Ir):(!Cl(Ir)||gf(Ir))&&(so=pi(ei))):Co=!1}Co&&(ar.set(ei,so),bt(so,ei,Me,un,ar),ar.delete(ei)),Nu(b,q,so)}function hd(b,P){var q=b.length;if(q)return P+=P<0?q:0,Oo(P,q)?b[P]:M}function sm(b,P,q){P.length?P=bi(P,function(un){return ta(un)?function(ar){return Ic(ar,un.length===1?un[0]:un)}:un}):P=[qc];var Me=-1;P=bi(P,Ri(Ur()));var bt=lu(b,function(un,ar,Ir){var ei=bi(P,function(uo){return uo(un)});return{criteria:ei,index:++Me,value:un}});return Er(bt,function(un,ar){return Hv(un,ar,q)})}function oh(b,P){return Kp(b,P,function(q,Me){return fp(b,Me)})}function Kp(b,P,q){for(var Me=-1,bt=P.length,un={};++Me<bt;){var ar=P[Me],Ir=Ic(b,ar);q(Ir,ar)&&Hd(un,xu(ar,b),Ir)}return un}function E0(b){return function(P){return Ic(P,b)}}function Ud(b,P,q,Me){var bt=Me?ot:Pt,un=-1,ar=P.length,Ir=b;for(b===P&&(P=ec(P)),q&&(Ir=bi(b,Ri(q)));++un<ar;)for(var ei=0,uo=P[un],so=q?q(uo):uo;(ei=bt(Ir,so,ei,Me))>-1;)Ir!==b&&wf.call(Ir,ei,1),wf.call(b,ei,1);return b}function Df(b,P){for(var q=b?P.length:0,Me=q-1;q--;){var bt=P[q];if(q==Me||bt!==un){var un=bt;Oo(bt)?wf.call(b,bt,1):pd(b,bt)}}return b}function Wd(b,P){return b+Xf(ad()*(P-b+1))}function S0(b,P,q,Me){for(var bt=-1,un=wl(Kf((P-b)/(q||1)),0),ar=Yn(un);un--;)ar[Me?un:++bt]=b,b+=q;return ar}function $d(b,P){var q="";if(!b||P<1||P>hr)return q;do P%2&&(q+=b),P=Xf(P/2),P&&(b+=b);while(P);return q}function ga(b,P){return pl(ys(b,P,qc),b+"")}function A0(b){return Rs(_m(b))}function Lu(b,P){var q=_m(b);return qa(q,Ec(P,0,q.length))}function Hd(b,P,q,Me){if(!Cl(b))return b;P=xu(P,b);for(var bt=-1,un=P.length,ar=un-1,Ir=b;Ir!=null&&++bt<un;){var ei=oa(P[bt]),uo=q;if(ei==="__proto__"||ei==="constructor"||ei==="prototype")return b;if(bt!=ar){var so=Ir[ei];uo=Me?Me(so,ei,Ir):M,uo===M&&(uo=Cl(so)?so:Oo(P[bt+1])?[]:{})}qo(Ir,ei,uo),Ir=Ir[ei]}return b}var M0=Jf?function(b,P){return Jf.set(b,P),b}:qc,T0=kd?function(b,P){return kd(b,"toString",{configurable:!0,enumerable:!1,value:Cg(P),writable:!0})}:qc;function am(b){return qa(_m(b))}function Dc(b,P,q){var Me=-1,bt=b.length;P<0&&(P=-P>bt?0:bt+P),q=q>bt?bt:q,q<0&&(q+=bt),bt=P>q?0:q-P>>>0,P>>>=0;for(var un=Yn(bt);++Me<bt;)un[Me]=b[Me+P];return un}function lm(b,P){var q;return ll(b,function(Me,bt,un){return q=P(Me,bt,un),!q}),!!q}function Xp(b,P,q){var Me=0,bt=b==null?Me:b.length;if(typeof P=="number"&&P===P&&bt<=$t){for(;Me<bt;){var un=Me+bt>>>1,ar=b[un];ar!==null&&!Ea(ar)&&(q?ar<=P:ar<P)?Me=un+1:bt=un}return bt}return cm(b,P,qc,q)}function cm(b,P,q,Me){var bt=0,un=b==null?0:b.length;if(un===0)return 0;P=q(P);for(var ar=P!==P,Ir=P===null,ei=Ea(P),uo=P===M;bt<un;){var so=Xf((bt+un)/2),Co=q(b[so]),us=Co!==M,_s=Co===null,Js=Co===Co,ea=Ea(Co);if(ar)var Zs=Me||Js;else uo?Zs=Js&&(Me||us):Ir?Zs=Js&&us&&(Me||!_s):ei?Zs=Js&&us&&!_s&&(Me||!ea):_s||ea?Zs=!1:Zs=Me?Co<=P:Co<P;Zs?bt=so+1:un=so}return $l(un,$e)}function dd(b,P){for(var q=-1,Me=b.length,bt=0,un=[];++q<Me;){var ar=b[q],Ir=P?P(ar):ar;if(!q||!Eu(Ir,ei)){var ei=Ir;un[bt++]=ar===0?0:ar}}return un}function _h(b){return typeof b=="number"?b:Ea(b)?yt:+b}function Ql(b){if(typeof b=="string")return b;if(ta(b))return bi(b,Ql)+"";if(Ea(b))return zc?zc.call(b):"";var P=b+"";return P=="0"&&1/b==-pr?"-0":P}function cu(b,P,q){var Me=-1,bt=Gr,un=b.length,ar=!0,Ir=[],ei=Ir;if(q)ar=!1,bt=Hr;else if(un>=R){var uo=P?null:ep(b);if(uo)return Rl(uo);ar=!1,bt=rs,ei=new Tf}else ei=P?[]:Ir;e:for(;++Me<un;){var so=b[Me],Co=P?P(so):so;if(so=q||so!==0?so:0,ar&&Co===Co){for(var us=ei.length;us--;)if(ei[us]===Co)continue e;P&&ei.push(Co),Ir.push(so)}else bt(ei,Co,q)||(ei!==Ir&&ei.push(Co),Ir.push(so))}return Ir}function pd(b,P){return P=xu(P,b),b=js(b,P),b==null||delete b[oa(wr(P))]}function lf(b,P,q,Me){return Hd(b,P,q(Ic(b,P)),Me)}function sh(b,P,q,Me){for(var bt=b.length,un=Me?bt:-1;(Me?un--:++un<bt)&&P(b[un],un,b););return q?Dc(b,Me?0:un,Me?un+1:bt):Dc(b,Me?un+1:0,Me?bt:un)}function Kd(b,P){var q=b;return q instanceof Ma&&(q=q.value()),Uo(P,function(Me,bt){return bt.func.apply(bt.thisArg,Vo([Me],bt.args))},q)}function Xd(b,P,q){var Me=b.length;if(Me<2)return Me?cu(b[0]):[];for(var bt=-1,un=Yn(Me);++bt<Me;)for(var ar=b[bt],Ir=-1;++Ir<Me;)Ir!=bt&&(un[bt]=Pf(un[bt]||ar,b[Ir],P,q));return cu(Gl(un,1),P,q)}function Yd(b,P,q){for(var Me=-1,bt=b.length,un=P.length,ar={};++Me<bt;){var Ir=Me<un?P[Me]:M;q(ar,b[Me],Ir)}return ar}function kh(b){return xl(b)?b:[]}function Jd(b){return typeof b=="function"?b:qc}function xu(b,P){return ta(b)?b:bo(b,P)?[b]:El(Za(b))}var cf=ga;function Cu(b,P,q){var Me=b.length;return q=q===M?Me:q,!P&&q>=Me?b:Dc(b,P,q)}var Lh=qg||function(b){return Cs.clearTimeout(b)};function Fh(b,P){if(P)return b.slice();var q=b.length,Me=zl?zl(q):new b.constructor(q);return b.copy(Me),Me}function Bh(b){var P=new b.constructor(b.byteLength);return new Ru(P).set(new Ru(b)),P}function Fu(b,P){var q=P?Bh(b.buffer):b.buffer;return new b.constructor(q,b.byteOffset,b.byteLength)}function zh(b){var P=new b.constructor(b.source,ze.exec(b));return P.lastIndex=b.lastIndex,P}function Ll(b){return wc?ts(wc.call(b)):{}}function Yp(b,P){var q=P?Bh(b.buffer):b.buffer;return new b.constructor(q,b.byteOffset,b.length)}function qd(b,P){if(b!==P){var q=b!==M,Me=b===null,bt=b===b,un=Ea(b),ar=P!==M,Ir=P===null,ei=P===P,uo=Ea(P);if(!Ir&&!uo&&!un&&b>P||un&&ar&&ei&&!Ir&&!uo||Me&&ar&&ei||!q&&ei||!bt)return 1;if(!Me&&!un&&!uo&&b<P||uo&&q&&bt&&!Me&&!un||Ir&&q&&bt||!ar&&bt||!ei)return-1}return 0}function Hv(b,P,q){for(var Me=-1,bt=b.criteria,un=P.criteria,ar=bt.length,Ir=q.length;++Me<ar;){var ei=qd(bt[Me],un[Me]);if(ei){if(Me>=Ir)return ei;var uo=q[Me];return ei*(uo=="desc"?-1:1)}}return b.index-P.index}function P0(b,P,q,Me){for(var bt=-1,un=b.length,ar=q.length,Ir=-1,ei=P.length,uo=wl(un-ar,0),so=Yn(ei+uo),Co=!Me;++Ir<ei;)so[Ir]=P[Ir];for(;++bt<ar;)(Co||bt<un)&&(so[q[bt]]=b[bt]);for(;uo--;)so[Ir++]=b[bt++];return so}function $c(b,P,q,Me){for(var bt=-1,un=b.length,ar=-1,Ir=q.length,ei=-1,uo=P.length,so=wl(un-Ir,0),Co=Yn(so+uo),us=!Me;++bt<so;)Co[bt]=b[bt];for(var _s=bt;++ei<uo;)Co[_s+ei]=P[ei];for(;++ar<Ir;)(us||bt<un)&&(Co[_s+q[ar]]=b[bt++]);return Co}function ec(b,P){var q=-1,Me=b.length;for(P||(P=Yn(Me));++q<Me;)P[q]=b[q];return P}function Nc(b,P,q,Me){var bt=!q;q||(q={});for(var un=-1,ar=P.length;++un<ar;){var Ir=P[un],ei=Me?Me(q[Ir],b[Ir],Ir,q,b):M;ei===M&&(ei=b[Ir]),bt?el(q,Ir,ei):qo(q,Ir,ei)}return q}function Kv(b,P){return Nc(b,no(b),P)}function Xv(b,P){return Nc(b,oo(b),P)}function ah(b,P){return function(q,Me){var bt=ta(q)?dt:w0,un=P?P():{};return bt(q,b,Ur(Me,2),un)}}function Gh(b){return ga(function(P,q){var Me=-1,bt=q.length,un=bt>1?q[bt-1]:M,ar=bt>2?q[2]:M;for(un=b.length>3&&typeof un=="function"?(bt--,un):M,ar&&Di(q[0],q[1],ar)&&(un=bt<3?M:un,bt=1),P=ts(P);++Me<bt;){var Ir=q[Me];Ir&&b(P,Ir,Me,un)}return P})}function Hc(b,P){return function(q,Me){if(q==null)return q;if(!Yc(q))return b(q,Me);for(var bt=q.length,un=P?bt:-1,ar=ts(q);(P?un--:++un<bt)&&Me(ar[un],un,ar)!==!1;);return q}}function Jp(b){return function(P,q,Me){for(var bt=-1,un=ts(P),ar=Me(P),Ir=ar.length;Ir--;){var ei=ar[b?Ir:++bt];if(q(un[ei],ei,un)===!1)break}return P}}function gd(b,P,q){var Me=P&Ce,bt=da(b);function un(){var ar=this&&this!==Cs&&this instanceof un?bt:b;return ar.apply(Me?q:this,arguments)}return un}function uu(b){return function(P){P=Za(P);var q=xa(P)?Ia(P):M,Me=q?q[0]:P.charAt(0),bt=q?Cu(q,1).join(""):P.slice(1);return Me[b]()+bt}}function Bu(b){return function(P){return Uo(Py(Uu(P).replace(on,"")),b,"")}}function da(b){return function(){var P=arguments;switch(P.length){case 0:return new b;case 1:return new b(P[0]);case 2:return new b(P[0],P[1]);case 3:return new b(P[0],P[1],P[2]);case 4:return new b(P[0],P[1],P[2],P[3]);case 5:return new b(P[0],P[1],P[2],P[3],P[4]);case 6:return new b(P[0],P[1],P[2],P[3],P[4],P[5]);case 7:return new b(P[0],P[1],P[2],P[3],P[4],P[5],P[6])}var q=Mh(b.prototype),Me=b.apply(q,P);return Cl(Me)?Me:q}}function fu(b,P,q){var Me=da(b);function bt(){for(var un=arguments.length,ar=Yn(un),Ir=un,ei=ri(bt);Ir--;)ar[Ir]=arguments[Ir];var uo=un<3&&ar[0]!==ei&&ar[un-1]!==ei?[]:Ra(ar,ei);if(un-=uo.length,un<q)return Qd(b,P,Ya,bt.placeholder,M,ar,uo,M,M,q-un);var so=this&&this!==Cs&&this instanceof bt?Me:b;return He(so,this,ar)}return bt}function Vh(b){return function(P,q,Me){var bt=ts(P);if(!Yc(P)){var un=Ur(q,3);P=rc(P),q=function(Ir){return un(bt[Ir],Ir,bt)}}var ar=b(P,q,Me);return ar>-1?bt[un?P[ar]:ar]:M}}function Os(b){return tc(function(P){var q=P.length,Me=q,bt=Gc.prototype.thru;for(b&&P.reverse();Me--;){var un=P[Me];if(typeof un!="function")throw new Ro(F);if(bt&&!ar&&Bn(un)=="wrapper")var ar=new Gc([],!0)}for(Me=ar?Me:q;++Me<q;){un=P[Me];var Ir=Bn(un),ei=Ir=="wrapper"?nn(un):M;ei&&xo(ei[0])&&ei[1]==(Vt|ie|mt|U)&&!ei[4].length&&ei[9]==1?ar=ar[Bn(ei[0])].apply(ar,ei[3]):ar=un.length==1&&xo(un)?ar[Ir]():ar.thru(un)}return function(){var uo=arguments,so=uo[0];if(ar&&uo.length==1&&ta(so))return ar.plant(so).value();for(var Co=0,us=q?P[Co].apply(this,uo):so;++Co<q;)us=P[Co].call(this,us);return us}})}function Ya(b,P,q,Me,bt,un,ar,Ir,ei,uo){var so=P&Vt,Co=P&Ce,us=P&Ae,_s=P&(ie|at),Js=P&tt,ea=us?M:da(b);function Zs(){for(var aa=arguments.length,Sa=Yn(aa),Mu=aa;Mu--;)Sa[Mu]=arguments[Mu];if(_s)var ic=ri(Zs),Xl=Ho(Sa,ic);if(Me&&(Sa=P0(Sa,Me,bt,_s)),un&&(Sa=$c(Sa,un,ar,_s)),aa-=Xl,_s&&aa<uo){var vl=Ra(Sa,ic);return Qd(b,P,Ya,Zs.placeholder,q,Sa,vl,Ir,ei,uo-aa)}var pu=Co?q:this,Bf=us?pu[b]:b;return aa=Sa.length,Ir?Sa=ua(Sa,Ir):Js&&aa>1&&Sa.reverse(),so&&ei<aa&&(Sa.length=ei),this&&this!==Cs&&this instanceof Zs&&(Bf=ea||da(Bf)),Bf.apply(pu,Sa)}return Zs}function Ja(b,P){return function(q,Me){return Uc(q,b,P(Me),{})}}function hl(b,P){return function(q,Me){var bt;if(q===M&&Me===M)return P;if(q!==M&&(bt=q),Me!==M){if(bt===M)return Me;typeof q=="string"||typeof Me=="string"?(q=Ql(q),Me=Ql(Me)):(q=_h(q),Me=_h(Me)),bt=b(q,Me)}return bt}}function lh(b){return tc(function(P){return P=bi(P,Ri(Ur())),ga(function(q){var Me=this;return b(P,function(bt){return He(bt,Me,q)})})})}function qp(b,P){P=P===M?" ":Ql(P);var q=P.length;if(q<2)return q?$d(P,b):P;var Me=$d(P,Kf(b/sl(P)));return xa(P)?Cu(Ia(Me),0,b).join(""):Me.slice(0,b)}function Yv(b,P,q,Me){var bt=P&Ce,un=da(b);function ar(){for(var Ir=-1,ei=arguments.length,uo=-1,so=Me.length,Co=Yn(so+ei),us=this&&this!==Cs&&this instanceof ar?un:b;++uo<so;)Co[uo]=Me[uo];for(;ei--;)Co[uo++]=arguments[++Ir];return He(us,bt?q:this,Co)}return ar}function um(b){return function(P,q,Me){return Me&&typeof Me!="number"&&Di(P,q,Me)&&(q=Me=M),P=Zu(P),q===M?(q=P,P=0):q=Zu(q),Me=Me===M?P<q?1:-1:Zu(Me),S0(P,q,Me,b)}}function fm(b){return function(P,q){return typeof P=="string"&&typeof q=="string"||(P=kc(P),q=kc(q)),b(P,q)}}function Qd(b,P,q,Me,bt,un,ar,Ir,ei,uo){var so=P&ie,Co=so?ar:M,us=so?M:ar,_s=so?un:M,Js=so?M:un;P|=so?mt:vt,P&=~(so?vt:mt),P&Pe||(P&=~(Ce|Ae));var ea=[b,P,bt,_s,Co,Js,us,Ir,ei,uo],Zs=q.apply(M,ea);return xo(b)&&ia(Zs,ea),Zs.placeholder=Me,Pa(Zs,b,P)}function O0(b){var P=Ps[b];return function(q,Me){if(q=kc(q),Me=Me==null?0:$l(Ss(Me),292),Me&&od(q)){var bt=(Za(q)+"e").split("e"),un=P(bt[0]+"e"+(+bt[1]+Me));return bt=(Za(un)+"e").split("e"),+(bt[0]+"e"+(+bt[1]-Me))}return P(q)}}var ep=Yf&&1/Rl(new Yf([,-0]))[1]==pr?function(b){return new Yf(b)}:Vm;function ch(b){return function(P){var q=Zi(P);return q==nr?Aa(P):q==we?Ka(P):Ki(P,b(P))}}function Kc(b,P,q,Me,bt,un,ar,Ir){var ei=P&Ae;if(!ei&&typeof b!="function")throw new Ro(F);var uo=Me?Me.length:0;if(uo||(P&=~(mt|vt),Me=bt=M),ar=ar===M?ar:wl(Ss(ar),0),Ir=Ir===M?Ir:Ss(Ir),uo-=bt?bt.length:0,P&vt){var so=Me,Co=bt;Me=bt=M}var us=ei?M:nn(b),_s=[b,P,q,Me,bt,so,Co,un,ar,Ir];if(us&&Wo(_s,us),b=_s[0],P=_s[1],q=_s[2],Me=_s[3],bt=_s[4],Ir=_s[9]=_s[9]===M?ei?0:b.length:wl(_s[9]-uo,0),!Ir&&P&(ie|at)&&(P&=~(ie|at)),!P||P==Ce)var Js=gd(b,P,q);else P==ie||P==at?Js=fu(b,P,Ir):(P==mt||P==(Ce|mt))&&!bt.length?Js=Yv(b,P,q,Me):Js=Ya.apply(M,_s);var ea=us?M0:ia;return Pa(ea(Js,_s),b,P)}function Qp(b,P,q,Me){return b===M||Eu(b,ha[q])&&!Ls.call(Me,q)?P:b}function Zh(b,P,q,Me,bt,un){return Cl(b)&&Cl(P)&&(un.set(P,b),af(b,P,M,Zh,un),un.delete(P)),b}function zu(b){return Ff(b)?M:b}function md(b,P,q,Me,bt,un){var ar=q&Ze,Ir=b.length,ei=P.length;if(Ir!=ei&&!(ar&&ei>Ir))return!1;var uo=un.get(b),so=un.get(P);if(uo&&so)return uo==P&&so==b;var Co=-1,us=!0,_s=q&fe?new Tf:M;for(un.set(b,P),un.set(P,b);++Co<Ir;){var Js=b[Co],ea=P[Co];if(Me)var Zs=ar?Me(ea,Js,Co,P,b,un):Me(Js,ea,Co,b,P,un);if(Zs!==M){if(Zs)continue;us=!1;break}if(_s){if(!Ns(P,function(aa,Sa){if(!rs(_s,Sa)&&(Js===aa||bt(Js,aa,q,Me,un)))return _s.push(Sa)})){us=!1;break}}else if(!(Js===ea||bt(Js,ea,q,Me,un))){us=!1;break}}return un.delete(b),un.delete(P),us}function Jv(b,P,q,Me,bt,un,ar){switch(q){case qt:if(b.byteLength!=P.byteLength||b.byteOffset!=P.byteOffset)return!1;b=b.buffer,P=P.buffer;case rt:return!(b.byteLength!=P.byteLength||!un(new Ru(b),new Ru(P)));case Fr:case lr:case Lr:return Eu(+b,+P);case jn:return b.name==P.name&&b.message==P.message;case Q:case Nt:return b==P+"";case nr:var Ir=Aa;case we:var ei=Me&Ze;if(Ir||(Ir=Rl),b.size!=P.size&&!ei)return!1;var uo=ar.get(b);if(uo)return uo==P;Me|=fe,ar.set(b,P);var so=md(Ir(b),Ir(P),Me,bt,un,ar);return ar.delete(b),so;case jt:if(wc)return wc.call(b)==wc.call(P)}return!1}function jh(b,P,q,Me,bt,un){var ar=q&Ze,Ir=Uh(b),ei=Ir.length,uo=Uh(P),so=uo.length;if(ei!=so&&!ar)return!1;for(var Co=ei;Co--;){var us=Ir[Co];if(!(ar?us in P:Ls.call(P,us)))return!1}var _s=un.get(b),Js=un.get(P);if(_s&&Js)return _s==P&&Js==b;var ea=!0;un.set(b,P),un.set(P,b);for(var Zs=ar;++Co<ei;){us=Ir[Co];var aa=b[us],Sa=P[us];if(Me)var Mu=ar?Me(Sa,aa,us,P,b,un):Me(aa,Sa,us,b,P,un);if(!(Mu===M?aa===Sa||bt(aa,Sa,q,Me,un):Mu)){ea=!1;break}Zs||(Zs=us=="constructor")}if(ea&&!Zs){var ic=b.constructor,Xl=P.constructor;ic!=Xl&&"constructor"in b&&"constructor"in P&&!(typeof ic=="function"&&ic instanceof ic&&typeof Xl=="function"&&Xl instanceof Xl)&&(ea=!1)}return un.delete(b),un.delete(P),ea}function tc(b){return pl(ys(b,M,qe),b+"")}function Uh(b){return Rh(b,rc,no)}function Le(b){return Rh(b,uc,oo)}var nn=Jf?function(b){return Jf.get(b)}:Vm;function Bn(b){for(var P=b.name+"",q=gc[P],Me=Ls.call(gc,P)?q.length:0;Me--;){var bt=q[Me],un=bt.func;if(un==null||un==b)return bt.name}return P}function ri(b){var P=Ls.call(en,"placeholder")?en:b;return P.placeholder}function Ur(){var b=en.iteratee||zm;return b=b===zm?of:b,arguments.length?b(arguments[0],arguments[1]):b}function qr(b,P){var q=b.__data__;return Fi(P)?q[typeof P=="string"?"string":"hash"]:q.map}function hi(b){for(var P=rc(b),q=P.length;q--;){var Me=P[q],bt=b[Me];P[q]=[Me,bt,ho(bt)]}return P}function ji(b,P){var q=Ol(b,P);return _u(q)?q:M}function lo(b){var P=Ls.call(b,yu),q=b[yu];try{b[yu]=M;var Me=!0}catch(un){}var bt=$f.call(b);return Me&&(P?b[yu]=q:delete b[yu]),bt}var no=Sf?function(b){return b==null?[]:(b=ts(b),zr(Sf(b),function(P){return qu.call(b,P)}))}:dp,oo=Sf?function(b){for(var P=[];b;)Vo(P,no(b)),b=Hf(b);return P}:dp,Zi=Va;(Sh&&Zi(new Sh(new ArrayBuffer(1)))!=qt||Du&&Zi(new Du)!=nr||ca&&Zi(ca.resolve())!=$i||Yf&&Zi(new Yf)!=we||Oc&&Zi(new Oc)!=Je)&&(Zi=function(b){var P=Va(b),q=P==Ci?b.constructor:M,Me=q?nl(q):"";if(Me)switch(Me){case tm:return qt;case qf:return nr;case Gp:return $i;case bu:return we;case v0:return Je}return P});function Mo(b,P,q){for(var Me=-1,bt=q.length;++Me<bt;){var un=q[Me],ar=un.size;switch(un.type){case"drop":b+=ar;break;case"dropRight":P-=ar;break;case"take":P=$l(P,b+ar);break;case"takeRight":b=wl(b,P-ar);break}}return{start:b,end:P}}function Yi(b){var P=b.match(hn);return P?P[1].split(or):[]}function yo(b,P,q){P=xu(P,b);for(var Me=-1,bt=P.length,un=!1;++Me<bt;){var ar=oa(P[Me]);if(!(un=b!=null&&q(b,ar)))break;b=b[ar]}return un||++Me!=bt?un:(bt=b==null?0:b.length,!!bt&&ap(bt)&&Oo(ar,bt)&&(ta(b)||fh(b)))}function Vr(b){var P=b.length,q=new b.constructor(P);return P&&typeof b[0]=="string"&&Ls.call(b,"index")&&(q.index=b.index,q.input=b.input),q}function pi(b){return typeof b.constructor=="function"&&!So(b)?Mh(Hf(b)):{}}function fo(b,P,q){var Me=b.constructor;switch(P){case rt:return Bh(b);case Fr:case lr:return new Me(+b);case qt:return Fu(b,q);case Dn:case _n:case Wr:case Qn:case it:case mn:case kn:case gr:case kr:return Yp(b,q);case nr:return new Me;case Lr:case Nt:return new Me(b);case Q:return zh(b);case we:return new Me;case jt:return Ll(b)}}function _o(b,P){var q=P.length;if(!q)return b;var Me=q-1;return P[Me]=(q>1?"& ":"")+P[Me],P=P.join(q>2?", ":" "),b.replace(rn,`{
/* [wrapped with `+P+`] */
`)}function Vi(b){return ta(b)||fh(b)||!!(Bp&&b&&b[Bp])}function Oo(b,P){var q=typeof b;return P=P==null?hr:P,!!P&&(q=="number"||q!="symbol"&&S.test(b))&&b>-1&&b%1==0&&b<P}function Di(b,P,q){if(!Cl(q))return!1;var Me=typeof P;return(Me=="number"?Yc(q)&&Oo(P,q.length):Me=="string"&&P in q)?Eu(q[P],b):!1}function bo(b,P){if(ta(b))return!1;var q=typeof b;return q=="number"||q=="symbol"||q=="boolean"||b==null||Ea(b)?!0:Hn.test(b)||!xn.test(b)||P!=null&&b in ts(P)}function Fi(b){var P=typeof b;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?b!=="__proto__":b===null}function xo(b){var P=Bn(b),q=en[P];if(typeof q!="function"||!(P in Ma.prototype))return!1;if(b===q)return!0;var Me=nn(q);return!!Me&&b===Me[0]}function Es(b){return!!ou&&ou in b}var Bs=Wa?gf:tv;function So(b){var P=b&&b.constructor,q=typeof P=="function"&&P.prototype||ha;return b===q}function ho(b){return b===b&&!Cl(b)}function Bi(b,P){return function(q){return q==null?!1:q[b]===P&&(P!==M||b in ts(q))}}function vs(b){var P=uh(b,function(Me){return q.size===ee&&q.clear(),Me}),q=P.cache;return P}function Wo(b,P){var q=b[1],Me=P[1],bt=q|Me,un=bt<(Ce|Ae|Vt),ar=Me==Vt&&q==ie||Me==Vt&&q==U&&b[7].length<=P[8]||Me==(Vt|U)&&P[7].length<=P[8]&&q==ie;if(!(un||ar))return b;Me&Ce&&(b[2]=P[2],bt|=q&Ce?0:Pe);var Ir=P[3];if(Ir){var ei=b[3];b[3]=ei?P0(ei,Ir,P[4]):Ir,b[4]=ei?Ra(b[3],ae):P[4]}return Ir=P[5],Ir&&(ei=b[5],b[5]=ei?$c(ei,Ir,P[6]):Ir,b[6]=ei?Ra(b[5],ae):P[6]),Ir=P[7],Ir&&(b[7]=Ir),Me&Vt&&(b[8]=b[8]==null?P[8]:$l(b[8],P[8])),b[9]==null&&(b[9]=P[9]),b[0]=P[0],b[1]=bt,b}function Jo(b){var P=[];if(b!=null)for(var q in ts(b))P.push(q);return P}function Ys(b){return $f.call(b)}function ys(b,P,q){return P=wl(P===M?b.length-1:P,0),function(){for(var Me=arguments,bt=-1,un=wl(Me.length-P,0),ar=Yn(un);++bt<un;)ar[bt]=Me[P+bt];bt=-1;for(var Ir=Yn(P+1);++bt<P;)Ir[bt]=Me[bt];return Ir[P]=q(ar),He(b,this,Ir)}}function js(b,P){return P.length<2?b:Ic(b,Dc(P,0,-1))}function ua(b,P){for(var q=b.length,Me=$l(P.length,q),bt=ec(b);Me--;){var un=P[Me];b[Me]=Oo(un,q)?bt[un]:M}return b}function dl(b,P){if(!(P==="constructor"&&typeof b[P]=="function")&&P!="__proto__")return b[P]}var ia=$a(M0),As=Qg||function(b,P){return Cs.setTimeout(b,P)},pl=$a(T0);function Pa(b,P,q){var Me=P+"";return pl(b,_o(Me,gl(Yi(Me),q)))}function $a(b){var P=0,q=0;return function(){var Me=Ld(),bt=Ye-(Me-q);if(q=Me,bt>0){if(++P>=ft)return arguments[0]}else P=0;return b.apply(M,arguments)}}function qa(b,P){var q=-1,Me=b.length,bt=Me-1;for(P=P===M?Me:P;++q<P;){var un=Wd(q,bt),ar=b[un];b[un]=b[q],b[q]=ar}return b.length=P,b}var El=vs(function(b){var P=[];return b.charCodeAt(0)===46&&P.push(""),b.replace(Kn,function(q,Me,bt,un){P.push(bt?un.replace(je,"$1"):Me||q)}),P});function oa(b){if(typeof b=="string"||Ea(b))return b;var P=b+"";return P=="0"&&1/b==-pr?"-0":P}function nl(b){if(b!=null){try{return bl.call(b)}catch(P){}try{return b+""}catch(P){}}return""}function gl(b,P){return wn(Jt,function(q){var Me="_."+q[0];P&q[1]&&!Gr(b,Me)&&b.push(Me)}),b.sort()}function Gs(b){if(b instanceof Ma)return b.clone();var P=new Gc(b.__wrapped__,b.__chain__);return P.__actions__=ec(b.__actions__),P.__index__=b.__index__,P.__values__=b.__values__,P}function Vs(b,P,q){(q?Di(b,P,q):P===M)?P=1:P=wl(Ss(P),0);var Me=b==null?0:b.length;if(!Me||P<1)return[];for(var bt=0,un=0,ar=Yn(Kf(Me/P));bt<Me;)ar[un++]=Dc(b,bt,bt+=P);return ar}function Oa(b){for(var P=-1,q=b==null?0:b.length,Me=0,bt=[];++P<q;){var un=b[P];un&&(bt[Me++]=un)}return bt}function Is(){var b=arguments.length;if(!b)return[];for(var P=Yn(b-1),q=arguments[0],Me=b;Me--;)P[Me-1]=arguments[Me];return Vo(ta(q)?ec(q):[q],Gl(P,1))}var Qs=ga(function(b,P){return xl(b)?Pf(b,Gl(P,1,xl,!0)):[]}),sa=ga(function(b,P){var q=wr(P);return xl(q)&&(q=M),xl(b)?Pf(b,Gl(P,1,xl,!0),Ur(q,2)):[]}),ml=ga(function(b,P){var q=wr(P);return xl(q)&&(q=M),xl(b)?Pf(b,Gl(P,1,xl,!0),M,q):[]});function Gu(b,P,q){var Me=b==null?0:b.length;return Me?(P=q||P===M?1:Ss(P),Dc(b,P<0?0:P,Me)):[]}function uf(b,P,q){var Me=b==null?0:b.length;return Me?(P=q||P===M?1:Ss(P),P=Me-P,Dc(b,0,P<0?0:P)):[]}function Mn(b,P){return b&&b.length?sh(b,Ur(P,3),!0,!0):[]}function oi(b,P){return b&&b.length?sh(b,Ur(P,3),!0):[]}function Qr(b,P,q,Me){var bt=b==null?0:b.length;return bt?(q&&typeof q!="number"&&Di(b,P,q)&&(q=0,Me=bt),Oh(b,P,q,Me)):[]}function Fo(b,P,q){var Me=b==null?0:b.length;if(!Me)return-1;var bt=q==null?0:Ss(q);return bt<0&&(bt=wl(Me+bt,0)),ms(b,Ur(P,3),bt)}function Xs(b,P,q){var Me=b==null?0:b.length;if(!Me)return-1;var bt=Me-1;return q!==M&&(bt=Ss(q),bt=q<0?wl(Me+bt,0):$l(bt,Me-1)),ms(b,Ur(P,3),bt,!0)}function qe(b){var P=b==null?0:b.length;return P?Gl(b,1):[]}function Wt(b){var P=b==null?0:b.length;return P?Gl(b,pr):[]}function rr(b,P){var q=b==null?0:b.length;return q?(P=P===M?1:Ss(P),Gl(b,P)):[]}function _r(b){for(var P=-1,q=b==null?0:b.length,Me={};++P<q;){var bt=b[P];Me[bt[0]]=bt[1]}return Me}function Zr(b){return b&&b.length?b[0]:M}function ur(b,P,q){var Me=b==null?0:b.length;if(!Me)return-1;var bt=q==null?0:Ss(q);return bt<0&&(bt=wl(Me+bt,0)),Pt(b,P,bt)}function Jn(b){var P=b==null?0:b.length;return P?Dc(b,0,-1):[]}var Ar=ga(function(b){var P=bi(b,kh);return P.length&&P[0]===b[0]?tl(P):[]}),dn=ga(function(b){var P=wr(b),q=bi(b,kh);return P===wr(q)?P=M:q.pop(),q.length&&q[0]===b[0]?tl(q,Ur(P,2)):[]}),qn=ga(function(b){var P=wr(b),q=bi(b,kh);return P=typeof P=="function"?P:M,P&&q.pop(),q.length&&q[0]===b[0]?tl(q,M,P):[]});function ln(b,P){return b==null?"":em.call(b,P)}function wr(b){var P=b==null?0:b.length;return P?b[P-1]:M}function Xr(b,P,q){var Me=b==null?0:b.length;if(!Me)return-1;var bt=Me;return q!==M&&(bt=Ss(q),bt=bt<0?wl(Me+bt,0):$l(bt,Me-1)),P===P?Wl(b,P,bt):ms(b,Ft,bt,!0)}function Ti(b,P){return b&&b.length?hd(b,Ss(P)):M}var Ii=ga(vi);function vi(b,P){return b&&b.length&&P&&P.length?Ud(b,P):b}function Ui(b,P,q){return b&&b.length&&P&&P.length?Ud(b,P,Ur(q,2)):b}function ps(b,P,q){return b&&b.length&&P&&P.length?Ud(b,P,M,q):b}var zs=tc(function(b,P){var q=b==null?0:b.length,Me=jc(b,P);return Df(b,bi(P,function(bt){return Oo(bt,q)?+bt:bt}).sort(qd)),Me});function Qo(b,P){var q=[];if(!(b&&b.length))return q;var Me=-1,bt=[],un=b.length;for(P=Ur(P,3);++Me<un;){var ar=b[Me];P(ar,Me,b)&&(q.push(ar),bt.push(Me))}return Df(b,bt),q}function bs(b){return b==null?b:Fd.call(b)}function Fs(b,P,q){var Me=b==null?0:b.length;return Me?(q&&typeof q!="number"&&Di(b,P,q)?(P=0,q=Me):(P=P==null?0:Ss(P),q=q===M?Me:Ss(q)),Dc(b,P,q)):[]}function ma(b,P){return Xp(b,P)}function Ha(b,P,q){return cm(b,P,Ur(q,2))}function nc(b,P){var q=b==null?0:b.length;if(q){var Me=Xp(b,P);if(Me<q&&Eu(b[Me],P))return Me}return-1}function tp(b,P){return Xp(b,P,!0)}function _c(b,P,q){return cm(b,P,Ur(q,2),!0)}function I0(b,P){var q=b==null?0:b.length;if(q){var Me=Xp(b,P,!0)-1;if(Eu(b[Me],P))return Me}return-1}function Xc(b){return b&&b.length?dd(b):[]}function hm(b,P){return b&&b.length?dd(b,Ur(P,2)):[]}function as(b){var P=b==null?0:b.length;return P?Dc(b,1,P):[]}function dm(b,P,q){return b&&b.length?(P=q||P===M?1:Ss(P),Dc(b,0,P<0?0:P)):[]}function Nf(b,P,q){var Me=b==null?0:b.length;return Me?(P=q||P===M?1:Ss(P),P=Me-P,Dc(b,P<0?0:P,Me)):[]}function qv(b,P){return b&&b.length?sh(b,Ur(P,3),!1,!0):[]}function R0(b,P){return b&&b.length?sh(b,Ur(P,3)):[]}var Wh=ga(function(b){return cu(Gl(b,1,xl,!0))}),pm=ga(function(b){var P=wr(b);return xl(P)&&(P=M),cu(Gl(b,1,xl,!0),Ur(P,2))}),_f=ga(function(b){var P=wr(b);return P=typeof P=="function"?P:M,cu(Gl(b,1,xl,!0),M,P)});function Fl(b){return b&&b.length?cu(b):[]}function np(b,P){return b&&b.length?cu(b,Ur(P,2)):[]}function ff(b,P){return P=typeof P=="function"?P:M,b&&b.length?cu(b,M,P):[]}function hf(b){if(!(b&&b.length))return[];var P=0;return b=zr(b,function(q){if(xl(q))return P=wl(q.length,P),!0}),Mi(P,function(q){return bi(b,Ht(q))})}function kf(b,P){if(!(b&&b.length))return[];var q=hf(b);return P==null?q:bi(q,function(Me){return He(P,M,Me)})}var eg=ga(function(b,P){return xl(b)?Pf(b,P):[]}),D0=ga(function(b){return Xd(zr(b,xl))}),ro=ga(function(b){var P=wr(b);return xl(P)&&(P=M),Xd(zr(b,xl),Ur(P,2))}),_b=ga(function(b){var P=wr(b);return P=typeof P=="function"?P:M,Xd(zr(b,xl),M,P)}),tg=ga(hf);function Lf(b,P){return Yd(b||[],P||[],qo)}function N0(b,P){return Yd(b||[],P||[],Hd)}var ng=ga(function(b){var P=b.length,q=P>1?b[P-1]:M;return q=typeof q=="function"?(b.pop(),q):M,kf(b,q)});function hu(b){var P=en(b);return P.__chain__=!0,P}function La(b,P){return P(b),b}function vd(b,P){return P(b)}var Hl=tc(function(b){var P=b.length,q=P?b[0]:0,Me=this.__wrapped__,bt=function(un){return jc(un,b)};return P>1||this.__actions__.length||!(Me instanceof Ma)||!Oo(q)?this.thru(bt):(Me=Me.slice(q,+q+(P?1:0)),Me.__actions__.push({func:vd,args:[bt],thisArg:M}),new Gc(Me,this.__chain__).thru(function(un){return P&&!un.length&&un.push(M),un}))});function Qv(){return hu(this)}function df(){return new Gc(this.value(),this.__chain__)}function kb(){this.__values__===M&&(this.__values__=Sm(this.value()));var b=this.__index__>=this.__values__.length,P=b?M:this.__values__[this.__index__++];return{done:b,value:P}}function Lb(){return this}function ey(b){for(var P,q=this;q instanceof zd;){var Me=Gs(q);Me.__index__=0,Me.__values__=M,P?bt.__wrapped__=Me:P=Me;var bt=Me;q=q.__wrapped__}return bt.__wrapped__=b,P}function rg(){var b=this.__wrapped__;if(b instanceof Ma){var P=b;return this.__actions__.length&&(P=new Ma(this)),P=P.reverse(),P.__actions__.push({func:vd,args:[bs],thisArg:M}),new Gc(P,this.__chain__)}return this.thru(bs)}function yd(){return Kd(this.__wrapped__,this.__actions__)}var gm=ah(function(b,P,q){Ls.call(b,q)?++b[q]:el(b,q,1)});function cc(b,P,q){var Me=ta(b)?Pn:ba;return q&&Di(b,P,q)&&(P=M),Me(b,Ur(P,3))}function ty(b,P){var q=ta(b)?zr:ud;return q(b,Ur(P,3))}var ig=Vh(Fo),Fb=Vh(Xs);function bd(b,P){return Gl(xd(b,P),1)}function Bb(b,P){return Gl(xd(b,P),pr)}function zb(b,P,q){return q=q===M?1:Ss(q),Gl(xd(b,P),q)}function rp(b,P){var q=ta(b)?wn:ll;return q(b,Ur(P,3))}function mm(b,P){var q=ta(b)?gn:Dl;return q(b,Ur(P,3))}var ip=ah(function(b,P,q){Ls.call(b,q)?b[q].push(P):el(b,q,[P])});function wu(b,P,q,Me){b=Yc(b)?b:_m(b),q=q&&!Me?Ss(q):0;var bt=b.length;return q<0&&(q=wl(bt+q,0)),fg(b)?q<=bt&&b.indexOf(P,q)>-1:!!bt&&Pt(b,P,q)>-1}var $h=ga(function(b,P,q){var Me=-1,bt=typeof P=="function",un=Yc(b)?Yn(b.length):[];return ll(b,function(ar){un[++Me]=bt?He(P,ar,q):fl(ar,P,q)}),un}),Kx=ah(function(b,P,q){el(b,q,P)});function xd(b,P){var q=ta(b)?bi:lu;return q(b,Ur(P,3))}function Gb(b,P,q,Me){return b==null?[]:(ta(P)||(P=P==null?[]:[P]),q=Me?M:q,ta(q)||(q=q==null?[]:[q]),sm(b,P,q))}var Vb=ah(function(b,P,q){b[q?0:1].push(P)},function(){return[[],[]]});function Zb(b,P,q){var Me=ta(b)?Uo:Vn,bt=arguments.length<3;return Me(b,Ur(P,4),q,bt,ll)}function c2(b,P,q){var Me=ta(b)?Zo:Vn,bt=arguments.length<3;return Me(b,Ur(P,4),q,bt,Dl)}function u2(b,P){var q=ta(b)?zr:ud;return q(b,ag(Ur(P,3)))}function f2(b){var P=ta(b)?Rs:A0;return P(b)}function ny(b,P,q){(q?Di(b,P,q):P===M)?P=1:P=Ss(P);var Me=ta(b)?Ds:Lu;return Me(b,P)}function h2(b){var P=ta(b)?Wp:am;return P(b)}function d2(b){if(b==null)return 0;if(Yc(b))return fg(b)?sl(b):b.length;var P=Zi(b);return P==nr||P==we?b.size:sf(b).length}function p2(b,P,q){var Me=ta(b)?Ns:lm;return q&&Di(b,P,q)&&(P=M),Me(b,Ur(P,3))}var ry=ga(function(b,P){if(b==null)return[];var q=P.length;return q>1&&Di(b,P[0],P[1])?P=[]:q>2&&Di(P[0],P[1],P[2])&&(P=[P[0]]),sm(b,Gl(P,1),[])}),Hh=zp||function(){return Cs.Date.now()};function og(b,P){if(typeof P!="function")throw new Ro(F);return b=Ss(b),function(){if(--b<1)return P.apply(this,arguments)}}function op(b,P,q){return P=q?M:P,P=b&&P==null?b.length:P,Kc(b,Vt,M,M,M,M,P)}function iy(b,P){var q;if(typeof P!="function")throw new Ro(F);return b=Ss(b),function(){return--b>0&&(q=P.apply(this,arguments)),b<=1&&(P=M),q}}var oy=ga(function(b,P,q){var Me=Ce;if(q.length){var bt=Ra(q,ri(oy));Me|=mt}return Kc(b,Me,P,q,bt)}),_0=ga(function(b,P,q){var Me=Ce|Ae;if(q.length){var bt=Ra(q,ri(_0));Me|=mt}return Kc(P,Me,b,q,bt)});function g2(b,P,q){P=q?M:P;var Me=Kc(b,ie,M,M,M,M,M,P);return Me.placeholder=g2.placeholder,Me}function sy(b,P,q){P=q?M:P;var Me=Kc(b,at,M,M,M,M,M,P);return Me.placeholder=sy.placeholder,Me}function ay(b,P,q){var Me,bt,un,ar,Ir,ei,uo=0,so=!1,Co=!1,us=!0;if(typeof b!="function")throw new Ro(F);P=kc(P)||0,Cl(q)&&(so=!!q.leading,Co="maxWait"in q,un=Co?wl(kc(q.maxWait)||0,P):un,us="trailing"in q?!!q.trailing:us);function _s(vl){var pu=Me,Bf=bt;return Me=bt=M,uo=vl,ar=b.apply(Bf,pu),ar}function Js(vl){return uo=vl,Ir=As(aa,P),so?_s(vl):ar}function ea(vl){var pu=vl-ei,Bf=vl-uo,nv=P-pu;return Co?$l(nv,un-Bf):nv}function Zs(vl){var pu=vl-ei,Bf=vl-uo;return ei===M||pu>=P||pu<0||Co&&Bf>=un}function aa(){var vl=Hh();if(Zs(vl))return Sa(vl);Ir=As(aa,ea(vl))}function Sa(vl){return Ir=M,us&&Me?_s(vl):(Me=bt=M,ar)}function Mu(){Ir!==M&&Lh(Ir),uo=0,Me=ei=bt=Ir=M}function ic(){return Ir===M?ar:Sa(Hh())}function Xl(){var vl=Hh(),pu=Zs(vl);if(Me=arguments,bt=this,ei=vl,pu){if(Ir===M)return Js(ei);if(Co)return Lh(Ir),Ir=As(aa,P),_s(ei)}return Ir===M&&(Ir=As(aa,P)),ar}return Xl.cancel=Mu,Xl.flush=ic,Xl}var vm=ga(function(b,P){return cd(b,1,P)}),jb=ga(function(b,P,q){return cd(b,kc(P)||0,q)});function sg(b){return Kc(b,tt)}function uh(b,P){if(typeof b!="function"||P!=null&&typeof P!="function")throw new Ro(F);var q=function(){var Me=arguments,bt=P?P.apply(this,Me):Me[0],un=q.cache;if(un.has(bt))return un.get(bt);var ar=b.apply(this,Me);return q.cache=un.set(bt,ar)||un,ar};return q.cache=new(uh.Cache||ef),q}uh.Cache=ef;function ag(b){if(typeof b!="function")throw new Ro(F);return function(){var P=arguments;switch(P.length){case 0:return!b.call(this);case 1:return!b.call(this,P[0]);case 2:return!b.call(this,P[0],P[1]);case 3:return!b.call(this,P[0],P[1],P[2])}return!b.apply(this,P)}}function Kh(b){return iy(2,b)}var Xx=cf(function(b,P){P=P.length==1&&ta(P[0])?bi(P[0],Ri(Ur())):bi(Gl(P,1),Ri(Ur()));var q=P.length;return ga(function(Me){for(var bt=-1,un=$l(Me.length,q);++bt<un;)Me[bt]=P[bt].call(this,Me[bt]);return He(b,this,Me)})}),sp=ga(function(b,P){var q=Ra(P,ri(sp));return Kc(b,mt,M,P,q)}),Ub=ga(function(b,P){var q=Ra(P,ri(Ub));return Kc(b,vt,M,P,q)}),ly=tc(function(b,P){return Kc(b,U,M,M,M,P)});function m2(b,P){if(typeof b!="function")throw new Ro(F);return P=P===M?P:Ss(P),ga(b,P)}function v2(b,P){if(typeof b!="function")throw new Ro(F);return P=P==null?0:wl(Ss(P),0),ga(function(q){var Me=q[P],bt=Cu(q,0,P);return Me&&Vo(bt,Me),He(b,this,bt)})}function k0(b,P,q){var Me=!0,bt=!0;if(typeof b!="function")throw new Ro(F);return Cl(q)&&(Me="leading"in q?!!q.leading:Me,bt="trailing"in q?!!q.trailing:bt),ay(b,P,{leading:Me,maxWait:P,trailing:bt})}function y2(b){return op(b,1)}function b2(b,P){return sp(Jd(P),b)}function x2(){if(!arguments.length)return[];var b=arguments[0];return ta(b)?b:[b]}function Yx(b){return Xi(b,ge)}function cy(b,P){return P=typeof P=="function"?P:M,Xi(b,ge,P)}function L0(b){return Xi(b,ue|ge)}function ym(b,P){return P=typeof P=="function"?P:M,Xi(b,ue|ge,P)}function F0(b,P){return P==null||Qf(b,P,rc(P))}function Eu(b,P){return b===P||b!==b&&P!==P}var B0=fm(Vd),uy=fm(function(b,P){return b>=P}),fh=$p(function(){return arguments}())?$p:function(b){return Vl(b)&&Ls.call(b,"callee")&&!qu.call(b,"callee")},ta=Yn.isArray,fy=os?Ri(os):jd;function Yc(b){return b!=null&&ap(b.length)&&!gf(b)}function xl(b){return Vl(b)&&Yc(b)}function Su(b){return b===!0||b===!1||Vl(b)&&Va(b)==Fr}var pf=m0||tv,lg=_?Ri(_):Of;function z0(b){return Vl(b)&&b.nodeType===1&&!Ff(b)}function Wb(b){if(b==null)return!0;if(Yc(b)&&(ta(b)||typeof b=="string"||typeof b.splice=="function"||pf(b)||mf(b)||fh(b)))return!b.length;var P=Zi(b);if(P==nr||P==we)return!b.size;if(So(b))return!sf(b).length;for(var q in b)if(Ls.call(b,q))return!1;return!0}function hy(b,P){return nh(b,P)}function G0(b,P,q){q=typeof q=="function"?q:M;var Me=q?q(b,P):M;return Me===M?nh(b,P,M,q):!!Me}function bm(b){if(!Vl(b))return!1;var P=Va(b);return P==jn||P==Yr||typeof b.message=="string"&&typeof b.name=="string"&&!Ff(b)}function dy(b){return typeof b=="number"&&od(b)}function gf(b){if(!Cl(b))return!1;var P=Va(b);return P==dr||P==br||P==Or||P==It}function cg(b){return typeof b=="number"&&b==Ss(b)}function ap(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=hr}function Cl(b){var P=typeof b;return b!=null&&(P=="object"||P=="function")}function Vl(b){return b!=null&&typeof b=="object"}var V0=K?Ri(K):Rc;function ug(b,P){return b===P||rf(b,P,hi(P))}function py(b,P,q){return q=typeof q=="function"?q:M,rf(b,P,hi(P),q)}function gy(b){return Vu(b)&&b!=+b}function my(b){if(Bs(b))throw new Qi(k);return _u(b)}function xm(b){return b===null}function Cm(b){return b==null}function Vu(b){return typeof b=="number"||Vl(b)&&Va(b)==Lr}function Ff(b){if(!Vl(b)||Va(b)!=Ci)return!1;var P=Hf(b);if(P===null)return!0;var q=Ls.call(P,"constructor")&&P.constructor;return typeof q=="function"&&q instanceof q&&bl.call(q)==Xg}var wm=he?Ri(he):Wc;function Z0(b){return cg(b)&&b>=-hr&&b<=hr}var Em=ye?Ri(ye):Dh;function fg(b){return typeof b=="string"||!ta(b)&&Vl(b)&&Va(b)==Nt}function Ea(b){return typeof b=="symbol"||Vl(b)&&Va(b)==jt}var mf=Ue?Ri(Ue):rh;function hg(b){return b===M}function j0(b){return Vl(b)&&Zi(b)==Je}function U0(b){return Vl(b)&&Va(b)==pt}var Xh=fm(Nh),W0=fm(function(b,P){return b<=P});function Sm(b){if(!b)return[];if(Yc(b))return fg(b)?Ia(b):ec(b);if(Ef&&b[Ef])return ra(b[Ef]());var P=Zi(b),q=P==nr?Aa:P==we?Rl:_m;return q(b)}function Zu(b){if(!b)return b===0?b:0;if(b=kc(b),b===pr||b===-pr){var P=b<0?-1:1;return P*Mt}return b===b?b:0}function Ss(b){var P=Zu(b),q=P%1;return P===P?q?P-q:P:0}function Am(b){return b?Ec(Ss(b),0,Et):0}function kc(b){if(typeof b=="number")return b;if(Ea(b))return yt;if(Cl(b)){var P=typeof b.valueOf=="function"?b.valueOf():b;b=Cl(P)?P+"":P}if(typeof b!="string")return b===0?b:+b;b=qi(b);var q=Y.test(b);return q||W.test(b)?to(b.slice(2),q?2:8):Oe.test(b)?yt:+b}function Mm(b){return Nc(b,uc(b))}function Tm(b){return b?Ec(Ss(b),-hr,hr):b===0?b:0}function Za(b){return b==null?"":Ql(b)}var vy=Gh(function(b,P){if(So(P)||Yc(P)){Nc(P,rc(P),b);return}for(var q in P)Ls.call(P,q)&&qo(b,q,P[q])}),Pm=Gh(function(b,P){Nc(P,uc(P),b)}),dg=Gh(function(b,P,q,Me){Nc(P,uc(P),b,Me)}),$b=Gh(function(b,P,q,Me){Nc(P,rc(P),b,Me)}),Om=tc(jc);function Cd(b,P){var q=Mh(b);return P==null?q:tf(q,P)}var yy=ga(function(b,P){b=ts(b);var q=-1,Me=P.length,bt=Me>2?P[2]:M;for(bt&&Di(P[0],P[1],bt)&&(Me=1);++q<Me;)for(var un=P[q],ar=uc(un),Ir=-1,ei=ar.length;++Ir<ei;){var uo=ar[Ir],so=b[uo];(so===M||Eu(so,ha[uo])&&!Ls.call(b,uo))&&(b[uo]=un[uo])}return b}),pg=ga(function(b){return b.push(M,Zh),He(K0,M,b)});function Hb(b,P){return Hi(b,Ur(P,3),au)}function by(b,P){return Hi(b,Ur(P,3),th)}function lp(b,P){return b==null?b:fd(b,Ur(P,3),uc)}function $0(b,P){return b==null?b:Ih(b,Ur(P,3),uc)}function xy(b,P){return b&&au(b,Ur(P,3))}function cp(b,P){return b&&th(b,Ur(P,3))}function Im(b){return b==null?[]:nf(b,rc(b))}function Rm(b){return b==null?[]:nf(b,uc(b))}function up(b,P,q){var Me=b==null?M:Ic(b,P);return Me===M?q:Me}function wd(b,P){return b!=null&&yo(b,P,Zd)}function fp(b,P){return b!=null&&yo(b,P,ss)}var Kb=Ja(function(b,P,q){P!=null&&typeof P.toString!="function"&&(P=$f.call(P)),b[P]=q},Cg(qc)),C2=Ja(function(b,P,q){P!=null&&typeof P.toString!="function"&&(P=$f.call(P)),Ls.call(b,P)?b[P].push(q):b[P]=[q]},Ur),Xb=ga(fl);function rc(b){return Yc(b)?mo(b):sf(b)}function uc(b){return Yc(b)?mo(b,!0):ih(b)}function Dm(b,P){var q={};return P=Ur(P,3),au(b,function(Me,bt,un){el(q,P(Me,bt,un),Me)}),q}function Cy(b,P){var q={};return P=Ur(P,3),au(b,function(Me,bt,un){el(q,bt,P(Me,bt,un))}),q}var H0=Gh(function(b,P,q){af(b,P,q)}),K0=Gh(function(b,P,q,Me){af(b,P,q,Me)}),Yh=tc(function(b,P){var q={};if(b==null)return q;var Me=!1;P=bi(P,function(un){return un=xu(un,b),Me||(Me=un.length>1),un}),Nc(b,Le(b),q),Me&&(q=Xi(q,ue|re|ge,zu));for(var bt=P.length;bt--;)pd(q,P[bt]);return q});function wy(b,P){return gg(b,ag(Ur(P)))}var Ey=tc(function(b,P){return b==null?{}:oh(b,P)});function gg(b,P){if(b==null)return{};var q=bi(Le(b),function(Me){return[Me]});return P=Ur(P),Kp(b,q,function(Me,bt){return P(Me,bt[0])})}function Nm(b,P,q){P=xu(P,b);var Me=-1,bt=P.length;for(bt||(bt=1,b=M);++Me<bt;){var un=b==null?M:b[oa(P[Me])];un===M&&(Me=bt,un=q),b=gf(un)?un.call(b):un}return b}function Yb(b,P,q){return b==null?b:Hd(b,P,q)}function vc(b,P,q,Me){return Me=typeof Me=="function"?Me:M,b==null?b:Hd(b,P,q,Me)}var mg=ch(rc),hh=ch(uc);function Sy(b,P,q){var Me=ta(b),bt=Me||pf(b)||mf(b);if(P=Ur(P,4),q==null){var un=b&&b.constructor;bt?q=Me?new un:[]:Cl(b)?q=gf(un)?Mh(Hf(b)):{}:q={}}return(bt?wn:au)(b,function(ar,Ir,ei){return P(q,ar,Ir,ei)}),q}function w2(b,P){return b==null?!0:pd(b,P)}function ju(b,P,q){return b==null?b:lf(b,P,Jd(q))}function Ay(b,P,q,Me){return Me=typeof Me=="function"?Me:M,b==null?b:lf(b,P,Jd(q),Me)}function _m(b){return b==null?[]:Ts(b,rc(b))}function Jx(b){return b==null?[]:Ts(b,uc(b))}function Au(b,P,q){return q===M&&(q=P,P=M),q!==M&&(q=kc(q),q=q===q?q:0),P!==M&&(P=kc(P),P=P===P?P:0),Ec(kc(b),P,q)}function km(b,P,q){return P=Zu(P),q===M?(q=P,P=0):q=Zu(q),b=kc(b),Pi(b,P,q)}function Jb(b,P,q){if(q&&typeof q!="boolean"&&Di(b,P,q)&&(P=q=M),q===M&&(typeof P=="boolean"?(q=P,P=M):typeof b=="boolean"&&(q=b,b=M)),b===M&&P===M?(b=0,P=1):(b=Zu(b),P===M?(P=b,b=0):P=Zu(P)),b>P){var Me=b;b=P,P=Me}if(q||b%1||P%1){var bt=ad();return $l(b+bt*(P-b+Li("1e-"+((bt+"").length-1))),P)}return Wd(b,P)}var E2=Bu(function(b,P,q){return P=P.toLowerCase(),b+(q?Ed(P):P)});function Ed(b){return Fm(Za(b).toLowerCase())}function Uu(b){return b=Za(b),b&&b.replace(A,ls).replace(et,"")}function My(b,P,q){b=Za(b),P=Ql(P);var Me=b.length;q=q===M?Me:Ec(Ss(q),0,Me);var bt=q;return q-=P.length,q>=0&&b.slice(q,bt)==P}function qb(b){return b=Za(b),b&&Rn.test(b)?b.replace(_t,Yo):b}function Qb(b){return b=Za(b),b&&Sr.test(b)?b.replace(yn,"\\$&"):b}var vg=Bu(function(b,P,q){return b+(q?"-":"")+P.toLowerCase()}),hp=Bu(function(b,P,q){return b+(q?" ":"")+P.toLowerCase()}),e1=uu("toLowerCase");function Wu(b,P,q){b=Za(b),P=Ss(P);var Me=P?sl(b):0;if(!P||Me>=P)return b;var bt=(P-Me)/2;return qp(Xf(bt),q)+b+qp(Kf(bt),q)}function yg(b,P,q){b=Za(b),P=Ss(P);var Me=P?sl(b):0;return P&&Me<P?b+qp(P-Me,q):b}function Sd(b,P,q){b=Za(b),P=Ss(P);var Me=P?sl(b):0;return P&&Me<P?qp(P-Me,q)+b:b}function dh(b,P,q){return q||P==null?P=0:P&&(P=+P),sd(Za(b).replace(yr,""),P||0)}function Kl(b,P,q){return(q?Di(b,P,q):P===M)?P=1:P=Ss(P),$d(Za(b),P)}function bg(){var b=arguments,P=Za(b[0]);return b.length<3?P:P.replace(b[1],b[2])}var Lm=Bu(function(b,P,q){return b+(q?"_":"")+P.toLowerCase()});function Jc(b,P,q){return q&&typeof q!="number"&&Di(b,P,q)&&(P=q=M),q=q===M?Et:q>>>0,q?(b=Za(b),b&&(typeof P=="string"||P!=null&&!wm(P))&&(P=Ql(P),!P&&xa(b))?Cu(Ia(b),0,q):b.split(P,q)):[]}var t1=Bu(function(b,P,q){return b+(q?" ":"")+Fm(P)});function n1(b,P,q){return b=Za(b),q=q==null?0:Ec(Ss(q),0,b.length),P=Ql(P),b.slice(q,q+P.length)==P}function qx(b,P,q){var Me=en.templateSettings;q&&Di(b,P,q)&&(P=M),b=Za(b),P=dg({},P,Me,Qp);var bt=dg({},P.imports,Me.imports,Qp),un=rc(bt),ar=Ts(bt,un),Ir,ei,uo=0,so=P.interpolate||L,Co="__p += '",us=Lo((P.escape||L).source+"|"+so.source+"|"+(so===tr?me:L).source+"|"+(P.evaluate||L).source+"|$","g"),_s="//# sourceURL="+(Ls.call(P,"sourceURL")?(P.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ui+"]")+`
`;b.replace(us,function(Zs,aa,Sa,Mu,ic,Xl){return Sa||(Sa=Mu),Co+=b.slice(uo,Xl).replace(ce,Hs),aa&&(Ir=!0,Co+=`' +
__e(`+aa+`) +
'`),ic&&(ei=!0,Co+=`';
`+ic+`;
__p += '`),Sa&&(Co+=`' +
((__t = (`+Sa+`)) == null ? '' : __t) +
'`),uo=Xl+Zs.length,Zs}),Co+=`';
`;var Js=Ls.call(P,"variable")&&P.variable;if(!Js)Co=`with (obj) {
`+Co+`
}
`;else if(Xe.test(Js))throw new Qi(H);Co=(ei?Co.replace(Ei,""):Co).replace(er,"$1").replace(Tt,"$1;"),Co="function("+(Js||"obj")+`) {
`+(Js?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ir?", __e = _.escape":"")+(ei?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Co+`return __p
}`;var ea=i1(function(){return ao(un,_s+"return "+Co).apply(M,ar)});if(ea.source=Co,bm(ea))throw ea;return ea}function Qx(b){return Za(b).toLowerCase()}function $u(b){return Za(b).toUpperCase()}function S2(b,P,q){if(b=Za(b),b&&(q||P===M))return qi(b);if(!b||!(P=Ql(P)))return b;var Me=Ia(b),bt=Ia(P),un=po(Me,bt),ar=xi(Me,bt)+1;return Cu(Me,un,ar).join("")}function A2(b,P,q){if(b=Za(b),b&&(q||P===M))return b.slice(0,pc(b)+1);if(!b||!(P=Ql(P)))return b;var Me=Ia(b),bt=xi(Me,Ia(P))+1;return Cu(Me,0,bt).join("")}function eC(b,P,q){if(b=Za(b),b&&(q||P===M))return b.replace(yr,"");if(!b||!(P=Ql(P)))return b;var Me=Ia(b),bt=po(Me,Ia(P));return Cu(Me,bt).join("")}function tC(b,P){var q=ut,Me=vn;if(Cl(P)){var bt="separator"in P?P.separator:bt;q="length"in P?Ss(P.length):q,Me="omission"in P?Ql(P.omission):Me}b=Za(b);var un=b.length;if(xa(b)){var ar=Ia(b);un=ar.length}if(q>=un)return b;var Ir=q-sl(Me);if(Ir<1)return Me;var ei=ar?Cu(ar,0,Ir).join(""):b.slice(0,Ir);if(bt===M)return ei+Me;if(ar&&(Ir+=ei.length-Ir),wm(bt)){if(b.slice(Ir).search(bt)){var uo,so=ei;for(bt.global||(bt=Lo(bt.source,Za(ze.exec(bt))+"g")),bt.lastIndex=0;uo=bt.exec(so);)var Co=uo.index;ei=ei.slice(0,Co===M?Ir:Co)}}else if(b.indexOf(Ql(bt),Ir)!=Ir){var us=ei.lastIndexOf(bt);us>-1&&(ei=ei.slice(0,us))}return ei+Me}function r1(b){return b=Za(b),b&&Ut.test(b)?b.replace(sn,al):b}var Ty=Bu(function(b,P,q){return b+(q?" ":"")+P.toUpperCase()}),Fm=uu("toUpperCase");function Py(b,P,q){return b=Za(b),P=q?M:P,P===M?Ca(b)?En(b):ws(b):b.match(P)||[]}var i1=ga(function(b,P){try{return He(b,M,P)}catch(q){return bm(q)?q:new Qi(q)}}),Ad=tc(function(b,P){return wn(P,function(q){q=oa(q),el(b,q,oy(b[q],b))}),b});function xg(b){var P=b==null?0:b.length,q=Ur();return b=P?bi(b,function(Me){if(typeof Me[1]!="function")throw new Ro(F);return[q(Me[0]),Me[1]]}):[],ga(function(Me){for(var bt=-1;++bt<P;){var un=b[bt];if(He(un[0],this,Me))return He(un[1],this,Me)}})}function Oy(b){return zi(Xi(b,ue))}function Cg(b){return function(){return b}}function Bm(b,P){return b==null||b!==b?P:b}var X0=Os(),Y0=Os(!0);function qc(b){return b}function zm(b){return of(typeof b=="function"?b:Xi(b,ue))}function J0(b){return Rf(Xi(b,ue))}function Gm(b,P){return Hp(b,Xi(P,ue))}var ph=ga(function(b,P){return function(q){return fl(q,b,P)}}),Iy=ga(function(b,P){return function(q){return fl(b,q,P)}});function q0(b,P,q){var Me=rc(P),bt=nf(P,Me);q==null&&!(Cl(P)&&(bt.length||!Me.length))&&(q=P,P=b,b=this,bt=nf(P,rc(P)));var un=!(Cl(q)&&"chain"in q)||!!q.chain,ar=gf(b);return wn(bt,function(Ir){var ei=P[Ir];b[Ir]=ei,ar&&(b.prototype[Ir]=function(){var uo=this.__chain__;if(un||uo){var so=b(this.__wrapped__),Co=so.__actions__=ec(this.__actions__);return Co.push({func:ei,args:arguments,thisArg:b}),so.__chain__=uo,so}return ei.apply(b,Vo([this.value()],arguments))})}),b}function Ry(){return Cs._===this&&(Cs._=Yg),this}function Vm(){}function Zm(b){return b=Ss(b),ga(function(P){return hd(P,b)})}var Q0=lh(bi),Dy=lh(Pn),Ny=lh(Ns);function ev(b){return bo(b)?Ht(oa(b)):E0(b)}function du(b){return function(P){return b==null?M:Ic(b,P)}}var wg=um(),jm=um(!0);function dp(){return[]}function tv(){return!1}function Um(){return{}}function Wm(){return""}function o1(){return!0}function s1(b,P){if(b=Ss(b),b<1||b>hr)return[];var q=Et,Me=$l(b,Et);P=Ur(P),b-=Et;for(var bt=Mi(Me,P);++q<b;)P(q);return bt}function M2(b){return ta(b)?bi(b,oa):Ea(b)?[b]:ec(El(Za(b)))}function T2(b){var P=++Xa;return Za(b)+P}var Eg=hl(function(b,P){return b+P},0),P2=O0("ceil"),gh=hl(function(b,P){return b/P},1),_y=O0("floor");function O2(b){return b&&b.length?eh(b,qc,Vd):M}function a1(b,P){return b&&b.length?eh(b,Ur(P,2),Vd):M}function ky(b){return Qt(b,qc)}function pp(b,P){return Qt(b,Ur(P,2))}function Qc(b){return b&&b.length?eh(b,qc,Nh):M}function l1(b,P){return b&&b.length?eh(b,Ur(P,2),Nh):M}var c1=hl(function(b,P){return b*P},1),I2=O0("round"),u1=hl(function(b,P){return b-P},0);function R2(b){return b&&b.length?io(b,qc):0}function D2(b,P){return b&&b.length?io(b,Ur(P,2)):0}return en.after=og,en.ary=op,en.assign=vy,en.assignIn=Pm,en.assignInWith=dg,en.assignWith=$b,en.at=Om,en.before=iy,en.bind=oy,en.bindAll=Ad,en.bindKey=_0,en.castArray=x2,en.chain=hu,en.chunk=Vs,en.compact=Oa,en.concat=Is,en.cond=xg,en.conforms=Oy,en.constant=Cg,en.countBy=gm,en.create=Cd,en.curry=g2,en.curryRight=sy,en.debounce=ay,en.defaults=yy,en.defaultsDeep=pg,en.defer=vm,en.delay=jb,en.difference=Qs,en.differenceBy=sa,en.differenceWith=ml,en.drop=Gu,en.dropRight=uf,en.dropRightWhile=Mn,en.dropWhile=oi,en.fill=Qr,en.filter=ty,en.flatMap=bd,en.flatMapDeep=Bb,en.flatMapDepth=zb,en.flatten=qe,en.flattenDeep=Wt,en.flattenDepth=rr,en.flip=sg,en.flow=X0,en.flowRight=Y0,en.fromPairs=_r,en.functions=Im,en.functionsIn=Rm,en.groupBy=ip,en.initial=Jn,en.intersection=Ar,en.intersectionBy=dn,en.intersectionWith=qn,en.invert=Kb,en.invertBy=C2,en.invokeMap=$h,en.iteratee=zm,en.keyBy=Kx,en.keys=rc,en.keysIn=uc,en.map=xd,en.mapKeys=Dm,en.mapValues=Cy,en.matches=J0,en.matchesProperty=Gm,en.memoize=uh,en.merge=H0,en.mergeWith=K0,en.method=ph,en.methodOf=Iy,en.mixin=q0,en.negate=ag,en.nthArg=Zm,en.omit=Yh,en.omitBy=wy,en.once=Kh,en.orderBy=Gb,en.over=Q0,en.overArgs=Xx,en.overEvery=Dy,en.overSome=Ny,en.partial=sp,en.partialRight=Ub,en.partition=Vb,en.pick=Ey,en.pickBy=gg,en.property=ev,en.propertyOf=du,en.pull=Ii,en.pullAll=vi,en.pullAllBy=Ui,en.pullAllWith=ps,en.pullAt=zs,en.range=wg,en.rangeRight=jm,en.rearg=ly,en.reject=u2,en.remove=Qo,en.rest=m2,en.reverse=bs,en.sampleSize=ny,en.set=Yb,en.setWith=vc,en.shuffle=h2,en.slice=Fs,en.sortBy=ry,en.sortedUniq=Xc,en.sortedUniqBy=hm,en.split=Jc,en.spread=v2,en.tail=as,en.take=dm,en.takeRight=Nf,en.takeRightWhile=qv,en.takeWhile=R0,en.tap=La,en.throttle=k0,en.thru=vd,en.toArray=Sm,en.toPairs=mg,en.toPairsIn=hh,en.toPath=M2,en.toPlainObject=Mm,en.transform=Sy,en.unary=y2,en.union=Wh,en.unionBy=pm,en.unionWith=_f,en.uniq=Fl,en.uniqBy=np,en.uniqWith=ff,en.unset=w2,en.unzip=hf,en.unzipWith=kf,en.update=ju,en.updateWith=Ay,en.values=_m,en.valuesIn=Jx,en.without=eg,en.words=Py,en.wrap=b2,en.xor=D0,en.xorBy=ro,en.xorWith=_b,en.zip=tg,en.zipObject=Lf,en.zipObjectDeep=N0,en.zipWith=ng,en.entries=mg,en.entriesIn=hh,en.extend=Pm,en.extendWith=dg,q0(en,en),en.add=Eg,en.attempt=i1,en.camelCase=E2,en.capitalize=Ed,en.ceil=P2,en.clamp=Au,en.clone=Yx,en.cloneDeep=L0,en.cloneDeepWith=ym,en.cloneWith=cy,en.conformsTo=F0,en.deburr=Uu,en.defaultTo=Bm,en.divide=gh,en.endsWith=My,en.eq=Eu,en.escape=qb,en.escapeRegExp=Qb,en.every=cc,en.find=ig,en.findIndex=Fo,en.findKey=Hb,en.findLast=Fb,en.findLastIndex=Xs,en.findLastKey=by,en.floor=_y,en.forEach=rp,en.forEachRight=mm,en.forIn=lp,en.forInRight=$0,en.forOwn=xy,en.forOwnRight=cp,en.get=up,en.gt=B0,en.gte=uy,en.has=wd,en.hasIn=fp,en.head=Zr,en.identity=qc,en.includes=wu,en.indexOf=ur,en.inRange=km,en.invoke=Xb,en.isArguments=fh,en.isArray=ta,en.isArrayBuffer=fy,en.isArrayLike=Yc,en.isArrayLikeObject=xl,en.isBoolean=Su,en.isBuffer=pf,en.isDate=lg,en.isElement=z0,en.isEmpty=Wb,en.isEqual=hy,en.isEqualWith=G0,en.isError=bm,en.isFinite=dy,en.isFunction=gf,en.isInteger=cg,en.isLength=ap,en.isMap=V0,en.isMatch=ug,en.isMatchWith=py,en.isNaN=gy,en.isNative=my,en.isNil=Cm,en.isNull=xm,en.isNumber=Vu,en.isObject=Cl,en.isObjectLike=Vl,en.isPlainObject=Ff,en.isRegExp=wm,en.isSafeInteger=Z0,en.isSet=Em,en.isString=fg,en.isSymbol=Ea,en.isTypedArray=mf,en.isUndefined=hg,en.isWeakMap=j0,en.isWeakSet=U0,en.join=ln,en.kebabCase=vg,en.last=wr,en.lastIndexOf=Xr,en.lowerCase=hp,en.lowerFirst=e1,en.lt=Xh,en.lte=W0,en.max=O2,en.maxBy=a1,en.mean=ky,en.meanBy=pp,en.min=Qc,en.minBy=l1,en.stubArray=dp,en.stubFalse=tv,en.stubObject=Um,en.stubString=Wm,en.stubTrue=o1,en.multiply=c1,en.nth=Ti,en.noConflict=Ry,en.noop=Vm,en.now=Hh,en.pad=Wu,en.padEnd=yg,en.padStart=Sd,en.parseInt=dh,en.random=Jb,en.reduce=Zb,en.reduceRight=c2,en.repeat=Kl,en.replace=bg,en.result=Nm,en.round=I2,en.runInContext=Ot,en.sample=f2,en.size=d2,en.snakeCase=Lm,en.some=p2,en.sortedIndex=ma,en.sortedIndexBy=Ha,en.sortedIndexOf=nc,en.sortedLastIndex=tp,en.sortedLastIndexBy=_c,en.sortedLastIndexOf=I0,en.startCase=t1,en.startsWith=n1,en.subtract=u1,en.sum=R2,en.sumBy=D2,en.template=qx,en.times=s1,en.toFinite=Zu,en.toInteger=Ss,en.toLength=Am,en.toLower=Qx,en.toNumber=kc,en.toSafeInteger=Tm,en.toString=Za,en.toUpper=$u,en.trim=S2,en.trimEnd=A2,en.trimStart=eC,en.truncate=tC,en.unescape=r1,en.uniqueId=T2,en.upperCase=Ty,en.upperFirst=Fm,en.each=rp,en.eachRight=mm,en.first=Zr,q0(en,function(){var b={};return au(en,function(P,q){Ls.call(en.prototype,q)||(b[q]=P)}),b}(),{chain:!1}),en.VERSION=j,wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(b){en[b].placeholder=en}),wn(["drop","take"],function(b,P){Ma.prototype[b]=function(q){q=q===M?1:wl(Ss(q),0);var Me=this.__filtered__&&!P?new Ma(this):this.clone();return Me.__filtered__?Me.__takeCount__=$l(q,Me.__takeCount__):Me.__views__.push({size:$l(q,Et),type:b+(Me.__dir__<0?"Right":"")}),Me},Ma.prototype[b+"Right"]=function(q){return this.reverse()[b](q).reverse()}}),wn(["filter","map","takeWhile"],function(b,P){var q=P+1,Me=q==Cn||q==mr;Ma.prototype[b]=function(bt){var un=this.clone();return un.__iteratees__.push({iteratee:Ur(bt,3),type:q}),un.__filtered__=un.__filtered__||Me,un}}),wn(["head","last"],function(b,P){var q="take"+(P?"Right":"");Ma.prototype[b]=function(){return this[q](1).value()[0]}}),wn(["initial","tail"],function(b,P){var q="drop"+(P?"":"Right");Ma.prototype[b]=function(){return this.__filtered__?new Ma(this):this[q](1)}}),Ma.prototype.compact=function(){return this.filter(qc)},Ma.prototype.find=function(b){return this.filter(b).head()},Ma.prototype.findLast=function(b){return this.reverse().find(b)},Ma.prototype.invokeMap=ga(function(b,P){return typeof b=="function"?new Ma(this):this.map(function(q){return fl(q,b,P)})}),Ma.prototype.reject=function(b){return this.filter(ag(Ur(b)))},Ma.prototype.slice=function(b,P){b=Ss(b);var q=this;return q.__filtered__&&(b>0||P<0)?new Ma(q):(b<0?q=q.takeRight(-b):b&&(q=q.drop(b)),P!==M&&(P=Ss(P),q=P<0?q.dropRight(-P):q.take(P-b)),q)},Ma.prototype.takeRightWhile=function(b){return this.reverse().takeWhile(b).reverse()},Ma.prototype.toArray=function(){return this.take(Et)},au(Ma.prototype,function(b,P){var q=/^(?:filter|find|map|reject)|While$/.test(P),Me=/^(?:head|last)$/.test(P),bt=en[Me?"take"+(P=="last"?"Right":""):P],un=Me||/^find/.test(P);bt&&(en.prototype[P]=function(){var ar=this.__wrapped__,Ir=Me?[1]:arguments,ei=ar instanceof Ma,uo=Ir[0],so=ei||ta(ar),Co=function(aa){var Sa=bt.apply(en,Vo([aa],Ir));return Me&&us?Sa[0]:Sa};so&&q&&typeof uo=="function"&&uo.length!=1&&(ei=so=!1);var us=this.__chain__,_s=!!this.__actions__.length,Js=un&&!us,ea=ei&&!_s;if(!un&&so){ar=ea?ar:new Ma(this);var Zs=b.apply(ar,Ir);return Zs.__actions__.push({func:vd,args:[Co],thisArg:M}),new Gc(Zs,us)}return Js&&ea?b.apply(this,Ir):(Zs=this.thru(Co),Js?Me?Zs.value()[0]:Zs.value():Zs)})}),wn(["pop","push","shift","sort","splice","unshift"],function(b){var P=$s[b],q=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",Me=/^(?:pop|shift)$/.test(b);en.prototype[b]=function(){var bt=arguments;if(Me&&!this.__chain__){var un=this.value();return P.apply(ta(un)?un:[],bt)}return this[q](function(ar){return P.apply(ta(ar)?ar:[],bt)})}}),au(Ma.prototype,function(b,P){var q=en[P];if(q){var Me=q.name+"";Ls.call(gc,Me)||(gc[Me]=[]),gc[Me].push({name:P,func:q})}}),gc[Ya(M,Ae).name]=[{name:"wrapper",func:M}],Ma.prototype.clone=Zv,Ma.prototype.reverse=Th,Ma.prototype.value=y0,en.prototype.at=Hl,en.prototype.chain=Qv,en.prototype.commit=df,en.prototype.next=kb,en.prototype.plant=ey,en.prototype.reverse=rg,en.prototype.toJSON=en.prototype.valueOf=en.prototype.value=yd,en.prototype.first=en.prototype.head,Ef&&(en.prototype[Ef]=Lb),en},Nr=fr();Cs._=Nr,B=function(){return Nr}.call(te,w,te,Ne),B!==M&&(Ne.exports=B)}).call(this)},7771:function(Ne,te,w){var B=w(55639),M=function(){return B.Date.now()};Ne.exports=M},14841:function(Ne,te,w){var B=w(27561),M=w(13218),j=w(33448),R=NaN,k=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,H=/^0o[0-7]+$/i,I=parseInt;function ee(ae){if(typeof ae=="number")return ae;if(j(ae))return R;if(M(ae)){var ue=typeof ae.valueOf=="function"?ae.valueOf():ae;ae=M(ue)?ue+"":ue}if(typeof ae!="string")return ae===0?ae:+ae;ae=B(ae);var re=F.test(ae);return re||H.test(ae)?I(ae.slice(2),re?2:8):k.test(ae)?R:+ae}Ne.exports=ee},79833:function(Ne,te,w){var B=w(80531);function M(j){return j==null?"":B(j)}Ne.exports=M},11700:function(Ne,te,w){var B=w(98805),M=B("toUpperCase");Ne.exports=M},58748:function(Ne,te,w){var B=w(49029),M=w(93157),j=w(79833),R=w(2757);function k(F,H,I){return F=j(F),H=I?void 0:H,H===void 0?M(F)?R(F):B(F):F.match(H)||[]}Ne.exports=k},75823:function(Ne,te,w){"use strict";w.r(te),w.d(te,{default:function(){return R}});var B=w(44091);function M(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,B.isAnyArray)(k))throw new TypeError("input must be an array");if(k.length===0)throw new TypeError("input must not be empty");var H=F.fromIndex,I=H===void 0?0:H,ee=F.toIndex,ae=ee===void 0?k.length:ee;if(I<0||I>=k.length||!Number.isInteger(I))throw new Error("fromIndex must be a positive integer smaller than length");if(ae<=I||ae>k.length||!Number.isInteger(ae))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ue=k[I],re=I+1;re<ae;re++)k[re]>ue&&(ue=k[re]);return ue}function j(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,B.isAnyArray)(k))throw new TypeError("input must be an array");if(k.length===0)throw new TypeError("input must not be empty");var H=F.fromIndex,I=H===void 0?0:H,ee=F.toIndex,ae=ee===void 0?k.length:ee;if(I<0||I>=k.length||!Number.isInteger(I))throw new Error("fromIndex must be a positive integer smaller than length");if(ae<=I||ae>k.length||!Number.isInteger(ae))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ue=k[I],re=I+1;re<ae;re++)k[re]<ue&&(ue=k[re]);return ue}function R(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,B.isAnyArray)(k)){if(k.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var H;if(F.output!==void 0){if(!(0,B.isAnyArray)(F.output))throw new TypeError("output option must be an array if specified");H=F.output}else H=new Array(k.length);var I=j(k),ee=M(k);if(I===ee)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var ae=F.min,ue=ae===void 0?F.autoMinMax?I:0:ae,re=F.max,ge=re===void 0?F.autoMinMax?ee:1:re;if(ue>=ge)throw new RangeError("min option must be smaller than max option");for(var Ze=(ge-ue)/(ee-I),fe=0;fe<k.length;fe++)H[fe]=(k[fe]-I)*Ze+ue;return H}},42441:function(Ne,te,w){var B;(function(M,j,R){if(!M)return;for(var k={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},F={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},H={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},I={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},ee,ae=1;ae<20;++ae)k[111+ae]="f"+ae;for(ae=0;ae<=9;++ae)k[ae+96]=ae.toString();function ue(U,tt,ut){if(U.addEventListener){U.addEventListener(tt,ut,!1);return}U.attachEvent("on"+tt,ut)}function re(U){if(U.type=="keypress"){var tt=String.fromCharCode(U.which);return U.shiftKey||(tt=tt.toLowerCase()),tt}return k[U.which]?k[U.which]:F[U.which]?F[U.which]:String.fromCharCode(U.which).toLowerCase()}function ge(U,tt){return U.sort().join(",")===tt.sort().join(",")}function Ze(U){var tt=[];return U.shiftKey&&tt.push("shift"),U.altKey&&tt.push("alt"),U.ctrlKey&&tt.push("ctrl"),U.metaKey&&tt.push("meta"),tt}function fe(U){if(U.preventDefault){U.preventDefault();return}U.returnValue=!1}function Ce(U){if(U.stopPropagation){U.stopPropagation();return}U.cancelBubble=!0}function Ae(U){return U=="shift"||U=="ctrl"||U=="alt"||U=="meta"}function Pe(){if(!ee){ee={};for(var U in k)U>95&&U<112||k.hasOwnProperty(U)&&(ee[k[U]]=U)}return ee}function ie(U,tt,ut){return ut||(ut=Pe()[U]?"keydown":"keypress"),ut=="keypress"&&tt.length&&(ut="keydown"),ut}function at(U){return U==="+"?["+"]:(U=U.replace(/\+{2}/g,"+plus"),U.split("+"))}function mt(U,tt){var ut,vn,ft,Ye=[];for(ut=at(U),ft=0;ft<ut.length;++ft)vn=ut[ft],I[vn]&&(vn=I[vn]),tt&&tt!="keypress"&&H[vn]&&(vn=H[vn],Ye.push("shift")),Ae(vn)&&Ye.push(vn);return tt=ie(vn,Ye,tt),{key:vn,modifiers:Ye,action:tt}}function vt(U,tt){return U===null||U===j?!1:U===tt?!0:vt(U.parentNode,tt)}function Vt(U){var tt=this;if(U=U||j,!(tt instanceof Vt))return new Vt(U);tt.target=U,tt._callbacks={},tt._directMap={};var ut={},vn,ft=!1,Ye=!1,Cn=!1;function cn($e){$e=$e||{};var $t=!1,Jt;for(Jt in ut){if($e[Jt]){$t=!0;continue}ut[Jt]=0}$t||(Cn=!1)}function mr($e,$t,Jt,tn,ir,Or){var Fr,lr,Yr=[],jn=Jt.type;if(!tt._callbacks[$e])return[];for(jn=="keyup"&&Ae($e)&&($t=[$e]),Fr=0;Fr<tt._callbacks[$e].length;++Fr)if(lr=tt._callbacks[$e][Fr],!(!tn&&lr.seq&&ut[lr.seq]!=lr.level)&&jn==lr.action&&(jn=="keypress"&&!Jt.metaKey&&!Jt.ctrlKey||ge($t,lr.modifiers))){var dr=!tn&&lr.combo==ir,br=tn&&lr.seq==tn&&lr.level==Or;(dr||br)&&tt._callbacks[$e].splice(Fr,1),Yr.push(lr)}return Yr}function pr($e,$t,Jt,tn){tt.stopCallback($t,$t.target||$t.srcElement,Jt,tn)||$e($t,Jt)===!1&&(fe($t),Ce($t))}tt._handleKey=function($e,$t,Jt){var tn=mr($e,$t,Jt),ir,Or={},Fr=0,lr=!1;for(ir=0;ir<tn.length;++ir)tn[ir].seq&&(Fr=Math.max(Fr,tn[ir].level));for(ir=0;ir<tn.length;++ir){if(tn[ir].seq){if(tn[ir].level!=Fr)continue;lr=!0,Or[tn[ir].seq]=1,pr(tn[ir].callback,Jt,tn[ir].combo,tn[ir].seq);continue}lr||pr(tn[ir].callback,Jt,tn[ir].combo)}var Yr=Jt.type=="keypress"&&Ye;Jt.type==Cn&&!Ae($e)&&!Yr&&cn(Or),Ye=lr&&Jt.type=="keydown"};function hr($e){typeof $e.which!="number"&&($e.which=$e.keyCode);var $t=re($e);if($t){if($e.type=="keyup"&&ft===$t){ft=!1;return}tt.handleKey($t,Ze($e),$e)}}function Mt(){clearTimeout(vn),vn=setTimeout(cn,1e3)}function yt($e,$t,Jt,tn){ut[$e]=0;function ir(jn){return function(){Cn=jn,++ut[$e],Mt()}}function Or(jn){pr(Jt,jn,$e),tn!=="keyup"&&(ft=re(jn)),setTimeout(cn,10)}for(var Fr=0;Fr<$t.length;++Fr){var lr=Fr+1===$t.length,Yr=lr?Or:ir(tn||mt($t[Fr+1]).action);Et($t[Fr],Yr,tn,$e,Fr)}}function Et($e,$t,Jt,tn,ir){tt._directMap[$e+":"+Jt]=$t,$e=$e.replace(/\s+/g," ");var Or=$e.split(" "),Fr;if(Or.length>1){yt($e,Or,$t,Jt);return}Fr=mt($e,Jt),tt._callbacks[Fr.key]=tt._callbacks[Fr.key]||[],mr(Fr.key,Fr.modifiers,{type:Fr.action},tn,$e,ir),tt._callbacks[Fr.key][tn?"unshift":"push"]({callback:$t,modifiers:Fr.modifiers,action:Fr.action,seq:tn,level:ir,combo:$e})}tt._bindMultiple=function($e,$t,Jt){for(var tn=0;tn<$e.length;++tn)Et($e[tn],$t,Jt)},ue(U,"keypress",hr),ue(U,"keydown",hr),ue(U,"keyup",hr)}Vt.prototype.bind=function(U,tt,ut){var vn=this;return U=U instanceof Array?U:[U],vn._bindMultiple.call(vn,U,tt,ut),vn},Vt.prototype.unbind=function(U,tt){var ut=this;return ut.bind.call(ut,U,function(){},tt)},Vt.prototype.trigger=function(U,tt){var ut=this;return ut._directMap[U+":"+tt]&&ut._directMap[U+":"+tt]({},U),ut},Vt.prototype.reset=function(){var U=this;return U._callbacks={},U._directMap={},U},Vt.prototype.stopCallback=function(U,tt){var ut=this;if((" "+tt.className+" ").indexOf(" mousetrap ")>-1||vt(tt,ut.target))return!1;if("composedPath"in U&&typeof U.composedPath=="function"){var vn=U.composedPath()[0];vn!==U.target&&(tt=vn)}return tt.tagName=="INPUT"||tt.tagName=="SELECT"||tt.tagName=="TEXTAREA"||tt.isContentEditable},Vt.prototype.handleKey=function(){var U=this;return U._handleKey.apply(U,arguments)},Vt.addKeycodes=function(U){for(var tt in U)U.hasOwnProperty(tt)&&(k[tt]=U[tt]);ee=null},Vt.init=function(){var U=Vt(j);for(var tt in U)tt.charAt(0)!=="_"&&(Vt[tt]=function(ut){return function(){return U[ut].apply(U,arguments)}}(tt))},Vt.init(),M.Mousetrap=Vt,Ne.exports&&(Ne.exports=Vt),B=function(){return Vt}.call(te,w,te,Ne),B!==R&&(Ne.exports=B)})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},27418:function(Ne){"use strict";var te=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;function M(R){if(R==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(R)}function j(){try{if(!Object.assign)return!1;var R=new String("abc");if(R[5]="de",Object.getOwnPropertyNames(R)[0]==="5")return!1;for(var k={},F=0;F<10;F++)k["_"+String.fromCharCode(F)]=F;var H=Object.getOwnPropertyNames(k).map(function(ee){return k[ee]});if(H.join("")!=="0123456789")return!1;var I={};return"abcdefghijklmnopqrst".split("").forEach(function(ee){I[ee]=ee}),Object.keys(Object.assign({},I)).join("")==="abcdefghijklmnopqrst"}catch(ee){return!1}}Ne.exports=j()?Object.assign:function(R,k){for(var F,H=M(R),I,ee=1;ee<arguments.length;ee++){F=Object(arguments[ee]);for(var ae in F)w.call(F,ae)&&(H[ae]=F[ae]);if(te){I=te(F);for(var ue=0;ue<I.length;ue++)B.call(F,I[ue])&&(H[I[ue]]=F[I[ue]])}}return H}},40582:function(Ne,te,w){var B=w(89550),M=w(68854),j=w(36820),R=w(43650),k=w(56601),F=[0,0];Ne.exports.x7=function(I,ee,ae,ue,re){return B(I,ae,ue),j(I,I),M(ee,-I[1],I[0]),M(F,-ae[1],ae[0]),re/k(ee,F)},Ne.exports.mJ=function(I,ee){return M(I,-ee[1],ee[0]),I},Ne.exports.o7=function(I,ee,ae){return R(I,ee,ae),j(I,I),I}},34155:function(Ne){var te=Ne.exports={},w,B;function M(){throw new Error("setTimeout has not been defined")}function j(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?w=setTimeout:w=M}catch(Ze){w=M}try{typeof clearTimeout=="function"?B=clearTimeout:B=j}catch(Ze){B=j}})();function R(Ze){if(w===setTimeout)return setTimeout(Ze,0);if((w===M||!w)&&setTimeout)return w=setTimeout,setTimeout(Ze,0);try{return w(Ze,0)}catch(fe){try{return w.call(null,Ze,0)}catch(Ce){return w.call(this,Ze,0)}}}function k(Ze){if(B===clearTimeout)return clearTimeout(Ze);if((B===j||!B)&&clearTimeout)return B=clearTimeout,clearTimeout(Ze);try{return B(Ze)}catch(fe){try{return B.call(null,Ze)}catch(Ce){return B.call(this,Ze)}}}var F=[],H=!1,I,ee=-1;function ae(){!H||!I||(H=!1,I.length?F=I.concat(F):ee=-1,F.length&&ue())}function ue(){if(!H){var Ze=R(ae);H=!0;for(var fe=F.length;fe;){for(I=F,F=[];++ee<fe;)I&&I[ee].run();ee=-1,fe=F.length}I=null,H=!1,k(Ze)}}te.nextTick=function(Ze){var fe=new Array(arguments.length-1);if(arguments.length>1)for(var Ce=1;Ce<arguments.length;Ce++)fe[Ce-1]=arguments[Ce];F.push(new re(Ze,fe)),F.length===1&&!H&&R(ue)};function re(Ze,fe){this.fun=Ze,this.array=fe}re.prototype.run=function(){this.fun.apply(null,this.array)},te.title="browser",te.browser=!0,te.env={},te.argv=[],te.version="",te.versions={};function ge(){}te.on=ge,te.addListener=ge,te.once=ge,te.off=ge,te.removeListener=ge,te.removeAllListeners=ge,te.emit=ge,te.prependListener=ge,te.prependOnceListener=ge,te.listeners=function(Ze){return[]},te.binding=function(Ze){throw new Error("process.binding is not supported")},te.cwd=function(){return"/"},te.chdir=function(Ze){throw new Error("process.chdir is not supported")},te.umask=function(){return 0}},43589:function(Ne,te,w){"use strict";w.d(te,{gN:function(){return pe},zb:function(){return at},RV:function(){return ni},aV:function(){return ht},ZM:function(){return vt},ZP:function(){return $r},cI:function(){return Zn},qo:function(){return Pr}});var B=w(67294),M=w(87462),j=w(45987),R=w(74165),k=w(15861),F=w(1413),H=w(74902),I=w(15671),ee=w(43144),ae=w(97326),ue=w(32531),re=w(29388),ge=w(4942),Ze=w(50344),fe=w(91881),Ce=w(80334),Ae="RC_FORM_INTERNAL_HOOKS",Pe=function(){(0,Ce.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},ie=B.createContext({getFieldValue:Pe,getFieldsValue:Pe,getFieldError:Pe,getFieldWarning:Pe,getFieldsError:Pe,isFieldsTouched:Pe,isFieldTouched:Pe,isFieldValidating:Pe,isFieldsValidating:Pe,resetFields:Pe,setFields:Pe,setFieldValue:Pe,setFieldsValue:Pe,validateFields:Pe,submit:Pe,getInternalHooks:function(){return Pe(),{dispatch:Pe,initEntityValue:Pe,registerField:Pe,useSubscribe:Pe,setInitialValues:Pe,destroyForm:Pe,setCallbacks:Pe,registerWatch:Pe,getFields:Pe,setValidateMessages:Pe,setPreserve:Pe,getInitialValue:Pe}}}),at=ie,mt=B.createContext(null),vt=mt;function Vt(At){return At==null?[]:Array.isArray(At)?At:[At]}function U(At){return At&&!!At._init}var tt=w(34155);function ut(){return ut=Object.assign?Object.assign.bind():function(At){for(var Be=1;Be<arguments.length;Be++){var Re=arguments[Be];for(var Fe in Re)Object.prototype.hasOwnProperty.call(Re,Fe)&&(At[Fe]=Re[Fe])}return At},ut.apply(this,arguments)}function vn(At,Be){At.prototype=Object.create(Be.prototype),At.prototype.constructor=At,Ye(At,Be)}function ft(At){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Re){return Re.__proto__||Object.getPrototypeOf(Re)},ft(At)}function Ye(At,Be){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Fe,Se){return Fe.__proto__=Se,Fe},Ye(At,Be)}function Cn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(At){return!1}}function cn(At,Be,Re){return Cn()?cn=Reflect.construct.bind():cn=function(Se,wt,Gt){var Sn=[null];Sn.push.apply(Sn,wt);var Un=Function.bind.apply(Se,Sn),_e=new Un;return Gt&&Ye(_e,Gt.prototype),_e},cn.apply(null,arguments)}function mr(At){return Function.toString.call(At).indexOf("[native code]")!==-1}function pr(At){var Be=typeof Map=="function"?new Map:void 0;return pr=function(Fe){if(Fe===null||!mr(Fe))return Fe;if(typeof Fe!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Be!="undefined"){if(Be.has(Fe))return Be.get(Fe);Be.set(Fe,Se)}function Se(){return cn(Fe,arguments,ft(this).constructor)}return Se.prototype=Object.create(Fe.prototype,{constructor:{value:Se,enumerable:!1,writable:!0,configurable:!0}}),Ye(Se,Fe)},pr(At)}var hr=/%[sdj%]/g,Mt=function(){};function yt(At){if(!At||!At.length)return null;var Be={};return At.forEach(function(Re){var Fe=Re.field;Be[Fe]=Be[Fe]||[],Be[Fe].push(Re)}),Be}function Et(At){for(var Be=arguments.length,Re=new Array(Be>1?Be-1:0),Fe=1;Fe<Be;Fe++)Re[Fe-1]=arguments[Fe];var Se=0,wt=Re.length;if(typeof At=="function")return At.apply(null,Re);if(typeof At=="string"){var Gt=At.replace(hr,function(Sn){if(Sn==="%%")return"%";if(Se>=wt)return Sn;switch(Sn){case"%s":return String(Re[Se++]);case"%d":return Number(Re[Se++]);case"%j":try{return JSON.stringify(Re[Se++])}catch(Un){return"[Circular]"}break;default:return Sn}});return Gt}return At}function $e(At){return At==="string"||At==="url"||At==="hex"||At==="email"||At==="date"||At==="pattern"}function $t(At,Be){return!!(At==null||Be==="array"&&Array.isArray(At)&&!At.length||$e(Be)&&typeof At=="string"&&!At)}function Jt(At,Be,Re){var Fe=[],Se=0,wt=At.length;function Gt(Sn){Fe.push.apply(Fe,Sn||[]),Se++,Se===wt&&Re(Fe)}At.forEach(function(Sn){Be(Sn,Gt)})}function tn(At,Be,Re){var Fe=0,Se=At.length;function wt(Gt){if(Gt&&Gt.length){Re(Gt);return}var Sn=Fe;Fe=Fe+1,Sn<Se?Be(At[Sn],wt):Re([])}wt([])}function ir(At){var Be=[];return Object.keys(At).forEach(function(Re){Be.push.apply(Be,At[Re]||[])}),Be}var Or=function(At){vn(Be,At);function Be(Re,Fe){var Se;return Se=At.call(this,"Async Validation Error")||this,Se.errors=Re,Se.fields=Fe,Se}return Be}(pr(Error));function Fr(At,Be,Re,Fe,Se){if(Be.first){var wt=new Promise(function(Dt,An){var on=function(zt){return Fe(zt),zt.length?An(new Or(zt,yt(zt))):Dt(Se)},et=ir(At);tn(et,Re,on)});return wt.catch(function(Dt){return Dt}),wt}var Gt=Be.firstFields===!0?Object.keys(At):Be.firstFields||[],Sn=Object.keys(At),Un=Sn.length,_e=0,We=[],Ve=new Promise(function(Dt,An){var on=function(Tn){if(We.push.apply(We,Tn),_e++,_e===Un)return Fe(We),We.length?An(new Or(We,yt(We))):Dt(Se)};Sn.length||(Fe(We),Dt(Se)),Sn.forEach(function(et){var Tn=At[et];Gt.indexOf(et)!==-1?tn(Tn,Re,on):Jt(Tn,Re,on)})});return Ve.catch(function(Dt){return Dt}),Ve}function lr(At){return!!(At&&At.message!==void 0)}function Yr(At,Be){for(var Re=At,Fe=0;Fe<Be.length;Fe++){if(Re==null)return Re;Re=Re[Be[Fe]]}return Re}function jn(At,Be){return function(Re){var Fe;return At.fullFields?Fe=Yr(Be,At.fullFields):Fe=Be[Re.field||At.fullField],lr(Re)?(Re.field=Re.field||At.fullField,Re.fieldValue=Fe,Re):{message:typeof Re=="function"?Re():Re,fieldValue:Fe,field:Re.field||At.fullField}}}function dr(At,Be){if(Be){for(var Re in Be)if(Be.hasOwnProperty(Re)){var Fe=Be[Re];typeof Fe=="object"&&typeof At[Re]=="object"?At[Re]=ut({},At[Re],Fe):At[Re]=Fe}}return At}var br=function(Be,Re,Fe,Se,wt,Gt){Be.required&&(!Fe.hasOwnProperty(Be.field)||$t(Re,Gt||Be.type))&&Se.push(Et(wt.messages.required,Be.fullField))},nr=function(Be,Re,Fe,Se,wt){(/^\s+$/.test(Re)||Re==="")&&Se.push(Et(wt.messages.whitespace,Be.fullField))},Lr,Ji=function(){if(Lr)return Lr;var At="[a-fA-F\\d:]",Be=function(ii){return ii&&ii.includeBoundaries?"(?:(?<=\\s|^)(?="+At+")|(?<="+At+")(?=\\s|$))":""},Re="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Fe="[a-fA-F\\d]{1,4}",Se=(`
(?:
(?:`+Fe+":){7}(?:"+Fe+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+Fe+":){6}(?:"+Re+"|:"+Fe+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+Fe+":){5}(?::"+Re+"|(?::"+Fe+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+Fe+":){4}(?:(?::"+Fe+"){0,1}:"+Re+"|(?::"+Fe+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+Fe+":){3}(?:(?::"+Fe+"){0,2}:"+Re+"|(?::"+Fe+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+Fe+":){2}(?:(?::"+Fe+"){0,3}:"+Re+"|(?::"+Fe+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+Fe+":){1}(?:(?::"+Fe+"){0,4}:"+Re+"|(?::"+Fe+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+Fe+"){0,5}:"+Re+"|(?::"+Fe+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),wt=new RegExp("(?:^"+Re+"$)|(?:^"+Se+"$)"),Gt=new RegExp("^"+Re+"$"),Sn=new RegExp("^"+Se+"$"),Un=function(ii){return ii&&ii.exact?wt:new RegExp("(?:"+Be(ii)+Re+Be(ii)+")|(?:"+Be(ii)+Se+Be(ii)+")","g")};Un.v4=function(cr){return cr&&cr.exact?Gt:new RegExp(""+Be(cr)+Re+Be(cr),"g")},Un.v6=function(cr){return cr&&cr.exact?Sn:new RegExp(""+Be(cr)+Se+Be(cr),"g")};var _e="(?:(?:[a-z]+:)?//)",We="(?:\\S+(?::\\S*)?@)?",Ve=Un.v4().source,Dt=Un.v6().source,An="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",on="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",et="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",Tn="(?::\\d{2,5})?",zt='(?:[/?#][^\\s"]*)?',Xn="(?:"+_e+"|www\\.)"+We+"(?:localhost|"+Ve+"|"+Dt+"|"+An+on+et+")"+Tn+zt;return Lr=new RegExp("(?:^"+Xn+"$)","i"),Lr},Ci={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},$i={integer:function(Be){return $i.number(Be)&&parseInt(Be,10)===Be},float:function(Be){return $i.number(Be)&&!$i.integer(Be)},array:function(Be){return Array.isArray(Be)},regexp:function(Be){if(Be instanceof RegExp)return!0;try{return!!new RegExp(Be)}catch(Re){return!1}},date:function(Be){return typeof Be.getTime=="function"&&typeof Be.getMonth=="function"&&typeof Be.getYear=="function"&&!isNaN(Be.getTime())},number:function(Be){return isNaN(Be)?!1:typeof Be=="number"},object:function(Be){return typeof Be=="object"&&!$i.array(Be)},method:function(Be){return typeof Be=="function"},email:function(Be){return typeof Be=="string"&&Be.length<=320&&!!Be.match(Ci.email)},url:function(Be){return typeof Be=="string"&&Be.length<=2048&&!!Be.match(Ji())},hex:function(Be){return typeof Be=="string"&&!!Be.match(Ci.hex)}},It=function(Be,Re,Fe,Se,wt){if(Be.required&&Re===void 0){br(Be,Re,Fe,Se,wt);return}var Gt=["integer","float","array","regexp","object","method","email","number","date","url","hex"],Sn=Be.type;Gt.indexOf(Sn)>-1?$i[Sn](Re)||Se.push(Et(wt.messages.types[Sn],Be.fullField,Be.type)):Sn&&typeof Re!==Be.type&&Se.push(Et(wt.messages.types[Sn],Be.fullField,Be.type))},Q=function(Be,Re,Fe,Se,wt){var Gt=typeof Be.len=="number",Sn=typeof Be.min=="number",Un=typeof Be.max=="number",_e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,We=Re,Ve=null,Dt=typeof Re=="number",An=typeof Re=="string",on=Array.isArray(Re);if(Dt?Ve="number":An?Ve="string":on&&(Ve="array"),!Ve)return!1;on&&(We=Re.length),An&&(We=Re.replace(_e,"_").length),Gt?We!==Be.len&&Se.push(Et(wt.messages[Ve].len,Be.fullField,Be.len)):Sn&&!Un&&We<Be.min?Se.push(Et(wt.messages[Ve].min,Be.fullField,Be.min)):Un&&!Sn&&We>Be.max?Se.push(Et(wt.messages[Ve].max,Be.fullField,Be.max)):Sn&&Un&&(We<Be.min||We>Be.max)&&Se.push(Et(wt.messages[Ve].range,Be.fullField,Be.min,Be.max))},we="enum",Nt=function(Be,Re,Fe,Se,wt){Be[we]=Array.isArray(Be[we])?Be[we]:[],Be[we].indexOf(Re)===-1&&Se.push(Et(wt.messages[we],Be.fullField,Be[we].join(", ")))},jt=function(Be,Re,Fe,Se,wt){if(Be.pattern){if(Be.pattern instanceof RegExp)Be.pattern.lastIndex=0,Be.pattern.test(Re)||Se.push(Et(wt.messages.pattern.mismatch,Be.fullField,Re,Be.pattern));else if(typeof Be.pattern=="string"){var Gt=new RegExp(Be.pattern);Gt.test(Re)||Se.push(Et(wt.messages.pattern.mismatch,Be.fullField,Re,Be.pattern))}}},gt={required:br,whitespace:nr,type:It,range:Q,enum:Nt,pattern:jt},Je=function(Be,Re,Fe,Se,wt){var Gt=[],Sn=Be.required||!Be.required&&Se.hasOwnProperty(Be.field);if(Sn){if($t(Re,"string")&&!Be.required)return Fe();gt.required(Be,Re,Se,Gt,wt,"string"),$t(Re,"string")||(gt.type(Be,Re,Se,Gt,wt),gt.range(Be,Re,Se,Gt,wt),gt.pattern(Be,Re,Se,Gt,wt),Be.whitespace===!0&&gt.whitespace(Be,Re,Se,Gt,wt))}Fe(Gt)},pt=function(Be,Re,Fe,Se,wt){var Gt=[],Sn=Be.required||!Be.required&&Se.hasOwnProperty(Be.field);if(Sn){if($t(Re)&&!Be.required)return Fe();gt.required(Be,Re,Se,Gt,wt),Re!==void 0&&gt.type(Be,Re,Se,Gt,wt)}Fe(Gt)},rt=function(Be,Re,Fe,Se,wt){var Gt=[],Sn=Be.required||!Be.required&&Se.hasOwnProperty(Be.field);if(Sn){if(Re===""&&(Re=void 0),$t(Re)&&!Be.required)return Fe();gt.required(Be,Re,Se,Gt,wt),Re!==void 0&&(gt.type(Be,Re,Se,Gt,wt),gt.range(Be,Re,Se,Gt,wt))}Fe(Gt)},qt=function(Be,Re,Fe,Se,wt){var Gt=[],Sn=Be.required||!Be.required&&Se.hasOwnProperty(Be.field);if(Sn){if($t(Re)&&!Be.required)return Fe();gt.required(Be,Re,Se,Gt,wt),Re!==void 0&&gt.type(Be,Re,Se,Gt,wt)}Fe(Gt)},Dn=function(Be,Re,Fe,Se,wt){var Gt=[],Sn=Be.required||!Be.required&&Se.hasOwnProperty(Be.field);if(Sn){if($t(Re)&&!Be.required)return Fe();gt.required(Be,Re,Se,Gt,wt),$t(Re)||gt.type(Be,Re,Se,Gt,wt)}Fe(Gt)},_n=function(Be,Re,Fe,Se,wt){var Gt=[],Sn=Be.required||!Be.required&&Se.hasOwnProperty(Be.field);if(Sn){if($t(Re)&&!Be.required)return Fe();gt.required(Be,Re,Se,Gt,wt),Re!==void 0&&(gt.type(Be,Re,Se,Gt,wt),gt.range(Be,Re,Se,Gt,wt))}Fe(Gt)},Wr=function(Be,Re,Fe,Se,wt){var Gt=[],Sn=Be.required||!Be.required&&Se.hasOwnProperty(Be.field);if(Sn){if($t(Re)&&!Be.required)return Fe();gt.required(Be,Re,Se,Gt,wt),Re!==void 0&&(gt.type(Be,Re,Se,Gt,wt),gt.range(Be,Re,Se,Gt,wt))}Fe(Gt)},Qn=function(Be,Re,Fe,Se,wt){var Gt=[],Sn=Be.required||!Be.required&&Se.hasOwnProperty(Be.field);if(Sn){if(Re==null&&!Be.required)return Fe();gt.required(Be,Re,Se,Gt,wt,"array"),Re!=null&&(gt.type(Be,Re,Se,Gt,wt),gt.range(Be,Re,Se,Gt,wt))}Fe(Gt)},it=function(Be,Re,Fe,Se,wt){var Gt=[],Sn=Be.required||!Be.required&&Se.hasOwnProperty(Be.field);if(Sn){if($t(Re)&&!Be.required)return Fe();gt.required(Be,Re,Se,Gt,wt),Re!==void 0&&gt.type(Be,Re,Se,Gt,wt)}Fe(Gt)},mn="enum",kn=function(Be,Re,Fe,Se,wt){var Gt=[],Sn=Be.required||!Be.required&&Se.hasOwnProperty(Be.field);if(Sn){if($t(Re)&&!Be.required)return Fe();gt.required(Be,Re,Se,Gt,wt),Re!==void 0&&gt[mn](Be,Re,Se,Gt,wt)}Fe(Gt)},gr=function(Be,Re,Fe,Se,wt){var Gt=[],Sn=Be.required||!Be.required&&Se.hasOwnProperty(Be.field);if(Sn){if($t(Re,"string")&&!Be.required)return Fe();gt.required(Be,Re,Se,Gt,wt),$t(Re,"string")||gt.pattern(Be,Re,Se,Gt,wt)}Fe(Gt)},kr=function(Be,Re,Fe,Se,wt){var Gt=[],Sn=Be.required||!Be.required&&Se.hasOwnProperty(Be.field);if(Sn){if($t(Re,"date")&&!Be.required)return Fe();if(gt.required(Be,Re,Se,Gt,wt),!$t(Re,"date")){var Un;Re instanceof Date?Un=Re:Un=new Date(Re),gt.type(Be,Un,Se,Gt,wt),Un&&gt.range(Be,Un.getTime(),Se,Gt,wt)}}Fe(Gt)},Ei=function(Be,Re,Fe,Se,wt){var Gt=[],Sn=Array.isArray(Re)?"array":typeof Re;gt.required(Be,Re,Se,Gt,wt,Sn),Fe(Gt)},er=function(Be,Re,Fe,Se,wt){var Gt=Be.type,Sn=[],Un=Be.required||!Be.required&&Se.hasOwnProperty(Be.field);if(Un){if($t(Re,Gt)&&!Be.required)return Fe();gt.required(Be,Re,Se,Sn,wt,Gt),$t(Re,Gt)||gt.type(Be,Re,Se,Sn,wt)}Fe(Sn)},Tt=function(Be,Re,Fe,Se,wt){var Gt=[],Sn=Be.required||!Be.required&&Se.hasOwnProperty(Be.field);if(Sn){if($t(Re)&&!Be.required)return Fe();gt.required(Be,Re,Se,Gt,wt)}Fe(Gt)},sn={string:Je,method:pt,number:rt,boolean:qt,regexp:Dn,integer:_n,float:Wr,array:Qn,object:it,enum:kn,pattern:gr,date:kr,url:er,hex:er,email:er,required:Ei,any:Tt};function _t(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var Be=JSON.parse(JSON.stringify(this));return Be.clone=this.clone,Be}}}var Ut=_t(),Rn=function(){function At(Re){this.rules=null,this._messages=Ut,this.define(Re)}var Be=At.prototype;return Be.define=function(Fe){var Se=this;if(!Fe)throw new Error("Cannot configure a schema with no rules");if(typeof Fe!="object"||Array.isArray(Fe))throw new Error("Rules must be an object");this.rules={},Object.keys(Fe).forEach(function(wt){var Gt=Fe[wt];Se.rules[wt]=Array.isArray(Gt)?Gt:[Gt]})},Be.messages=function(Fe){return Fe&&(this._messages=dr(_t(),Fe)),this._messages},Be.validate=function(Fe,Se,wt){var Gt=this;Se===void 0&&(Se={}),wt===void 0&&(wt=function(){});var Sn=Fe,Un=Se,_e=wt;if(typeof Un=="function"&&(_e=Un,Un={}),!this.rules||Object.keys(this.rules).length===0)return _e&&_e(null,Sn),Promise.resolve(Sn);function We(et){var Tn=[],zt={};function Xn(ii){if(Array.isArray(ii)){var ui;Tn=(ui=Tn).concat.apply(ui,ii)}else Tn.push(ii)}for(var cr=0;cr<et.length;cr++)Xn(et[cr]);Tn.length?(zt=yt(Tn),_e(Tn,zt)):_e(null,Sn)}if(Un.messages){var Ve=this.messages();Ve===Ut&&(Ve=_t()),dr(Ve,Un.messages),Un.messages=Ve}else Un.messages=this.messages();var Dt={},An=Un.keys||Object.keys(this.rules);An.forEach(function(et){var Tn=Gt.rules[et],zt=Sn[et];Tn.forEach(function(Xn){var cr=Xn;typeof cr.transform=="function"&&(Sn===Fe&&(Sn=ut({},Sn)),zt=Sn[et]=cr.transform(zt)),typeof cr=="function"?cr={validator:cr}:cr=ut({},cr),cr.validator=Gt.getValidationMethod(cr),cr.validator&&(cr.field=et,cr.fullField=cr.fullField||et,cr.type=Gt.getType(cr),Dt[et]=Dt[et]||[],Dt[et].push({rule:cr,value:zt,source:Sn,field:et}))})});var on={};return Fr(Dt,Un,function(et,Tn){var zt=et.rule,Xn=(zt.type==="object"||zt.type==="array")&&(typeof zt.fields=="object"||typeof zt.defaultField=="object");Xn=Xn&&(zt.required||!zt.required&&et.value),zt.field=et.field;function cr(Mr,jr){return ut({},jr,{fullField:zt.fullField+"."+Mr,fullFields:zt.fullFields?[].concat(zt.fullFields,[Mr]):[Mr]})}function ii(Mr){Mr===void 0&&(Mr=[]);var jr=Array.isArray(Mr)?Mr:[Mr];!Un.suppressWarning&&jr.length&&At.warning("async-validator:",jr),jr.length&&zt.message!==void 0&&(jr=[].concat(zt.message));var eo=jr.map(jn(zt,Sn));if(Un.first&&eo.length)return on[zt.field]=1,Tn(eo);if(!Xn)Tn(eo);else{if(zt.required&&!et.value)return zt.message!==void 0?eo=[].concat(zt.message).map(jn(zt,Sn)):Un.error&&(eo=[Un.error(zt,Et(Un.messages.required,zt.field))]),Tn(eo);var yi={};zt.defaultField&&Object.keys(et.value).map(function(Li){yi[Li]=zt.defaultField}),yi=ut({},yi,et.rule.fields);var ci={};Object.keys(yi).forEach(function(Li){var to=yi[Li],Kr=Array.isArray(to)?to:[to];ci[Li]=Kr.map(cr.bind(null,Li))});var Si=new At(ci);Si.messages(Un.messages),et.rule.options&&(et.rule.options.messages=Un.messages,et.rule.options.error=Un.error),Si.validate(et.value,et.rule.options||Un,function(Li){var to=[];eo&&eo.length&&to.push.apply(to,eo),Li&&Li.length&&to.push.apply(to,Li),Tn(to.length?to:null)})}}var ui;if(zt.asyncValidator)ui=zt.asyncValidator(zt,et.value,ii,et.source,Un);else if(zt.validator){try{ui=zt.validator(zt,et.value,ii,et.source,Un)}catch(Mr){console.error==null||console.error(Mr),Un.suppressValidatorError||setTimeout(function(){throw Mr},0),ii(Mr.message)}ui===!0?ii():ui===!1?ii(typeof zt.message=="function"?zt.message(zt.fullField||zt.field):zt.message||(zt.fullField||zt.field)+" fails"):ui instanceof Array?ii(ui):ui instanceof Error&&ii(ui.message)}ui&&ui.then&&ui.then(function(){return ii()},function(Mr){return ii(Mr)})},function(et){We(et)},Sn)},Be.getType=function(Fe){if(Fe.type===void 0&&Fe.pattern instanceof RegExp&&(Fe.type="pattern"),typeof Fe.validator!="function"&&Fe.type&&!sn.hasOwnProperty(Fe.type))throw new Error(Et("Unknown rule type %s",Fe.type));return Fe.type||"string"},Be.getValidationMethod=function(Fe){if(typeof Fe.validator=="function")return Fe.validator;var Se=Object.keys(Fe),wt=Se.indexOf("message");return wt!==-1&&Se.splice(wt,1),Se.length===1&&Se[0]==="required"?sn.required:sn[this.getType(Fe)]||void 0},At}();Rn.register=function(Be,Re){if(typeof Re!="function")throw new Error("Cannot register a validator by type, validator is not a function");sn[Be]=Re},Rn.warning=Mt,Rn.messages=Ut,Rn.validators=sn;var Cr="'${name}' is not a valid ${type}",si={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Cr,method:Cr,array:Cr,object:Cr,number:Cr,date:Cr,boolean:Cr,integer:Cr,float:Cr,regexp:Cr,email:Cr,url:Cr,hex:Cr},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},tr=w(8880),xn=Rn;function Hn(At,Be){return At.replace(/\$\{\w+\}/g,function(Re){var Fe=Re.slice(2,-1);return Be[Fe]})}var Kn="CODE_LOGIC_ERROR";function yn(At,Be,Re,Fe,Se){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,k.Z)((0,R.Z)().mark(function At(Be,Re,Fe,Se,wt){var Gt,Sn,Un,_e,We,Ve,Dt,An,on;return(0,R.Z)().wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:return Gt=(0,F.Z)({},Fe),delete Gt.ruleIndex,xn.warning=function(){},Gt.validator&&(Sn=Gt.validator,Gt.validator=function(){try{return Sn.apply(void 0,arguments)}catch(zt){return console.error(zt),Promise.reject(Kn)}}),Un=null,Gt&&Gt.type==="array"&&Gt.defaultField&&(Un=Gt.defaultField,delete Gt.defaultField),_e=new xn((0,ge.Z)({},Be,[Gt])),We=(0,tr.T)(si,Se.validateMessages),_e.messages(We),Ve=[],Tn.prev=10,Tn.next=13,Promise.resolve(_e.validate((0,ge.Z)({},Be,Re),(0,F.Z)({},Se)));case 13:Tn.next=18;break;case 15:Tn.prev=15,Tn.t0=Tn.catch(10),Tn.t0.errors&&(Ve=Tn.t0.errors.map(function(zt,Xn){var cr=zt.message,ii=cr===Kn?We.default:cr;return B.isValidElement(ii)?B.cloneElement(ii,{key:"error_".concat(Xn)}):ii}));case 18:if(!(!Ve.length&&Un)){Tn.next=23;break}return Tn.next=21,Promise.all(Re.map(function(zt,Xn){return yn("".concat(Be,".").concat(Xn),zt,Un,Se,wt)}));case 21:return Dt=Tn.sent,Tn.abrupt("return",Dt.reduce(function(zt,Xn){return[].concat((0,H.Z)(zt),(0,H.Z)(Xn))},[]));case 23:return An=(0,F.Z)((0,F.Z)({},Fe),{},{name:Be,enum:(Fe.enum||[]).join(", ")},wt),on=Ve.map(function(zt){return typeof zt=="string"?Hn(zt,An):zt}),Tn.abrupt("return",on);case 26:case"end":return Tn.stop()}},At,null,[[10,15]])})),Sr.apply(this,arguments)}function yr(At,Be,Re,Fe,Se,wt){var Gt=At.join("."),Sn=Re.map(function(We,Ve){var Dt=We.validator,An=(0,F.Z)((0,F.Z)({},We),{},{ruleIndex:Ve});return Dt&&(An.validator=function(on,et,Tn){var zt=!1,Xn=function(){for(var ui=arguments.length,Mr=new Array(ui),jr=0;jr<ui;jr++)Mr[jr]=arguments[jr];Promise.resolve().then(function(){(0,Ce.ZP)(!zt,"Your validator function has already return a promise. `callback` will be ignored."),zt||Tn.apply(void 0,Mr)})},cr=Dt(on,et,Xn);zt=cr&&typeof cr.then=="function"&&typeof cr.catch=="function",(0,Ce.ZP)(zt,"`callback` is deprecated. Please return a promise instead."),zt&&cr.then(function(){Tn()}).catch(function(ii){Tn(ii||" ")})}),An}).sort(function(We,Ve){var Dt=We.warningOnly,An=We.ruleIndex,on=Ve.warningOnly,et=Ve.ruleIndex;return!!Dt==!!on?An-et:Dt?1:-1}),Un;if(Se===!0)Un=new Promise(function(){var We=(0,k.Z)((0,R.Z)().mark(function Ve(Dt,An){var on,et,Tn;return(0,R.Z)().wrap(function(Xn){for(;;)switch(Xn.prev=Xn.next){case 0:on=0;case 1:if(!(on<Sn.length)){Xn.next=12;break}return et=Sn[on],Xn.next=5,yn(Gt,Be,et,Fe,wt);case 5:if(Tn=Xn.sent,!Tn.length){Xn.next=9;break}return An([{errors:Tn,rule:et}]),Xn.abrupt("return");case 9:on+=1,Xn.next=1;break;case 12:Dt([]);case 13:case"end":return Xn.stop()}},Ve)}));return function(Ve,Dt){return We.apply(this,arguments)}}());else{var _e=Sn.map(function(We){return yn(Gt,Be,We,Fe,wt).then(function(Ve){return{errors:Ve,rule:We}})});Un=(Se?hn(_e):Tr(_e)).then(function(We){return Promise.reject(We)})}return Un.catch(function(We){return We}),Un}function Tr(At){return rn.apply(this,arguments)}function rn(){return rn=(0,k.Z)((0,R.Z)().mark(function At(Be){return(0,R.Z)().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return Fe.abrupt("return",Promise.all(Be).then(function(Se){var wt,Gt=(wt=[]).concat.apply(wt,(0,H.Z)(Se));return Gt}));case 1:case"end":return Fe.stop()}},At)})),rn.apply(this,arguments)}function hn(At){return or.apply(this,arguments)}function or(){return or=(0,k.Z)((0,R.Z)().mark(function At(Be){var Re;return(0,R.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Re=0,Se.abrupt("return",new Promise(function(wt){Be.forEach(function(Gt){Gt.then(function(Sn){Sn.errors.length&&wt([Sn]),Re+=1,Re===Be.length&&wt([])})})}));case 2:case"end":return Se.stop()}},At)})),or.apply(this,arguments)}var Ke=w(71002),Xe=w(88306);function je(At){return Vt(At)}function me(At,Be){var Re={};return Be.forEach(function(Fe){var Se=(0,Xe.Z)(At,Fe);Re=(0,tr.Z)(Re,Fe,Se)}),Re}function ze(At,Be){var Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return At&&At.some(function(Fe){return Oe(Be,Fe,Re)})}function Oe(At,Be){var Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!At||!Be||!Re&&At.length!==Be.length?!1:Be.every(function(Fe,Se){return At[Se]===Fe})}function Y(At,Be){if(At===Be)return!0;if(!At&&Be||At&&!Be||!At||!Be||(0,Ke.Z)(At)!=="object"||(0,Ke.Z)(Be)!=="object")return!1;var Re=Object.keys(At),Fe=Object.keys(Be),Se=new Set([].concat(Re,Fe));return(0,H.Z)(Se).every(function(wt){var Gt=At[wt],Sn=Be[wt];return typeof Gt=="function"&&typeof Sn=="function"?!0:Gt===Sn})}function ne(At){var Be=arguments.length<=1?void 0:arguments[1];return Be&&Be.target&&(0,Ke.Z)(Be.target)==="object"&&At in Be.target?Be.target[At]:Be}function W(At,Be,Re){var Fe=At.length;if(Be<0||Be>=Fe||Re<0||Re>=Fe)return At;var Se=At[Be],wt=Be-Re;return wt>0?[].concat((0,H.Z)(At.slice(0,Re)),[Se],(0,H.Z)(At.slice(Re,Be)),(0,H.Z)(At.slice(Be+1,Fe))):wt<0?[].concat((0,H.Z)(At.slice(0,Be)),(0,H.Z)(At.slice(Be+1,Re+1)),[Se],(0,H.Z)(At.slice(Re+1,Fe))):At}var S=["name"],A=[];function L(At,Be,Re,Fe,Se,wt){return typeof At=="function"?At(Be,Re,"source"in wt?{source:wt.source}:{}):Fe!==Se}var ce=function(At){(0,ue.Z)(Re,At);var Be=(0,re.Z)(Re);function Re(Fe){var Se;if((0,I.Z)(this,Re),Se=Be.call(this,Fe),(0,ge.Z)((0,ae.Z)(Se),"state",{resetCount:0}),(0,ge.Z)((0,ae.Z)(Se),"cancelRegisterFunc",null),(0,ge.Z)((0,ae.Z)(Se),"mounted",!1),(0,ge.Z)((0,ae.Z)(Se),"touched",!1),(0,ge.Z)((0,ae.Z)(Se),"dirty",!1),(0,ge.Z)((0,ae.Z)(Se),"validatePromise",void 0),(0,ge.Z)((0,ae.Z)(Se),"prevValidating",void 0),(0,ge.Z)((0,ae.Z)(Se),"errors",A),(0,ge.Z)((0,ae.Z)(Se),"warnings",A),(0,ge.Z)((0,ae.Z)(Se),"cancelRegister",function(){var Un=Se.props,_e=Un.preserve,We=Un.isListField,Ve=Un.name;Se.cancelRegisterFunc&&Se.cancelRegisterFunc(We,_e,je(Ve)),Se.cancelRegisterFunc=null}),(0,ge.Z)((0,ae.Z)(Se),"getNamePath",function(){var Un=Se.props,_e=Un.name,We=Un.fieldContext,Ve=We.prefixName,Dt=Ve===void 0?[]:Ve;return _e!==void 0?[].concat((0,H.Z)(Dt),(0,H.Z)(_e)):[]}),(0,ge.Z)((0,ae.Z)(Se),"getRules",function(){var Un=Se.props,_e=Un.rules,We=_e===void 0?[]:_e,Ve=Un.fieldContext;return We.map(function(Dt){return typeof Dt=="function"?Dt(Ve):Dt})}),(0,ge.Z)((0,ae.Z)(Se),"refresh",function(){Se.mounted&&Se.setState(function(Un){var _e=Un.resetCount;return{resetCount:_e+1}})}),(0,ge.Z)((0,ae.Z)(Se),"metaCache",null),(0,ge.Z)((0,ae.Z)(Se),"triggerMetaEvent",function(Un){var _e=Se.props.onMetaChange;if(_e){var We=(0,F.Z)((0,F.Z)({},Se.getMeta()),{},{destroy:Un});(0,fe.Z)(Se.metaCache,We)||_e(We),Se.metaCache=We}else Se.metaCache=null}),(0,ge.Z)((0,ae.Z)(Se),"onStoreChange",function(Un,_e,We){var Ve=Se.props,Dt=Ve.shouldUpdate,An=Ve.dependencies,on=An===void 0?[]:An,et=Ve.onReset,Tn=We.store,zt=Se.getNamePath(),Xn=Se.getValue(Un),cr=Se.getValue(Tn),ii=_e&&ze(_e,zt);switch(We.type==="valueUpdate"&&We.source==="external"&&Xn!==cr&&(Se.touched=!0,Se.dirty=!0,Se.validatePromise=null,Se.errors=A,Se.warnings=A,Se.triggerMetaEvent()),We.type){case"reset":if(!_e||ii){Se.touched=!1,Se.dirty=!1,Se.validatePromise=void 0,Se.errors=A,Se.warnings=A,Se.triggerMetaEvent(),et==null||et(),Se.refresh();return}break;case"remove":{if(Dt){Se.reRender();return}break}case"setField":{var ui=We.data;if(ii){"touched"in ui&&(Se.touched=ui.touched),"validating"in ui&&!("originRCField"in ui)&&(Se.validatePromise=ui.validating?Promise.resolve([]):null),"errors"in ui&&(Se.errors=ui.errors||A),"warnings"in ui&&(Se.warnings=ui.warnings||A),Se.dirty=!0,Se.triggerMetaEvent(),Se.reRender();return}else if("value"in ui&&ze(_e,zt,!0)){Se.reRender();return}if(Dt&&!zt.length&&L(Dt,Un,Tn,Xn,cr,We)){Se.reRender();return}break}case"dependenciesUpdate":{var Mr=on.map(je);if(Mr.some(function(jr){return ze(We.relatedFields,jr)})){Se.reRender();return}break}default:if(ii||(!on.length||zt.length||Dt)&&L(Dt,Un,Tn,Xn,cr,We)){Se.reRender();return}break}Dt===!0&&Se.reRender()}),(0,ge.Z)((0,ae.Z)(Se),"validateRules",function(Un){var _e=Se.getNamePath(),We=Se.getValue(),Ve=Un||{},Dt=Ve.triggerName,An=Ve.validateOnly,on=An===void 0?!1:An,et=Promise.resolve().then((0,k.Z)((0,R.Z)().mark(function Tn(){var zt,Xn,cr,ii,ui,Mr,jr;return(0,R.Z)().wrap(function(yi){for(;;)switch(yi.prev=yi.next){case 0:if(Se.mounted){yi.next=2;break}return yi.abrupt("return",[]);case 2:if(zt=Se.props,Xn=zt.validateFirst,cr=Xn===void 0?!1:Xn,ii=zt.messageVariables,ui=zt.validateDebounce,Mr=Se.getRules(),Dt&&(Mr=Mr.filter(function(ci){return ci}).filter(function(ci){var Si=ci.validateTrigger;if(!Si)return!0;var Li=Vt(Si);return Li.includes(Dt)})),!(ui&&Dt)){yi.next=10;break}return yi.next=8,new Promise(function(ci){setTimeout(ci,ui)});case 8:if(Se.validatePromise===et){yi.next=10;break}return yi.abrupt("return",[]);case 10:return jr=yr(_e,We,Mr,Un,cr,ii),jr.catch(function(ci){return ci}).then(function(){var ci=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A;if(Se.validatePromise===et){var Si;Se.validatePromise=null;var Li=[],to=[];(Si=ci.forEach)===null||Si===void 0||Si.call(ci,function(Kr){var gs=Kr.rule.warningOnly,Cs=Kr.errors,es=Cs===void 0?A:Cs;gs?to.push.apply(to,(0,H.Z)(es)):Li.push.apply(Li,(0,H.Z)(es))}),Se.errors=Li,Se.warnings=to,Se.triggerMetaEvent(),Se.reRender()}}),yi.abrupt("return",jr);case 13:case"end":return yi.stop()}},Tn)})));return on||(Se.validatePromise=et,Se.dirty=!0,Se.errors=A,Se.warnings=A,Se.triggerMetaEvent(),Se.reRender()),et}),(0,ge.Z)((0,ae.Z)(Se),"isFieldValidating",function(){return!!Se.validatePromise}),(0,ge.Z)((0,ae.Z)(Se),"isFieldTouched",function(){return Se.touched}),(0,ge.Z)((0,ae.Z)(Se),"isFieldDirty",function(){if(Se.dirty||Se.props.initialValue!==void 0)return!0;var Un=Se.props.fieldContext,_e=Un.getInternalHooks(Ae),We=_e.getInitialValue;return We(Se.getNamePath())!==void 0}),(0,ge.Z)((0,ae.Z)(Se),"getErrors",function(){return Se.errors}),(0,ge.Z)((0,ae.Z)(Se),"getWarnings",function(){return Se.warnings}),(0,ge.Z)((0,ae.Z)(Se),"isListField",function(){return Se.props.isListField}),(0,ge.Z)((0,ae.Z)(Se),"isList",function(){return Se.props.isList}),(0,ge.Z)((0,ae.Z)(Se),"isPreserve",function(){return Se.props.preserve}),(0,ge.Z)((0,ae.Z)(Se),"getMeta",function(){Se.prevValidating=Se.isFieldValidating();var Un={touched:Se.isFieldTouched(),validating:Se.prevValidating,errors:Se.errors,warnings:Se.warnings,name:Se.getNamePath(),validated:Se.validatePromise===null};return Un}),(0,ge.Z)((0,ae.Z)(Se),"getOnlyChild",function(Un){if(typeof Un=="function"){var _e=Se.getMeta();return(0,F.Z)((0,F.Z)({},Se.getOnlyChild(Un(Se.getControlled(),_e,Se.props.fieldContext))),{},{isFunction:!0})}var We=(0,Ze.Z)(Un);return We.length!==1||!B.isValidElement(We[0])?{child:We,isFunction:!1}:{child:We[0],isFunction:!1}}),(0,ge.Z)((0,ae.Z)(Se),"getValue",function(Un){var _e=Se.props.fieldContext.getFieldsValue,We=Se.getNamePath();return(0,Xe.Z)(Un||_e(!0),We)}),(0,ge.Z)((0,ae.Z)(Se),"getControlled",function(){var Un=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=Se.props,We=_e.trigger,Ve=_e.validateTrigger,Dt=_e.getValueFromEvent,An=_e.normalize,on=_e.valuePropName,et=_e.getValueProps,Tn=_e.fieldContext,zt=Ve!==void 0?Ve:Tn.validateTrigger,Xn=Se.getNamePath(),cr=Tn.getInternalHooks,ii=Tn.getFieldsValue,ui=cr(Ae),Mr=ui.dispatch,jr=Se.getValue(),eo=et||function(Li){return(0,ge.Z)({},on,Li)},yi=Un[We],ci=(0,F.Z)((0,F.Z)({},Un),eo(jr));ci[We]=function(){Se.touched=!0,Se.dirty=!0,Se.triggerMetaEvent();for(var Li,to=arguments.length,Kr=new Array(to),gs=0;gs<to;gs++)Kr[gs]=arguments[gs];Dt?Li=Dt.apply(void 0,Kr):Li=ne.apply(void 0,[on].concat(Kr)),An&&(Li=An(Li,jr,ii(!0))),Mr({type:"updateValue",namePath:Xn,value:Li}),yi&&yi.apply(void 0,Kr)};var Si=Vt(zt||[]);return Si.forEach(function(Li){var to=ci[Li];ci[Li]=function(){to&&to.apply(void 0,arguments);var Kr=Se.props.rules;Kr&&Kr.length&&Mr({type:"validateField",namePath:Xn,triggerName:Li})}}),ci}),Fe.fieldContext){var wt=Fe.fieldContext.getInternalHooks,Gt=wt(Ae),Sn=Gt.initEntityValue;Sn((0,ae.Z)(Se))}return Se}return(0,ee.Z)(Re,[{key:"componentDidMount",value:function(){var Se=this.props,wt=Se.shouldUpdate,Gt=Se.fieldContext;if(this.mounted=!0,Gt){var Sn=Gt.getInternalHooks,Un=Sn(Ae),_e=Un.registerField;this.cancelRegisterFunc=_e(this)}wt===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var Se=this.state.resetCount,wt=this.props.children,Gt=this.getOnlyChild(wt),Sn=Gt.child,Un=Gt.isFunction,_e;return Un?_e=Sn:B.isValidElement(Sn)?_e=B.cloneElement(Sn,this.getControlled(Sn.props)):((0,Ce.ZP)(!Sn,"`children` of Field is not validate ReactElement."),_e=Sn),B.createElement(B.Fragment,{key:Se},_e)}}]),Re}(B.Component);(0,ge.Z)(ce,"contextType",at),(0,ge.Z)(ce,"defaultProps",{trigger:"onChange",valuePropName:"value"});function ve(At){var Be=At.name,Re=(0,j.Z)(At,S),Fe=B.useContext(at),Se=B.useContext(vt),wt=Be!==void 0?je(Be):void 0,Gt="keep";return Re.isListField||(Gt="_".concat((wt||[]).join("_"))),B.createElement(ce,(0,M.Z)({key:Gt,name:wt,isListField:!!Se},Re,{fieldContext:Fe}))}var pe=ve;function Ee(At){var Be=At.name,Re=At.initialValue,Fe=At.children,Se=At.rules,wt=At.validateTrigger,Gt=At.isListField,Sn=B.useContext(at),Un=B.useContext(vt),_e=B.useRef({keys:[],id:0}),We=_e.current,Ve=B.useMemo(function(){var et=je(Sn.prefixName)||[];return[].concat((0,H.Z)(et),(0,H.Z)(je(Be)))},[Sn.prefixName,Be]),Dt=B.useMemo(function(){return(0,F.Z)((0,F.Z)({},Sn),{},{prefixName:Ve})},[Sn,Ve]),An=B.useMemo(function(){return{getKey:function(Tn){var zt=Ve.length,Xn=Tn[zt];return[We.keys[Xn],Tn.slice(zt+1)]}}},[Ve]);if(typeof Fe!="function")return(0,Ce.ZP)(!1,"Form.List only accepts function as children."),null;var on=function(Tn,zt,Xn){var cr=Xn.source;return cr==="internal"?!1:Tn!==zt};return B.createElement(vt.Provider,{value:An},B.createElement(at.Provider,{value:Dt},B.createElement(pe,{name:[],shouldUpdate:on,rules:Se,validateTrigger:wt,initialValue:Re,isList:!0,isListField:Gt!=null?Gt:!!Un},function(et,Tn){var zt=et.value,Xn=zt===void 0?[]:zt,cr=et.onChange,ii=Sn.getFieldValue,ui=function(){var yi=ii(Ve||[]);return yi||[]},Mr={add:function(yi,ci){var Si=ui();ci>=0&&ci<=Si.length?(We.keys=[].concat((0,H.Z)(We.keys.slice(0,ci)),[We.id],(0,H.Z)(We.keys.slice(ci))),cr([].concat((0,H.Z)(Si.slice(0,ci)),[yi],(0,H.Z)(Si.slice(ci))))):(We.keys=[].concat((0,H.Z)(We.keys),[We.id]),cr([].concat((0,H.Z)(Si),[yi]))),We.id+=1},remove:function(yi){var ci=ui(),Si=new Set(Array.isArray(yi)?yi:[yi]);Si.size<=0||(We.keys=We.keys.filter(function(Li,to){return!Si.has(to)}),cr(ci.filter(function(Li,to){return!Si.has(to)})))},move:function(yi,ci){if(yi!==ci){var Si=ui();yi<0||yi>=Si.length||ci<0||ci>=Si.length||(We.keys=W(We.keys,yi,ci),cr(W(Si,yi,ci)))}}},jr=Xn||[];return Array.isArray(jr)||(jr=[]),Fe(jr.map(function(eo,yi){var ci=We.keys[yi];return ci===void 0&&(We.keys[yi]=We.id,ci=We.keys[yi],We.id+=1),{name:yi,key:ci,isListField:!0}}),Mr,Tn)})))}var ht=Ee,ct=w(97685);function nt(At){var Be=!1,Re=At.length,Fe=[];return At.length?new Promise(function(Se,wt){At.forEach(function(Gt,Sn){Gt.catch(function(Un){return Be=!0,Un}).then(function(Un){Re-=1,Fe[Sn]=Un,!(Re>0)&&(Be&&wt(Fe),Se(Fe))})})}):Promise.resolve([])}var Rt="__@field_split__";function kt(At){return At.map(function(Be){return"".concat((0,Ke.Z)(Be),":").concat(Be)}).join(Rt)}var bn=function(){function At(){(0,I.Z)(this,At),(0,ge.Z)(this,"kvs",new Map)}return(0,ee.Z)(At,[{key:"set",value:function(Re,Fe){this.kvs.set(kt(Re),Fe)}},{key:"get",value:function(Re){return this.kvs.get(kt(Re))}},{key:"update",value:function(Re,Fe){var Se=this.get(Re),wt=Fe(Se);wt?this.set(Re,wt):this.delete(Re)}},{key:"delete",value:function(Re){this.kvs.delete(kt(Re))}},{key:"map",value:function(Re){return(0,H.Z)(this.kvs.entries()).map(function(Fe){var Se=(0,ct.Z)(Fe,2),wt=Se[0],Gt=Se[1],Sn=wt.split(Rt);return Re({key:Sn.map(function(Un){var _e=Un.match(/^([^:]*):(.*)$/),We=(0,ct.Z)(_e,3),Ve=We[1],Dt=We[2];return Ve==="number"?Number(Dt):Dt}),value:Gt})})}},{key:"toJSON",value:function(){var Re={};return this.map(function(Fe){var Se=Fe.key,wt=Fe.value;return Re[Se.join(".")]=wt,null}),Re}}]),At}(),pn=bn,Lt=["name"],Bt=(0,ee.Z)(function At(Be){var Re=this;(0,I.Z)(this,At),(0,ge.Z)(this,"formHooked",!1),(0,ge.Z)(this,"forceRootUpdate",void 0),(0,ge.Z)(this,"subscribable",!0),(0,ge.Z)(this,"store",{}),(0,ge.Z)(this,"fieldEntities",[]),(0,ge.Z)(this,"initialValues",{}),(0,ge.Z)(this,"callbacks",{}),(0,ge.Z)(this,"validateMessages",null),(0,ge.Z)(this,"preserve",null),(0,ge.Z)(this,"lastValidatePromise",null),(0,ge.Z)(this,"getForm",function(){return{getFieldValue:Re.getFieldValue,getFieldsValue:Re.getFieldsValue,getFieldError:Re.getFieldError,getFieldWarning:Re.getFieldWarning,getFieldsError:Re.getFieldsError,isFieldsTouched:Re.isFieldsTouched,isFieldTouched:Re.isFieldTouched,isFieldValidating:Re.isFieldValidating,isFieldsValidating:Re.isFieldsValidating,resetFields:Re.resetFields,setFields:Re.setFields,setFieldValue:Re.setFieldValue,setFieldsValue:Re.setFieldsValue,validateFields:Re.validateFields,submit:Re.submit,_init:!0,getInternalHooks:Re.getInternalHooks}}),(0,ge.Z)(this,"getInternalHooks",function(Fe){return Fe===Ae?(Re.formHooked=!0,{dispatch:Re.dispatch,initEntityValue:Re.initEntityValue,registerField:Re.registerField,useSubscribe:Re.useSubscribe,setInitialValues:Re.setInitialValues,destroyForm:Re.destroyForm,setCallbacks:Re.setCallbacks,setValidateMessages:Re.setValidateMessages,getFields:Re.getFields,setPreserve:Re.setPreserve,getInitialValue:Re.getInitialValue,registerWatch:Re.registerWatch}):((0,Ce.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),(0,ge.Z)(this,"useSubscribe",function(Fe){Re.subscribable=Fe}),(0,ge.Z)(this,"prevWithoutPreserves",null),(0,ge.Z)(this,"setInitialValues",function(Fe,Se){if(Re.initialValues=Fe||{},Se){var wt,Gt=(0,tr.T)(Fe,Re.store);(wt=Re.prevWithoutPreserves)===null||wt===void 0||wt.map(function(Sn){var Un=Sn.key;Gt=(0,tr.Z)(Gt,Un,(0,Xe.Z)(Fe,Un))}),Re.prevWithoutPreserves=null,Re.updateStore(Gt)}}),(0,ge.Z)(this,"destroyForm",function(){var Fe=new pn;Re.getFieldEntities(!0).forEach(function(Se){Re.isMergedPreserve(Se.isPreserve())||Fe.set(Se.getNamePath(),!0)}),Re.prevWithoutPreserves=Fe}),(0,ge.Z)(this,"getInitialValue",function(Fe){var Se=(0,Xe.Z)(Re.initialValues,Fe);return Fe.length?(0,tr.T)(Se):Se}),(0,ge.Z)(this,"setCallbacks",function(Fe){Re.callbacks=Fe}),(0,ge.Z)(this,"setValidateMessages",function(Fe){Re.validateMessages=Fe}),(0,ge.Z)(this,"setPreserve",function(Fe){Re.preserve=Fe}),(0,ge.Z)(this,"watchList",[]),(0,ge.Z)(this,"registerWatch",function(Fe){return Re.watchList.push(Fe),function(){Re.watchList=Re.watchList.filter(function(Se){return Se!==Fe})}}),(0,ge.Z)(this,"notifyWatch",function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(Re.watchList.length){var Se=Re.getFieldsValue(),wt=Re.getFieldsValue(!0);Re.watchList.forEach(function(Gt){Gt(Se,wt,Fe)})}}),(0,ge.Z)(this,"timeoutId",null),(0,ge.Z)(this,"warningUnhooked",function(){}),(0,ge.Z)(this,"updateStore",function(Fe){Re.store=Fe}),(0,ge.Z)(this,"getFieldEntities",function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Fe?Re.fieldEntities.filter(function(Se){return Se.getNamePath().length}):Re.fieldEntities}),(0,ge.Z)(this,"getFieldsMap",function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Se=new pn;return Re.getFieldEntities(Fe).forEach(function(wt){var Gt=wt.getNamePath();Se.set(Gt,wt)}),Se}),(0,ge.Z)(this,"getFieldEntitiesForNamePathList",function(Fe){if(!Fe)return Re.getFieldEntities(!0);var Se=Re.getFieldsMap(!0);return Fe.map(function(wt){var Gt=je(wt);return Se.get(Gt)||{INVALIDATE_NAME_PATH:je(wt)}})}),(0,ge.Z)(this,"getFieldsValue",function(Fe,Se){Re.warningUnhooked();var wt,Gt,Sn;if(Fe===!0||Array.isArray(Fe)?(wt=Fe,Gt=Se):Fe&&(0,Ke.Z)(Fe)==="object"&&(Sn=Fe.strict,Gt=Fe.filter),wt===!0&&!Gt)return Re.store;var Un=Re.getFieldEntitiesForNamePathList(Array.isArray(wt)?wt:null),_e=[];return Un.forEach(function(We){var Ve,Dt,An="INVALIDATE_NAME_PATH"in We?We.INVALIDATE_NAME_PATH:We.getNamePath();if(Sn){var on,et;if((on=(et=We).isList)!==null&&on!==void 0&&on.call(et))return}else if(!wt&&(Ve=(Dt=We).isListField)!==null&&Ve!==void 0&&Ve.call(Dt))return;if(!Gt)_e.push(An);else{var Tn="getMeta"in We?We.getMeta():null;Gt(Tn)&&_e.push(An)}}),me(Re.store,_e.map(je))}),(0,ge.Z)(this,"getFieldValue",function(Fe){Re.warningUnhooked();var Se=je(Fe);return(0,Xe.Z)(Re.store,Se)}),(0,ge.Z)(this,"getFieldsError",function(Fe){Re.warningUnhooked();var Se=Re.getFieldEntitiesForNamePathList(Fe);return Se.map(function(wt,Gt){return wt&&!("INVALIDATE_NAME_PATH"in wt)?{name:wt.getNamePath(),errors:wt.getErrors(),warnings:wt.getWarnings()}:{name:je(Fe[Gt]),errors:[],warnings:[]}})}),(0,ge.Z)(this,"getFieldError",function(Fe){Re.warningUnhooked();var Se=je(Fe),wt=Re.getFieldsError([Se])[0];return wt.errors}),(0,ge.Z)(this,"getFieldWarning",function(Fe){Re.warningUnhooked();var Se=je(Fe),wt=Re.getFieldsError([Se])[0];return wt.warnings}),(0,ge.Z)(this,"isFieldsTouched",function(){Re.warningUnhooked();for(var Fe=arguments.length,Se=new Array(Fe),wt=0;wt<Fe;wt++)Se[wt]=arguments[wt];var Gt=Se[0],Sn=Se[1],Un,_e=!1;Se.length===0?Un=null:Se.length===1?Array.isArray(Gt)?(Un=Gt.map(je),_e=!1):(Un=null,_e=Gt):(Un=Gt.map(je),_e=Sn);var We=Re.getFieldEntities(!0),Ve=function(Tn){return Tn.isFieldTouched()};if(!Un)return _e?We.every(Ve):We.some(Ve);var Dt=new pn;Un.forEach(function(et){Dt.set(et,[])}),We.forEach(function(et){var Tn=et.getNamePath();Un.forEach(function(zt){zt.every(function(Xn,cr){return Tn[cr]===Xn})&&Dt.update(zt,function(Xn){return[].concat((0,H.Z)(Xn),[et])})})});var An=function(Tn){return Tn.some(Ve)},on=Dt.map(function(et){var Tn=et.value;return Tn});return _e?on.every(An):on.some(An)}),(0,ge.Z)(this,"isFieldTouched",function(Fe){return Re.warningUnhooked(),Re.isFieldsTouched([Fe])}),(0,ge.Z)(this,"isFieldsValidating",function(Fe){Re.warningUnhooked();var Se=Re.getFieldEntities();if(!Fe)return Se.some(function(Gt){return Gt.isFieldValidating()});var wt=Fe.map(je);return Se.some(function(Gt){var Sn=Gt.getNamePath();return ze(wt,Sn)&&Gt.isFieldValidating()})}),(0,ge.Z)(this,"isFieldValidating",function(Fe){return Re.warningUnhooked(),Re.isFieldsValidating([Fe])}),(0,ge.Z)(this,"resetWithFieldInitialValue",function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Se=new pn,wt=Re.getFieldEntities(!0);wt.forEach(function(Un){var _e=Un.props.initialValue,We=Un.getNamePath();if(_e!==void 0){var Ve=Se.get(We)||new Set;Ve.add({entity:Un,value:_e}),Se.set(We,Ve)}});var Gt=function(_e){_e.forEach(function(We){var Ve=We.props.initialValue;if(Ve!==void 0){var Dt=We.getNamePath(),An=Re.getInitialValue(Dt);if(An!==void 0)(0,Ce.ZP)(!1,"Form already set 'initialValues' with path '".concat(Dt.join("."),"'. Field can not overwrite it."));else{var on=Se.get(Dt);if(on&&on.size>1)(0,Ce.ZP)(!1,"Multiple Field with path '".concat(Dt.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(on){var et=Re.getFieldValue(Dt);(!Fe.skipExist||et===void 0)&&Re.updateStore((0,tr.Z)(Re.store,Dt,(0,H.Z)(on)[0].value))}}}})},Sn;Fe.entities?Sn=Fe.entities:Fe.namePathList?(Sn=[],Fe.namePathList.forEach(function(Un){var _e=Se.get(Un);if(_e){var We;(We=Sn).push.apply(We,(0,H.Z)((0,H.Z)(_e).map(function(Ve){return Ve.entity})))}})):Sn=wt,Gt(Sn)}),(0,ge.Z)(this,"resetFields",function(Fe){Re.warningUnhooked();var Se=Re.store;if(!Fe){Re.updateStore((0,tr.T)(Re.initialValues)),Re.resetWithFieldInitialValue(),Re.notifyObservers(Se,null,{type:"reset"}),Re.notifyWatch();return}var wt=Fe.map(je);wt.forEach(function(Gt){var Sn=Re.getInitialValue(Gt);Re.updateStore((0,tr.Z)(Re.store,Gt,Sn))}),Re.resetWithFieldInitialValue({namePathList:wt}),Re.notifyObservers(Se,wt,{type:"reset"}),Re.notifyWatch(wt)}),(0,ge.Z)(this,"setFields",function(Fe){Re.warningUnhooked();var Se=Re.store,wt=[];Fe.forEach(function(Gt){var Sn=Gt.name,Un=(0,j.Z)(Gt,Lt),_e=je(Sn);wt.push(_e),"value"in Un&&Re.updateStore((0,tr.Z)(Re.store,_e,Un.value)),Re.notifyObservers(Se,[_e],{type:"setField",data:Gt})}),Re.notifyWatch(wt)}),(0,ge.Z)(this,"getFields",function(){var Fe=Re.getFieldEntities(!0),Se=Fe.map(function(wt){var Gt=wt.getNamePath(),Sn=wt.getMeta(),Un=(0,F.Z)((0,F.Z)({},Sn),{},{name:Gt,value:Re.getFieldValue(Gt)});return Object.defineProperty(Un,"originRCField",{value:!0}),Un});return Se}),(0,ge.Z)(this,"initEntityValue",function(Fe){var Se=Fe.props.initialValue;if(Se!==void 0){var wt=Fe.getNamePath(),Gt=(0,Xe.Z)(Re.store,wt);Gt===void 0&&Re.updateStore((0,tr.Z)(Re.store,wt,Se))}}),(0,ge.Z)(this,"isMergedPreserve",function(Fe){var Se=Fe!==void 0?Fe:Re.preserve;return Se!=null?Se:!0}),(0,ge.Z)(this,"registerField",function(Fe){Re.fieldEntities.push(Fe);var Se=Fe.getNamePath();if(Re.notifyWatch([Se]),Fe.props.initialValue!==void 0){var wt=Re.store;Re.resetWithFieldInitialValue({entities:[Fe],skipExist:!0}),Re.notifyObservers(wt,[Fe.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(Gt,Sn){var Un=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(Re.fieldEntities=Re.fieldEntities.filter(function(Ve){return Ve!==Fe}),!Re.isMergedPreserve(Sn)&&(!Gt||Un.length>1)){var _e=Gt?void 0:Re.getInitialValue(Se);if(Se.length&&Re.getFieldValue(Se)!==_e&&Re.fieldEntities.every(function(Ve){return!Oe(Ve.getNamePath(),Se)})){var We=Re.store;Re.updateStore((0,tr.Z)(We,Se,_e,!0)),Re.notifyObservers(We,[Se],{type:"remove"}),Re.triggerDependenciesUpdate(We,Se)}}Re.notifyWatch([Se])}}),(0,ge.Z)(this,"dispatch",function(Fe){switch(Fe.type){case"updateValue":{var Se=Fe.namePath,wt=Fe.value;Re.updateValue(Se,wt);break}case"validateField":{var Gt=Fe.namePath,Sn=Fe.triggerName;Re.validateFields([Gt],{triggerName:Sn});break}default:}}),(0,ge.Z)(this,"notifyObservers",function(Fe,Se,wt){if(Re.subscribable){var Gt=(0,F.Z)((0,F.Z)({},wt),{},{store:Re.getFieldsValue(!0)});Re.getFieldEntities().forEach(function(Sn){var Un=Sn.onStoreChange;Un(Fe,Se,Gt)})}else Re.forceRootUpdate()}),(0,ge.Z)(this,"triggerDependenciesUpdate",function(Fe,Se){var wt=Re.getDependencyChildrenFields(Se);return wt.length&&Re.validateFields(wt),Re.notifyObservers(Fe,wt,{type:"dependenciesUpdate",relatedFields:[Se].concat((0,H.Z)(wt))}),wt}),(0,ge.Z)(this,"updateValue",function(Fe,Se){var wt=je(Fe),Gt=Re.store;Re.updateStore((0,tr.Z)(Re.store,wt,Se)),Re.notifyObservers(Gt,[wt],{type:"valueUpdate",source:"internal"}),Re.notifyWatch([wt]);var Sn=Re.triggerDependenciesUpdate(Gt,wt),Un=Re.callbacks.onValuesChange;if(Un){var _e=me(Re.store,[wt]);Un(_e,Re.getFieldsValue())}Re.triggerOnFieldsChange([wt].concat((0,H.Z)(Sn)))}),(0,ge.Z)(this,"setFieldsValue",function(Fe){Re.warningUnhooked();var Se=Re.store;if(Fe){var wt=(0,tr.T)(Re.store,Fe);Re.updateStore(wt)}Re.notifyObservers(Se,null,{type:"valueUpdate",source:"external"}),Re.notifyWatch()}),(0,ge.Z)(this,"setFieldValue",function(Fe,Se){Re.setFields([{name:Fe,value:Se}])}),(0,ge.Z)(this,"getDependencyChildrenFields",function(Fe){var Se=new Set,wt=[],Gt=new pn;Re.getFieldEntities().forEach(function(Un){var _e=Un.props.dependencies;(_e||[]).forEach(function(We){var Ve=je(We);Gt.update(Ve,function(){var Dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return Dt.add(Un),Dt})})});var Sn=function Un(_e){var We=Gt.get(_e)||new Set;We.forEach(function(Ve){if(!Se.has(Ve)){Se.add(Ve);var Dt=Ve.getNamePath();Ve.isFieldDirty()&&Dt.length&&(wt.push(Dt),Un(Dt))}})};return Sn(Fe),wt}),(0,ge.Z)(this,"triggerOnFieldsChange",function(Fe,Se){var wt=Re.callbacks.onFieldsChange;if(wt){var Gt=Re.getFields();if(Se){var Sn=new pn;Se.forEach(function(_e){var We=_e.name,Ve=_e.errors;Sn.set(We,Ve)}),Gt.forEach(function(_e){_e.errors=Sn.get(_e.name)||_e.errors})}var Un=Gt.filter(function(_e){var We=_e.name;return ze(Fe,We)});Un.length&&wt(Un,Gt)}}),(0,ge.Z)(this,"validateFields",function(Fe,Se){var wt;Re.warningUnhooked();var Gt,Sn;Array.isArray(Fe)||typeof Fe=="string"||typeof Se=="string"?(Gt=Fe,Sn=Se):Sn=Fe;var Un=!!Gt,_e=Un?Gt.map(je):[],We=[],Ve=String(Date.now()),Dt=new Set,An=(wt=Sn)===null||wt===void 0?void 0:wt.recursive;Re.getFieldEntities(!0).forEach(function(zt){if(Un||_e.push(zt.getNamePath()),!(!zt.props.rules||!zt.props.rules.length)){var Xn=zt.getNamePath();if(Dt.add(Xn.join(Ve)),!Un||ze(_e,Xn,An)){var cr=zt.validateRules((0,F.Z)({validateMessages:(0,F.Z)((0,F.Z)({},si),Re.validateMessages)},Sn));We.push(cr.then(function(){return{name:Xn,errors:[],warnings:[]}}).catch(function(ii){var ui,Mr=[],jr=[];return(ui=ii.forEach)===null||ui===void 0||ui.call(ii,function(eo){var yi=eo.rule.warningOnly,ci=eo.errors;yi?jr.push.apply(jr,(0,H.Z)(ci)):Mr.push.apply(Mr,(0,H.Z)(ci))}),Mr.length?Promise.reject({name:Xn,errors:Mr,warnings:jr}):{name:Xn,errors:Mr,warnings:jr}}))}}});var on=nt(We);Re.lastValidatePromise=on,on.catch(function(zt){return zt}).then(function(zt){var Xn=zt.map(function(cr){var ii=cr.name;return ii});Re.notifyObservers(Re.store,Xn,{type:"validateFinish"}),Re.triggerOnFieldsChange(Xn,zt)});var et=on.then(function(){return Re.lastValidatePromise===on?Promise.resolve(Re.getFieldsValue(_e)):Promise.reject([])}).catch(function(zt){var Xn=zt.filter(function(cr){return cr&&cr.errors.length});return Promise.reject({values:Re.getFieldsValue(_e),errorFields:Xn,outOfDate:Re.lastValidatePromise!==on})});et.catch(function(zt){return zt});var Tn=_e.filter(function(zt){return Dt.has(zt.join(Ve))});return Re.triggerOnFieldsChange(Tn),et}),(0,ge.Z)(this,"submit",function(){Re.warningUnhooked(),Re.validateFields().then(function(Fe){var Se=Re.callbacks.onFinish;if(Se)try{Se(Fe)}catch(wt){console.error(wt)}}).catch(function(Fe){var Se=Re.callbacks.onFinishFailed;Se&&Se(Fe)})}),this.forceRootUpdate=Be});function In(At){var Be=B.useRef(),Re=B.useState({}),Fe=(0,ct.Z)(Re,2),Se=Fe[1];if(!Be.current)if(At)Be.current=At;else{var wt=function(){Se({})},Gt=new Bt(wt);Be.current=Gt.getForm()}return[Be.current]}var Zn=In,sr=B.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),ni=function(Be){var Re=Be.validateMessages,Fe=Be.onFormChange,Se=Be.onFormFinish,wt=Be.children,Gt=B.useContext(sr),Sn=B.useRef({});return B.createElement(sr.Provider,{value:(0,F.Z)((0,F.Z)({},Gt),{},{validateMessages:(0,F.Z)((0,F.Z)({},Gt.validateMessages),Re),triggerFormChange:function(_e,We){Fe&&Fe(_e,{changedFields:We,forms:Sn.current}),Gt.triggerFormChange(_e,We)},triggerFormFinish:function(_e,We){Se&&Se(_e,{values:We,forms:Sn.current}),Gt.triggerFormFinish(_e,We)},registerForm:function(_e,We){_e&&(Sn.current=(0,F.Z)((0,F.Z)({},Sn.current),{},(0,ge.Z)({},_e,We))),Gt.registerForm(_e,We)},unregisterForm:function(_e){var We=(0,F.Z)({},Sn.current);delete We[_e],Sn.current=We,Gt.unregisterForm(_e)}})},wt)},mi=sr,Rr=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],ai=function(Be,Re){var Fe=Be.name,Se=Be.initialValues,wt=Be.fields,Gt=Be.form,Sn=Be.preserve,Un=Be.children,_e=Be.component,We=_e===void 0?"form":_e,Ve=Be.validateMessages,Dt=Be.validateTrigger,An=Dt===void 0?"onChange":Dt,on=Be.onValuesChange,et=Be.onFieldsChange,Tn=Be.onFinish,zt=Be.onFinishFailed,Xn=(0,j.Z)(Be,Rr),cr=B.useContext(mi),ii=Zn(Gt),ui=(0,ct.Z)(ii,1),Mr=ui[0],jr=Mr.getInternalHooks(Ae),eo=jr.useSubscribe,yi=jr.setInitialValues,ci=jr.setCallbacks,Si=jr.setValidateMessages,Li=jr.setPreserve,to=jr.destroyForm;B.useImperativeHandle(Re,function(){return Mr}),B.useEffect(function(){return cr.registerForm(Fe,Mr),function(){cr.unregisterForm(Fe)}},[cr,Mr,Fe]),Si((0,F.Z)((0,F.Z)({},cr.validateMessages),Ve)),ci({onValuesChange:on,onFieldsChange:function(os){if(cr.triggerFormChange(Fe,os),et){for(var _=arguments.length,K=new Array(_>1?_-1:0),he=1;he<_;he++)K[he-1]=arguments[he];et.apply(void 0,[os].concat(K))}},onFinish:function(os){cr.triggerFormFinish(Fe,os),Tn&&Tn(os)},onFinishFailed:zt}),Li(Sn);var Kr=B.useRef(null);yi(Se,!Kr.current),Kr.current||(Kr.current=!0),B.useEffect(function(){return to},[]);var gs,Cs=typeof Un=="function";if(Cs){var es=Mr.getFieldsValue(!0);gs=Un(es,Mr)}else gs=Un;eo(!Cs);var cs=B.useRef();B.useEffect(function(){Y(cs.current||[],wt||[])||Mr.setFields(wt||[]),cs.current=wt},[wt,Mr]);var To=B.useMemo(function(){return(0,F.Z)((0,F.Z)({},Mr),{},{validateTrigger:An})},[Mr,An]),Do=B.createElement(vt.Provider,{value:null},B.createElement(at.Provider,{value:To},gs));return We===!1?Do:B.createElement(We,(0,M.Z)({},Xn,{onSubmit:function(os){os.preventDefault(),os.stopPropagation(),Mr.submit()},onReset:function(os){var _;os.preventDefault(),Mr.resetFields(),(_=Xn.onReset)===null||_===void 0||_.call(Xn,os)}}),Do)},li=ai;function wi(At){try{return JSON.stringify(At)}catch(Be){return Math.random()}}var Ct=function(){};function Zt(){for(var At=arguments.length,Be=new Array(At),Re=0;Re<At;Re++)Be[Re]=arguments[Re];var Fe=Be[0],Se=Fe===void 0?[]:Fe,wt=Be[1],Gt=wt===void 0?{}:wt,Sn=U(Gt)?{form:Gt}:Gt,Un=Sn.form,_e=(0,B.useState)(),We=(0,ct.Z)(_e,2),Ve=We[0],Dt=We[1],An=(0,B.useMemo)(function(){return wi(Ve)},[Ve]),on=(0,B.useRef)(An);on.current=An;var et=(0,B.useContext)(at),Tn=Un||et,zt=Tn&&Tn._init,Xn=je(Se),cr=(0,B.useRef)(Xn);return cr.current=Xn,Ct(Xn),(0,B.useEffect)(function(){if(zt){var ii=Tn.getFieldsValue,ui=Tn.getInternalHooks,Mr=ui(Ae),jr=Mr.registerWatch,eo=jr(function(ci,Si){var Li=(0,Xe.Z)(Sn.preserve?Si:ci,cr.current),to=wi(Li);on.current!==to&&(on.current=to,Dt(Li))}),yi=(0,Xe.Z)(Sn.preserve?ii(!0):ii(),cr.current);return Ve!==yi&&Dt(yi),eo}},[zt]),Ve}var Pr=Zt,Gn=B.forwardRef(li),vr=Gn;vr.FormProvider=ni,vr.Field=pe,vr.List=ht,vr.useForm=Zn,vr.useWatch=Pr;var $r=vr},97868:function(Ne,te,w){"use strict";w.d(te,{iz:function(){return Ee},ck:function(){return Tt},BW:function(){return pe},sN:function(){return Tt},GP:function(){return pe},Wd:function(){return Y},ZP:function(){return ct},Xl:function(){return vn}});var B=w(87462),M=w(4942),j=w(1413),R=w(74902),k=w(97685),F=w(45987),H=w(93967),I=w.n(H),ee=w(39983),ae=w(21770),ue=w(80334),re=w(67294),ge=w(73935),Ze=w(91881),fe=re.createContext(null);function Ce(nt,Rt){return nt===void 0?null:"".concat(nt,"-").concat(Rt)}function Ae(nt){var Rt=re.useContext(fe);return Ce(Rt,nt)}var Pe=w(56982),ie=["children","locked"],at=re.createContext(null);function mt(nt,Rt){var kt=(0,j.Z)({},nt);return Object.keys(Rt).forEach(function(bn){var pn=Rt[bn];pn!==void 0&&(kt[bn]=pn)}),kt}function vt(nt){var Rt=nt.children,kt=nt.locked,bn=(0,F.Z)(nt,ie),pn=re.useContext(at),Lt=(0,Pe.Z)(function(){return mt(pn,bn)},[pn,bn],function(Bt,In){return!kt&&(Bt[0]!==In[0]||!(0,Ze.Z)(Bt[1],In[1],!0))});return re.createElement(at.Provider,{value:Lt},Rt)}var Vt=[],U=re.createContext(null);function tt(){return re.useContext(U)}var ut=re.createContext(Vt);function vn(nt){var Rt=re.useContext(ut);return re.useMemo(function(){return nt!==void 0?[].concat((0,R.Z)(Rt),[nt]):Rt},[Rt,nt])}var ft=re.createContext(null),Ye=re.createContext({}),Cn=Ye,cn=w(15105),mr=w(75164),pr=w(88603),hr=cn.Z.LEFT,Mt=cn.Z.RIGHT,yt=cn.Z.UP,Et=cn.Z.DOWN,$e=cn.Z.ENTER,$t=cn.Z.ESC,Jt=cn.Z.HOME,tn=cn.Z.END,ir=[yt,Et,hr,Mt];function Or(nt,Rt,kt,bn){var pn,Lt,Bt,In,Zn="prev",sr="next",ni="children",mi="parent";if(nt==="inline"&&bn===$e)return{inlineTrigger:!0};var Rr=(pn={},(0,M.Z)(pn,yt,Zn),(0,M.Z)(pn,Et,sr),pn),ai=(Lt={},(0,M.Z)(Lt,hr,kt?sr:Zn),(0,M.Z)(Lt,Mt,kt?Zn:sr),(0,M.Z)(Lt,Et,ni),(0,M.Z)(Lt,$e,ni),Lt),li=(Bt={},(0,M.Z)(Bt,yt,Zn),(0,M.Z)(Bt,Et,sr),(0,M.Z)(Bt,$e,ni),(0,M.Z)(Bt,$t,mi),(0,M.Z)(Bt,hr,kt?ni:mi),(0,M.Z)(Bt,Mt,kt?mi:ni),Bt),wi={inline:Rr,horizontal:ai,vertical:li,inlineSub:Rr,horizontalSub:li,verticalSub:li},Ct=(In=wi["".concat(nt).concat(Rt?"":"Sub")])===null||In===void 0?void 0:In[bn];switch(Ct){case Zn:return{offset:-1,sibling:!0};case sr:return{offset:1,sibling:!0};case mi:return{offset:-1,sibling:!1};case ni:return{offset:1,sibling:!1};default:return null}}function Fr(nt){for(var Rt=nt;Rt;){if(Rt.getAttribute("data-menu-list"))return Rt;Rt=Rt.parentElement}return null}function lr(nt,Rt){for(var kt=nt||document.activeElement;kt;){if(Rt.has(kt))return kt;kt=kt.parentElement}return null}function Yr(nt,Rt){var kt=(0,pr.tS)(nt,!0);return kt.filter(function(bn){return Rt.has(bn)})}function jn(nt,Rt,kt){var bn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!nt)return null;var pn=Yr(nt,Rt),Lt=pn.length,Bt=pn.findIndex(function(In){return kt===In});return bn<0?Bt===-1?Bt=Lt-1:Bt-=1:bn>0&&(Bt+=1),Bt=(Bt+Lt)%Lt,pn[Bt]}function dr(nt,Rt,kt,bn,pn,Lt,Bt,In,Zn,sr){var ni=re.useRef(),mi=re.useRef();mi.current=Rt;var Rr=function(){mr.Z.cancel(ni.current)};return re.useEffect(function(){return function(){Rr()}},[]),function(ai){var li=ai.which;if([].concat(ir,[$e,$t,Jt,tn]).includes(li)){var wi,Ct,Zt,Pr=function(){wi=new Set,Ct=new Map,Zt=new Map;var _e=Lt();return _e.forEach(function(We){var Ve=document.querySelector("[data-menu-id='".concat(Ce(bn,We),"']"));Ve&&(wi.add(Ve),Zt.set(Ve,We),Ct.set(We,Ve))}),wi};Pr();var Gn=Ct.get(Rt),vr=lr(Gn,wi),$r=Zt.get(vr),At=Or(nt,Bt($r,!0).length===1,kt,li);if(!At&&li!==Jt&&li!==tn)return;(ir.includes(li)||[Jt,tn].includes(li))&&ai.preventDefault();var Be=function(_e){if(_e){var We=_e,Ve=_e.querySelector("a");Ve!=null&&Ve.getAttribute("href")&&(We=Ve);var Dt=Zt.get(_e);In(Dt),Rr(),ni.current=(0,mr.Z)(function(){mi.current===Dt&&We.focus()})}};if([Jt,tn].includes(li)||At.sibling||!vr){var Re;!vr||nt==="inline"?Re=pn.current:Re=Fr(vr);var Fe,Se=Yr(Re,wi);li===Jt?Fe=Se[0]:li===tn?Fe=Se[Se.length-1]:Fe=jn(Re,wi,vr,At.offset),Be(Fe)}else if(At.inlineTrigger)Zn($r);else if(At.offset>0)Zn($r,!0),Rr(),ni.current=(0,mr.Z)(function(){Pr();var Un=vr.getAttribute("aria-controls"),_e=document.getElementById(Un),We=jn(_e,wi);Be(We)},5);else if(At.offset<0){var wt=Bt($r,!0),Gt=wt[wt.length-2],Sn=Ct.get(Gt);Zn(Gt,!1),Be(Sn)}}sr==null||sr(ai)}}function br(nt){Promise.resolve().then(nt)}var nr="__RC_UTIL_PATH_SPLIT__",Lr=function(Rt){return Rt.join(nr)},Ji=function(Rt){return Rt.split(nr)},Ci="rc-menu-more";function $i(){var nt=re.useState({}),Rt=(0,k.Z)(nt,2),kt=Rt[1],bn=(0,re.useRef)(new Map),pn=(0,re.useRef)(new Map),Lt=re.useState([]),Bt=(0,k.Z)(Lt,2),In=Bt[0],Zn=Bt[1],sr=(0,re.useRef)(0),ni=(0,re.useRef)(!1),mi=function(){ni.current||kt({})},Rr=(0,re.useCallback)(function(Gn,vr){var $r=Lr(vr);pn.current.set($r,Gn),bn.current.set(Gn,$r),sr.current+=1;var At=sr.current;br(function(){At===sr.current&&mi()})},[]),ai=(0,re.useCallback)(function(Gn,vr){var $r=Lr(vr);pn.current.delete($r),bn.current.delete(Gn)},[]),li=(0,re.useCallback)(function(Gn){Zn(Gn)},[]),wi=(0,re.useCallback)(function(Gn,vr){var $r=bn.current.get(Gn)||"",At=Ji($r);return vr&&In.includes(At[0])&&At.unshift(Ci),At},[In]),Ct=(0,re.useCallback)(function(Gn,vr){return Gn.some(function($r){var At=wi($r,!0);return At.includes(vr)})},[wi]),Zt=function(){var vr=(0,R.Z)(bn.current.keys());return In.length&&vr.push(Ci),vr},Pr=(0,re.useCallback)(function(Gn){var vr="".concat(bn.current.get(Gn)).concat(nr),$r=new Set;return(0,R.Z)(pn.current.keys()).forEach(function(At){At.startsWith(vr)&&$r.add(pn.current.get(At))}),$r},[]);return re.useEffect(function(){return function(){ni.current=!0}},[]),{registerPath:Rr,unregisterPath:ai,refreshOverflowKeys:li,isSubPathKey:Ct,getKeyPath:wi,getKeys:Zt,getSubPathKeys:Pr}}function It(nt){var Rt=re.useRef(nt);Rt.current=nt;var kt=re.useCallback(function(){for(var bn,pn=arguments.length,Lt=new Array(pn),Bt=0;Bt<pn;Bt++)Lt[Bt]=arguments[Bt];return(bn=Rt.current)===null||bn===void 0?void 0:bn.call.apply(bn,[Rt].concat(Lt))},[]);return nt?kt:void 0}var Q=Math.random().toFixed(5).toString().slice(2),we=0;function Nt(nt){var Rt=(0,ae.Z)(nt,{value:nt}),kt=(0,k.Z)(Rt,2),bn=kt[0],pn=kt[1];return re.useEffect(function(){we+=1;var Lt="".concat(Q,"-").concat(we);pn("rc-menu-uuid-".concat(Lt))},[]),bn}var jt=w(15671),gt=w(43144),Je=w(32531),pt=w(29388),rt=w(98423),qt=w(42550);function Dn(nt,Rt,kt,bn){var pn=re.useContext(at),Lt=pn.activeKey,Bt=pn.onActive,In=pn.onInactive,Zn={active:Lt===nt};return Rt||(Zn.onMouseEnter=function(sr){kt==null||kt({key:nt,domEvent:sr}),Bt(nt)},Zn.onMouseLeave=function(sr){bn==null||bn({key:nt,domEvent:sr}),In(nt)}),Zn}function _n(nt){var Rt=re.useContext(at),kt=Rt.mode,bn=Rt.rtl,pn=Rt.inlineIndent;if(kt!=="inline")return null;var Lt=nt;return bn?{paddingRight:Lt*pn}:{paddingLeft:Lt*pn}}function Wr(nt){var Rt=nt.icon,kt=nt.props,bn=nt.children,pn;return typeof Rt=="function"?pn=re.createElement(Rt,(0,j.Z)({},kt)):pn=Rt,pn||bn||null}var Qn=["item"];function it(nt){var Rt=nt.item,kt=(0,F.Z)(nt,Qn);return Object.defineProperty(kt,"item",{get:function(){return(0,ue.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),Rt}}),kt}var mn=["title","attribute","elementRef"],kn=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],gr=["active"],kr=function(nt){(0,Je.Z)(kt,nt);var Rt=(0,pt.Z)(kt);function kt(){return(0,jt.Z)(this,kt),Rt.apply(this,arguments)}return(0,gt.Z)(kt,[{key:"render",value:function(){var pn=this.props,Lt=pn.title,Bt=pn.attribute,In=pn.elementRef,Zn=(0,F.Z)(pn,mn),sr=(0,rt.Z)(Zn,["eventKey","popupClassName","popupOffset","onTitleClick"]);return(0,ue.ZP)(!Bt,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),re.createElement(ee.Z.Item,(0,B.Z)({},Bt,{title:typeof Lt=="string"?Lt:void 0},sr,{ref:In}))}}]),kt}(re.Component),Ei=re.forwardRef(function(nt,Rt){var kt,bn=nt.style,pn=nt.className,Lt=nt.eventKey,Bt=nt.warnKey,In=nt.disabled,Zn=nt.itemIcon,sr=nt.children,ni=nt.role,mi=nt.onMouseEnter,Rr=nt.onMouseLeave,ai=nt.onClick,li=nt.onKeyDown,wi=nt.onFocus,Ct=(0,F.Z)(nt,kn),Zt=Ae(Lt),Pr=re.useContext(at),Gn=Pr.prefixCls,vr=Pr.onItemClick,$r=Pr.disabled,At=Pr.overflowDisabled,Be=Pr.itemIcon,Re=Pr.selectedKeys,Fe=Pr.onActive,Se=re.useContext(Cn),wt=Se._internalRenderMenuItem,Gt="".concat(Gn,"-item"),Sn=re.useRef(),Un=re.useRef(),_e=$r||In,We=(0,qt.x1)(Rt,Un),Ve=vn(Lt),Dt=function(yi){return{key:Lt,keyPath:(0,R.Z)(Ve).reverse(),item:Sn.current,domEvent:yi}},An=Zn||Be,on=Dn(Lt,_e,mi,Rr),et=on.active,Tn=(0,F.Z)(on,gr),zt=Re.includes(Lt),Xn=_n(Ve.length),cr=function(yi){if(!_e){var ci=Dt(yi);ai==null||ai(it(ci)),vr(ci)}},ii=function(yi){if(li==null||li(yi),yi.which===cn.Z.ENTER){var ci=Dt(yi);ai==null||ai(it(ci)),vr(ci)}},ui=function(yi){Fe(Lt),wi==null||wi(yi)},Mr={};nt.role==="option"&&(Mr["aria-selected"]=zt);var jr=re.createElement(kr,(0,B.Z)({ref:Sn,elementRef:We,role:ni===null?"none":ni||"menuitem",tabIndex:In?null:-1,"data-menu-id":At&&Zt?null:Zt},Ct,Tn,Mr,{component:"li","aria-disabled":In,style:(0,j.Z)((0,j.Z)({},Xn),bn),className:I()(Gt,(kt={},(0,M.Z)(kt,"".concat(Gt,"-active"),et),(0,M.Z)(kt,"".concat(Gt,"-selected"),zt),(0,M.Z)(kt,"".concat(Gt,"-disabled"),_e),kt),pn),onClick:cr,onKeyDown:ii,onFocus:ui}),sr,re.createElement(Wr,{props:(0,j.Z)((0,j.Z)({},nt),{},{isSelected:zt}),icon:An}));return wt&&(jr=wt(jr,nt,{selected:zt})),jr});function er(nt,Rt){var kt=nt.eventKey,bn=tt(),pn=vn(kt);return re.useEffect(function(){if(bn)return bn.registerPath(kt,pn),function(){bn.unregisterPath(kt,pn)}},[pn]),bn?null:re.createElement(Ei,(0,B.Z)({},nt,{ref:Rt}))}var Tt=re.forwardRef(er),sn=["className","children"],_t=function(Rt,kt){var bn=Rt.className,pn=Rt.children,Lt=(0,F.Z)(Rt,sn),Bt=re.useContext(at),In=Bt.prefixCls,Zn=Bt.mode,sr=Bt.rtl;return re.createElement("ul",(0,B.Z)({className:I()(In,sr&&"".concat(In,"-rtl"),"".concat(In,"-sub"),"".concat(In,"-").concat(Zn==="inline"?"inline":"vertical"),bn),role:"menu"},Lt,{"data-menu-list":!0,ref:kt}),pn)},Ut=re.forwardRef(_t);Ut.displayName="SubMenuList";var Rn=Ut,Cr=w(71002),si=w(50344),tr=["label","children","key","type"];function xn(nt,Rt){return(0,si.Z)(nt).map(function(kt,bn){if(re.isValidElement(kt)){var pn,Lt,Bt=kt.key,In=(pn=(Lt=kt.props)===null||Lt===void 0?void 0:Lt.eventKey)!==null&&pn!==void 0?pn:Bt,Zn=In==null;Zn&&(In="tmp_key-".concat([].concat((0,R.Z)(Rt),[bn]).join("-")));var sr={key:In,eventKey:In};return re.cloneElement(kt,sr)}return kt})}function Hn(nt){return(nt||[]).map(function(Rt,kt){if(Rt&&(0,Cr.Z)(Rt)==="object"){var bn=Rt,pn=bn.label,Lt=bn.children,Bt=bn.key,In=bn.type,Zn=(0,F.Z)(bn,tr),sr=Bt!=null?Bt:"tmp-".concat(kt);return Lt||In==="group"?In==="group"?re.createElement(pe,(0,B.Z)({key:sr},Zn,{title:pn}),Hn(Lt)):re.createElement(Y,(0,B.Z)({key:sr},Zn,{title:pn}),Hn(Lt)):In==="divider"?re.createElement(Ee,(0,B.Z)({key:sr},Zn)):re.createElement(Tt,(0,B.Z)({key:sr},Zn),pn)}return null}).filter(function(Rt){return Rt})}function Kn(nt,Rt,kt){var bn=nt;return Rt&&(bn=Hn(Rt)),xn(bn,kt)}var yn=w(11276),Sr={adjustX:1,adjustY:1},yr={topLeft:{points:["bl","tl"],overflow:Sr,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Sr,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Sr,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Sr,offset:[4,0]}},Tr={topLeft:{points:["bl","tl"],overflow:Sr,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Sr,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Sr,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Sr,offset:[4,0]}},rn=null;function hn(nt,Rt,kt){if(Rt)return Rt;if(kt)return kt[nt]||kt.other}var or={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Ke(nt){var Rt=nt.prefixCls,kt=nt.visible,bn=nt.children,pn=nt.popup,Lt=nt.popupClassName,Bt=nt.popupOffset,In=nt.disabled,Zn=nt.mode,sr=nt.onVisibleChange,ni=re.useContext(at),mi=ni.getPopupContainer,Rr=ni.rtl,ai=ni.subMenuOpenDelay,li=ni.subMenuCloseDelay,wi=ni.builtinPlacements,Ct=ni.triggerSubMenuAction,Zt=ni.forceSubMenuRender,Pr=ni.rootClassName,Gn=ni.motion,vr=ni.defaultMotions,$r=re.useState(!1),At=(0,k.Z)($r,2),Be=At[0],Re=At[1],Fe=Rr?(0,j.Z)((0,j.Z)({},Tr),wi):(0,j.Z)((0,j.Z)({},yr),wi),Se=or[Zn],wt=hn(Zn,Gn,vr),Gt=re.useRef(wt);Zn!=="inline"&&(Gt.current=wt);var Sn=(0,j.Z)((0,j.Z)({},Gt.current),{},{leavedClassName:"".concat(Rt,"-hidden"),removeOnLeave:!1,motionAppear:!0}),Un=re.useRef();return re.useEffect(function(){return Un.current=(0,mr.Z)(function(){Re(kt)}),function(){mr.Z.cancel(Un.current)}},[kt]),re.createElement(yn.Z,{prefixCls:Rt,popupClassName:I()("".concat(Rt,"-popup"),(0,M.Z)({},"".concat(Rt,"-rtl"),Rr),Lt,Pr),stretch:Zn==="horizontal"?"minWidth":null,getPopupContainer:mi,builtinPlacements:Fe,popupPlacement:Se,popupVisible:Be,popup:pn,popupAlign:Bt&&{offset:Bt},action:In?[]:[Ct],mouseEnterDelay:ai,mouseLeaveDelay:li,onPopupVisibleChange:sr,forceRender:Zt,popupMotion:Sn},bn)}var Xe=w(29372);function je(nt){var Rt=nt.id,kt=nt.open,bn=nt.keyPath,pn=nt.children,Lt="inline",Bt=re.useContext(at),In=Bt.prefixCls,Zn=Bt.forceSubMenuRender,sr=Bt.motion,ni=Bt.defaultMotions,mi=Bt.mode,Rr=re.useRef(!1);Rr.current=mi===Lt;var ai=re.useState(!Rr.current),li=(0,k.Z)(ai,2),wi=li[0],Ct=li[1],Zt=Rr.current?kt:!1;re.useEffect(function(){Rr.current&&Ct(!1)},[mi]);var Pr=(0,j.Z)({},hn(Lt,sr,ni));bn.length>1&&(Pr.motionAppear=!1);var Gn=Pr.onVisibleChanged;return Pr.onVisibleChanged=function(vr){return!Rr.current&&!vr&&Ct(!0),Gn==null?void 0:Gn(vr)},wi?null:re.createElement(vt,{mode:Lt,locked:!Rr.current},re.createElement(Xe.ZP,(0,B.Z)({visible:Zt},Pr,{forceRender:Zn,removeOnLeave:!1,leavedClassName:"".concat(In,"-hidden")}),function(vr){var $r=vr.className,At=vr.style;return re.createElement(Rn,{id:Rt,className:$r,style:At},pn)}))}var me=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],ze=["active"],Oe=function(Rt){var kt,bn=Rt.style,pn=Rt.className,Lt=Rt.title,Bt=Rt.eventKey,In=Rt.warnKey,Zn=Rt.disabled,sr=Rt.internalPopupClose,ni=Rt.children,mi=Rt.itemIcon,Rr=Rt.expandIcon,ai=Rt.popupClassName,li=Rt.popupOffset,wi=Rt.onClick,Ct=Rt.onMouseEnter,Zt=Rt.onMouseLeave,Pr=Rt.onTitleClick,Gn=Rt.onTitleMouseEnter,vr=Rt.onTitleMouseLeave,$r=(0,F.Z)(Rt,me),At=Ae(Bt),Be=re.useContext(at),Re=Be.prefixCls,Fe=Be.mode,Se=Be.openKeys,wt=Be.disabled,Gt=Be.overflowDisabled,Sn=Be.activeKey,Un=Be.selectedKeys,_e=Be.itemIcon,We=Be.expandIcon,Ve=Be.onItemClick,Dt=Be.onOpenChange,An=Be.onActive,on=re.useContext(Cn),et=on._internalRenderSubMenuItem,Tn=re.useContext(ft),zt=Tn.isSubPathKey,Xn=vn(),cr="".concat(Re,"-submenu"),ii=wt||Zn,ui=re.useRef(),Mr=re.useRef(),jr=mi||_e,eo=Rr||We,yi=Se.includes(Bt),ci=!Gt&&yi,Si=zt(Un,Bt),Li=Dn(Bt,ii,Gn,vr),to=Li.active,Kr=(0,F.Z)(Li,ze),gs=re.useState(!1),Cs=(0,k.Z)(gs,2),es=Cs[0],cs=Cs[1],To=function(Gr){ii||cs(Gr)},Do=function(Gr){To(!0),Ct==null||Ct({key:Bt,domEvent:Gr})},Ko=function(Gr){To(!1),Zt==null||Zt({key:Bt,domEvent:Gr})},os=re.useMemo(function(){return to||(Fe!=="inline"?es||zt([Sn],Bt):!1)},[Fe,to,Sn,es,Bt,zt]),_=_n(Xn.length),K=function(Gr){ii||(Pr==null||Pr({key:Bt,domEvent:Gr}),Fe==="inline"&&Dt(Bt,!yi))},he=It(function(zr){wi==null||wi(it(zr)),Ve(zr)}),ye=function(Gr){Fe!=="inline"&&Dt(Bt,Gr)},Ue=function(){An(Bt)},He=At&&"".concat(At,"-popup"),dt=re.createElement("div",(0,B.Z)({role:"menuitem",style:_,className:"".concat(cr,"-title"),tabIndex:ii?null:-1,ref:ui,title:typeof Lt=="string"?Lt:null,"data-menu-id":Gt&&At?null:At,"aria-expanded":ci,"aria-haspopup":!0,"aria-controls":He,"aria-disabled":ii,onClick:K,onFocus:Ue},Kr),Lt,re.createElement(Wr,{icon:Fe!=="horizontal"?eo:null,props:(0,j.Z)((0,j.Z)({},Rt),{},{isOpen:ci,isSubMenu:!0})},re.createElement("i",{className:"".concat(cr,"-arrow")}))),wn=re.useRef(Fe);if(Fe!=="inline"&&Xn.length>1?wn.current="vertical":wn.current=Fe,!Gt){var gn=wn.current;dt=re.createElement(Ke,{mode:gn,prefixCls:cr,visible:!sr&&ci&&Fe!=="inline",popupClassName:ai,popupOffset:li,popup:re.createElement(vt,{mode:gn==="horizontal"?"vertical":gn},re.createElement(Rn,{id:He,ref:Mr},ni)),disabled:ii,onVisibleChange:ye},dt)}var Pn=re.createElement(ee.Z.Item,(0,B.Z)({role:"none"},$r,{component:"li",style:bn,className:I()(cr,"".concat(cr,"-").concat(Fe),pn,(kt={},(0,M.Z)(kt,"".concat(cr,"-open"),ci),(0,M.Z)(kt,"".concat(cr,"-active"),os),(0,M.Z)(kt,"".concat(cr,"-selected"),Si),(0,M.Z)(kt,"".concat(cr,"-disabled"),ii),kt)),onMouseEnter:Do,onMouseLeave:Ko}),dt,!Gt&&re.createElement(je,{id:He,open:ci,keyPath:Xn},ni));return et&&(Pn=et(Pn,Rt,{selected:Si,active:os,open:ci,disabled:ii})),re.createElement(vt,{onItemClick:he,mode:Fe==="horizontal"?"vertical":Fe,itemIcon:jr,expandIcon:eo},Pn)};function Y(nt){var Rt=nt.eventKey,kt=nt.children,bn=vn(Rt),pn=xn(kt,bn),Lt=tt();re.useEffect(function(){if(Lt)return Lt.registerPath(Rt,bn),function(){Lt.unregisterPath(Rt,bn)}},[bn]);var Bt;return Lt?Bt=pn:Bt=re.createElement(Oe,nt,pn),re.createElement(ut.Provider,{value:bn},Bt)}var ne=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],W=[],S=re.forwardRef(function(nt,Rt){var kt,bn,pn=nt,Lt=pn.prefixCls,Bt=Lt===void 0?"rc-menu":Lt,In=pn.rootClassName,Zn=pn.style,sr=pn.className,ni=pn.tabIndex,mi=ni===void 0?0:ni,Rr=pn.items,ai=pn.children,li=pn.direction,wi=pn.id,Ct=pn.mode,Zt=Ct===void 0?"vertical":Ct,Pr=pn.inlineCollapsed,Gn=pn.disabled,vr=pn.disabledOverflow,$r=pn.subMenuOpenDelay,At=$r===void 0?.1:$r,Be=pn.subMenuCloseDelay,Re=Be===void 0?.1:Be,Fe=pn.forceSubMenuRender,Se=pn.defaultOpenKeys,wt=pn.openKeys,Gt=pn.activeKey,Sn=pn.defaultActiveFirst,Un=pn.selectable,_e=Un===void 0?!0:Un,We=pn.multiple,Ve=We===void 0?!1:We,Dt=pn.defaultSelectedKeys,An=pn.selectedKeys,on=pn.onSelect,et=pn.onDeselect,Tn=pn.inlineIndent,zt=Tn===void 0?24:Tn,Xn=pn.motion,cr=pn.defaultMotions,ii=pn.triggerSubMenuAction,ui=ii===void 0?"hover":ii,Mr=pn.builtinPlacements,jr=pn.itemIcon,eo=pn.expandIcon,yi=pn.overflowedIndicator,ci=yi===void 0?"...":yi,Si=pn.overflowedIndicatorPopupClassName,Li=pn.getPopupContainer,to=pn.onClick,Kr=pn.onOpenChange,gs=pn.onKeyDown,Cs=pn.openAnimation,es=pn.openTransitionName,cs=pn._internalRenderMenuItem,To=pn._internalRenderSubMenuItem,Do=(0,F.Z)(pn,ne),Ko=re.useMemo(function(){return Kn(ai,Rr,W)},[ai,Rr]),os=re.useState(!1),_=(0,k.Z)(os,2),K=_[0],he=_[1],ye=re.useRef(),Ue=Nt(wi),He=li==="rtl",dt=(0,ae.Z)(Se,{value:wt,postState:function(Ot){return Ot||W}}),wn=(0,k.Z)(dt,2),gn=wn[0],Pn=wn[1],zr=function(Ot){var On=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Yn(){Pn(Ot),Kr==null||Kr(Ot)}On?(0,ge.flushSync)(Yn):Yn()},Gr=re.useState(gn),Hr=(0,k.Z)(Gr,2),bi=Hr[0],Vo=Hr[1],Uo=re.useRef(!1),Zo=re.useMemo(function(){return(Zt==="inline"||Zt==="vertical")&&Pr?["vertical",Pr]:[Zt,!1]},[Zt,Pr]),Ns=(0,k.Z)(Zo,2),Ms=Ns[0],No=Ns[1],ws=Ms==="inline",Hi=re.useState(Ms),ms=(0,k.Z)(Hi,2),Pt=ms[0],ot=ms[1],Ft=re.useState(No),Qt=(0,k.Z)(Ft,2),Ht=Qt[0],$n=Qt[1];re.useEffect(function(){ot(Ms),$n(No),Uo.current&&(ws?Pn(bi):zr(W))},[Ms,No]);var Vn=re.useState(0),Er=(0,k.Z)(Vn,2),io=Er[0],Mi=Er[1],Ki=io>=Ko.length-1||Pt!=="horizontal"||vr;re.useEffect(function(){ws&&Vo(gn)},[gn]),re.useEffect(function(){return Uo.current=!0,function(){Uo.current=!1}},[]);var qi=$i(),Ri=qi.registerPath,Ts=qi.unregisterPath,rs=qi.refreshOverflowKeys,po=qi.isSubPathKey,xi=qi.getKeyPath,Ho=qi.getKeys,ls=qi.getSubPathKeys,Yo=re.useMemo(function(){return{registerPath:Ri,unregisterPath:Ts}},[Ri,Ts]),Hs=re.useMemo(function(){return{isSubPathKey:po}},[po]);re.useEffect(function(){rs(Ki?W:Ko.slice(io+1).map(function(Nr){return Nr.key}))},[io,Ki]);var Ol=(0,ae.Z)(Gt||Sn&&((kt=Ko[0])===null||kt===void 0?void 0:kt.key),{value:Gt}),xa=(0,k.Z)(Ol,2),Ca=xa[0],ra=xa[1],Aa=It(function(Nr){ra(Nr)}),Il=It(function(){ra(void 0)});(0,re.useImperativeHandle)(Rt,function(){return{list:ye.current,focus:function(Ot){var On,Yn=Ca!=null?Ca:(On=Ko.find(function(Ps){return!Ps.props.disabled}))===null||On===void 0?void 0:On.key;if(Yn){var di,Qi,ao;(di=ye.current)===null||di===void 0||(Qi=di.querySelector("li[data-menu-id='".concat(Ce(Ue,Yn),"']")))===null||Qi===void 0||(ao=Qi.focus)===null||ao===void 0||ao.call(Qi,Ot)}}}});var Ra=(0,ae.Z)(Dt||[],{value:An,postState:function(Ot){return Array.isArray(Ot)?Ot:Ot==null?W:[Ot]}}),Rl=(0,k.Z)(Ra,2),Ka=Rl[0],ol=Rl[1],Wl=function(Ot){if(_e){var On=Ot.key,Yn=Ka.includes(On),di;Ve?Yn?di=Ka.filter(function(ao){return ao!==On}):di=[].concat((0,R.Z)(Ka),[On]):di=[On],ol(di);var Qi=(0,j.Z)((0,j.Z)({},Ot),{},{selectedKeys:di});Yn?et==null||et(Qi):on==null||on(Qi)}!Ve&&gn.length&&Pt!=="inline"&&zr(W)},sl=It(function(Nr){to==null||to(it(Nr)),Wl(Nr)}),Ia=It(function(Nr,Ot){var On=gn.filter(function(di){return di!==Nr});if(Ot)On.push(Nr);else if(Pt!=="inline"){var Yn=ls(Nr);On=On.filter(function(di){return!Yn.has(di)})}(0,Ze.Z)(gn,On,!0)||zr(On,!0)}),pc=It(Li),al=function(Ot,On){var Yn=On!=null?On:!gn.includes(Ot);Ia(Ot,Yn)},kl=dr(Pt,Ca,He,Ue,ye,Ho,xi,ra,al,gs);re.useEffect(function(){he(!0)},[]);var Bc=re.useMemo(function(){return{_internalRenderMenuItem:cs,_internalRenderSubMenuItem:To}},[cs,To]),En=Pt!=="horizontal"||vr?Ko:Ko.map(function(Nr,Ot){return re.createElement(vt,{key:Nr.key,overflowDisabled:Ot>io},Nr)}),fr=re.createElement(ee.Z,(0,B.Z)({id:wi,ref:ye,prefixCls:"".concat(Bt,"-overflow"),component:"ul",itemComponent:Tt,className:I()(Bt,"".concat(Bt,"-root"),"".concat(Bt,"-").concat(Pt),sr,(bn={},(0,M.Z)(bn,"".concat(Bt,"-inline-collapsed"),Ht),(0,M.Z)(bn,"".concat(Bt,"-rtl"),He),bn),In),dir:li,style:Zn,role:"menu",tabIndex:mi,data:En,renderRawItem:function(Ot){return Ot},renderRawRest:function(Ot){var On=Ot.length,Yn=On?Ko.slice(-On):null;return re.createElement(Y,{eventKey:Ci,title:ci,disabled:Ki,internalPopupClose:On===0,popupClassName:Si},Yn)},maxCount:Pt!=="horizontal"||vr?ee.Z.INVALIDATE:ee.Z.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Ot){Mi(Ot)},onKeyDown:kl},Do));return re.createElement(Cn.Provider,{value:Bc},re.createElement(fe.Provider,{value:Ue},re.createElement(vt,{prefixCls:Bt,rootClassName:In,mode:Pt,openKeys:gn,rtl:He,disabled:Gn,motion:K?Xn:null,defaultMotions:K?cr:null,activeKey:Ca,onActive:Aa,onInactive:Il,selectedKeys:Ka,inlineIndent:zt,subMenuOpenDelay:At,subMenuCloseDelay:Re,forceSubMenuRender:Fe,builtinPlacements:Mr,triggerSubMenuAction:ui,getPopupContainer:pc,itemIcon:jr,expandIcon:eo,onItemClick:sl,onOpenChange:Ia},re.createElement(ft.Provider,{value:Hs},fr),re.createElement("div",{style:{display:"none"},"aria-hidden":!0},re.createElement(U.Provider,{value:Yo},Ko)))))}),A=S,L=["className","title","eventKey","children"],ce=["children"],ve=function(Rt){var kt=Rt.className,bn=Rt.title,pn=Rt.eventKey,Lt=Rt.children,Bt=(0,F.Z)(Rt,L),In=re.useContext(at),Zn=In.prefixCls,sr="".concat(Zn,"-item-group");return re.createElement("li",(0,B.Z)({role:"presentation"},Bt,{onClick:function(mi){return mi.stopPropagation()},className:I()(sr,kt)}),re.createElement("div",{role:"presentation",className:"".concat(sr,"-title"),title:typeof bn=="string"?bn:void 0},bn),re.createElement("ul",{role:"group",className:"".concat(sr,"-list")},Lt))};function pe(nt){var Rt=nt.children,kt=(0,F.Z)(nt,ce),bn=vn(kt.eventKey),pn=xn(Rt,bn),Lt=tt();return Lt?pn:re.createElement(ve,(0,rt.Z)(kt,["warnKey"]),pn)}function Ee(nt){var Rt=nt.className,kt=nt.style,bn=re.useContext(at),pn=bn.prefixCls,Lt=tt();return Lt?null:re.createElement("li",{className:I()("".concat(pn,"-item-divider"),Rt),style:kt})}var ht=A;ht.Item=Tt,ht.SubMenu=Y,ht.ItemGroup=pe,ht.Divider=Ee;var ct=ht},51784:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return ue}});var B=w(87462),M=w(4942),j=w(15671),R=w(43144),k=w(32531),F=w(29388),H=w(67294),I=w(73935),ee=w(93967),ae=w.n(ee),ue=function(re){(0,k.Z)(Ze,re);var ge=(0,F.Z)(Ze);function Ze(){var fe;(0,j.Z)(this,Ze);for(var Ce=arguments.length,Ae=new Array(Ce),Pe=0;Pe<Ce;Pe++)Ae[Pe]=arguments[Pe];return fe=ge.call.apply(ge,[this].concat(Ae)),fe.closeTimer=null,fe.close=function(ie){ie&&ie.stopPropagation(),fe.clearCloseTimer();var at=fe.props,mt=at.onClose,vt=at.noticeKey;mt&&mt(vt)},fe.startCloseTimer=function(){fe.props.duration&&(fe.closeTimer=window.setTimeout(function(){fe.close()},fe.props.duration*1e3))},fe.clearCloseTimer=function(){fe.closeTimer&&(clearTimeout(fe.closeTimer),fe.closeTimer=null)},fe}return(0,R.Z)(Ze,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(Ce){(this.props.duration!==Ce.duration||this.props.updateMark!==Ce.updateMark||this.props.visible!==Ce.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var Ce=this,Ae=this.props,Pe=Ae.prefixCls,ie=Ae.className,at=Ae.closable,mt=Ae.closeIcon,vt=Ae.style,Vt=Ae.onClick,U=Ae.children,tt=Ae.holder,ut="".concat(Pe,"-notice"),vn=Object.keys(this.props).reduce(function(Ye,Cn){return(Cn.substr(0,5)==="data-"||Cn.substr(0,5)==="aria-"||Cn==="role")&&(Ye[Cn]=Ce.props[Cn]),Ye},{}),ft=H.createElement("div",(0,B.Z)({className:ae()(ut,ie,(0,M.Z)({},"".concat(ut,"-closable"),at)),style:vt,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:Vt},vn),H.createElement("div",{className:"".concat(ut,"-content")},U),at?H.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(ut,"-close")},mt||H.createElement("span",{className:"".concat(ut,"-close-x")})):null);return tt?I.createPortal(ft,tt):ft}}]),Ze}(H.Component);ue.defaultProps={onClose:function(){},duration:1.5}},91127:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return mt}});var B=w(45987),M=w(87462),j=w(1413),R=w(15671),k=w(43144),F=w(32531),H=w(29388),I=w(67294),ee=w(38135),ae=w(93967),ue=w.n(ae),re=w(29372),ge=w(51784),Ze=w(51550),fe=["getContainer"],Ce=0,Ae=Date.now();function Pe(){var vt=Ce;return Ce+=1,"rcNotification_".concat(Ae,"_").concat(vt)}var ie=function(vt){(0,F.Z)(U,vt);var Vt=(0,H.Z)(U);function U(){var tt;(0,R.Z)(this,U);for(var ut=arguments.length,vn=new Array(ut),ft=0;ft<ut;ft++)vn[ft]=arguments[ft];return tt=Vt.call.apply(Vt,[this].concat(vn)),tt.state={notices:[]},tt.hookRefs=new Map,tt.add=function(Ye,Cn){var cn,mr=(cn=Ye.key)!==null&&cn!==void 0?cn:Pe(),pr=(0,j.Z)((0,j.Z)({},Ye),{},{key:mr}),hr=tt.props.maxCount;tt.setState(function(Mt){var yt=Mt.notices,Et=yt.map(function($t){return $t.notice.key}).indexOf(mr),$e=yt.concat();return Et!==-1?$e.splice(Et,1,{notice:pr,holderCallback:Cn}):(hr&&yt.length>=hr&&(pr.key=$e[0].notice.key,pr.updateMark=Pe(),pr.userPassKey=mr,$e.shift()),$e.push({notice:pr,holderCallback:Cn})),{notices:$e}})},tt.remove=function(Ye){tt.setState(function(Cn){var cn=Cn.notices;return{notices:cn.filter(function(mr){var pr=mr.notice,hr=pr.key,Mt=pr.userPassKey,yt=Mt!=null?Mt:hr;return yt!==Ye})}})},tt.noticePropsMap={},tt}return(0,k.Z)(U,[{key:"getTransitionName",value:function(){var ut=this.props,vn=ut.prefixCls,ft=ut.animation,Ye=this.props.transitionName;return!Ye&&ft&&(Ye="".concat(vn,"-").concat(ft)),Ye}},{key:"render",value:function(){var ut=this,vn=this.state.notices,ft=this.props,Ye=ft.prefixCls,Cn=ft.className,cn=ft.closeIcon,mr=ft.style,pr=[];return vn.forEach(function(hr,Mt){var yt=hr.notice,Et=hr.holderCallback,$e=Mt===vn.length-1?yt.updateMark:void 0,$t=yt.key,Jt=yt.userPassKey,tn=(0,j.Z)((0,j.Z)((0,j.Z)({prefixCls:Ye,closeIcon:cn},yt),yt.props),{},{key:$t,noticeKey:Jt||$t,updateMark:$e,onClose:function(Or){var Fr;ut.remove(Or),(Fr=yt.onClose)===null||Fr===void 0||Fr.call(yt)},onClick:yt.onClick,children:yt.content});pr.push($t),ut.noticePropsMap[$t]={props:tn,holderCallback:Et}}),I.createElement("div",{className:ue()(Ye,Cn),style:mr},I.createElement(re.V4,{keys:pr,motionName:this.getTransitionName(),onVisibleChanged:function(Mt,yt){var Et=yt.key;Mt||delete ut.noticePropsMap[Et]}},function(hr){var Mt=hr.key,yt=hr.className,Et=hr.style,$e=hr.visible,$t=ut.noticePropsMap[Mt],Jt=$t.props,tn=$t.holderCallback;return tn?I.createElement("div",{key:Mt,className:ue()(yt,"".concat(Ye,"-hook-holder")),style:(0,j.Z)({},Et),ref:function(Or){typeof Mt!="undefined"&&(Or?(ut.hookRefs.set(Mt,Or),tn(Or,Jt)):ut.hookRefs.delete(Mt))}}):I.createElement(ge.Z,(0,M.Z)({},Jt,{className:ue()(yt,Jt==null?void 0:Jt.className),style:(0,j.Z)((0,j.Z)({},Et),Jt==null?void 0:Jt.style),visible:$e}))}))}}]),U}(I.Component);ie.newInstance=void 0,ie.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},ie.newInstance=function(Vt,U){var tt=Vt||{},ut=tt.getContainer,vn=(0,B.Z)(tt,fe),ft=document.createElement("div");if(ut){var Ye=ut();Ye.appendChild(ft)}else document.body.appendChild(ft);var Cn=!1;function cn(mr){Cn||(Cn=!0,U({notice:function(hr){mr.add(hr)},removeNotice:function(hr){mr.remove(hr)},component:mr,destroy:function(){(0,ee.v)(ft),ft.parentNode&&ft.parentNode.removeChild(ft)},useNotification:function(){return(0,Ze.Z)(mr)}}))}(0,ee.s)(I.createElement(ie,(0,M.Z)({},vn,{ref:cn})),ft)};var at=ie,mt=at},51550:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return F}});var B=w(74902),M=w(87462),j=w(97685),R=w(67294),k=w(51784);function F(H){var I=R.useRef({}),ee=R.useState([]),ae=(0,j.Z)(ee,2),ue=ae[0],re=ae[1];function ge(Ze){var fe=!0;H.add(Ze,function(Ce,Ae){var Pe=Ae.key;if(Ce&&(!I.current[Pe]||fe)){var ie=R.createElement(k.Z,(0,M.Z)({},Ae,{holder:Ce}));I.current[Pe]=ie,re(function(at){var mt=at.findIndex(function(Vt){return Vt.key===Ae.key});if(mt===-1)return[].concat((0,B.Z)(at),[ie]);var vt=(0,B.Z)(at);return vt[mt]=ie,vt})}fe=!1})}return[ge,R.createElement(R.Fragment,null,ue)]}},62906:function(Ne,te){"use strict";te.Z={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"}},43159:function(Ne,te,w){"use strict";w.d(te,{C:function(){return j}});var B={adjustX:1,adjustY:1},M=[0,0],j={left:{points:["cr","cl"],overflow:B,offset:[-4,0],targetOffset:M},right:{points:["cl","cr"],overflow:B,offset:[4,0],targetOffset:M},top:{points:["bc","tc"],overflow:B,offset:[0,-4],targetOffset:M},bottom:{points:["tc","bc"],overflow:B,offset:[0,4],targetOffset:M},topLeft:{points:["bl","tl"],overflow:B,offset:[0,-4],targetOffset:M},leftTop:{points:["tr","tl"],overflow:B,offset:[-4,0],targetOffset:M},topRight:{points:["br","tr"],overflow:B,offset:[0,-4],targetOffset:M},rightTop:{points:["tl","tr"],overflow:B,offset:[4,0],targetOffset:M},bottomRight:{points:["tr","br"],overflow:B,offset:[0,4],targetOffset:M},rightBottom:{points:["bl","br"],overflow:B,offset:[4,0],targetOffset:M},bottomLeft:{points:["tl","bl"],overflow:B,offset:[0,4],targetOffset:M},leftBottom:{points:["br","bl"],overflow:B,offset:[-4,0],targetOffset:M}},R=null},11276:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return Un}});var B=w(1413),M=w(87462),j=w(15671),R=w(43144),k=w(97326),F=w(32531),H=w(29388),I=w(4942),ee=w(67294),ae=w(73935),ue=w(75164),re=w(94999),ge=w(34203),Ze=w(42550);function fe(_e,We,Ve,Dt){var An=ae.unstable_batchedUpdates?function(et){ae.unstable_batchedUpdates(Ve,et)}:Ve;return _e!=null&&_e.addEventListener&&_e.addEventListener(We,An,Dt),{remove:function(){_e!=null&&_e.removeEventListener&&_e.removeEventListener(We,An,Dt)}}}var Ce=w(98924),Ae=(0,ee.forwardRef)(function(_e,We){var Ve=_e.didUpdate,Dt=_e.getContainer,An=_e.children,on=(0,ee.useRef)(),et=(0,ee.useRef)();(0,ee.useImperativeHandle)(We,function(){return{}});var Tn=(0,ee.useRef)(!1);return!Tn.current&&(0,Ce.Z)()&&(et.current=Dt(),on.current=et.current.parentNode,Tn.current=!0),(0,ee.useEffect)(function(){Ve==null||Ve(_e)}),(0,ee.useEffect)(function(){return et.current.parentNode===null&&on.current!==null&&on.current.appendChild(et.current),function(){var zt;(zt=et.current)===null||zt===void 0||(zt=zt.parentNode)===null||zt===void 0||zt.removeChild(et.current)}},[]),et.current?ae.createPortal(An,et.current):null}),Pe=Ae,ie=w(93967),at=w.n(ie);function mt(_e,We,Ve){return Ve?_e[0]===We[0]:_e[0]===We[0]&&_e[1]===We[1]}function vt(_e,We,Ve){var Dt=_e[We]||{};return(0,B.Z)((0,B.Z)({},Dt),Ve)}function Vt(_e,We,Ve,Dt){for(var An=Ve.points,on=Object.keys(_e),et=0;et<on.length;et+=1){var Tn=on[et];if(mt(_e[Tn].points,An,Dt))return"".concat(We,"-placement-").concat(Tn)}return""}var U=w(97685),tt=w(45987),ut=w(31131),vn=w(29372);function ft(_e){var We=_e.prefixCls,Ve=_e.motion,Dt=_e.animation,An=_e.transitionName;return Ve||(Dt?{motionName:"".concat(We,"-").concat(Dt)}:An?{motionName:An}:null)}function Ye(_e){var We=_e.prefixCls,Ve=_e.visible,Dt=_e.zIndex,An=_e.mask,on=_e.maskMotion,et=_e.maskAnimation,Tn=_e.maskTransitionName;if(!An)return null;var zt={};return(on||Tn||et)&&(zt=(0,B.Z)({motionAppear:!0},ft({motion:on,prefixCls:We,transitionName:Tn,animation:et}))),ee.createElement(vn.ZP,(0,M.Z)({},zt,{visible:Ve,removeOnLeave:!0}),function(Xn){var cr=Xn.className;return ee.createElement("div",{style:{zIndex:Dt},className:at()("".concat(We,"-mask"),cr)})})}var Cn=w(71002);function cn(_e,We){var Ve=Object.keys(_e);if(Object.getOwnPropertySymbols){var Dt=Object.getOwnPropertySymbols(_e);We&&(Dt=Dt.filter(function(An){return Object.getOwnPropertyDescriptor(_e,An).enumerable})),Ve.push.apply(Ve,Dt)}return Ve}function mr(_e){for(var We=1;We<arguments.length;We++){var Ve=arguments[We]!=null?arguments[We]:{};We%2?cn(Object(Ve),!0).forEach(function(Dt){hr(_e,Dt,Ve[Dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(Ve)):cn(Object(Ve)).forEach(function(Dt){Object.defineProperty(_e,Dt,Object.getOwnPropertyDescriptor(Ve,Dt))})}return _e}function pr(_e){"@babel/helpers - typeof";return pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(We){return typeof We}:function(We){return We&&typeof Symbol=="function"&&We.constructor===Symbol&&We!==Symbol.prototype?"symbol":typeof We},pr(_e)}function hr(_e,We,Ve){return We in _e?Object.defineProperty(_e,We,{value:Ve,enumerable:!0,configurable:!0,writable:!0}):_e[We]=Ve,_e}var Mt,yt={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Et(){if(Mt!==void 0)return Mt;Mt="";var _e=document.createElement("p").style,We="Transform";for(var Ve in yt)Ve+We in _e&&(Mt=Ve);return Mt}function $e(){return Et()?"".concat(Et(),"TransitionProperty"):"transitionProperty"}function $t(){return Et()?"".concat(Et(),"Transform"):"transform"}function Jt(_e,We){var Ve=$e();Ve&&(_e.style[Ve]=We,Ve!=="transitionProperty"&&(_e.style.transitionProperty=We))}function tn(_e,We){var Ve=$t();Ve&&(_e.style[Ve]=We,Ve!=="transform"&&(_e.style.transform=We))}function ir(_e){return _e.style.transitionProperty||_e.style[$e()]}function Or(_e){var We=window.getComputedStyle(_e,null),Ve=We.getPropertyValue("transform")||We.getPropertyValue($t());if(Ve&&Ve!=="none"){var Dt=Ve.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(Dt[12]||Dt[4],0),y:parseFloat(Dt[13]||Dt[5],0)}}return{x:0,y:0}}var Fr=/matrix\((.*)\)/,lr=/matrix3d\((.*)\)/;function Yr(_e,We){var Ve=window.getComputedStyle(_e,null),Dt=Ve.getPropertyValue("transform")||Ve.getPropertyValue($t());if(Dt&&Dt!=="none"){var An,on=Dt.match(Fr);if(on)on=on[1],An=on.split(",").map(function(Tn){return parseFloat(Tn,10)}),An[4]=We.x,An[5]=We.y,tn(_e,"matrix(".concat(An.join(","),")"));else{var et=Dt.match(lr)[1];An=et.split(",").map(function(Tn){return parseFloat(Tn,10)}),An[12]=We.x,An[13]=We.y,tn(_e,"matrix3d(".concat(An.join(","),")"))}}else tn(_e,"translateX(".concat(We.x,"px) translateY(").concat(We.y,"px) translateZ(0)"))}var jn=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,dr;function br(_e){var We=_e.style.display;_e.style.display="none",_e.offsetHeight,_e.style.display=We}function nr(_e,We,Ve){var Dt=Ve;if(pr(We)==="object"){for(var An in We)We.hasOwnProperty(An)&&nr(_e,An,We[An]);return}if(typeof Dt!="undefined"){typeof Dt=="number"&&(Dt="".concat(Dt,"px")),_e.style[We]=Dt;return}return dr(_e,We)}function Lr(_e){var We,Ve,Dt,An=_e.ownerDocument,on=An.body,et=An&&An.documentElement;return We=_e.getBoundingClientRect(),Ve=Math.floor(We.left),Dt=Math.floor(We.top),Ve-=et.clientLeft||on.clientLeft||0,Dt-=et.clientTop||on.clientTop||0,{left:Ve,top:Dt}}function Ji(_e,We){var Ve=_e["page".concat(We?"Y":"X","Offset")],Dt="scroll".concat(We?"Top":"Left");if(typeof Ve!="number"){var An=_e.document;Ve=An.documentElement[Dt],typeof Ve!="number"&&(Ve=An.body[Dt])}return Ve}function Ci(_e){return Ji(_e)}function $i(_e){return Ji(_e,!0)}function It(_e){var We=Lr(_e),Ve=_e.ownerDocument,Dt=Ve.defaultView||Ve.parentWindow;return We.left+=Ci(Dt),We.top+=$i(Dt),We}function Q(_e){return _e!=null&&_e==_e.window}function we(_e){return Q(_e)?_e.document:_e.nodeType===9?_e:_e.ownerDocument}function Nt(_e,We,Ve){var Dt=Ve,An="",on=we(_e);return Dt=Dt||on.defaultView.getComputedStyle(_e,null),Dt&&(An=Dt.getPropertyValue(We)||Dt[We]),An}var jt=new RegExp("^(".concat(jn,")(?!px)[a-z%]+$"),"i"),gt=/^(top|right|bottom|left)$/,Je="currentStyle",pt="runtimeStyle",rt="left",qt="px";function Dn(_e,We){var Ve=_e[Je]&&_e[Je][We];if(jt.test(Ve)&&!gt.test(We)){var Dt=_e.style,An=Dt[rt],on=_e[pt][rt];_e[pt][rt]=_e[Je][rt],Dt[rt]=We==="fontSize"?"1em":Ve||0,Ve=Dt.pixelLeft+qt,Dt[rt]=An,_e[pt][rt]=on}return Ve===""?"auto":Ve}typeof window!="undefined"&&(dr=window.getComputedStyle?Nt:Dn);function _n(_e,We){return _e==="left"?We.useCssRight?"right":_e:We.useCssBottom?"bottom":_e}function Wr(_e){if(_e==="left")return"right";if(_e==="right")return"left";if(_e==="top")return"bottom";if(_e==="bottom")return"top"}function Qn(_e,We,Ve){nr(_e,"position")==="static"&&(_e.style.position="relative");var Dt=-999,An=-999,on=_n("left",Ve),et=_n("top",Ve),Tn=Wr(on),zt=Wr(et);on!=="left"&&(Dt=999),et!=="top"&&(An=999);var Xn="",cr=It(_e);("left"in We||"top"in We)&&(Xn=ir(_e)||"",Jt(_e,"none")),"left"in We&&(_e.style[Tn]="",_e.style[on]="".concat(Dt,"px")),"top"in We&&(_e.style[zt]="",_e.style[et]="".concat(An,"px")),br(_e);var ii=It(_e),ui={};for(var Mr in We)if(We.hasOwnProperty(Mr)){var jr=_n(Mr,Ve),eo=Mr==="left"?Dt:An,yi=cr[Mr]-ii[Mr];jr===Mr?ui[jr]=eo+yi:ui[jr]=eo-yi}nr(_e,ui),br(_e),("left"in We||"top"in We)&&Jt(_e,Xn);var ci={};for(var Si in We)if(We.hasOwnProperty(Si)){var Li=_n(Si,Ve),to=We[Si]-cr[Si];Si===Li?ci[Li]=ui[Li]+to:ci[Li]=ui[Li]-to}nr(_e,ci)}function it(_e,We){var Ve=It(_e),Dt=Or(_e),An={x:Dt.x,y:Dt.y};"left"in We&&(An.x=Dt.x+We.left-Ve.left),"top"in We&&(An.y=Dt.y+We.top-Ve.top),Yr(_e,An)}function mn(_e,We,Ve){if(Ve.ignoreShake){var Dt=It(_e),An=Dt.left.toFixed(0),on=Dt.top.toFixed(0),et=We.left.toFixed(0),Tn=We.top.toFixed(0);if(An===et&&on===Tn)return}Ve.useCssRight||Ve.useCssBottom?Qn(_e,We,Ve):Ve.useCssTransform&&$t()in document.body.style?it(_e,We):Qn(_e,We,Ve)}function kn(_e,We){for(var Ve=0;Ve<_e.length;Ve++)We(_e[Ve])}function gr(_e){return dr(_e,"boxSizing")==="border-box"}var kr=["margin","border","padding"],Ei=-1,er=2,Tt=1,sn=0;function _t(_e,We,Ve){var Dt={},An=_e.style,on;for(on in We)We.hasOwnProperty(on)&&(Dt[on]=An[on],An[on]=We[on]);Ve.call(_e);for(on in We)We.hasOwnProperty(on)&&(An[on]=Dt[on])}function Ut(_e,We,Ve){var Dt=0,An,on,et;for(on=0;on<We.length;on++)if(An=We[on],An)for(et=0;et<Ve.length;et++){var Tn=void 0;An==="border"?Tn="".concat(An).concat(Ve[et],"Width"):Tn=An+Ve[et],Dt+=parseFloat(dr(_e,Tn))||0}return Dt}var Rn={getParent:function(We){var Ve=We;do Ve.nodeType===11&&Ve.host?Ve=Ve.host:Ve=Ve.parentNode;while(Ve&&Ve.nodeType!==1&&Ve.nodeType!==9);return Ve}};kn(["Width","Height"],function(_e){Rn["doc".concat(_e)]=function(We){var Ve=We.document;return Math.max(Ve.documentElement["scroll".concat(_e)],Ve.body["scroll".concat(_e)],Rn["viewport".concat(_e)](Ve))},Rn["viewport".concat(_e)]=function(We){var Ve="client".concat(_e),Dt=We.document,An=Dt.body,on=Dt.documentElement,et=on[Ve];return Dt.compatMode==="CSS1Compat"&&et||An&&An[Ve]||et}});function Cr(_e,We,Ve){var Dt=Ve;if(Q(_e))return We==="width"?Rn.viewportWidth(_e):Rn.viewportHeight(_e);if(_e.nodeType===9)return We==="width"?Rn.docWidth(_e):Rn.docHeight(_e);var An=We==="width"?["Left","Right"]:["Top","Bottom"],on=Math.floor(We==="width"?_e.getBoundingClientRect().width:_e.getBoundingClientRect().height),et=gr(_e),Tn=0;(on==null||on<=0)&&(on=void 0,Tn=dr(_e,We),(Tn==null||Number(Tn)<0)&&(Tn=_e.style[We]||0),Tn=Math.floor(parseFloat(Tn))||0),Dt===void 0&&(Dt=et?Tt:Ei);var zt=on!==void 0||et,Xn=on||Tn;return Dt===Ei?zt?Xn-Ut(_e,["border","padding"],An):Tn:zt?Dt===Tt?Xn:Xn+(Dt===er?-Ut(_e,["border"],An):Ut(_e,["margin"],An)):Tn+Ut(_e,kr.slice(Dt),An)}var si={position:"absolute",visibility:"hidden",display:"block"};function tr(){for(var _e=arguments.length,We=new Array(_e),Ve=0;Ve<_e;Ve++)We[Ve]=arguments[Ve];var Dt,An=We[0];return An.offsetWidth!==0?Dt=Cr.apply(void 0,We):_t(An,si,function(){Dt=Cr.apply(void 0,We)}),Dt}kn(["width","height"],function(_e){var We=_e.charAt(0).toUpperCase()+_e.slice(1);Rn["outer".concat(We)]=function(Dt,An){return Dt&&tr(Dt,_e,An?sn:Tt)};var Ve=_e==="width"?["Left","Right"]:["Top","Bottom"];Rn[_e]=function(Dt,An){var on=An;if(on!==void 0){if(Dt){var et=gr(Dt);return et&&(on+=Ut(Dt,["padding","border"],Ve)),nr(Dt,_e,on)}return}return Dt&&tr(Dt,_e,Ei)}});function xn(_e,We){for(var Ve in We)We.hasOwnProperty(Ve)&&(_e[Ve]=We[Ve]);return _e}var Hn={getWindow:function(We){if(We&&We.document&&We.setTimeout)return We;var Ve=We.ownerDocument||We;return Ve.defaultView||Ve.parentWindow},getDocument:we,offset:function(We,Ve,Dt){if(typeof Ve!="undefined")mn(We,Ve,Dt||{});else return It(We)},isWindow:Q,each:kn,css:nr,clone:function(We){var Ve,Dt={};for(Ve in We)We.hasOwnProperty(Ve)&&(Dt[Ve]=We[Ve]);var An=We.overflow;if(An)for(Ve in We)We.hasOwnProperty(Ve)&&(Dt.overflow[Ve]=We.overflow[Ve]);return Dt},mix:xn,getWindowScrollLeft:function(We){return Ci(We)},getWindowScrollTop:function(We){return $i(We)},merge:function(){for(var We={},Ve=0;Ve<arguments.length;Ve++)Hn.mix(We,Ve<0||arguments.length<=Ve?void 0:arguments[Ve]);return We},viewportWidth:0,viewportHeight:0};xn(Hn,Rn);var Kn=Hn.getParent;function yn(_e){if(Hn.isWindow(_e)||_e.nodeType===9)return null;var We=Hn.getDocument(_e),Ve=We.body,Dt,An=Hn.css(_e,"position"),on=An==="fixed"||An==="absolute";if(!on)return _e.nodeName.toLowerCase()==="html"?null:Kn(_e);for(Dt=Kn(_e);Dt&&Dt!==Ve&&Dt.nodeType!==9;Dt=Kn(Dt))if(An=Hn.css(Dt,"position"),An!=="static")return Dt;return null}var Sr=Hn.getParent;function yr(_e){if(Hn.isWindow(_e)||_e.nodeType===9)return!1;var We=Hn.getDocument(_e),Ve=We.body,Dt=null;for(Dt=Sr(_e);Dt&&Dt!==Ve&&Dt!==We;Dt=Sr(Dt)){var An=Hn.css(Dt,"position");if(An==="fixed")return!0}return!1}function Tr(_e,We){for(var Ve={left:0,right:1/0,top:0,bottom:1/0},Dt=yn(_e),An=Hn.getDocument(_e),on=An.defaultView||An.parentWindow,et=An.body,Tn=An.documentElement;Dt;){if((navigator.userAgent.indexOf("MSIE")===-1||Dt.clientWidth!==0)&&Dt!==et&&Dt!==Tn&&Hn.css(Dt,"overflow")!=="visible"){var zt=Hn.offset(Dt);zt.left+=Dt.clientLeft,zt.top+=Dt.clientTop,Ve.top=Math.max(Ve.top,zt.top),Ve.right=Math.min(Ve.right,zt.left+Dt.clientWidth),Ve.bottom=Math.min(Ve.bottom,zt.top+Dt.clientHeight),Ve.left=Math.max(Ve.left,zt.left)}else if(Dt===et||Dt===Tn)break;Dt=yn(Dt)}var Xn=null;if(!Hn.isWindow(_e)&&_e.nodeType!==9){Xn=_e.style.position;var cr=Hn.css(_e,"position");cr==="absolute"&&(_e.style.position="fixed")}var ii=Hn.getWindowScrollLeft(on),ui=Hn.getWindowScrollTop(on),Mr=Hn.viewportWidth(on),jr=Hn.viewportHeight(on),eo=Tn.scrollWidth,yi=Tn.scrollHeight,ci=window.getComputedStyle(et);if(ci.overflowX==="hidden"&&(eo=on.innerWidth),ci.overflowY==="hidden"&&(yi=on.innerHeight),_e.style&&(_e.style.position=Xn),We||yr(_e))Ve.left=Math.max(Ve.left,ii),Ve.top=Math.max(Ve.top,ui),Ve.right=Math.min(Ve.right,ii+Mr),Ve.bottom=Math.min(Ve.bottom,ui+jr);else{var Si=Math.max(eo,ii+Mr);Ve.right=Math.min(Ve.right,Si);var Li=Math.max(yi,ui+jr);Ve.bottom=Math.min(Ve.bottom,Li)}return Ve.top>=0&&Ve.left>=0&&Ve.bottom>Ve.top&&Ve.right>Ve.left?Ve:null}function rn(_e,We,Ve,Dt){var An=Hn.clone(_e),on={width:We.width,height:We.height};return Dt.adjustX&&An.left<Ve.left&&(An.left=Ve.left),Dt.resizeWidth&&An.left>=Ve.left&&An.left+on.width>Ve.right&&(on.width-=An.left+on.width-Ve.right),Dt.adjustX&&An.left+on.width>Ve.right&&(An.left=Math.max(Ve.right-on.width,Ve.left)),Dt.adjustY&&An.top<Ve.top&&(An.top=Ve.top),Dt.resizeHeight&&An.top>=Ve.top&&An.top+on.height>Ve.bottom&&(on.height-=An.top+on.height-Ve.bottom),Dt.adjustY&&An.top+on.height>Ve.bottom&&(An.top=Math.max(Ve.bottom-on.height,Ve.top)),Hn.mix(An,on)}function hn(_e){var We,Ve,Dt;if(!Hn.isWindow(_e)&&_e.nodeType!==9)We=Hn.offset(_e),Ve=Hn.outerWidth(_e),Dt=Hn.outerHeight(_e);else{var An=Hn.getWindow(_e);We={left:Hn.getWindowScrollLeft(An),top:Hn.getWindowScrollTop(An)},Ve=Hn.viewportWidth(An),Dt=Hn.viewportHeight(An)}return We.width=Ve,We.height=Dt,We}function or(_e,We){var Ve=We.charAt(0),Dt=We.charAt(1),An=_e.width,on=_e.height,et=_e.left,Tn=_e.top;return Ve==="c"?Tn+=on/2:Ve==="b"&&(Tn+=on),Dt==="c"?et+=An/2:Dt==="r"&&(et+=An),{left:et,top:Tn}}function Ke(_e,We,Ve,Dt,An){var on=or(We,Ve[1]),et=or(_e,Ve[0]),Tn=[et.left-on.left,et.top-on.top];return{left:Math.round(_e.left-Tn[0]+Dt[0]-An[0]),top:Math.round(_e.top-Tn[1]+Dt[1]-An[1])}}function Xe(_e,We,Ve){return _e.left<Ve.left||_e.left+We.width>Ve.right}function je(_e,We,Ve){return _e.top<Ve.top||_e.top+We.height>Ve.bottom}function me(_e,We,Ve){return _e.left>Ve.right||_e.left+We.width<Ve.left}function ze(_e,We,Ve){return _e.top>Ve.bottom||_e.top+We.height<Ve.top}function Oe(_e,We,Ve){var Dt=[];return Hn.each(_e,function(An){Dt.push(An.replace(We,function(on){return Ve[on]}))}),Dt}function Y(_e,We){return _e[We]=-_e[We],_e}function ne(_e,We){var Ve;return/%$/.test(_e)?Ve=parseInt(_e.substring(0,_e.length-1),10)/100*We:Ve=parseInt(_e,10),Ve||0}function W(_e,We){_e[0]=ne(_e[0],We.width),_e[1]=ne(_e[1],We.height)}function S(_e,We,Ve,Dt){var An=Ve.points,on=Ve.offset||[0,0],et=Ve.targetOffset||[0,0],Tn=Ve.overflow,zt=Ve.source||_e;on=[].concat(on),et=[].concat(et),Tn=Tn||{};var Xn={},cr=0,ii=!!(Tn&&Tn.alwaysByViewport),ui=Tr(zt,ii),Mr=hn(zt);W(on,Mr),W(et,We);var jr=Ke(Mr,We,An,on,et),eo=Hn.merge(Mr,jr);if(ui&&(Tn.adjustX||Tn.adjustY)&&Dt){if(Tn.adjustX&&Xe(jr,Mr,ui)){var yi=Oe(An,/[lr]/gi,{l:"r",r:"l"}),ci=Y(on,0),Si=Y(et,0),Li=Ke(Mr,We,yi,ci,Si);me(Li,Mr,ui)||(cr=1,An=yi,on=ci,et=Si)}if(Tn.adjustY&&je(jr,Mr,ui)){var to=Oe(An,/[tb]/gi,{t:"b",b:"t"}),Kr=Y(on,1),gs=Y(et,1),Cs=Ke(Mr,We,to,Kr,gs);ze(Cs,Mr,ui)||(cr=1,An=to,on=Kr,et=gs)}cr&&(jr=Ke(Mr,We,An,on,et),Hn.mix(eo,jr));var es=Xe(jr,Mr,ui),cs=je(jr,Mr,ui);if(es||cs){var To=An;es&&(To=Oe(An,/[lr]/gi,{l:"r",r:"l"})),cs&&(To=Oe(An,/[tb]/gi,{t:"b",b:"t"})),An=To,on=Ve.offset||[0,0],et=Ve.targetOffset||[0,0]}Xn.adjustX=Tn.adjustX&&es,Xn.adjustY=Tn.adjustY&&cs,(Xn.adjustX||Xn.adjustY)&&(eo=rn(jr,Mr,ui,Xn))}return eo.width!==Mr.width&&Hn.css(zt,"width",Hn.width(zt)+eo.width-Mr.width),eo.height!==Mr.height&&Hn.css(zt,"height",Hn.height(zt)+eo.height-Mr.height),Hn.offset(zt,{left:eo.left,top:eo.top},{useCssRight:Ve.useCssRight,useCssBottom:Ve.useCssBottom,useCssTransform:Ve.useCssTransform,ignoreShake:Ve.ignoreShake}),{points:An,offset:on,targetOffset:et,overflow:Xn}}function A(_e,We){var Ve=Tr(_e,We),Dt=hn(_e);return!Ve||Dt.left+Dt.width<=Ve.left||Dt.top+Dt.height<=Ve.top||Dt.left>=Ve.right||Dt.top>=Ve.bottom}function L(_e,We,Ve){var Dt=Ve.target||We,An=hn(Dt),on=!A(Dt,Ve.overflow&&Ve.overflow.alwaysByViewport);return S(_e,An,Ve,on)}L.__getOffsetParent=yn,L.__getVisibleRectForElement=Tr;function ce(_e,We,Ve){var Dt,An,on=Hn.getDocument(_e),et=on.defaultView||on.parentWindow,Tn=Hn.getWindowScrollLeft(et),zt=Hn.getWindowScrollTop(et),Xn=Hn.viewportWidth(et),cr=Hn.viewportHeight(et);"pageX"in We?Dt=We.pageX:Dt=Tn+We.clientX,"pageY"in We?An=We.pageY:An=zt+We.clientY;var ii={left:Dt,top:An,width:0,height:0},ui=Dt>=0&&Dt<=Tn+Xn&&An>=0&&An<=zt+cr,Mr=[Ve.points[0],"cc"];return S(_e,ii,mr(mr({},Ve),{},{points:Mr}),ui)}var ve=null,pe=w(91881),Ee=w(5110),ht=w(8410),ct=function(_e,We){var Ve=ee.useRef(!1),Dt=ee.useRef(null);function An(){window.clearTimeout(Dt.current)}function on(et){if(An(),!Ve.current||et===!0){if(_e(et)===!1)return;Ve.current=!0,Dt.current=window.setTimeout(function(){Ve.current=!1},We)}else Dt.current=window.setTimeout(function(){Ve.current=!1,on()},We)}return[on,function(){Ve.current=!1,An()}]},nt=w(91033);function Rt(_e,We){return _e===We?!0:!_e||!We?!1:"pageX"in We&&"pageY"in We?_e.pageX===We.pageX&&_e.pageY===We.pageY:"clientX"in We&&"clientY"in We?_e.clientX===We.clientX&&_e.clientY===We.clientY:!1}function kt(_e,We){_e!==document.activeElement&&(0,re.Z)(We,_e)&&typeof _e.focus=="function"&&_e.focus()}function bn(_e,We){var Ve=null,Dt=null;function An(et){var Tn=(0,U.Z)(et,1),zt=Tn[0].target;if(document.documentElement.contains(zt)){var Xn=zt.getBoundingClientRect(),cr=Xn.width,ii=Xn.height,ui=Math.floor(cr),Mr=Math.floor(ii);(Ve!==ui||Dt!==Mr)&&Promise.resolve().then(function(){We({width:ui,height:Mr})}),Ve=ui,Dt=Mr}}var on=new nt.Z(An);return _e&&on.observe(_e),function(){on.disconnect()}}function pn(_e){return typeof _e!="function"?null:_e()}function Lt(_e){return(0,Cn.Z)(_e)!=="object"||!_e?null:_e}var Bt=function(We,Ve){var Dt=We.children,An=We.disabled,on=We.target,et=We.align,Tn=We.onAlign,zt=We.monitorWindowResize,Xn=We.monitorBufferTime,cr=Xn===void 0?0:Xn,ii=ee.useRef({}),ui=ee.useRef(),Mr=ee.Children.only(Dt),jr=ee.useRef({});jr.current.disabled=An,jr.current.target=on,jr.current.align=et,jr.current.onAlign=Tn;var eo=ct(function(){var Do=jr.current,Ko=Do.disabled,os=Do.target,_=Do.align,K=Do.onAlign,he=ui.current;if(!Ko&&os&&he){var ye,Ue=pn(os),He=Lt(os);ii.current.element=Ue,ii.current.point=He,ii.current.align=_;var dt=document,wn=dt.activeElement;return Ue&&(0,Ee.Z)(Ue)?ye=L(he,Ue,_):He&&(ye=ce(he,He,_)),kt(wn,he),K&&ye&&K(he,ye),!0}return!1},cr),yi=(0,U.Z)(eo,2),ci=yi[0],Si=yi[1],Li=ee.useState(),to=(0,U.Z)(Li,2),Kr=to[0],gs=to[1],Cs=ee.useState(),es=(0,U.Z)(Cs,2),cs=es[0],To=es[1];return(0,ht.Z)(function(){gs(pn(on)),To(Lt(on))}),ee.useEffect(function(){(ii.current.element!==Kr||!Rt(ii.current.point,cs)||!(0,pe.Z)(ii.current.align,et))&&ci()}),ee.useEffect(function(){var Do=bn(ui.current,ci);return Do},[ui.current]),ee.useEffect(function(){var Do=bn(Kr,ci);return Do},[Kr]),ee.useEffect(function(){An?Si():ci()},[An]),ee.useEffect(function(){if(zt){var Do=fe(window,"resize",ci);return Do.remove}},[zt]),ee.useEffect(function(){return function(){Si()}},[]),ee.useImperativeHandle(Ve,function(){return{forceAlign:function(){return ci(!0)}}}),ee.isValidElement(Mr)&&(Mr=ee.cloneElement(Mr,{ref:(0,Ze.sQ)(Mr.ref,ui)})),Mr},In=ee.forwardRef(Bt);In.displayName="Align";var Zn=In,sr=Zn,ni=w(74165),mi=w(15861),Rr=w(30470),ai=["measure","alignPre","align",null,"motion"],li=function(_e,We){var Ve=(0,Rr.Z)(null),Dt=(0,U.Z)(Ve,2),An=Dt[0],on=Dt[1],et=(0,ee.useRef)();function Tn(cr){on(cr,!0)}function zt(){ue.Z.cancel(et.current)}function Xn(cr){zt(),et.current=(0,ue.Z)(function(){Tn(function(ii){switch(An){case"align":return"motion";case"motion":return"stable";default:}return ii}),cr==null||cr()})}return(0,ee.useEffect)(function(){Tn("measure")},[_e]),(0,ee.useEffect)(function(){switch(An){case"measure":We();break;default:}An&&(et.current=(0,ue.Z)((0,mi.Z)((0,ni.Z)().mark(function cr(){var ii,ui;return(0,ni.Z)().wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:ii=ai.indexOf(An),ui=ai[ii+1],ui&&ii!==-1&&Tn(ui);case 3:case"end":return jr.stop()}},cr)}))))},[An]),(0,ee.useEffect)(function(){return function(){zt()}},[]),[An,Xn]},wi=function(_e){var We=ee.useState({width:0,height:0}),Ve=(0,U.Z)(We,2),Dt=Ve[0],An=Ve[1];function on(Tn){var zt=Tn.offsetWidth,Xn=Tn.offsetHeight,cr=Tn.getBoundingClientRect(),ii=cr.width,ui=cr.height;Math.abs(zt-ii)<1&&Math.abs(Xn-ui)<1&&(zt=ii,Xn=ui),An({width:zt,height:Xn})}var et=ee.useMemo(function(){var Tn={};if(_e){var zt=Dt.width,Xn=Dt.height;_e.indexOf("height")!==-1&&Xn?Tn.height=Xn:_e.indexOf("minHeight")!==-1&&Xn&&(Tn.minHeight=Xn),_e.indexOf("width")!==-1&&zt?Tn.width=zt:_e.indexOf("minWidth")!==-1&&zt&&(Tn.minWidth=zt)}return Tn},[_e,Dt]);return[et,on]},Ct=ee.forwardRef(function(_e,We){var Ve=_e.visible,Dt=_e.prefixCls,An=_e.className,on=_e.style,et=_e.children,Tn=_e.zIndex,zt=_e.stretch,Xn=_e.destroyPopupOnHide,cr=_e.forceRender,ii=_e.align,ui=_e.point,Mr=_e.getRootDomNode,jr=_e.getClassNameFromAlign,eo=_e.onAlign,yi=_e.onMouseEnter,ci=_e.onMouseLeave,Si=_e.onMouseDown,Li=_e.onTouchStart,to=_e.onClick,Kr=(0,ee.useRef)(),gs=(0,ee.useRef)(),Cs=(0,ee.useState)(),es=(0,U.Z)(Cs,2),cs=es[0],To=es[1],Do=wi(zt),Ko=(0,U.Z)(Do,2),os=Ko[0],_=Ko[1];function K(){zt&&_(Mr())}var he=li(Ve,K),ye=(0,U.Z)(he,2),Ue=ye[0],He=ye[1],dt=(0,ee.useState)(0),wn=(0,U.Z)(dt,2),gn=wn[0],Pn=wn[1],zr=(0,ee.useRef)();(0,ht.Z)(function(){Ue==="alignPre"&&Pn(0)},[Ue]);function Gr(){return ui||Mr}function Hr(){var No;(No=Kr.current)===null||No===void 0||No.forceAlign()}function bi(No,ws){var Hi=jr(ws);cs!==Hi&&To(Hi),Pn(function(ms){return ms+1}),Ue==="align"&&(eo==null||eo(No,ws))}(0,ht.Z)(function(){Ue==="align"&&(gn<3?Hr():He(function(){var No;(No=zr.current)===null||No===void 0||No.call(zr)}))},[gn]);var Vo=(0,B.Z)({},ft(_e));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(No){var ws=Vo[No];Vo[No]=function(Hi,ms){return He(),ws==null?void 0:ws(Hi,ms)}});function Uo(){return new Promise(function(No){zr.current=No})}ee.useEffect(function(){!Vo.motionName&&Ue==="motion"&&He()},[Vo.motionName,Ue]),ee.useImperativeHandle(We,function(){return{forceAlign:Hr,getElement:function(){return gs.current}}});var Zo=(0,B.Z)((0,B.Z)({},os),{},{zIndex:Tn,opacity:Ue==="motion"||Ue==="stable"||!Ve?void 0:0,pointerEvents:!Ve&&Ue!=="stable"?"none":void 0},on),Ns=!0;ii!=null&&ii.points&&(Ue==="align"||Ue==="stable")&&(Ns=!1);var Ms=et;return ee.Children.count(et)>1&&(Ms=ee.createElement("div",{className:"".concat(Dt,"-content")},et)),ee.createElement(vn.ZP,(0,M.Z)({visible:Ve,ref:gs,leavedClassName:"".concat(Dt,"-hidden")},Vo,{onAppearPrepare:Uo,onEnterPrepare:Uo,removeOnLeave:Xn,forceRender:cr}),function(No,ws){var Hi=No.className,ms=No.style,Pt=at()(Dt,An,cs,Hi);return ee.createElement(sr,{target:Gr(),key:"popup",ref:Kr,monitorWindowResize:!0,disabled:Ns,align:ii,onAlign:bi},ee.createElement("div",{ref:ws,className:Pt,onMouseEnter:yi,onMouseLeave:ci,onMouseDownCapture:Si,onTouchStartCapture:Li,onClick:to,style:(0,B.Z)((0,B.Z)({},ms),Zo)},Ms))})});Ct.displayName="PopupInner";var Zt=Ct,Pr=ee.forwardRef(function(_e,We){var Ve=_e.prefixCls,Dt=_e.visible,An=_e.zIndex,on=_e.children,et=_e.mobile;et=et===void 0?{}:et;var Tn=et.popupClassName,zt=et.popupStyle,Xn=et.popupMotion,cr=Xn===void 0?{}:Xn,ii=et.popupRender,ui=_e.onClick,Mr=ee.useRef();ee.useImperativeHandle(We,function(){return{forceAlign:function(){},getElement:function(){return Mr.current}}});var jr=(0,B.Z)({zIndex:An},zt),eo=on;return ee.Children.count(on)>1&&(eo=ee.createElement("div",{className:"".concat(Ve,"-content")},on)),ii&&(eo=ii(eo)),ee.createElement(vn.ZP,(0,M.Z)({visible:Dt,ref:Mr,removeOnLeave:!0},cr),function(yi,ci){var Si=yi.className,Li=yi.style,to=at()(Ve,Tn,Si);return ee.createElement("div",{ref:ci,className:to,onClick:ui,style:(0,B.Z)((0,B.Z)({},Li),jr)},eo)})});Pr.displayName="MobilePopupInner";var Gn=Pr,vr=["visible","mobile"],$r=ee.forwardRef(function(_e,We){var Ve=_e.visible,Dt=_e.mobile,An=(0,tt.Z)(_e,vr),on=(0,ee.useState)(Ve),et=(0,U.Z)(on,2),Tn=et[0],zt=et[1],Xn=(0,ee.useState)(!1),cr=(0,U.Z)(Xn,2),ii=cr[0],ui=cr[1],Mr=(0,B.Z)((0,B.Z)({},An),{},{visible:Tn});(0,ee.useEffect)(function(){zt(Ve),Ve&&Dt&&ui((0,ut.Z)())},[Ve,Dt]);var jr=ii?ee.createElement(Gn,(0,M.Z)({},Mr,{mobile:Dt,ref:We})):ee.createElement(Zt,(0,M.Z)({},Mr,{ref:We}));return ee.createElement("div",null,ee.createElement(Ye,Mr),jr)});$r.displayName="Popup";var At=$r,Be=ee.createContext(null),Re=Be;function Fe(){}function Se(){return""}function wt(_e){return _e?_e.ownerDocument:window.document}var Gt=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Sn(_e){var We=function(Ve){(0,F.Z)(An,Ve);var Dt=(0,H.Z)(An);function An(on){var et;(0,j.Z)(this,An),et=Dt.call(this,on),(0,I.Z)((0,k.Z)(et),"popupRef",ee.createRef()),(0,I.Z)((0,k.Z)(et),"triggerRef",ee.createRef()),(0,I.Z)((0,k.Z)(et),"portalContainer",void 0),(0,I.Z)((0,k.Z)(et),"attachId",void 0),(0,I.Z)((0,k.Z)(et),"clickOutsideHandler",void 0),(0,I.Z)((0,k.Z)(et),"touchOutsideHandler",void 0),(0,I.Z)((0,k.Z)(et),"contextMenuOutsideHandler1",void 0),(0,I.Z)((0,k.Z)(et),"contextMenuOutsideHandler2",void 0),(0,I.Z)((0,k.Z)(et),"mouseDownTimeout",void 0),(0,I.Z)((0,k.Z)(et),"focusTime",void 0),(0,I.Z)((0,k.Z)(et),"preClickTime",void 0),(0,I.Z)((0,k.Z)(et),"preTouchTime",void 0),(0,I.Z)((0,k.Z)(et),"delayTimer",void 0),(0,I.Z)((0,k.Z)(et),"hasPopupMouseDown",void 0),(0,I.Z)((0,k.Z)(et),"onMouseEnter",function(zt){var Xn=et.props.mouseEnterDelay;et.fireEvents("onMouseEnter",zt),et.delaySetPopupVisible(!0,Xn,Xn?null:zt)}),(0,I.Z)((0,k.Z)(et),"onMouseMove",function(zt){et.fireEvents("onMouseMove",zt),et.setPoint(zt)}),(0,I.Z)((0,k.Z)(et),"onMouseLeave",function(zt){et.fireEvents("onMouseLeave",zt),et.delaySetPopupVisible(!1,et.props.mouseLeaveDelay)}),(0,I.Z)((0,k.Z)(et),"onPopupMouseEnter",function(){et.clearDelayTimer()}),(0,I.Z)((0,k.Z)(et),"onPopupMouseLeave",function(zt){var Xn;zt.relatedTarget&&!zt.relatedTarget.setTimeout&&(0,re.Z)((Xn=et.popupRef.current)===null||Xn===void 0?void 0:Xn.getElement(),zt.relatedTarget)||et.delaySetPopupVisible(!1,et.props.mouseLeaveDelay)}),(0,I.Z)((0,k.Z)(et),"onFocus",function(zt){et.fireEvents("onFocus",zt),et.clearDelayTimer(),et.isFocusToShow()&&(et.focusTime=Date.now(),et.delaySetPopupVisible(!0,et.props.focusDelay))}),(0,I.Z)((0,k.Z)(et),"onMouseDown",function(zt){et.fireEvents("onMouseDown",zt),et.preClickTime=Date.now()}),(0,I.Z)((0,k.Z)(et),"onTouchStart",function(zt){et.fireEvents("onTouchStart",zt),et.preTouchTime=Date.now()}),(0,I.Z)((0,k.Z)(et),"onBlur",function(zt){et.fireEvents("onBlur",zt),et.clearDelayTimer(),et.isBlurToHide()&&et.delaySetPopupVisible(!1,et.props.blurDelay)}),(0,I.Z)((0,k.Z)(et),"onContextMenu",function(zt){zt.preventDefault(),et.fireEvents("onContextMenu",zt),et.setPopupVisible(!0,zt)}),(0,I.Z)((0,k.Z)(et),"onContextMenuClose",function(){et.isContextMenuToShow()&&et.close()}),(0,I.Z)((0,k.Z)(et),"onClick",function(zt){if(et.fireEvents("onClick",zt),et.focusTime){var Xn;if(et.preClickTime&&et.preTouchTime?Xn=Math.min(et.preClickTime,et.preTouchTime):et.preClickTime?Xn=et.preClickTime:et.preTouchTime&&(Xn=et.preTouchTime),Math.abs(Xn-et.focusTime)<20)return;et.focusTime=0}et.preClickTime=0,et.preTouchTime=0,et.isClickToShow()&&(et.isClickToHide()||et.isBlurToHide())&&zt&&zt.preventDefault&&zt.preventDefault();var cr=!et.state.popupVisible;(et.isClickToHide()&&!cr||cr&&et.isClickToShow())&&et.setPopupVisible(!et.state.popupVisible,zt)}),(0,I.Z)((0,k.Z)(et),"onPopupMouseDown",function(){if(et.hasPopupMouseDown=!0,clearTimeout(et.mouseDownTimeout),et.mouseDownTimeout=window.setTimeout(function(){et.hasPopupMouseDown=!1},0),et.context){var zt;(zt=et.context).onPopupMouseDown.apply(zt,arguments)}}),(0,I.Z)((0,k.Z)(et),"onDocumentClick",function(zt){if(!(et.props.mask&&!et.props.maskClosable)){var Xn=zt.target,cr=et.getRootDomNode(),ii=et.getPopupDomNode();(!(0,re.Z)(cr,Xn)||et.isContextMenuOnly())&&!(0,re.Z)(ii,Xn)&&!et.hasPopupMouseDown&&et.close()}}),(0,I.Z)((0,k.Z)(et),"getRootDomNode",function(){var zt=et.props.getTriggerDOMNode;if(zt)return zt(et.triggerRef.current);try{var Xn=(0,ge.ZP)(et.triggerRef.current);if(Xn)return Xn}catch(cr){}return ae.findDOMNode((0,k.Z)(et))}),(0,I.Z)((0,k.Z)(et),"getPopupClassNameFromAlign",function(zt){var Xn=[],cr=et.props,ii=cr.popupPlacement,ui=cr.builtinPlacements,Mr=cr.prefixCls,jr=cr.alignPoint,eo=cr.getPopupClassNameFromAlign;return ii&&ui&&Xn.push(Vt(ui,Mr,zt,jr)),eo&&Xn.push(eo(zt)),Xn.join(" ")}),(0,I.Z)((0,k.Z)(et),"getComponent",function(){var zt=et.props,Xn=zt.prefixCls,cr=zt.destroyPopupOnHide,ii=zt.popupClassName,ui=zt.onPopupAlign,Mr=zt.popupMotion,jr=zt.popupAnimation,eo=zt.popupTransitionName,yi=zt.popupStyle,ci=zt.mask,Si=zt.maskAnimation,Li=zt.maskTransitionName,to=zt.maskMotion,Kr=zt.zIndex,gs=zt.popup,Cs=zt.stretch,es=zt.alignPoint,cs=zt.mobile,To=zt.forceRender,Do=zt.onPopupClick,Ko=et.state,os=Ko.popupVisible,_=Ko.point,K=et.getPopupAlign(),he={};return et.isMouseEnterToShow()&&(he.onMouseEnter=et.onPopupMouseEnter),et.isMouseLeaveToHide()&&(he.onMouseLeave=et.onPopupMouseLeave),he.onMouseDown=et.onPopupMouseDown,he.onTouchStart=et.onPopupMouseDown,ee.createElement(At,(0,M.Z)({prefixCls:Xn,destroyPopupOnHide:cr,visible:os,point:es&&_,className:ii,align:K,onAlign:ui,animation:jr,getClassNameFromAlign:et.getPopupClassNameFromAlign},he,{stretch:Cs,getRootDomNode:et.getRootDomNode,style:yi,mask:ci,zIndex:Kr,transitionName:eo,maskAnimation:Si,maskTransitionName:Li,maskMotion:to,ref:et.popupRef,motion:Mr,mobile:cs,forceRender:To,onClick:Do}),typeof gs=="function"?gs():gs)}),(0,I.Z)((0,k.Z)(et),"attachParent",function(zt){ue.Z.cancel(et.attachId);var Xn=et.props,cr=Xn.getPopupContainer,ii=Xn.getDocument,ui=et.getRootDomNode(),Mr;cr?(ui||cr.length===0)&&(Mr=cr(ui)):Mr=ii(et.getRootDomNode()).body,Mr?Mr.appendChild(zt):et.attachId=(0,ue.Z)(function(){et.attachParent(zt)})}),(0,I.Z)((0,k.Z)(et),"getContainer",function(){if(!et.portalContainer){var zt=et.props.getDocument,Xn=zt(et.getRootDomNode()).createElement("div");Xn.style.position="absolute",Xn.style.top="0",Xn.style.left="0",Xn.style.width="100%",et.portalContainer=Xn}return et.attachParent(et.portalContainer),et.portalContainer}),(0,I.Z)((0,k.Z)(et),"setPoint",function(zt){var Xn=et.props.alignPoint;!Xn||!zt||et.setState({point:{pageX:zt.pageX,pageY:zt.pageY}})}),(0,I.Z)((0,k.Z)(et),"handlePortalUpdate",function(){et.state.prevPopupVisible!==et.state.popupVisible&&et.props.afterPopupVisibleChange(et.state.popupVisible)}),(0,I.Z)((0,k.Z)(et),"triggerContextValue",{onPopupMouseDown:et.onPopupMouseDown});var Tn;return"popupVisible"in on?Tn=!!on.popupVisible:Tn=!!on.defaultPopupVisible,et.state={prevPopupVisible:Tn,popupVisible:Tn},Gt.forEach(function(zt){et["fire".concat(zt)]=function(Xn){et.fireEvents(zt,Xn)}}),et}return(0,R.Z)(An,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var et=this.props,Tn=this.state;if(Tn.popupVisible){var zt;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(zt=et.getDocument(this.getRootDomNode()),this.clickOutsideHandler=fe(zt,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(zt=zt||et.getDocument(this.getRootDomNode()),this.touchOutsideHandler=fe(zt,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(zt=zt||et.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=fe(zt,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=fe(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),ue.Z.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var et;return((et=this.popupRef.current)===null||et===void 0?void 0:et.getElement())||null}},{key:"getPopupAlign",value:function(){var et=this.props,Tn=et.popupPlacement,zt=et.popupAlign,Xn=et.builtinPlacements;return Tn&&Xn?vt(Xn,Tn,zt):zt}},{key:"setPopupVisible",value:function(et,Tn){var zt=this.props.alignPoint,Xn=this.state.popupVisible;this.clearDelayTimer(),Xn!==et&&("popupVisible"in this.props||this.setState({popupVisible:et,prevPopupVisible:Xn}),this.props.onPopupVisibleChange(et)),zt&&Tn&&et&&this.setPoint(Tn)}},{key:"delaySetPopupVisible",value:function(et,Tn,zt){var Xn=this,cr=Tn*1e3;if(this.clearDelayTimer(),cr){var ii=zt?{pageX:zt.pageX,pageY:zt.pageY}:null;this.delayTimer=window.setTimeout(function(){Xn.setPopupVisible(et,ii),Xn.clearDelayTimer()},cr)}else this.setPopupVisible(et,zt)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(et){var Tn=this.props.children.props,zt=this.props;return Tn[et]&&zt[et]?this["fire".concat(et)]:Tn[et]||zt[et]}},{key:"isClickToShow",value:function(){var et=this.props,Tn=et.action,zt=et.showAction;return Tn.indexOf("click")!==-1||zt.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var et=this.props.action;return et==="contextMenu"||et.length===1&&et[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var et=this.props,Tn=et.action,zt=et.showAction;return Tn.indexOf("contextMenu")!==-1||zt.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var et=this.props,Tn=et.action,zt=et.hideAction;return Tn.indexOf("click")!==-1||zt.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var et=this.props,Tn=et.action,zt=et.showAction;return Tn.indexOf("hover")!==-1||zt.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var et=this.props,Tn=et.action,zt=et.hideAction;return Tn.indexOf("hover")!==-1||zt.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var et=this.props,Tn=et.action,zt=et.showAction;return Tn.indexOf("focus")!==-1||zt.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var et=this.props,Tn=et.action,zt=et.hideAction;return Tn.indexOf("focus")!==-1||zt.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var et;(et=this.popupRef.current)===null||et===void 0||et.forceAlign()}}},{key:"fireEvents",value:function(et,Tn){var zt=this.props.children.props[et];zt&&zt(Tn);var Xn=this.props[et];Xn&&Xn(Tn)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var et=this.state.popupVisible,Tn=this.props,zt=Tn.children,Xn=Tn.forceRender,cr=Tn.alignPoint,ii=Tn.className,ui=Tn.autoDestroy,Mr=ee.Children.only(zt),jr={key:"trigger"};this.isContextMenuToShow()?jr.onContextMenu=this.onContextMenu:jr.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(jr.onClick=this.onClick,jr.onMouseDown=this.onMouseDown,jr.onTouchStart=this.onTouchStart):(jr.onClick=this.createTwoChains("onClick"),jr.onMouseDown=this.createTwoChains("onMouseDown"),jr.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(jr.onMouseEnter=this.onMouseEnter,cr&&(jr.onMouseMove=this.onMouseMove)):jr.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?jr.onMouseLeave=this.onMouseLeave:jr.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(jr.onFocus=this.onFocus,jr.onBlur=this.onBlur):(jr.onFocus=this.createTwoChains("onFocus"),jr.onBlur=this.createTwoChains("onBlur"));var eo=at()(Mr&&Mr.props&&Mr.props.className,ii);eo&&(jr.className=eo);var yi=(0,B.Z)({},jr);(0,Ze.Yr)(Mr)&&(yi.ref=(0,Ze.sQ)(this.triggerRef,Mr.ref));var ci=ee.cloneElement(Mr,yi),Si;return(et||this.popupRef.current||Xn)&&(Si=ee.createElement(_e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!et&&ui&&(Si=null),ee.createElement(Re.Provider,{value:this.triggerContextValue},ci,Si)}}],[{key:"getDerivedStateFromProps",value:function(et,Tn){var zt=et.popupVisible,Xn={};return zt!==void 0&&Tn.popupVisible!==zt&&(Xn.popupVisible=zt,Xn.prevPopupVisible=Tn.popupVisible),Xn}}]),An}(ee.Component);return(0,I.Z)(We,"contextType",Re),(0,I.Z)(We,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Se,getDocument:wt,onPopupVisibleChange:Fe,afterPopupVisibleChange:Fe,onPopupAlign:Fe,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),We}var Un=Sn(Pe)},38135:function(Ne,te,w){"use strict";var B;w.d(te,{s:function(){return Pe},v:function(){return Vt}});var M=w(74165),j=w(15861),R=w(71002),k=w(1413),F=w(73935),H=(0,k.Z)({},B||(B=w.t(F,2))),I=H.version,ee=H.render,ae=H.unmountComponentAtNode,ue;try{var re=Number((I||"").split(".")[0]);re>=18&&(ue=H.createRoot)}catch(tt){}function ge(tt){var ut=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ut&&(0,R.Z)(ut)==="object"&&(ut.usingClientEntryPoint=tt)}var Ze="__rc_react_root__";function fe(tt,ut){ge(!0);var vn=ut[Ze]||ue(ut);ge(!1),vn.render(tt),ut[Ze]=vn}function Ce(tt,ut){ee(tt,ut)}function Ae(tt,ut){}function Pe(tt,ut){if(ue){fe(tt,ut);return}Ce(tt,ut)}function ie(tt){return at.apply(this,arguments)}function at(){return at=(0,j.Z)((0,M.Z)().mark(function tt(ut){return(0,M.Z)().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:return ft.abrupt("return",Promise.resolve().then(function(){var Ye;(Ye=ut[Ze])===null||Ye===void 0||Ye.unmount(),delete ut[Ze]}));case 1:case"end":return ft.stop()}},tt)})),at.apply(this,arguments)}function mt(tt){ae(tt)}function vt(tt){}function Vt(tt){return U.apply(this,arguments)}function U(){return U=(0,j.Z)((0,M.Z)().mark(function tt(ut){return(0,M.Z)().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(ue===void 0){ft.next=2;break}return ft.abrupt("return",ie(ut));case 2:mt(ut);case 3:case"end":return ft.stop()}},tt)})),U.apply(this,arguments)}},55171:function(Ne,te,w){(function(B,M){Ne.exports=M(w(67294))})(this,function(B){return function(M){var j={};function R(k){if(j[k])return j[k].exports;var F=j[k]={i:k,l:!1,exports:{}};return M[k].call(F.exports,F,F.exports,R),F.l=!0,F.exports}return R.m=M,R.c=j,R.d=function(k,F,H){R.o(k,F)||Object.defineProperty(k,F,{enumerable:!0,get:H})},R.r=function(k){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})},R.t=function(k,F){if(1&F&&(k=R(k)),8&F||4&F&&typeof k=="object"&&k&&k.__esModule)return k;var H=Object.create(null);if(R.r(H),Object.defineProperty(H,"default",{enumerable:!0,value:k}),2&F&&typeof k!="string")for(var I in k)R.d(H,I,function(ee){return k[ee]}.bind(null,I));return H},R.n=function(k){var F=k&&k.__esModule?function(){return k.default}:function(){return k};return R.d(F,"a",F),F},R.o=function(k,F){return Object.prototype.hasOwnProperty.call(k,F)},R.p="",R(R.s=48)}([function(M,j){M.exports=B},function(M,j){var R=M.exports={version:"2.6.12"};typeof __e=="number"&&(__e=R)},function(M,j,R){var k=R(26)("wks"),F=R(17),H=R(3).Symbol,I=typeof H=="function";(M.exports=function(ee){return k[ee]||(k[ee]=I&&H[ee]||(I?H:F)("Symbol."+ee))}).store=k},function(M,j){var R=M.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=R)},function(M,j,R){M.exports=!R(8)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(M,j){var R={}.hasOwnProperty;M.exports=function(k,F){return R.call(k,F)}},function(M,j,R){var k=R(7),F=R(16);M.exports=R(4)?function(H,I,ee){return k.f(H,I,F(1,ee))}:function(H,I,ee){return H[I]=ee,H}},function(M,j,R){var k=R(10),F=R(35),H=R(23),I=Object.defineProperty;j.f=R(4)?Object.defineProperty:function(ee,ae,ue){if(k(ee),ae=H(ae,!0),k(ue),F)try{return I(ee,ae,ue)}catch(re){}if("get"in ue||"set"in ue)throw TypeError("Accessors not supported!");return"value"in ue&&(ee[ae]=ue.value),ee}},function(M,j){M.exports=function(R){try{return!!R()}catch(k){return!0}}},function(M,j,R){var k=R(40),F=R(22);M.exports=function(H){return k(F(H))}},function(M,j,R){var k=R(11);M.exports=function(F){if(!k(F))throw TypeError(F+" is not an object!");return F}},function(M,j){M.exports=function(R){return typeof R=="object"?R!==null:typeof R=="function"}},function(M,j){M.exports={}},function(M,j,R){var k=R(39),F=R(27);M.exports=Object.keys||function(H){return k(H,F)}},function(M,j){M.exports=!0},function(M,j,R){var k=R(3),F=R(1),H=R(53),I=R(6),ee=R(5),ae=function(ue,re,ge){var Ze,fe,Ce,Ae=ue&ae.F,Pe=ue&ae.G,ie=ue&ae.S,at=ue&ae.P,mt=ue&ae.B,vt=ue&ae.W,Vt=Pe?F:F[re]||(F[re]={}),U=Vt.prototype,tt=Pe?k:ie?k[re]:(k[re]||{}).prototype;for(Ze in Pe&&(ge=re),ge)(fe=!Ae&&tt&&tt[Ze]!==void 0)&&ee(Vt,Ze)||(Ce=fe?tt[Ze]:ge[Ze],Vt[Ze]=Pe&&typeof tt[Ze]!="function"?ge[Ze]:mt&&fe?H(Ce,k):vt&&tt[Ze]==Ce?function(ut){var vn=function(ft,Ye,Cn){if(this instanceof ut){switch(arguments.length){case 0:return new ut;case 1:return new ut(ft);case 2:return new ut(ft,Ye)}return new ut(ft,Ye,Cn)}return ut.apply(this,arguments)};return vn.prototype=ut.prototype,vn}(Ce):at&&typeof Ce=="function"?H(Function.call,Ce):Ce,at&&((Vt.virtual||(Vt.virtual={}))[Ze]=Ce,ue&ae.R&&U&&!U[Ze]&&I(U,Ze,Ce)))};ae.F=1,ae.G=2,ae.S=4,ae.P=8,ae.B=16,ae.W=32,ae.U=64,ae.R=128,M.exports=ae},function(M,j){M.exports=function(R,k){return{enumerable:!(1&R),configurable:!(2&R),writable:!(4&R),value:k}}},function(M,j){var R=0,k=Math.random();M.exports=function(F){return"Symbol(".concat(F===void 0?"":F,")_",(++R+k).toString(36))}},function(M,j,R){var k=R(22);M.exports=function(F){return Object(k(F))}},function(M,j){j.f={}.propertyIsEnumerable},function(M,j,R){"use strict";var k=R(52)(!0);R(34)(String,"String",function(F){this._t=String(F),this._i=0},function(){var F,H=this._t,I=this._i;return I>=H.length?{value:void 0,done:!0}:(F=k(H,I),this._i+=F.length,{value:F,done:!1})})},function(M,j){var R=Math.ceil,k=Math.floor;M.exports=function(F){return isNaN(F=+F)?0:(F>0?k:R)(F)}},function(M,j){M.exports=function(R){if(R==null)throw TypeError("Can't call method on  "+R);return R}},function(M,j,R){var k=R(11);M.exports=function(F,H){if(!k(F))return F;var I,ee;if(H&&typeof(I=F.toString)=="function"&&!k(ee=I.call(F))||typeof(I=F.valueOf)=="function"&&!k(ee=I.call(F))||!H&&typeof(I=F.toString)=="function"&&!k(ee=I.call(F)))return ee;throw TypeError("Can't convert object to primitive value")}},function(M,j){var R={}.toString;M.exports=function(k){return R.call(k).slice(8,-1)}},function(M,j,R){var k=R(26)("keys"),F=R(17);M.exports=function(H){return k[H]||(k[H]=F(H))}},function(M,j,R){var k=R(1),F=R(3),H=F["__core-js_shared__"]||(F["__core-js_shared__"]={});(M.exports=function(I,ee){return H[I]||(H[I]=ee!==void 0?ee:{})})("versions",[]).push({version:k.version,mode:R(14)?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},function(M,j){M.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(M,j,R){var k=R(7).f,F=R(5),H=R(2)("toStringTag");M.exports=function(I,ee,ae){I&&!F(I=ae?I:I.prototype,H)&&k(I,H,{configurable:!0,value:ee})}},function(M,j,R){R(62);for(var k=R(3),F=R(6),H=R(12),I=R(2)("toStringTag"),ee="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),ae=0;ae<ee.length;ae++){var ue=ee[ae],re=k[ue],ge=re&&re.prototype;ge&&!ge[I]&&F(ge,I,ue),H[ue]=H.Array}},function(M,j,R){j.f=R(2)},function(M,j,R){var k=R(3),F=R(1),H=R(14),I=R(30),ee=R(7).f;M.exports=function(ae){var ue=F.Symbol||(F.Symbol=H?{}:k.Symbol||{});ae.charAt(0)=="_"||ae in ue||ee(ue,ae,{value:I.f(ae)})}},function(M,j){j.f=Object.getOwnPropertySymbols},function(M,j){M.exports=function(R,k,F){return Math.min(Math.max(R,k),F)}},function(M,j,R){"use strict";var k=R(14),F=R(15),H=R(37),I=R(6),ee=R(12),ae=R(55),ue=R(28),re=R(61),ge=R(2)("iterator"),Ze=!([].keys&&"next"in[].keys()),fe=function(){return this};M.exports=function(Ce,Ae,Pe,ie,at,mt,vt){ae(Pe,Ae,ie);var Vt,U,tt,ut=function(Mt){if(!Ze&&Mt in Cn)return Cn[Mt];switch(Mt){case"keys":case"values":return function(){return new Pe(this,Mt)}}return function(){return new Pe(this,Mt)}},vn=Ae+" Iterator",ft=at=="values",Ye=!1,Cn=Ce.prototype,cn=Cn[ge]||Cn["@@iterator"]||at&&Cn[at],mr=cn||ut(at),pr=at?ft?ut("entries"):mr:void 0,hr=Ae=="Array"&&Cn.entries||cn;if(hr&&(tt=re(hr.call(new Ce)))!==Object.prototype&&tt.next&&(ue(tt,vn,!0),k||typeof tt[ge]=="function"||I(tt,ge,fe)),ft&&cn&&cn.name!=="values"&&(Ye=!0,mr=function(){return cn.call(this)}),k&&!vt||!Ze&&!Ye&&Cn[ge]||I(Cn,ge,mr),ee[Ae]=mr,ee[vn]=fe,at)if(Vt={values:ft?mr:ut("values"),keys:mt?mr:ut("keys"),entries:pr},vt)for(U in Vt)U in Cn||H(Cn,U,Vt[U]);else F(F.P+F.F*(Ze||Ye),Ae,Vt);return Vt}},function(M,j,R){M.exports=!R(4)&&!R(8)(function(){return Object.defineProperty(R(36)("div"),"a",{get:function(){return 7}}).a!=7})},function(M,j,R){var k=R(11),F=R(3).document,H=k(F)&&k(F.createElement);M.exports=function(I){return H?F.createElement(I):{}}},function(M,j,R){M.exports=R(6)},function(M,j,R){var k=R(10),F=R(56),H=R(27),I=R(25)("IE_PROTO"),ee=function(){},ae=function(){var ue,re=R(36)("iframe"),ge=H.length;for(re.style.display="none",R(60).appendChild(re),re.src="javascript:",(ue=re.contentWindow.document).open(),ue.write("<script>document.F=Object<\/script>"),ue.close(),ae=ue.F;ge--;)delete ae.prototype[H[ge]];return ae()};M.exports=Object.create||function(ue,re){var ge;return ue!==null?(ee.prototype=k(ue),ge=new ee,ee.prototype=null,ge[I]=ue):ge=ae(),re===void 0?ge:F(ge,re)}},function(M,j,R){var k=R(5),F=R(9),H=R(57)(!1),I=R(25)("IE_PROTO");M.exports=function(ee,ae){var ue,re=F(ee),ge=0,Ze=[];for(ue in re)ue!=I&&k(re,ue)&&Ze.push(ue);for(;ae.length>ge;)k(re,ue=ae[ge++])&&(~H(Ze,ue)||Ze.push(ue));return Ze}},function(M,j,R){var k=R(24);M.exports=Object("z").propertyIsEnumerable(0)?Object:function(F){return k(F)=="String"?F.split(""):Object(F)}},function(M,j,R){var k=R(39),F=R(27).concat("length","prototype");j.f=Object.getOwnPropertyNames||function(H){return k(H,F)}},function(M,j,R){var k=R(24),F=R(2)("toStringTag"),H=k(function(){return arguments}())=="Arguments";M.exports=function(I){var ee,ae,ue;return I===void 0?"Undefined":I===null?"Null":typeof(ae=function(re,ge){try{return re[ge]}catch(Ze){}}(ee=Object(I),F))=="string"?ae:H?k(ee):(ue=k(ee))=="Object"&&typeof ee.callee=="function"?"Arguments":ue}},function(M,j){var R;R=function(){return this}();try{R=R||new Function("return this")()}catch(k){typeof window=="object"&&(R=window)}M.exports=R},function(M,j){var R=/-?\d+(\.\d+)?%?/g;M.exports=function(k){return k.match(R)}},function(M,j,R){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getBase16Theme=j.createStyling=j.invertTheme=void 0;var k=fe(R(49)),F=fe(R(76)),H=fe(R(81)),I=fe(R(89)),ee=fe(R(93)),ae=function(U){if(U&&U.__esModule)return U;var tt={};if(U!=null)for(var ut in U)Object.prototype.hasOwnProperty.call(U,ut)&&(tt[ut]=U[ut]);return tt.default=U,tt}(R(94)),ue=fe(R(132)),re=fe(R(133)),ge=fe(R(138)),Ze=R(139);function fe(U){return U&&U.__esModule?U:{default:U}}var Ce=ae.default,Ae=(0,I.default)(Ce),Pe=(0,ge.default)(re.default,Ze.rgb2yuv,function(U){var tt,ut=(0,H.default)(U,3),vn=ut[0],ft=ut[1],Ye=ut[2];return[(tt=vn,tt<.25?1:tt<.5?.9-tt:1.1-tt),ft,Ye]},Ze.yuv2rgb,ue.default),ie=function(U){return function(tt){return{className:[tt.className,U.className].filter(Boolean).join(" "),style:(0,F.default)({},tt.style||{},U.style||{})}}},at=function(U,tt){var ut=(0,I.default)(tt);for(var vn in U)ut.indexOf(vn)===-1&&ut.push(vn);return ut.reduce(function(ft,Ye){return ft[Ye]=function(Cn,cn){if(Cn===void 0)return cn;if(cn===void 0)return Cn;var mr=Cn===void 0?"undefined":(0,k.default)(Cn),pr=cn===void 0?"undefined":(0,k.default)(cn);switch(mr){case"string":switch(pr){case"string":return[cn,Cn].filter(Boolean).join(" ");case"object":return ie({className:Cn,style:cn});case"function":return function(hr){for(var Mt=arguments.length,yt=Array(Mt>1?Mt-1:0),Et=1;Et<Mt;Et++)yt[Et-1]=arguments[Et];return ie({className:Cn})(cn.apply(void 0,[hr].concat(yt)))}}case"object":switch(pr){case"string":return ie({className:cn,style:Cn});case"object":return(0,F.default)({},cn,Cn);case"function":return function(hr){for(var Mt=arguments.length,yt=Array(Mt>1?Mt-1:0),Et=1;Et<Mt;Et++)yt[Et-1]=arguments[Et];return ie({style:Cn})(cn.apply(void 0,[hr].concat(yt)))}}case"function":switch(pr){case"string":return function(hr){for(var Mt=arguments.length,yt=Array(Mt>1?Mt-1:0),Et=1;Et<Mt;Et++)yt[Et-1]=arguments[Et];return Cn.apply(void 0,[ie(hr)({className:cn})].concat(yt))};case"object":return function(hr){for(var Mt=arguments.length,yt=Array(Mt>1?Mt-1:0),Et=1;Et<Mt;Et++)yt[Et-1]=arguments[Et];return Cn.apply(void 0,[ie(hr)({style:cn})].concat(yt))};case"function":return function(hr){for(var Mt=arguments.length,yt=Array(Mt>1?Mt-1:0),Et=1;Et<Mt;Et++)yt[Et-1]=arguments[Et];return Cn.apply(void 0,[cn.apply(void 0,[hr].concat(yt))].concat(yt))}}}}(U[Ye],tt[Ye]),ft},{})},mt=function(U,tt){for(var ut=arguments.length,vn=Array(ut>2?ut-2:0),ft=2;ft<ut;ft++)vn[ft-2]=arguments[ft];if(tt===null)return U;Array.isArray(tt)||(tt=[tt]);var Ye=tt.map(function(cn){return U[cn]}).filter(Boolean),Cn=Ye.reduce(function(cn,mr){return typeof mr=="string"?cn.className=[cn.className,mr].filter(Boolean).join(" "):(mr===void 0?"undefined":(0,k.default)(mr))==="object"?cn.style=(0,F.default)({},cn.style,mr):typeof mr=="function"&&(cn=(0,F.default)({},cn,mr.apply(void 0,[cn].concat(vn)))),cn},{className:"",style:{}});return Cn.className||delete Cn.className,(0,I.default)(Cn.style).length===0&&delete Cn.style,Cn},vt=j.invertTheme=function(U){return(0,I.default)(U).reduce(function(tt,ut){return tt[ut]=/^base/.test(ut)?Pe(U[ut]):ut==="scheme"?U[ut]+":inverted":U[ut],tt},{})},Vt=(j.createStyling=(0,ee.default)(function(U){for(var tt=arguments.length,ut=Array(tt>3?tt-3:0),vn=3;vn<tt;vn++)ut[vn-3]=arguments[vn];var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Cn=ft.defaultBase16,cn=Cn===void 0?Ce:Cn,mr=ft.base16Themes,pr=mr===void 0?null:mr,hr=Vt(Ye,pr);hr&&(Ye=(0,F.default)({},hr,Ye));var Mt=Ae.reduce(function($t,Jt){return $t[Jt]=Ye[Jt]||cn[Jt],$t},{}),yt=(0,I.default)(Ye).reduce(function($t,Jt){return Ae.indexOf(Jt)===-1&&($t[Jt]=Ye[Jt]),$t},{}),Et=U(Mt),$e=at(yt,Et);return(0,ee.default)(mt,2).apply(void 0,[$e].concat(ut))},3),j.getBase16Theme=function(U,tt){if(U&&U.extend&&(U=U.extend),typeof U=="string"){var ut=U.split(":"),vn=(0,H.default)(ut,2),ft=vn[0],Ye=vn[1];U=(tt||{})[ft]||ae[ft],Ye==="inverted"&&(U=vt(U))}return U&&U.hasOwnProperty("base00")?U:void 0})},function(M,j,R){"use strict";var k,F=typeof Reflect=="object"?Reflect:null,H=F&&typeof F.apply=="function"?F.apply:function(ie,at,mt){return Function.prototype.apply.call(ie,at,mt)};k=F&&typeof F.ownKeys=="function"?F.ownKeys:Object.getOwnPropertySymbols?function(ie){return Object.getOwnPropertyNames(ie).concat(Object.getOwnPropertySymbols(ie))}:function(ie){return Object.getOwnPropertyNames(ie)};var I=Number.isNaN||function(ie){return ie!=ie};function ee(){ee.init.call(this)}M.exports=ee,M.exports.once=function(ie,at){return new Promise(function(mt,vt){function Vt(){U!==void 0&&ie.removeListener("error",U),mt([].slice.call(arguments))}var U;at!=="error"&&(U=function(tt){ie.removeListener(at,Vt),vt(tt)},ie.once("error",U)),ie.once(at,Vt)})},ee.EventEmitter=ee,ee.prototype._events=void 0,ee.prototype._eventsCount=0,ee.prototype._maxListeners=void 0;var ae=10;function ue(ie){if(typeof ie!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ie)}function re(ie){return ie._maxListeners===void 0?ee.defaultMaxListeners:ie._maxListeners}function ge(ie,at,mt,vt){var Vt,U,tt,ut;if(ue(mt),(U=ie._events)===void 0?(U=ie._events=Object.create(null),ie._eventsCount=0):(U.newListener!==void 0&&(ie.emit("newListener",at,mt.listener?mt.listener:mt),U=ie._events),tt=U[at]),tt===void 0)tt=U[at]=mt,++ie._eventsCount;else if(typeof tt=="function"?tt=U[at]=vt?[mt,tt]:[tt,mt]:vt?tt.unshift(mt):tt.push(mt),(Vt=re(ie))>0&&tt.length>Vt&&!tt.warned){tt.warned=!0;var vn=new Error("Possible EventEmitter memory leak detected. "+tt.length+" "+String(at)+" listeners added. Use emitter.setMaxListeners() to increase limit");vn.name="MaxListenersExceededWarning",vn.emitter=ie,vn.type=at,vn.count=tt.length,ut=vn,console&&console.warn&&console.warn(ut)}return ie}function Ze(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function fe(ie,at,mt){var vt={fired:!1,wrapFn:void 0,target:ie,type:at,listener:mt},Vt=Ze.bind(vt);return Vt.listener=mt,vt.wrapFn=Vt,Vt}function Ce(ie,at,mt){var vt=ie._events;if(vt===void 0)return[];var Vt=vt[at];return Vt===void 0?[]:typeof Vt=="function"?mt?[Vt.listener||Vt]:[Vt]:mt?function(U){for(var tt=new Array(U.length),ut=0;ut<tt.length;++ut)tt[ut]=U[ut].listener||U[ut];return tt}(Vt):Pe(Vt,Vt.length)}function Ae(ie){var at=this._events;if(at!==void 0){var mt=at[ie];if(typeof mt=="function")return 1;if(mt!==void 0)return mt.length}return 0}function Pe(ie,at){for(var mt=new Array(at),vt=0;vt<at;++vt)mt[vt]=ie[vt];return mt}Object.defineProperty(ee,"defaultMaxListeners",{enumerable:!0,get:function(){return ae},set:function(ie){if(typeof ie!="number"||ie<0||I(ie))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ie+".");ae=ie}}),ee.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ee.prototype.setMaxListeners=function(ie){if(typeof ie!="number"||ie<0||I(ie))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ie+".");return this._maxListeners=ie,this},ee.prototype.getMaxListeners=function(){return re(this)},ee.prototype.emit=function(ie){for(var at=[],mt=1;mt<arguments.length;mt++)at.push(arguments[mt]);var vt=ie==="error",Vt=this._events;if(Vt!==void 0)vt=vt&&Vt.error===void 0;else if(!vt)return!1;if(vt){var U;if(at.length>0&&(U=at[0]),U instanceof Error)throw U;var tt=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw tt.context=U,tt}var ut=Vt[ie];if(ut===void 0)return!1;if(typeof ut=="function")H(ut,this,at);else{var vn=ut.length,ft=Pe(ut,vn);for(mt=0;mt<vn;++mt)H(ft[mt],this,at)}return!0},ee.prototype.addListener=function(ie,at){return ge(this,ie,at,!1)},ee.prototype.on=ee.prototype.addListener,ee.prototype.prependListener=function(ie,at){return ge(this,ie,at,!0)},ee.prototype.once=function(ie,at){return ue(at),this.on(ie,fe(this,ie,at)),this},ee.prototype.prependOnceListener=function(ie,at){return ue(at),this.prependListener(ie,fe(this,ie,at)),this},ee.prototype.removeListener=function(ie,at){var mt,vt,Vt,U,tt;if(ue(at),(vt=this._events)===void 0)return this;if((mt=vt[ie])===void 0)return this;if(mt===at||mt.listener===at)--this._eventsCount==0?this._events=Object.create(null):(delete vt[ie],vt.removeListener&&this.emit("removeListener",ie,mt.listener||at));else if(typeof mt!="function"){for(Vt=-1,U=mt.length-1;U>=0;U--)if(mt[U]===at||mt[U].listener===at){tt=mt[U].listener,Vt=U;break}if(Vt<0)return this;Vt===0?mt.shift():function(ut,vn){for(;vn+1<ut.length;vn++)ut[vn]=ut[vn+1];ut.pop()}(mt,Vt),mt.length===1&&(vt[ie]=mt[0]),vt.removeListener!==void 0&&this.emit("removeListener",ie,tt||at)}return this},ee.prototype.off=ee.prototype.removeListener,ee.prototype.removeAllListeners=function(ie){var at,mt,vt;if((mt=this._events)===void 0)return this;if(mt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):mt[ie]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete mt[ie]),this;if(arguments.length===0){var Vt,U=Object.keys(mt);for(vt=0;vt<U.length;++vt)(Vt=U[vt])!=="removeListener"&&this.removeAllListeners(Vt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(at=mt[ie])=="function")this.removeListener(ie,at);else if(at!==void 0)for(vt=at.length-1;vt>=0;vt--)this.removeListener(ie,at[vt]);return this},ee.prototype.listeners=function(ie){return Ce(this,ie,!0)},ee.prototype.rawListeners=function(ie){return Ce(this,ie,!1)},ee.listenerCount=function(ie,at){return typeof ie.listenerCount=="function"?ie.listenerCount(at):Ae.call(ie,at)},ee.prototype.listenerCount=Ae,ee.prototype.eventNames=function(){return this._eventsCount>0?k(this._events):[]}},function(M,j,R){M.exports.Dispatcher=R(140)},function(M,j,R){M.exports=R(142)},function(M,j,R){"use strict";j.__esModule=!0;var k=I(R(50)),F=I(R(65)),H=typeof F.default=="function"&&typeof k.default=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof F.default=="function"&&ee.constructor===F.default&&ee!==F.default.prototype?"symbol":typeof ee};function I(ee){return ee&&ee.__esModule?ee:{default:ee}}j.default=typeof F.default=="function"&&H(k.default)==="symbol"?function(ee){return ee===void 0?"undefined":H(ee)}:function(ee){return ee&&typeof F.default=="function"&&ee.constructor===F.default&&ee!==F.default.prototype?"symbol":ee===void 0?"undefined":H(ee)}},function(M,j,R){M.exports={default:R(51),__esModule:!0}},function(M,j,R){R(20),R(29),M.exports=R(30).f("iterator")},function(M,j,R){var k=R(21),F=R(22);M.exports=function(H){return function(I,ee){var ae,ue,re=String(F(I)),ge=k(ee),Ze=re.length;return ge<0||ge>=Ze?H?"":void 0:(ae=re.charCodeAt(ge))<55296||ae>56319||ge+1===Ze||(ue=re.charCodeAt(ge+1))<56320||ue>57343?H?re.charAt(ge):ae:H?re.slice(ge,ge+2):ue-56320+(ae-55296<<10)+65536}}},function(M,j,R){var k=R(54);M.exports=function(F,H,I){if(k(F),H===void 0)return F;switch(I){case 1:return function(ee){return F.call(H,ee)};case 2:return function(ee,ae){return F.call(H,ee,ae)};case 3:return function(ee,ae,ue){return F.call(H,ee,ae,ue)}}return function(){return F.apply(H,arguments)}}},function(M,j){M.exports=function(R){if(typeof R!="function")throw TypeError(R+" is not a function!");return R}},function(M,j,R){"use strict";var k=R(38),F=R(16),H=R(28),I={};R(6)(I,R(2)("iterator"),function(){return this}),M.exports=function(ee,ae,ue){ee.prototype=k(I,{next:F(1,ue)}),H(ee,ae+" Iterator")}},function(M,j,R){var k=R(7),F=R(10),H=R(13);M.exports=R(4)?Object.defineProperties:function(I,ee){F(I);for(var ae,ue=H(ee),re=ue.length,ge=0;re>ge;)k.f(I,ae=ue[ge++],ee[ae]);return I}},function(M,j,R){var k=R(9),F=R(58),H=R(59);M.exports=function(I){return function(ee,ae,ue){var re,ge=k(ee),Ze=F(ge.length),fe=H(ue,Ze);if(I&&ae!=ae){for(;Ze>fe;)if((re=ge[fe++])!=re)return!0}else for(;Ze>fe;fe++)if((I||fe in ge)&&ge[fe]===ae)return I||fe||0;return!I&&-1}}},function(M,j,R){var k=R(21),F=Math.min;M.exports=function(H){return H>0?F(k(H),9007199254740991):0}},function(M,j,R){var k=R(21),F=Math.max,H=Math.min;M.exports=function(I,ee){return(I=k(I))<0?F(I+ee,0):H(I,ee)}},function(M,j,R){var k=R(3).document;M.exports=k&&k.documentElement},function(M,j,R){var k=R(5),F=R(18),H=R(25)("IE_PROTO"),I=Object.prototype;M.exports=Object.getPrototypeOf||function(ee){return ee=F(ee),k(ee,H)?ee[H]:typeof ee.constructor=="function"&&ee instanceof ee.constructor?ee.constructor.prototype:ee instanceof Object?I:null}},function(M,j,R){"use strict";var k=R(63),F=R(64),H=R(12),I=R(9);M.exports=R(34)(Array,"Array",function(ee,ae){this._t=I(ee),this._i=0,this._k=ae},function(){var ee=this._t,ae=this._k,ue=this._i++;return!ee||ue>=ee.length?(this._t=void 0,F(1)):F(0,ae=="keys"?ue:ae=="values"?ee[ue]:[ue,ee[ue]])},"values"),H.Arguments=H.Array,k("keys"),k("values"),k("entries")},function(M,j){M.exports=function(){}},function(M,j){M.exports=function(R,k){return{value:k,done:!!R}}},function(M,j,R){M.exports={default:R(66),__esModule:!0}},function(M,j,R){R(67),R(73),R(74),R(75),M.exports=R(1).Symbol},function(M,j,R){"use strict";var k=R(3),F=R(5),H=R(4),I=R(15),ee=R(37),ae=R(68).KEY,ue=R(8),re=R(26),ge=R(28),Ze=R(17),fe=R(2),Ce=R(30),Ae=R(31),Pe=R(69),ie=R(70),at=R(10),mt=R(11),vt=R(18),Vt=R(9),U=R(23),tt=R(16),ut=R(38),vn=R(71),ft=R(72),Ye=R(32),Cn=R(7),cn=R(13),mr=ft.f,pr=Cn.f,hr=vn.f,Mt=k.Symbol,yt=k.JSON,Et=yt&&yt.stringify,$e=fe("_hidden"),$t=fe("toPrimitive"),Jt={}.propertyIsEnumerable,tn=re("symbol-registry"),ir=re("symbols"),Or=re("op-symbols"),Fr=Object.prototype,lr=typeof Mt=="function"&&!!Ye.f,Yr=k.QObject,jn=!Yr||!Yr.prototype||!Yr.prototype.findChild,dr=H&&ue(function(){return ut(pr({},"a",{get:function(){return pr(this,"a",{value:7}).a}})).a!=7})?function(pt,rt,qt){var Dn=mr(Fr,rt);Dn&&delete Fr[rt],pr(pt,rt,qt),Dn&&pt!==Fr&&pr(Fr,rt,Dn)}:pr,br=function(pt){var rt=ir[pt]=ut(Mt.prototype);return rt._k=pt,rt},nr=lr&&typeof Mt.iterator=="symbol"?function(pt){return typeof pt=="symbol"}:function(pt){return pt instanceof Mt},Lr=function(pt,rt,qt){return pt===Fr&&Lr(Or,rt,qt),at(pt),rt=U(rt,!0),at(qt),F(ir,rt)?(qt.enumerable?(F(pt,$e)&&pt[$e][rt]&&(pt[$e][rt]=!1),qt=ut(qt,{enumerable:tt(0,!1)})):(F(pt,$e)||pr(pt,$e,tt(1,{})),pt[$e][rt]=!0),dr(pt,rt,qt)):pr(pt,rt,qt)},Ji=function(pt,rt){at(pt);for(var qt,Dn=Pe(rt=Vt(rt)),_n=0,Wr=Dn.length;Wr>_n;)Lr(pt,qt=Dn[_n++],rt[qt]);return pt},Ci=function(pt){var rt=Jt.call(this,pt=U(pt,!0));return!(this===Fr&&F(ir,pt)&&!F(Or,pt))&&(!(rt||!F(this,pt)||!F(ir,pt)||F(this,$e)&&this[$e][pt])||rt)},$i=function(pt,rt){if(pt=Vt(pt),rt=U(rt,!0),pt!==Fr||!F(ir,rt)||F(Or,rt)){var qt=mr(pt,rt);return!qt||!F(ir,rt)||F(pt,$e)&&pt[$e][rt]||(qt.enumerable=!0),qt}},It=function(pt){for(var rt,qt=hr(Vt(pt)),Dn=[],_n=0;qt.length>_n;)F(ir,rt=qt[_n++])||rt==$e||rt==ae||Dn.push(rt);return Dn},Q=function(pt){for(var rt,qt=pt===Fr,Dn=hr(qt?Or:Vt(pt)),_n=[],Wr=0;Dn.length>Wr;)!F(ir,rt=Dn[Wr++])||qt&&!F(Fr,rt)||_n.push(ir[rt]);return _n};lr||(ee((Mt=function(){if(this instanceof Mt)throw TypeError("Symbol is not a constructor!");var pt=Ze(arguments.length>0?arguments[0]:void 0),rt=function(qt){this===Fr&&rt.call(Or,qt),F(this,$e)&&F(this[$e],pt)&&(this[$e][pt]=!1),dr(this,pt,tt(1,qt))};return H&&jn&&dr(Fr,pt,{configurable:!0,set:rt}),br(pt)}).prototype,"toString",function(){return this._k}),ft.f=$i,Cn.f=Lr,R(41).f=vn.f=It,R(19).f=Ci,Ye.f=Q,H&&!R(14)&&ee(Fr,"propertyIsEnumerable",Ci,!0),Ce.f=function(pt){return br(fe(pt))}),I(I.G+I.W+I.F*!lr,{Symbol:Mt});for(var we="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Nt=0;we.length>Nt;)fe(we[Nt++]);for(var jt=cn(fe.store),gt=0;jt.length>gt;)Ae(jt[gt++]);I(I.S+I.F*!lr,"Symbol",{for:function(pt){return F(tn,pt+="")?tn[pt]:tn[pt]=Mt(pt)},keyFor:function(pt){if(!nr(pt))throw TypeError(pt+" is not a symbol!");for(var rt in tn)if(tn[rt]===pt)return rt},useSetter:function(){jn=!0},useSimple:function(){jn=!1}}),I(I.S+I.F*!lr,"Object",{create:function(pt,rt){return rt===void 0?ut(pt):Ji(ut(pt),rt)},defineProperty:Lr,defineProperties:Ji,getOwnPropertyDescriptor:$i,getOwnPropertyNames:It,getOwnPropertySymbols:Q});var Je=ue(function(){Ye.f(1)});I(I.S+I.F*Je,"Object",{getOwnPropertySymbols:function(pt){return Ye.f(vt(pt))}}),yt&&I(I.S+I.F*(!lr||ue(function(){var pt=Mt();return Et([pt])!="[null]"||Et({a:pt})!="{}"||Et(Object(pt))!="{}"})),"JSON",{stringify:function(pt){for(var rt,qt,Dn=[pt],_n=1;arguments.length>_n;)Dn.push(arguments[_n++]);if(qt=rt=Dn[1],(mt(rt)||pt!==void 0)&&!nr(pt))return ie(rt)||(rt=function(Wr,Qn){if(typeof qt=="function"&&(Qn=qt.call(this,Wr,Qn)),!nr(Qn))return Qn}),Dn[1]=rt,Et.apply(yt,Dn)}}),Mt.prototype[$t]||R(6)(Mt.prototype,$t,Mt.prototype.valueOf),ge(Mt,"Symbol"),ge(Math,"Math",!0),ge(k.JSON,"JSON",!0)},function(M,j,R){var k=R(17)("meta"),F=R(11),H=R(5),I=R(7).f,ee=0,ae=Object.isExtensible||function(){return!0},ue=!R(8)(function(){return ae(Object.preventExtensions({}))}),re=function(Ze){I(Ze,k,{value:{i:"O"+ ++ee,w:{}}})},ge=M.exports={KEY:k,NEED:!1,fastKey:function(Ze,fe){if(!F(Ze))return typeof Ze=="symbol"?Ze:(typeof Ze=="string"?"S":"P")+Ze;if(!H(Ze,k)){if(!ae(Ze))return"F";if(!fe)return"E";re(Ze)}return Ze[k].i},getWeak:function(Ze,fe){if(!H(Ze,k)){if(!ae(Ze))return!0;if(!fe)return!1;re(Ze)}return Ze[k].w},onFreeze:function(Ze){return ue&&ge.NEED&&ae(Ze)&&!H(Ze,k)&&re(Ze),Ze}}},function(M,j,R){var k=R(13),F=R(32),H=R(19);M.exports=function(I){var ee=k(I),ae=F.f;if(ae)for(var ue,re=ae(I),ge=H.f,Ze=0;re.length>Ze;)ge.call(I,ue=re[Ze++])&&ee.push(ue);return ee}},function(M,j,R){var k=R(24);M.exports=Array.isArray||function(F){return k(F)=="Array"}},function(M,j,R){var k=R(9),F=R(41).f,H={}.toString,I=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];M.exports.f=function(ee){return I&&H.call(ee)=="[object Window]"?function(ae){try{return F(ae)}catch(ue){return I.slice()}}(ee):F(k(ee))}},function(M,j,R){var k=R(19),F=R(16),H=R(9),I=R(23),ee=R(5),ae=R(35),ue=Object.getOwnPropertyDescriptor;j.f=R(4)?ue:function(re,ge){if(re=H(re),ge=I(ge,!0),ae)try{return ue(re,ge)}catch(Ze){}if(ee(re,ge))return F(!k.f.call(re,ge),re[ge])}},function(M,j){},function(M,j,R){R(31)("asyncIterator")},function(M,j,R){R(31)("observable")},function(M,j,R){"use strict";j.__esModule=!0;var k,F=R(77),H=(k=F)&&k.__esModule?k:{default:k};j.default=H.default||function(I){for(var ee=1;ee<arguments.length;ee++){var ae=arguments[ee];for(var ue in ae)Object.prototype.hasOwnProperty.call(ae,ue)&&(I[ue]=ae[ue])}return I}},function(M,j,R){M.exports={default:R(78),__esModule:!0}},function(M,j,R){R(79),M.exports=R(1).Object.assign},function(M,j,R){var k=R(15);k(k.S+k.F,"Object",{assign:R(80)})},function(M,j,R){"use strict";var k=R(4),F=R(13),H=R(32),I=R(19),ee=R(18),ae=R(40),ue=Object.assign;M.exports=!ue||R(8)(function(){var re={},ge={},Ze=Symbol(),fe="abcdefghijklmnopqrst";return re[Ze]=7,fe.split("").forEach(function(Ce){ge[Ce]=Ce}),ue({},re)[Ze]!=7||Object.keys(ue({},ge)).join("")!=fe})?function(re,ge){for(var Ze=ee(re),fe=arguments.length,Ce=1,Ae=H.f,Pe=I.f;fe>Ce;)for(var ie,at=ae(arguments[Ce++]),mt=Ae?F(at).concat(Ae(at)):F(at),vt=mt.length,Vt=0;vt>Vt;)ie=mt[Vt++],k&&!Pe.call(at,ie)||(Ze[ie]=at[ie]);return Ze}:ue},function(M,j,R){"use strict";j.__esModule=!0;var k=H(R(82)),F=H(R(85));function H(I){return I&&I.__esModule?I:{default:I}}j.default=function(I,ee){if(Array.isArray(I))return I;if((0,k.default)(Object(I)))return function(ae,ue){var re=[],ge=!0,Ze=!1,fe=void 0;try{for(var Ce,Ae=(0,F.default)(ae);!(ge=(Ce=Ae.next()).done)&&(re.push(Ce.value),!ue||re.length!==ue);ge=!0);}catch(Pe){Ze=!0,fe=Pe}finally{try{!ge&&Ae.return&&Ae.return()}finally{if(Ze)throw fe}}return re}(I,ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(M,j,R){M.exports={default:R(83),__esModule:!0}},function(M,j,R){R(29),R(20),M.exports=R(84)},function(M,j,R){var k=R(42),F=R(2)("iterator"),H=R(12);M.exports=R(1).isIterable=function(I){var ee=Object(I);return ee[F]!==void 0||"@@iterator"in ee||H.hasOwnProperty(k(ee))}},function(M,j,R){M.exports={default:R(86),__esModule:!0}},function(M,j,R){R(29),R(20),M.exports=R(87)},function(M,j,R){var k=R(10),F=R(88);M.exports=R(1).getIterator=function(H){var I=F(H);if(typeof I!="function")throw TypeError(H+" is not iterable!");return k(I.call(H))}},function(M,j,R){var k=R(42),F=R(2)("iterator"),H=R(12);M.exports=R(1).getIteratorMethod=function(I){if(I!=null)return I[F]||I["@@iterator"]||H[k(I)]}},function(M,j,R){M.exports={default:R(90),__esModule:!0}},function(M,j,R){R(91),M.exports=R(1).Object.keys},function(M,j,R){var k=R(18),F=R(13);R(92)("keys",function(){return function(H){return F(k(H))}})},function(M,j,R){var k=R(15),F=R(1),H=R(8);M.exports=function(I,ee){var ae=(F.Object||{})[I]||Object[I],ue={};ue[I]=ee(ae),k(k.S+k.F*H(function(){ae(1)}),"Object",ue)}},function(M,j,R){(function(k){var F=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],H=/^\s+|\s+$/g,I=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ee=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ue=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,Ze=/^0o[0-7]+$/i,fe=/^(?:0|[1-9]\d*)$/,Ce=parseInt,Ae=typeof k=="object"&&k&&k.Object===Object&&k,Pe=typeof self=="object"&&self&&self.Object===Object&&self,ie=Ae||Pe||Function("return this")();function at(gt,Je,pt){switch(pt.length){case 0:return gt.call(Je);case 1:return gt.call(Je,pt[0]);case 2:return gt.call(Je,pt[0],pt[1]);case 3:return gt.call(Je,pt[0],pt[1],pt[2])}return gt.apply(Je,pt)}function mt(gt,Je){return!!(gt&&gt.length)&&function(pt,rt,qt){if(rt!=rt)return function(Wr,Qn,it,mn){for(var kn=Wr.length,gr=it+(mn?1:-1);mn?gr--:++gr<kn;)if(Qn(Wr[gr],gr,Wr))return gr;return-1}(pt,vt,qt);for(var Dn=qt-1,_n=pt.length;++Dn<_n;)if(pt[Dn]===rt)return Dn;return-1}(gt,Je,0)>-1}function vt(gt){return gt!=gt}function Vt(gt,Je){for(var pt=gt.length,rt=0;pt--;)gt[pt]===Je&&rt++;return rt}function U(gt,Je){for(var pt=-1,rt=gt.length,qt=0,Dn=[];++pt<rt;){var _n=gt[pt];_n!==Je&&_n!=="__lodash_placeholder__"||(gt[pt]="__lodash_placeholder__",Dn[qt++]=pt)}return Dn}var tt,ut,vn,ft=Function.prototype,Ye=Object.prototype,Cn=ie["__core-js_shared__"],cn=(tt=/[^.]+$/.exec(Cn&&Cn.keys&&Cn.keys.IE_PROTO||""))?"Symbol(src)_1."+tt:"",mr=ft.toString,pr=Ye.hasOwnProperty,hr=Ye.toString,Mt=RegExp("^"+mr.call(pr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=Object.create,Et=Math.max,$e=Math.min,$t=(ut=br(Object,"defineProperty"),(vn=br.name)&&vn.length>2?ut:void 0);function Jt(gt){return we(gt)?yt(gt):{}}function tn(gt){return!(!we(gt)||function(Je){return!!cn&&cn in Je}(gt))&&(function(Je){var pt=we(Je)?hr.call(Je):"";return pt=="[object Function]"||pt=="[object GeneratorFunction]"}(gt)||function(Je){var pt=!1;if(Je!=null&&typeof Je.toString!="function")try{pt=!!(Je+"")}catch(rt){}return pt}(gt)?Mt:ge).test(function(Je){if(Je!=null){try{return mr.call(Je)}catch(pt){}try{return Je+""}catch(pt){}}return""}(gt))}function ir(gt,Je,pt,rt){for(var qt=-1,Dn=gt.length,_n=pt.length,Wr=-1,Qn=Je.length,it=Et(Dn-_n,0),mn=Array(Qn+it),kn=!rt;++Wr<Qn;)mn[Wr]=Je[Wr];for(;++qt<_n;)(kn||qt<Dn)&&(mn[pt[qt]]=gt[qt]);for(;it--;)mn[Wr++]=gt[qt++];return mn}function Or(gt,Je,pt,rt){for(var qt=-1,Dn=gt.length,_n=-1,Wr=pt.length,Qn=-1,it=Je.length,mn=Et(Dn-Wr,0),kn=Array(mn+it),gr=!rt;++qt<mn;)kn[qt]=gt[qt];for(var kr=qt;++Qn<it;)kn[kr+Qn]=Je[Qn];for(;++_n<Wr;)(gr||qt<Dn)&&(kn[kr+pt[_n]]=gt[qt++]);return kn}function Fr(gt){return function(){var Je=arguments;switch(Je.length){case 0:return new gt;case 1:return new gt(Je[0]);case 2:return new gt(Je[0],Je[1]);case 3:return new gt(Je[0],Je[1],Je[2]);case 4:return new gt(Je[0],Je[1],Je[2],Je[3]);case 5:return new gt(Je[0],Je[1],Je[2],Je[3],Je[4]);case 6:return new gt(Je[0],Je[1],Je[2],Je[3],Je[4],Je[5]);case 7:return new gt(Je[0],Je[1],Je[2],Je[3],Je[4],Je[5],Je[6])}var pt=Jt(gt.prototype),rt=gt.apply(pt,Je);return we(rt)?rt:pt}}function lr(gt,Je,pt,rt,qt,Dn,_n,Wr,Qn,it){var mn=128&Je,kn=1&Je,gr=2&Je,kr=24&Je,Ei=512&Je,er=gr?void 0:Fr(gt);return function Tt(){for(var sn=arguments.length,_t=Array(sn),Ut=sn;Ut--;)_t[Ut]=arguments[Ut];if(kr)var Rn=dr(Tt),Cr=Vt(_t,Rn);if(rt&&(_t=ir(_t,rt,qt,kr)),Dn&&(_t=Or(_t,Dn,_n,kr)),sn-=Cr,kr&&sn<it){var si=U(_t,Rn);return Yr(gt,Je,lr,Tt.placeholder,pt,_t,si,Wr,Qn,it-sn)}var tr=kn?pt:this,xn=gr?tr[gt]:gt;return sn=_t.length,Wr?_t=Ci(_t,Wr):Ei&&sn>1&&_t.reverse(),mn&&Qn<sn&&(_t.length=Qn),this&&this!==ie&&this instanceof Tt&&(xn=er||Fr(xn)),xn.apply(tr,_t)}}function Yr(gt,Je,pt,rt,qt,Dn,_n,Wr,Qn,it){var mn=8&Je;Je|=mn?32:64,4&(Je&=~(mn?64:32))||(Je&=-4);var kn=pt(gt,Je,qt,mn?Dn:void 0,mn?_n:void 0,mn?void 0:Dn,mn?void 0:_n,Wr,Qn,it);return kn.placeholder=rt,$i(kn,gt,Je)}function jn(gt,Je,pt,rt,qt,Dn,_n,Wr){var Qn=2&Je;if(!Qn&&typeof gt!="function")throw new TypeError("Expected a function");var it=rt?rt.length:0;if(it||(Je&=-97,rt=qt=void 0),_n=_n===void 0?_n:Et(jt(_n),0),Wr=Wr===void 0?Wr:jt(Wr),it-=qt?qt.length:0,64&Je){var mn=rt,kn=qt;rt=qt=void 0}var gr=[gt,Je,pt,rt,qt,mn,kn,Dn,_n,Wr];if(gt=gr[0],Je=gr[1],pt=gr[2],rt=gr[3],qt=gr[4],!(Wr=gr[9]=gr[9]==null?Qn?0:gt.length:Et(gr[9]-it,0))&&24&Je&&(Je&=-25),Je&&Je!=1)kr=Je==8||Je==16?function(Ei,er,Tt){var sn=Fr(Ei);return function _t(){for(var Ut=arguments.length,Rn=Array(Ut),Cr=Ut,si=dr(_t);Cr--;)Rn[Cr]=arguments[Cr];var tr=Ut<3&&Rn[0]!==si&&Rn[Ut-1]!==si?[]:U(Rn,si);if((Ut-=tr.length)<Tt)return Yr(Ei,er,lr,_t.placeholder,void 0,Rn,tr,void 0,void 0,Tt-Ut);var xn=this&&this!==ie&&this instanceof _t?sn:Ei;return at(xn,this,Rn)}}(gt,Je,Wr):Je!=32&&Je!=33||qt.length?lr.apply(void 0,gr):function(Ei,er,Tt,sn){var _t=1&er,Ut=Fr(Ei);return function Rn(){for(var Cr=-1,si=arguments.length,tr=-1,xn=sn.length,Hn=Array(xn+si),Kn=this&&this!==ie&&this instanceof Rn?Ut:Ei;++tr<xn;)Hn[tr]=sn[tr];for(;si--;)Hn[tr++]=arguments[++Cr];return at(Kn,_t?Tt:this,Hn)}}(gt,Je,pt,rt);else var kr=function(Ei,er,Tt){var sn=1&er,_t=Fr(Ei);return function Ut(){var Rn=this&&this!==ie&&this instanceof Ut?_t:Ei;return Rn.apply(sn?Tt:this,arguments)}}(gt,Je,pt);return $i(kr,gt,Je)}function dr(gt){return gt.placeholder}function br(gt,Je){var pt=function(rt,qt){return rt==null?void 0:rt[qt]}(gt,Je);return tn(pt)?pt:void 0}function nr(gt){var Je=gt.match(ee);return Je?Je[1].split(ae):[]}function Lr(gt,Je){var pt=Je.length,rt=pt-1;return Je[rt]=(pt>1?"& ":"")+Je[rt],Je=Je.join(pt>2?", ":" "),gt.replace(I,`{
/* [wrapped with `+Je+`] */
`)}function Ji(gt,Je){return!!(Je=Je==null?9007199254740991:Je)&&(typeof gt=="number"||fe.test(gt))&&gt>-1&&gt%1==0&&gt<Je}function Ci(gt,Je){for(var pt=gt.length,rt=$e(Je.length,pt),qt=function(_n,Wr){var Qn=-1,it=_n.length;for(Wr||(Wr=Array(it));++Qn<it;)Wr[Qn]=_n[Qn];return Wr}(gt);rt--;){var Dn=Je[rt];gt[rt]=Ji(Dn,pt)?qt[Dn]:void 0}return gt}var $i=$t?function(gt,Je,pt){var rt,qt=Je+"";return $t(gt,"toString",{configurable:!0,enumerable:!1,value:(rt=Lr(qt,It(nr(qt),pt)),function(){return rt})})}:function(gt){return gt};function It(gt,Je){return function(pt,rt){for(var qt=-1,Dn=pt?pt.length:0;++qt<Dn&&rt(pt[qt],qt,pt)!==!1;);}(F,function(pt){var rt="_."+pt[0];Je&pt[1]&&!mt(gt,rt)&&gt.push(rt)}),gt.sort()}function Q(gt,Je,pt){var rt=jn(gt,8,void 0,void 0,void 0,void 0,void 0,Je=pt?void 0:Je);return rt.placeholder=Q.placeholder,rt}function we(gt){var Je=typeof gt;return!!gt&&(Je=="object"||Je=="function")}function Nt(gt){return gt?(gt=function(Je){if(typeof Je=="number")return Je;if(function(qt){return typeof qt=="symbol"||function(Dn){return!!Dn&&typeof Dn=="object"}(qt)&&hr.call(qt)=="[object Symbol]"}(Je))return NaN;if(we(Je)){var pt=typeof Je.valueOf=="function"?Je.valueOf():Je;Je=we(pt)?pt+"":pt}if(typeof Je!="string")return Je===0?Je:+Je;Je=Je.replace(H,"");var rt=re.test(Je);return rt||Ze.test(Je)?Ce(Je.slice(2),rt?2:8):ue.test(Je)?NaN:+Je}(gt))===1/0||gt===-1/0?17976931348623157e292*(gt<0?-1:1):gt==gt?gt:0:gt===0?gt:0}function jt(gt){var Je=Nt(gt),pt=Je%1;return Je==Je?pt?Je-pt:Je:0}Q.placeholder={},M.exports=Q}).call(this,R(43))},function(M,j,R){"use strict";function k(Or){return Or&&Or.__esModule?Or.default:Or}j.__esModule=!0;var F=R(95);j.threezerotwofour=k(F);var H=R(96);j.apathy=k(H);var I=R(97);j.ashes=k(I);var ee=R(98);j.atelierDune=k(ee);var ae=R(99);j.atelierForest=k(ae);var ue=R(100);j.atelierHeath=k(ue);var re=R(101);j.atelierLakeside=k(re);var ge=R(102);j.atelierSeaside=k(ge);var Ze=R(103);j.bespin=k(Ze);var fe=R(104);j.brewer=k(fe);var Ce=R(105);j.bright=k(Ce);var Ae=R(106);j.chalk=k(Ae);var Pe=R(107);j.codeschool=k(Pe);var ie=R(108);j.colors=k(ie);var at=R(109);j.default=k(at);var mt=R(110);j.eighties=k(mt);var vt=R(111);j.embers=k(vt);var Vt=R(112);j.flat=k(Vt);var U=R(113);j.google=k(U);var tt=R(114);j.grayscale=k(tt);var ut=R(115);j.greenscreen=k(ut);var vn=R(116);j.harmonic=k(vn);var ft=R(117);j.hopscotch=k(ft);var Ye=R(118);j.isotope=k(Ye);var Cn=R(119);j.marrakesh=k(Cn);var cn=R(120);j.mocha=k(cn);var mr=R(121);j.monokai=k(mr);var pr=R(122);j.ocean=k(pr);var hr=R(123);j.paraiso=k(hr);var Mt=R(124);j.pop=k(Mt);var yt=R(125);j.railscasts=k(yt);var Et=R(126);j.shapeshifter=k(Et);var $e=R(127);j.solarized=k($e);var $t=R(128);j.summerfruit=k($t);var Jt=R(129);j.tomorrow=k(Jt);var tn=R(130);j.tube=k(tn);var ir=R(131);j.twilight=k(ir)},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"brewer",author:"timoth\xE9e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},M.exports=j.default},function(M,j,R){"use strict";j.__esModule=!0,j.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},M.exports=j.default},function(M,j,R){var k=R(33);function F(H){var I=Math.round(k(H,0,255)).toString(16);return I.length==1?"0"+I:I}M.exports=function(H){var I=H.length===4?F(255*H[3]):"";return"#"+F(H[0])+F(H[1])+F(H[2])+I}},function(M,j,R){var k=R(134),F=R(135),H=R(136),I=R(137),ee={"#":F,hsl:function(ue){var re=k(ue),ge=I(re);return re.length===4&&ge.push(re[3]),ge},rgb:H};function ae(ue){for(var re in ee)if(ue.indexOf(re)===0)return ee[re](ue)}ae.rgb=H,ae.hsl=k,ae.hex=F,M.exports=ae},function(M,j,R){var k=R(44),F=R(33);function H(I,ee){switch(I=parseFloat(I),ee){case 0:return F(I,0,360);case 1:case 2:return F(I,0,100);case 3:return F(I,0,1)}}M.exports=function(I){return k(I).map(H)}},function(M,j){M.exports=function(R){R.length!==4&&R.length!==5||(R=function(H){for(var I="#",ee=1;ee<H.length;ee++){var ae=H.charAt(ee);I+=ae+ae}return I}(R));var k=[parseInt(R.substring(1,3),16),parseInt(R.substring(3,5),16),parseInt(R.substring(5,7),16)];if(R.length===9){var F=parseFloat((parseInt(R.substring(7,9),16)/255).toFixed(2));k.push(F)}return k}},function(M,j,R){var k=R(44),F=R(33);function H(I,ee){return ee<3?I.indexOf("%")!=-1?Math.round(255*F(parseInt(I,10),0,100)/100):F(parseInt(I,10),0,255):F(parseFloat(I),0,1)}M.exports=function(I){return k(I).map(H)}},function(M,j){M.exports=function(R){var k,F,H,I,ee,ae=R[0]/360,ue=R[1]/100,re=R[2]/100;if(ue==0)return[ee=255*re,ee,ee];k=2*re-(F=re<.5?re*(1+ue):re+ue-re*ue),I=[0,0,0];for(var ge=0;ge<3;ge++)(H=ae+1/3*-(ge-1))<0&&H++,H>1&&H--,ee=6*H<1?k+6*(F-k)*H:2*H<1?F:3*H<2?k+(F-k)*(2/3-H)*6:k,I[ge]=255*ee;return I}},function(M,j,R){(function(k){var F=typeof k=="object"&&k&&k.Object===Object&&k,H=typeof self=="object"&&self&&self.Object===Object&&self,I=F||H||Function("return this")();function ee(U,tt,ut){switch(ut.length){case 0:return U.call(tt);case 1:return U.call(tt,ut[0]);case 2:return U.call(tt,ut[0],ut[1]);case 3:return U.call(tt,ut[0],ut[1],ut[2])}return U.apply(tt,ut)}function ae(U,tt){for(var ut=-1,vn=tt.length,ft=U.length;++ut<vn;)U[ft+ut]=tt[ut];return U}var ue=Object.prototype,re=ue.hasOwnProperty,ge=ue.toString,Ze=I.Symbol,fe=ue.propertyIsEnumerable,Ce=Ze?Ze.isConcatSpreadable:void 0,Ae=Math.max;function Pe(U){return ie(U)||function(tt){return function(ut){return function(vn){return!!vn&&typeof vn=="object"}(ut)&&function(vn){return vn!=null&&function(ft){return typeof ft=="number"&&ft>-1&&ft%1==0&&ft<=9007199254740991}(vn.length)&&!function(ft){var Ye=function(Cn){var cn=typeof Cn;return!!Cn&&(cn=="object"||cn=="function")}(ft)?ge.call(ft):"";return Ye=="[object Function]"||Ye=="[object GeneratorFunction]"}(vn)}(ut)}(tt)&&re.call(tt,"callee")&&(!fe.call(tt,"callee")||ge.call(tt)=="[object Arguments]")}(U)||!!(Ce&&U&&U[Ce])}var ie=Array.isArray,at,mt,vt,Vt=(mt=function(U){var tt=(U=function vn(ft,Ye,Cn,cn,mr){var pr=-1,hr=ft.length;for(Cn||(Cn=Pe),mr||(mr=[]);++pr<hr;){var Mt=ft[pr];Ye>0&&Cn(Mt)?Ye>1?vn(Mt,Ye-1,Cn,cn,mr):ae(mr,Mt):cn||(mr[mr.length]=Mt)}return mr}(U,1)).length,ut=tt;for(at&&U.reverse();ut--;)if(typeof U[ut]!="function")throw new TypeError("Expected a function");return function(){for(var vn=0,ft=tt?U[vn].apply(this,arguments):arguments[0];++vn<tt;)ft=U[vn].call(this,ft);return ft}},vt=Ae(vt===void 0?mt.length-1:vt,0),function(){for(var U=arguments,tt=-1,ut=Ae(U.length-vt,0),vn=Array(ut);++tt<ut;)vn[tt]=U[vt+tt];tt=-1;for(var ft=Array(vt+1);++tt<vt;)ft[tt]=U[tt];return ft[vt]=vn,ee(mt,this,ft)});M.exports=Vt}).call(this,R(43))},function(M,j,R){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.yuv2rgb=function(k){var F,H,I,ee=k[0],ae=k[1],ue=k[2];return F=1*ee+0*ae+1.13983*ue,H=1*ee+-.39465*ae+-.5806*ue,I=1*ee+2.02311*ae+0*ue,F=Math.min(Math.max(0,F),1),H=Math.min(Math.max(0,H),1),I=Math.min(Math.max(0,I),1),[255*F,255*H,255*I]},j.rgb2yuv=function(k){var F=k[0]/255,H=k[1]/255,I=k[2]/255;return[.299*F+.587*H+.114*I,-.14713*F+-.28886*H+.436*I,.615*F+-.51499*H+-.10001*I]}},function(M,j,R){"use strict";function k(I,ee,ae){return ee in I?Object.defineProperty(I,ee,{value:ae,enumerable:!0,configurable:!0,writable:!0}):I[ee]=ae,I}var F=R(141),H=function(){function I(){k(this,"_callbacks",void 0),k(this,"_isDispatching",void 0),k(this,"_isHandled",void 0),k(this,"_isPending",void 0),k(this,"_lastID",void 0),k(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var ee=I.prototype;return ee.register=function(ae){var ue="ID_"+this._lastID++;return this._callbacks[ue]=ae,ue},ee.unregister=function(ae){this._callbacks[ae]||F(!1),delete this._callbacks[ae]},ee.waitFor=function(ae){this._isDispatching||F(!1);for(var ue=0;ue<ae.length;ue++){var re=ae[ue];this._isPending[re]?this._isHandled[re]||F(!1):(this._callbacks[re]||F(!1),this._invokeCallback(re))}},ee.dispatch=function(ae){this._isDispatching&&F(!1),this._startDispatching(ae);try{for(var ue in this._callbacks)this._isPending[ue]||this._invokeCallback(ue)}finally{this._stopDispatching()}},ee.isDispatching=function(){return this._isDispatching},ee._invokeCallback=function(ae){this._isPending[ae]=!0,this._callbacks[ae](this._pendingPayload),this._isHandled[ae]=!0},ee._startDispatching=function(ae){for(var ue in this._callbacks)this._isPending[ue]=!1,this._isHandled[ue]=!1;this._pendingPayload=ae,this._isDispatching=!0},ee._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},I}();M.exports=H},function(M,j,R){"use strict";var k=function(F){};M.exports=function(F,H){for(var I=arguments.length,ee=new Array(I>2?I-2:0),ae=2;ae<I;ae++)ee[ae-2]=arguments[ae];if(k(H),!F){var ue;if(H===void 0)ue=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var re=0;(ue=new Error(H.replace(/%s/g,function(){return String(ee[re++])}))).name="Invariant Violation"}throw ue.framesToPop=1,ue}}},function(M,j,R){"use strict";function k(Ke,Xe,je){return Xe in Ke?Object.defineProperty(Ke,Xe,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ke[Xe]=je,Ke}function F(Ke,Xe){var je=Object.keys(Ke);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Ke);Xe&&(me=me.filter(function(ze){return Object.getOwnPropertyDescriptor(Ke,ze).enumerable})),je.push.apply(je,me)}return je}function H(Ke){for(var Xe=1;Xe<arguments.length;Xe++){var je=arguments[Xe]!=null?arguments[Xe]:{};Xe%2?F(Object(je),!0).forEach(function(me){k(Ke,me,je[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ke,Object.getOwnPropertyDescriptors(je)):F(Object(je)).forEach(function(me){Object.defineProperty(Ke,me,Object.getOwnPropertyDescriptor(je,me))})}return Ke}function I(Ke,Xe){if(!(Ke instanceof Xe))throw new TypeError("Cannot call a class as a function")}function ee(Ke,Xe){for(var je=0;je<Xe.length;je++){var me=Xe[je];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(Ke,me.key,me)}}function ae(Ke,Xe,je){return Xe&&ee(Ke.prototype,Xe),je&&ee(Ke,je),Ke}function ue(Ke,Xe){return(ue=Object.setPrototypeOf||function(je,me){return je.__proto__=me,je})(Ke,Xe)}function re(Ke,Xe){if(typeof Xe!="function"&&Xe!==null)throw new TypeError("Super expression must either be null or a function");Ke.prototype=Object.create(Xe&&Xe.prototype,{constructor:{value:Ke,writable:!0,configurable:!0}}),Xe&&ue(Ke,Xe)}function ge(Ke){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(Xe){return Xe.__proto__||Object.getPrototypeOf(Xe)})(Ke)}function Ze(Ke){return(Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Xe){return typeof Xe}:function(Xe){return Xe&&typeof Symbol=="function"&&Xe.constructor===Symbol&&Xe!==Symbol.prototype?"symbol":typeof Xe})(Ke)}function fe(Ke){if(Ke===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ke}function Ce(Ke,Xe){return!Xe||Ze(Xe)!=="object"&&typeof Xe!="function"?fe(Ke):Xe}function Ae(Ke){var Xe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(je){return!1}}();return function(){var je,me=ge(Ke);if(Xe){var ze=ge(this).constructor;je=Reflect.construct(me,arguments,ze)}else je=me.apply(this,arguments);return Ce(this,je)}}R.r(j);var Pe=R(0),ie=R.n(Pe);function at(){var Ke=this.constructor.getDerivedStateFromProps(this.props,this.state);Ke!=null&&this.setState(Ke)}function mt(Ke){this.setState(function(Xe){var je=this.constructor.getDerivedStateFromProps(Ke,Xe);return je!=null?je:null}.bind(this))}function vt(Ke,Xe){try{var je=this.props,me=this.state;this.props=Ke,this.state=Xe,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(je,me)}finally{this.props=je,this.state=me}}function Vt(Ke){var Xe=Ke.prototype;if(!Xe||!Xe.isReactComponent)throw new Error("Can only polyfill class components");if(typeof Ke.getDerivedStateFromProps!="function"&&typeof Xe.getSnapshotBeforeUpdate!="function")return Ke;var je=null,me=null,ze=null;if(typeof Xe.componentWillMount=="function"?je="componentWillMount":typeof Xe.UNSAFE_componentWillMount=="function"&&(je="UNSAFE_componentWillMount"),typeof Xe.componentWillReceiveProps=="function"?me="componentWillReceiveProps":typeof Xe.UNSAFE_componentWillReceiveProps=="function"&&(me="UNSAFE_componentWillReceiveProps"),typeof Xe.componentWillUpdate=="function"?ze="componentWillUpdate":typeof Xe.UNSAFE_componentWillUpdate=="function"&&(ze="UNSAFE_componentWillUpdate"),je!==null||me!==null||ze!==null){var Oe=Ke.displayName||Ke.name,Y=typeof Ke.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+Oe+" uses "+Y+" but also contains the following legacy lifecycles:"+(je!==null?`
  `+je:"")+(me!==null?`
  `+me:"")+(ze!==null?`
  `+ze:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof Ke.getDerivedStateFromProps=="function"&&(Xe.componentWillMount=at,Xe.componentWillReceiveProps=mt),typeof Xe.getSnapshotBeforeUpdate=="function"){if(typeof Xe.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");Xe.componentWillUpdate=vt;var ne=Xe.componentDidUpdate;Xe.componentDidUpdate=function(W,S,A){var L=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:A;ne.call(this,W,S,L)}}return Ke}function U(Ke,Xe){if(Ke==null)return{};var je,me,ze=function(Y,ne){if(Y==null)return{};var W,S,A={},L=Object.keys(Y);for(S=0;S<L.length;S++)W=L[S],ne.indexOf(W)>=0||(A[W]=Y[W]);return A}(Ke,Xe);if(Object.getOwnPropertySymbols){var Oe=Object.getOwnPropertySymbols(Ke);for(me=0;me<Oe.length;me++)je=Oe[me],Xe.indexOf(je)>=0||Object.prototype.propertyIsEnumerable.call(Ke,je)&&(ze[je]=Ke[je])}return ze}function tt(Ke){var Xe=function(je){return{}.toString.call(je).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(Ke);return Xe==="number"&&(Xe=isNaN(Ke)?"nan":(0|Ke)!=Ke?"float":"integer"),Xe}at.__suppressDeprecationWarning=!0,mt.__suppressDeprecationWarning=!0,vt.__suppressDeprecationWarning=!0;var ut={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},vn={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"},ft={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"},Ye=R(45),Cn=function(Ke){var Xe=function(je){return{backgroundColor:je.base00,ellipsisColor:je.base09,braceColor:je.base07,expandedIcon:je.base0D,collapsedIcon:je.base0E,keyColor:je.base07,arrayKeyColor:je.base0C,objectSize:je.base04,copyToClipboard:je.base0F,copyToClipboardCheck:je.base0D,objectBorder:je.base02,dataTypes:{boolean:je.base0E,date:je.base0D,float:je.base0B,function:je.base0D,integer:je.base0F,string:je.base09,nan:je.base08,null:je.base0A,undefined:je.base05,regexp:je.base0A,background:je.base02},editVariable:{editIcon:je.base0E,cancelIcon:je.base09,removeIcon:je.base09,addIcon:je.base0E,checkIcon:je.base0E,background:je.base01,color:je.base0A,border:je.base07},addKeyModal:{background:je.base05,border:je.base04,color:je.base0A,labelColor:je.base01},validationFailure:{background:je.base09,iconColor:je.base01,fontColor:je.base01}}}(Ke);return{"app-container":{fontFamily:ft.globalFontFamily,cursor:ft.globalCursor,backgroundColor:Xe.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:Xe.ellipsisColor,fontSize:ft.ellipsisFontSize,lineHeight:ft.ellipsisLineHeight,cursor:ft.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:ft.braceCursor,fontWeight:ft.braceFontWeight,color:Xe.braceColor},"expanded-icon":{color:Xe.expandedIcon},"collapsed-icon":{color:Xe.collapsedIcon},colon:{display:"inline-block",margin:ft.keyMargin,color:Xe.keyColor,verticalAlign:"top"},objectKeyVal:function(je,me){return{style:H({paddingTop:ft.keyValPaddingTop,paddingRight:ft.keyValPaddingRight,paddingBottom:ft.keyValPaddingBottom,borderLeft:ft.keyValBorderLeft+" "+Xe.objectBorder,":hover":{paddingLeft:me.paddingLeft-1+"px",borderLeft:ft.keyValBorderHover+" "+Xe.objectBorder}},me)}},"object-key-val-no-border":{padding:ft.keyValPadding},"pushed-content":{marginLeft:ft.pushedContentMarginLeft},variableValue:function(je,me){return{style:H({display:"inline-block",paddingRight:ft.variableValuePaddingRight,position:"relative"},me)}},"object-name":{display:"inline-block",color:Xe.keyColor,letterSpacing:ft.keyLetterSpacing,fontStyle:ft.keyFontStyle,verticalAlign:ft.keyVerticalAlign,opacity:ft.keyOpacity,":hover":{opacity:ft.keyOpacityHover}},"array-key":{display:"inline-block",color:Xe.arrayKeyColor,letterSpacing:ft.keyLetterSpacing,fontStyle:ft.keyFontStyle,verticalAlign:ft.keyVerticalAlign,opacity:ft.keyOpacity,":hover":{opacity:ft.keyOpacityHover}},"object-size":{color:Xe.objectSize,borderRadius:ft.objectSizeBorderRadius,fontStyle:ft.objectSizeFontStyle,margin:ft.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:ft.dataTypeFontSize,marginRight:ft.dataTypeMarginRight,opacity:ft.datatypeOpacity},boolean:{display:"inline-block",color:Xe.dataTypes.boolean},date:{display:"inline-block",color:Xe.dataTypes.date},"date-value":{marginLeft:ft.dateValueMarginLeft},float:{display:"inline-block",color:Xe.dataTypes.float},function:{display:"inline-block",color:Xe.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:Xe.dataTypes.integer},string:{display:"inline-block",color:Xe.dataTypes.string},nan:{display:"inline-block",color:Xe.dataTypes.nan,fontSize:ft.nanFontSize,fontWeight:ft.nanFontWeight,backgroundColor:Xe.dataTypes.background,padding:ft.nanPadding,borderRadius:ft.nanBorderRadius},null:{display:"inline-block",color:Xe.dataTypes.null,fontSize:ft.nullFontSize,fontWeight:ft.nullFontWeight,backgroundColor:Xe.dataTypes.background,padding:ft.nullPadding,borderRadius:ft.nullBorderRadius},undefined:{display:"inline-block",color:Xe.dataTypes.undefined,fontSize:ft.undefinedFontSize,padding:ft.undefinedPadding,borderRadius:ft.undefinedBorderRadius,backgroundColor:Xe.dataTypes.background},regexp:{display:"inline-block",color:Xe.dataTypes.regexp},"copy-to-clipboard":{cursor:ft.clipboardCursor},"copy-icon":{color:Xe.copyToClipboard,fontSize:ft.iconFontSize,marginRight:ft.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:Xe.copyToClipboardCheck,marginLeft:ft.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:ft.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:ft.metaDataPadding},"icon-container":{display:"inline-block",width:ft.iconContainerWidth},tooltip:{padding:ft.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:Xe.editVariable.removeIcon,cursor:ft.iconCursor,fontSize:ft.iconFontSize,marginRight:ft.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:Xe.editVariable.addIcon,cursor:ft.iconCursor,fontSize:ft.iconFontSize,marginRight:ft.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:Xe.editVariable.editIcon,cursor:ft.iconCursor,fontSize:ft.iconFontSize,marginRight:ft.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:ft.iconCursor,color:Xe.editVariable.checkIcon,fontSize:ft.iconFontSize,paddingRight:ft.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:ft.iconCursor,color:Xe.editVariable.cancelIcon,fontSize:ft.iconFontSize,paddingRight:ft.iconPaddingRight},"edit-input":{display:"inline-block",minWidth:ft.editInputMinWidth,borderRadius:ft.editInputBorderRadius,backgroundColor:Xe.editVariable.background,color:Xe.editVariable.color,padding:ft.editInputPadding,marginRight:ft.editInputMarginRight,fontFamily:ft.editInputFontFamily},"detected-row":{paddingTop:ft.detectedRowPaddingTop},"key-modal-request":{position:ft.addKeyCoverPosition,top:ft.addKeyCoverPositionPx,left:ft.addKeyCoverPositionPx,right:ft.addKeyCoverPositionPx,bottom:ft.addKeyCoverPositionPx,backgroundColor:ft.addKeyCoverBackground},"key-modal":{width:ft.addKeyModalWidth,backgroundColor:Xe.addKeyModal.background,marginLeft:ft.addKeyModalMargin,marginRight:ft.addKeyModalMargin,padding:ft.addKeyModalPadding,borderRadius:ft.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:Xe.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:Xe.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:Xe.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:Xe.addKeyModal.labelColor,fontSize:ft.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:Xe.editVariable.addIcon,fontSize:ft.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:Xe.ellipsisColor,fontSize:ft.ellipsisFontSize,lineHeight:ft.ellipsisLineHeight,cursor:ft.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:Xe.validationFailure.fontColor,backgroundColor:Xe.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:Xe.validationFailure.iconColor,fontSize:ft.iconFontSize,transform:"rotate(45deg)"}}};function cn(Ke,Xe,je){return Ke||console.error("theme has not been set"),function(me){var ze=ut;return me!==!1&&me!=="none"||(ze=vn),Object(Ye.createStyling)(Cn,{defaultBase16:ze})(me)}(Ke)(Xe,je)}var mr=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props,ze=(me.rjvId,me.type_name),Oe=me.displayDataTypes,Y=me.theme;return Oe?ie.a.createElement("span",Object.assign({className:"data-type-label"},cn(Y,"data-type-label")),ze):null}}]),je}(ie.a.PureComponent),pr=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props;return ie.a.createElement("div",cn(me.theme,"boolean"),ie.a.createElement(mr,Object.assign({type_name:"bool"},me)),me.value?"true":"false")}}]),je}(ie.a.PureComponent),hr=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props;return ie.a.createElement("div",cn(me.theme,"date"),ie.a.createElement(mr,Object.assign({type_name:"date"},me)),ie.a.createElement("span",Object.assign({className:"date-value"},cn(me.theme,"date-value")),me.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),je}(ie.a.PureComponent),Mt=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props;return ie.a.createElement("div",cn(me.theme,"float"),ie.a.createElement(mr,Object.assign({type_name:"float"},me)),this.props.value)}}]),je}(ie.a.PureComponent);function yt(Ke,Xe){(Xe==null||Xe>Ke.length)&&(Xe=Ke.length);for(var je=0,me=new Array(Xe);je<Xe;je++)me[je]=Ke[je];return me}function Et(Ke,Xe){if(Ke){if(typeof Ke=="string")return yt(Ke,Xe);var je=Object.prototype.toString.call(Ke).slice(8,-1);return je==="Object"&&Ke.constructor&&(je=Ke.constructor.name),je==="Map"||je==="Set"?Array.from(Ke):je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(je)?yt(Ke,Xe):void 0}}function $e(Ke,Xe){var je;if(typeof Symbol=="undefined"||Ke[Symbol.iterator]==null){if(Array.isArray(Ke)||(je=Et(Ke))||Xe&&Ke&&typeof Ke.length=="number"){je&&(Ke=je);var me=0,ze=function(){};return{s:ze,n:function(){return me>=Ke.length?{done:!0}:{done:!1,value:Ke[me++]}},e:function(W){throw W},f:ze}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Oe,Y=!0,ne=!1;return{s:function(){je=Ke[Symbol.iterator]()},n:function(){var W=je.next();return Y=W.done,W},e:function(W){ne=!0,Oe=W},f:function(){try{Y||je.return==null||je.return()}finally{if(ne)throw Oe}}}}function $t(Ke){return function(Xe){if(Array.isArray(Xe))return yt(Xe)}(Ke)||function(Xe){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(Xe))return Array.from(Xe)}(Ke)||Et(Ke)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var Jt=R(46),tn=new(R(47)).Dispatcher,ir=new(function(Ke){re(je,Ke);var Xe=Ae(je);function je(){var me;I(this,je);for(var ze=arguments.length,Oe=new Array(ze),Y=0;Y<ze;Y++)Oe[Y]=arguments[Y];return(me=Xe.call.apply(Xe,[this].concat(Oe))).objects={},me.set=function(ne,W,S,A){me.objects[ne]===void 0&&(me.objects[ne]={}),me.objects[ne][W]===void 0&&(me.objects[ne][W]={}),me.objects[ne][W][S]=A},me.get=function(ne,W,S,A){return me.objects[ne]===void 0||me.objects[ne][W]===void 0||me.objects[ne][W][S]==null?A:me.objects[ne][W][S]},me.handleAction=function(ne){var W=ne.rjvId,S=ne.data;switch(ne.name){case"RESET":me.emit("reset-"+W);break;case"VARIABLE_UPDATED":ne.data.updated_src=me.updateSrc(W,S),me.set(W,"action","variable-update",H(H({},S),{},{type:"variable-edited"})),me.emit("variable-update-"+W);break;case"VARIABLE_REMOVED":ne.data.updated_src=me.updateSrc(W,S),me.set(W,"action","variable-update",H(H({},S),{},{type:"variable-removed"})),me.emit("variable-update-"+W);break;case"VARIABLE_ADDED":ne.data.updated_src=me.updateSrc(W,S),me.set(W,"action","variable-update",H(H({},S),{},{type:"variable-added"})),me.emit("variable-update-"+W);break;case"ADD_VARIABLE_KEY_REQUEST":me.set(W,"action","new-key-request",S),me.emit("add-key-request-"+W)}},me.updateSrc=function(ne,W){var S=W.name,A=W.namespace,L=W.new_value,ce=(W.existing_value,W.variable_removed);A.shift();var ve,pe=me.get(ne,"global","src"),Ee=me.deepCopy(pe,$t(A)),ht=Ee,ct=$e(A);try{for(ct.s();!(ve=ct.n()).done;)ht=ht[ve.value]}catch(nt){ct.e(nt)}finally{ct.f()}return ce?tt(ht)=="array"?ht.splice(S,1):delete ht[S]:S!==null?ht[S]=L:Ee=L,me.set(ne,"global","src",Ee),Ee},me.deepCopy=function(ne,W){var S,A=tt(ne),L=W.shift();return A=="array"?S=$t(ne):A=="object"&&(S=H({},ne)),L!==void 0&&(S[L]=me.deepCopy(ne[L],W)),S},me}return je}(Jt.EventEmitter));tn.register(ir.handleAction.bind(ir));var Or=ir,Fr=function(Ke){re(je,Ke);var Xe=Ae(je);function je(me){var ze;return I(this,je),(ze=Xe.call(this,me)).toggleCollapsed=function(){ze.setState({collapsed:!ze.state.collapsed},function(){Or.set(ze.props.rjvId,ze.props.namespace,"collapsed",ze.state.collapsed)})},ze.getFunctionDisplay=function(Oe){var Y=fe(ze).props;return Oe?ie.a.createElement("span",null,ze.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),ie.a.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},ie.a.createElement("span",null,"{"),ie.a.createElement("span",cn(Y.theme,"ellipsis"),"..."),ie.a.createElement("span",null,"}"))):ze.props.value.toString().slice(9,-1)},ze.state={collapsed:Or.get(me.rjvId,me.namespace,"collapsed",!0)},ze}return ae(je,[{key:"render",value:function(){var me=this.props,ze=this.state.collapsed;return ie.a.createElement("div",cn(me.theme,"function"),ie.a.createElement(mr,Object.assign({type_name:"function"},me)),ie.a.createElement("span",Object.assign({},cn(me.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(ze)))}}]),je}(ie.a.PureComponent),lr=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){return ie.a.createElement("div",cn(this.props.theme,"nan"),"NaN")}}]),je}(ie.a.PureComponent),Yr=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){return ie.a.createElement("div",cn(this.props.theme,"null"),"NULL")}}]),je}(ie.a.PureComponent),jn=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props;return ie.a.createElement("div",cn(me.theme,"integer"),ie.a.createElement(mr,Object.assign({type_name:"int"},me)),this.props.value)}}]),je}(ie.a.PureComponent),dr=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props;return ie.a.createElement("div",cn(me.theme,"regexp"),ie.a.createElement(mr,Object.assign({type_name:"regexp"},me)),this.props.value.toString())}}]),je}(ie.a.PureComponent),br=function(Ke){re(je,Ke);var Xe=Ae(je);function je(me){var ze;return I(this,je),(ze=Xe.call(this,me)).toggleCollapsed=function(){ze.setState({collapsed:!ze.state.collapsed},function(){Or.set(ze.props.rjvId,ze.props.namespace,"collapsed",ze.state.collapsed)})},ze.state={collapsed:Or.get(me.rjvId,me.namespace,"collapsed",!0)},ze}return ae(je,[{key:"render",value:function(){this.state.collapsed;var me=this.props,ze=me.collapseStringsAfterLength,Oe=me.theme,Y=me.value,ne={style:{cursor:"default"}};return tt(ze)==="integer"&&Y.length>ze&&(ne.style.cursor="pointer",this.state.collapsed&&(Y=ie.a.createElement("span",null,Y.substring(0,ze),ie.a.createElement("span",cn(Oe,"ellipsis")," ...")))),ie.a.createElement("div",cn(Oe,"string"),ie.a.createElement(mr,Object.assign({type_name:"string"},me)),ie.a.createElement("span",Object.assign({className:"string-value"},ne,{onClick:this.toggleCollapsed}),'"',Y,'"'))}}]),je}(ie.a.PureComponent),nr=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){return ie.a.createElement("div",cn(this.props.theme,"undefined"),"undefined")}}]),je}(ie.a.PureComponent);function Lr(){return(Lr=Object.assign||function(Ke){for(var Xe=1;Xe<arguments.length;Xe++){var je=arguments[Xe];for(var me in je)Object.prototype.hasOwnProperty.call(je,me)&&(Ke[me]=je[me])}return Ke}).apply(this,arguments)}var Ji=Pe.useLayoutEffect,Ci=function(Ke){var Xe=Object(Pe.useRef)(Ke);return Ji(function(){Xe.current=Ke}),Xe},$i=function(Ke,Xe){typeof Ke!="function"?Ke.current=Xe:Ke(Xe)},It=function(Ke,Xe){var je=Object(Pe.useRef)();return Object(Pe.useCallback)(function(me){Ke.current=me,je.current&&$i(je.current,null),je.current=Xe,Xe&&$i(Xe,me)},[Xe])},Q={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},we=function(Ke){Object.keys(Q).forEach(function(Xe){Ke.style.setProperty(Xe,Q[Xe],"important")})},Nt=null,jt=function(){},gt=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],Je=!!document.documentElement.currentStyle,pt=function(Ke,Xe){var je=Ke.cacheMeasurements,me=Ke.maxRows,ze=Ke.minRows,Oe=Ke.onChange,Y=Oe===void 0?jt:Oe,ne=Ke.onHeightChange,W=ne===void 0?jt:ne,S=function(ct,nt){if(ct==null)return{};var Rt,kt,bn={},pn=Object.keys(ct);for(kt=0;kt<pn.length;kt++)Rt=pn[kt],nt.indexOf(Rt)>=0||(bn[Rt]=ct[Rt]);return bn}(Ke,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),A,L=S.value!==void 0,ce=Object(Pe.useRef)(null),ve=It(ce,Xe),pe=Object(Pe.useRef)(0),Ee=Object(Pe.useRef)(),ht=function(){var ct=ce.current,nt=je&&Ee.current?Ee.current:function(pn){var Lt=window.getComputedStyle(pn);if(Lt===null)return null;var Bt,In=(Bt=Lt,gt.reduce(function(sr,ni){return sr[ni]=Bt[ni],sr},{})),Zn=In.boxSizing;return Zn===""?null:(Je&&Zn==="border-box"&&(In.width=parseFloat(In.width)+parseFloat(In.borderRightWidth)+parseFloat(In.borderLeftWidth)+parseFloat(In.paddingRight)+parseFloat(In.paddingLeft)+"px"),{sizingStyle:In,paddingSize:parseFloat(In.paddingBottom)+parseFloat(In.paddingTop),borderSize:parseFloat(In.borderBottomWidth)+parseFloat(In.borderTopWidth)})}(ct);if(nt){Ee.current=nt;var Rt=function(pn,Lt,Bt,In){Bt===void 0&&(Bt=1),In===void 0&&(In=1/0),Nt||((Nt=document.createElement("textarea")).setAttribute("tab-index","-1"),Nt.setAttribute("aria-hidden","true"),we(Nt)),Nt.parentNode===null&&document.body.appendChild(Nt);var Zn=pn.paddingSize,sr=pn.borderSize,ni=pn.sizingStyle,mi=ni.boxSizing;Object.keys(ni).forEach(function(Ct){var Zt=Ct;Nt.style[Zt]=ni[Zt]}),we(Nt),Nt.value=Lt;var Rr=function(Ct,Zt){var Pr=Ct.scrollHeight;return Zt.sizingStyle.boxSizing==="border-box"?Pr+Zt.borderSize:Pr-Zt.paddingSize}(Nt,pn);Nt.value="x";var ai=Nt.scrollHeight-Zn,li=ai*Bt;mi==="border-box"&&(li=li+Zn+sr),Rr=Math.max(li,Rr);var wi=ai*In;return mi==="border-box"&&(wi=wi+Zn+sr),[Rr=Math.min(wi,Rr),ai]}(nt,ct.value||ct.placeholder||"x",ze,me),kt=Rt[0],bn=Rt[1];pe.current!==kt&&(pe.current=kt,ct.style.setProperty("height",kt+"px","important"),W(kt,{rowHeight:bn}))}};return Object(Pe.useLayoutEffect)(ht),A=Ci(ht),Object(Pe.useLayoutEffect)(function(){var ct=function(nt){A.current(nt)};return window.addEventListener("resize",ct),function(){window.removeEventListener("resize",ct)}},[]),Object(Pe.createElement)("textarea",Lr({},S,{onChange:function(ct){L||ht(),Y(ct)},ref:ve}))},rt=Object(Pe.forwardRef)(pt);function qt(Ke){Ke=Ke.trim();try{if((Ke=JSON.stringify(JSON.parse(Ke)))[0]==="[")return Dn("array",JSON.parse(Ke));if(Ke[0]==="{")return Dn("object",JSON.parse(Ke));if(Ke.match(/\-?\d+\.\d+/)&&Ke.match(/\-?\d+\.\d+/)[0]===Ke)return Dn("float",parseFloat(Ke));if(Ke.match(/\-?\d+e-\d+/)&&Ke.match(/\-?\d+e-\d+/)[0]===Ke)return Dn("float",Number(Ke));if(Ke.match(/\-?\d+/)&&Ke.match(/\-?\d+/)[0]===Ke)return Dn("integer",parseInt(Ke));if(Ke.match(/\-?\d+e\+\d+/)&&Ke.match(/\-?\d+e\+\d+/)[0]===Ke)return Dn("integer",Number(Ke))}catch(Xe){}switch(Ke=Ke.toLowerCase()){case"undefined":return Dn("undefined",void 0);case"nan":return Dn("nan",NaN);case"null":return Dn("null",null);case"true":return Dn("boolean",!0);case"false":return Dn("boolean",!1);default:if(Ke=Date.parse(Ke))return Dn("date",new Date(Ke))}return Dn(!1,null)}function Dn(Ke,Xe){return{type:Ke,value:Xe}}var _n=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props,ze=me.style,Oe=U(me,["style"]);return ie.a.createElement("span",Oe,ie.a.createElement("svg",Object.assign({},_t(ze),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),ie.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),je}(ie.a.PureComponent),Wr=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props,ze=me.style,Oe=U(me,["style"]);return ie.a.createElement("span",Oe,ie.a.createElement("svg",Object.assign({},_t(ze),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),ie.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),je}(ie.a.PureComponent),Qn=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props,ze=me.style,Oe=U(me,["style"]),Y=_t(ze).style;return ie.a.createElement("span",Oe,ie.a.createElement("svg",{fill:Y.color,width:Y.height,height:Y.width,style:Y,viewBox:"0 0 1792 1792"},ie.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),je}(ie.a.PureComponent),it=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props,ze=me.style,Oe=U(me,["style"]),Y=_t(ze).style;return ie.a.createElement("span",Oe,ie.a.createElement("svg",{fill:Y.color,width:Y.height,height:Y.width,style:Y,viewBox:"0 0 1792 1792"},ie.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),je}(ie.a.PureComponent),mn=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props,ze=me.style,Oe=U(me,["style"]);return ie.a.createElement("span",Oe,ie.a.createElement("svg",{style:H(H({},_t(ze).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},ie.a.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),je}(ie.a.PureComponent),kn=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props,ze=me.style,Oe=U(me,["style"]);return ie.a.createElement("span",Oe,ie.a.createElement("svg",{style:H(H({},_t(ze).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},ie.a.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),je}(ie.a.PureComponent),gr=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props,ze=me.style,Oe=U(me,["style"]);return ie.a.createElement("span",Oe,ie.a.createElement("svg",Object.assign({},_t(ze),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),ie.a.createElement("g",null,ie.a.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),je}(ie.a.PureComponent),kr=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props,ze=me.style,Oe=U(me,["style"]);return ie.a.createElement("span",Oe,ie.a.createElement("svg",Object.assign({},_t(ze),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),ie.a.createElement("g",null,ie.a.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),je}(ie.a.PureComponent),Ei=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props,ze=me.style,Oe=U(me,["style"]);return ie.a.createElement("span",Oe,ie.a.createElement("svg",Object.assign({},_t(ze),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),ie.a.createElement("g",null,ie.a.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),je}(ie.a.PureComponent),er=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props,ze=me.style,Oe=U(me,["style"]);return ie.a.createElement("span",Oe,ie.a.createElement("svg",Object.assign({},_t(ze),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),ie.a.createElement("g",null,ie.a.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),je}(ie.a.PureComponent),Tt=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props,ze=me.style,Oe=U(me,["style"]);return ie.a.createElement("span",Oe,ie.a.createElement("svg",Object.assign({},_t(ze),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),ie.a.createElement("g",null,ie.a.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),je}(ie.a.PureComponent),sn=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props,ze=me.style,Oe=U(me,["style"]);return ie.a.createElement("span",Oe,ie.a.createElement("svg",Object.assign({},_t(ze),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),ie.a.createElement("g",null,ie.a.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),je}(ie.a.PureComponent);function _t(Ke){return Ke||(Ke={}),{style:H(H({verticalAlign:"middle"},Ke),{},{color:Ke.color?Ke.color:"#000000",height:"1em",width:"1em"})}}var Ut=function(Ke){re(je,Ke);var Xe=Ae(je);function je(me){var ze;return I(this,je),(ze=Xe.call(this,me)).copiedTimer=null,ze.handleCopy=function(){var Oe=document.createElement("textarea"),Y=ze.props,ne=Y.clickCallback,W=Y.src,S=Y.namespace;Oe.innerHTML=JSON.stringify(ze.clipboardValue(W),null,"  "),document.body.appendChild(Oe),Oe.select(),document.execCommand("copy"),document.body.removeChild(Oe),ze.copiedTimer=setTimeout(function(){ze.setState({copied:!1})},5500),ze.setState({copied:!0},function(){typeof ne=="function"&&ne({src:W,namespace:S,name:S[S.length-1]})})},ze.getClippyIcon=function(){var Oe=ze.props.theme;return ze.state.copied?ie.a.createElement("span",null,ie.a.createElement(gr,Object.assign({className:"copy-icon"},cn(Oe,"copy-icon"))),ie.a.createElement("span",cn(Oe,"copy-icon-copied"),"\u2714")):ie.a.createElement(gr,Object.assign({className:"copy-icon"},cn(Oe,"copy-icon")))},ze.clipboardValue=function(Oe){switch(tt(Oe)){case"function":case"regexp":return Oe.toString();default:return Oe}},ze.state={copied:!1},ze}return ae(je,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var me=this.props,ze=(me.src,me.theme),Oe=me.hidden,Y=me.rowHovered,ne=cn(ze,"copy-to-clipboard").style,W="inline";return Oe&&(W="none"),ie.a.createElement("span",{className:"copy-to-clipboard-container",title:"Copy to clipboard",style:{verticalAlign:"top",display:Y?"inline-block":"none"}},ie.a.createElement("span",{style:H(H({},ne),{},{display:W}),onClick:this.handleCopy},this.getClippyIcon()))}}]),je}(ie.a.PureComponent),Rn=function(Ke){re(je,Ke);var Xe=Ae(je);function je(me){var ze;return I(this,je),(ze=Xe.call(this,me)).getEditIcon=function(){var Oe=ze.props,Y=Oe.variable,ne=Oe.theme;return ie.a.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top",display:ze.state.hovered?"inline-block":"none"}},ie.a.createElement(Tt,Object.assign({className:"click-to-edit-icon"},cn(ne,"editVarIcon"),{onClick:function(){ze.prepopInput(Y)}})))},ze.prepopInput=function(Oe){if(ze.props.onEdit!==!1){var Y=function(W){var S;switch(tt(W)){case"undefined":S="undefined";break;case"nan":S="NaN";break;case"string":S=W;break;case"date":case"function":case"regexp":S=W.toString();break;default:try{S=JSON.stringify(W,null,"  ")}catch(A){S=""}}return S}(Oe.value),ne=qt(Y);ze.setState({editMode:!0,editValue:Y,parsedInput:{type:ne.type,value:ne.value}})}},ze.getRemoveIcon=function(){var Oe=ze.props,Y=Oe.variable,ne=Oe.namespace,W=Oe.theme,S=Oe.rjvId;return ie.a.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top",display:ze.state.hovered?"inline-block":"none"}},ie.a.createElement(kr,Object.assign({className:"click-to-remove-icon"},cn(W,"removeVarIcon"),{onClick:function(){tn.dispatch({name:"VARIABLE_REMOVED",rjvId:S,data:{name:Y.name,namespace:ne,existing_value:Y.value,variable_removed:!0}})}})))},ze.getValue=function(Oe,Y){var ne=!Y&&Oe.type,W=fe(ze).props;switch(ne){case!1:return ze.getEditInput();case"string":return ie.a.createElement(br,Object.assign({value:Oe.value},W));case"integer":return ie.a.createElement(jn,Object.assign({value:Oe.value},W));case"float":return ie.a.createElement(Mt,Object.assign({value:Oe.value},W));case"boolean":return ie.a.createElement(pr,Object.assign({value:Oe.value},W));case"function":return ie.a.createElement(Fr,Object.assign({value:Oe.value},W));case"null":return ie.a.createElement(Yr,W);case"nan":return ie.a.createElement(lr,W);case"undefined":return ie.a.createElement(nr,W);case"date":return ie.a.createElement(hr,Object.assign({value:Oe.value},W));case"regexp":return ie.a.createElement(dr,Object.assign({value:Oe.value},W));default:return ie.a.createElement("div",{className:"object-value"},JSON.stringify(Oe.value))}},ze.getEditInput=function(){var Oe=ze.props.theme,Y=ze.state.editValue;return ie.a.createElement("div",null,ie.a.createElement(rt,Object.assign({type:"text",inputRef:function(ne){return ne&&ne.focus()},value:Y,className:"variable-editor",onChange:function(ne){var W=ne.target.value,S=qt(W);ze.setState({editValue:W,parsedInput:{type:S.type,value:S.value}})},onKeyDown:function(ne){switch(ne.key){case"Escape":ze.setState({editMode:!1,editValue:""});break;case"Enter":(ne.ctrlKey||ne.metaKey)&&ze.submitEdit(!0)}ne.stopPropagation()},placeholder:"update this value",minRows:2},cn(Oe,"edit-input"))),ie.a.createElement("div",cn(Oe,"edit-icon-container"),ie.a.createElement(kr,Object.assign({className:"edit-cancel"},cn(Oe,"cancel-icon"),{onClick:function(){ze.setState({editMode:!1,editValue:""})}})),ie.a.createElement(sn,Object.assign({className:"edit-check string-value"},cn(Oe,"check-icon"),{onClick:function(){ze.submitEdit()}})),ie.a.createElement("div",null,ze.showDetected())))},ze.submitEdit=function(Oe){var Y=ze.props,ne=Y.variable,W=Y.namespace,S=Y.rjvId,A=ze.state,L=A.editValue,ce=A.parsedInput,ve=L;Oe&&ce.type&&(ve=ce.value),ze.setState({editMode:!1}),tn.dispatch({name:"VARIABLE_UPDATED",rjvId:S,data:{name:ne.name,namespace:W,existing_value:ne.value,new_value:ve,variable_removed:!1}})},ze.showDetected=function(){var Oe=ze.props,Y=Oe.theme,ne=(Oe.variable,Oe.namespace,Oe.rjvId,ze.state.parsedInput),W=(ne.type,ne.value,ze.getDetectedInput());if(W)return ie.a.createElement("div",null,ie.a.createElement("div",cn(Y,"detected-row"),W,ie.a.createElement(sn,{className:"edit-check detected",style:H({verticalAlign:"top",paddingLeft:"3px"},cn(Y,"check-icon").style),onClick:function(){ze.submitEdit(!0)}})))},ze.getDetectedInput=function(){var Oe=ze.state.parsedInput,Y=Oe.type,ne=Oe.value,W=fe(ze).props,S=W.theme;if(Y!==!1)switch(Y.toLowerCase()){case"object":return ie.a.createElement("span",null,ie.a.createElement("span",{style:H(H({},cn(S,"brace").style),{},{cursor:"default"})},"{"),ie.a.createElement("span",{style:H(H({},cn(S,"ellipsis").style),{},{cursor:"default"})},"..."),ie.a.createElement("span",{style:H(H({},cn(S,"brace").style),{},{cursor:"default"})},"}"));case"array":return ie.a.createElement("span",null,ie.a.createElement("span",{style:H(H({},cn(S,"brace").style),{},{cursor:"default"})},"["),ie.a.createElement("span",{style:H(H({},cn(S,"ellipsis").style),{},{cursor:"default"})},"..."),ie.a.createElement("span",{style:H(H({},cn(S,"brace").style),{},{cursor:"default"})},"]"));case"string":return ie.a.createElement(br,Object.assign({value:ne},W));case"integer":return ie.a.createElement(jn,Object.assign({value:ne},W));case"float":return ie.a.createElement(Mt,Object.assign({value:ne},W));case"boolean":return ie.a.createElement(pr,Object.assign({value:ne},W));case"function":return ie.a.createElement(Fr,Object.assign({value:ne},W));case"null":return ie.a.createElement(Yr,W);case"nan":return ie.a.createElement(lr,W);case"undefined":return ie.a.createElement(nr,W);case"date":return ie.a.createElement(hr,Object.assign({value:new Date(ne)},W))}},ze.state={editMode:!1,editValue:"",hovered:!1,renameKey:!1,parsedInput:{type:!1,value:null}},ze}return ae(je,[{key:"render",value:function(){var me=this,ze=this.props,Oe=ze.variable,Y=ze.singleIndent,ne=ze.type,W=ze.theme,S=ze.namespace,A=ze.indentWidth,L=ze.enableClipboard,ce=ze.onEdit,ve=ze.onDelete,pe=ze.onSelect,Ee=ze.displayArrayKey,ht=ze.quotesOnKeys,ct=this.state.editMode;return ie.a.createElement("div",Object.assign({},cn(W,"objectKeyVal",{paddingLeft:A*Y}),{onMouseEnter:function(){return me.setState(H(H({},me.state),{},{hovered:!0}))},onMouseLeave:function(){return me.setState(H(H({},me.state),{},{hovered:!1}))},className:"variable-row",key:Oe.name}),ne=="array"?Ee?ie.a.createElement("span",Object.assign({},cn(W,"array-key"),{key:Oe.name+"_"+S}),Oe.name,ie.a.createElement("div",cn(W,"colon"),":")):null:ie.a.createElement("span",null,ie.a.createElement("span",Object.assign({},cn(W,"object-name"),{className:"object-key",key:Oe.name+"_"+S}),!!ht&&ie.a.createElement("span",{style:{verticalAlign:"top"}},'"'),ie.a.createElement("span",{style:{display:"inline-block"}},Oe.name),!!ht&&ie.a.createElement("span",{style:{verticalAlign:"top"}},'"')),ie.a.createElement("span",cn(W,"colon"),":")),ie.a.createElement("div",Object.assign({className:"variable-value",onClick:pe===!1&&ce===!1?null:function(nt){var Rt=$t(S);(nt.ctrlKey||nt.metaKey)&&ce!==!1?me.prepopInput(Oe):pe!==!1&&(Rt.shift(),pe(H(H({},Oe),{},{namespace:Rt})))}},cn(W,"variableValue",{cursor:pe===!1?"default":"pointer"})),this.getValue(Oe,ct)),L?ie.a.createElement(Ut,{rowHovered:this.state.hovered,hidden:ct,src:Oe.value,clickCallback:L,theme:W,namespace:[].concat($t(S),[Oe.name])}):null,ce!==!1&&ct==0?this.getEditIcon():null,ve!==!1&&ct==0?this.getRemoveIcon():null)}}]),je}(ie.a.PureComponent),Cr=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){var me;I(this,je);for(var ze=arguments.length,Oe=new Array(ze),Y=0;Y<ze;Y++)Oe[Y]=arguments[Y];return(me=Xe.call.apply(Xe,[this].concat(Oe))).getObjectSize=function(){var ne=me.props,W=ne.size,S=ne.theme;if(ne.displayObjectSize)return ie.a.createElement("span",Object.assign({className:"object-size"},cn(S,"object-size")),W," item",W===1?"":"s")},me.getAddAttribute=function(ne){var W=me.props,S=W.theme,A=W.namespace,L=W.name,ce=W.src,ve=W.rjvId,pe=W.depth;return ie.a.createElement("span",{className:"click-to-add",style:{verticalAlign:"top",display:ne?"inline-block":"none"}},ie.a.createElement(Ei,Object.assign({className:"click-to-add-icon"},cn(S,"addVarIcon"),{onClick:function(){var Ee={name:pe>0?L:null,namespace:A.splice(0,A.length-1),existing_value:ce,variable_removed:!1,key_name:null};tt(ce)==="object"?tn.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:ve,data:Ee}):tn.dispatch({name:"VARIABLE_ADDED",rjvId:ve,data:H(H({},Ee),{},{new_value:[].concat($t(ce),[null])})})}})))},me.getRemoveObject=function(ne){var W=me.props,S=W.theme,A=(W.hover,W.namespace),L=W.name,ce=W.src,ve=W.rjvId;if(A.length!==1)return ie.a.createElement("span",{className:"click-to-remove",style:{display:ne?"inline-block":"none"}},ie.a.createElement(kr,Object.assign({className:"click-to-remove-icon"},cn(S,"removeVarIcon"),{onClick:function(){tn.dispatch({name:"VARIABLE_REMOVED",rjvId:ve,data:{name:L,namespace:A.splice(0,A.length-1),existing_value:ce,variable_removed:!0}})}})))},me.render=function(){var ne=me.props,W=ne.theme,S=ne.onDelete,A=ne.onAdd,L=ne.enableClipboard,ce=ne.src,ve=ne.namespace,pe=ne.rowHovered;return ie.a.createElement("div",Object.assign({},cn(W,"object-meta-data"),{className:"object-meta-data",onClick:function(Ee){Ee.stopPropagation()}}),me.getObjectSize(),L?ie.a.createElement(Ut,{rowHovered:pe,clickCallback:L,src:ce,theme:W,namespace:ve}):null,A!==!1?me.getAddAttribute(pe):null,S!==!1?me.getRemoveObject(pe):null)},me}return je}(ie.a.PureComponent);function si(Ke){var Xe=Ke.parent_type,je=Ke.namespace,me=Ke.quotesOnKeys,ze=Ke.theme,Oe=Ke.jsvRoot,Y=Ke.name,ne=Ke.displayArrayKey,W=Ke.name?Ke.name:"";return!Oe||Y!==!1&&Y!==null?Xe=="array"?ne?ie.a.createElement("span",Object.assign({},cn(ze,"array-key"),{key:je}),ie.a.createElement("span",{className:"array-key"},W),ie.a.createElement("span",cn(ze,"colon"),":")):ie.a.createElement("span",null):ie.a.createElement("span",Object.assign({},cn(ze,"object-name"),{key:je}),ie.a.createElement("span",{className:"object-key"},me&&ie.a.createElement("span",{style:{verticalAlign:"top"}},'"'),ie.a.createElement("span",null,W),me&&ie.a.createElement("span",{style:{verticalAlign:"top"}},'"')),ie.a.createElement("span",cn(ze,"colon"),":")):ie.a.createElement("span",null)}function tr(Ke){var Xe=Ke.theme;switch(Ke.iconStyle){case"triangle":return ie.a.createElement(kn,Object.assign({},cn(Xe,"expanded-icon"),{className:"expanded-icon"}));case"square":return ie.a.createElement(Qn,Object.assign({},cn(Xe,"expanded-icon"),{className:"expanded-icon"}));default:return ie.a.createElement(_n,Object.assign({},cn(Xe,"expanded-icon"),{className:"expanded-icon"}))}}function xn(Ke){var Xe=Ke.theme;switch(Ke.iconStyle){case"triangle":return ie.a.createElement(mn,Object.assign({},cn(Xe,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return ie.a.createElement(it,Object.assign({},cn(Xe,"collapsed-icon"),{className:"collapsed-icon"}));default:return ie.a.createElement(Wr,Object.assign({},cn(Xe,"collapsed-icon"),{className:"collapsed-icon"}))}}var Hn=function(Ke){re(je,Ke);var Xe=Ae(je);function je(me){var ze;return I(this,je),(ze=Xe.call(this,me)).toggleCollapsed=function(Oe){var Y=[];for(var ne in ze.state.expanded)Y.push(ze.state.expanded[ne]);Y[Oe]=!Y[Oe],ze.setState({expanded:Y})},ze.state={expanded:[]},ze}return ae(je,[{key:"getExpandedIcon",value:function(me){var ze=this.props,Oe=ze.theme,Y=ze.iconStyle;return this.state.expanded[me]?ie.a.createElement(tr,{theme:Oe,iconStyle:Y}):ie.a.createElement(xn,{theme:Oe,iconStyle:Y})}},{key:"render",value:function(){var me=this,ze=this.props,Oe=ze.src,Y=ze.groupArraysAfterLength,ne=(ze.depth,ze.name),W=ze.theme,S=ze.jsvRoot,A=ze.namespace,L=(ze.parent_type,U(ze,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),ce=0,ve=5*this.props.indentWidth;S||(ce=5*this.props.indentWidth);var pe=Y,Ee=Math.ceil(Oe.length/pe);return ie.a.createElement("div",Object.assign({className:"object-key-val"},cn(W,S?"jsv-root":"objectKeyVal",{paddingLeft:ce})),ie.a.createElement(si,this.props),ie.a.createElement("span",null,ie.a.createElement(Cr,Object.assign({size:Oe.length},this.props))),$t(Array(Ee)).map(function(ht,ct){return ie.a.createElement("div",Object.assign({key:ct,className:"object-key-val array-group"},cn(W,"objectKeyVal",{marginLeft:6,paddingLeft:ve})),ie.a.createElement("span",cn(W,"brace-row"),ie.a.createElement("div",Object.assign({className:"icon-container"},cn(W,"icon-container"),{onClick:function(nt){me.toggleCollapsed(ct)}}),me.getExpandedIcon(ct)),me.state.expanded[ct]?ie.a.createElement(Sr,Object.assign({key:ne+ct,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:pe,index_offset:ct*pe,src:Oe.slice(ct*pe,ct*pe+pe),namespace:A,type:"array",parent_type:"array_group",theme:W},L)):ie.a.createElement("span",Object.assign({},cn(W,"brace"),{onClick:function(nt){me.toggleCollapsed(ct)},className:"array-group-brace"}),"[",ie.a.createElement("div",Object.assign({},cn(W,"array-group-meta-data"),{className:"array-group-meta-data"}),ie.a.createElement("span",Object.assign({className:"object-size"},cn(W,"object-size")),ct*pe," - ",ct*pe+pe>Oe.length?Oe.length:ct*pe+pe)),"]")))}))}}]),je}(ie.a.PureComponent),Kn=function(Ke){re(je,Ke);var Xe=Ae(je);function je(me){var ze;I(this,je),(ze=Xe.call(this,me)).toggleCollapsed=function(){ze.setState({expanded:!ze.state.expanded},function(){Or.set(ze.props.rjvId,ze.props.namespace,"expanded",ze.state.expanded)})},ze.getObjectContent=function(Y,ne,W){return ie.a.createElement("div",{className:"pushed-content object-container"},ie.a.createElement("div",Object.assign({className:"object-content"},cn(ze.props.theme,"pushed-content")),ze.renderObjectContents(ne,W)))},ze.getEllipsis=function(){return ze.state.size===0?null:ie.a.createElement("div",Object.assign({},cn(ze.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:ze.toggleCollapsed}),"...")},ze.getObjectMetaData=function(Y){var ne=ze.props,W=(ne.rjvId,ne.theme,ze.state),S=W.size,A=W.hovered;return ie.a.createElement(Cr,Object.assign({rowHovered:A,size:S},ze.props))},ze.renderObjectContents=function(Y,ne){var W,S=ze.props,A=S.depth,L=S.parent_type,ce=S.index_offset,ve=S.groupArraysAfterLength,pe=S.namespace,Ee=ze.state.object_type,ht=[],ct=Object.keys(Y||{});return ze.props.sortKeys&&Ee!=="array"&&(ct=ct.sort()),ct.forEach(function(nt){if(W=new yn(nt,Y[nt]),L==="array_group"&&ce&&(W.name=parseInt(W.name)+ce),Y.hasOwnProperty(nt))if(W.type==="object")ht.push(ie.a.createElement(Sr,Object.assign({key:W.name,depth:A+1,name:W.name,src:W.value,namespace:pe.concat(W.name),parent_type:Ee},ne)));else if(W.type==="array"){var Rt=Sr;ve&&W.value.length>ve&&(Rt=Hn),ht.push(ie.a.createElement(Rt,Object.assign({key:W.name,depth:A+1,name:W.name,src:W.value,namespace:pe.concat(W.name),type:"array",parent_type:Ee},ne)))}else ht.push(ie.a.createElement(Rn,Object.assign({key:W.name+"_"+pe,variable:W,singleIndent:5,namespace:pe,type:ze.props.type},ne)))}),ht};var Oe=je.getState(me);return ze.state=H(H({},Oe),{},{prevProps:{}}),ze}return ae(je,[{key:"getBraceStart",value:function(me,ze){var Oe=this,Y=this.props,ne=Y.src,W=Y.theme,S=Y.iconStyle;if(Y.parent_type==="array_group")return ie.a.createElement("span",null,ie.a.createElement("span",cn(W,"brace"),me==="array"?"[":"{"),ze?this.getObjectMetaData(ne):null);var A=ze?tr:xn;return ie.a.createElement("span",null,ie.a.createElement("span",Object.assign({onClick:function(L){Oe.toggleCollapsed()}},cn(W,"brace-row")),ie.a.createElement("div",Object.assign({className:"icon-container"},cn(W,"icon-container")),ie.a.createElement(A,{theme:W,iconStyle:S})),ie.a.createElement(si,this.props),ie.a.createElement("span",cn(W,"brace"),me==="array"?"[":"{")),ze?this.getObjectMetaData(ne):null)}},{key:"render",value:function(){var me=this,ze=this.props,Oe=ze.depth,Y=ze.src,ne=(ze.namespace,ze.name,ze.type,ze.parent_type),W=ze.theme,S=ze.jsvRoot,A=ze.iconStyle,L=U(ze,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),ce=this.state,ve=ce.object_type,pe=ce.expanded,Ee={};return S||ne==="array_group"?ne==="array_group"&&(Ee.borderLeft=0,Ee.display="inline"):Ee.paddingLeft=5*this.props.indentWidth,ie.a.createElement("div",Object.assign({className:"object-key-val",onMouseEnter:function(){return me.setState(H(H({},me.state),{},{hovered:!0}))},onMouseLeave:function(){return me.setState(H(H({},me.state),{},{hovered:!1}))}},cn(W,S?"jsv-root":"objectKeyVal",Ee)),this.getBraceStart(ve,pe),pe?this.getObjectContent(Oe,Y,H({theme:W,iconStyle:A},L)):this.getEllipsis(),ie.a.createElement("span",{className:"brace-row"},ie.a.createElement("span",{style:H(H({},cn(W,"brace").style),{},{paddingLeft:pe?"3px":"0px"})},ve==="array"?"]":"}"),pe?null:this.getObjectMetaData(Y)))}}],[{key:"getDerivedStateFromProps",value:function(me,ze){var Oe=ze.prevProps;return me.src!==Oe.src||me.collapsed!==Oe.collapsed||me.name!==Oe.name||me.namespace!==Oe.namespace||me.rjvId!==Oe.rjvId?H(H({},je.getState(me)),{},{prevProps:me}):null}}]),je}(ie.a.PureComponent);Kn.getState=function(Ke){var Xe=Object.keys(Ke.src).length,je=(Ke.collapsed===!1||Ke.collapsed!==!0&&Ke.collapsed>Ke.depth)&&(!Ke.shouldCollapse||Ke.shouldCollapse({name:Ke.name,src:Ke.src,type:tt(Ke.src),namespace:Ke.namespace})===!1)&&Xe!==0;return{expanded:Or.get(Ke.rjvId,Ke.namespace,"expanded",je),object_type:Ke.type==="array"?"array":"object",parent_type:Ke.type==="array"?"array":"object",size:Xe,hovered:!1}};var yn=function Ke(Xe,je){I(this,Ke),this.name=Xe,this.value=je,this.type=tt(je)};Vt(Kn);var Sr=Kn,yr=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){var me;I(this,je);for(var ze=arguments.length,Oe=new Array(ze),Y=0;Y<ze;Y++)Oe[Y]=arguments[Y];return(me=Xe.call.apply(Xe,[this].concat(Oe))).render=function(){var ne=fe(me).props,W=[ne.name],S=Sr;return Array.isArray(ne.src)&&ne.groupArraysAfterLength&&ne.src.length>ne.groupArraysAfterLength&&(S=Hn),ie.a.createElement("div",{className:"pretty-json-container object-container"},ie.a.createElement("div",{className:"object-content"},ie.a.createElement(S,Object.assign({namespace:W,depth:0,jsvRoot:!0},ne))))},me}return je}(ie.a.PureComponent),Tr=function(Ke){re(je,Ke);var Xe=Ae(je);function je(me){var ze;return I(this,je),(ze=Xe.call(this,me)).closeModal=function(){tn.dispatch({rjvId:ze.props.rjvId,name:"RESET"})},ze.submit=function(){ze.props.submit(ze.state.input)},ze.state={input:me.input?me.input:""},ze}return ae(je,[{key:"render",value:function(){var me=this,ze=this.props,Oe=ze.theme,Y=ze.rjvId,ne=ze.isValid,W=this.state.input,S=ne(W);return ie.a.createElement("div",Object.assign({className:"key-modal-request"},cn(Oe,"key-modal-request"),{onClick:this.closeModal}),ie.a.createElement("div",Object.assign({},cn(Oe,"key-modal"),{onClick:function(A){A.stopPropagation()}}),ie.a.createElement("div",cn(Oe,"key-modal-label"),"Key Name:"),ie.a.createElement("div",{style:{position:"relative"}},ie.a.createElement("input",Object.assign({},cn(Oe,"key-modal-input"),{className:"key-modal-input",ref:function(A){return A&&A.focus()},spellCheck:!1,value:W,placeholder:"...",onChange:function(A){me.setState({input:A.target.value})},onKeyPress:function(A){S&&A.key==="Enter"?me.submit():A.key==="Escape"&&me.closeModal()}})),S?ie.a.createElement(sn,Object.assign({},cn(Oe,"key-modal-submit"),{className:"key-modal-submit",onClick:function(A){return me.submit()}})):null),ie.a.createElement("span",cn(Oe,"key-modal-cancel"),ie.a.createElement(er,Object.assign({},cn(Oe,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){tn.dispatch({rjvId:Y,name:"RESET"})}})))))}}]),je}(ie.a.PureComponent),rn=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){var me;I(this,je);for(var ze=arguments.length,Oe=new Array(ze),Y=0;Y<ze;Y++)Oe[Y]=arguments[Y];return(me=Xe.call.apply(Xe,[this].concat(Oe))).isValid=function(ne){var W=me.props.rjvId,S=Or.get(W,"action","new-key-request");return ne!=""&&Object.keys(S.existing_value).indexOf(ne)===-1},me.submit=function(ne){var W=me.props.rjvId,S=Or.get(W,"action","new-key-request");S.new_value=H({},S.existing_value),S.new_value[ne]=me.props.defaultValue,tn.dispatch({name:"VARIABLE_ADDED",rjvId:W,data:S})},me}return ae(je,[{key:"render",value:function(){var me=this.props,ze=me.active,Oe=me.theme,Y=me.rjvId;return ze?ie.a.createElement(Tr,{rjvId:Y,theme:Oe,isValid:this.isValid,submit:this.submit}):null}}]),je}(ie.a.PureComponent),hn=function(Ke){re(je,Ke);var Xe=Ae(je);function je(){return I(this,je),Xe.apply(this,arguments)}return ae(je,[{key:"render",value:function(){var me=this.props,ze=me.message,Oe=me.active,Y=me.theme,ne=me.rjvId;return Oe?ie.a.createElement("div",Object.assign({className:"validation-failure"},cn(Y,"validation-failure"),{onClick:function(){tn.dispatch({rjvId:ne,name:"RESET"})}}),ie.a.createElement("span",cn(Y,"validation-failure-label"),ze),ie.a.createElement(er,cn(Y,"validation-failure-clear"))):null}}]),je}(ie.a.PureComponent),or=function(Ke){re(je,Ke);var Xe=Ae(je);function je(me){var ze;return I(this,je),(ze=Xe.call(this,me)).rjvId=Date.now().toString(),ze.getListeners=function(){return{reset:ze.resetState,"variable-update":ze.updateSrc,"add-key-request":ze.addKeyRequest}},ze.updateSrc=function(){var Oe,Y=Or.get(ze.rjvId,"action","variable-update"),ne=Y.name,W=Y.namespace,S=Y.new_value,A=Y.existing_value,L=(Y.variable_removed,Y.updated_src),ce=Y.type,ve=ze.props,pe=ve.onEdit,Ee=ve.onDelete,ht=ve.onAdd,ct={existing_src:ze.state.src,new_value:S,updated_src:L,name:ne,namespace:W,existing_value:A};switch(ce){case"variable-added":Oe=ht(ct);break;case"variable-edited":Oe=pe(ct);break;case"variable-removed":Oe=Ee(ct)}Oe!==!1?(Or.set(ze.rjvId,"global","src",L),ze.setState({src:L})):ze.setState({validationFailure:!0})},ze.addKeyRequest=function(){ze.setState({addKeyRequest:!0})},ze.resetState=function(){ze.setState({validationFailure:!1,addKeyRequest:!1})},ze.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:je.defaultProps.src,name:je.defaultProps.name,theme:je.defaultProps.theme,validationMessage:je.defaultProps.validationMessage,prevSrc:je.defaultProps.src,prevName:je.defaultProps.name,prevTheme:je.defaultProps.theme},ze}return ae(je,[{key:"componentDidMount",value:function(){Or.set(this.rjvId,"global","src",this.state.src);var me=this.getListeners();for(var ze in me)Or.on(ze+"-"+this.rjvId,me[ze]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(me,ze){ze.addKeyRequest!==!1&&this.setState({addKeyRequest:!1}),ze.editKeyRequest!==!1&&this.setState({editKeyRequest:!1}),me.src!==this.state.src&&Or.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var me=this.getListeners();for(var ze in me)Or.removeListener(ze+"-"+this.rjvId,me[ze])}},{key:"render",value:function(){var me=this.state,ze=me.validationFailure,Oe=me.validationMessage,Y=me.addKeyRequest,ne=me.theme,W=me.src,S=me.name,A=this.props,L=A.style,ce=A.defaultValue;return ie.a.createElement("div",{className:"react-json-view",style:H(H({},cn(ne,"app-container").style),L)},ie.a.createElement(hn,{message:Oe,active:ze,theme:ne,rjvId:this.rjvId}),ie.a.createElement(yr,Object.assign({},this.props,{src:W,name:S,theme:ne,type:tt(W),rjvId:this.rjvId})),ie.a.createElement(rn,{active:Y,theme:ne,rjvId:this.rjvId,defaultValue:ce}))}}],[{key:"getDerivedStateFromProps",value:function(me,ze){if(me.src!==ze.prevSrc||me.name!==ze.prevName||me.theme!==ze.prevTheme){var Oe={src:me.src,name:me.name,theme:me.theme,validationMessage:me.validationMessage,prevSrc:me.src,prevName:me.name,prevTheme:me.theme};return je.validateState(Oe)}return null}}]),je}(ie.a.PureComponent);or.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,quotesOnKeys:!0,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null,displayArrayKey:!0},or.validateState=function(Ke){var Xe={};return tt(Ke.theme)!=="object"||function(je){var me=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if(tt(je)==="object"){for(var ze=0;ze<me.length;ze++)if(!(me[ze]in je))return!1;return!0}return!1}(Ke.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),Xe.theme="rjv-default"),tt(Ke.src)!=="object"&&tt(Ke.src)!=="array"&&(console.error("react-json-view error:","src property must be a valid json object"),Xe.name="ERROR",Xe.src={message:"src property must be a valid json object"}),H(H({},Ke),Xe)},Vt(or),j.default=or}])})},28660:function(Ne,te,w){var B=w(34155);var M;(function(j){(function(R){var k=typeof w.g=="object"?w.g:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),F=H(j);typeof k.Reflect=="undefined"?k.Reflect=j:F=H(k.Reflect,F),R(F);function H(I,ee){return function(ae,ue){typeof I[ae]!="function"&&Object.defineProperty(I,ae,{configurable:!0,writable:!0,value:ue}),ee&&ee(ae,ue)}}})(function(R){var k=Object.prototype.hasOwnProperty,F=typeof Symbol=="function",H=F&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",I=F&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",ee=typeof Object.create=="function",ae={__proto__:[]}instanceof Array,ue=!ee&&!ae,re={create:ee?function(){return pt(Object.create(null))}:ae?function(){return pt({__proto__:null})}:function(){return pt({})},has:ue?function(rt,qt){return k.call(rt,qt)}:function(rt,qt){return qt in rt},get:ue?function(rt,qt){return k.call(rt,qt)?rt[qt]:void 0}:function(rt,qt){return rt[qt]}},ge=Object.getPrototypeOf(Function),Ze=typeof B=="object"&&B.env&&B.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",fe=!Ze&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:jt(),Ce=!Ze&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:gt(),Ae=!Ze&&typeof WeakMap=="function"?WeakMap:Je(),Pe=new Ae;function ie(rt,qt,Dn,_n){if(Jt(Dn)){if(!br(rt))throw new TypeError;if(!Lr(qt))throw new TypeError;return Ye(rt,qt)}else{if(!br(rt))throw new TypeError;if(!Or(qt))throw new TypeError;if(!Or(_n)&&!Jt(_n)&&!tn(_n))throw new TypeError;return tn(_n)&&(_n=void 0),Dn=dr(Dn),Cn(rt,qt,Dn,_n)}}R("decorate",ie);function at(rt,qt){function Dn(_n,Wr){if(!Or(_n))throw new TypeError;if(!Jt(Wr)&&!Ji(Wr))throw new TypeError;yt(rt,qt,_n,Wr)}return Dn}R("metadata",at);function mt(rt,qt,Dn,_n){if(!Or(Dn))throw new TypeError;return Jt(_n)||(_n=dr(_n)),yt(rt,qt,Dn,_n)}R("defineMetadata",mt);function vt(rt,qt,Dn){if(!Or(qt))throw new TypeError;return Jt(Dn)||(Dn=dr(Dn)),mr(rt,qt,Dn)}R("hasMetadata",vt);function Vt(rt,qt,Dn){if(!Or(qt))throw new TypeError;return Jt(Dn)||(Dn=dr(Dn)),pr(rt,qt,Dn)}R("hasOwnMetadata",Vt);function U(rt,qt,Dn){if(!Or(qt))throw new TypeError;return Jt(Dn)||(Dn=dr(Dn)),hr(rt,qt,Dn)}R("getMetadata",U);function tt(rt,qt,Dn){if(!Or(qt))throw new TypeError;return Jt(Dn)||(Dn=dr(Dn)),Mt(rt,qt,Dn)}R("getOwnMetadata",tt);function ut(rt,qt){if(!Or(rt))throw new TypeError;return Jt(qt)||(qt=dr(qt)),Et(rt,qt)}R("getMetadataKeys",ut);function vn(rt,qt){if(!Or(rt))throw new TypeError;return Jt(qt)||(qt=dr(qt)),$e(rt,qt)}R("getOwnMetadataKeys",vn);function ft(rt,qt,Dn){if(!Or(qt))throw new TypeError;Jt(Dn)||(Dn=dr(Dn));var _n=cn(qt,Dn,!1);if(Jt(_n)||!_n.delete(rt))return!1;if(_n.size>0)return!0;var Wr=Pe.get(qt);return Wr.delete(Dn),Wr.size>0||Pe.delete(qt),!0}R("deleteMetadata",ft);function Ye(rt,qt){for(var Dn=rt.length-1;Dn>=0;--Dn){var _n=rt[Dn],Wr=_n(qt);if(!Jt(Wr)&&!tn(Wr)){if(!Lr(Wr))throw new TypeError;qt=Wr}}return qt}function Cn(rt,qt,Dn,_n){for(var Wr=rt.length-1;Wr>=0;--Wr){var Qn=rt[Wr],it=Qn(qt,Dn,_n);if(!Jt(it)&&!tn(it)){if(!Or(it))throw new TypeError;_n=it}}return _n}function cn(rt,qt,Dn){var _n=Pe.get(rt);if(Jt(_n)){if(!Dn)return;_n=new fe,Pe.set(rt,_n)}var Wr=_n.get(qt);if(Jt(Wr)){if(!Dn)return;Wr=new fe,_n.set(qt,Wr)}return Wr}function mr(rt,qt,Dn){var _n=pr(rt,qt,Dn);if(_n)return!0;var Wr=Nt(qt);return tn(Wr)?!1:mr(rt,Wr,Dn)}function pr(rt,qt,Dn){var _n=cn(qt,Dn,!1);return Jt(_n)?!1:Yr(_n.has(rt))}function hr(rt,qt,Dn){var _n=pr(rt,qt,Dn);if(_n)return Mt(rt,qt,Dn);var Wr=Nt(qt);if(!tn(Wr))return hr(rt,Wr,Dn)}function Mt(rt,qt,Dn){var _n=cn(qt,Dn,!1);if(!Jt(_n))return _n.get(rt)}function yt(rt,qt,Dn,_n){var Wr=cn(Dn,_n,!0);Wr.set(rt,qt)}function Et(rt,qt){var Dn=$e(rt,qt),_n=Nt(rt);if(_n===null)return Dn;var Wr=Et(_n,qt);if(Wr.length<=0)return Dn;if(Dn.length<=0)return Wr;for(var Qn=new Ce,it=[],mn=0,kn=Dn;mn<kn.length;mn++){var gr=kn[mn],kr=Qn.has(gr);kr||(Qn.add(gr),it.push(gr))}for(var Ei=0,er=Wr;Ei<er.length;Ei++){var gr=er[Ei],kr=Qn.has(gr);kr||(Qn.add(gr),it.push(gr))}return it}function $e(rt,qt){var Dn=[],_n=cn(rt,qt,!1);if(Jt(_n))return Dn;for(var Wr=_n.keys(),Qn=$i(Wr),it=0;;){var mn=Q(Qn);if(!mn)return Dn.length=it,Dn;var kn=It(mn);try{Dn[it]=kn}catch(gr){try{we(Qn)}finally{throw gr}}it++}}function $t(rt){if(rt===null)return 1;switch(typeof rt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return rt===null?1:6;default:return 6}}function Jt(rt){return rt===void 0}function tn(rt){return rt===null}function ir(rt){return typeof rt=="symbol"}function Or(rt){return typeof rt=="object"?rt!==null:typeof rt=="function"}function Fr(rt,qt){switch($t(rt)){case 0:return rt;case 1:return rt;case 2:return rt;case 3:return rt;case 4:return rt;case 5:return rt}var Dn=qt===3?"string":qt===5?"number":"default",_n=Ci(rt,H);if(_n!==void 0){var Wr=_n.call(rt,Dn);if(Or(Wr))throw new TypeError;return Wr}return lr(rt,Dn==="default"?"number":Dn)}function lr(rt,qt){if(qt==="string"){var Dn=rt.toString;if(nr(Dn)){var _n=Dn.call(rt);if(!Or(_n))return _n}var Wr=rt.valueOf;if(nr(Wr)){var _n=Wr.call(rt);if(!Or(_n))return _n}}else{var Wr=rt.valueOf;if(nr(Wr)){var _n=Wr.call(rt);if(!Or(_n))return _n}var Qn=rt.toString;if(nr(Qn)){var _n=Qn.call(rt);if(!Or(_n))return _n}}throw new TypeError}function Yr(rt){return!!rt}function jn(rt){return""+rt}function dr(rt){var qt=Fr(rt,3);return ir(qt)?qt:jn(qt)}function br(rt){return Array.isArray?Array.isArray(rt):rt instanceof Object?rt instanceof Array:Object.prototype.toString.call(rt)==="[object Array]"}function nr(rt){return typeof rt=="function"}function Lr(rt){return typeof rt=="function"}function Ji(rt){switch($t(rt)){case 3:return!0;case 4:return!0;default:return!1}}function Ci(rt,qt){var Dn=rt[qt];if(Dn!=null){if(!nr(Dn))throw new TypeError;return Dn}}function $i(rt){var qt=Ci(rt,I);if(!nr(qt))throw new TypeError;var Dn=qt.call(rt);if(!Or(Dn))throw new TypeError;return Dn}function It(rt){return rt.value}function Q(rt){var qt=rt.next();return qt.done?!1:qt}function we(rt){var qt=rt.return;qt&&qt.call(rt)}function Nt(rt){var qt=Object.getPrototypeOf(rt);if(typeof rt!="function"||rt===ge||qt!==ge)return qt;var Dn=rt.prototype,_n=Dn&&Object.getPrototypeOf(Dn);if(_n==null||_n===Object.prototype)return qt;var Wr=_n.constructor;return typeof Wr!="function"||Wr===rt?qt:Wr}function jt(){var rt={},qt=[],Dn=function(){function it(mn,kn,gr){this._index=0,this._keys=mn,this._values=kn,this._selector=gr}return it.prototype["@@iterator"]=function(){return this},it.prototype[I]=function(){return this},it.prototype.next=function(){var mn=this._index;if(mn>=0&&mn<this._keys.length){var kn=this._selector(this._keys[mn],this._values[mn]);return mn+1>=this._keys.length?(this._index=-1,this._keys=qt,this._values=qt):this._index++,{value:kn,done:!1}}return{value:void 0,done:!0}},it.prototype.throw=function(mn){throw this._index>=0&&(this._index=-1,this._keys=qt,this._values=qt),mn},it.prototype.return=function(mn){return this._index>=0&&(this._index=-1,this._keys=qt,this._values=qt),{value:mn,done:!0}},it}();return function(){function it(){this._keys=[],this._values=[],this._cacheKey=rt,this._cacheIndex=-2}return Object.defineProperty(it.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),it.prototype.has=function(mn){return this._find(mn,!1)>=0},it.prototype.get=function(mn){var kn=this._find(mn,!1);return kn>=0?this._values[kn]:void 0},it.prototype.set=function(mn,kn){var gr=this._find(mn,!0);return this._values[gr]=kn,this},it.prototype.delete=function(mn){var kn=this._find(mn,!1);if(kn>=0){for(var gr=this._keys.length,kr=kn+1;kr<gr;kr++)this._keys[kr-1]=this._keys[kr],this._values[kr-1]=this._values[kr];return this._keys.length--,this._values.length--,mn===this._cacheKey&&(this._cacheKey=rt,this._cacheIndex=-2),!0}return!1},it.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=rt,this._cacheIndex=-2},it.prototype.keys=function(){return new Dn(this._keys,this._values,_n)},it.prototype.values=function(){return new Dn(this._keys,this._values,Wr)},it.prototype.entries=function(){return new Dn(this._keys,this._values,Qn)},it.prototype["@@iterator"]=function(){return this.entries()},it.prototype[I]=function(){return this.entries()},it.prototype._find=function(mn,kn){return this._cacheKey!==mn&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=mn)),this._cacheIndex<0&&kn&&(this._cacheIndex=this._keys.length,this._keys.push(mn),this._values.push(void 0)),this._cacheIndex},it}();function _n(it,mn){return it}function Wr(it,mn){return mn}function Qn(it,mn){return[it,mn]}}function gt(){return function(){function rt(){this._map=new fe}return Object.defineProperty(rt.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),rt.prototype.has=function(qt){return this._map.has(qt)},rt.prototype.add=function(qt){return this._map.set(qt,qt),this},rt.prototype.delete=function(qt){return this._map.delete(qt)},rt.prototype.clear=function(){this._map.clear()},rt.prototype.keys=function(){return this._map.keys()},rt.prototype.values=function(){return this._map.values()},rt.prototype.entries=function(){return this._map.entries()},rt.prototype["@@iterator"]=function(){return this.keys()},rt.prototype[I]=function(){return this.keys()},rt}()}function Je(){var rt=16,qt=re.create(),Dn=_n();return function(){function kn(){this._key=_n()}return kn.prototype.has=function(gr){var kr=Wr(gr,!1);return kr!==void 0?re.has(kr,this._key):!1},kn.prototype.get=function(gr){var kr=Wr(gr,!1);return kr!==void 0?re.get(kr,this._key):void 0},kn.prototype.set=function(gr,kr){var Ei=Wr(gr,!0);return Ei[this._key]=kr,this},kn.prototype.delete=function(gr){var kr=Wr(gr,!1);return kr!==void 0?delete kr[this._key]:!1},kn.prototype.clear=function(){this._key=_n()},kn}();function _n(){var kn;do kn="@@WeakMap@@"+mn();while(re.has(qt,kn));return qt[kn]=!0,kn}function Wr(kn,gr){if(!k.call(kn,Dn)){if(!gr)return;Object.defineProperty(kn,Dn,{value:re.create()})}return kn[Dn]}function Qn(kn,gr){for(var kr=0;kr<gr;++kr)kn[kr]=Math.random()*255|0;return kn}function it(kn){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(kn)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(kn)):Qn(new Uint8Array(kn),kn):Qn(new Array(kn),kn)}function mn(){var kn=it(rt);kn[6]=kn[6]&79|64,kn[8]=kn[8]&191|128;for(var gr="",kr=0;kr<rt;++kr){var Ei=kn[kr];(kr===4||kr===6||kr===8)&&(gr+="-"),Ei<16&&(gr+="0"),gr+=Ei.toString(16).toLowerCase()}return gr}}function pt(rt){return rt.__=void 0,delete rt.__,rt}})})(M||(M={}))},81550:function(Ne){(function(te,w){Ne.exports=w()})(this,function(){"use strict";var te=function(Le){return Le instanceof Uint8Array||Le instanceof Uint16Array||Le instanceof Uint32Array||Le instanceof Int8Array||Le instanceof Int16Array||Le instanceof Int32Array||Le instanceof Float32Array||Le instanceof Float64Array||Le instanceof Uint8ClampedArray},w=function(Le,nn){for(var Bn=Object.keys(nn),ri=0;ri<Bn.length;++ri)Le[Bn[ri]]=nn[Bn[ri]];return Le},B=`
`;function M(Le){return typeof atob!="undefined"?atob(Le):"base64:"+Le}function j(Le){var nn=new Error("(regl) "+Le);throw console.error(nn),nn}function R(Le,nn){Le||j(nn)}function k(Le){return Le?": "+Le:""}function F(Le,nn,Bn){Le in nn||j("unknown parameter ("+Le+")"+k(Bn)+". possible values: "+Object.keys(nn).join())}function H(Le,nn){te(Le)||j("invalid parameter type"+k(nn)+". must be a typed array")}function I(Le,nn){switch(nn){case"number":return typeof Le=="number";case"object":return typeof Le=="object";case"string":return typeof Le=="string";case"boolean":return typeof Le=="boolean";case"function":return typeof Le=="function";case"undefined":return typeof Le=="undefined";case"symbol":return typeof Le=="symbol"}}function ee(Le,nn,Bn){I(Le,nn)||j("invalid parameter type"+k(Bn)+". expected "+nn+", got "+typeof Le)}function ae(Le,nn){Le>=0&&(Le|0)===Le||j("invalid parameter type, ("+Le+")"+k(nn)+". must be a nonnegative integer")}function ue(Le,nn,Bn){nn.indexOf(Le)<0&&j("invalid value"+k(Bn)+". must be one of: "+nn)}var re=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function ge(Le){Object.keys(Le).forEach(function(nn){re.indexOf(nn)<0&&j('invalid regl constructor argument "'+nn+'". must be one of '+re)})}function Ze(Le,nn){for(Le=Le+"";Le.length<nn;)Le=" "+Le;return Le}function fe(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function Ce(Le,nn){this.number=Le,this.line=nn,this.errors=[]}function Ae(Le,nn,Bn){this.file=Le,this.line=nn,this.message=Bn}function Pe(){var Le=new Error,nn=(Le.stack||Le).toString(),Bn=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(nn);if(Bn)return Bn[1];var ri=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(nn);return ri?ri[1]:"unknown"}function ie(){var Le=new Error,nn=(Le.stack||Le).toString(),Bn=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(nn);if(Bn)return Bn[1];var ri=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(nn);return ri?ri[1]:"unknown"}function at(Le,nn){var Bn=Le.split(`
`),ri=1,Ur=0,qr={unknown:new fe,0:new fe};qr.unknown.name=qr[0].name=nn||Pe(),qr.unknown.lines.push(new Ce(0,""));for(var hi=0;hi<Bn.length;++hi){var ji=Bn[hi],lo=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(ji);if(lo)switch(lo[1]){case"line":var no=/(\d+)(\s+\d+)?/.exec(lo[2]);no&&(ri=no[1]|0,no[2]&&(Ur=no[2]|0,Ur in qr||(qr[Ur]=new fe)));break;case"define":var oo=/SHADER_NAME(_B64)?\s+(.*)$/.exec(lo[2]);oo&&(qr[Ur].name=oo[1]?M(oo[2]):oo[2]);break}qr[Ur].lines.push(new Ce(ri++,ji))}return Object.keys(qr).forEach(function(Zi){var Mo=qr[Zi];Mo.lines.forEach(function(Yi){Mo.index[Yi.number]=Yi})}),qr}function mt(Le){var nn=[];return Le.split(`
`).forEach(function(Bn){if(!(Bn.length<5)){var ri=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Bn);ri?nn.push(new Ae(ri[1]|0,ri[2]|0,ri[3].trim())):Bn.length>0&&nn.push(new Ae("unknown",0,Bn))}}),nn}function vt(Le,nn){nn.forEach(function(Bn){var ri=Le[Bn.file];if(ri){var Ur=ri.index[Bn.line];if(Ur){Ur.errors.push(Bn),ri.hasErrors=!0;return}}Le.unknown.hasErrors=!0,Le.unknown.lines[0].errors.push(Bn)})}function Vt(Le,nn,Bn,ri,Ur){if(!Le.getShaderParameter(nn,Le.COMPILE_STATUS)){var qr=Le.getShaderInfoLog(nn),hi=ri===Le.FRAGMENT_SHADER?"fragment":"vertex";Cn(Bn,"string",hi+" shader source must be a string",Ur);var ji=at(Bn,Ur),lo=mt(qr);vt(ji,lo),Object.keys(ji).forEach(function(no){var oo=ji[no];if(!oo.hasErrors)return;var Zi=[""],Mo=[""];function Yi(yo,Vr){Zi.push(yo),Mo.push(Vr||"")}Yi("file number "+no+": "+oo.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),oo.lines.forEach(function(yo){if(yo.errors.length>0){Yi(Ze(yo.number,4)+"|  ","background-color:yellow; font-weight:bold"),Yi(yo.line+B,"color:red; background-color:yellow; font-weight:bold");var Vr=0;yo.errors.forEach(function(pi){var fo=pi.message,_o=/^\s*'(.*)'\s*:\s*(.*)$/.exec(fo);if(_o){var Vi=_o[1];switch(fo=_o[2],Vi){case"assign":Vi="=";break}Vr=Math.max(yo.line.indexOf(Vi,Vr),0)}else Vr=0;Yi(Ze("| ",6)),Yi(Ze("^^^",Vr+3)+B,"font-weight:bold"),Yi(Ze("| ",6)),Yi(fo+B,"font-weight:bold")}),Yi(Ze("| ",6)+B)}else Yi(Ze(yo.number,4)+"|  "),Yi(yo.line+B,"color:red")}),typeof document!="undefined"&&!window.chrome?(Mo[0]=Zi.join("%c"),console.log.apply(console,Mo)):console.log(Zi.join(""))}),R.raise("Error compiling "+hi+" shader, "+ji[0].name)}}function U(Le,nn,Bn,ri,Ur){if(!Le.getProgramParameter(nn,Le.LINK_STATUS)){var qr=Le.getProgramInfoLog(nn),hi=at(Bn,Ur),ji=at(ri,Ur),lo='Error linking program with vertex shader, "'+ji[0].name+'", and fragment shader "'+hi[0].name+'"';typeof document!="undefined"?console.log("%c"+lo+B+"%c"+qr,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(lo+B+qr),R.raise(lo)}}function tt(Le){Le._commandRef=Pe()}function ut(Le,nn,Bn,ri){tt(Le);function Ur(lo){return lo?ri.id(lo):0}Le._fragId=Ur(Le.static.frag),Le._vertId=Ur(Le.static.vert);function qr(lo,no){Object.keys(no).forEach(function(oo){lo[ri.id(oo)]=!0})}var hi=Le._uniformSet={};qr(hi,nn.static),qr(hi,nn.dynamic);var ji=Le._attributeSet={};qr(ji,Bn.static),qr(ji,Bn.dynamic),Le._hasCount="count"in Le.static||"count"in Le.dynamic||"elements"in Le.static||"elements"in Le.dynamic}function vn(Le,nn){var Bn=ie();j(Le+" in command "+(nn||Pe())+(Bn==="unknown"?"":" called from "+Bn))}function ft(Le,nn,Bn){Le||vn(nn,Bn||Pe())}function Ye(Le,nn,Bn,ri){Le in nn||vn("unknown parameter ("+Le+")"+k(Bn)+". possible values: "+Object.keys(nn).join(),ri||Pe())}function Cn(Le,nn,Bn,ri){I(Le,nn)||vn("invalid parameter type"+k(Bn)+". expected "+nn+", got "+typeof Le,ri||Pe())}function cn(Le){Le()}function mr(Le,nn,Bn){Le.texture?ue(Le.texture._texture.internalformat,nn,"unsupported texture format for attachment"):ue(Le.renderbuffer._renderbuffer.format,Bn,"unsupported renderbuffer format for attachment")}var pr=33071,hr=9728,Mt=9984,yt=9985,Et=9986,$e=9987,$t=5120,Jt=5121,tn=5122,ir=5123,Or=5124,Fr=5125,lr=5126,Yr=32819,jn=32820,dr=33635,br=34042,nr=36193,Lr={};Lr[$t]=Lr[Jt]=1,Lr[tn]=Lr[ir]=Lr[nr]=Lr[dr]=Lr[Yr]=Lr[jn]=2,Lr[Or]=Lr[Fr]=Lr[lr]=Lr[br]=4;function Ji(Le,nn){return Le===jn||Le===Yr||Le===dr?2:Le===br?4:Lr[Le]*nn}function Ci(Le){return!(Le&Le-1)&&!!Le}function $i(Le,nn,Bn){var ri,Ur=nn.width,qr=nn.height,hi=nn.channels;R(Ur>0&&Ur<=Bn.maxTextureSize&&qr>0&&qr<=Bn.maxTextureSize,"invalid texture shape"),(Le.wrapS!==pr||Le.wrapT!==pr)&&R(Ci(Ur)&&Ci(qr),"incompatible wrap mode for texture, both width and height must be power of 2"),nn.mipmask===1?Ur!==1&&qr!==1&&R(Le.minFilter!==Mt&&Le.minFilter!==Et&&Le.minFilter!==yt&&Le.minFilter!==$e,"min filter requires mipmap"):(R(Ci(Ur)&&Ci(qr),"texture must be a square power of 2 to support mipmapping"),R(nn.mipmask===(Ur<<1)-1,"missing or incomplete mipmap data")),nn.type===lr&&(Bn.extensions.indexOf("oes_texture_float_linear")<0&&R(Le.minFilter===hr&&Le.magFilter===hr,"filter not supported, must enable oes_texture_float_linear"),R(!Le.genMipmaps,"mipmap generation not supported with float textures"));var ji=nn.images;for(ri=0;ri<16;++ri)if(ji[ri]){var lo=Ur>>ri,no=qr>>ri;R(nn.mipmask&1<<ri,"missing mipmap data");var oo=ji[ri];if(R(oo.width===lo&&oo.height===no,"invalid shape for mip images"),R(oo.format===nn.format&&oo.internalformat===nn.internalformat&&oo.type===nn.type,"incompatible type for mip image"),!oo.compressed)if(oo.data){var Zi=Math.ceil(Ji(oo.type,hi)*lo/oo.unpackAlignment)*oo.unpackAlignment;R(oo.data.byteLength===Zi*no,"invalid data for image, buffer size is inconsistent with image format")}else oo.element||oo.copy}else Le.genMipmaps||R((nn.mipmask&1<<ri)===0,"extra mipmap data");nn.compressed&&R(!Le.genMipmaps,"mipmap generation for compressed images not supported")}function It(Le,nn,Bn,ri){var Ur=Le.width,qr=Le.height,hi=Le.channels;R(Ur>0&&Ur<=ri.maxTextureSize&&qr>0&&qr<=ri.maxTextureSize,"invalid texture shape"),R(Ur===qr,"cube map must be square"),R(nn.wrapS===pr&&nn.wrapT===pr,"wrap mode not supported by cube map");for(var ji=0;ji<Bn.length;++ji){var lo=Bn[ji];R(lo.width===Ur&&lo.height===qr,"inconsistent cube map face shape"),nn.genMipmaps&&(R(!lo.compressed,"can not generate mipmap for compressed textures"),R(lo.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var no=lo.images,oo=0;oo<16;++oo){var Zi=no[oo];if(Zi){var Mo=Ur>>oo,Yi=qr>>oo;R(lo.mipmask&1<<oo,"missing mipmap data"),R(Zi.width===Mo&&Zi.height===Yi,"invalid shape for mip images"),R(Zi.format===Le.format&&Zi.internalformat===Le.internalformat&&Zi.type===Le.type,"incompatible type for mip image"),Zi.compressed||(Zi.data?R(Zi.data.byteLength===Mo*Yi*Math.max(Ji(Zi.type,hi),Zi.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Zi.element||Zi.copy)}}}}var Q=w(R,{optional:cn,raise:j,commandRaise:vn,command:ft,parameter:F,commandParameter:Ye,constructor:ge,type:ee,commandType:Cn,isTypedArray:H,nni:ae,oneOf:ue,shaderError:Vt,linkError:U,callSite:ie,saveCommandRef:tt,saveDrawInfo:ut,framebufferFormat:mr,guessCommand:Pe,texture2D:$i,textureCube:It}),we=0,Nt=0,jt=5,gt=6;function Je(Le,nn){this.id=we++,this.type=Le,this.data=nn}function pt(Le){return Le.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function rt(Le){if(Le.length===0)return[];var nn=Le.charAt(0),Bn=Le.charAt(Le.length-1);if(Le.length>1&&nn===Bn&&(nn==='"'||nn==="'"))return['"'+pt(Le.substr(1,Le.length-2))+'"'];var ri=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Le);if(ri)return rt(Le.substr(0,ri.index)).concat(rt(ri[1])).concat(rt(Le.substr(ri.index+ri[0].length)));var Ur=Le.split(".");if(Ur.length===1)return['"'+pt(Le)+'"'];for(var qr=[],hi=0;hi<Ur.length;++hi)qr=qr.concat(rt(Ur[hi]));return qr}function qt(Le){return"["+rt(Le).join("][")+"]"}function Dn(Le,nn){return new Je(Le,qt(nn+""))}function _n(Le){return typeof Le=="function"&&!Le._reglType||Le instanceof Je}function Wr(Le,nn){if(typeof Le=="function")return new Je(Nt,Le);if(typeof Le=="number"||typeof Le=="boolean")return new Je(jt,Le);if(Array.isArray(Le))return new Je(gt,Le.map((Bn,ri)=>Wr(Bn,nn+"["+ri+"]")));if(Le instanceof Je)return Le;Q(!1,"invalid option type in uniform "+nn)}var Qn={DynamicVariable:Je,define:Dn,isDynamic:_n,unbox:Wr,accessor:qt},it={next:typeof requestAnimationFrame=="function"?function(Le){return requestAnimationFrame(Le)}:function(Le){return setTimeout(Le,16)},cancel:typeof cancelAnimationFrame=="function"?function(Le){return cancelAnimationFrame(Le)}:clearTimeout},mn=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function kn(){var Le={"":0},nn=[""];return{id:function(Bn){var ri=Le[Bn];return ri||(ri=Le[Bn]=nn.length,nn.push(Bn),ri)},str:function(Bn){return nn[Bn]}}}function gr(Le,nn,Bn){var ri=document.createElement("canvas");w(ri.style,{border:0,margin:0,padding:0,top:0,left:0}),Le.appendChild(ri),Le===document.body&&(ri.style.position="absolute",w(Le.style,{margin:0,padding:0}));function Ur(){var ji=window.innerWidth,lo=window.innerHeight;if(Le!==document.body){var no=Le.getBoundingClientRect();ji=no.right-no.left,lo=no.bottom-no.top}ri.width=Bn*ji,ri.height=Bn*lo,w(ri.style,{width:ji+"px",height:lo+"px"})}var qr;Le!==document.body&&typeof ResizeObserver=="function"?(qr=new ResizeObserver(function(){setTimeout(Ur)}),qr.observe(Le)):window.addEventListener("resize",Ur,!1);function hi(){qr?qr.disconnect():window.removeEventListener("resize",Ur),Le.removeChild(ri)}return Ur(),{canvas:ri,onDestroy:hi}}function kr(Le,nn){function Bn(ri){try{return Le.getContext(ri,nn)}catch(Ur){return null}}return Bn("webgl")||Bn("experimental-webgl")||Bn("webgl-experimental")}function Ei(Le){return typeof Le.nodeName=="string"&&typeof Le.appendChild=="function"&&typeof Le.getBoundingClientRect=="function"}function er(Le){return typeof Le.drawArrays=="function"||typeof Le.drawElements=="function"}function Tt(Le){return typeof Le=="string"?Le.split():(Q(Array.isArray(Le),"invalid extension array"),Le)}function sn(Le){return typeof Le=="string"?(Q(typeof document!="undefined","not supported outside of DOM"),document.querySelector(Le)):Le}function _t(Le){var nn=Le||{},Bn,ri,Ur,qr,hi={},ji=[],lo=[],no=typeof window=="undefined"?1:window.devicePixelRatio,oo=!1,Zi=function(yo){yo&&Q.raise(yo)},Mo=function(){};if(typeof nn=="string"?(Q(typeof document!="undefined","selector queries only supported in DOM enviroments"),Bn=document.querySelector(nn),Q(Bn,"invalid query string for element")):typeof nn=="object"?Ei(nn)?Bn=nn:er(nn)?(qr=nn,Ur=qr.canvas):(Q.constructor(nn),"gl"in nn?qr=nn.gl:"canvas"in nn?Ur=sn(nn.canvas):"container"in nn&&(ri=sn(nn.container)),"attributes"in nn&&(hi=nn.attributes,Q.type(hi,"object","invalid context attributes")),"extensions"in nn&&(ji=Tt(nn.extensions)),"optionalExtensions"in nn&&(lo=Tt(nn.optionalExtensions)),"onDone"in nn&&(Q.type(nn.onDone,"function","invalid or missing onDone callback"),Zi=nn.onDone),"profile"in nn&&(oo=!!nn.profile),"pixelRatio"in nn&&(no=+nn.pixelRatio,Q(no>0,"invalid pixel ratio"))):Q.raise("invalid arguments to regl"),Bn&&(Bn.nodeName.toLowerCase()==="canvas"?Ur=Bn:ri=Bn),!qr){if(!Ur){Q(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var Yi=gr(ri||document.body,Zi,no);if(!Yi)return null;Ur=Yi.canvas,Mo=Yi.onDestroy}hi.premultipliedAlpha===void 0&&(hi.premultipliedAlpha=!0),qr=kr(Ur,hi)}return qr?{gl:qr,canvas:Ur,container:ri,extensions:ji,optionalExtensions:lo,pixelRatio:no,profile:oo,onDone:Zi,onDestroy:Mo}:(Mo(),Zi("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Ut(Le,nn){var Bn={};function ri(hi){Q.type(hi,"string","extension name must be string");var ji=hi.toLowerCase(),lo;try{lo=Bn[ji]=Le.getExtension(ji)}catch(no){}return!!lo}for(var Ur=0;Ur<nn.extensions.length;++Ur){var qr=nn.extensions[Ur];if(!ri(qr))return nn.onDestroy(),nn.onDone('"'+qr+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return nn.optionalExtensions.forEach(ri),{extensions:Bn,restore:function(){Object.keys(Bn).forEach(function(hi){if(Bn[hi]&&!ri(hi))throw new Error("(regl): error restoring extension "+hi)})}}}function Rn(Le,nn){for(var Bn=Array(Le),ri=0;ri<Le;++ri)Bn[ri]=nn(ri);return Bn}var Cr=5120,si=5121,tr=5122,xn=5123,Hn=5124,Kn=5125,yn=5126;function Sr(Le){for(var nn=16;nn<=1<<28;nn*=16)if(Le<=nn)return nn;return 0}function yr(Le){var nn,Bn;return nn=(Le>65535)<<4,Le>>>=nn,Bn=(Le>255)<<3,Le>>>=Bn,nn|=Bn,Bn=(Le>15)<<2,Le>>>=Bn,nn|=Bn,Bn=(Le>3)<<1,Le>>>=Bn,nn|=Bn,nn|Le>>1}function Tr(){var Le=Rn(8,function(){return[]});function nn(qr){var hi=Sr(qr),ji=Le[yr(hi)>>2];return ji.length>0?ji.pop():new ArrayBuffer(hi)}function Bn(qr){Le[yr(qr.byteLength)>>2].push(qr)}function ri(qr,hi){var ji=null;switch(qr){case Cr:ji=new Int8Array(nn(hi),0,hi);break;case si:ji=new Uint8Array(nn(hi),0,hi);break;case tr:ji=new Int16Array(nn(2*hi),0,hi);break;case xn:ji=new Uint16Array(nn(2*hi),0,hi);break;case Hn:ji=new Int32Array(nn(4*hi),0,hi);break;case Kn:ji=new Uint32Array(nn(4*hi),0,hi);break;case yn:ji=new Float32Array(nn(4*hi),0,hi);break;default:return null}return ji.length!==hi?ji.subarray(0,hi):ji}function Ur(qr){Bn(qr.buffer)}return{alloc:nn,free:Bn,allocType:ri,freeType:Ur}}var rn=Tr();rn.zero=Tr();var hn=3408,or=3410,Ke=3411,Xe=3412,je=3413,me=3414,ze=3415,Oe=33901,Y=33902,ne=3379,W=3386,S=34921,A=36347,L=36348,ce=35661,ve=35660,pe=34930,Ee=36349,ht=34076,ct=34024,nt=7936,Rt=7937,kt=7938,bn=35724,pn=34047,Lt=36063,Bt=34852,In=3553,Zn=34067,sr=34069,ni=33984,mi=6408,Rr=5126,ai=5121,li=36160,wi=36053,Ct=36064,Zt=16384,Pr=function(Le,nn){var Bn=1;nn.ext_texture_filter_anisotropic&&(Bn=Le.getParameter(pn));var ri=1,Ur=1;nn.webgl_draw_buffers&&(ri=Le.getParameter(Bt),Ur=Le.getParameter(Lt));var qr=!!nn.oes_texture_float;if(qr){var hi=Le.createTexture();Le.bindTexture(In,hi),Le.texImage2D(In,0,mi,1,1,0,mi,Rr,null);var ji=Le.createFramebuffer();if(Le.bindFramebuffer(li,ji),Le.framebufferTexture2D(li,Ct,In,hi,0),Le.bindTexture(In,null),Le.checkFramebufferStatus(li)!==wi)qr=!1;else{Le.viewport(0,0,1,1),Le.clearColor(1,0,0,1),Le.clear(Zt);var lo=rn.allocType(Rr,4);Le.readPixels(0,0,1,1,mi,Rr,lo),Le.getError()?qr=!1:(Le.deleteFramebuffer(ji),Le.deleteTexture(hi),qr=lo[0]===1),rn.freeType(lo)}}var no=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),oo=!0;if(!no){var Zi=Le.createTexture(),Mo=rn.allocType(ai,36);Le.activeTexture(ni),Le.bindTexture(Zn,Zi),Le.texImage2D(sr,0,mi,3,3,0,mi,ai,Mo),rn.freeType(Mo),Le.bindTexture(Zn,null),Le.deleteTexture(Zi),oo=!Le.getError()}return{colorBits:[Le.getParameter(or),Le.getParameter(Ke),Le.getParameter(Xe),Le.getParameter(je)],depthBits:Le.getParameter(me),stencilBits:Le.getParameter(ze),subpixelBits:Le.getParameter(hn),extensions:Object.keys(nn).filter(function(Yi){return!!nn[Yi]}),maxAnisotropic:Bn,maxDrawbuffers:ri,maxColorAttachments:Ur,pointSizeDims:Le.getParameter(Oe),lineWidthDims:Le.getParameter(Y),maxViewportDims:Le.getParameter(W),maxCombinedTextureUnits:Le.getParameter(ce),maxCubeMapSize:Le.getParameter(ht),maxRenderbufferSize:Le.getParameter(ct),maxTextureUnits:Le.getParameter(pe),maxTextureSize:Le.getParameter(ne),maxAttributes:Le.getParameter(S),maxVertexUniforms:Le.getParameter(A),maxVertexTextureUnits:Le.getParameter(ve),maxVaryingVectors:Le.getParameter(L),maxFragmentUniforms:Le.getParameter(Ee),glsl:Le.getParameter(bn),renderer:Le.getParameter(Rt),vendor:Le.getParameter(nt),version:Le.getParameter(kt),readFloat:qr,npotTextureCube:oo}};function Gn(Le){return!!Le&&typeof Le=="object"&&Array.isArray(Le.shape)&&Array.isArray(Le.stride)&&typeof Le.offset=="number"&&Le.shape.length===Le.stride.length&&(Array.isArray(Le.data)||te(Le.data))}var vr=function(Le){return Object.keys(Le).map(function(nn){return Le[nn]})},$r={shape:wt,flatten:Se};function At(Le,nn,Bn){for(var ri=0;ri<nn;++ri)Bn[ri]=Le[ri]}function Be(Le,nn,Bn,ri){for(var Ur=0,qr=0;qr<nn;++qr)for(var hi=Le[qr],ji=0;ji<Bn;++ji)ri[Ur++]=hi[ji]}function Re(Le,nn,Bn,ri,Ur,qr){for(var hi=qr,ji=0;ji<nn;++ji)for(var lo=Le[ji],no=0;no<Bn;++no)for(var oo=lo[no],Zi=0;Zi<ri;++Zi)Ur[hi++]=oo[Zi]}function Fe(Le,nn,Bn,ri,Ur){for(var qr=1,hi=Bn+1;hi<nn.length;++hi)qr*=nn[hi];var ji=nn[Bn];if(nn.length-Bn===4){var lo=nn[Bn+1],no=nn[Bn+2],oo=nn[Bn+3];for(hi=0;hi<ji;++hi)Re(Le[hi],lo,no,oo,ri,Ur),Ur+=qr}else for(hi=0;hi<ji;++hi)Fe(Le[hi],nn,Bn+1,ri,Ur),Ur+=qr}function Se(Le,nn,Bn,ri){var Ur=1;if(nn.length)for(var qr=0;qr<nn.length;++qr)Ur*=nn[qr];else Ur=0;var hi=ri||rn.allocType(Bn,Ur);switch(nn.length){case 0:break;case 1:At(Le,nn[0],hi);break;case 2:Be(Le,nn[0],nn[1],hi);break;case 3:Re(Le,nn[0],nn[1],nn[2],hi,0);break;default:Fe(Le,nn,0,hi,0)}return hi}function wt(Le){for(var nn=[],Bn=Le;Bn.length;Bn=Bn[0])nn.push(Bn.length);return nn}var Gt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Sn=5120,Un=5122,_e=5124,We=5121,Ve=5123,Dt=5125,An=5126,on=5126,et={int8:Sn,int16:Un,int32:_e,uint8:We,uint16:Ve,uint32:Dt,float:An,float32:on},Tn=35048,zt=35040,Xn={dynamic:Tn,stream:zt,static:35044},cr=$r.flatten,ii=$r.shape,ui=35044,Mr=35040,jr=5121,eo=5126,yi=[];yi[5120]=1,yi[5122]=2,yi[5124]=4,yi[5121]=1,yi[5123]=2,yi[5125]=4,yi[5126]=4;function ci(Le){return Gt[Object.prototype.toString.call(Le)]|0}function Si(Le,nn){for(var Bn=0;Bn<nn.length;++Bn)Le[Bn]=nn[Bn]}function Li(Le,nn,Bn,ri,Ur,qr,hi){for(var ji=0,lo=0;lo<Bn;++lo)for(var no=0;no<ri;++no)Le[ji++]=nn[Ur*lo+qr*no+hi]}function to(Le,nn,Bn,ri){var Ur=0,qr={};function hi(Vr){this.id=Ur++,this.buffer=Le.createBuffer(),this.type=Vr,this.usage=ui,this.byteLength=0,this.dimension=1,this.dtype=jr,this.persistentData=null,Bn.profile&&(this.stats={size:0})}hi.prototype.bind=function(){Le.bindBuffer(this.type,this.buffer)},hi.prototype.destroy=function(){Mo(this)};var ji=[];function lo(Vr,pi){var fo=ji.pop();return fo||(fo=new hi(Vr)),fo.bind(),Zi(fo,pi,Mr,0,1,!1),fo}function no(Vr){ji.push(Vr)}function oo(Vr,pi,fo){Vr.byteLength=pi.byteLength,Le.bufferData(Vr.type,pi,fo)}function Zi(Vr,pi,fo,_o,Vi,Oo){var Di;if(Vr.usage=fo,Array.isArray(pi)){if(Vr.dtype=_o||eo,pi.length>0){var bo;if(Array.isArray(pi[0])){Di=ii(pi);for(var Fi=1,xo=1;xo<Di.length;++xo)Fi*=Di[xo];Vr.dimension=Fi,bo=cr(pi,Di,Vr.dtype),oo(Vr,bo,fo),Oo?Vr.persistentData=bo:rn.freeType(bo)}else if(typeof pi[0]=="number"){Vr.dimension=Vi;var Es=rn.allocType(Vr.dtype,pi.length);Si(Es,pi),oo(Vr,Es,fo),Oo?Vr.persistentData=Es:rn.freeType(Es)}else te(pi[0])?(Vr.dimension=pi[0].length,Vr.dtype=_o||ci(pi[0])||eo,bo=cr(pi,[pi.length,pi[0].length],Vr.dtype),oo(Vr,bo,fo),Oo?Vr.persistentData=bo:rn.freeType(bo)):Q.raise("invalid buffer data")}}else if(te(pi))Vr.dtype=_o||ci(pi),Vr.dimension=Vi,oo(Vr,pi,fo),Oo&&(Vr.persistentData=new Uint8Array(new Uint8Array(pi.buffer)));else if(Gn(pi)){Di=pi.shape;var Bs=pi.stride,So=pi.offset,ho=0,Bi=0,vs=0,Wo=0;Di.length===1?(ho=Di[0],Bi=1,vs=Bs[0],Wo=0):Di.length===2?(ho=Di[0],Bi=Di[1],vs=Bs[0],Wo=Bs[1]):Q.raise("invalid shape"),Vr.dtype=_o||ci(pi.data)||eo,Vr.dimension=Bi;var Jo=rn.allocType(Vr.dtype,ho*Bi);Li(Jo,pi.data,ho,Bi,vs,Wo,So),oo(Vr,Jo,fo),Oo?Vr.persistentData=Jo:rn.freeType(Jo)}else pi instanceof ArrayBuffer?(Vr.dtype=jr,Vr.dimension=Vi,oo(Vr,pi,fo),Oo&&(Vr.persistentData=new Uint8Array(new Uint8Array(pi)))):Q.raise("invalid buffer data")}function Mo(Vr){nn.bufferCount--,ri(Vr);var pi=Vr.buffer;Q(pi,"buffer must not be deleted already"),Le.deleteBuffer(pi),Vr.buffer=null,delete qr[Vr.id]}function Yi(Vr,pi,fo,_o){nn.bufferCount++;var Vi=new hi(pi);qr[Vi.id]=Vi;function Oo(Fi){var xo=ui,Es=null,Bs=0,So=0,ho=1;return Array.isArray(Fi)||te(Fi)||Gn(Fi)||Fi instanceof ArrayBuffer?Es=Fi:typeof Fi=="number"?Bs=Fi|0:Fi&&(Q.type(Fi,"object","buffer arguments must be an object, a number or an array"),"data"in Fi&&(Q(Es===null||Array.isArray(Es)||te(Es)||Gn(Es),"invalid data for buffer"),Es=Fi.data),"usage"in Fi&&(Q.parameter(Fi.usage,Xn,"invalid buffer usage"),xo=Xn[Fi.usage]),"type"in Fi&&(Q.parameter(Fi.type,et,"invalid buffer type"),So=et[Fi.type]),"dimension"in Fi&&(Q.type(Fi.dimension,"number","invalid dimension"),ho=Fi.dimension|0),"length"in Fi&&(Q.nni(Bs,"buffer length must be a nonnegative integer"),Bs=Fi.length|0)),Vi.bind(),Es?Zi(Vi,Es,xo,So,ho,_o):(Bs&&Le.bufferData(Vi.type,Bs,xo),Vi.dtype=So||jr,Vi.usage=xo,Vi.dimension=ho,Vi.byteLength=Bs),Bn.profile&&(Vi.stats.size=Vi.byteLength*yi[Vi.dtype]),Oo}function Di(Fi,xo){Q(xo+Fi.byteLength<=Vi.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Fi.byteLength+" starting from offset "+xo+" to a buffer of size "+Vi.byteLength),Le.bufferSubData(Vi.type,xo,Fi)}function bo(Fi,xo){var Es=(xo||0)|0,Bs;if(Vi.bind(),te(Fi)||Fi instanceof ArrayBuffer)Di(Fi,Es);else if(Array.isArray(Fi)){if(Fi.length>0)if(typeof Fi[0]=="number"){var So=rn.allocType(Vi.dtype,Fi.length);Si(So,Fi),Di(So,Es),rn.freeType(So)}else if(Array.isArray(Fi[0])||te(Fi[0])){Bs=ii(Fi);var ho=cr(Fi,Bs,Vi.dtype);Di(ho,Es),rn.freeType(ho)}else Q.raise("invalid buffer data")}else if(Gn(Fi)){Bs=Fi.shape;var Bi=Fi.stride,vs=0,Wo=0,Jo=0,Ys=0;Bs.length===1?(vs=Bs[0],Wo=1,Jo=Bi[0],Ys=0):Bs.length===2?(vs=Bs[0],Wo=Bs[1],Jo=Bi[0],Ys=Bi[1]):Q.raise("invalid shape");var ys=Array.isArray(Fi.data)?Vi.dtype:ci(Fi.data),js=rn.allocType(ys,vs*Wo);Li(js,Fi.data,vs,Wo,Jo,Ys,Fi.offset),Di(js,Es),rn.freeType(js)}else Q.raise("invalid data for buffer subdata");return Oo}return fo||Oo(Vr),Oo._reglType="buffer",Oo._buffer=Vi,Oo.subdata=bo,Bn.profile&&(Oo.stats=Vi.stats),Oo.destroy=function(){Mo(Vi)},Oo}function yo(){vr(qr).forEach(function(Vr){Vr.buffer=Le.createBuffer(),Le.bindBuffer(Vr.type,Vr.buffer),Le.bufferData(Vr.type,Vr.persistentData||Vr.byteLength,Vr.usage)})}return Bn.profile&&(nn.getTotalBufferSize=function(){var Vr=0;return Object.keys(qr).forEach(function(pi){Vr+=qr[pi].stats.size}),Vr}),{create:Yi,createStream:lo,destroyStream:no,clear:function(){vr(qr).forEach(Mo),ji.forEach(Mo)},getBuffer:function(Vr){return Vr&&Vr._buffer instanceof hi?Vr._buffer:null},restore:yo,_initBuffer:Zi}}var Kr=0,gs=0,Cs=1,es=1,cs=4,To=4,Do={points:Kr,point:gs,lines:Cs,line:es,triangles:cs,triangle:To,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ko=0,os=1,_=4,K=5120,he=5121,ye=5122,Ue=5123,He=5124,dt=5125,wn=34963,gn=35040,Pn=35044;function zr(Le,nn,Bn,ri){var Ur={},qr=0,hi={uint8:he,uint16:Ue};nn.oes_element_index_uint&&(hi.uint32=dt);function ji(yo){this.id=qr++,Ur[this.id]=this,this.buffer=yo,this.primType=_,this.vertCount=0,this.type=0}ji.prototype.bind=function(){this.buffer.bind()};var lo=[];function no(yo){var Vr=lo.pop();return Vr||(Vr=new ji(Bn.create(null,wn,!0,!1)._buffer)),Zi(Vr,yo,gn,-1,-1,0,0),Vr}function oo(yo){lo.push(yo)}function Zi(yo,Vr,pi,fo,_o,Vi,Oo){yo.buffer.bind();var Di;if(Vr){var bo=Oo;!Oo&&(!te(Vr)||Gn(Vr)&&!te(Vr.data))&&(bo=nn.oes_element_index_uint?dt:Ue),Bn._initBuffer(yo.buffer,Vr,pi,bo,3)}else Le.bufferData(wn,Vi,pi),yo.buffer.dtype=Di||he,yo.buffer.usage=pi,yo.buffer.dimension=3,yo.buffer.byteLength=Vi;if(Di=Oo,!Oo){switch(yo.buffer.dtype){case he:case K:Di=he;break;case Ue:case ye:Di=Ue;break;case dt:case He:Di=dt;break;default:Q.raise("unsupported type for element array")}yo.buffer.dtype=Di}yo.type=Di,Q(Di!==dt||!!nn.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Fi=_o;Fi<0&&(Fi=yo.buffer.byteLength,Di===Ue?Fi>>=1:Di===dt&&(Fi>>=2)),yo.vertCount=Fi;var xo=fo;if(fo<0){xo=_;var Es=yo.buffer.dimension;Es===1&&(xo=Ko),Es===2&&(xo=os),Es===3&&(xo=_)}yo.primType=xo}function Mo(yo){ri.elementsCount--,Q(yo.buffer!==null,"must not double destroy elements"),delete Ur[yo.id],yo.buffer.destroy(),yo.buffer=null}function Yi(yo,Vr){var pi=Bn.create(null,wn,!0),fo=new ji(pi._buffer);ri.elementsCount++;function _o(Vi){if(!Vi)pi(),fo.primType=_,fo.vertCount=0,fo.type=he;else if(typeof Vi=="number")pi(Vi),fo.primType=_,fo.vertCount=Vi|0,fo.type=he;else{var Oo=null,Di=Pn,bo=-1,Fi=-1,xo=0,Es=0;Array.isArray(Vi)||te(Vi)||Gn(Vi)?Oo=Vi:(Q.type(Vi,"object","invalid arguments for elements"),"data"in Vi&&(Oo=Vi.data,Q(Array.isArray(Oo)||te(Oo)||Gn(Oo),"invalid data for element buffer")),"usage"in Vi&&(Q.parameter(Vi.usage,Xn,"invalid element buffer usage"),Di=Xn[Vi.usage]),"primitive"in Vi&&(Q.parameter(Vi.primitive,Do,"invalid element buffer primitive"),bo=Do[Vi.primitive]),"count"in Vi&&(Q(typeof Vi.count=="number"&&Vi.count>=0,"invalid vertex count for elements"),Fi=Vi.count|0),"type"in Vi&&(Q.parameter(Vi.type,hi,"invalid buffer type"),Es=hi[Vi.type]),"length"in Vi?xo=Vi.length|0:(xo=Fi,Es===Ue||Es===ye?xo*=2:(Es===dt||Es===He)&&(xo*=4))),Zi(fo,Oo,Di,bo,Fi,xo,Es)}return _o}return _o(yo),_o._reglType="elements",_o._elements=fo,_o.subdata=function(Vi,Oo){return pi.subdata(Vi,Oo),_o},_o.destroy=function(){Mo(fo)},_o}return{create:Yi,createStream:no,destroyStream:oo,getElements:function(yo){return typeof yo=="function"&&yo._elements instanceof ji?yo._elements:null},clear:function(){vr(Ur).forEach(Mo)}}}var Gr=new Float32Array(1),Hr=new Uint32Array(Gr.buffer),bi=5123;function Vo(Le){for(var nn=rn.allocType(bi,Le.length),Bn=0;Bn<Le.length;++Bn)if(isNaN(Le[Bn]))nn[Bn]=65535;else if(Le[Bn]===1/0)nn[Bn]=31744;else if(Le[Bn]===-1/0)nn[Bn]=64512;else{Gr[0]=Le[Bn];var ri=Hr[0],Ur=ri>>>31<<15,qr=(ri<<1>>>24)-127,hi=ri>>13&1023;if(qr<-24)nn[Bn]=Ur;else if(qr<-14){var ji=-14-qr;nn[Bn]=Ur+(hi+1024>>ji)}else qr>15?nn[Bn]=Ur+31744:nn[Bn]=Ur+(qr+15<<10)+hi}return nn}function Uo(Le){return Array.isArray(Le)||te(Le)}var Zo=function(Le){return!(Le&Le-1)&&!!Le},Ns=34467,Ms=3553,No=34067,ws=34069,Hi=6408,ms=6406,Pt=6407,ot=6409,Ft=6410,Qt=32854,Ht=32855,$n=36194,Vn=32819,Er=32820,io=33635,Mi=34042,Ki=6402,qi=34041,Ri=35904,Ts=35906,rs=36193,po=33776,xi=33777,Ho=33778,ls=33779,Yo=35986,Hs=35987,Ol=34798,xa=35840,Ca=35841,ra=35842,Aa=35843,Il=36196,Ra=5121,Rl=5123,Ka=5125,ol=5126,Wl=10242,sl=10243,Ia=10497,pc=33071,al=33648,kl=10240,Bc=10241,En=9728,fr=9729,Nr=9984,Ot=9985,On=9986,Yn=9987,di=33170,Qi=4352,ao=4353,Ps=4354,ts=34046,Lo=3317,jo=37440,Ro=37441,$s=37443,ya=37444,ha=33984,Wa=[Nr,On,Ot,Yn],bl=[0,ot,Ft,Pt,Hi],Ls={};Ls[ot]=Ls[ms]=Ls[Ki]=1,Ls[qi]=Ls[Ft]=2,Ls[Pt]=Ls[Ri]=3,Ls[Hi]=Ls[Ts]=4;function Xa(Le){return"[object "+Le+"]"}var ou=Xa("HTMLCanvasElement"),$f=Xa("OffscreenCanvas"),Xg=Xa("CanvasRenderingContext2D"),Yg=Xa("ImageBitmap"),Jg=Xa("HTMLImageElement"),Iu=Xa("HTMLVideoElement"),Cc=Object.keys(Gt).concat([ou,$f,Xg,Yg,Jg,Iu]),Ru=[];Ru[Ra]=1,Ru[ol]=4,Ru[rs]=2,Ru[Rl]=2,Ru[Ka]=4;var zl=[];zl[Qt]=2,zl[Ht]=2,zl[$n]=2,zl[qi]=4,zl[po]=.5,zl[xi]=.5,zl[Ho]=1,zl[ls]=1,zl[Yo]=.5,zl[Hs]=1,zl[Ol]=1,zl[xa]=.5,zl[Ca]=.25,zl[ra]=.5,zl[Aa]=.25,zl[Il]=.5;function Hf(Le){return Array.isArray(Le)&&(Le.length===0||typeof Le[0]=="number")}function Eh(Le){if(!Array.isArray(Le))return!1;var nn=Le.length;return!(nn===0||!Uo(Le[0]))}function qu(Le){return Object.prototype.toString.call(Le)}function wf(Le){return qu(Le)===ou}function Bp(Le){return qu(Le)===$f}function Ef(Le){return qu(Le)===Xg}function yu(Le){return qu(Le)===Yg}function kd(Le){return qu(Le)===Jg}function qg(Le){return qu(Le)===Iu}function zp(Le){if(!Le)return!1;var nn=qu(Le);return Cc.indexOf(nn)>=0?!0:Hf(Le)||Eh(Le)||Gn(Le)}function Qg(Le){return Gt[Object.prototype.toString.call(Le)]|0}function Kf(Le,nn){var Bn=nn.length;switch(Le.type){case Ra:case Rl:case Ka:case ol:var ri=rn.allocType(Le.type,Bn);ri.set(nn),Le.data=ri;break;case rs:Le.data=Vo(nn);break;default:Q.raise("unsupported texture type, must specify a typed array")}}function Xf(Le,nn){return rn.allocType(Le.type===rs?ol:Le.type,nn)}function Sf(Le,nn){Le.type===rs?(Le.data=Vo(nn),rn.freeType(nn)):Le.data=nn}function m0(Le,nn,Bn,ri,Ur,qr){for(var hi=Le.width,ji=Le.height,lo=Le.channels,no=hi*ji*lo,oo=Xf(Le,no),Zi=0,Mo=0;Mo<ji;++Mo)for(var Yi=0;Yi<hi;++Yi)for(var yo=0;yo<lo;++yo)oo[Zi++]=nn[Bn*Yi+ri*Mo+Ur*yo+qr];Sf(Le,oo)}function od(Le,nn,Bn,ri,Ur,qr){var hi;if(typeof zl[Le]!="undefined"?hi=zl[Le]:hi=Ls[Le]*Ru[nn],qr&&(hi*=6),Ur){for(var ji=0,lo=Bn;lo>=1;)ji+=hi*lo*lo,lo/=2;return ji}else return hi*Bn*ri}function em(Le,nn,Bn,ri,Ur,qr,hi){var ji={"don't care":Qi,"dont care":Qi,nice:Ps,fast:ao},lo={repeat:Ia,clamp:pc,mirror:al},no={nearest:En,linear:fr},oo=w({mipmap:Yn,"nearest mipmap nearest":Nr,"linear mipmap nearest":Ot,"nearest mipmap linear":On,"linear mipmap linear":Yn},no),Zi={none:0,browser:ya},Mo={uint8:Ra,rgba4:Vn,rgb565:io,"rgb5 a1":Er},Yi={alpha:ms,luminance:ot,"luminance alpha":Ft,rgb:Pt,rgba:Hi,rgba4:Qt,"rgb5 a1":Ht,rgb565:$n},yo={};nn.ext_srgb&&(Yi.srgb=Ri,Yi.srgba=Ts),nn.oes_texture_float&&(Mo.float32=Mo.float=ol),nn.oes_texture_half_float&&(Mo.float16=Mo["half float"]=rs),nn.webgl_depth_texture&&(w(Yi,{depth:Ki,"depth stencil":qi}),w(Mo,{uint16:Rl,uint32:Ka,"depth stencil":Mi})),nn.webgl_compressed_texture_s3tc&&w(yo,{"rgb s3tc dxt1":po,"rgba s3tc dxt1":xi,"rgba s3tc dxt3":Ho,"rgba s3tc dxt5":ls}),nn.webgl_compressed_texture_atc&&w(yo,{"rgb atc":Yo,"rgba atc explicit alpha":Hs,"rgba atc interpolated alpha":Ol}),nn.webgl_compressed_texture_pvrtc&&w(yo,{"rgb pvrtc 4bppv1":xa,"rgb pvrtc 2bppv1":Ca,"rgba pvrtc 4bppv1":ra,"rgba pvrtc 2bppv1":Aa}),nn.webgl_compressed_texture_etc1&&(yo["rgb etc1"]=Il);var Vr=Array.prototype.slice.call(Le.getParameter(Ns));Object.keys(yo).forEach(function(Mn){var oi=yo[Mn];Vr.indexOf(oi)>=0&&(Yi[Mn]=oi)});var pi=Object.keys(Yi);Bn.textureFormats=pi;var fo=[];Object.keys(Yi).forEach(function(Mn){var oi=Yi[Mn];fo[oi]=Mn});var _o=[];Object.keys(Mo).forEach(function(Mn){var oi=Mo[Mn];_o[oi]=Mn});var Vi=[];Object.keys(no).forEach(function(Mn){var oi=no[Mn];Vi[oi]=Mn});var Oo=[];Object.keys(oo).forEach(function(Mn){var oi=oo[Mn];Oo[oi]=Mn});var Di=[];Object.keys(lo).forEach(function(Mn){var oi=lo[Mn];Di[oi]=Mn});var bo=pi.reduce(function(Mn,oi){var Qr=Yi[oi];return Qr===ot||Qr===ms||Qr===ot||Qr===Ft||Qr===Ki||Qr===qi||nn.ext_srgb&&(Qr===Ri||Qr===Ts)?Mn[Qr]=Qr:Qr===Ht||oi.indexOf("rgba")>=0?Mn[Qr]=Hi:Mn[Qr]=Pt,Mn},{});function Fi(){this.internalformat=Hi,this.format=Hi,this.type=Ra,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=ya,this.width=0,this.height=0,this.channels=0}function xo(Mn,oi){Mn.internalformat=oi.internalformat,Mn.format=oi.format,Mn.type=oi.type,Mn.compressed=oi.compressed,Mn.premultiplyAlpha=oi.premultiplyAlpha,Mn.flipY=oi.flipY,Mn.unpackAlignment=oi.unpackAlignment,Mn.colorSpace=oi.colorSpace,Mn.width=oi.width,Mn.height=oi.height,Mn.channels=oi.channels}function Es(Mn,oi){if(!(typeof oi!="object"||!oi)){if("premultiplyAlpha"in oi&&(Q.type(oi.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),Mn.premultiplyAlpha=oi.premultiplyAlpha),"flipY"in oi&&(Q.type(oi.flipY,"boolean","invalid texture flip"),Mn.flipY=oi.flipY),"alignment"in oi&&(Q.oneOf(oi.alignment,[1,2,4,8],"invalid texture unpack alignment"),Mn.unpackAlignment=oi.alignment),"colorSpace"in oi&&(Q.parameter(oi.colorSpace,Zi,"invalid colorSpace"),Mn.colorSpace=Zi[oi.colorSpace]),"type"in oi){var Qr=oi.type;Q(nn.oes_texture_float||!(Qr==="float"||Qr==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),Q(nn.oes_texture_half_float||!(Qr==="half float"||Qr==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),Q(nn.webgl_depth_texture||!(Qr==="uint16"||Qr==="uint32"||Qr==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Q.parameter(Qr,Mo,"invalid texture type"),Mn.type=Mo[Qr]}var Fo=Mn.width,Xs=Mn.height,qe=Mn.channels,Wt=!1;"shape"in oi?(Q(Array.isArray(oi.shape)&&oi.shape.length>=2,"shape must be an array"),Fo=oi.shape[0],Xs=oi.shape[1],oi.shape.length===3&&(qe=oi.shape[2],Q(qe>0&&qe<=4,"invalid number of channels"),Wt=!0),Q(Fo>=0&&Fo<=Bn.maxTextureSize,"invalid width"),Q(Xs>=0&&Xs<=Bn.maxTextureSize,"invalid height")):("radius"in oi&&(Fo=Xs=oi.radius,Q(Fo>=0&&Fo<=Bn.maxTextureSize,"invalid radius")),"width"in oi&&(Fo=oi.width,Q(Fo>=0&&Fo<=Bn.maxTextureSize,"invalid width")),"height"in oi&&(Xs=oi.height,Q(Xs>=0&&Xs<=Bn.maxTextureSize,"invalid height")),"channels"in oi&&(qe=oi.channels,Q(qe>0&&qe<=4,"invalid number of channels"),Wt=!0)),Mn.width=Fo|0,Mn.height=Xs|0,Mn.channels=qe|0;var rr=!1;if("format"in oi){var _r=oi.format;Q(nn.webgl_depth_texture||!(_r==="depth"||_r==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Q.parameter(_r,Yi,"invalid texture format");var Zr=Mn.internalformat=Yi[_r];Mn.format=bo[Zr],_r in Mo&&("type"in oi||(Mn.type=Mo[_r])),_r in yo&&(Mn.compressed=!0),rr=!0}!Wt&&rr?Mn.channels=Ls[Mn.format]:Wt&&!rr?Mn.channels!==bl[Mn.format]&&(Mn.format=Mn.internalformat=bl[Mn.channels]):rr&&Wt&&Q(Mn.channels===Ls[Mn.format],"number of channels inconsistent with specified format")}}function Bs(Mn){Le.pixelStorei(jo,Mn.flipY),Le.pixelStorei(Ro,Mn.premultiplyAlpha),Le.pixelStorei($s,Mn.colorSpace),Le.pixelStorei(Lo,Mn.unpackAlignment)}function So(){Fi.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function ho(Mn,oi){var Qr=null;if(zp(oi)?Qr=oi:oi&&(Q.type(oi,"object","invalid pixel data type"),Es(Mn,oi),"x"in oi&&(Mn.xOffset=oi.x|0),"y"in oi&&(Mn.yOffset=oi.y|0),zp(oi.data)&&(Qr=oi.data)),Q(!Mn.compressed||Qr instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),oi.copy){Q(!Qr,"can not specify copy and data field for the same texture");var Fo=Ur.viewportWidth,Xs=Ur.viewportHeight;Mn.width=Mn.width||Fo-Mn.xOffset,Mn.height=Mn.height||Xs-Mn.yOffset,Mn.needsCopy=!0,Q(Mn.xOffset>=0&&Mn.xOffset<Fo&&Mn.yOffset>=0&&Mn.yOffset<Xs&&Mn.width>0&&Mn.width<=Fo&&Mn.height>0&&Mn.height<=Xs,"copy texture read out of bounds")}else if(!Qr)Mn.width=Mn.width||1,Mn.height=Mn.height||1,Mn.channels=Mn.channels||4;else if(te(Qr))Mn.channels=Mn.channels||4,Mn.data=Qr,!("type"in oi)&&Mn.type===Ra&&(Mn.type=Qg(Qr));else if(Hf(Qr))Mn.channels=Mn.channels||4,Kf(Mn,Qr),Mn.alignment=1,Mn.needsFree=!0;else if(Gn(Qr)){var qe=Qr.data;!Array.isArray(qe)&&Mn.type===Ra&&(Mn.type=Qg(qe));var Wt=Qr.shape,rr=Qr.stride,_r,Zr,ur,Jn,Ar,dn;Wt.length===3?(ur=Wt[2],dn=rr[2]):(Q(Wt.length===2,"invalid ndarray pixel data, must be 2 or 3D"),ur=1,dn=1),_r=Wt[0],Zr=Wt[1],Jn=rr[0],Ar=rr[1],Mn.alignment=1,Mn.width=_r,Mn.height=Zr,Mn.channels=ur,Mn.format=Mn.internalformat=bl[ur],Mn.needsFree=!0,m0(Mn,qe,Jn,Ar,dn,Qr.offset)}else if(wf(Qr)||Bp(Qr)||Ef(Qr))wf(Qr)||Bp(Qr)?Mn.element=Qr:Mn.element=Qr.canvas,Mn.width=Mn.element.width,Mn.height=Mn.element.height,Mn.channels=4;else if(yu(Qr))Mn.element=Qr,Mn.width=Qr.width,Mn.height=Qr.height,Mn.channels=4;else if(kd(Qr))Mn.element=Qr,Mn.width=Qr.naturalWidth,Mn.height=Qr.naturalHeight,Mn.channels=4;else if(qg(Qr))Mn.element=Qr,Mn.width=Qr.videoWidth,Mn.height=Qr.videoHeight,Mn.channels=4;else if(Eh(Qr)){var qn=Mn.width||Qr[0].length,ln=Mn.height||Qr.length,wr=Mn.channels;Uo(Qr[0][0])?wr=wr||Qr[0][0].length:wr=wr||1;for(var Xr=$r.shape(Qr),Ti=1,Ii=0;Ii<Xr.length;++Ii)Ti*=Xr[Ii];var vi=Xf(Mn,Ti);$r.flatten(Qr,Xr,"",vi),Sf(Mn,vi),Mn.alignment=1,Mn.width=qn,Mn.height=ln,Mn.channels=wr,Mn.format=Mn.internalformat=bl[wr],Mn.needsFree=!0}Mn.type===ol?Q(Bn.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):Mn.type===rs&&Q(Bn.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Bi(Mn,oi,Qr){var Fo=Mn.element,Xs=Mn.data,qe=Mn.internalformat,Wt=Mn.format,rr=Mn.type,_r=Mn.width,Zr=Mn.height;Bs(Mn),Fo?Le.texImage2D(oi,Qr,Wt,Wt,rr,Fo):Mn.compressed?Le.compressedTexImage2D(oi,Qr,qe,_r,Zr,0,Xs):Mn.needsCopy?(ri(),Le.copyTexImage2D(oi,Qr,Wt,Mn.xOffset,Mn.yOffset,_r,Zr,0)):Le.texImage2D(oi,Qr,Wt,_r,Zr,0,Wt,rr,Xs||null)}function vs(Mn,oi,Qr,Fo,Xs){var qe=Mn.element,Wt=Mn.data,rr=Mn.internalformat,_r=Mn.format,Zr=Mn.type,ur=Mn.width,Jn=Mn.height;Bs(Mn),qe?Le.texSubImage2D(oi,Xs,Qr,Fo,_r,Zr,qe):Mn.compressed?Le.compressedTexSubImage2D(oi,Xs,Qr,Fo,rr,ur,Jn,Wt):Mn.needsCopy?(ri(),Le.copyTexSubImage2D(oi,Xs,Qr,Fo,Mn.xOffset,Mn.yOffset,ur,Jn)):Le.texSubImage2D(oi,Xs,Qr,Fo,ur,Jn,_r,Zr,Wt)}var Wo=[];function Jo(){return Wo.pop()||new So}function Ys(Mn){Mn.needsFree&&rn.freeType(Mn.data),So.call(Mn),Wo.push(Mn)}function ys(){Fi.call(this),this.genMipmaps=!1,this.mipmapHint=Qi,this.mipmask=0,this.images=Array(16)}function js(Mn,oi,Qr){var Fo=Mn.images[0]=Jo();Mn.mipmask=1,Fo.width=Mn.width=oi,Fo.height=Mn.height=Qr,Fo.channels=Mn.channels=4}function ua(Mn,oi){var Qr=null;if(zp(oi))Qr=Mn.images[0]=Jo(),xo(Qr,Mn),ho(Qr,oi),Mn.mipmask=1;else if(Es(Mn,oi),Array.isArray(oi.mipmap))for(var Fo=oi.mipmap,Xs=0;Xs<Fo.length;++Xs)Qr=Mn.images[Xs]=Jo(),xo(Qr,Mn),Qr.width>>=Xs,Qr.height>>=Xs,ho(Qr,Fo[Xs]),Mn.mipmask|=1<<Xs;else Qr=Mn.images[0]=Jo(),xo(Qr,Mn),ho(Qr,oi),Mn.mipmask=1;xo(Mn,Mn.images[0]),Mn.compressed&&(Mn.internalformat===po||Mn.internalformat===xi||Mn.internalformat===Ho||Mn.internalformat===ls)&&Q(Mn.width%4===0&&Mn.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function dl(Mn,oi){for(var Qr=Mn.images,Fo=0;Fo<Qr.length;++Fo){if(!Qr[Fo])return;Bi(Qr[Fo],oi,Fo)}}var ia=[];function As(){var Mn=ia.pop()||new ys;Fi.call(Mn),Mn.mipmask=0;for(var oi=0;oi<16;++oi)Mn.images[oi]=null;return Mn}function pl(Mn){for(var oi=Mn.images,Qr=0;Qr<oi.length;++Qr)oi[Qr]&&Ys(oi[Qr]),oi[Qr]=null;ia.push(Mn)}function Pa(){this.minFilter=En,this.magFilter=En,this.wrapS=pc,this.wrapT=pc,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Qi}function $a(Mn,oi){if("min"in oi){var Qr=oi.min;Q.parameter(Qr,oo),Mn.minFilter=oo[Qr],Wa.indexOf(Mn.minFilter)>=0&&!("faces"in oi)&&(Mn.genMipmaps=!0)}if("mag"in oi){var Fo=oi.mag;Q.parameter(Fo,no),Mn.magFilter=no[Fo]}var Xs=Mn.wrapS,qe=Mn.wrapT;if("wrap"in oi){var Wt=oi.wrap;typeof Wt=="string"?(Q.parameter(Wt,lo),Xs=qe=lo[Wt]):Array.isArray(Wt)&&(Q.parameter(Wt[0],lo),Q.parameter(Wt[1],lo),Xs=lo[Wt[0]],qe=lo[Wt[1]])}else{if("wrapS"in oi){var rr=oi.wrapS;Q.parameter(rr,lo),Xs=lo[rr]}if("wrapT"in oi){var _r=oi.wrapT;Q.parameter(_r,lo),qe=lo[_r]}}if(Mn.wrapS=Xs,Mn.wrapT=qe,"anisotropic"in oi){var Zr=oi.anisotropic;Q(typeof Zr=="number"&&Zr>=1&&Zr<=Bn.maxAnisotropic,"aniso samples must be between 1 and "),Mn.anisotropic=oi.anisotropic}if("mipmap"in oi){var ur=!1;switch(typeof oi.mipmap){case"string":Q.parameter(oi.mipmap,ji,"invalid mipmap hint"),Mn.mipmapHint=ji[oi.mipmap],Mn.genMipmaps=!0,ur=!0;break;case"boolean":ur=Mn.genMipmaps=oi.mipmap;break;case"object":Q(Array.isArray(oi.mipmap),"invalid mipmap type"),Mn.genMipmaps=!1,ur=!0;break;default:Q.raise("invalid mipmap type")}ur&&!("min"in oi)&&(Mn.minFilter=Nr)}}function qa(Mn,oi){Le.texParameteri(oi,Bc,Mn.minFilter),Le.texParameteri(oi,kl,Mn.magFilter),Le.texParameteri(oi,Wl,Mn.wrapS),Le.texParameteri(oi,sl,Mn.wrapT),nn.ext_texture_filter_anisotropic&&Le.texParameteri(oi,ts,Mn.anisotropic),Mn.genMipmaps&&(Le.hint(di,Mn.mipmapHint),Le.generateMipmap(oi))}var El=0,oa={},nl=Bn.maxTextureUnits,gl=Array(nl).map(function(){return null});function Gs(Mn){Fi.call(this),this.mipmask=0,this.internalformat=Hi,this.id=El++,this.refCount=1,this.target=Mn,this.texture=Le.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Pa,hi.profile&&(this.stats={size:0})}function Vs(Mn){Le.activeTexture(ha),Le.bindTexture(Mn.target,Mn.texture)}function Oa(){var Mn=gl[0];Mn?Le.bindTexture(Mn.target,Mn.texture):Le.bindTexture(Ms,null)}function Is(Mn){var oi=Mn.texture;Q(oi,"must not double destroy texture");var Qr=Mn.unit,Fo=Mn.target;Qr>=0&&(Le.activeTexture(ha+Qr),Le.bindTexture(Fo,null),gl[Qr]=null),Le.deleteTexture(oi),Mn.texture=null,Mn.params=null,Mn.pixels=null,Mn.refCount=0,delete oa[Mn.id],qr.textureCount--}w(Gs.prototype,{bind:function(){var Mn=this;Mn.bindCount+=1;var oi=Mn.unit;if(oi<0){for(var Qr=0;Qr<nl;++Qr){var Fo=gl[Qr];if(Fo){if(Fo.bindCount>0)continue;Fo.unit=-1}gl[Qr]=Mn,oi=Qr;break}oi>=nl&&Q.raise("insufficient number of texture units"),hi.profile&&qr.maxTextureUnits<oi+1&&(qr.maxTextureUnits=oi+1),Mn.unit=oi,Le.activeTexture(ha+oi),Le.bindTexture(Mn.target,Mn.texture)}return oi},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Is(this)}});function Qs(Mn,oi){var Qr=new Gs(Ms);oa[Qr.id]=Qr,qr.textureCount++;function Fo(Wt,rr){var _r=Qr.texInfo;Pa.call(_r);var Zr=As();return typeof Wt=="number"?typeof rr=="number"?js(Zr,Wt|0,rr|0):js(Zr,Wt|0,Wt|0):Wt?(Q.type(Wt,"object","invalid arguments to regl.texture"),$a(_r,Wt),ua(Zr,Wt)):js(Zr,1,1),_r.genMipmaps&&(Zr.mipmask=(Zr.width<<1)-1),Qr.mipmask=Zr.mipmask,xo(Qr,Zr),Q.texture2D(_r,Zr,Bn),Qr.internalformat=Zr.internalformat,Fo.width=Zr.width,Fo.height=Zr.height,Vs(Qr),dl(Zr,Ms),qa(_r,Ms),Oa(),pl(Zr),hi.profile&&(Qr.stats.size=od(Qr.internalformat,Qr.type,Zr.width,Zr.height,_r.genMipmaps,!1)),Fo.format=fo[Qr.internalformat],Fo.type=_o[Qr.type],Fo.mag=Vi[_r.magFilter],Fo.min=Oo[_r.minFilter],Fo.wrapS=Di[_r.wrapS],Fo.wrapT=Di[_r.wrapT],Fo}function Xs(Wt,rr,_r,Zr){Q(!!Wt,"must specify image data");var ur=rr|0,Jn=_r|0,Ar=Zr|0,dn=Jo();return xo(dn,Qr),dn.width=0,dn.height=0,ho(dn,Wt),dn.width=dn.width||(Qr.width>>Ar)-ur,dn.height=dn.height||(Qr.height>>Ar)-Jn,Q(Qr.type===dn.type&&Qr.format===dn.format&&Qr.internalformat===dn.internalformat,"incompatible format for texture.subimage"),Q(ur>=0&&Jn>=0&&ur+dn.width<=Qr.width&&Jn+dn.height<=Qr.height,"texture.subimage write out of bounds"),Q(Qr.mipmask&1<<Ar,"missing mipmap data"),Q(dn.data||dn.element||dn.needsCopy,"missing image data"),Vs(Qr),vs(dn,Ms,ur,Jn,Ar),Oa(),Ys(dn),Fo}function qe(Wt,rr){var _r=Wt|0,Zr=rr|0||_r;if(_r===Qr.width&&Zr===Qr.height)return Fo;Fo.width=Qr.width=_r,Fo.height=Qr.height=Zr,Vs(Qr);for(var ur=0;Qr.mipmask>>ur;++ur){var Jn=_r>>ur,Ar=Zr>>ur;if(!Jn||!Ar)break;Le.texImage2D(Ms,ur,Qr.format,Jn,Ar,0,Qr.format,Qr.type,null)}return Oa(),hi.profile&&(Qr.stats.size=od(Qr.internalformat,Qr.type,_r,Zr,!1,!1)),Fo}return Fo(Mn,oi),Fo.subimage=Xs,Fo.resize=qe,Fo._reglType="texture2d",Fo._texture=Qr,hi.profile&&(Fo.stats=Qr.stats),Fo.destroy=function(){Qr.decRef()},Fo}function sa(Mn,oi,Qr,Fo,Xs,qe){var Wt=new Gs(No);oa[Wt.id]=Wt,qr.cubeCount++;var rr=new Array(6);function _r(Jn,Ar,dn,qn,ln,wr){var Xr,Ti=Wt.texInfo;for(Pa.call(Ti),Xr=0;Xr<6;++Xr)rr[Xr]=As();if(typeof Jn=="number"||!Jn){var Ii=Jn|0||1;for(Xr=0;Xr<6;++Xr)js(rr[Xr],Ii,Ii)}else if(typeof Jn=="object")if(Ar)ua(rr[0],Jn),ua(rr[1],Ar),ua(rr[2],dn),ua(rr[3],qn),ua(rr[4],ln),ua(rr[5],wr);else if($a(Ti,Jn),Es(Wt,Jn),"faces"in Jn){var vi=Jn.faces;for(Q(Array.isArray(vi)&&vi.length===6,"cube faces must be a length 6 array"),Xr=0;Xr<6;++Xr)Q(typeof vi[Xr]=="object"&&!!vi[Xr],"invalid input for cube map face"),xo(rr[Xr],Wt),ua(rr[Xr],vi[Xr])}else for(Xr=0;Xr<6;++Xr)ua(rr[Xr],Jn);else Q.raise("invalid arguments to cube map");for(xo(Wt,rr[0]),Bn.npotTextureCube||Q(Zo(Wt.width)&&Zo(Wt.height),"your browser does not support non power or two texture dimensions"),Ti.genMipmaps?Wt.mipmask=(rr[0].width<<1)-1:Wt.mipmask=rr[0].mipmask,Q.textureCube(Wt,Ti,rr,Bn),Wt.internalformat=rr[0].internalformat,_r.width=rr[0].width,_r.height=rr[0].height,Vs(Wt),Xr=0;Xr<6;++Xr)dl(rr[Xr],ws+Xr);for(qa(Ti,No),Oa(),hi.profile&&(Wt.stats.size=od(Wt.internalformat,Wt.type,_r.width,_r.height,Ti.genMipmaps,!0)),_r.format=fo[Wt.internalformat],_r.type=_o[Wt.type],_r.mag=Vi[Ti.magFilter],_r.min=Oo[Ti.minFilter],_r.wrapS=Di[Ti.wrapS],_r.wrapT=Di[Ti.wrapT],Xr=0;Xr<6;++Xr)pl(rr[Xr]);return _r}function Zr(Jn,Ar,dn,qn,ln){Q(!!Ar,"must specify image data"),Q(typeof Jn=="number"&&Jn===(Jn|0)&&Jn>=0&&Jn<6,"invalid face");var wr=dn|0,Xr=qn|0,Ti=ln|0,Ii=Jo();return xo(Ii,Wt),Ii.width=0,Ii.height=0,ho(Ii,Ar),Ii.width=Ii.width||(Wt.width>>Ti)-wr,Ii.height=Ii.height||(Wt.height>>Ti)-Xr,Q(Wt.type===Ii.type&&Wt.format===Ii.format&&Wt.internalformat===Ii.internalformat,"incompatible format for texture.subimage"),Q(wr>=0&&Xr>=0&&wr+Ii.width<=Wt.width&&Xr+Ii.height<=Wt.height,"texture.subimage write out of bounds"),Q(Wt.mipmask&1<<Ti,"missing mipmap data"),Q(Ii.data||Ii.element||Ii.needsCopy,"missing image data"),Vs(Wt),vs(Ii,ws+Jn,wr,Xr,Ti),Oa(),Ys(Ii),_r}function ur(Jn){var Ar=Jn|0;if(Ar!==Wt.width){_r.width=Wt.width=Ar,_r.height=Wt.height=Ar,Vs(Wt);for(var dn=0;dn<6;++dn)for(var qn=0;Wt.mipmask>>qn;++qn)Le.texImage2D(ws+dn,qn,Wt.format,Ar>>qn,Ar>>qn,0,Wt.format,Wt.type,null);return Oa(),hi.profile&&(Wt.stats.size=od(Wt.internalformat,Wt.type,_r.width,_r.height,!1,!0)),_r}}return _r(Mn,oi,Qr,Fo,Xs,qe),_r.subimage=Zr,_r.resize=ur,_r._reglType="textureCube",_r._texture=Wt,hi.profile&&(_r.stats=Wt.stats),_r.destroy=function(){Wt.decRef()},_r}function ml(){for(var Mn=0;Mn<nl;++Mn)Le.activeTexture(ha+Mn),Le.bindTexture(Ms,null),gl[Mn]=null;vr(oa).forEach(Is),qr.cubeCount=0,qr.textureCount=0}hi.profile&&(qr.getTotalTextureSize=function(){var Mn=0;return Object.keys(oa).forEach(function(oi){Mn+=oa[oi].stats.size}),Mn});function Gu(){for(var Mn=0;Mn<nl;++Mn){var oi=gl[Mn];oi&&(oi.bindCount=0,oi.unit=-1,gl[Mn]=null)}vr(oa).forEach(function(Qr){Qr.texture=Le.createTexture(),Le.bindTexture(Qr.target,Qr.texture);for(var Fo=0;Fo<32;++Fo)if(Qr.mipmask&1<<Fo)if(Qr.target===Ms)Le.texImage2D(Ms,Fo,Qr.internalformat,Qr.width>>Fo,Qr.height>>Fo,0,Qr.internalformat,Qr.type,null);else for(var Xs=0;Xs<6;++Xs)Le.texImage2D(ws+Xs,Fo,Qr.internalformat,Qr.width>>Fo,Qr.height>>Fo,0,Qr.internalformat,Qr.type,null);qa(Qr.texInfo,Qr.target)})}function uf(){for(var Mn=0;Mn<nl;++Mn){var oi=gl[Mn];oi&&(oi.bindCount=0,oi.unit=-1,gl[Mn]=null),Le.activeTexture(ha+Mn),Le.bindTexture(Ms,null),Le.bindTexture(No,null)}}return{create2D:Qs,createCube:sa,clear:ml,getTexture:function(Mn){return null},restore:Gu,refresh:uf}}var Af=36161,wl=32854,$l=32855,Ld=36194,sd=33189,ad=36168,Fd=34041,Sh=35907,Du=34836,ca=34842,Yf=34843,Oc=[];Oc[wl]=2,Oc[$l]=2,Oc[Ld]=2,Oc[sd]=2,Oc[ad]=1,Oc[Fd]=4,Oc[Sh]=4,Oc[Du]=16,Oc[ca]=8,Oc[Yf]=6;function Ah(Le,nn,Bn){return Oc[Le]*nn*Bn}var Jf=function(Le,nn,Bn,ri,Ur){var qr={rgba4:wl,rgb565:Ld,"rgb5 a1":$l,depth:sd,stencil:ad,"depth stencil":Fd};nn.ext_srgb&&(qr.srgba=Sh),nn.ext_color_buffer_half_float&&(qr.rgba16f=ca,qr.rgb16f=Yf),nn.webgl_color_buffer_float&&(qr.rgba32f=Du);var hi=[];Object.keys(qr).forEach(function(Yi){var yo=qr[Yi];hi[yo]=Yi});var ji=0,lo={};function no(Yi){this.id=ji++,this.refCount=1,this.renderbuffer=Yi,this.format=wl,this.width=0,this.height=0,Ur.profile&&(this.stats={size:0})}no.prototype.decRef=function(){--this.refCount<=0&&oo(this)};function oo(Yi){var yo=Yi.renderbuffer;Q(yo,"must not double destroy renderbuffer"),Le.bindRenderbuffer(Af,null),Le.deleteRenderbuffer(yo),Yi.renderbuffer=null,Yi.refCount=0,delete lo[Yi.id],ri.renderbufferCount--}function Zi(Yi,yo){var Vr=new no(Le.createRenderbuffer());lo[Vr.id]=Vr,ri.renderbufferCount++;function pi(_o,Vi){var Oo=0,Di=0,bo=wl;if(typeof _o=="object"&&_o){var Fi=_o;if("shape"in Fi){var xo=Fi.shape;Q(Array.isArray(xo)&&xo.length>=2,"invalid renderbuffer shape"),Oo=xo[0]|0,Di=xo[1]|0}else"radius"in Fi&&(Oo=Di=Fi.radius|0),"width"in Fi&&(Oo=Fi.width|0),"height"in Fi&&(Di=Fi.height|0);"format"in Fi&&(Q.parameter(Fi.format,qr,"invalid renderbuffer format"),bo=qr[Fi.format])}else typeof _o=="number"?(Oo=_o|0,typeof Vi=="number"?Di=Vi|0:Di=Oo):_o?Q.raise("invalid arguments to renderbuffer constructor"):Oo=Di=1;if(Q(Oo>0&&Di>0&&Oo<=Bn.maxRenderbufferSize&&Di<=Bn.maxRenderbufferSize,"invalid renderbuffer size"),!(Oo===Vr.width&&Di===Vr.height&&bo===Vr.format))return pi.width=Vr.width=Oo,pi.height=Vr.height=Di,Vr.format=bo,Le.bindRenderbuffer(Af,Vr.renderbuffer),Le.renderbufferStorage(Af,bo,Oo,Di),Q(Le.getError()===0,"invalid render buffer format"),Ur.profile&&(Vr.stats.size=Ah(Vr.format,Vr.width,Vr.height)),pi.format=hi[Vr.format],pi}function fo(_o,Vi){var Oo=_o|0,Di=Vi|0||Oo;return Oo===Vr.width&&Di===Vr.height||(Q(Oo>0&&Di>0&&Oo<=Bn.maxRenderbufferSize&&Di<=Bn.maxRenderbufferSize,"invalid renderbuffer size"),pi.width=Vr.width=Oo,pi.height=Vr.height=Di,Le.bindRenderbuffer(Af,Vr.renderbuffer),Le.renderbufferStorage(Af,Vr.format,Oo,Di),Q(Le.getError()===0,"invalid render buffer format"),Ur.profile&&(Vr.stats.size=Ah(Vr.format,Vr.width,Vr.height))),pi}return pi(Yi,yo),pi.resize=fo,pi._reglType="renderbuffer",pi._renderbuffer=Vr,Ur.profile&&(pi.stats=Vr.stats),pi.destroy=function(){Vr.decRef()},pi}Ur.profile&&(ri.getTotalRenderbufferSize=function(){var Yi=0;return Object.keys(lo).forEach(function(yo){Yi+=lo[yo].stats.size}),Yi});function Mo(){vr(lo).forEach(function(Yi){Yi.renderbuffer=Le.createRenderbuffer(),Le.bindRenderbuffer(Af,Yi.renderbuffer),Le.renderbufferStorage(Af,Yi.format,Yi.width,Yi.height)}),Le.bindRenderbuffer(Af,null)}return{create:Zi,clear:function(){vr(lo).forEach(oo)},restore:Mo}},gc=36160,tm=36161,qf=3553,Gp=34069,bu=36064,v0=36096,Bd=36128,wc=33306,zc=36053,en=36054,Mh=36055,zd=36057,Gc=36061,Ma=36193,Zv=5121,Th=5126,y0=6407,Mf=6408,b0=6402,Ph=[y0,Mf],Vp=[];Vp[Mf]=4,Vp[y0]=3;var Zp=[];Zp[Zv]=1,Zp[Th]=4,Zp[Ma]=2;var jv=32854,Qu=32855,Uv=36194,Wv=33189,nm=36168,rm=34041,x0=35907,ef=34836,C0=34842,$v=34843,im=[jv,Qu,Uv,x0,C0,$v,ef],su={};su[zc]="complete",su[en]="incomplete attachment",su[zd]="incomplete dimensions",su[Mh]="incomplete, missing attachment",su[Gc]="unsupported";function jp(Le,nn,Bn,ri,Ur,qr){var hi={cur:null,next:null,dirty:!1,setFBO:null},ji=["rgba"],lo=["rgba4","rgb565","rgb5 a1"];nn.ext_srgb&&lo.push("srgba"),nn.ext_color_buffer_half_float&&lo.push("rgba16f","rgb16f"),nn.webgl_color_buffer_float&&lo.push("rgba32f");var no=["uint8"];nn.oes_texture_half_float&&no.push("half float","float16"),nn.oes_texture_float&&no.push("float","float32");function oo(So,ho,Bi){this.target=So,this.texture=ho,this.renderbuffer=Bi;var vs=0,Wo=0;ho?(vs=ho.width,Wo=ho.height):Bi&&(vs=Bi.width,Wo=Bi.height),this.width=vs,this.height=Wo}function Zi(So){So&&(So.texture&&So.texture._texture.decRef(),So.renderbuffer&&So.renderbuffer._renderbuffer.decRef())}function Mo(So,ho,Bi){if(So)if(So.texture){var vs=So.texture._texture,Wo=Math.max(1,vs.width),Jo=Math.max(1,vs.height);Q(Wo===ho&&Jo===Bi,"inconsistent width/height for supplied texture"),vs.refCount+=1}else{var Ys=So.renderbuffer._renderbuffer;Q(Ys.width===ho&&Ys.height===Bi,"inconsistent width/height for renderbuffer"),Ys.refCount+=1}}function Yi(So,ho){ho&&(ho.texture?Le.framebufferTexture2D(gc,So,ho.target,ho.texture._texture.texture,0):Le.framebufferRenderbuffer(gc,So,tm,ho.renderbuffer._renderbuffer.renderbuffer))}function yo(So){var ho=qf,Bi=null,vs=null,Wo=So;typeof So=="object"&&(Wo=So.data,"target"in So&&(ho=So.target|0)),Q.type(Wo,"function","invalid attachment data");var Jo=Wo._reglType;return Jo==="texture2d"?(Bi=Wo,Q(ho===qf)):Jo==="textureCube"?(Bi=Wo,Q(ho>=Gp&&ho<Gp+6,"invalid cube map target")):Jo==="renderbuffer"?(vs=Wo,ho=tm):Q.raise("invalid regl object for attachment"),new oo(ho,Bi,vs)}function Vr(So,ho,Bi,vs,Wo){if(Bi){var Jo=ri.create2D({width:So,height:ho,format:vs,type:Wo});return Jo._texture.refCount=0,new oo(qf,Jo,null)}else{var Ys=Ur.create({width:So,height:ho,format:vs});return Ys._renderbuffer.refCount=0,new oo(tm,null,Ys)}}function pi(So){return So&&(So.texture||So.renderbuffer)}function fo(So,ho,Bi){So&&(So.texture?So.texture.resize(ho,Bi):So.renderbuffer&&So.renderbuffer.resize(ho,Bi),So.width=ho,So.height=Bi)}var _o=0,Vi={};function Oo(){this.id=_o++,Vi[this.id]=this,this.framebuffer=Le.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Di(So){So.colorAttachments.forEach(Zi),Zi(So.depthAttachment),Zi(So.stencilAttachment),Zi(So.depthStencilAttachment)}function bo(So){var ho=So.framebuffer;Q(ho,"must not double destroy framebuffer"),Le.deleteFramebuffer(ho),So.framebuffer=null,qr.framebufferCount--,delete Vi[So.id]}function Fi(So){var ho;Le.bindFramebuffer(gc,So.framebuffer);var Bi=So.colorAttachments;for(ho=0;ho<Bi.length;++ho)Yi(bu+ho,Bi[ho]);for(ho=Bi.length;ho<Bn.maxColorAttachments;++ho)Le.framebufferTexture2D(gc,bu+ho,qf,null,0);Le.framebufferTexture2D(gc,wc,qf,null,0),Le.framebufferTexture2D(gc,v0,qf,null,0),Le.framebufferTexture2D(gc,Bd,qf,null,0),Yi(v0,So.depthAttachment),Yi(Bd,So.stencilAttachment),Yi(wc,So.depthStencilAttachment);var vs=Le.checkFramebufferStatus(gc);!Le.isContextLost()&&vs!==zc&&Q.raise("framebuffer configuration not supported, status = "+su[vs]),Le.bindFramebuffer(gc,hi.next?hi.next.framebuffer:null),hi.cur=hi.next,Le.getError()}function xo(So,ho){var Bi=new Oo;qr.framebufferCount++;function vs(Jo,Ys){var ys;Q(hi.next!==Bi,"can not update framebuffer which is currently in use");var js=0,ua=0,dl=!0,ia=!0,As=null,pl=!0,Pa="rgba",$a="uint8",qa=1,El=null,oa=null,nl=null,gl=!1;if(typeof Jo=="number")js=Jo|0,ua=Ys|0||js;else if(!Jo)js=ua=1;else{Q.type(Jo,"object","invalid arguments for framebuffer");var Gs=Jo;if("shape"in Gs){var Vs=Gs.shape;Q(Array.isArray(Vs)&&Vs.length>=2,"invalid shape for framebuffer"),js=Vs[0],ua=Vs[1]}else"radius"in Gs&&(js=ua=Gs.radius),"width"in Gs&&(js=Gs.width),"height"in Gs&&(ua=Gs.height);("color"in Gs||"colors"in Gs)&&(As=Gs.color||Gs.colors,Array.isArray(As)&&Q(As.length===1||nn.webgl_draw_buffers,"multiple render targets not supported")),As||("colorCount"in Gs&&(qa=Gs.colorCount|0,Q(qa>0,"invalid color buffer count")),"colorTexture"in Gs&&(pl=!!Gs.colorTexture,Pa="rgba4"),"colorType"in Gs&&($a=Gs.colorType,pl?(Q(nn.oes_texture_float||!($a==="float"||$a==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),Q(nn.oes_texture_half_float||!($a==="half float"||$a==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):$a==="half float"||$a==="float16"?(Q(nn.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Pa="rgba16f"):($a==="float"||$a==="float32")&&(Q(nn.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Pa="rgba32f"),Q.oneOf($a,no,"invalid color type")),"colorFormat"in Gs&&(Pa=Gs.colorFormat,ji.indexOf(Pa)>=0?pl=!0:lo.indexOf(Pa)>=0?pl=!1:pl?Q.oneOf(Gs.colorFormat,ji,"invalid color format for texture"):Q.oneOf(Gs.colorFormat,lo,"invalid color format for renderbuffer"))),("depthTexture"in Gs||"depthStencilTexture"in Gs)&&(gl=!!(Gs.depthTexture||Gs.depthStencilTexture),Q(!gl||nn.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Gs&&(typeof Gs.depth=="boolean"?dl=Gs.depth:(El=Gs.depth,ia=!1)),"stencil"in Gs&&(typeof Gs.stencil=="boolean"?ia=Gs.stencil:(oa=Gs.stencil,dl=!1)),"depthStencil"in Gs&&(typeof Gs.depthStencil=="boolean"?dl=ia=Gs.depthStencil:(nl=Gs.depthStencil,dl=!1,ia=!1))}var Oa=null,Is=null,Qs=null,sa=null;if(Array.isArray(As))Oa=As.map(yo);else if(As)Oa=[yo(As)];else for(Oa=new Array(qa),ys=0;ys<qa;++ys)Oa[ys]=Vr(js,ua,pl,Pa,$a);Q(nn.webgl_draw_buffers||Oa.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),Q(Oa.length<=Bn.maxColorAttachments,"too many color attachments, not supported"),js=js||Oa[0].width,ua=ua||Oa[0].height,El?Is=yo(El):dl&&!ia&&(Is=Vr(js,ua,gl,"depth","uint32")),oa?Qs=yo(oa):ia&&!dl&&(Qs=Vr(js,ua,!1,"stencil","uint8")),nl?sa=yo(nl):!El&&!oa&&ia&&dl&&(sa=Vr(js,ua,gl,"depth stencil","depth stencil")),Q(!!El+!!oa+!!nl<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var ml=null;for(ys=0;ys<Oa.length;++ys)if(Mo(Oa[ys],js,ua),Q(!Oa[ys]||Oa[ys].texture&&Ph.indexOf(Oa[ys].texture._texture.format)>=0||Oa[ys].renderbuffer&&im.indexOf(Oa[ys].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+ys+" is invalid"),Oa[ys]&&Oa[ys].texture){var Gu=Vp[Oa[ys].texture._texture.format]*Zp[Oa[ys].texture._texture.type];ml===null?ml=Gu:Q(ml===Gu,"all color attachments much have the same number of bits per pixel.")}return Mo(Is,js,ua),Q(!Is||Is.texture&&Is.texture._texture.format===b0||Is.renderbuffer&&Is.renderbuffer._renderbuffer.format===Wv,"invalid depth attachment for framebuffer object"),Mo(Qs,js,ua),Q(!Qs||Qs.renderbuffer&&Qs.renderbuffer._renderbuffer.format===nm,"invalid stencil attachment for framebuffer object"),Mo(sa,js,ua),Q(!sa||sa.texture&&sa.texture._texture.format===rm||sa.renderbuffer&&sa.renderbuffer._renderbuffer.format===rm,"invalid depth-stencil attachment for framebuffer object"),Di(Bi),Bi.width=js,Bi.height=ua,Bi.colorAttachments=Oa,Bi.depthAttachment=Is,Bi.stencilAttachment=Qs,Bi.depthStencilAttachment=sa,vs.color=Oa.map(pi),vs.depth=pi(Is),vs.stencil=pi(Qs),vs.depthStencil=pi(sa),vs.width=Bi.width,vs.height=Bi.height,Fi(Bi),vs}function Wo(Jo,Ys){Q(hi.next!==Bi,"can not resize a framebuffer which is currently in use");var ys=Math.max(Jo|0,1),js=Math.max(Ys|0||ys,1);if(ys===Bi.width&&js===Bi.height)return vs;for(var ua=Bi.colorAttachments,dl=0;dl<ua.length;++dl)fo(ua[dl],ys,js);return fo(Bi.depthAttachment,ys,js),fo(Bi.stencilAttachment,ys,js),fo(Bi.depthStencilAttachment,ys,js),Bi.width=vs.width=ys,Bi.height=vs.height=js,Fi(Bi),vs}return vs(So,ho),w(vs,{resize:Wo,_reglType:"framebuffer",_framebuffer:Bi,destroy:function(){bo(Bi),Di(Bi)},use:function(Jo){hi.setFBO({framebuffer:vs},Jo)}})}function Es(So){var ho=Array(6);function Bi(Wo){var Jo;Q(ho.indexOf(hi.next)<0,"can not update framebuffer which is currently in use");var Ys={color:null},ys=0,js=null,ua="rgba",dl="uint8",ia=1;if(typeof Wo=="number")ys=Wo|0;else if(!Wo)ys=1;else{Q.type(Wo,"object","invalid arguments for framebuffer");var As=Wo;if("shape"in As){var pl=As.shape;Q(Array.isArray(pl)&&pl.length>=2,"invalid shape for framebuffer"),Q(pl[0]===pl[1],"cube framebuffer must be square"),ys=pl[0]}else"radius"in As&&(ys=As.radius|0),"width"in As?(ys=As.width|0,"height"in As&&Q(As.height===ys,"must be square")):"height"in As&&(ys=As.height|0);("color"in As||"colors"in As)&&(js=As.color||As.colors,Array.isArray(js)&&Q(js.length===1||nn.webgl_draw_buffers,"multiple render targets not supported")),js||("colorCount"in As&&(ia=As.colorCount|0,Q(ia>0,"invalid color buffer count")),"colorType"in As&&(Q.oneOf(As.colorType,no,"invalid color type"),dl=As.colorType),"colorFormat"in As&&(ua=As.colorFormat,Q.oneOf(As.colorFormat,ji,"invalid color format for texture"))),"depth"in As&&(Ys.depth=As.depth),"stencil"in As&&(Ys.stencil=As.stencil),"depthStencil"in As&&(Ys.depthStencil=As.depthStencil)}var Pa;if(js)if(Array.isArray(js))for(Pa=[],Jo=0;Jo<js.length;++Jo)Pa[Jo]=js[Jo];else Pa=[js];else{Pa=Array(ia);var $a={radius:ys,format:ua,type:dl};for(Jo=0;Jo<ia;++Jo)Pa[Jo]=ri.createCube($a)}for(Ys.color=Array(Pa.length),Jo=0;Jo<Pa.length;++Jo){var qa=Pa[Jo];Q(typeof qa=="function"&&qa._reglType==="textureCube","invalid cube map"),ys=ys||qa.width,Q(qa.width===ys&&qa.height===ys,"invalid cube map shape"),Ys.color[Jo]={target:Gp,data:Pa[Jo]}}for(Jo=0;Jo<6;++Jo){for(var El=0;El<Pa.length;++El)Ys.color[El].target=Gp+Jo;Jo>0&&(Ys.depth=ho[0].depth,Ys.stencil=ho[0].stencil,Ys.depthStencil=ho[0].depthStencil),ho[Jo]?ho[Jo](Ys):ho[Jo]=xo(Ys)}return w(Bi,{width:ys,height:ys,color:Pa})}function vs(Wo){var Jo,Ys=Wo|0;if(Q(Ys>0&&Ys<=Bn.maxCubeMapSize,"invalid radius for cube fbo"),Ys===Bi.width)return Bi;var ys=Bi.color;for(Jo=0;Jo<ys.length;++Jo)ys[Jo].resize(Ys);for(Jo=0;Jo<6;++Jo)ho[Jo].resize(Ys);return Bi.width=Bi.height=Ys,Bi}return Bi(So),w(Bi,{faces:ho,resize:vs,_reglType:"framebufferCube",destroy:function(){ho.forEach(function(Wo){Wo.destroy()})}})}function Bs(){hi.cur=null,hi.next=null,hi.dirty=!0,vr(Vi).forEach(function(So){So.framebuffer=Le.createFramebuffer(),Fi(So)})}return w(hi,{getFramebuffer:function(So){if(typeof So=="function"&&So._reglType==="framebuffer"){var ho=So._framebuffer;if(ho instanceof Oo)return ho}return null},create:xo,createCube:Es,clear:function(){vr(Vi).forEach(bo)},restore:Bs})}var Tf=5126,Up=34962;function Vc(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Tf,this.offset=0,this.stride=0,this.divisor=0}function Ta(Le,nn,Bn,ri,Ur){for(var qr=Bn.maxAttributes,hi=new Array(qr),ji=0;ji<qr;++ji)hi[ji]=new Vc;var lo=0,no={},oo={Record:Vc,scope:{},state:hi,currentVAO:null,targetVAO:null,restore:Mo()?Vi:function(){},createVAO:Oo,getVAO:yo,destroyBuffer:Zi,setVAO:Mo()?Vr:pi,clear:Mo()?fo:function(){}};function Zi(Di){for(var bo=0;bo<hi.length;++bo){var Fi=hi[bo];Fi.buffer===Di&&(Le.disableVertexAttribArray(bo),Fi.buffer=null)}}function Mo(){return nn.oes_vertex_array_object}function Yi(){return nn.angle_instanced_arrays}function yo(Di){return typeof Di=="function"&&Di._vao?Di._vao:null}function Vr(Di){if(Di!==oo.currentVAO){var bo=Mo();Di?bo.bindVertexArrayOES(Di.vao):bo.bindVertexArrayOES(null),oo.currentVAO=Di}}function pi(Di){if(Di!==oo.currentVAO){if(Di)Di.bindAttrs();else for(var bo=Yi(),Fi=0;Fi<hi.length;++Fi){var xo=hi[Fi];xo.buffer?(Le.enableVertexAttribArray(Fi),Le.vertexAttribPointer(Fi,xo.size,xo.type,xo.normalized,xo.stride,xo.offfset),bo&&xo.divisor&&bo.vertexAttribDivisorANGLE(Fi,xo.divisor)):(Le.disableVertexAttribArray(Fi),Le.vertexAttrib4f(Fi,xo.x,xo.y,xo.z,xo.w))}oo.currentVAO=Di}}function fo(){vr(no).forEach(function(Di){Di.destroy()})}function _o(){this.id=++lo,this.attributes=[];var Di=Mo();Di?this.vao=Di.createVertexArrayOES():this.vao=null,no[this.id]=this,this.buffers=[]}_o.prototype.bindAttrs=function(){for(var Di=Yi(),bo=this.attributes,Fi=0;Fi<bo.length;++Fi){var xo=bo[Fi];xo.buffer?(Le.enableVertexAttribArray(Fi),Le.bindBuffer(Up,xo.buffer.buffer),Le.vertexAttribPointer(Fi,xo.size,xo.type,xo.normalized,xo.stride,xo.offset),Di&&xo.divisor&&Di.vertexAttribDivisorANGLE(Fi,xo.divisor)):(Le.disableVertexAttribArray(Fi),Le.vertexAttrib4f(Fi,xo.x,xo.y,xo.z,xo.w))}for(var Es=bo.length;Es<qr;++Es)Le.disableVertexAttribArray(Es)},_o.prototype.refresh=function(){var Di=Mo();Di&&(Di.bindVertexArrayOES(this.vao),this.bindAttrs(),oo.currentVAO=this)},_o.prototype.destroy=function(){if(this.vao){var Di=Mo();this===oo.currentVAO&&(oo.currentVAO=null,Di.bindVertexArrayOES(null)),Di.deleteVertexArrayOES(this.vao),this.vao=null}no[this.id]&&(delete no[this.id],ri.vaoCount-=1)};function Vi(){var Di=Mo();Di&&vr(no).forEach(function(bo){bo.refresh()})}function Oo(Di){var bo=new _o;ri.vaoCount+=1;function Fi(xo){Q(Array.isArray(xo),"arguments to vertex array constructor must be an array"),Q(xo.length<qr,"too many attributes"),Q(xo.length>0,"must specify at least one attribute");var Es={},Bs=bo.attributes;Bs.length=xo.length;for(var So=0;So<xo.length;++So){var ho=xo[So],Bi=Bs[So]=new Vc,vs=ho.data||ho;if(Array.isArray(vs)||te(vs)||Gn(vs)){var Wo;bo.buffers[So]&&(Wo=bo.buffers[So],te(vs)&&Wo._buffer.byteLength>=vs.byteLength?Wo.subdata(vs):(Wo.destroy(),bo.buffers[So]=null)),bo.buffers[So]||(Wo=bo.buffers[So]=Ur.create(ho,Up,!1,!0)),Bi.buffer=Ur.getBuffer(Wo),Bi.size=Bi.buffer.dimension|0,Bi.normalized=!1,Bi.type=Bi.buffer.dtype,Bi.offset=0,Bi.stride=0,Bi.divisor=0,Bi.state=1,Es[So]=1}else Ur.getBuffer(ho)?(Bi.buffer=Ur.getBuffer(ho),Bi.size=Bi.buffer.dimension|0,Bi.normalized=!1,Bi.type=Bi.buffer.dtype,Bi.offset=0,Bi.stride=0,Bi.divisor=0,Bi.state=1):Ur.getBuffer(ho.buffer)?(Bi.buffer=Ur.getBuffer(ho.buffer),Bi.size=(+ho.size||Bi.buffer.dimension)|0,Bi.normalized=!!ho.normalized||!1,"type"in ho?(Q.parameter(ho.type,et,"invalid buffer type"),Bi.type=et[ho.type]):Bi.type=Bi.buffer.dtype,Bi.offset=(ho.offset||0)|0,Bi.stride=(ho.stride||0)|0,Bi.divisor=(ho.divisor||0)|0,Bi.state=1,Q(Bi.size>=1&&Bi.size<=4,"size must be between 1 and 4"),Q(Bi.offset>=0,"invalid offset"),Q(Bi.stride>=0&&Bi.stride<=255,"stride must be between 0 and 255"),Q(Bi.divisor>=0,"divisor must be positive"),Q(!Bi.divisor||!!nn.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in ho?(Q(So>0,"first attribute must not be a constant"),Bi.x=+ho.x||0,Bi.y=+ho.y||0,Bi.z=+ho.z||0,Bi.w=+ho.w||0,Bi.state=2):Q(!1,"invalid attribute spec for location "+So)}for(var Jo=0;Jo<bo.buffers.length;++Jo)!Es[Jo]&&bo.buffers[Jo]&&(bo.buffers[Jo].destroy(),bo.buffers[Jo]=null);return bo.refresh(),Fi}return Fi.destroy=function(){for(var xo=0;xo<bo.buffers.length;++xo)bo.buffers[xo]&&bo.buffers[xo].destroy();bo.buffers.length=0,bo.destroy()},Fi._vao=bo,Fi._reglType="vao",Fi(Di)}return oo}var ld=35632,mc=35633,Gd=35718,om=35721;function ds(Le,nn,Bn,ri){var Ur={},qr={};function hi(Vr,pi,fo,_o){this.name=Vr,this.id=pi,this.location=fo,this.info=_o}function ji(Vr,pi){for(var fo=0;fo<Vr.length;++fo)if(Vr[fo].id===pi.id){Vr[fo].location=pi.location;return}Vr.push(pi)}function lo(Vr,pi,fo){var _o=Vr===ld?Ur:qr,Vi=_o[pi];if(!Vi){var Oo=nn.str(pi);Vi=Le.createShader(Vr),Le.shaderSource(Vi,Oo),Le.compileShader(Vi),Q.shaderError(Le,Vi,Oo,Vr,fo),_o[pi]=Vi}return Vi}var no={},oo=[],Zi=0;function Mo(Vr,pi){this.id=Zi++,this.fragId=Vr,this.vertId=pi,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ri.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Yi(Vr,pi,fo){var _o,Vi,Oo=lo(ld,Vr.fragId),Di=lo(mc,Vr.vertId),bo=Vr.program=Le.createProgram();if(Le.attachShader(bo,Oo),Le.attachShader(bo,Di),fo)for(_o=0;_o<fo.length;++_o){var Fi=fo[_o];Le.bindAttribLocation(bo,Fi[0],Fi[1])}Le.linkProgram(bo),Q.linkError(Le,bo,nn.str(Vr.fragId),nn.str(Vr.vertId),pi);var xo=Le.getProgramParameter(bo,Gd);ri.profile&&(Vr.stats.uniformsCount=xo);var Es=Vr.uniforms;for(_o=0;_o<xo;++_o)if(Vi=Le.getActiveUniform(bo,_o),Vi)if(Vi.size>1)for(var Bs=0;Bs<Vi.size;++Bs){var So=Vi.name.replace("[0]","["+Bs+"]");ji(Es,new hi(So,nn.id(So),Le.getUniformLocation(bo,So),Vi))}else ji(Es,new hi(Vi.name,nn.id(Vi.name),Le.getUniformLocation(bo,Vi.name),Vi));var ho=Le.getProgramParameter(bo,om);ri.profile&&(Vr.stats.attributesCount=ho);var Bi=Vr.attributes;for(_o=0;_o<ho;++_o)Vi=Le.getActiveAttrib(bo,_o),Vi&&ji(Bi,new hi(Vi.name,nn.id(Vi.name),Le.getAttribLocation(bo,Vi.name),Vi))}ri.profile&&(Bn.getMaxUniformsCount=function(){var Vr=0;return oo.forEach(function(pi){pi.stats.uniformsCount>Vr&&(Vr=pi.stats.uniformsCount)}),Vr},Bn.getMaxAttributesCount=function(){var Vr=0;return oo.forEach(function(pi){pi.stats.attributesCount>Vr&&(Vr=pi.stats.attributesCount)}),Vr});function yo(){Ur={},qr={};for(var Vr=0;Vr<oo.length;++Vr)Yi(oo[Vr],null,oo[Vr].attributes.map(function(pi){return[pi.location,pi.name]}))}return{clear:function(){var Vr=Le.deleteShader.bind(Le);vr(Ur).forEach(Vr),Ur={},vr(qr).forEach(Vr),qr={},oo.forEach(function(pi){Le.deleteProgram(pi.program)}),oo.length=0,no={},Bn.shaderCount=0},program:function(Vr,pi,fo,_o){Q.command(Vr>=0,"missing vertex shader",fo),Q.command(pi>=0,"missing fragment shader",fo);var Vi=no[pi];Vi||(Vi=no[pi]={});var Oo=Vi[Vr];if(Oo&&(Oo.refCount++,!_o))return Oo;var Di=new Mo(pi,Vr);return Bn.shaderCount++,Yi(Di,fo,_o),Oo||(Vi[Vr]=Di),oo.push(Di),w(Di,{destroy:function(){if(Di.refCount--,Di.refCount<=0){Le.deleteProgram(Di.program);var bo=oo.indexOf(Di);oo.splice(bo,1),Bn.shaderCount--}Vi[Di.vertId].refCount<=0&&(Le.deleteShader(qr[Di.vertId]),delete qr[Di.vertId],delete no[Di.fragId][Di.vertId]),Object.keys(no[Di.fragId]).length||(Le.deleteShader(Ur[Di.fragId]),delete Ur[Di.fragId],delete no[Di.fragId])}})},restore:yo,shader:lo,frag:-1,vert:-1}}var mo=6408,Rs=5121,Ds=3333,Wp=5126;function Nu(Le,nn,Bn,ri,Ur,qr,hi){function ji(oo){var Zi;nn.next===null?(Q(Ur.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Zi=Rs):(Q(nn.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Zi=nn.next.colorAttachments[0].texture._texture.type,qr.oes_texture_float?(Q(Zi===Rs||Zi===Wp,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Zi===Wp&&Q(hi.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):Q(Zi===Rs,"Reading from a framebuffer is only allowed for the type 'uint8'"));var Mo=0,Yi=0,yo=ri.framebufferWidth,Vr=ri.framebufferHeight,pi=null;te(oo)?pi=oo:oo&&(Q.type(oo,"object","invalid arguments to regl.read()"),Mo=oo.x|0,Yi=oo.y|0,Q(Mo>=0&&Mo<ri.framebufferWidth,"invalid x offset for regl.read"),Q(Yi>=0&&Yi<ri.framebufferHeight,"invalid y offset for regl.read"),yo=(oo.width||ri.framebufferWidth-Mo)|0,Vr=(oo.height||ri.framebufferHeight-Yi)|0,pi=oo.data||null),pi&&(Zi===Rs?Q(pi instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Zi===Wp&&Q(pi instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),Q(yo>0&&yo+Mo<=ri.framebufferWidth,"invalid width for read pixels"),Q(Vr>0&&Vr+Yi<=ri.framebufferHeight,"invalid height for read pixels"),Bn();var fo=yo*Vr*4;return pi||(Zi===Rs?pi=new Uint8Array(fo):Zi===Wp&&(pi=pi||new Float32Array(fo))),Q.isTypedArray(pi,"data buffer for regl.read() must be a typedarray"),Q(pi.byteLength>=fo,"data buffer for regl.read() too small"),Le.pixelStorei(Ds,4),Le.readPixels(Mo,Yi,yo,Vr,mo,Zi,pi),pi}function lo(oo){var Zi;return nn.setFBO({framebuffer:oo.framebuffer},function(){Zi=ji(oo)}),Zi}function no(oo){return!oo||!("framebuffer"in oo)?ji(oo):lo(oo)}return no}function qo(Le){return Array.prototype.slice.call(Le)}function Ks(Le){return qo(Le).join("")}function w0(){var Le=0,nn=[],Bn=[];function ri(Zi){for(var Mo=0;Mo<Bn.length;++Mo)if(Bn[Mo]===Zi)return nn[Mo];var Yi="g"+Le++;return nn.push(Yi),Bn.push(Zi),Yi}function Ur(){var Zi=[];function Mo(){Zi.push.apply(Zi,qo(arguments))}var Yi=[];function yo(){var Vr="v"+Le++;return Yi.push(Vr),arguments.length>0&&(Zi.push(Vr,"="),Zi.push.apply(Zi,qo(arguments)),Zi.push(";")),Vr}return w(Mo,{def:yo,toString:function(){return Ks([Yi.length>0?"var "+Yi.join(",")+";":"",Ks(Zi)])}})}function qr(){var Zi=Ur(),Mo=Ur(),Yi=Zi.toString,yo=Mo.toString;function Vr(pi,fo){Mo(pi,fo,"=",Zi.def(pi,fo),";")}return w(function(){Zi.apply(Zi,qo(arguments))},{def:Zi.def,entry:Zi,exit:Mo,save:Vr,set:function(pi,fo,_o){Vr(pi,fo),Zi(pi,fo,"=",_o,";")},toString:function(){return Yi()+yo()}})}function hi(){var Zi=Ks(arguments),Mo=qr(),Yi=qr(),yo=Mo.toString,Vr=Yi.toString;return w(Mo,{then:function(){return Mo.apply(Mo,qo(arguments)),this},else:function(){return Yi.apply(Yi,qo(arguments)),this},toString:function(){var pi=Vr();return pi&&(pi="else{"+pi+"}"),Ks(["if(",Zi,"){",yo(),"}",pi])}})}var ji=Ur(),lo={};function no(Zi,Mo){var Yi=[];function yo(){var Vi="a"+Yi.length;return Yi.push(Vi),Vi}Mo=Mo||0;for(var Vr=0;Vr<Mo;++Vr)yo();var pi=qr(),fo=pi.toString,_o=lo[Zi]=w(pi,{arg:yo,toString:function(){return Ks(["function(",Yi.join(),"){",fo(),"}"])}});return _o}function oo(){var Zi=['"use strict";',ji,"return {"];Object.keys(lo).forEach(function(yo){Zi.push('"',yo,'":',lo[yo].toString(),",")}),Zi.push("}");var Mo=Ks(Zi).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Yi=Function.apply(null,nn.concat(Mo));return Yi.apply(null,Bn)}return{global:ji,link:ri,block:Ur,proc:no,scope:qr,cond:hi,compile:oo}}var tf="xyzw".split(""),Zc=5121,el=1,jc=2,Ec=0,Xi=1,zi=2,Qf=3,cd=4,Pf=5,ll=6,Dl="dither",ba="blend.enable",eh="blend.color",Oh="blend.equation",ud="blend.func",Gl="depth.enable",fd="depth.func",Ih="depth.range",au="depth.mask",th="colorMask",nf="cull.enable",Ic="cull.face",Rh="frontFace",Va="lineWidth",Vd="polygonOffset.enable",Zd="polygonOffset.offset",ss="sample.alpha",Pi="sample.enable",tl="sample.coverage",Uc="stencil.enable",fl="stencil.mask",$p="stencil.func",jd="stencil.opFront",Of="stencil.opBack",nh="scissor.enable",If="scissor.box",Rc="viewport",rf="profile",_u="framebuffer",Wc="vert",Dh="frag",rh="elements",of="primitive",sf="count",ih="offset",Nh="instances",lu="vao",Rf="Width",Hp="Height",af=_u+Rf,ku=_u+Hp,hd=Rc+Rf,sm=Rc+Hp,oh="drawingBuffer",Kp=oh+Rf,E0=oh+Hp,Ud=[ud,Oh,$p,jd,Of,tl,Rc,If,Zd],Df=34962,Wd=34963,S0=35632,$d=35633,ga=3553,A0=34067,Lu=2884,Hd=3042,M0=3024,T0=2960,am=2929,Dc=3089,lm=32823,Xp=32926,cm=32928,dd=5126,_h=35664,Ql=35665,cu=35666,pd=5124,lf=35667,sh=35668,Kd=35669,Xd=35670,Yd=35671,kh=35672,Jd=35673,xu=35674,cf=35675,Cu=35676,Lh=35678,Fh=35680,Bh=4,Fu=1028,zh=1029,Ll=2304,Yp=2305,qd=32775,Hv=32776,P0=519,$c=7680,ec=0,Nc=1,Kv=32774,Xv=513,ah=36160,Gh=36064,Hc={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Jp=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],gd={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},uu={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Bu={frag:S0,vert:$d},da={cw:Ll,ccw:Yp};function fu(Le){return Array.isArray(Le)||te(Le)||Gn(Le)}function Vh(Le){return Le.sort(function(nn,Bn){return nn===Rc?-1:Bn===Rc?1:nn<Bn?-1:1})}function Os(Le,nn,Bn,ri){this.thisDep=Le,this.contextDep=nn,this.propDep=Bn,this.append=ri}function Ya(Le){return Le&&!(Le.thisDep||Le.contextDep||Le.propDep)}function Ja(Le){return new Os(!1,!1,!1,Le)}function hl(Le,nn){var Bn=Le.type;if(Bn===Ec){var ri=Le.data.length;return new Os(!0,ri>=1,ri>=2,nn)}else if(Bn===cd){var Ur=Le.data;return new Os(Ur.thisDep,Ur.contextDep,Ur.propDep,nn)}else{if(Bn===Pf)return new Os(!1,!1,!1,nn);if(Bn===ll){for(var qr=!1,hi=!1,ji=!1,lo=0;lo<Le.data.length;++lo){var no=Le.data[lo];if(no.type===Xi)ji=!0;else if(no.type===zi)hi=!0;else if(no.type===Qf)qr=!0;else if(no.type===Ec){qr=!0;var oo=no.data;oo>=1&&(hi=!0),oo>=2&&(ji=!0)}else no.type===cd&&(qr=qr||no.data.thisDep,hi=hi||no.data.contextDep,ji=ji||no.data.propDep)}return new Os(qr,hi,ji,nn)}else return new Os(Bn===Qf,Bn===zi,Bn===Xi,nn)}}var lh=new Os(!1,!1,!1,function(){});function qp(Le,nn,Bn,ri,Ur,qr,hi,ji,lo,no,oo,Zi,Mo,Yi,yo){var Vr=no.Record,pi={add:32774,subtract:32778,"reverse subtract":32779};Bn.ext_blend_minmax&&(pi.min=qd,pi.max=Hv);var fo=Bn.angle_instanced_arrays,_o=Bn.webgl_draw_buffers,Vi={dirty:!0,profile:yo.profile},Oo={},Di=[],bo={},Fi={};function xo(qe){return qe.replace(".","_")}function Es(qe,Wt,rr){var _r=xo(qe);Di.push(qe),Oo[_r]=Vi[_r]=!!rr,bo[_r]=Wt}function Bs(qe,Wt,rr){var _r=xo(qe);Di.push(qe),Array.isArray(rr)?(Vi[_r]=rr.slice(),Oo[_r]=rr.slice()):Vi[_r]=Oo[_r]=rr,Fi[_r]=Wt}Es(Dl,M0),Es(ba,Hd),Bs(eh,"blendColor",[0,0,0,0]),Bs(Oh,"blendEquationSeparate",[Kv,Kv]),Bs(ud,"blendFuncSeparate",[Nc,ec,Nc,ec]),Es(Gl,am,!0),Bs(fd,"depthFunc",Xv),Bs(Ih,"depthRange",[0,1]),Bs(au,"depthMask",!0),Bs(th,th,[!0,!0,!0,!0]),Es(nf,Lu),Bs(Ic,"cullFace",zh),Bs(Rh,Rh,Yp),Bs(Va,Va,1),Es(Vd,lm),Bs(Zd,"polygonOffset",[0,0]),Es(ss,Xp),Es(Pi,cm),Bs(tl,"sampleCoverage",[1,!1]),Es(Uc,T0),Bs(fl,"stencilMask",-1),Bs($p,"stencilFunc",[P0,0,-1]),Bs(jd,"stencilOpSeparate",[Fu,$c,$c,$c]),Bs(Of,"stencilOpSeparate",[zh,$c,$c,$c]),Es(nh,Dc),Bs(If,"scissor",[0,0,Le.drawingBufferWidth,Le.drawingBufferHeight]),Bs(Rc,Rc,[0,0,Le.drawingBufferWidth,Le.drawingBufferHeight]);var So={gl:Le,context:Mo,strings:nn,next:Oo,current:Vi,draw:Zi,elements:qr,buffer:Ur,shader:oo,attributes:no.state,vao:no,uniforms:lo,framebuffer:ji,extensions:Bn,timer:Yi,isBufferArgs:fu},ho={primTypes:Do,compareFuncs:gd,blendFuncs:Hc,blendEquations:pi,stencilOps:uu,glTypes:et,orientationType:da};Q.optional(function(){So.isArrayLike=Uo}),_o&&(ho.backBuffer=[zh],ho.drawBuffer=Rn(ri.maxDrawbuffers,function(qe){return qe===0?[0]:Rn(qe,function(Wt){return Gh+Wt})}));var Bi=0;function vs(){var qe=w0(),Wt=qe.link,rr=qe.global;qe.id=Bi++,qe.batchId="0";var _r=Wt(So),Zr=qe.shared={props:"a0"};Object.keys(So).forEach(function(qn){Zr[qn]=rr.def(_r,".",qn)}),Q.optional(function(){qe.CHECK=Wt(Q),qe.commandStr=Q.guessCommand(),qe.command=Wt(qe.commandStr),qe.assert=function(qn,ln,wr){qn("if(!(",ln,"))",this.CHECK,".commandRaise(",Wt(wr),",",this.command,");")},ho.invalidBlendCombinations=Jp});var ur=qe.next={},Jn=qe.current={};Object.keys(Fi).forEach(function(qn){Array.isArray(Vi[qn])&&(ur[qn]=rr.def(Zr.next,".",qn),Jn[qn]=rr.def(Zr.current,".",qn))});var Ar=qe.constants={};Object.keys(ho).forEach(function(qn){Ar[qn]=rr.def(JSON.stringify(ho[qn]))}),qe.invoke=function(qn,ln){switch(ln.type){case Ec:var wr=["this",Zr.context,Zr.props,qe.batchId];return qn.def(Wt(ln.data),".call(",wr.slice(0,Math.max(ln.data.length+1,4)),")");case Xi:return qn.def(Zr.props,ln.data);case zi:return qn.def(Zr.context,ln.data);case Qf:return qn.def("this",ln.data);case cd:return ln.data.append(qe,qn),ln.data.ref;case Pf:return ln.data.toString();case ll:return ln.data.map(function(Xr){return qe.invoke(qn,Xr)})}},qe.attribCache={};var dn={};return qe.scopeAttrib=function(qn){var ln=nn.id(qn);if(ln in dn)return dn[ln];var wr=no.scope[ln];wr||(wr=no.scope[ln]=new Vr);var Xr=dn[ln]=Wt(wr);return Xr},qe}function Wo(qe){var Wt=qe.static,rr=qe.dynamic,_r;if(rf in Wt){var Zr=!!Wt[rf];_r=Ja(function(Jn,Ar){return Zr}),_r.enable=Zr}else if(rf in rr){var ur=rr[rf];_r=hl(ur,function(Jn,Ar){return Jn.invoke(Ar,ur)})}return _r}function Jo(qe,Wt){var rr=qe.static,_r=qe.dynamic;if(_u in rr){var Zr=rr[_u];return Zr?(Zr=ji.getFramebuffer(Zr),Q.command(Zr,"invalid framebuffer object"),Ja(function(Jn,Ar){var dn=Jn.link(Zr),qn=Jn.shared;Ar.set(qn.framebuffer,".next",dn);var ln=qn.context;return Ar.set(ln,"."+af,dn+".width"),Ar.set(ln,"."+ku,dn+".height"),dn})):Ja(function(Jn,Ar){var dn=Jn.shared;Ar.set(dn.framebuffer,".next","null");var qn=dn.context;return Ar.set(qn,"."+af,qn+"."+Kp),Ar.set(qn,"."+ku,qn+"."+E0),"null"})}else if(_u in _r){var ur=_r[_u];return hl(ur,function(Jn,Ar){var dn=Jn.invoke(Ar,ur),qn=Jn.shared,ln=qn.framebuffer,wr=Ar.def(ln,".getFramebuffer(",dn,")");Q.optional(function(){Jn.assert(Ar,"!"+dn+"||"+wr,"invalid framebuffer object")}),Ar.set(ln,".next",wr);var Xr=qn.context;return Ar.set(Xr,"."+af,wr+"?"+wr+".width:"+Xr+"."+Kp),Ar.set(Xr,"."+ku,wr+"?"+wr+".height:"+Xr+"."+E0),wr})}else return null}function Ys(qe,Wt,rr){var _r=qe.static,Zr=qe.dynamic;function ur(dn){if(dn in _r){var qn=_r[dn];Q.commandType(qn,"object","invalid "+dn,rr.commandStr);var ln=!0,wr=qn.x|0,Xr=qn.y|0,Ti,Ii;return"width"in qn?(Ti=qn.width|0,Q.command(Ti>=0,"invalid "+dn,rr.commandStr)):ln=!1,"height"in qn?(Ii=qn.height|0,Q.command(Ii>=0,"invalid "+dn,rr.commandStr)):ln=!1,new Os(!ln&&Wt&&Wt.thisDep,!ln&&Wt&&Wt.contextDep,!ln&&Wt&&Wt.propDep,function(ps,zs){var Qo=ps.shared.context,bs=Ti;"width"in qn||(bs=zs.def(Qo,".",af,"-",wr));var Fs=Ii;return"height"in qn||(Fs=zs.def(Qo,".",ku,"-",Xr)),[wr,Xr,bs,Fs]})}else if(dn in Zr){var vi=Zr[dn],Ui=hl(vi,function(ps,zs){var Qo=ps.invoke(zs,vi);Q.optional(function(){ps.assert(zs,Qo+"&&typeof "+Qo+'==="object"',"invalid "+dn)});var bs=ps.shared.context,Fs=zs.def(Qo,".x|0"),ma=zs.def(Qo,".y|0"),Ha=zs.def('"width" in ',Qo,"?",Qo,".width|0:","(",bs,".",af,"-",Fs,")"),nc=zs.def('"height" in ',Qo,"?",Qo,".height|0:","(",bs,".",ku,"-",ma,")");return Q.optional(function(){ps.assert(zs,Ha+">=0&&"+nc+">=0","invalid "+dn)}),[Fs,ma,Ha,nc]});return Wt&&(Ui.thisDep=Ui.thisDep||Wt.thisDep,Ui.contextDep=Ui.contextDep||Wt.contextDep,Ui.propDep=Ui.propDep||Wt.propDep),Ui}else return Wt?new Os(Wt.thisDep,Wt.contextDep,Wt.propDep,function(ps,zs){var Qo=ps.shared.context;return[0,0,zs.def(Qo,".",af),zs.def(Qo,".",ku)]}):null}var Jn=ur(Rc);if(Jn){var Ar=Jn;Jn=new Os(Jn.thisDep,Jn.contextDep,Jn.propDep,function(dn,qn){var ln=Ar.append(dn,qn),wr=dn.shared.context;return qn.set(wr,"."+hd,ln[2]),qn.set(wr,"."+sm,ln[3]),ln})}return{viewport:Jn,scissor_box:ur(If)}}function ys(qe,Wt){var rr=qe.static,_r=typeof rr[Dh]=="string"&&typeof rr[Wc]=="string";if(_r){if(Object.keys(Wt.dynamic).length>0)return null;var Zr=Wt.static,ur=Object.keys(Zr);if(ur.length>0&&typeof Zr[ur[0]]=="number"){for(var Jn=[],Ar=0;Ar<ur.length;++Ar)Q(typeof Zr[ur[Ar]]=="number","must specify all vertex attribute locations when using vaos"),Jn.push([Zr[ur[Ar]]|0,ur[Ar]]);return Jn}}return null}function js(qe,Wt,rr){var _r=qe.static,Zr=qe.dynamic;function ur(ln){if(ln in _r){var wr=nn.id(_r[ln]);Q.optional(function(){oo.shader(Bu[ln],wr,Q.guessCommand())});var Xr=Ja(function(){return wr});return Xr.id=wr,Xr}else if(ln in Zr){var Ti=Zr[ln];return hl(Ti,function(Ii,vi){var Ui=Ii.invoke(vi,Ti),ps=vi.def(Ii.shared.strings,".id(",Ui,")");return Q.optional(function(){vi(Ii.shared.shader,".shader(",Bu[ln],",",ps,",",Ii.command,");")}),ps})}return null}var Jn=ur(Dh),Ar=ur(Wc),dn=null,qn;return Ya(Jn)&&Ya(Ar)?(dn=oo.program(Ar.id,Jn.id,null,rr),qn=Ja(function(ln,wr){return ln.link(dn)})):qn=new Os(Jn&&Jn.thisDep||Ar&&Ar.thisDep,Jn&&Jn.contextDep||Ar&&Ar.contextDep,Jn&&Jn.propDep||Ar&&Ar.propDep,function(ln,wr){var Xr=ln.shared.shader,Ti;Jn?Ti=Jn.append(ln,wr):Ti=wr.def(Xr,".",Dh);var Ii;Ar?Ii=Ar.append(ln,wr):Ii=wr.def(Xr,".",Wc);var vi=Xr+".program("+Ii+","+Ti;return Q.optional(function(){vi+=","+ln.command}),wr.def(vi+")")}),{frag:Jn,vert:Ar,progVar:qn,program:dn}}function ua(qe,Wt){var rr=qe.static,_r=qe.dynamic;function Zr(){if(rh in rr){var ln=rr[rh];fu(ln)?ln=qr.getElements(qr.create(ln,!0)):ln&&(ln=qr.getElements(ln),Q.command(ln,"invalid elements",Wt.commandStr));var wr=Ja(function(Ti,Ii){if(ln){var vi=Ti.link(ln);return Ti.ELEMENTS=vi,vi}return Ti.ELEMENTS=null,null});return wr.value=ln,wr}else if(rh in _r){var Xr=_r[rh];return hl(Xr,function(Ti,Ii){var vi=Ti.shared,Ui=vi.isBufferArgs,ps=vi.elements,zs=Ti.invoke(Ii,Xr),Qo=Ii.def("null"),bs=Ii.def(Ui,"(",zs,")"),Fs=Ti.cond(bs).then(Qo,"=",ps,".createStream(",zs,");").else(Qo,"=",ps,".getElements(",zs,");");return Q.optional(function(){Ti.assert(Fs.else,"!"+zs+"||"+Qo,"invalid elements")}),Ii.entry(Fs),Ii.exit(Ti.cond(bs).then(ps,".destroyStream(",Qo,");")),Ti.ELEMENTS=Qo,Qo})}return null}var ur=Zr();function Jn(){if(of in rr){var ln=rr[of];return Q.commandParameter(ln,Do,"invalid primitve",Wt.commandStr),Ja(function(Xr,Ti){return Do[ln]})}else if(of in _r){var wr=_r[of];return hl(wr,function(Xr,Ti){var Ii=Xr.constants.primTypes,vi=Xr.invoke(Ti,wr);return Q.optional(function(){Xr.assert(Ti,vi+" in "+Ii,"invalid primitive, must be one of "+Object.keys(Do))}),Ti.def(Ii,"[",vi,"]")})}else if(ur)return Ya(ur)?ur.value?Ja(function(Xr,Ti){return Ti.def(Xr.ELEMENTS,".primType")}):Ja(function(){return Bh}):new Os(ur.thisDep,ur.contextDep,ur.propDep,function(Xr,Ti){var Ii=Xr.ELEMENTS;return Ti.def(Ii,"?",Ii,".primType:",Bh)});return null}function Ar(ln,wr){if(ln in rr){var Xr=rr[ln]|0;return Q.command(!wr||Xr>=0,"invalid "+ln,Wt.commandStr),Ja(function(Ii,vi){return wr&&(Ii.OFFSET=Xr),Xr})}else if(ln in _r){var Ti=_r[ln];return hl(Ti,function(Ii,vi){var Ui=Ii.invoke(vi,Ti);return wr&&(Ii.OFFSET=Ui,Q.optional(function(){Ii.assert(vi,Ui+">=0","invalid "+ln)})),Ui})}else if(wr&&ur)return Ja(function(Ii,vi){return Ii.OFFSET="0",0});return null}var dn=Ar(ih,!0);function qn(){if(sf in rr){var ln=rr[sf]|0;return Q.command(typeof ln=="number"&&ln>=0,"invalid vertex count",Wt.commandStr),Ja(function(){return ln})}else if(sf in _r){var wr=_r[sf];return hl(wr,function(Ii,vi){var Ui=Ii.invoke(vi,wr);return Q.optional(function(){Ii.assert(vi,"typeof "+Ui+'==="number"&&'+Ui+">=0&&"+Ui+"===("+Ui+"|0)","invalid vertex count")}),Ui})}else if(ur)if(Ya(ur)){if(ur)return dn?new Os(dn.thisDep,dn.contextDep,dn.propDep,function(Ii,vi){var Ui=vi.def(Ii.ELEMENTS,".vertCount-",Ii.OFFSET);return Q.optional(function(){Ii.assert(vi,Ui+">=0","invalid vertex offset/element buffer too small")}),Ui}):Ja(function(Ii,vi){return vi.def(Ii.ELEMENTS,".vertCount")});var Xr=Ja(function(){return-1});return Q.optional(function(){Xr.MISSING=!0}),Xr}else{var Ti=new Os(ur.thisDep||dn.thisDep,ur.contextDep||dn.contextDep,ur.propDep||dn.propDep,function(Ii,vi){var Ui=Ii.ELEMENTS;return Ii.OFFSET?vi.def(Ui,"?",Ui,".vertCount-",Ii.OFFSET,":-1"):vi.def(Ui,"?",Ui,".vertCount:-1")});return Q.optional(function(){Ti.DYNAMIC=!0}),Ti}return null}return{elements:ur,primitive:Jn(),count:qn(),instances:Ar(Nh,!1),offset:dn}}function dl(qe,Wt){var rr=qe.static,_r=qe.dynamic,Zr={};return Di.forEach(function(ur){var Jn=xo(ur);function Ar(dn,qn){if(ur in rr){var ln=dn(rr[ur]);Zr[Jn]=Ja(function(){return ln})}else if(ur in _r){var wr=_r[ur];Zr[Jn]=hl(wr,function(Xr,Ti){return qn(Xr,Ti,Xr.invoke(Ti,wr))})}}switch(ur){case nf:case ba:case Dl:case Uc:case Gl:case nh:case Vd:case ss:case Pi:case au:return Ar(function(dn){return Q.commandType(dn,"boolean",ur,Wt.commandStr),dn},function(dn,qn,ln){return Q.optional(function(){dn.assert(qn,"typeof "+ln+'==="boolean"',"invalid flag "+ur,dn.commandStr)}),ln});case fd:return Ar(function(dn){return Q.commandParameter(dn,gd,"invalid "+ur,Wt.commandStr),gd[dn]},function(dn,qn,ln){var wr=dn.constants.compareFuncs;return Q.optional(function(){dn.assert(qn,ln+" in "+wr,"invalid "+ur+", must be one of "+Object.keys(gd))}),qn.def(wr,"[",ln,"]")});case Ih:return Ar(function(dn){return Q.command(Uo(dn)&&dn.length===2&&typeof dn[0]=="number"&&typeof dn[1]=="number"&&dn[0]<=dn[1],"depth range is 2d array",Wt.commandStr),dn},function(dn,qn,ln){Q.optional(function(){dn.assert(qn,dn.shared.isArrayLike+"("+ln+")&&"+ln+".length===2&&typeof "+ln+'[0]==="number"&&typeof '+ln+'[1]==="number"&&'+ln+"[0]<="+ln+"[1]","depth range must be a 2d array")});var wr=qn.def("+",ln,"[0]"),Xr=qn.def("+",ln,"[1]");return[wr,Xr]});case ud:return Ar(function(dn){Q.commandType(dn,"object","blend.func",Wt.commandStr);var qn="srcRGB"in dn?dn.srcRGB:dn.src,ln="srcAlpha"in dn?dn.srcAlpha:dn.src,wr="dstRGB"in dn?dn.dstRGB:dn.dst,Xr="dstAlpha"in dn?dn.dstAlpha:dn.dst;return Q.commandParameter(qn,Hc,Jn+".srcRGB",Wt.commandStr),Q.commandParameter(ln,Hc,Jn+".srcAlpha",Wt.commandStr),Q.commandParameter(wr,Hc,Jn+".dstRGB",Wt.commandStr),Q.commandParameter(Xr,Hc,Jn+".dstAlpha",Wt.commandStr),Q.command(Jp.indexOf(qn+", "+wr)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+qn+", "+wr+")",Wt.commandStr),[Hc[qn],Hc[wr],Hc[ln],Hc[Xr]]},function(dn,qn,ln){var wr=dn.constants.blendFuncs;Q.optional(function(){dn.assert(qn,ln+"&&typeof "+ln+'==="object"',"invalid blend func, must be an object")});function Xr(Qo,bs){var Fs=qn.def('"',Qo,bs,'" in ',ln,"?",ln,".",Qo,bs,":",ln,".",Qo);return Q.optional(function(){dn.assert(qn,Fs+" in "+wr,"invalid "+ur+"."+Qo+bs+", must be one of "+Object.keys(Hc))}),Fs}var Ti=Xr("src","RGB"),Ii=Xr("dst","RGB");Q.optional(function(){var Qo=dn.constants.invalidBlendCombinations;dn.assert(qn,Qo+".indexOf("+Ti+'+", "+'+Ii+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var vi=qn.def(wr,"[",Ti,"]"),Ui=qn.def(wr,"[",Xr("src","Alpha"),"]"),ps=qn.def(wr,"[",Ii,"]"),zs=qn.def(wr,"[",Xr("dst","Alpha"),"]");return[vi,ps,Ui,zs]});case Oh:return Ar(function(dn){if(typeof dn=="string")return Q.commandParameter(dn,pi,"invalid "+ur,Wt.commandStr),[pi[dn],pi[dn]];if(typeof dn=="object")return Q.commandParameter(dn.rgb,pi,ur+".rgb",Wt.commandStr),Q.commandParameter(dn.alpha,pi,ur+".alpha",Wt.commandStr),[pi[dn.rgb],pi[dn.alpha]];Q.commandRaise("invalid blend.equation",Wt.commandStr)},function(dn,qn,ln){var wr=dn.constants.blendEquations,Xr=qn.def(),Ti=qn.def(),Ii=dn.cond("typeof ",ln,'==="string"');return Q.optional(function(){function vi(Ui,ps,zs){dn.assert(Ui,zs+" in "+wr,"invalid "+ps+", must be one of "+Object.keys(pi))}vi(Ii.then,ur,ln),dn.assert(Ii.else,ln+"&&typeof "+ln+'==="object"',"invalid "+ur),vi(Ii.else,ur+".rgb",ln+".rgb"),vi(Ii.else,ur+".alpha",ln+".alpha")}),Ii.then(Xr,"=",Ti,"=",wr,"[",ln,"];"),Ii.else(Xr,"=",wr,"[",ln,".rgb];",Ti,"=",wr,"[",ln,".alpha];"),qn(Ii),[Xr,Ti]});case eh:return Ar(function(dn){return Q.command(Uo(dn)&&dn.length===4,"blend.color must be a 4d array",Wt.commandStr),Rn(4,function(qn){return+dn[qn]})},function(dn,qn,ln){return Q.optional(function(){dn.assert(qn,dn.shared.isArrayLike+"("+ln+")&&"+ln+".length===4","blend.color must be a 4d array")}),Rn(4,function(wr){return qn.def("+",ln,"[",wr,"]")})});case fl:return Ar(function(dn){return Q.commandType(dn,"number",Jn,Wt.commandStr),dn|0},function(dn,qn,ln){return Q.optional(function(){dn.assert(qn,"typeof "+ln+'==="number"',"invalid stencil.mask")}),qn.def(ln,"|0")});case $p:return Ar(function(dn){Q.commandType(dn,"object",Jn,Wt.commandStr);var qn=dn.cmp||"keep",ln=dn.ref||0,wr="mask"in dn?dn.mask:-1;return Q.commandParameter(qn,gd,ur+".cmp",Wt.commandStr),Q.commandType(ln,"number",ur+".ref",Wt.commandStr),Q.commandType(wr,"number",ur+".mask",Wt.commandStr),[gd[qn],ln,wr]},function(dn,qn,ln){var wr=dn.constants.compareFuncs;Q.optional(function(){function vi(){dn.assert(qn,Array.prototype.join.call(arguments,""),"invalid stencil.func")}vi(ln+"&&typeof ",ln,'==="object"'),vi('!("cmp" in ',ln,")||(",ln,".cmp in ",wr,")")});var Xr=qn.def('"cmp" in ',ln,"?",wr,"[",ln,".cmp]",":",$c),Ti=qn.def(ln,".ref|0"),Ii=qn.def('"mask" in ',ln,"?",ln,".mask|0:-1");return[Xr,Ti,Ii]});case jd:case Of:return Ar(function(dn){Q.commandType(dn,"object",Jn,Wt.commandStr);var qn=dn.fail||"keep",ln=dn.zfail||"keep",wr=dn.zpass||"keep";return Q.commandParameter(qn,uu,ur+".fail",Wt.commandStr),Q.commandParameter(ln,uu,ur+".zfail",Wt.commandStr),Q.commandParameter(wr,uu,ur+".zpass",Wt.commandStr),[ur===Of?zh:Fu,uu[qn],uu[ln],uu[wr]]},function(dn,qn,ln){var wr=dn.constants.stencilOps;Q.optional(function(){dn.assert(qn,ln+"&&typeof "+ln+'==="object"',"invalid "+ur)});function Xr(Ti){return Q.optional(function(){dn.assert(qn,'!("'+Ti+'" in '+ln+")||("+ln+"."+Ti+" in "+wr+")","invalid "+ur+"."+Ti+", must be one of "+Object.keys(uu))}),qn.def('"',Ti,'" in ',ln,"?",wr,"[",ln,".",Ti,"]:",$c)}return[ur===Of?zh:Fu,Xr("fail"),Xr("zfail"),Xr("zpass")]});case Zd:return Ar(function(dn){Q.commandType(dn,"object",Jn,Wt.commandStr);var qn=dn.factor|0,ln=dn.units|0;return Q.commandType(qn,"number",Jn+".factor",Wt.commandStr),Q.commandType(ln,"number",Jn+".units",Wt.commandStr),[qn,ln]},function(dn,qn,ln){Q.optional(function(){dn.assert(qn,ln+"&&typeof "+ln+'==="object"',"invalid "+ur)});var wr=qn.def(ln,".factor|0"),Xr=qn.def(ln,".units|0");return[wr,Xr]});case Ic:return Ar(function(dn){var qn=0;return dn==="front"?qn=Fu:dn==="back"&&(qn=zh),Q.command(!!qn,Jn,Wt.commandStr),qn},function(dn,qn,ln){return Q.optional(function(){dn.assert(qn,ln+'==="front"||'+ln+'==="back"',"invalid cull.face")}),qn.def(ln,'==="front"?',Fu,":",zh)});case Va:return Ar(function(dn){return Q.command(typeof dn=="number"&&dn>=ri.lineWidthDims[0]&&dn<=ri.lineWidthDims[1],"invalid line width, must be a positive number between "+ri.lineWidthDims[0]+" and "+ri.lineWidthDims[1],Wt.commandStr),dn},function(dn,qn,ln){return Q.optional(function(){dn.assert(qn,"typeof "+ln+'==="number"&&'+ln+">="+ri.lineWidthDims[0]+"&&"+ln+"<="+ri.lineWidthDims[1],"invalid line width")}),ln});case Rh:return Ar(function(dn){return Q.commandParameter(dn,da,Jn,Wt.commandStr),da[dn]},function(dn,qn,ln){return Q.optional(function(){dn.assert(qn,ln+'==="cw"||'+ln+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),qn.def(ln+'==="cw"?'+Ll+":"+Yp)});case th:return Ar(function(dn){return Q.command(Uo(dn)&&dn.length===4,"color.mask must be length 4 array",Wt.commandStr),dn.map(function(qn){return!!qn})},function(dn,qn,ln){return Q.optional(function(){dn.assert(qn,dn.shared.isArrayLike+"("+ln+")&&"+ln+".length===4","invalid color.mask")}),Rn(4,function(wr){return"!!"+ln+"["+wr+"]"})});case tl:return Ar(function(dn){Q.command(typeof dn=="object"&&dn,Jn,Wt.commandStr);var qn="value"in dn?dn.value:1,ln=!!dn.invert;return Q.command(typeof qn=="number"&&qn>=0&&qn<=1,"sample.coverage.value must be a number between 0 and 1",Wt.commandStr),[qn,ln]},function(dn,qn,ln){Q.optional(function(){dn.assert(qn,ln+"&&typeof "+ln+'==="object"',"invalid sample.coverage")});var wr=qn.def('"value" in ',ln,"?+",ln,".value:1"),Xr=qn.def("!!",ln,".invert");return[wr,Xr]})}}),Zr}function ia(qe,Wt){var rr=qe.static,_r=qe.dynamic,Zr={};return Object.keys(rr).forEach(function(ur){var Jn=rr[ur],Ar;if(typeof Jn=="number"||typeof Jn=="boolean")Ar=Ja(function(){return Jn});else if(typeof Jn=="function"){var dn=Jn._reglType;dn==="texture2d"||dn==="textureCube"?Ar=Ja(function(qn){return qn.link(Jn)}):dn==="framebuffer"||dn==="framebufferCube"?(Q.command(Jn.color.length>0,'missing color attachment for framebuffer sent to uniform "'+ur+'"',Wt.commandStr),Ar=Ja(function(qn){return qn.link(Jn.color[0])})):Q.commandRaise('invalid data for uniform "'+ur+'"',Wt.commandStr)}else Uo(Jn)?Ar=Ja(function(qn){var ln=qn.global.def("[",Rn(Jn.length,function(wr){return Q.command(typeof Jn[wr]=="number"||typeof Jn[wr]=="boolean","invalid uniform "+ur,qn.commandStr),Jn[wr]}),"]");return ln}):Q.commandRaise('invalid or missing data for uniform "'+ur+'"',Wt.commandStr);Ar.value=Jn,Zr[ur]=Ar}),Object.keys(_r).forEach(function(ur){var Jn=_r[ur];Zr[ur]=hl(Jn,function(Ar,dn){return Ar.invoke(dn,Jn)})}),Zr}function As(qe,Wt){var rr=qe.static,_r=qe.dynamic,Zr={};return Object.keys(rr).forEach(function(ur){var Jn=rr[ur],Ar=nn.id(ur),dn=new Vr;if(fu(Jn))dn.state=el,dn.buffer=Ur.getBuffer(Ur.create(Jn,Df,!1,!0)),dn.type=0;else{var qn=Ur.getBuffer(Jn);if(qn)dn.state=el,dn.buffer=qn,dn.type=0;else if(Q.command(typeof Jn=="object"&&Jn,"invalid data for attribute "+ur,Wt.commandStr),"constant"in Jn){var ln=Jn.constant;dn.buffer="null",dn.state=jc,typeof ln=="number"?dn.x=ln:(Q.command(Uo(ln)&&ln.length>0&&ln.length<=4,"invalid constant for attribute "+ur,Wt.commandStr),tf.forEach(function(ps,zs){zs<ln.length&&(dn[ps]=ln[zs])}))}else{fu(Jn.buffer)?qn=Ur.getBuffer(Ur.create(Jn.buffer,Df,!1,!0)):qn=Ur.getBuffer(Jn.buffer),Q.command(!!qn,'missing buffer for attribute "'+ur+'"',Wt.commandStr);var wr=Jn.offset|0;Q.command(wr>=0,'invalid offset for attribute "'+ur+'"',Wt.commandStr);var Xr=Jn.stride|0;Q.command(Xr>=0&&Xr<256,'invalid stride for attribute "'+ur+'", must be integer betweeen [0, 255]',Wt.commandStr);var Ti=Jn.size|0;Q.command(!("size"in Jn)||Ti>0&&Ti<=4,'invalid size for attribute "'+ur+'", must be 1,2,3,4',Wt.commandStr);var Ii=!!Jn.normalized,vi=0;"type"in Jn&&(Q.commandParameter(Jn.type,et,"invalid type for attribute "+ur,Wt.commandStr),vi=et[Jn.type]);var Ui=Jn.divisor|0;"divisor"in Jn&&(Q.command(Ui===0||fo,'cannot specify divisor for attribute "'+ur+'", instancing not supported',Wt.commandStr),Q.command(Ui>=0,'invalid divisor for attribute "'+ur+'"',Wt.commandStr)),Q.optional(function(){var ps=Wt.commandStr,zs=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Jn).forEach(function(Qo){Q.command(zs.indexOf(Qo)>=0,'unknown parameter "'+Qo+'" for attribute pointer "'+ur+'" (valid parameters are '+zs+")",ps)})}),dn.buffer=qn,dn.state=el,dn.size=Ti,dn.normalized=Ii,dn.type=vi||qn.dtype,dn.offset=wr,dn.stride=Xr,dn.divisor=Ui}}Zr[ur]=Ja(function(ps,zs){var Qo=ps.attribCache;if(Ar in Qo)return Qo[Ar];var bs={isStream:!1};return Object.keys(dn).forEach(function(Fs){bs[Fs]=dn[Fs]}),dn.buffer&&(bs.buffer=ps.link(dn.buffer),bs.type=bs.type||bs.buffer+".dtype"),Qo[Ar]=bs,bs})}),Object.keys(_r).forEach(function(ur){var Jn=_r[ur];function Ar(dn,qn){var ln=dn.invoke(qn,Jn),wr=dn.shared,Xr=dn.constants,Ti=wr.isBufferArgs,Ii=wr.buffer;Q.optional(function(){dn.assert(qn,ln+"&&(typeof "+ln+'==="object"||typeof '+ln+'==="function")&&('+Ti+"("+ln+")||"+Ii+".getBuffer("+ln+")||"+Ii+".getBuffer("+ln+".buffer)||"+Ti+"("+ln+'.buffer)||("constant" in '+ln+"&&(typeof "+ln+'.constant==="number"||'+wr.isArrayLike+"("+ln+".constant))))",'invalid dynamic attribute "'+ur+'"')});var vi={isStream:qn.def(!1)},Ui=new Vr;Ui.state=el,Object.keys(Ui).forEach(function(bs){vi[bs]=qn.def(""+Ui[bs])});var ps=vi.buffer,zs=vi.type;qn("if(",Ti,"(",ln,")){",vi.isStream,"=true;",ps,"=",Ii,".createStream(",Df,",",ln,");",zs,"=",ps,".dtype;","}else{",ps,"=",Ii,".getBuffer(",ln,");","if(",ps,"){",zs,"=",ps,".dtype;",'}else if("constant" in ',ln,"){",vi.state,"=",jc,";","if(typeof "+ln+'.constant === "number"){',vi[tf[0]],"=",ln,".constant;",tf.slice(1).map(function(bs){return vi[bs]}).join("="),"=0;","}else{",tf.map(function(bs,Fs){return vi[bs]+"="+ln+".constant.length>"+Fs+"?"+ln+".constant["+Fs+"]:0;"}).join(""),"}}else{","if(",Ti,"(",ln,".buffer)){",ps,"=",Ii,".createStream(",Df,",",ln,".buffer);","}else{",ps,"=",Ii,".getBuffer(",ln,".buffer);","}",zs,'="type" in ',ln,"?",Xr.glTypes,"[",ln,".type]:",ps,".dtype;",vi.normalized,"=!!",ln,".normalized;");function Qo(bs){qn(vi[bs],"=",ln,".",bs,"|0;")}return Qo("size"),Qo("offset"),Qo("stride"),Qo("divisor"),qn("}}"),qn.exit("if(",vi.isStream,"){",Ii,".destroyStream(",ps,");","}"),vi}Zr[ur]=hl(Jn,Ar)}),Zr}function pl(qe,Wt){var rr=qe.static,_r=qe.dynamic;if(lu in rr){var Zr=rr[lu];return Zr!==null&&no.getVAO(Zr)===null&&(Zr=no.createVAO(Zr)),Ja(function(Jn){return Jn.link(no.getVAO(Zr))})}else if(lu in _r){var ur=_r[lu];return hl(ur,function(Jn,Ar){var dn=Jn.invoke(Ar,ur);return Ar.def(Jn.shared.vao+".getVAO("+dn+")")})}return null}function Pa(qe){var Wt=qe.static,rr=qe.dynamic,_r={};return Object.keys(Wt).forEach(function(Zr){var ur=Wt[Zr];_r[Zr]=Ja(function(Jn,Ar){return typeof ur=="number"||typeof ur=="boolean"?""+ur:Jn.link(ur)})}),Object.keys(rr).forEach(function(Zr){var ur=rr[Zr];_r[Zr]=hl(ur,function(Jn,Ar){return Jn.invoke(Ar,ur)})}),_r}function $a(qe,Wt,rr,_r,Zr){var ur=qe.static,Jn=qe.dynamic;Q.optional(function(){var Qo=[_u,Wc,Dh,rh,of,ih,sf,Nh,rf,lu].concat(Di);function bs(Fs){Object.keys(Fs).forEach(function(ma){Q.command(Qo.indexOf(ma)>=0,'unknown parameter "'+ma+'"',Zr.commandStr)})}bs(ur),bs(Jn)});var Ar=ys(qe,Wt),dn=Jo(qe,Zr),qn=Ys(qe,dn,Zr),ln=ua(qe,Zr),wr=dl(qe,Zr),Xr=js(qe,Zr,Ar);function Ti(Qo){var bs=qn[Qo];bs&&(wr[Qo]=bs)}Ti(Rc),Ti(xo(If));var Ii=Object.keys(wr).length>0,vi={framebuffer:dn,draw:ln,shader:Xr,state:wr,dirty:Ii,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(vi.profile=Wo(qe,Zr),vi.uniforms=ia(rr,Zr),vi.drawVAO=vi.scopeVAO=pl(qe,Zr),!vi.drawVAO&&Xr.program&&!Ar&&Bn.angle_instanced_arrays){var Ui=!0,ps=Xr.program.attributes.map(function(Qo){var bs=Wt.static[Qo];return Ui=Ui&&!!bs,bs});if(Ui&&ps.length>0){var zs=no.getVAO(no.createVAO(ps));vi.drawVAO=new Os(null,null,null,function(Qo,bs){return Qo.link(zs)}),vi.useVAO=!0}}return Ar?vi.useVAO=!0:vi.attributes=As(Wt,Zr),vi.context=Pa(_r,Zr),vi}function qa(qe,Wt,rr){var _r=qe.shared,Zr=_r.context,ur=qe.scope();Object.keys(rr).forEach(function(Jn){Wt.save(Zr,"."+Jn);var Ar=rr[Jn],dn=Ar.append(qe,Wt);Array.isArray(dn)?ur(Zr,".",Jn,"=[",dn.join(),"];"):ur(Zr,".",Jn,"=",dn,";")}),Wt(ur)}function El(qe,Wt,rr,_r){var Zr=qe.shared,ur=Zr.gl,Jn=Zr.framebuffer,Ar;_o&&(Ar=Wt.def(Zr.extensions,".webgl_draw_buffers"));var dn=qe.constants,qn=dn.drawBuffer,ln=dn.backBuffer,wr;rr?wr=rr.append(qe,Wt):wr=Wt.def(Jn,".next"),_r||Wt("if(",wr,"!==",Jn,".cur){"),Wt("if(",wr,"){",ur,".bindFramebuffer(",ah,",",wr,".framebuffer);"),_o&&Wt(Ar,".drawBuffersWEBGL(",qn,"[",wr,".colorAttachments.length]);"),Wt("}else{",ur,".bindFramebuffer(",ah,",null);"),_o&&Wt(Ar,".drawBuffersWEBGL(",ln,");"),Wt("}",Jn,".cur=",wr,";"),_r||Wt("}")}function oa(qe,Wt,rr){var _r=qe.shared,Zr=_r.gl,ur=qe.current,Jn=qe.next,Ar=_r.current,dn=_r.next,qn=qe.cond(Ar,".dirty");Di.forEach(function(ln){var wr=xo(ln);if(!(wr in rr.state)){var Xr,Ti;if(wr in Jn){Xr=Jn[wr],Ti=ur[wr];var Ii=Rn(Vi[wr].length,function(Ui){return qn.def(Xr,"[",Ui,"]")});qn(qe.cond(Ii.map(function(Ui,ps){return Ui+"!=="+Ti+"["+ps+"]"}).join("||")).then(Zr,".",Fi[wr],"(",Ii,");",Ii.map(function(Ui,ps){return Ti+"["+ps+"]="+Ui}).join(";"),";"))}else{Xr=qn.def(dn,".",wr);var vi=qe.cond(Xr,"!==",Ar,".",wr);qn(vi),wr in bo?vi(qe.cond(Xr).then(Zr,".enable(",bo[wr],");").else(Zr,".disable(",bo[wr],");"),Ar,".",wr,"=",Xr,";"):vi(Zr,".",Fi[wr],"(",Xr,");",Ar,".",wr,"=",Xr,";")}}}),Object.keys(rr.state).length===0&&qn(Ar,".dirty=false;"),Wt(qn)}function nl(qe,Wt,rr,_r){var Zr=qe.shared,ur=qe.current,Jn=Zr.current,Ar=Zr.gl;Vh(Object.keys(rr)).forEach(function(dn){var qn=rr[dn];if(!(_r&&!_r(qn))){var ln=qn.append(qe,Wt);if(bo[dn]){var wr=bo[dn];Ya(qn)?ln?Wt(Ar,".enable(",wr,");"):Wt(Ar,".disable(",wr,");"):Wt(qe.cond(ln).then(Ar,".enable(",wr,");").else(Ar,".disable(",wr,");")),Wt(Jn,".",dn,"=",ln,";")}else if(Uo(ln)){var Xr=ur[dn];Wt(Ar,".",Fi[dn],"(",ln,");",ln.map(function(Ti,Ii){return Xr+"["+Ii+"]="+Ti}).join(";"),";")}else Wt(Ar,".",Fi[dn],"(",ln,");",Jn,".",dn,"=",ln,";")}})}function gl(qe,Wt){fo&&(qe.instancing=Wt.def(qe.shared.extensions,".angle_instanced_arrays"))}function Gs(qe,Wt,rr,_r,Zr){var ur=qe.shared,Jn=qe.stats,Ar=ur.current,dn=ur.timer,qn=rr.profile;function ln(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var wr,Xr;function Ti(Qo){wr=Wt.def(),Qo(wr,"=",ln(),";"),typeof Zr=="string"?Qo(Jn,".count+=",Zr,";"):Qo(Jn,".count++;"),Yi&&(_r?(Xr=Wt.def(),Qo(Xr,"=",dn,".getNumPendingQueries();")):Qo(dn,".beginQuery(",Jn,");"))}function Ii(Qo){Qo(Jn,".cpuTime+=",ln(),"-",wr,";"),Yi&&(_r?Qo(dn,".pushScopeStats(",Xr,",",dn,".getNumPendingQueries(),",Jn,");"):Qo(dn,".endQuery();"))}function vi(Qo){var bs=Wt.def(Ar,".profile");Wt(Ar,".profile=",Qo,";"),Wt.exit(Ar,".profile=",bs,";")}var Ui;if(qn){if(Ya(qn)){qn.enable?(Ti(Wt),Ii(Wt.exit),vi("true")):vi("false");return}Ui=qn.append(qe,Wt),vi(Ui)}else Ui=Wt.def(Ar,".profile");var ps=qe.block();Ti(ps),Wt("if(",Ui,"){",ps,"}");var zs=qe.block();Ii(zs),Wt.exit("if(",Ui,"){",zs,"}")}function Vs(qe,Wt,rr,_r,Zr){var ur=qe.shared;function Jn(dn){switch(dn){case _h:case lf:case Yd:return 2;case Ql:case sh:case kh:return 3;case cu:case Kd:case Jd:return 4;default:return 1}}function Ar(dn,qn,ln){var wr=ur.gl,Xr=Wt.def(dn,".location"),Ti=Wt.def(ur.attributes,"[",Xr,"]"),Ii=ln.state,vi=ln.buffer,Ui=[ln.x,ln.y,ln.z,ln.w],ps=["buffer","normalized","offset","stride"];function zs(){Wt("if(!",Ti,".buffer){",wr,".enableVertexAttribArray(",Xr,");}");var bs=ln.type,Fs;if(ln.size?Fs=Wt.def(ln.size,"||",qn):Fs=qn,Wt("if(",Ti,".type!==",bs,"||",Ti,".size!==",Fs,"||",ps.map(function(Ha){return Ti+"."+Ha+"!=="+ln[Ha]}).join("||"),"){",wr,".bindBuffer(",Df,",",vi,".buffer);",wr,".vertexAttribPointer(",[Xr,Fs,bs,ln.normalized,ln.stride,ln.offset],");",Ti,".type=",bs,";",Ti,".size=",Fs,";",ps.map(function(Ha){return Ti+"."+Ha+"="+ln[Ha]+";"}).join(""),"}"),fo){var ma=ln.divisor;Wt("if(",Ti,".divisor!==",ma,"){",qe.instancing,".vertexAttribDivisorANGLE(",[Xr,ma],");",Ti,".divisor=",ma,";}")}}function Qo(){Wt("if(",Ti,".buffer){",wr,".disableVertexAttribArray(",Xr,");",Ti,".buffer=null;","}if(",tf.map(function(bs,Fs){return Ti+"."+bs+"!=="+Ui[Fs]}).join("||"),"){",wr,".vertexAttrib4f(",Xr,",",Ui,");",tf.map(function(bs,Fs){return Ti+"."+bs+"="+Ui[Fs]+";"}).join(""),"}")}Ii===el?zs():Ii===jc?Qo():(Wt("if(",Ii,"===",el,"){"),zs(),Wt("}else{"),Qo(),Wt("}"))}_r.forEach(function(dn){var qn=dn.name,ln=rr.attributes[qn],wr;if(ln){if(!Zr(ln))return;wr=ln.append(qe,Wt)}else{if(!Zr(lh))return;var Xr=qe.scopeAttrib(qn);Q.optional(function(){qe.assert(Wt,Xr+".state","missing attribute "+qn)}),wr={},Object.keys(new Vr).forEach(function(Ti){wr[Ti]=Wt.def(Xr,".",Ti)})}Ar(qe.link(dn),Jn(dn.info.type),wr)})}function Oa(qe,Wt,rr,_r,Zr){for(var ur=qe.shared,Jn=ur.gl,Ar,dn=0;dn<_r.length;++dn){var qn=_r[dn],ln=qn.name,wr=qn.info.type,Xr=rr.uniforms[ln],Ti=qe.link(qn),Ii=Ti+".location",vi;if(Xr){if(!Zr(Xr))continue;if(Ya(Xr)){var Ui=Xr.value;if(Q.command(Ui!==null&&typeof Ui!="undefined",'missing uniform "'+ln+'"',qe.commandStr),wr===Lh||wr===Fh){Q.command(typeof Ui=="function"&&(wr===Lh&&(Ui._reglType==="texture2d"||Ui._reglType==="framebuffer")||wr===Fh&&(Ui._reglType==="textureCube"||Ui._reglType==="framebufferCube")),"invalid texture for uniform "+ln,qe.commandStr);var ps=qe.link(Ui._texture||Ui.color[0]._texture);Wt(Jn,".uniform1i(",Ii,",",ps+".bind());"),Wt.exit(ps,".unbind();")}else if(wr===xu||wr===cf||wr===Cu){Q.optional(function(){Q.command(Uo(Ui),"invalid matrix for uniform "+ln,qe.commandStr),Q.command(wr===xu&&Ui.length===4||wr===cf&&Ui.length===9||wr===Cu&&Ui.length===16,"invalid length for matrix uniform "+ln,qe.commandStr)});var zs=qe.global.def("new Float32Array(["+Array.prototype.slice.call(Ui)+"])"),Qo=2;wr===cf?Qo=3:wr===Cu&&(Qo=4),Wt(Jn,".uniformMatrix",Qo,"fv(",Ii,",false,",zs,");")}else{switch(wr){case dd:Q.commandType(Ui,"number","uniform "+ln,qe.commandStr),Ar="1f";break;case _h:Q.command(Uo(Ui)&&Ui.length===2,"uniform "+ln,qe.commandStr),Ar="2f";break;case Ql:Q.command(Uo(Ui)&&Ui.length===3,"uniform "+ln,qe.commandStr),Ar="3f";break;case cu:Q.command(Uo(Ui)&&Ui.length===4,"uniform "+ln,qe.commandStr),Ar="4f";break;case Xd:Q.commandType(Ui,"boolean","uniform "+ln,qe.commandStr),Ar="1i";break;case pd:Q.commandType(Ui,"number","uniform "+ln,qe.commandStr),Ar="1i";break;case Yd:Q.command(Uo(Ui)&&Ui.length===2,"uniform "+ln,qe.commandStr),Ar="2i";break;case lf:Q.command(Uo(Ui)&&Ui.length===2,"uniform "+ln,qe.commandStr),Ar="2i";break;case kh:Q.command(Uo(Ui)&&Ui.length===3,"uniform "+ln,qe.commandStr),Ar="3i";break;case sh:Q.command(Uo(Ui)&&Ui.length===3,"uniform "+ln,qe.commandStr),Ar="3i";break;case Jd:Q.command(Uo(Ui)&&Ui.length===4,"uniform "+ln,qe.commandStr),Ar="4i";break;case Kd:Q.command(Uo(Ui)&&Ui.length===4,"uniform "+ln,qe.commandStr),Ar="4i";break}Wt(Jn,".uniform",Ar,"(",Ii,",",Uo(Ui)?Array.prototype.slice.call(Ui):Ui,");")}continue}else vi=Xr.append(qe,Wt)}else{if(!Zr(lh))continue;vi=Wt.def(ur.uniforms,"[",nn.id(ln),"]")}wr===Lh?(Q(!Array.isArray(vi),"must specify a scalar prop for textures"),Wt("if(",vi,"&&",vi,'._reglType==="framebuffer"){',vi,"=",vi,".color[0];","}")):wr===Fh&&(Q(!Array.isArray(vi),"must specify a scalar prop for cube maps"),Wt("if(",vi,"&&",vi,'._reglType==="framebufferCube"){',vi,"=",vi,".color[0];","}")),Q.optional(function(){function nc(Xc,hm){qe.assert(Wt,Xc,'bad data or missing for uniform "'+ln+'".  '+hm)}function tp(Xc){Q(!Array.isArray(vi),"must not specify an array type for uniform"),nc("typeof "+vi+'==="'+Xc+'"',"invalid type, expected "+Xc)}function _c(Xc,hm){Array.isArray(vi)?Q(vi.length===Xc,"must have length "+Xc):nc(ur.isArrayLike+"("+vi+")&&"+vi+".length==="+Xc,"invalid vector, should have length "+Xc,qe.commandStr)}function I0(Xc){Q(!Array.isArray(vi),"must not specify a value type"),nc("typeof "+vi+'==="function"&&'+vi+'._reglType==="texture'+(Xc===ga?"2d":"Cube")+'"',"invalid texture type",qe.commandStr)}switch(wr){case pd:tp("number");break;case lf:_c(2,"number");break;case sh:_c(3,"number");break;case Kd:_c(4,"number");break;case dd:tp("number");break;case _h:_c(2,"number");break;case Ql:_c(3,"number");break;case cu:_c(4,"number");break;case Xd:tp("boolean");break;case Yd:_c(2,"boolean");break;case kh:_c(3,"boolean");break;case Jd:_c(4,"boolean");break;case xu:_c(4,"number");break;case cf:_c(9,"number");break;case Cu:_c(16,"number");break;case Lh:I0(ga);break;case Fh:I0(A0);break}});var bs=1;switch(wr){case Lh:case Fh:var Fs=Wt.def(vi,"._texture");Wt(Jn,".uniform1i(",Ii,",",Fs,".bind());"),Wt.exit(Fs,".unbind();");continue;case pd:case Xd:Ar="1i";break;case lf:case Yd:Ar="2i",bs=2;break;case sh:case kh:Ar="3i",bs=3;break;case Kd:case Jd:Ar="4i",bs=4;break;case dd:Ar="1f";break;case _h:Ar="2f",bs=2;break;case Ql:Ar="3f",bs=3;break;case cu:Ar="4f",bs=4;break;case xu:Ar="Matrix2fv";break;case cf:Ar="Matrix3fv";break;case Cu:Ar="Matrix4fv";break}if(Wt(Jn,".uniform",Ar,"(",Ii,","),Ar.charAt(0)==="M"){var ma=Math.pow(wr-xu+2,2),Ha=qe.global.def("new Float32Array(",ma,")");Array.isArray(vi)?Wt("false,(",Rn(ma,function(nc){return Ha+"["+nc+"]="+vi[nc]}),",",Ha,")"):Wt("false,(Array.isArray(",vi,")||",vi," instanceof Float32Array)?",vi,":(",Rn(ma,function(nc){return Ha+"["+nc+"]="+vi+"["+nc+"]"}),",",Ha,")")}else bs>1?Wt(Rn(bs,function(nc){return Array.isArray(vi)?vi[nc]:vi+"["+nc+"]"})):(Q(!Array.isArray(vi),"uniform value must not be an array"),Wt(vi));Wt(");")}}function Is(qe,Wt,rr,_r){var Zr=qe.shared,ur=Zr.gl,Jn=Zr.draw,Ar=_r.draw;function dn(){var Fs=Ar.elements,ma,Ha=Wt;return Fs?((Fs.contextDep&&_r.contextDynamic||Fs.propDep)&&(Ha=rr),ma=Fs.append(qe,Ha)):ma=Ha.def(Jn,".",rh),ma&&Ha("if("+ma+")"+ur+".bindBuffer("+Wd+","+ma+".buffer.buffer);"),ma}function qn(){var Fs=Ar.count,ma,Ha=Wt;return Fs?((Fs.contextDep&&_r.contextDynamic||Fs.propDep)&&(Ha=rr),ma=Fs.append(qe,Ha),Q.optional(function(){Fs.MISSING&&qe.assert(Wt,"false","missing vertex count"),Fs.DYNAMIC&&qe.assert(Ha,ma+">=0","missing vertex count")})):(ma=Ha.def(Jn,".",sf),Q.optional(function(){qe.assert(Ha,ma+">=0","missing vertex count")})),ma}var ln=dn();function wr(Fs){var ma=Ar[Fs];return ma?ma.contextDep&&_r.contextDynamic||ma.propDep?ma.append(qe,rr):ma.append(qe,Wt):Wt.def(Jn,".",Fs)}var Xr=wr(of),Ti=wr(ih),Ii=qn();if(typeof Ii=="number"){if(Ii===0)return}else rr("if(",Ii,"){"),rr.exit("}");var vi,Ui;fo&&(vi=wr(Nh),Ui=qe.instancing);var ps=ln+".type",zs=Ar.elements&&Ya(Ar.elements);function Qo(){function Fs(){rr(Ui,".drawElementsInstancedANGLE(",[Xr,Ii,ps,Ti+"<<(("+ps+"-"+Zc+")>>1)",vi],");")}function ma(){rr(Ui,".drawArraysInstancedANGLE(",[Xr,Ti,Ii,vi],");")}ln?zs?Fs():(rr("if(",ln,"){"),Fs(),rr("}else{"),ma(),rr("}")):ma()}function bs(){function Fs(){rr(ur+".drawElements("+[Xr,Ii,ps,Ti+"<<(("+ps+"-"+Zc+")>>1)"]+");")}function ma(){rr(ur+".drawArrays("+[Xr,Ti,Ii]+");")}ln?zs?Fs():(rr("if(",ln,"){"),Fs(),rr("}else{"),ma(),rr("}")):ma()}fo&&(typeof vi!="number"||vi>=0)?typeof vi=="string"?(rr("if(",vi,">0){"),Qo(),rr("}else if(",vi,"<0){"),bs(),rr("}")):Qo():bs()}function Qs(qe,Wt,rr,_r,Zr){var ur=vs(),Jn=ur.proc("body",Zr);return Q.optional(function(){ur.commandStr=Wt.commandStr,ur.command=ur.link(Wt.commandStr)}),fo&&(ur.instancing=Jn.def(ur.shared.extensions,".angle_instanced_arrays")),qe(ur,Jn,rr,_r),ur.compile().body}function sa(qe,Wt,rr,_r){gl(qe,Wt),rr.useVAO?rr.drawVAO?Wt(qe.shared.vao,".setVAO(",rr.drawVAO.append(qe,Wt),");"):Wt(qe.shared.vao,".setVAO(",qe.shared.vao,".targetVAO);"):(Wt(qe.shared.vao,".setVAO(null);"),Vs(qe,Wt,rr,_r.attributes,function(){return!0})),Oa(qe,Wt,rr,_r.uniforms,function(){return!0}),Is(qe,Wt,Wt,rr)}function ml(qe,Wt){var rr=qe.proc("draw",1);gl(qe,rr),qa(qe,rr,Wt.context),El(qe,rr,Wt.framebuffer),oa(qe,rr,Wt),nl(qe,rr,Wt.state),Gs(qe,rr,Wt,!1,!0);var _r=Wt.shader.progVar.append(qe,rr);if(rr(qe.shared.gl,".useProgram(",_r,".program);"),Wt.shader.program)sa(qe,rr,Wt,Wt.shader.program);else{rr(qe.shared.vao,".setVAO(null);");var Zr=qe.global.def("{}"),ur=rr.def(_r,".id"),Jn=rr.def(Zr,"[",ur,"]");rr(qe.cond(Jn).then(Jn,".call(this,a0);").else(Jn,"=",Zr,"[",ur,"]=",qe.link(function(Ar){return Qs(sa,qe,Wt,Ar,1)}),"(",_r,");",Jn,".call(this,a0);"))}Object.keys(Wt.state).length>0&&rr(qe.shared.current,".dirty=true;")}function Gu(qe,Wt,rr,_r){qe.batchId="a1",gl(qe,Wt);function Zr(){return!0}Vs(qe,Wt,rr,_r.attributes,Zr),Oa(qe,Wt,rr,_r.uniforms,Zr),Is(qe,Wt,Wt,rr)}function uf(qe,Wt,rr,_r){gl(qe,Wt);var Zr=rr.contextDep,ur=Wt.def(),Jn="a0",Ar="a1",dn=Wt.def();qe.shared.props=dn,qe.batchId=ur;var qn=qe.scope(),ln=qe.scope();Wt(qn.entry,"for(",ur,"=0;",ur,"<",Ar,";++",ur,"){",dn,"=",Jn,"[",ur,"];",ln,"}",qn.exit);function wr(ps){return ps.contextDep&&Zr||ps.propDep}function Xr(ps){return!wr(ps)}if(rr.needsContext&&qa(qe,ln,rr.context),rr.needsFramebuffer&&El(qe,ln,rr.framebuffer),nl(qe,ln,rr.state,wr),rr.profile&&wr(rr.profile)&&Gs(qe,ln,rr,!1,!0),_r)rr.useVAO?rr.drawVAO?wr(rr.drawVAO)?ln(qe.shared.vao,".setVAO(",rr.drawVAO.append(qe,ln),");"):qn(qe.shared.vao,".setVAO(",rr.drawVAO.append(qe,qn),");"):qn(qe.shared.vao,".setVAO(",qe.shared.vao,".targetVAO);"):(qn(qe.shared.vao,".setVAO(null);"),Vs(qe,qn,rr,_r.attributes,Xr),Vs(qe,ln,rr,_r.attributes,wr)),Oa(qe,qn,rr,_r.uniforms,Xr),Oa(qe,ln,rr,_r.uniforms,wr),Is(qe,qn,ln,rr);else{var Ti=qe.global.def("{}"),Ii=rr.shader.progVar.append(qe,ln),vi=ln.def(Ii,".id"),Ui=ln.def(Ti,"[",vi,"]");ln(qe.shared.gl,".useProgram(",Ii,".program);","if(!",Ui,"){",Ui,"=",Ti,"[",vi,"]=",qe.link(function(ps){return Qs(Gu,qe,rr,ps,2)}),"(",Ii,");}",Ui,".call(this,a0[",ur,"],",ur,");")}}function Mn(qe,Wt){var rr=qe.proc("batch",2);qe.batchId="0",gl(qe,rr);var _r=!1,Zr=!0;Object.keys(Wt.context).forEach(function(Ti){_r=_r||Wt.context[Ti].propDep}),_r||(qa(qe,rr,Wt.context),Zr=!1);var ur=Wt.framebuffer,Jn=!1;ur?(ur.propDep?_r=Jn=!0:ur.contextDep&&_r&&(Jn=!0),Jn||El(qe,rr,ur)):El(qe,rr,null),Wt.state.viewport&&Wt.state.viewport.propDep&&(_r=!0);function Ar(Ti){return Ti.contextDep&&_r||Ti.propDep}oa(qe,rr,Wt),nl(qe,rr,Wt.state,function(Ti){return!Ar(Ti)}),(!Wt.profile||!Ar(Wt.profile))&&Gs(qe,rr,Wt,!1,"a1"),Wt.contextDep=_r,Wt.needsContext=Zr,Wt.needsFramebuffer=Jn;var dn=Wt.shader.progVar;if(dn.contextDep&&_r||dn.propDep)uf(qe,rr,Wt,null);else{var qn=dn.append(qe,rr);if(rr(qe.shared.gl,".useProgram(",qn,".program);"),Wt.shader.program)uf(qe,rr,Wt,Wt.shader.program);else{rr(qe.shared.vao,".setVAO(null);");var ln=qe.global.def("{}"),wr=rr.def(qn,".id"),Xr=rr.def(ln,"[",wr,"]");rr(qe.cond(Xr).then(Xr,".call(this,a0,a1);").else(Xr,"=",ln,"[",wr,"]=",qe.link(function(Ti){return Qs(uf,qe,Wt,Ti,2)}),"(",qn,");",Xr,".call(this,a0,a1);"))}}Object.keys(Wt.state).length>0&&rr(qe.shared.current,".dirty=true;")}function oi(qe,Wt){var rr=qe.proc("scope",3);qe.batchId="a2";var _r=qe.shared,Zr=_r.current;qa(qe,rr,Wt.context),Wt.framebuffer&&Wt.framebuffer.append(qe,rr),Vh(Object.keys(Wt.state)).forEach(function(Jn){var Ar=Wt.state[Jn],dn=Ar.append(qe,rr);Uo(dn)?dn.forEach(function(qn,ln){rr.set(qe.next[Jn],"["+ln+"]",qn)}):rr.set(_r.next,"."+Jn,dn)}),Gs(qe,rr,Wt,!0,!0),[rh,ih,sf,Nh,of].forEach(function(Jn){var Ar=Wt.draw[Jn];Ar&&rr.set(_r.draw,"."+Jn,""+Ar.append(qe,rr))}),Object.keys(Wt.uniforms).forEach(function(Jn){var Ar=Wt.uniforms[Jn].append(qe,rr);Array.isArray(Ar)&&(Ar="["+Ar.join()+"]"),rr.set(_r.uniforms,"["+nn.id(Jn)+"]",Ar)}),Object.keys(Wt.attributes).forEach(function(Jn){var Ar=Wt.attributes[Jn].append(qe,rr),dn=qe.scopeAttrib(Jn);Object.keys(new Vr).forEach(function(qn){rr.set(dn,"."+qn,Ar[qn])})}),Wt.scopeVAO&&rr.set(_r.vao,".targetVAO",Wt.scopeVAO.append(qe,rr));function ur(Jn){var Ar=Wt.shader[Jn];Ar&&rr.set(_r.shader,"."+Jn,Ar.append(qe,rr))}ur(Wc),ur(Dh),Object.keys(Wt.state).length>0&&(rr(Zr,".dirty=true;"),rr.exit(Zr,".dirty=true;")),rr("a1(",qe.shared.context,",a0,",qe.batchId,");")}function Qr(qe){if(!(typeof qe!="object"||Uo(qe))){for(var Wt=Object.keys(qe),rr=0;rr<Wt.length;++rr)if(Qn.isDynamic(qe[Wt[rr]]))return!0;return!1}}function Fo(qe,Wt,rr){var _r=Wt.static[rr];if(!_r||!Qr(_r))return;var Zr=qe.global,ur=Object.keys(_r),Jn=!1,Ar=!1,dn=!1,qn=qe.global.def("{}");ur.forEach(function(wr){var Xr=_r[wr];if(Qn.isDynamic(Xr)){typeof Xr=="function"&&(Xr=_r[wr]=Qn.unbox(Xr));var Ti=hl(Xr,null);Jn=Jn||Ti.thisDep,dn=dn||Ti.propDep,Ar=Ar||Ti.contextDep}else{switch(Zr(qn,".",wr,"="),typeof Xr){case"number":Zr(Xr);break;case"string":Zr('"',Xr,'"');break;case"object":Array.isArray(Xr)&&Zr("[",Xr.join(),"]");break;default:Zr(qe.link(Xr));break}Zr(";")}});function ln(wr,Xr){ur.forEach(function(Ti){var Ii=_r[Ti];if(Qn.isDynamic(Ii)){var vi=wr.invoke(Xr,Ii);Xr(qn,".",Ti,"=",vi,";")}})}Wt.dynamic[rr]=new Qn.DynamicVariable(cd,{thisDep:Jn,contextDep:Ar,propDep:dn,ref:qn,append:ln}),delete Wt.static[rr]}function Xs(qe,Wt,rr,_r,Zr){var ur=vs();ur.stats=ur.link(Zr),Object.keys(Wt.static).forEach(function(Ar){Fo(ur,Wt,Ar)}),Ud.forEach(function(Ar){Fo(ur,qe,Ar)});var Jn=$a(qe,Wt,rr,_r,ur);return ml(ur,Jn),oi(ur,Jn),Mn(ur,Jn),w(ur.compile(),{destroy:function(){Jn.shader.program.destroy()}})}return{next:Oo,current:Vi,procs:function(){var qe=vs(),Wt=qe.proc("poll"),rr=qe.proc("refresh"),_r=qe.block();Wt(_r),rr(_r);var Zr=qe.shared,ur=Zr.gl,Jn=Zr.next,Ar=Zr.current;_r(Ar,".dirty=false;"),El(qe,Wt),El(qe,rr,null,!0);var dn;fo&&(dn=qe.link(fo)),Bn.oes_vertex_array_object&&rr(qe.link(Bn.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var qn=0;qn<ri.maxAttributes;++qn){var ln=rr.def(Zr.attributes,"[",qn,"]"),wr=qe.cond(ln,".buffer");wr.then(ur,".enableVertexAttribArray(",qn,");",ur,".bindBuffer(",Df,",",ln,".buffer.buffer);",ur,".vertexAttribPointer(",qn,",",ln,".size,",ln,".type,",ln,".normalized,",ln,".stride,",ln,".offset);").else(ur,".disableVertexAttribArray(",qn,");",ur,".vertexAttrib4f(",qn,",",ln,".x,",ln,".y,",ln,".z,",ln,".w);",ln,".buffer=null;"),rr(wr),fo&&rr(dn,".vertexAttribDivisorANGLE(",qn,",",ln,".divisor);")}return rr(qe.shared.vao,".currentVAO=null;",qe.shared.vao,".setVAO(",qe.shared.vao,".targetVAO);"),Object.keys(bo).forEach(function(Xr){var Ti=bo[Xr],Ii=_r.def(Jn,".",Xr),vi=qe.block();vi("if(",Ii,"){",ur,".enable(",Ti,")}else{",ur,".disable(",Ti,")}",Ar,".",Xr,"=",Ii,";"),rr(vi),Wt("if(",Ii,"!==",Ar,".",Xr,"){",vi,"}")}),Object.keys(Fi).forEach(function(Xr){var Ti=Fi[Xr],Ii=Vi[Xr],vi,Ui,ps=qe.block();if(ps(ur,".",Ti,"("),Uo(Ii)){var zs=Ii.length;vi=qe.global.def(Jn,".",Xr),Ui=qe.global.def(Ar,".",Xr),ps(Rn(zs,function(Qo){return vi+"["+Qo+"]"}),");",Rn(zs,function(Qo){return Ui+"["+Qo+"]="+vi+"["+Qo+"];"}).join("")),Wt("if(",Rn(zs,function(Qo){return vi+"["+Qo+"]!=="+Ui+"["+Qo+"]"}).join("||"),"){",ps,"}")}else vi=_r.def(Jn,".",Xr),Ui=_r.def(Ar,".",Xr),ps(vi,");",Ar,".",Xr,"=",vi,";"),Wt("if(",vi,"!==",Ui,"){",ps,"}");rr(ps)}),qe.compile()}(),compile:Xs}}function Yv(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var um=34918,fm=34919,Qd=35007,O0=function(Le,nn){if(!nn.ext_disjoint_timer_query)return null;var Bn=[];function ri(){return Bn.pop()||nn.ext_disjoint_timer_query.createQueryEXT()}function Ur(fo){Bn.push(fo)}var qr=[];function hi(fo){var _o=ri();nn.ext_disjoint_timer_query.beginQueryEXT(Qd,_o),qr.push(_o),Yi(qr.length-1,qr.length,fo)}function ji(){nn.ext_disjoint_timer_query.endQueryEXT(Qd)}function lo(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var no=[];function oo(){return no.pop()||new lo}function Zi(fo){no.push(fo)}var Mo=[];function Yi(fo,_o,Vi){var Oo=oo();Oo.startQueryIndex=fo,Oo.endQueryIndex=_o,Oo.sum=0,Oo.stats=Vi,Mo.push(Oo)}var yo=[],Vr=[];function pi(){var fo,_o,Vi=qr.length;if(Vi!==0){Vr.length=Math.max(Vr.length,Vi+1),yo.length=Math.max(yo.length,Vi+1),yo[0]=0,Vr[0]=0;var Oo=0;for(fo=0,_o=0;_o<qr.length;++_o){var Di=qr[_o];nn.ext_disjoint_timer_query.getQueryObjectEXT(Di,fm)?(Oo+=nn.ext_disjoint_timer_query.getQueryObjectEXT(Di,um),Ur(Di)):qr[fo++]=Di,yo[_o+1]=Oo,Vr[_o+1]=fo}for(qr.length=fo,fo=0,_o=0;_o<Mo.length;++_o){var bo=Mo[_o],Fi=bo.startQueryIndex,xo=bo.endQueryIndex;bo.sum+=yo[xo]-yo[Fi];var Es=Vr[Fi],Bs=Vr[xo];Bs===Es?(bo.stats.gpuTime+=bo.sum/1e6,Zi(bo)):(bo.startQueryIndex=Es,bo.endQueryIndex=Bs,Mo[fo++]=bo)}Mo.length=fo}}return{beginQuery:hi,endQuery:ji,pushScopeStats:Yi,update:pi,getNumPendingQueries:function(){return qr.length},clear:function(){Bn.push.apply(Bn,qr);for(var fo=0;fo<Bn.length;fo++)nn.ext_disjoint_timer_query.deleteQueryEXT(Bn[fo]);qr.length=0,Bn.length=0},restore:function(){qr.length=0,Bn.length=0}}},ep=16384,ch=256,Kc=1024,Qp=34962,Zh="webglcontextlost",zu="webglcontextrestored",md=1,Jv=2,jh=3;function tc(Le,nn){for(var Bn=0;Bn<Le.length;++Bn)if(Le[Bn]===nn)return Bn;return-1}function Uh(Le){var nn=_t(Le);if(!nn)return null;var Bn=nn.gl,ri=Bn.getContextAttributes(),Ur=Bn.isContextLost(),qr=Ut(Bn,nn);if(!qr)return null;var hi=kn(),ji=Yv(),lo=qr.extensions,no=O0(Bn,lo),oo=mn(),Zi=Bn.drawingBufferWidth,Mo=Bn.drawingBufferHeight,Yi={tick:0,time:0,viewportWidth:Zi,viewportHeight:Mo,framebufferWidth:Zi,framebufferHeight:Mo,drawingBufferWidth:Zi,drawingBufferHeight:Mo,pixelRatio:nn.pixelRatio},yo={},Vr={elements:null,primitive:4,count:-1,offset:0,instances:-1},pi=Pr(Bn,lo),fo=to(Bn,ji,nn,Vi),_o=Ta(Bn,lo,pi,ji,fo);function Vi(Is){return _o.destroyBuffer(Is)}var Oo=zr(Bn,lo,fo,ji),Di=ds(Bn,hi,ji,nn),bo=em(Bn,lo,pi,function(){Es.procs.poll()},Yi,ji,nn),Fi=Jf(Bn,lo,pi,ji,nn),xo=jp(Bn,lo,pi,bo,Fi,ji),Es=qp(Bn,hi,lo,pi,fo,Oo,bo,xo,yo,_o,Di,Vr,Yi,no,nn),Bs=Nu(Bn,xo,Es.procs.poll,Yi,ri,lo,pi),So=Es.next,ho=Bn.canvas,Bi=[],vs=[],Wo=[],Jo=[nn.onDestroy],Ys=null;function ys(){if(Bi.length===0){no&&no.update(),Ys=null;return}Ys=it.next(ys),nl();for(var Is=Bi.length-1;Is>=0;--Is){var Qs=Bi[Is];Qs&&Qs(Yi,null,0)}Bn.flush(),no&&no.update()}function js(){!Ys&&Bi.length>0&&(Ys=it.next(ys))}function ua(){Ys&&(it.cancel(ys),Ys=null)}function dl(Is){Is.preventDefault(),Ur=!0,ua(),vs.forEach(function(Qs){Qs()})}function ia(Is){Bn.getError(),Ur=!1,qr.restore(),Di.restore(),fo.restore(),bo.restore(),Fi.restore(),xo.restore(),_o.restore(),no&&no.restore(),Es.procs.refresh(),js(),Wo.forEach(function(Qs){Qs()})}ho&&(ho.addEventListener(Zh,dl,!1),ho.addEventListener(zu,ia,!1));function As(){Bi.length=0,ua(),ho&&(ho.removeEventListener(Zh,dl),ho.removeEventListener(zu,ia)),Di.clear(),xo.clear(),Fi.clear(),bo.clear(),Oo.clear(),fo.clear(),_o.clear(),no&&no.clear(),Jo.forEach(function(Is){Is()})}function pl(Is){Q(!!Is,"invalid args to regl({...})"),Q.type(Is,"object","invalid args to regl({...})");function Qs(Zr){var ur=w({},Zr);delete ur.uniforms,delete ur.attributes,delete ur.context,delete ur.vao,"stencil"in ur&&ur.stencil.op&&(ur.stencil.opBack=ur.stencil.opFront=ur.stencil.op,delete ur.stencil.op);function Jn(Ar){if(Ar in ur){var dn=ur[Ar];delete ur[Ar],Object.keys(dn).forEach(function(qn){ur[Ar+"."+qn]=dn[qn]})}}return Jn("blend"),Jn("depth"),Jn("cull"),Jn("stencil"),Jn("polygonOffset"),Jn("scissor"),Jn("sample"),"vao"in Zr&&(ur.vao=Zr.vao),ur}function sa(Zr,ur){var Jn={},Ar={};return Object.keys(Zr).forEach(function(dn){var qn=Zr[dn];if(Qn.isDynamic(qn)){Ar[dn]=Qn.unbox(qn,dn);return}else if(ur&&Array.isArray(qn)){for(var ln=0;ln<qn.length;++ln)if(Qn.isDynamic(qn[ln])){Ar[dn]=Qn.unbox(qn,dn);return}}Jn[dn]=qn}),{dynamic:Ar,static:Jn}}var ml=sa(Is.context||{},!0),Gu=sa(Is.uniforms||{},!0),uf=sa(Is.attributes||{},!1),Mn=sa(Qs(Is),!1),oi={gpuTime:0,cpuTime:0,count:0},Qr=Es.compile(Mn,uf,Gu,ml,oi),Fo=Qr.draw,Xs=Qr.batch,qe=Qr.scope,Wt=[];function rr(Zr){for(;Wt.length<Zr;)Wt.push(null);return Wt}function _r(Zr,ur){var Jn;if(Ur&&Q.raise("context lost"),typeof Zr=="function")return qe.call(this,null,Zr,0);if(typeof ur=="function")if(typeof Zr=="number")for(Jn=0;Jn<Zr;++Jn)qe.call(this,null,ur,Jn);else if(Array.isArray(Zr))for(Jn=0;Jn<Zr.length;++Jn)qe.call(this,Zr[Jn],ur,Jn);else return qe.call(this,Zr,ur,0);else if(typeof Zr=="number"){if(Zr>0)return Xs.call(this,rr(Zr|0),Zr|0)}else if(Array.isArray(Zr)){if(Zr.length)return Xs.call(this,Zr,Zr.length)}else return Fo.call(this,Zr)}return w(_r,{stats:oi,destroy:function(){Qr.destroy()}})}var Pa=xo.setFBO=pl({framebuffer:Qn.define.call(null,md,"framebuffer")});function $a(Is,Qs){var sa=0;Es.procs.poll();var ml=Qs.color;ml&&(Bn.clearColor(+ml[0]||0,+ml[1]||0,+ml[2]||0,+ml[3]||0),sa|=ep),"depth"in Qs&&(Bn.clearDepth(+Qs.depth),sa|=ch),"stencil"in Qs&&(Bn.clearStencil(Qs.stencil|0),sa|=Kc),Q(!!sa,"called regl.clear with no buffer specified"),Bn.clear(sa)}function qa(Is){if(Q(typeof Is=="object"&&Is,"regl.clear() takes an object as input"),"framebuffer"in Is)if(Is.framebuffer&&Is.framebuffer_reglType==="framebufferCube")for(var Qs=0;Qs<6;++Qs)Pa(w({framebuffer:Is.framebuffer.faces[Qs]},Is),$a);else Pa(Is,$a);else $a(null,Is)}function El(Is){Q.type(Is,"function","regl.frame() callback must be a function"),Bi.push(Is);function Qs(){var sa=tc(Bi,Is);Q(sa>=0,"cannot cancel a frame twice");function ml(){var Gu=tc(Bi,ml);Bi[Gu]=Bi[Bi.length-1],Bi.length-=1,Bi.length<=0&&ua()}Bi[sa]=ml}return js(),{cancel:Qs}}function oa(){var Is=So.viewport,Qs=So.scissor_box;Is[0]=Is[1]=Qs[0]=Qs[1]=0,Yi.viewportWidth=Yi.framebufferWidth=Yi.drawingBufferWidth=Is[2]=Qs[2]=Bn.drawingBufferWidth,Yi.viewportHeight=Yi.framebufferHeight=Yi.drawingBufferHeight=Is[3]=Qs[3]=Bn.drawingBufferHeight}function nl(){Yi.tick+=1,Yi.time=Gs(),oa(),Es.procs.poll()}function gl(){bo.refresh(),oa(),Es.procs.refresh(),no&&no.update()}function Gs(){return(mn()-oo)/1e3}gl();function Vs(Is,Qs){Q.type(Qs,"function","listener callback must be a function");var sa;switch(Is){case"frame":return El(Qs);case"lost":sa=vs;break;case"restore":sa=Wo;break;case"destroy":sa=Jo;break;default:Q.raise("invalid event, must be one of frame,lost,restore,destroy")}return sa.push(Qs),{cancel:function(){for(var ml=0;ml<sa.length;++ml)if(sa[ml]===Qs){sa[ml]=sa[sa.length-1],sa.pop();return}}}}var Oa=w(pl,{clear:qa,prop:Qn.define.bind(null,md),context:Qn.define.bind(null,Jv),this:Qn.define.bind(null,jh),draw:pl({}),buffer:function(Is){return fo.create(Is,Qp,!1,!1)},elements:function(Is){return Oo.create(Is,!1)},texture:bo.create2D,cube:bo.createCube,renderbuffer:Fi.create,framebuffer:xo.create,framebufferCube:xo.createCube,vao:_o.createVAO,attributes:ri,frame:El,on:Vs,limits:pi,hasExtension:function(Is){return pi.extensions.indexOf(Is.toLowerCase())>=0},read:Bs,destroy:As,_gl:Bn,_refresh:gl,poll:function(){nl(),no&&no.update()},now:Gs,stats:ji});return nn.onDone(null,Oa),Oa}return Uh})},17061:function(Ne,te,w){var B=w(18698).default;function M(){"use strict";Ne.exports=M=function(){return R},Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports;var j,R={},k=Object.prototype,F=k.hasOwnProperty,H=Object.defineProperty||function(Mt,yt,Et){Mt[yt]=Et.value},I=typeof Symbol=="function"?Symbol:{},ee=I.iterator||"@@iterator",ae=I.asyncIterator||"@@asyncIterator",ue=I.toStringTag||"@@toStringTag";function re(Mt,yt,Et){return Object.defineProperty(Mt,yt,{value:Et,enumerable:!0,configurable:!0,writable:!0}),Mt[yt]}try{re({},"")}catch(Mt){re=function(Et,$e,$t){return Et[$e]=$t}}function ge(Mt,yt,Et,$e){var $t=yt&&yt.prototype instanceof at?yt:at,Jt=Object.create($t.prototype),tn=new pr($e||[]);return H(Jt,"_invoke",{value:Ye(Mt,Et,tn)}),Jt}function Ze(Mt,yt,Et){try{return{type:"normal",arg:Mt.call(yt,Et)}}catch($e){return{type:"throw",arg:$e}}}R.wrap=ge;var fe="suspendedStart",Ce="suspendedYield",Ae="executing",Pe="completed",ie={};function at(){}function mt(){}function vt(){}var Vt={};re(Vt,ee,function(){return this});var U=Object.getPrototypeOf,tt=U&&U(U(hr([])));tt&&tt!==k&&F.call(tt,ee)&&(Vt=tt);var ut=vt.prototype=at.prototype=Object.create(Vt);function vn(Mt){["next","throw","return"].forEach(function(yt){re(Mt,yt,function(Et){return this._invoke(yt,Et)})})}function ft(Mt,yt){function Et($t,Jt,tn,ir){var Or=Ze(Mt[$t],Mt,Jt);if(Or.type!=="throw"){var Fr=Or.arg,lr=Fr.value;return lr&&B(lr)=="object"&&F.call(lr,"__await")?yt.resolve(lr.__await).then(function(Yr){Et("next",Yr,tn,ir)},function(Yr){Et("throw",Yr,tn,ir)}):yt.resolve(lr).then(function(Yr){Fr.value=Yr,tn(Fr)},function(Yr){return Et("throw",Yr,tn,ir)})}ir(Or.arg)}var $e;H(this,"_invoke",{value:function(Jt,tn){function ir(){return new yt(function(Or,Fr){Et(Jt,tn,Or,Fr)})}return $e=$e?$e.then(ir,ir):ir()}})}function Ye(Mt,yt,Et){var $e=fe;return function($t,Jt){if($e===Ae)throw Error("Generator is already running");if($e===Pe){if($t==="throw")throw Jt;return{value:j,done:!0}}for(Et.method=$t,Et.arg=Jt;;){var tn=Et.delegate;if(tn){var ir=Cn(tn,Et);if(ir){if(ir===ie)continue;return ir}}if(Et.method==="next")Et.sent=Et._sent=Et.arg;else if(Et.method==="throw"){if($e===fe)throw $e=Pe,Et.arg;Et.dispatchException(Et.arg)}else Et.method==="return"&&Et.abrupt("return",Et.arg);$e=Ae;var Or=Ze(Mt,yt,Et);if(Or.type==="normal"){if($e=Et.done?Pe:Ce,Or.arg===ie)continue;return{value:Or.arg,done:Et.done}}Or.type==="throw"&&($e=Pe,Et.method="throw",Et.arg=Or.arg)}}}function Cn(Mt,yt){var Et=yt.method,$e=Mt.iterator[Et];if($e===j)return yt.delegate=null,Et==="throw"&&Mt.iterator.return&&(yt.method="return",yt.arg=j,Cn(Mt,yt),yt.method==="throw")||Et!=="return"&&(yt.method="throw",yt.arg=new TypeError("The iterator does not provide a '"+Et+"' method")),ie;var $t=Ze($e,Mt.iterator,yt.arg);if($t.type==="throw")return yt.method="throw",yt.arg=$t.arg,yt.delegate=null,ie;var Jt=$t.arg;return Jt?Jt.done?(yt[Mt.resultName]=Jt.value,yt.next=Mt.nextLoc,yt.method!=="return"&&(yt.method="next",yt.arg=j),yt.delegate=null,ie):Jt:(yt.method="throw",yt.arg=new TypeError("iterator result is not an object"),yt.delegate=null,ie)}function cn(Mt){var yt={tryLoc:Mt[0]};1 in Mt&&(yt.catchLoc=Mt[1]),2 in Mt&&(yt.finallyLoc=Mt[2],yt.afterLoc=Mt[3]),this.tryEntries.push(yt)}function mr(Mt){var yt=Mt.completion||{};yt.type="normal",delete yt.arg,Mt.completion=yt}function pr(Mt){this.tryEntries=[{tryLoc:"root"}],Mt.forEach(cn,this),this.reset(!0)}function hr(Mt){if(Mt||Mt===""){var yt=Mt[ee];if(yt)return yt.call(Mt);if(typeof Mt.next=="function")return Mt;if(!isNaN(Mt.length)){var Et=-1,$e=function $t(){for(;++Et<Mt.length;)if(F.call(Mt,Et))return $t.value=Mt[Et],$t.done=!1,$t;return $t.value=j,$t.done=!0,$t};return $e.next=$e}}throw new TypeError(B(Mt)+" is not iterable")}return mt.prototype=vt,H(ut,"constructor",{value:vt,configurable:!0}),H(vt,"constructor",{value:mt,configurable:!0}),mt.displayName=re(vt,ue,"GeneratorFunction"),R.isGeneratorFunction=function(Mt){var yt=typeof Mt=="function"&&Mt.constructor;return!!yt&&(yt===mt||(yt.displayName||yt.name)==="GeneratorFunction")},R.mark=function(Mt){return Object.setPrototypeOf?Object.setPrototypeOf(Mt,vt):(Mt.__proto__=vt,re(Mt,ue,"GeneratorFunction")),Mt.prototype=Object.create(ut),Mt},R.awrap=function(Mt){return{__await:Mt}},vn(ft.prototype),re(ft.prototype,ae,function(){return this}),R.AsyncIterator=ft,R.async=function(Mt,yt,Et,$e,$t){$t===void 0&&($t=Promise);var Jt=new ft(ge(Mt,yt,Et,$e),$t);return R.isGeneratorFunction(yt)?Jt:Jt.next().then(function(tn){return tn.done?tn.value:Jt.next()})},vn(ut),re(ut,ue,"Generator"),re(ut,ee,function(){return this}),re(ut,"toString",function(){return"[object Generator]"}),R.keys=function(Mt){var yt=Object(Mt),Et=[];for(var $e in yt)Et.push($e);return Et.reverse(),function $t(){for(;Et.length;){var Jt=Et.pop();if(Jt in yt)return $t.value=Jt,$t.done=!1,$t}return $t.done=!0,$t}},R.values=hr,pr.prototype={constructor:pr,reset:function(yt){if(this.prev=0,this.next=0,this.sent=this._sent=j,this.done=!1,this.delegate=null,this.method="next",this.arg=j,this.tryEntries.forEach(mr),!yt)for(var Et in this)Et.charAt(0)==="t"&&F.call(this,Et)&&!isNaN(+Et.slice(1))&&(this[Et]=j)},stop:function(){this.done=!0;var yt=this.tryEntries[0].completion;if(yt.type==="throw")throw yt.arg;return this.rval},dispatchException:function(yt){if(this.done)throw yt;var Et=this;function $e(Fr,lr){return tn.type="throw",tn.arg=yt,Et.next=Fr,lr&&(Et.method="next",Et.arg=j),!!lr}for(var $t=this.tryEntries.length-1;$t>=0;--$t){var Jt=this.tryEntries[$t],tn=Jt.completion;if(Jt.tryLoc==="root")return $e("end");if(Jt.tryLoc<=this.prev){var ir=F.call(Jt,"catchLoc"),Or=F.call(Jt,"finallyLoc");if(ir&&Or){if(this.prev<Jt.catchLoc)return $e(Jt.catchLoc,!0);if(this.prev<Jt.finallyLoc)return $e(Jt.finallyLoc)}else if(ir){if(this.prev<Jt.catchLoc)return $e(Jt.catchLoc,!0)}else{if(!Or)throw Error("try statement without catch or finally");if(this.prev<Jt.finallyLoc)return $e(Jt.finallyLoc)}}}},abrupt:function(yt,Et){for(var $e=this.tryEntries.length-1;$e>=0;--$e){var $t=this.tryEntries[$e];if($t.tryLoc<=this.prev&&F.call($t,"finallyLoc")&&this.prev<$t.finallyLoc){var Jt=$t;break}}Jt&&(yt==="break"||yt==="continue")&&Jt.tryLoc<=Et&&Et<=Jt.finallyLoc&&(Jt=null);var tn=Jt?Jt.completion:{};return tn.type=yt,tn.arg=Et,Jt?(this.method="next",this.next=Jt.finallyLoc,ie):this.complete(tn)},complete:function(yt,Et){if(yt.type==="throw")throw yt.arg;return yt.type==="break"||yt.type==="continue"?this.next=yt.arg:yt.type==="return"?(this.rval=this.arg=yt.arg,this.method="return",this.next="end"):yt.type==="normal"&&Et&&(this.next=Et),ie},finish:function(yt){for(var Et=this.tryEntries.length-1;Et>=0;--Et){var $e=this.tryEntries[Et];if($e.finallyLoc===yt)return this.complete($e.completion,$e.afterLoc),mr($e),ie}},catch:function(yt){for(var Et=this.tryEntries.length-1;Et>=0;--Et){var $e=this.tryEntries[Et];if($e.tryLoc===yt){var $t=$e.completion;if($t.type==="throw"){var Jt=$t.arg;mr($e)}return Jt}}throw Error("illegal catch attempt")},delegateYield:function(yt,Et,$e){return this.delegate={iterator:hr(yt),resultName:Et,nextLoc:$e},this.method==="next"&&(this.arg=j),ie}},R}Ne.exports=M,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},18698:function(Ne){function te(w){"@babel/helpers - typeof";return Ne.exports=te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports,te(w)}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},64687:function(Ne,te,w){var B=w(17061)();Ne.exports=B;try{regeneratorRuntime=B}catch(M){typeof globalThis=="object"?globalThis.regeneratorRuntime=B:Function("r","regeneratorRuntime = r")(B)}},54447:function(Ne,te,w){var B=w(90267);function M(j){var R,k;function F(I,ee){try{var ae=j[I](ee),ue=ae.value,re=ue instanceof B;Promise.resolve(re?ue.v:ue).then(function(ge){if(re){var Ze=I==="return"?"return":"next";if(!ue.k||ge.done)return F(Ze,ge);ge=j[Ze](ge).value}H(ae.done?"return":"normal",ge)},function(ge){F("throw",ge)})}catch(ge){H("throw",ge)}}function H(I,ee){switch(I){case"return":R.resolve({value:ee,done:!0});break;case"throw":R.reject(ee);break;default:R.resolve({value:ee,done:!1})}(R=R.next)?F(R.key,R.arg):k=null}this._invoke=function(I,ee){return new Promise(function(ae,ue){var re={key:I,arg:ee,resolve:ae,reject:ue,next:null};k?k=k.next=re:(R=k=re,F(I,ee))})},typeof j.return!="function"&&(this.return=void 0)}M.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},M.prototype.next=function(j){return this._invoke("next",j)},M.prototype.throw=function(j){return this._invoke("throw",j)},M.prototype.return=function(j){return this._invoke("return",j)},Ne.exports=M,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},90267:function(Ne){function te(w,B){this.v=w,this.k=B}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},96446:function(Ne,te,w){var B=w(37923);function M(j){if(Array.isArray(j))return B(j)}Ne.exports=M,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},25098:function(Ne){function te(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},31625:function(Ne,te,w){var B=w(90267);function M(j){var R={},k=!1;function F(H,I){return k=!0,I=new Promise(function(ee){ee(j[H](I))}),{done:!1,value:new B(I,1)}}return R[typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator"]=function(){return this},R.next=function(H){return k?(k=!1,H):F("next",H)},typeof j.throw=="function"&&(R.throw=function(H){if(k)throw k=!1,H;return F("throw",H)}),typeof j.return=="function"&&(R.return=function(H){return k?(k=!1,H):F("return",H)}),R}Ne.exports=M,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},44987:function(Ne){function te(B){var M,j,R,k=2;for(typeof Symbol!="undefined"&&(j=Symbol.asyncIterator,R=Symbol.iterator);k--;){if(j&&(M=B[j])!=null)return M.call(B);if(R&&(M=B[R])!=null)return new w(M.call(B));j="@@asyncIterator",R="@@iterator"}throw new TypeError("Object is not async iterable")}function w(B){function M(j){if(Object(j)!==j)return Promise.reject(new TypeError(j+" is not an object."));var R=j.done;return Promise.resolve(j.value).then(function(k){return{value:k,done:R}})}return w=function(R){this.s=R,this.n=R.next},w.prototype={s:null,n:null,next:function(){return M(this.n.apply(this.s,arguments))},return:function(R){var k=this.s.return;return k===void 0?Promise.resolve({value:R,done:!0}):M(k.apply(this.s,arguments))},throw:function(R){var k=this.s.return;return k===void 0?Promise.reject(R):M(k.apply(this.s,arguments))}},new w(B)}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},77262:function(Ne,te,w){var B=w(90267);function M(j){return new B(j,0)}Ne.exports=M,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},97235:function(Ne){function te(w,B){if(B.has(w))throw new TypeError("Cannot initialize the same private elements twice on an object")}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},28771:function(Ne){function te(w,B){return B.get?B.get.call(w):B.value}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},40008:function(Ne){function te(w,B,M){if(B.set)B.set.call(w,M);else{if(!B.writable)throw new TypeError("attempted to set read only private field");B.value=M}}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},56194:function(Ne){function te(w,B,M){if(!B.has(w))throw new TypeError("attempted to "+M+" private field on non-instance");return B.get(w)}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},33862:function(Ne,te,w){var B=w(28771),M=w(56194);function j(R,k){var F=M(R,k,"get");return B(R,F)}Ne.exports=j,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},29777:function(Ne,te,w){var B=w(97235);function M(j,R,k){B(j,R),R.set(j,k)}Ne.exports=M,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},25457:function(Ne,te,w){var B=w(40008),M=w(56194);function j(R,k,F){var H=M(R,k,"set");return B(R,H,F),F}Ne.exports=j,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},74978:function(Ne){function te(w,B,M){if(!B.has(w))throw new TypeError("attempted to get private field on non-instance");return M}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},80363:function(Ne,te,w){var B=w(97235);function M(j,R){B(j,R),R.add(j)}Ne.exports=M,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},64599:function(Ne,te,w){var B=w(96263);function M(j,R){var k=typeof Symbol!="undefined"&&j[Symbol.iterator]||j["@@iterator"];if(!k){if(Array.isArray(j)||(k=B(j))||R&&j&&typeof j.length=="number"){k&&(j=k);var F=0,H=function(){};return{s:H,n:function(){return F>=j.length?{done:!0}:{done:!1,value:j[F++]}},e:function(re){throw re},f:H}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I=!0,ee=!1,ae;return{s:function(){k=k.call(j)},n:function(){var re=k.next();return I=re.done,re},e:function(re){ee=!0,ae=re},f:function(){try{!I&&k.return!=null&&k.return()}finally{if(ee)throw ae}}}}Ne.exports=M,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},26037:function(Ne,te,w){var B=w(48374),M=w(21771),j=w(73408);function R(k){var F=M();return function(){var I=B(k),ee;if(F){var ae=B(this).constructor;ee=Reflect.construct(I,arguments,ae)}else ee=I.apply(this,arguments);return j(this,ee)}}Ne.exports=R,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},28785:function(Ne,te,w){var B=w(70426);function M(){return typeof Reflect!="undefined"&&Reflect.get?(Ne.exports=M=Reflect.get.bind(),Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports):(Ne.exports=M=function(R,k,F){var H=B(R,k);if(H){var I=Object.getOwnPropertyDescriptor(H,k);return I.get?I.get.call(arguments.length<3?R:F):I.value}},Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports),M.apply(this,arguments)}Ne.exports=M,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},48374:function(Ne){function te(w){return Ne.exports=te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports,te(w)}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},31996:function(Ne,te,w){var B=w(21314);function M(j,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(R&&R.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),R&&B(j,R)}Ne.exports=M,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},21771:function(Ne){function te(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(w){return!1}}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},96936:function(Ne){function te(w){if(typeof Symbol!="undefined"&&w[Symbol.iterator]!=null||w["@@iterator"]!=null)return Array.from(w)}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},88619:function(Ne){function te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},13769:function(Ne,te,w){var B=w(48541);function M(j,R){if(j==null)return{};var k=B(j,R),F,H;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(j);for(H=0;H<I.length;H++)F=I[H],!(R.indexOf(F)>=0)&&Object.prototype.propertyIsEnumerable.call(j,F)&&(k[F]=j[F])}return k}Ne.exports=M,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},48541:function(Ne){function te(w,B){if(w==null)return{};var M={},j=Object.keys(w),R,k;for(k=0;k<j.length;k++)R=j[k],!(B.indexOf(R)>=0)&&(M[R]=w[R]);return M}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},73408:function(Ne,te,w){var B=w(52677).default,M=w(25098);function j(R,k){if(k&&(B(k)==="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(R)}Ne.exports=j,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},21314:function(Ne){function te(w,B){return Ne.exports=te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,R){return j.__proto__=R,j},Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports,te(w,B)}Ne.exports=te,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},70426:function(Ne,te,w){var B=w(48374);function M(j,R){for(;!Object.prototype.hasOwnProperty.call(j,R)&&(j=B(j),j!==null););return j}Ne.exports=M,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},61227:function(Ne,te,w){var B=w(82187),M=w(96936),j=w(96263),R=w(69094);function k(F){return B(F)||M(F)||j(F)||R()}Ne.exports=k,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},19632:function(Ne,te,w){var B=w(96446),M=w(96936),j=w(96263),R=w(88619);function k(F){return B(F)||M(F)||j(F)||R()}Ne.exports=k,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},93938:function(Ne,te,w){var B=w(54447);function M(j){return function(){return new B(j.apply(this,arguments))}}Ne.exports=M,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},15861:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return M}});function B(j,R,k,F,H,I,ee){try{var ae=j[I](ee),ue=ae.value}catch(re){return void k(re)}ae.done?R(ue):Promise.resolve(ue).then(F,H)}function M(j){return function(){var R=this,k=arguments;return new Promise(function(F,H){var I=j.apply(R,k);function ee(ue){B(I,F,H,ee,ae,"next",ue)}function ae(ue){B(I,F,H,ee,ae,"throw",ue)}ee(void 0)})}}},74165:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return M}});var B=w(71002);function M(){"use strict";M=function(){return R};var j,R={},k=Object.prototype,F=k.hasOwnProperty,H=Object.defineProperty||function(Mt,yt,Et){Mt[yt]=Et.value},I=typeof Symbol=="function"?Symbol:{},ee=I.iterator||"@@iterator",ae=I.asyncIterator||"@@asyncIterator",ue=I.toStringTag||"@@toStringTag";function re(Mt,yt,Et){return Object.defineProperty(Mt,yt,{value:Et,enumerable:!0,configurable:!0,writable:!0}),Mt[yt]}try{re({},"")}catch(Mt){re=function(Et,$e,$t){return Et[$e]=$t}}function ge(Mt,yt,Et,$e){var $t=yt&&yt.prototype instanceof at?yt:at,Jt=Object.create($t.prototype),tn=new pr($e||[]);return H(Jt,"_invoke",{value:Ye(Mt,Et,tn)}),Jt}function Ze(Mt,yt,Et){try{return{type:"normal",arg:Mt.call(yt,Et)}}catch($e){return{type:"throw",arg:$e}}}R.wrap=ge;var fe="suspendedStart",Ce="suspendedYield",Ae="executing",Pe="completed",ie={};function at(){}function mt(){}function vt(){}var Vt={};re(Vt,ee,function(){return this});var U=Object.getPrototypeOf,tt=U&&U(U(hr([])));tt&&tt!==k&&F.call(tt,ee)&&(Vt=tt);var ut=vt.prototype=at.prototype=Object.create(Vt);function vn(Mt){["next","throw","return"].forEach(function(yt){re(Mt,yt,function(Et){return this._invoke(yt,Et)})})}function ft(Mt,yt){function Et($t,Jt,tn,ir){var Or=Ze(Mt[$t],Mt,Jt);if(Or.type!=="throw"){var Fr=Or.arg,lr=Fr.value;return lr&&(0,B.Z)(lr)=="object"&&F.call(lr,"__await")?yt.resolve(lr.__await).then(function(Yr){Et("next",Yr,tn,ir)},function(Yr){Et("throw",Yr,tn,ir)}):yt.resolve(lr).then(function(Yr){Fr.value=Yr,tn(Fr)},function(Yr){return Et("throw",Yr,tn,ir)})}ir(Or.arg)}var $e;H(this,"_invoke",{value:function(Jt,tn){function ir(){return new yt(function(Or,Fr){Et(Jt,tn,Or,Fr)})}return $e=$e?$e.then(ir,ir):ir()}})}function Ye(Mt,yt,Et){var $e=fe;return function($t,Jt){if($e===Ae)throw Error("Generator is already running");if($e===Pe){if($t==="throw")throw Jt;return{value:j,done:!0}}for(Et.method=$t,Et.arg=Jt;;){var tn=Et.delegate;if(tn){var ir=Cn(tn,Et);if(ir){if(ir===ie)continue;return ir}}if(Et.method==="next")Et.sent=Et._sent=Et.arg;else if(Et.method==="throw"){if($e===fe)throw $e=Pe,Et.arg;Et.dispatchException(Et.arg)}else Et.method==="return"&&Et.abrupt("return",Et.arg);$e=Ae;var Or=Ze(Mt,yt,Et);if(Or.type==="normal"){if($e=Et.done?Pe:Ce,Or.arg===ie)continue;return{value:Or.arg,done:Et.done}}Or.type==="throw"&&($e=Pe,Et.method="throw",Et.arg=Or.arg)}}}function Cn(Mt,yt){var Et=yt.method,$e=Mt.iterator[Et];if($e===j)return yt.delegate=null,Et==="throw"&&Mt.iterator.return&&(yt.method="return",yt.arg=j,Cn(Mt,yt),yt.method==="throw")||Et!=="return"&&(yt.method="throw",yt.arg=new TypeError("The iterator does not provide a '"+Et+"' method")),ie;var $t=Ze($e,Mt.iterator,yt.arg);if($t.type==="throw")return yt.method="throw",yt.arg=$t.arg,yt.delegate=null,ie;var Jt=$t.arg;return Jt?Jt.done?(yt[Mt.resultName]=Jt.value,yt.next=Mt.nextLoc,yt.method!=="return"&&(yt.method="next",yt.arg=j),yt.delegate=null,ie):Jt:(yt.method="throw",yt.arg=new TypeError("iterator result is not an object"),yt.delegate=null,ie)}function cn(Mt){var yt={tryLoc:Mt[0]};1 in Mt&&(yt.catchLoc=Mt[1]),2 in Mt&&(yt.finallyLoc=Mt[2],yt.afterLoc=Mt[3]),this.tryEntries.push(yt)}function mr(Mt){var yt=Mt.completion||{};yt.type="normal",delete yt.arg,Mt.completion=yt}function pr(Mt){this.tryEntries=[{tryLoc:"root"}],Mt.forEach(cn,this),this.reset(!0)}function hr(Mt){if(Mt||Mt===""){var yt=Mt[ee];if(yt)return yt.call(Mt);if(typeof Mt.next=="function")return Mt;if(!isNaN(Mt.length)){var Et=-1,$e=function $t(){for(;++Et<Mt.length;)if(F.call(Mt,Et))return $t.value=Mt[Et],$t.done=!1,$t;return $t.value=j,$t.done=!0,$t};return $e.next=$e}}throw new TypeError((0,B.Z)(Mt)+" is not iterable")}return mt.prototype=vt,H(ut,"constructor",{value:vt,configurable:!0}),H(vt,"constructor",{value:mt,configurable:!0}),mt.displayName=re(vt,ue,"GeneratorFunction"),R.isGeneratorFunction=function(Mt){var yt=typeof Mt=="function"&&Mt.constructor;return!!yt&&(yt===mt||(yt.displayName||yt.name)==="GeneratorFunction")},R.mark=function(Mt){return Object.setPrototypeOf?Object.setPrototypeOf(Mt,vt):(Mt.__proto__=vt,re(Mt,ue,"GeneratorFunction")),Mt.prototype=Object.create(ut),Mt},R.awrap=function(Mt){return{__await:Mt}},vn(ft.prototype),re(ft.prototype,ae,function(){return this}),R.AsyncIterator=ft,R.async=function(Mt,yt,Et,$e,$t){$t===void 0&&($t=Promise);var Jt=new ft(ge(Mt,yt,Et,$e),$t);return R.isGeneratorFunction(yt)?Jt:Jt.next().then(function(tn){return tn.done?tn.value:Jt.next()})},vn(ut),re(ut,ue,"Generator"),re(ut,ee,function(){return this}),re(ut,"toString",function(){return"[object Generator]"}),R.keys=function(Mt){var yt=Object(Mt),Et=[];for(var $e in yt)Et.push($e);return Et.reverse(),function $t(){for(;Et.length;){var Jt=Et.pop();if(Jt in yt)return $t.value=Jt,$t.done=!1,$t}return $t.done=!0,$t}},R.values=hr,pr.prototype={constructor:pr,reset:function(yt){if(this.prev=0,this.next=0,this.sent=this._sent=j,this.done=!1,this.delegate=null,this.method="next",this.arg=j,this.tryEntries.forEach(mr),!yt)for(var Et in this)Et.charAt(0)==="t"&&F.call(this,Et)&&!isNaN(+Et.slice(1))&&(this[Et]=j)},stop:function(){this.done=!0;var yt=this.tryEntries[0].completion;if(yt.type==="throw")throw yt.arg;return this.rval},dispatchException:function(yt){if(this.done)throw yt;var Et=this;function $e(Fr,lr){return tn.type="throw",tn.arg=yt,Et.next=Fr,lr&&(Et.method="next",Et.arg=j),!!lr}for(var $t=this.tryEntries.length-1;$t>=0;--$t){var Jt=this.tryEntries[$t],tn=Jt.completion;if(Jt.tryLoc==="root")return $e("end");if(Jt.tryLoc<=this.prev){var ir=F.call(Jt,"catchLoc"),Or=F.call(Jt,"finallyLoc");if(ir&&Or){if(this.prev<Jt.catchLoc)return $e(Jt.catchLoc,!0);if(this.prev<Jt.finallyLoc)return $e(Jt.finallyLoc)}else if(ir){if(this.prev<Jt.catchLoc)return $e(Jt.catchLoc,!0)}else{if(!Or)throw Error("try statement without catch or finally");if(this.prev<Jt.finallyLoc)return $e(Jt.finallyLoc)}}}},abrupt:function(yt,Et){for(var $e=this.tryEntries.length-1;$e>=0;--$e){var $t=this.tryEntries[$e];if($t.tryLoc<=this.prev&&F.call($t,"finallyLoc")&&this.prev<$t.finallyLoc){var Jt=$t;break}}Jt&&(yt==="break"||yt==="continue")&&Jt.tryLoc<=Et&&Et<=Jt.finallyLoc&&(Jt=null);var tn=Jt?Jt.completion:{};return tn.type=yt,tn.arg=Et,Jt?(this.method="next",this.next=Jt.finallyLoc,ie):this.complete(tn)},complete:function(yt,Et){if(yt.type==="throw")throw yt.arg;return yt.type==="break"||yt.type==="continue"?this.next=yt.arg:yt.type==="return"?(this.rval=this.arg=yt.arg,this.method="return",this.next="end"):yt.type==="normal"&&Et&&(this.next=Et),ie},finish:function(yt){for(var Et=this.tryEntries.length-1;Et>=0;--Et){var $e=this.tryEntries[Et];if($e.finallyLoc===yt)return this.complete($e.completion,$e.afterLoc),mr($e),ie}},catch:function(yt){for(var Et=this.tryEntries.length-1;Et>=0;--Et){var $e=this.tryEntries[Et];if($e.tryLoc===yt){var $t=$e.completion;if($t.type==="throw"){var Jt=$t.arg;mr($e)}return Jt}}throw Error("illegal catch attempt")},delegateYield:function(yt,Et,$e){return this.delegate={iterator:hr(yt),resultName:Et,nextLoc:$e},this.method==="next"&&(this.arg=j),ie}},R}},54683:function(Ne,te,w){"use strict";w.d(te,{Z:function(){return ms}});var B={};w.r(B),w.d(B,{hasBrowserEnv:function(){return ne},hasStandardBrowserEnv:function(){return W},hasStandardBrowserWebWorkerEnv:function(){return S},origin:function(){return A}});var M=w(5574),j=w(52677);function R(Pt,ot){return function(){return Pt.apply(ot,arguments)}}var k=w(34155),F=Object.prototype.toString,H=Object.getPrototypeOf,I=function(Pt){return function(ot){var Ft=F.call(ot);return Pt[Ft]||(Pt[Ft]=Ft.slice(8,-1).toLowerCase())}}(Object.create(null)),ee=function(ot){return ot=ot.toLowerCase(),function(Ft){return I(Ft)===ot}},ae=function(ot){return function(Ft){return j(Ft)===ot}},ue=Array.isArray,re=ae("undefined");function ge(Pt){return Pt!==null&&!re(Pt)&&Pt.constructor!==null&&!re(Pt.constructor)&&Ae(Pt.constructor.isBuffer)&&Pt.constructor.isBuffer(Pt)}var Ze=ee("ArrayBuffer");function fe(Pt){var ot;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ot=ArrayBuffer.isView(Pt):ot=Pt&&Pt.buffer&&Ze(Pt.buffer),ot}var Ce=ae("string"),Ae=ae("function"),Pe=ae("number"),ie=function(ot){return ot!==null&&j(ot)==="object"},at=function(ot){return ot===!0||ot===!1},mt=function(ot){if(I(ot)!=="object")return!1;var Ft=H(ot);return(Ft===null||Ft===Object.prototype||Object.getPrototypeOf(Ft)===null)&&!(Symbol.toStringTag in ot)&&!(Symbol.iterator in ot)},vt=ee("Date"),Vt=ee("File"),U=ee("Blob"),tt=ee("FileList"),ut=function(ot){return ie(ot)&&Ae(ot.pipe)},vn=function(ot){var Ft;return ot&&(typeof FormData=="function"&&ot instanceof FormData||Ae(ot.append)&&((Ft=I(ot))==="formdata"||Ft==="object"&&Ae(ot.toString)&&ot.toString()==="[object FormData]"))},ft=ee("URLSearchParams"),Ye=["ReadableStream","Request","Response","Headers"].map(ee),Cn=M(Ye,4),cn=Cn[0],mr=Cn[1],pr=Cn[2],hr=Cn[3],Mt=function(ot){return ot.trim?ot.trim():ot.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function yt(Pt,ot){var Ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Qt=Ft.allOwnKeys,Ht=Qt===void 0?!1:Qt;if(!(Pt===null||typeof Pt=="undefined")){var $n,Vn;if(j(Pt)!=="object"&&(Pt=[Pt]),ue(Pt))for($n=0,Vn=Pt.length;$n<Vn;$n++)ot.call(null,Pt[$n],$n,Pt);else{var Er=Ht?Object.getOwnPropertyNames(Pt):Object.keys(Pt),io=Er.length,Mi;for($n=0;$n<io;$n++)Mi=Er[$n],ot.call(null,Pt[Mi],Mi,Pt)}}}function Et(Pt,ot){ot=ot.toLowerCase();for(var Ft=Object.keys(Pt),Qt=Ft.length,Ht;Qt-- >0;)if(Ht=Ft[Qt],ot===Ht.toLowerCase())return Ht;return null}var $e=function(){return typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global}(),$t=function(ot){return!re(ot)&&ot!==$e};function Jt(){for(var Pt=$t(this)&&this||{},ot=Pt.caseless,Ft={},Qt=function(Er,io){var Mi=ot&&Et(Ft,io)||io;mt(Ft[Mi])&&mt(Er)?Ft[Mi]=Jt(Ft[Mi],Er):mt(Er)?Ft[Mi]=Jt({},Er):ue(Er)?Ft[Mi]=Er.slice():Ft[Mi]=Er},Ht=0,$n=arguments.length;Ht<$n;Ht++)arguments[Ht]&&yt(arguments[Ht],Qt);return Ft}var tn=function(ot,Ft,Qt){var Ht=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},$n=Ht.allOwnKeys;return yt(Ft,function(Vn,Er){Qt&&Ae(Vn)?ot[Er]=R(Vn,Qt):ot[Er]=Vn},{allOwnKeys:$n}),ot},ir=function(ot){return ot.charCodeAt(0)===65279&&(ot=ot.slice(1)),ot},Or=function(ot,Ft,Qt,Ht){ot.prototype=Object.create(Ft.prototype,Ht),ot.prototype.constructor=ot,Object.defineProperty(ot,"super",{value:Ft.prototype}),Qt&&Object.assign(ot.prototype,Qt)},Fr=function(ot,Ft,Qt,Ht){var $n,Vn,Er,io={};if(Ft=Ft||{},ot==null)return Ft;do{for($n=Object.getOwnPropertyNames(ot),Vn=$n.length;Vn-- >0;)Er=$n[Vn],(!Ht||Ht(Er,ot,Ft))&&!io[Er]&&(Ft[Er]=ot[Er],io[Er]=!0);ot=Qt!==!1&&H(ot)}while(ot&&(!Qt||Qt(ot,Ft))&&ot!==Object.prototype);return Ft},lr=function(ot,Ft,Qt){ot=String(ot),(Qt===void 0||Qt>ot.length)&&(Qt=ot.length),Qt-=Ft.length;var Ht=ot.indexOf(Ft,Qt);return Ht!==-1&&Ht===Qt},Yr=function(ot){if(!ot)return null;if(ue(ot))return ot;var Ft=ot.length;if(!Pe(Ft))return null;for(var Qt=new Array(Ft);Ft-- >0;)Qt[Ft]=ot[Ft];return Qt},jn=function(Pt){return function(ot){return Pt&&ot instanceof Pt}}(typeof Uint8Array!="undefined"&&H(Uint8Array)),dr=function(ot,Ft){for(var Qt=ot&&ot[Symbol.iterator],Ht=Qt.call(ot),$n;($n=Ht.next())&&!$n.done;){var Vn=$n.value;Ft.call(ot,Vn[0],Vn[1])}},br=function(ot,Ft){for(var Qt,Ht=[];(Qt=ot.exec(Ft))!==null;)Ht.push(Qt);return Ht},nr=ee("HTMLFormElement"),Lr=function(ot){return ot.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(Qt,Ht,$n){return Ht.toUpperCase()+$n})},Ji=function(Pt){var ot=Pt.hasOwnProperty;return function(Ft,Qt){return ot.call(Ft,Qt)}}(Object.prototype),Ci=ee("RegExp"),$i=function(ot,Ft){var Qt=Object.getOwnPropertyDescriptors(ot),Ht={};yt(Qt,function($n,Vn){var Er;(Er=Ft($n,Vn,ot))!==!1&&(Ht[Vn]=Er||$n)}),Object.defineProperties(ot,Ht)},It=function(ot){$i(ot,function(Ft,Qt){if(Ae(ot)&&["arguments","caller","callee"].indexOf(Qt)!==-1)return!1;var Ht=ot[Qt];if(Ae(Ht)){if(Ft.enumerable=!1,"writable"in Ft){Ft.writable=!1;return}Ft.set||(Ft.set=function(){throw Error("Can not rewrite read-only method '"+Qt+"'")})}})},Q=function(ot,Ft){var Qt={},Ht=function(Vn){Vn.forEach(function(Er){Qt[Er]=!0})};return ue(ot)?Ht(ot):Ht(String(ot).split(Ft)),Qt},we=function(){},Nt=function(ot,Ft){return ot!=null&&Number.isFinite(ot=+ot)?ot:Ft},jt="abcdefghijklmnopqrstuvwxyz",gt="0123456789",Je={DIGIT:gt,ALPHA:jt,ALPHA_DIGIT:jt+jt.toUpperCase()+gt},pt=function(){for(var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Je.ALPHA_DIGIT,Qt="",Ht=Ft.length;ot--;)Qt+=Ft[Math.random()*Ht|0];return Qt};function rt(Pt){return!!(Pt&&Ae(Pt.append)&&Pt[Symbol.toStringTag]==="FormData"&&Pt[Symbol.iterator])}var qt=function(ot){var Ft=new Array(10),Qt=function Ht($n,Vn){if(ie($n)){if(Ft.indexOf($n)>=0)return;if(!("toJSON"in $n)){Ft[Vn]=$n;var Er=ue($n)?[]:{};return yt($n,function(io,Mi){var Ki=Ht(io,Vn+1);!re(Ki)&&(Er[Mi]=Ki)}),Ft[Vn]=void 0,Er}}return $n};return Qt(ot,0)},Dn=ee("AsyncFunction"),_n=function(ot){return ot&&(ie(ot)||Ae(ot))&&Ae(ot.then)&&Ae(ot.catch)},Wr=function(Pt,ot){return Pt?setImmediate:ot?function(Ft,Qt){return $e.addEventListener("message",function(Ht){var $n=Ht.source,Vn=Ht.data;$n===$e&&Vn===Ft&&Qt.length&&Qt.shift()()},!1),function(Ht){Qt.push(Ht),$e.postMessage(Ft,"*")}}("axios@".concat(Math.random()),[]):function(Ft){return setTimeout(Ft)}}(typeof setImmediate=="function",Ae($e.postMessage)),Qn=typeof queueMicrotask!="undefined"?queueMicrotask.bind($e):typeof k!="undefined"&&k.nextTick||Wr,it={isArray:ue,isArrayBuffer:Ze,isBuffer:ge,isFormData:vn,isArrayBufferView:fe,isString:Ce,isNumber:Pe,isBoolean:at,isObject:ie,isPlainObject:mt,isReadableStream:cn,isRequest:mr,isResponse:pr,isHeaders:hr,isUndefined:re,isDate:vt,isFile:Vt,isBlob:U,isRegExp:Ci,isFunction:Ae,isStream:ut,isURLSearchParams:ft,isTypedArray:jn,isFileList:tt,forEach:yt,merge:Jt,extend:tn,trim:Mt,stripBOM:ir,inherits:Or,toFlatObject:Fr,kindOf:I,kindOfTest:ee,endsWith:lr,toArray:Yr,forEachEntry:dr,matchAll:br,isHTMLForm:nr,hasOwnProperty:Ji,hasOwnProp:Ji,reduceDescriptors:$i,freezeMethods:It,toObjectSet:Q,toCamelCase:Lr,noop:we,toFiniteNumber:Nt,findKey:Et,global:$e,isContextDefined:$t,ALPHABET:Je,generateString:pt,isSpecCompliantForm:rt,toJSONObject:qt,isAsyncFn:Dn,isThenable:_n,setImmediate:Wr,asap:Qn},mn=w(15009),kn=w(99289),gr=w(12444),kr=w(72004);function Ei(Pt,ot,Ft,Qt,Ht){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=Pt,this.name="AxiosError",ot&&(this.code=ot),Ft&&(this.config=Ft),Qt&&(this.request=Qt),Ht&&(this.response=Ht)}it.inherits(Ei,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:it.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var er=Ei.prototype,Tt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(Pt){Tt[Pt]={value:Pt}}),Object.defineProperties(Ei,Tt),Object.defineProperty(er,"isAxiosError",{value:!0}),Ei.from=function(Pt,ot,Ft,Qt,Ht,$n){var Vn=Object.create(er);return it.toFlatObject(Pt,Vn,function(io){return io!==Error.prototype},function(Er){return Er!=="isAxiosError"}),Ei.call(Vn,Pt.message,ot,Ft,Qt,Ht),Vn.cause=Pt,Vn.name=Pt.name,$n&&Object.assign(Vn,$n),Vn};var sn=Ei,_t=null,Ut=w(48764).lW;function Rn(Pt){return it.isPlainObject(Pt)||it.isArray(Pt)}function Cr(Pt){return it.endsWith(Pt,"[]")?Pt.slice(0,-2):Pt}function si(Pt,ot,Ft){return Pt?Pt.concat(ot).map(function(Ht,$n){return Ht=Cr(Ht),!Ft&&$n?"["+Ht+"]":Ht}).join(Ft?".":""):ot}function tr(Pt){return it.isArray(Pt)&&!Pt.some(Rn)}var xn=it.toFlatObject(it,{},null,function(ot){return/^is[A-Z]/.test(ot)});function Hn(Pt,ot,Ft){if(!it.isObject(Pt))throw new TypeError("target must be an object");ot=ot||new(_t||FormData),Ft=it.toFlatObject(Ft,{metaTokens:!0,dots:!1,indexes:!1},!1,function(po,xi){return!it.isUndefined(xi[po])});var Qt=Ft.metaTokens,Ht=Ft.visitor||Ki,$n=Ft.dots,Vn=Ft.indexes,Er=Ft.Blob||typeof Blob!="undefined"&&Blob,io=Er&&it.isSpecCompliantForm(ot);if(!it.isFunction(Ht))throw new TypeError("visitor must be a function");function Mi(rs){if(rs===null)return"";if(it.isDate(rs))return rs.toISOString();if(!io&&it.isBlob(rs))throw new sn("Blob is not supported. Use a Buffer instead.");return it.isArrayBuffer(rs)||it.isTypedArray(rs)?io&&typeof Blob=="function"?new Blob([rs]):Ut.from(rs):rs}function Ki(rs,po,xi){var Ho=rs;if(rs&&!xi&&j(rs)==="object"){if(it.endsWith(po,"{}"))po=Qt?po:po.slice(0,-2),rs=JSON.stringify(rs);else if(it.isArray(rs)&&tr(rs)||(it.isFileList(rs)||it.endsWith(po,"[]"))&&(Ho=it.toArray(rs)))return po=Cr(po),Ho.forEach(function(Yo,Hs){!(it.isUndefined(Yo)||Yo===null)&&ot.append(Vn===!0?si([po],Hs,$n):Vn===null?po:po+"[]",Mi(Yo))}),!1}return Rn(rs)?!0:(ot.append(si(xi,po,$n),Mi(rs)),!1)}var qi=[],Ri=Object.assign(xn,{defaultVisitor:Ki,convertValue:Mi,isVisitable:Rn});function Ts(rs,po){if(!it.isUndefined(rs)){if(qi.indexOf(rs)!==-1)throw Error("Circular reference detected in "+po.join("."));qi.push(rs),it.forEach(rs,function(Ho,ls){var Yo=!(it.isUndefined(Ho)||Ho===null)&&Ht.call(ot,Ho,it.isString(ls)?ls.trim():ls,po,Ri);Yo===!0&&Ts(Ho,po?po.concat(ls):[ls])}),qi.pop()}}if(!it.isObject(Pt))throw new TypeError("data must be an object");return Ts(Pt),ot}var Kn=Hn;function yn(Pt){var ot={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(Pt).replace(/[!'()~]|%20|%00/g,function(Qt){return ot[Qt]})}function Sr(Pt,ot){this._pairs=[],Pt&&Kn(Pt,this,ot)}var yr=Sr.prototype;yr.append=function(ot,Ft){this._pairs.push([ot,Ft])},yr.toString=function(ot){var Ft=ot?function(Qt){return ot.call(this,Qt,yn)}:yn;return this._pairs.map(function(Ht){return Ft(Ht[0])+"="+Ft(Ht[1])},"").join("&")};var Tr=Sr;function rn(Pt){return encodeURIComponent(Pt).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hn(Pt,ot,Ft){if(!ot)return Pt;var Qt=Ft&&Ft.encode||rn,Ht=Ft&&Ft.serialize,$n;if(Ht?$n=Ht(ot,Ft):$n=it.isURLSearchParams(ot)?ot.toString():new Tr(ot,Ft).toString(Qt),$n){var Vn=Pt.indexOf("#");Vn!==-1&&(Pt=Pt.slice(0,Vn)),Pt+=(Pt.indexOf("?")===-1?"?":"&")+$n}return Pt}var or=function(){function Pt(){gr(this,Pt),this.handlers=[]}return kr(Pt,[{key:"use",value:function(Ft,Qt,Ht){return this.handlers.push({fulfilled:Ft,rejected:Qt,synchronous:Ht?Ht.synchronous:!1,runWhen:Ht?Ht.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(Ft){this.handlers[Ft]&&(this.handlers[Ft]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(Ft){it.forEach(this.handlers,function(Ht){Ht!==null&&Ft(Ht)})}}]),Pt}(),Ke=or,Xe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},je=w(97857),me=typeof URLSearchParams!="undefined"?URLSearchParams:Tr,ze=typeof FormData!="undefined"?FormData:null,Oe=typeof Blob!="undefined"?Blob:null,Y={isBrowser:!0,classes:{URLSearchParams:me,FormData:ze,Blob:Oe},protocols:["http","https","file","blob","url","data"]},ne=typeof window!="undefined"&&typeof document!="undefined",W=function(Pt){return ne&&["ReactNative","NativeScript","NS"].indexOf(Pt)<0}(typeof navigator!="undefined"&&navigator.product),S=function(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function"}(),A=ne&&window.location.href||"http://localhost",L=je(je({},B),Y);function ce(Pt,ot){return Kn(Pt,new L.classes.URLSearchParams,Object.assign({visitor:function(Qt,Ht,$n,Vn){return L.isNode&&it.isBuffer(Qt)?(this.append(Ht,Qt.toString("base64")),!1):Vn.defaultVisitor.apply(this,arguments)}},ot))}function ve(Pt){return it.matchAll(/\w+|\[(\w*)]/g,Pt).map(function(ot){return ot[0]==="[]"?"":ot[1]||ot[0]})}function pe(Pt){var ot={},Ft=Object.keys(Pt),Qt,Ht=Ft.length,$n;for(Qt=0;Qt<Ht;Qt++)$n=Ft[Qt],ot[$n]=Pt[$n];return ot}function Ee(Pt){function ot(Qt,Ht,$n,Vn){var Er=Qt[Vn++];if(Er==="__proto__")return!0;var io=Number.isFinite(+Er),Mi=Vn>=Qt.length;if(Er=!Er&&it.isArray($n)?$n.length:Er,Mi)return it.hasOwnProp($n,Er)?$n[Er]=[$n[Er],Ht]:$n[Er]=Ht,!io;(!$n[Er]||!it.isObject($n[Er]))&&($n[Er]=[]);var Ki=ot(Qt,Ht,$n[Er],Vn);return Ki&&it.isArray($n[Er])&&($n[Er]=pe($n[Er])),!io}if(it.isFormData(Pt)&&it.isFunction(Pt.entries)){var Ft={};return it.forEachEntry(Pt,function(Qt,Ht){ot(ve(Qt),Ht,Ft,0)}),Ft}return null}var ht=Ee;function ct(Pt,ot,Ft){if(it.isString(Pt))try{return(ot||JSON.parse)(Pt),it.trim(Pt)}catch(Qt){if(Qt.name!=="SyntaxError")throw Qt}return(Ft||JSON.stringify)(Pt)}var nt={transitional:Xe,adapter:["xhr","http","fetch"],transformRequest:[function(ot,Ft){var Qt=Ft.getContentType()||"",Ht=Qt.indexOf("application/json")>-1,$n=it.isObject(ot);$n&&it.isHTMLForm(ot)&&(ot=new FormData(ot));var Vn=it.isFormData(ot);if(Vn)return Ht?JSON.stringify(ht(ot)):ot;if(it.isArrayBuffer(ot)||it.isBuffer(ot)||it.isStream(ot)||it.isFile(ot)||it.isBlob(ot)||it.isReadableStream(ot))return ot;if(it.isArrayBufferView(ot))return ot.buffer;if(it.isURLSearchParams(ot))return Ft.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),ot.toString();var Er;if($n){if(Qt.indexOf("application/x-www-form-urlencoded")>-1)return ce(ot,this.formSerializer).toString();if((Er=it.isFileList(ot))||Qt.indexOf("multipart/form-data")>-1){var io=this.env&&this.env.FormData;return Kn(Er?{"files[]":ot}:ot,io&&new io,this.formSerializer)}}return $n||Ht?(Ft.setContentType("application/json",!1),ct(ot)):ot}],transformResponse:[function(ot){var Ft=this.transitional||nt.transitional,Qt=Ft&&Ft.forcedJSONParsing,Ht=this.responseType==="json";if(it.isResponse(ot)||it.isReadableStream(ot))return ot;if(ot&&it.isString(ot)&&(Qt&&!this.responseType||Ht)){var $n=Ft&&Ft.silentJSONParsing,Vn=!$n&&Ht;try{return JSON.parse(ot)}catch(Er){if(Vn)throw Er.name==="SyntaxError"?sn.from(Er,sn.ERR_BAD_RESPONSE,this,null,this.response):Er}}return ot}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:L.classes.FormData,Blob:L.classes.Blob},validateStatus:function(ot){return ot>=200&&ot<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};it.forEach(["delete","get","head","post","put","patch"],function(Pt){nt.headers[Pt]={}});var Rt=nt,kt=w(64599),bn=it.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pn=function(Pt){var ot={},Ft,Qt,Ht;return Pt&&Pt.split(`
`).forEach(function(Vn){Ht=Vn.indexOf(":"),Ft=Vn.substring(0,Ht).trim().toLowerCase(),Qt=Vn.substring(Ht+1).trim(),!(!Ft||ot[Ft]&&bn[Ft])&&(Ft==="set-cookie"?ot[Ft]?ot[Ft].push(Qt):ot[Ft]=[Qt]:ot[Ft]=ot[Ft]?ot[Ft]+", "+Qt:Qt)}),ot},Lt=Symbol("internals");function Bt(Pt){return Pt&&String(Pt).trim().toLowerCase()}function In(Pt){return Pt===!1||Pt==null?Pt:it.isArray(Pt)?Pt.map(In):String(Pt)}function Zn(Pt){for(var ot=Object.create(null),Ft=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,Qt;Qt=Ft.exec(Pt);)ot[Qt[1]]=Qt[2];return ot}var sr=function(ot){return/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(ot.trim())};function ni(Pt,ot,Ft,Qt,Ht){if(it.isFunction(Qt))return Qt.call(this,ot,Ft);if(Ht&&(ot=Ft),!!it.isString(ot)){if(it.isString(Qt))return ot.indexOf(Qt)!==-1;if(it.isRegExp(Qt))return Qt.test(ot)}}function mi(Pt){return Pt.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,function(ot,Ft,Qt){return Ft.toUpperCase()+Qt})}function Rr(Pt,ot){var Ft=it.toCamelCase(" "+ot);["get","set","has"].forEach(function(Qt){Object.defineProperty(Pt,Qt+Ft,{value:function($n,Vn,Er){return this[Qt].call(this,ot,$n,Vn,Er)},configurable:!0})})}var ai=function(Pt,ot){function Ft(Qt){gr(this,Ft),Qt&&this.set(Qt)}return kr(Ft,[{key:"set",value:function(Ht,$n,Vn){var Er=this;function io(po,xi,Ho){var ls=Bt(xi);if(!ls)throw new Error("header name must be a non-empty string");var Yo=it.findKey(Er,ls);(!Yo||Er[Yo]===void 0||Ho===!0||Ho===void 0&&Er[Yo]!==!1)&&(Er[Yo||xi]=In(po))}var Mi=function(xi,Ho){return it.forEach(xi,function(ls,Yo){return io(ls,Yo,Ho)})};if(it.isPlainObject(Ht)||Ht instanceof this.constructor)Mi(Ht,$n);else if(it.isString(Ht)&&(Ht=Ht.trim())&&!sr(Ht))Mi(pn(Ht),$n);else if(it.isHeaders(Ht)){var Ki=kt(Ht.entries()),qi;try{for(Ki.s();!(qi=Ki.n()).done;){var Ri=M(qi.value,2),Ts=Ri[0],rs=Ri[1];io(rs,Ts,Vn)}}catch(po){Ki.e(po)}finally{Ki.f()}}else Ht!=null&&io($n,Ht,Vn);return this}},{key:"get",value:function(Ht,$n){if(Ht=Bt(Ht),Ht){var Vn=it.findKey(this,Ht);if(Vn){var Er=this[Vn];if(!$n)return Er;if($n===!0)return Zn(Er);if(it.isFunction($n))return $n.call(this,Er,Vn);if(it.isRegExp($n))return $n.exec(Er);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(Ht,$n){if(Ht=Bt(Ht),Ht){var Vn=it.findKey(this,Ht);return!!(Vn&&this[Vn]!==void 0&&(!$n||ni(this,this[Vn],Vn,$n)))}return!1}},{key:"delete",value:function(Ht,$n){var Vn=this,Er=!1;function io(Mi){if(Mi=Bt(Mi),Mi){var Ki=it.findKey(Vn,Mi);Ki&&(!$n||ni(Vn,Vn[Ki],Ki,$n))&&(delete Vn[Ki],Er=!0)}}return it.isArray(Ht)?Ht.forEach(io):io(Ht),Er}},{key:"clear",value:function(Ht){for(var $n=Object.keys(this),Vn=$n.length,Er=!1;Vn--;){var io=$n[Vn];(!Ht||ni(this,this[io],io,Ht,!0))&&(delete this[io],Er=!0)}return Er}},{key:"normalize",value:function(Ht){var $n=this,Vn={};return it.forEach(this,function(Er,io){var Mi=it.findKey(Vn,io);if(Mi){$n[Mi]=In(Er),delete $n[io];return}var Ki=Ht?mi(io):String(io).trim();Ki!==io&&delete $n[io],$n[Ki]=In(Er),Vn[Ki]=!0}),this}},{key:"concat",value:function(){for(var Ht,$n=arguments.length,Vn=new Array($n),Er=0;Er<$n;Er++)Vn[Er]=arguments[Er];return(Ht=this.constructor).concat.apply(Ht,[this].concat(Vn))}},{key:"toJSON",value:function(Ht){var $n=Object.create(null);return it.forEach(this,function(Vn,Er){Vn!=null&&Vn!==!1&&($n[Er]=Ht&&it.isArray(Vn)?Vn.join(", "):Vn)}),$n}},{key:Pt,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map(function(Ht){var $n=M(Ht,2),Vn=$n[0],Er=$n[1];return Vn+": "+Er}).join(`
`)}},{key:ot,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(Ht){return Ht instanceof this?Ht:new this(Ht)}},{key:"concat",value:function(Ht){for(var $n=new this(Ht),Vn=arguments.length,Er=new Array(Vn>1?Vn-1:0),io=1;io<Vn;io++)Er[io-1]=arguments[io];return Er.forEach(function(Mi){return $n.set(Mi)}),$n}},{key:"accessor",value:function(Ht){var $n=this[Lt]=this[Lt]={accessors:{}},Vn=$n.accessors,Er=this.prototype;function io(Mi){var Ki=Bt(Mi);Vn[Ki]||(Rr(Er,Mi),Vn[Ki]=!0)}return it.isArray(Ht)?Ht.forEach(io):io(Ht),this}}]),Ft}(Symbol.iterator,Symbol.toStringTag);ai.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),it.reduceDescriptors(ai.prototype,function(Pt,ot){var Ft=Pt.value,Qt=ot[0].toUpperCase()+ot.slice(1);return{get:function(){return Ft},set:function($n){this[Qt]=$n}}}),it.freezeMethods(ai);var li=ai;function wi(Pt,ot){var Ft=this||Rt,Qt=ot||Ft,Ht=li.from(Qt.headers),$n=Qt.data;return it.forEach(Pt,function(Er){$n=Er.call(Ft,$n,Ht.normalize(),ot?ot.status:void 0)}),Ht.normalize(),$n}function Ct(Pt){return!!(Pt&&Pt.__CANCEL__)}function Zt(Pt,ot,Ft){sn.call(this,Pt==null?"canceled":Pt,sn.ERR_CANCELED,ot,Ft),this.name="CanceledError"}it.inherits(Zt,sn,{__CANCEL__:!0});var Pr=Zt;function Gn(Pt,ot,Ft){var Qt=Ft.config.validateStatus;!Ft.status||!Qt||Qt(Ft.status)?Pt(Ft):ot(new sn("Request failed with status code "+Ft.status,[sn.ERR_BAD_REQUEST,sn.ERR_BAD_RESPONSE][Math.floor(Ft.status/100)-4],Ft.config,Ft.request,Ft))}function vr(Pt){var ot=/^([-+\w]{1,25})(:?\/\/|:)/.exec(Pt);return ot&&ot[1]||""}var $r=w(9783);function At(Pt,ot){Pt=Pt||10;var Ft=new Array(Pt),Qt=new Array(Pt),Ht=0,$n=0,Vn;return ot=ot!==void 0?ot:1e3,function(io){var Mi=Date.now(),Ki=Qt[$n];Vn||(Vn=Mi),Ft[Ht]=io,Qt[Ht]=Mi;for(var qi=$n,Ri=0;qi!==Ht;)Ri+=Ft[qi++],qi=qi%Pt;if(Ht=(Ht+1)%Pt,Ht===$n&&($n=($n+1)%Pt),!(Mi-Vn<ot)){var Ts=Ki&&Mi-Ki;return Ts?Math.round(Ri*1e3/Ts):void 0}}}var Be=At;function Re(Pt,ot){var Ft=0,Qt=1e3/ot,Ht,$n,Vn=function(Ki){var qi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Date.now();Ft=qi,Ht=null,$n&&(clearTimeout($n),$n=null),Pt.apply(null,Ki)},Er=function(){for(var Ki=Date.now(),qi=Ki-Ft,Ri=arguments.length,Ts=new Array(Ri),rs=0;rs<Ri;rs++)Ts[rs]=arguments[rs];qi>=Qt?Vn(Ts,Ki):(Ht=Ts,$n||($n=setTimeout(function(){$n=null,Vn(Ht)},Qt-qi)))},io=function(){return Ht&&Vn(Ht)};return[Er,io]}var Fe=Re,Se=function(ot,Ft){var Qt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,Ht=0,$n=Be(50,250);return Fe(function(Vn){var Er=Vn.loaded,io=Vn.lengthComputable?Vn.total:void 0,Mi=Er-Ht,Ki=$n(Mi),qi=Er<=io;Ht=Er;var Ri=$r({loaded:Er,total:io,progress:io?Er/io:void 0,bytes:Mi,rate:Ki||void 0,estimated:Ki&&io&&qi?(io-Er)/Ki:void 0,event:Vn,lengthComputable:io!=null},Ft?"download":"upload",!0);ot(Ri)},Qt)},wt=function(ot,Ft){var Qt=ot!=null;return[function(Ht){return Ft[0]({lengthComputable:Qt,total:ot,loaded:Ht})},Ft[1]]},Gt=function(ot){return function(){for(var Ft=arguments.length,Qt=new Array(Ft),Ht=0;Ht<Ft;Ht++)Qt[Ht]=arguments[Ht];return it.asap(function(){return ot.apply(void 0,Qt)})}},Sn=w(19632),Un=w(61227),_e=L.hasStandardBrowserEnv?function(){var ot=/(msie|trident)/i.test(navigator.userAgent),Ft=document.createElement("a"),Qt;function Ht($n){var Vn=$n;return ot&&(Ft.setAttribute("href",Vn),Vn=Ft.href),Ft.setAttribute("href",Vn),{href:Ft.href,protocol:Ft.protocol?Ft.protocol.replace(/:$/,""):"",host:Ft.host,search:Ft.search?Ft.search.replace(/^\?/,""):"",hash:Ft.hash?Ft.hash.replace(/^#/,""):"",hostname:Ft.hostname,port:Ft.port,pathname:Ft.pathname.charAt(0)==="/"?Ft.pathname:"/"+Ft.pathname}}return Qt=Ht(window.location.href),function(Vn){var Er=it.isString(Vn)?Ht(Vn):Vn;return Er.protocol===Qt.protocol&&Er.host===Qt.host}}():function(){return function(){return!0}}(),We=L.hasStandardBrowserEnv?{write:function(ot,Ft,Qt,Ht,$n,Vn){var Er=[ot+"="+encodeURIComponent(Ft)];it.isNumber(Qt)&&Er.push("expires="+new Date(Qt).toGMTString()),it.isString(Ht)&&Er.push("path="+Ht),it.isString($n)&&Er.push("domain="+$n),Vn===!0&&Er.push("secure"),document.cookie=Er.join("; ")},read:function(ot){var Ft=document.cookie.match(new RegExp("(^|;\\s*)("+ot+")=([^;]*)"));return Ft?decodeURIComponent(Ft[3]):null},remove:function(ot){this.write(ot,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Ve(Pt){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(Pt)}function Dt(Pt,ot){return ot?Pt.replace(/\/?\/$/,"")+"/"+ot.replace(/^\/+/,""):Pt}function An(Pt,ot){return Pt&&!Ve(ot)?Dt(Pt,ot):ot}var on=function(ot){return ot instanceof li?je({},ot):ot};function et(Pt,ot){ot=ot||{};var Ft={};function Qt(Mi,Ki,qi){return it.isPlainObject(Mi)&&it.isPlainObject(Ki)?it.merge.call({caseless:qi},Mi,Ki):it.isPlainObject(Ki)?it.merge({},Ki):it.isArray(Ki)?Ki.slice():Ki}function Ht(Mi,Ki,qi){if(it.isUndefined(Ki)){if(!it.isUndefined(Mi))return Qt(void 0,Mi,qi)}else return Qt(Mi,Ki,qi)}function $n(Mi,Ki){if(!it.isUndefined(Ki))return Qt(void 0,Ki)}function Vn(Mi,Ki){if(it.isUndefined(Ki)){if(!it.isUndefined(Mi))return Qt(void 0,Mi)}else return Qt(void 0,Ki)}function Er(Mi,Ki,qi){if(qi in ot)return Qt(Mi,Ki);if(qi in Pt)return Qt(void 0,Mi)}var io={url:$n,method:$n,data:$n,baseURL:Vn,transformRequest:Vn,transformResponse:Vn,paramsSerializer:Vn,timeout:Vn,timeoutMessage:Vn,withCredentials:Vn,withXSRFToken:Vn,adapter:Vn,responseType:Vn,xsrfCookieName:Vn,xsrfHeaderName:Vn,onUploadProgress:Vn,onDownloadProgress:Vn,decompress:Vn,maxContentLength:Vn,maxBodyLength:Vn,beforeRedirect:Vn,transport:Vn,httpAgent:Vn,httpsAgent:Vn,cancelToken:Vn,socketPath:Vn,responseEncoding:Vn,validateStatus:Er,headers:function(Ki,qi){return Ht(on(Ki),on(qi),!0)}};return it.forEach(Object.keys(Object.assign({},Pt,ot)),function(Ki){var qi=io[Ki]||Ht,Ri=qi(Pt[Ki],ot[Ki],Ki);it.isUndefined(Ri)&&qi!==Er||(Ft[Ki]=Ri)}),Ft}var Tn=function(Pt){var ot=et({},Pt),Ft=ot.data,Qt=ot.withXSRFToken,Ht=ot.xsrfHeaderName,$n=ot.xsrfCookieName,Vn=ot.headers,Er=ot.auth;ot.headers=Vn=li.from(Vn),ot.url=hn(An(ot.baseURL,ot.url),Pt.params,Pt.paramsSerializer),Er&&Vn.set("Authorization","Basic "+btoa((Er.username||"")+":"+(Er.password?unescape(encodeURIComponent(Er.password)):"")));var io;if(it.isFormData(Ft)){if(L.hasStandardBrowserEnv||L.hasStandardBrowserWebWorkerEnv)Vn.setContentType(void 0);else if((io=Vn.getContentType())!==!1){var Mi=io?io.split(";").map(function(rs){return rs.trim()}).filter(Boolean):[],Ki=Un(Mi),qi=Ki[0],Ri=Ki.slice(1);Vn.setContentType([qi||"multipart/form-data"].concat(Sn(Ri)).join("; "))}}if(L.hasStandardBrowserEnv&&(Qt&&it.isFunction(Qt)&&(Qt=Qt(ot)),Qt||Qt!==!1&&_e(ot.url))){var Ts=Ht&&$n&&We.read($n);Ts&&Vn.set(Ht,Ts)}return ot},zt=typeof XMLHttpRequest!="undefined",Xn=zt&&function(Pt){return new Promise(function(Ft,Qt){var Ht=Tn(Pt),$n=Ht.data,Vn=li.from(Ht.headers).normalize(),Er=Ht.responseType,io=Ht.onUploadProgress,Mi=Ht.onDownloadProgress,Ki,qi,Ri,Ts,rs;function po(){Ts&&Ts(),rs&&rs(),Ht.cancelToken&&Ht.cancelToken.unsubscribe(Ki),Ht.signal&&Ht.signal.removeEventListener("abort",Ki)}var xi=new XMLHttpRequest;xi.open(Ht.method.toUpperCase(),Ht.url,!0),xi.timeout=Ht.timeout;function Ho(){if(xi){var Ca=li.from("getAllResponseHeaders"in xi&&xi.getAllResponseHeaders()),ra=!Er||Er==="text"||Er==="json"?xi.responseText:xi.response,Aa={data:ra,status:xi.status,statusText:xi.statusText,headers:Ca,config:Pt,request:xi};Gn(function(Ra){Ft(Ra),po()},function(Ra){Qt(Ra),po()},Aa),xi=null}}if("onloadend"in xi?xi.onloadend=Ho:xi.onreadystatechange=function(){!xi||xi.readyState!==4||xi.status===0&&!(xi.responseURL&&xi.responseURL.indexOf("file:")===0)||setTimeout(Ho)},xi.onabort=function(){xi&&(Qt(new sn("Request aborted",sn.ECONNABORTED,Pt,xi)),xi=null)},xi.onerror=function(){Qt(new sn("Network Error",sn.ERR_NETWORK,Pt,xi)),xi=null},xi.ontimeout=function(){var ra=Ht.timeout?"timeout of "+Ht.timeout+"ms exceeded":"timeout exceeded",Aa=Ht.transitional||Xe;Ht.timeoutErrorMessage&&(ra=Ht.timeoutErrorMessage),Qt(new sn(ra,Aa.clarifyTimeoutError?sn.ETIMEDOUT:sn.ECONNABORTED,Pt,xi)),xi=null},$n===void 0&&Vn.setContentType(null),"setRequestHeader"in xi&&it.forEach(Vn.toJSON(),function(ra,Aa){xi.setRequestHeader(Aa,ra)}),it.isUndefined(Ht.withCredentials)||(xi.withCredentials=!!Ht.withCredentials),Er&&Er!=="json"&&(xi.responseType=Ht.responseType),Mi){var ls=Se(Mi,!0),Yo=M(ls,2);Ri=Yo[0],rs=Yo[1],xi.addEventListener("progress",Ri)}if(io&&xi.upload){var Hs=Se(io),Ol=M(Hs,2);qi=Ol[0],Ts=Ol[1],xi.upload.addEventListener("progress",qi),xi.upload.addEventListener("loadend",Ts)}(Ht.cancelToken||Ht.signal)&&(Ki=function(ra){xi&&(Qt(!ra||ra.type?new Pr(null,Pt,xi):ra),xi.abort(),xi=null)},Ht.cancelToken&&Ht.cancelToken.subscribe(Ki),Ht.signal&&(Ht.signal.aborted?Ki():Ht.signal.addEventListener("abort",Ki)));var xa=vr(Ht.url);if(xa&&L.protocols.indexOf(xa)===-1){Qt(new sn("Unsupported protocol "+xa+":",sn.ERR_BAD_REQUEST,Pt));return}xi.send($n||null)})},cr=function(ot,Ft){var Qt=new AbortController,Ht,$n=function(Ki){if(!Ht){Ht=!0,Er();var qi=Ki instanceof Error?Ki:this.reason;Qt.abort(qi instanceof sn?qi:new Pr(qi instanceof Error?qi.message:qi))}},Vn=Ft&&setTimeout(function(){$n(new sn("timeout ".concat(Ft," of ms exceeded"),sn.ETIMEDOUT))},Ft),Er=function(){ot&&(Vn&&clearTimeout(Vn),Vn=null,ot.forEach(function(Ki){Ki&&(Ki.removeEventListener?Ki.removeEventListener("abort",$n):Ki.unsubscribe($n))}),ot=null)};ot.forEach(function(Mi){return Mi&&Mi.addEventListener&&Mi.addEventListener("abort",$n)});var io=Qt.signal;return io.unsubscribe=Er,[io,function(){Vn&&clearTimeout(Vn),Vn=null}]},ii=cr,ui=w(93938),Mr=w(77262),jr=w(31625),eo=w(44987),yi=mn().mark(function Pt(ot,Ft){var Qt,Ht,$n;return mn().wrap(function(Er){for(;;)switch(Er.prev=Er.next){case 0:if(Qt=ot.byteLength,!(!Ft||Qt<Ft)){Er.next=5;break}return Er.next=4,ot;case 4:return Er.abrupt("return");case 5:Ht=0;case 6:if(!(Ht<Qt)){Er.next=13;break}return $n=Ht+Ft,Er.next=10,ot.slice(Ht,$n);case 10:Ht=$n,Er.next=6;break;case 13:case"end":return Er.stop()}},Pt)}),ci=function(){var Pt=ui(mn().mark(function ot(Ft,Qt,Ht){var $n,Vn,Er,io,Mi,Ki;return mn().wrap(function(Ri){for(;;)switch(Ri.prev=Ri.next){case 0:$n=!1,Vn=!1,Ri.prev=2,io=eo(Ft);case 4:return Ri.next=6,Mr(io.next());case 6:if(!($n=!(Mi=Ri.sent).done)){Ri.next=27;break}if(Ki=Mi.value,Ri.t0=jr,Ri.t1=eo,Ri.t2=yi,!ArrayBuffer.isView(Ki)){Ri.next=15;break}Ri.t3=Ki,Ri.next=18;break;case 15:return Ri.next=17,Mr(Ht(String(Ki)));case 17:Ri.t3=Ri.sent;case 18:return Ri.t4=Ri.t3,Ri.t5=Qt,Ri.t6=(0,Ri.t2)(Ri.t4,Ri.t5),Ri.t7=(0,Ri.t1)(Ri.t6),Ri.t8=Mr,Ri.delegateYield((0,Ri.t0)(Ri.t7,Ri.t8),"t9",24);case 24:$n=!1,Ri.next=4;break;case 27:Ri.next=33;break;case 29:Ri.prev=29,Ri.t10=Ri.catch(2),Vn=!0,Er=Ri.t10;case 33:if(Ri.prev=33,Ri.prev=34,!($n&&io.return!=null)){Ri.next=38;break}return Ri.next=38,Mr(io.return());case 38:if(Ri.prev=38,!Vn){Ri.next=41;break}throw Er;case 41:return Ri.finish(38);case 42:return Ri.finish(33);case 43:case"end":return Ri.stop()}},ot,null,[[2,29,33,43],[34,,38,42]])}));return function(Ft,Qt,Ht){return Pt.apply(this,arguments)}}(),Si=function(ot,Ft,Qt,Ht,$n){var Vn=ci(ot,Ft,$n),Er=0,io,Mi=function(qi){io||(io=!0,Ht&&Ht(qi))};return new ReadableStream({pull:function(qi){return kn(mn().mark(function Ri(){var Ts,rs,po,xi,Ho;return mn().wrap(function(Yo){for(;;)switch(Yo.prev=Yo.next){case 0:return Yo.prev=0,Yo.next=3,Vn.next();case 3:if(Ts=Yo.sent,rs=Ts.done,po=Ts.value,!rs){Yo.next=10;break}return Mi(),qi.close(),Yo.abrupt("return");case 10:xi=po.byteLength,Qt&&(Ho=Er+=xi,Qt(Ho)),qi.enqueue(new Uint8Array(po)),Yo.next=19;break;case 15:throw Yo.prev=15,Yo.t0=Yo.catch(0),Mi(Yo.t0),Yo.t0;case 19:case"end":return Yo.stop()}},Ri,null,[[0,15]])}))()},cancel:function(qi){return Mi(qi),Vn.return()}},{highWaterMark:2})},Li=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",to=Li&&typeof ReadableStream=="function",Kr=Li&&(typeof TextEncoder=="function"?function(Pt){return function(ot){return Pt.encode(ot)}}(new TextEncoder):function(){var Pt=kn(mn().mark(function ot(Ft){return mn().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:return Ht.t0=Uint8Array,Ht.next=3,new Response(Ft).arrayBuffer();case 3:return Ht.t1=Ht.sent,Ht.abrupt("return",new Ht.t0(Ht.t1));case 5:case"end":return Ht.stop()}},ot)}));return function(ot){return Pt.apply(this,arguments)}}()),gs=function(ot){try{for(var Ft=arguments.length,Qt=new Array(Ft>1?Ft-1:0),Ht=1;Ht<Ft;Ht++)Qt[Ht-1]=arguments[Ht];return!!ot.apply(void 0,Qt)}catch($n){return!1}},Cs=to&&gs(function(){var Pt=!1,ot=new Request(L.origin,{body:new ReadableStream,method:"POST",get duplex(){return Pt=!0,"half"}}).headers.has("Content-Type");return Pt&&!ot}),es=64*1024,cs=to&&gs(function(){return it.isReadableStream(new Response("").body)}),To={stream:cs&&function(Pt){return Pt.body}};Li&&function(Pt){["text","arrayBuffer","blob","formData","stream"].forEach(function(ot){!To[ot]&&(To[ot]=it.isFunction(Pt[ot])?function(Ft){return Ft[ot]()}:function(Ft,Qt){throw new sn("Response type '".concat(ot,"' is not supported"),sn.ERR_NOT_SUPPORT,Qt)})})}(new Response);var Do=function(){var Pt=kn(mn().mark(function ot(Ft){return mn().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:if(Ft!=null){Ht.next=2;break}return Ht.abrupt("return",0);case 2:if(!it.isBlob(Ft)){Ht.next=4;break}return Ht.abrupt("return",Ft.size);case 4:if(!it.isSpecCompliantForm(Ft)){Ht.next=8;break}return Ht.next=7,new Request(Ft).arrayBuffer();case 7:return Ht.abrupt("return",Ht.sent.byteLength);case 8:if(!(it.isArrayBufferView(Ft)||it.isArrayBuffer(Ft))){Ht.next=10;break}return Ht.abrupt("return",Ft.byteLength);case 10:if(it.isURLSearchParams(Ft)&&(Ft=Ft+""),!it.isString(Ft)){Ht.next=15;break}return Ht.next=14,Kr(Ft);case 14:return Ht.abrupt("return",Ht.sent.byteLength);case 15:case"end":return Ht.stop()}},ot)}));return function(Ft){return Pt.apply(this,arguments)}}(),Ko=function(){var Pt=kn(mn().mark(function ot(Ft,Qt){var Ht;return mn().wrap(function(Vn){for(;;)switch(Vn.prev=Vn.next){case 0:return Ht=it.toFiniteNumber(Ft.getContentLength()),Vn.abrupt("return",Ht==null?Do(Qt):Ht);case 2:case"end":return Vn.stop()}},ot)}));return function(Ft,Qt){return Pt.apply(this,arguments)}}(),os=Li&&function(){var Pt=kn(mn().mark(function ot(Ft){var Qt,Ht,$n,Vn,Er,io,Mi,Ki,qi,Ri,Ts,rs,po,xi,Ho,ls,Yo,Hs,Ol,xa,Ca,ra,Aa,Il,Ra,Rl,Ka,ol,Wl,sl,Ia,pc,al,kl,Bc,En,fr;return mn().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:if(Qt=Tn(Ft),Ht=Qt.url,$n=Qt.method,Vn=Qt.data,Er=Qt.signal,io=Qt.cancelToken,Mi=Qt.timeout,Ki=Qt.onDownloadProgress,qi=Qt.onUploadProgress,Ri=Qt.responseType,Ts=Qt.headers,rs=Qt.withCredentials,po=rs===void 0?"same-origin":rs,xi=Qt.fetchOptions,Ri=Ri?(Ri+"").toLowerCase():"text",Ho=Er||io||Mi?ii([Er,io],Mi):[],ls=M(Ho,2),Yo=ls[0],Hs=ls[1],Ca=function(){!Ol&&setTimeout(function(){Yo&&Yo.unsubscribe()}),Ol=!0},Ot.prev=4,Ot.t0=qi&&Cs&&$n!=="get"&&$n!=="head",!Ot.t0){Ot.next=11;break}return Ot.next=9,Ko(Ts,Vn);case 9:Ot.t1=ra=Ot.sent,Ot.t0=Ot.t1!==0;case 11:if(!Ot.t0){Ot.next=15;break}Aa=new Request(Ht,{method:"POST",body:Vn,duplex:"half"}),it.isFormData(Vn)&&(Il=Aa.headers.get("content-type"))&&Ts.setContentType(Il),Aa.body&&(Ra=wt(ra,Se(Gt(qi))),Rl=M(Ra,2),Ka=Rl[0],ol=Rl[1],Vn=Si(Aa.body,es,Ka,ol,Kr));case 15:return it.isString(po)||(po=po?"include":"omit"),xa=new Request(Ht,je(je({},xi),{},{signal:Yo,method:$n.toUpperCase(),headers:Ts.normalize().toJSON(),body:Vn,duplex:"half",credentials:po})),Ot.next=19,fetch(xa);case 19:return Wl=Ot.sent,sl=cs&&(Ri==="stream"||Ri==="response"),cs&&(Ki||sl)&&(Ia={},["status","statusText","headers"].forEach(function(On){Ia[On]=Wl[On]}),pc=it.toFiniteNumber(Wl.headers.get("content-length")),al=Ki&&wt(pc,Se(Gt(Ki),!0))||[],kl=M(al,2),Bc=kl[0],En=kl[1],Wl=new Response(Si(Wl.body,es,Bc,function(){En&&En(),sl&&Ca()},Kr),Ia)),Ri=Ri||"text",Ot.next=25,To[it.findKey(To,Ri)||"text"](Wl,Ft);case 25:return fr=Ot.sent,!sl&&Ca(),Hs&&Hs(),Ot.next=30,new Promise(function(On,Yn){Gn(On,Yn,{data:fr,headers:li.from(Wl.headers),status:Wl.status,statusText:Wl.statusText,config:Ft,request:xa})});case 30:return Ot.abrupt("return",Ot.sent);case 33:if(Ot.prev=33,Ot.t2=Ot.catch(4),Ca(),!(Ot.t2&&Ot.t2.name==="TypeError"&&/fetch/i.test(Ot.t2.message))){Ot.next=38;break}throw Object.assign(new sn("Network Error",sn.ERR_NETWORK,Ft,xa),{cause:Ot.t2.cause||Ot.t2});case 38:throw sn.from(Ot.t2,Ot.t2&&Ot.t2.code,Ft,xa);case 39:case"end":return Ot.stop()}},ot,null,[[4,33]])}));return function(ot){return Pt.apply(this,arguments)}}(),_={http:_t,xhr:Xn,fetch:os};it.forEach(_,function(Pt,ot){if(Pt){try{Object.defineProperty(Pt,"name",{value:ot})}catch(Ft){}Object.defineProperty(Pt,"adapterName",{value:ot})}});var K=function(ot){return"- ".concat(ot)},he=function(ot){return it.isFunction(ot)||ot===null||ot===!1},ye={getAdapter:function(ot){ot=it.isArray(ot)?ot:[ot];for(var Ft=ot,Qt=Ft.length,Ht,$n,Vn={},Er=0;Er<Qt;Er++){Ht=ot[Er];var io=void 0;if($n=Ht,!he(Ht)&&($n=_[(io=String(Ht)).toLowerCase()],$n===void 0))throw new sn("Unknown adapter '".concat(io,"'"));if($n)break;Vn[io||"#"+Er]=$n}if(!$n){var Mi=Object.entries(Vn).map(function(qi){var Ri=M(qi,2),Ts=Ri[0],rs=Ri[1];return"adapter ".concat(Ts," ")+(rs===!1?"is not supported by the environment":"is not available in the build")}),Ki=Qt?Mi.length>1?`since :
`+Mi.map(K).join(`
`):" "+K(Mi[0]):"as no adapter specified";throw new sn("There is no suitable adapter to dispatch the request "+Ki,"ERR_NOT_SUPPORT")}return $n},adapters:_};function Ue(Pt){if(Pt.cancelToken&&Pt.cancelToken.throwIfRequested(),Pt.signal&&Pt.signal.aborted)throw new Pr(null,Pt)}function He(Pt){Ue(Pt),Pt.headers=li.from(Pt.headers),Pt.data=wi.call(Pt,Pt.transformRequest),["post","put","patch"].indexOf(Pt.method)!==-1&&Pt.headers.setContentType("application/x-www-form-urlencoded",!1);var ot=ye.getAdapter(Pt.adapter||Rt.adapter);return ot(Pt).then(function(Qt){return Ue(Pt),Qt.data=wi.call(Pt,Pt.transformResponse,Qt),Qt.headers=li.from(Qt.headers),Qt},function(Qt){return Ct(Qt)||(Ue(Pt),Qt&&Qt.response&&(Qt.response.data=wi.call(Pt,Pt.transformResponse,Qt.response),Qt.response.headers=li.from(Qt.response.headers))),Promise.reject(Qt)})}var dt="1.7.3",wn={};["object","boolean","number","function","string","symbol"].forEach(function(Pt,ot){wn[Pt]=function(Qt){return j(Qt)===Pt||"a"+(ot<1?"n ":" ")+Pt}});var gn={};wn.transitional=function(ot,Ft,Qt){function Ht($n,Vn){return"[Axios v"+dt+"] Transitional option '"+$n+"'"+Vn+(Qt?". "+Qt:"")}return function($n,Vn,Er){if(ot===!1)throw new sn(Ht(Vn," has been removed"+(Ft?" in "+Ft:"")),sn.ERR_DEPRECATED);return Ft&&!gn[Vn]&&(gn[Vn]=!0,console.warn(Ht(Vn," has been deprecated since v"+Ft+" and will be removed in the near future"))),ot?ot($n,Vn,Er):!0}};function Pn(Pt,ot,Ft){if(j(Pt)!=="object")throw new sn("options must be an object",sn.ERR_BAD_OPTION_VALUE);for(var Qt=Object.keys(Pt),Ht=Qt.length;Ht-- >0;){var $n=Qt[Ht],Vn=ot[$n];if(Vn){var Er=Pt[$n],io=Er===void 0||Vn(Er,$n,Pt);if(io!==!0)throw new sn("option "+$n+" must be "+io,sn.ERR_BAD_OPTION_VALUE);continue}if(Ft!==!0)throw new sn("Unknown option "+$n,sn.ERR_BAD_OPTION)}}var zr={assertOptions:Pn,validators:wn},Gr=zr.validators,Hr=function(){function Pt(ot){gr(this,Pt),this.defaults=ot,this.interceptors={request:new Ke,response:new Ke}}return kr(Pt,[{key:"request",value:function(){var ot=kn(mn().mark(function Qt(Ht,$n){var Vn,Er;return mn().wrap(function(Mi){for(;;)switch(Mi.prev=Mi.next){case 0:return Mi.prev=0,Mi.next=3,this._request(Ht,$n);case 3:return Mi.abrupt("return",Mi.sent);case 6:if(Mi.prev=6,Mi.t0=Mi.catch(0),Mi.t0 instanceof Error){Error.captureStackTrace?Error.captureStackTrace(Vn={}):Vn=new Error,Er=Vn.stack?Vn.stack.replace(/^.+\n/,""):"";try{Mi.t0.stack?Er&&!String(Mi.t0.stack).endsWith(Er.replace(/^.+\n.+\n/,""))&&(Mi.t0.stack+=`
`+Er):Mi.t0.stack=Er}catch(Ki){}}throw Mi.t0;case 10:case"end":return Mi.stop()}},Qt,this,[[0,6]])}));function Ft(Qt,Ht){return ot.apply(this,arguments)}return Ft}()},{key:"_request",value:function(Ft,Qt){typeof Ft=="string"?(Qt=Qt||{},Qt.url=Ft):Qt=Ft||{},Qt=et(this.defaults,Qt);var Ht=Qt,$n=Ht.transitional,Vn=Ht.paramsSerializer,Er=Ht.headers;$n!==void 0&&zr.assertOptions($n,{silentJSONParsing:Gr.transitional(Gr.boolean),forcedJSONParsing:Gr.transitional(Gr.boolean),clarifyTimeoutError:Gr.transitional(Gr.boolean)},!1),Vn!=null&&(it.isFunction(Vn)?Qt.paramsSerializer={serialize:Vn}:zr.assertOptions(Vn,{encode:Gr.function,serialize:Gr.function},!0)),Qt.method=(Qt.method||this.defaults.method||"get").toLowerCase();var io=Er&&it.merge(Er.common,Er[Qt.method]);Er&&it.forEach(["delete","get","head","post","put","patch","common"],function(Yo){delete Er[Yo]}),Qt.headers=li.concat(io,Er);var Mi=[],Ki=!0;this.interceptors.request.forEach(function(Hs){typeof Hs.runWhen=="function"&&Hs.runWhen(Qt)===!1||(Ki=Ki&&Hs.synchronous,Mi.unshift(Hs.fulfilled,Hs.rejected))});var qi=[];this.interceptors.response.forEach(function(Hs){qi.push(Hs.fulfilled,Hs.rejected)});var Ri,Ts=0,rs;if(!Ki){var po=[He.bind(this),void 0];for(po.unshift.apply(po,Mi),po.push.apply(po,qi),rs=po.length,Ri=Promise.resolve(Qt);Ts<rs;)Ri=Ri.then(po[Ts++],po[Ts++]);return Ri}rs=Mi.length;var xi=Qt;for(Ts=0;Ts<rs;){var Ho=Mi[Ts++],ls=Mi[Ts++];try{xi=Ho(xi)}catch(Yo){ls.call(this,Yo);break}}try{Ri=He.call(this,xi)}catch(Yo){return Promise.reject(Yo)}for(Ts=0,rs=qi.length;Ts<rs;)Ri=Ri.then(qi[Ts++],qi[Ts++]);return Ri}},{key:"getUri",value:function(Ft){Ft=et(this.defaults,Ft);var Qt=An(Ft.baseURL,Ft.url);return hn(Qt,Ft.params,Ft.paramsSerializer)}}]),Pt}();it.forEach(["delete","get","head","options"],function(ot){Hr.prototype[ot]=function(Ft,Qt){return this.request(et(Qt||{},{method:ot,url:Ft,data:(Qt||{}).data}))}}),it.forEach(["post","put","patch"],function(ot){function Ft(Qt){return function($n,Vn,Er){return this.request(et(Er||{},{method:ot,headers:Qt?{"Content-Type":"multipart/form-data"}:{},url:$n,data:Vn}))}}Hr.prototype[ot]=Ft(),Hr.prototype[ot+"Form"]=Ft(!0)});var bi=Hr,Vo=function(){function Pt(ot){if(gr(this,Pt),typeof ot!="function")throw new TypeError("executor must be a function.");var Ft;this.promise=new Promise(function($n){Ft=$n});var Qt=this;this.promise.then(function(Ht){if(Qt._listeners){for(var $n=Qt._listeners.length;$n-- >0;)Qt._listeners[$n](Ht);Qt._listeners=null}}),this.promise.then=function(Ht){var $n,Vn=new Promise(function(Er){Qt.subscribe(Er),$n=Er}).then(Ht);return Vn.cancel=function(){Qt.unsubscribe($n)},Vn},ot(function($n,Vn,Er){Qt.reason||(Qt.reason=new Pr($n,Vn,Er),Ft(Qt.reason))})}return kr(Pt,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(Ft){if(this.reason){Ft(this.reason);return}this._listeners?this._listeners.push(Ft):this._listeners=[Ft]}},{key:"unsubscribe",value:function(Ft){if(this._listeners){var Qt=this._listeners.indexOf(Ft);Qt!==-1&&this._listeners.splice(Qt,1)}}}],[{key:"source",value:function(){var Ft,Qt=new Pt(function($n){Ft=$n});return{token:Qt,cancel:Ft}}}]),Pt}(),Uo=Vo;function Zo(Pt){return function(Ft){return Pt.apply(null,Ft)}}function Ns(Pt){return it.isObject(Pt)&&Pt.isAxiosError===!0}var Ms={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ms).forEach(function(Pt){var ot=M(Pt,2),Ft=ot[0],Qt=ot[1];Ms[Qt]=Ft});var No=Ms;function ws(Pt){var ot=new bi(Pt),Ft=R(bi.prototype.request,ot);return it.extend(Ft,bi.prototype,ot,{allOwnKeys:!0}),it.extend(Ft,ot,null,{allOwnKeys:!0}),Ft.create=function(Ht){return ws(et(Pt,Ht))},Ft}var Hi=ws(Rt);Hi.Axios=bi,Hi.CanceledError=Pr,Hi.CancelToken=Uo,Hi.isCancel=Ct,Hi.VERSION=dt,Hi.toFormData=Kn,Hi.AxiosError=sn,Hi.Cancel=Hi.CanceledError,Hi.all=function(ot){return Promise.all(ot)},Hi.spread=Zo,Hi.isAxiosError=Ns,Hi.mergeConfig=et,Hi.AxiosHeaders=li,Hi.formToJSON=function(Pt){return ht(it.isHTMLForm(Pt)?new FormData(Pt):Pt)},Hi.getAdapter=ye.getAdapter,Hi.HttpStatusCode=No,Hi.default=Hi;var ms=Hi}}]);
